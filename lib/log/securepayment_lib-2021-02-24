2021-02-24 11:12:33,312-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 11:12:33,562-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 11:12:33,612-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 11:12:33,612-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 11:12:39,339-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 11:12:39,342-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 11:12:39,343-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 11:12:39,346-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 11:12:39,371-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:39,371-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "40907697093401"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ohPuG9bfkxDSOw6C1gc4RMtaVTvZjHWE"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:39,494-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "9d74fc65333f4d36ae80d584234eee52"
s_p: "a0dubnViaFVRenkxcVFWMFJMNWtpVDR1Y2hENWRneTJFSXMyZGxLMEF2RkJuSDJXaFpEUXF6bGI3MG9JWkduR1l3bDZWbXJXSFJpdnp5Wm15OHI0dHBMc0xRY1JTczA0Zk9XSWlmamhwdERhV3k5b09QWnZNS3YxazlseEtJNjhuYVZsOGc3ZEFlNnlOOTBmMFFaaWhCMkZmUno0Y1ZzVUtKeHFMMVRmZmFIR054WkJqbFhlVUtkUW1tMDV0T1g4eklsNXFZd2R6Y0N6bVNrZWJJSnM2RzNLVjhjRGVWYWdLc0pGZklhZjZLTnh2VTBUc1ZzQWVBZERjMnZ6SHowOEZ2Y0xiTXVSdUFrMVJCRnREQmxwbUs4enpRemdLallPRGdOdEJYaWFxNTVLd25NNFNmTzZKYlh1NmlvNnhObGZWc2lhTmxwZ2NHZWxTV0tUMml5OGtYUkxoRDJ3QzRoYlB2YTg4SjZHV2dMcmFXOFNWeVp3Rjl6VXFWdjNmeGhLM3Z2UjRVY1VkZzAyYnpMSTFiQVN5YTVMSDlRQXYwZGpiV1lJWjg2NFlEaURENW1sSGJ4RkU3aWJTdGpHMUF1NkN1andKR1RSeDZmZk80Q2M5cmR0cVBxUmhWbnN4SW1YdDQzRlF4Z2NBSElwQkZTYWdpaWdPMlRyM01jWlJWUzRVZlNHMFRndkFNVWVaTUJ2dHZzT2RWNHcwcTNCS1I0eHRUV01JNXVCQ3duMVRWV2JVU0Y3ZTJCaWVsb0wxTWdhVFRiWTNxdWN3emFqelRxOVZ0ZE9Kb0FiODlQdzdDUjVYSWpiZGNSM2VtTXFoVkZsYTA4SEdnYW9iQ0lVZ3F2bHhqSTRRc3h5UkRyOW1WY2xhYkVsZUdjOWhqdk1xb29HOXN1UFl0TmV4c1BmUlFsUG9oTEZDN2JWQVBVZ09ZWFdqNVpyWEVyeWd5eTJsdDFMSWoxRHF5ZXgxQ1JlNVRYVm82dzE5V3lHcjdZRm81MGprSGhXb0t5OG9BNDhmdVNMUHNIV2Q3UW1yWnRDZVZCeGl6Sk9UOUlWYmJ2d2FlbUw="
m_p: "N4uU65Gz5Yjoq42WB40sK9L2j72Iq1d767KcctoHSEuJ8hmmGu2Bq1z67kyFqdsR"
e_t: "1614244362077"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:39,498-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:39,498-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "9d74fc65333f4d36ae80d584234eee52"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "y8r4tpLs"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "6.7"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "ZtL79UQhunlOaEgDB8Mimwc3HF4oVRCp"
}
sign: "0qGppAsVVJY5F658OnR+KtcIqcyWz8UskPOJdIlLiZ2AERDktW8IzBRNTqDNcrDhdgAtIKR3+yvlv648x//8+BcBV29mmlKVUhhpOTE//T9IDnCGzE6RC4szP4WvWCeNV1wYaEp1/HdevqWJj3exkzgIr1xNX8YONtAwMt6ZlghbVKvqfKeFofGX+UUSTto90zTp3KXd5Mt95l8wu3ROvowBSQpQNak9O7mDDPuD7k+Y0y8iMPFwGfAp1DPCUi/IV2HUompmE2tGle7BgZx7H4kIja7ebU8NwGJ6Y2rLEgYZ+oleXQeXUVhvbM8quJg0m5WMLraoWlVJaFrRf2+gTA=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:12:39,868-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"798e5c9d3ed54899bf8754f59291d611\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24111242406824544d455357b3151d0000\",\"sign\":\"A88EBE866EDE2F480BEE8DA70E7DB50E\",\"timestamp\":\"1614136362\"}"
}
payrequestid: "RM202102241112422076075925461122"
model: ""

2021-02-24 11:12:40,886-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8489261635474447090583899361]]></transaction_id>
<nonce_str><![CDATA[wz8k1JB5SAsQ6Hq7VDMIgNnijd3EWpcY]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[00509DD16021A765A1C773A7C8199D75]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241112422076075925461122]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>670</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224111240]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:12:42,359-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:12:42,360-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:12:42,367-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:42,367-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "04721799207182"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "kqXyEWl6hSMAL10C879ntrdz3G4uHmwg"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:42,449-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "97491587d4c145189051db524e052741"
s_p: "VVdFZ21aMGVFTUVHTExOTm5nS1pOY09oQkVSN0VBVGhqV2I5WXBSWFJvNmVlSmdnUXljZVh4Zzh0b3NFNW16RFE0b3duVmZlTlIyNkw3bFAxN1NlUjNkdVVyWU9ES3VhT1F0dlVoRTlyaDc1YkMxMmI2aE9FOExNcWU3N3dFcmFqejdva0pZTnZYSHRhb1NUUnlLcnBkd1NieEh6UXBvZzRFWUh0d2hYMTR1MGJqdGx4blE1TUtlN0FqblFzS1psd2pVUUhZUjZBblhTQmdKU3hOUDVDbmR6WGhsR3J2MExaUjBrWHZLTmxVSjZxOTBMc0E5enAxbGluZnBZNzZCWmJsRHBIaXFvT1A3UTJXSXRQN2Z4Wjh5WWhpT0dLblNQQkFVOW9KZld1bzVMRHFyUnRVWjFQUTZYdlg1d09lVnZyVnUwWUxSb2k2U0VBNnJlVzd5dEYydDJXUldZSzRVcWU2QzZ4T2lsRXhYNFBUT0NHcGZwT0tMUHFLRHF6eXBoNVBCeXVFZEV5VGJnS3MwR2sza29LaVBsUkZqWk5hZXFHRnhRRVJNSGZOWVExV1lERThYNmZ3M0JSRkNwN0Q1aU9EZDZKakVWSThjWEs2TjdEVmhEMTlJc1lHc3NIdzIySElCb1gzeng1N2F0eEZKNW1Hb2lVMlUxQVY0S1RTRmxTREE0WnE4c0w0eFlwclBoTm5DbTdzZ0szcjhOTXJYbU9hSzFab2RSNEk4ck1vMjhCUHhaRHJhNEpZNXZnZllZNUxRVjNqbEtoZU9xU3FVY3lVdFdwZXlpMnBOWnljajdoWGt1eUxaVU5FV1NzbkNGcGVESHp1QUNQaGZUdTluZ0hLcE81S0Zic1puQ1JFeU81QkxHRVBGMW9PeEZrQTIwbTJicnVoMzFEV0xqRFBDaDgyZlNIYmlqTVhTUmRYSmUwTGJNVFNMcTA0aW02OENqWU04eEQ4a2RXbjk5Y054UElvdTVmTzU0NUw5VENZR2FhT2pqVnljdGczNTZQa3c1VllEVTRmVUVOd01QVzNFVXA2cms4WW83SUxsYW9JTTU="
m_p: "322A8A8BReLr8xC2fL4M6y05AuI2OjgS3X6QyKC160o5XSfy922td3oMr8AtqcE1"
e_t: "1614244364992"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:42,454-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:42,454-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "97491587d4c145189051db524e052741"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "UWEgmZ0e"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241112422076075925461122"
version: "260"
queryType: "direct"

2021-02-24 11:12:42,596-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "6.70"

2021-02-24 11:12:42,597-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112422076075925461122"
2021-02-24 11:12:42,601-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15060, 'pay_req_id': 'RM202102241112422076075925461122', 'notify_id': '8489261635474447090583899361', 'partner_order': 'ZtL79UQhunlOaEgDB8Mimwc3HF4oVRCp', 'amount': 670, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 670, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 44), 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 40), 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 40), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:12:42,602-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:12:42,602-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112422076075925461122"
2021-02-24 11:12:42,606-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7746, 'pay_req_id': 'RM202102241112422076075925461122', 'partner_order': 'ZtL79UQhunlOaEgDB8Mimwc3HF4oVRCp', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 670, 'amount': 670, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 42), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 44)}
2021-02-24 11:12:42,606-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:12:42,607-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "ZtL79UQhunlOaEgDB8Mimwc3HF4oVRCp"
2021-02-24 11:12:42,611-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148804, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '1f51248731b242fcbb00d5f2109fb4e9', 'request_id': 'ZtL79UQhunlOaEgDB8Mimwc3HF4oVRCp', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"ZtL79UQhunlOaEgDB8Mimwc3HF4oVRCp\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241112422076075925461122\\",\\"sign\\":\\"JyuV1KKOS4qJx+lOLCo6zhcglnvAvDNu6OVd6EpmHs7XGvpOKmS1vkPMt9RtNps64c787QRsHQJoY4YOHQtbQSvF2Rw+pN1FT6IZ1+frHSzOXzSQf/JOh2Wt6Y9gMGyqePNSHIgIVs+a4Vi3D1yBaQq5bGUqC6JaInz7wXYUl5U=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614136364919\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"670\\",\\"notifyId\\":\\"IM20210224111244518\\",\\"orders\\":\\"DIRECT_PAY6.702031ZtL79UQhunlOaEgDB8Mimwc3HF4oVRCp\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 11:12:40\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"ZtL79UQhunlOaEgDB8Mimwc3HF4oVRCp","signType":"MD5","successResult":"OK","timeStamp":1614136364920,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 45), 'insert_time': datetime.datetime(2021, 2, 24, 11, 12, 45), 'update_time': datetime.datetime(2021, 2, 24, 11, 12, 45), 'extra_json': None, 'remark': None}
2021-02-24 11:12:42,611-INFO-lib.common_biz.fiz_assert-118-通知成功
2021-02-24 11:12:42,618-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:42,618-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "24700735462665"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "OWEhmxYGuBXkQCdlSH9j20RFTIgNn5vp"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:42,657-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "16d1cfae5f88466484a3ac43beb37716"
s_p: "M2w3NWhueGpUdVpvaGtvUXozSWM3bmpEenJLNTFTRnFWNmJycGU2Q0QxQTk2VGw4S2g2c0tJNHlNMUNGY2kwZ2Q0cUtuR0JrWWpGSHVWME1SQWt1dDU0eEJqSXBpTFdrUDlLazU5VGMxWGtQTHFIb3hub29UR1JGQ3JKTDJnTXB4alppdWJUd1VhWWM4dEJ3bW1xQnNOdTdyR1A0WmhJQ2ptaW1WRDVSRjZDbUlTTk55bk56TXhPVUVrZ2U0SnR3ZnZwMWtab0xJMzZPYXN0bjZJNmdrMWJ2ZnNmcUlla1UwYzVGSU9oWmRoeEhSTVlMbXFQaGhUMHhZeW9VZGNkTndqdU9pM3FoemY0bFpRWlYwMk9jSjBJdjFTbmhFQ1pJVWFHT2pDZzZtSW90aGplR0txdHlrcGQwbFYzTGEzN0V0R1A5NEdDMnNhUGQ3YlFDaU9XWFNNYXhTdmFqTm9ocWVjWmhUaUZDVFVoTkhDUVU2NXlGU0xJRldGV0t1bHVSa0lpcW4wbDh4MnM5SVZ0VDB1THVwZEh4REtONElrN2g1cEFDa2FZVFF1ODV6cERJOTlia2paSzV3UkdDQUlqSFViVUY4VmZ3Y2RJbUMyVmtQYUxEWXp1Z2p6dGQ1bUJ6SFcxblJ3RHdldk5zSXhnUVdUQktNUVZpR2ZncDhUSGNvWFgySGQxUzhqVFlFM0k5NDdNM0VaTUlkbnFLTVRyb0tpSU83T0UxQ1FvM2gwVVlUWm1oM08wd3VyTlJSODQybjJ4ZnRJd1lSWkVsNFZaWThCWGdicmszODlzTGl2djkwSVZlZWs2emk3NU5JcVh5YnBwWXcxVjJoVno4bzY1a1lrVXpKYmJSZEpBOTlEaEZPOENhQlo1c09SZ3E2V3JSN1VaaHBCbFlwclRqZWtpNUpKVFdrdjRpUlQzM2hTakd0bXp1Rk9yUGtYcWxrRldOcU1sdDk2WnB1a3dTQmVYaU5YTlBuRFFneFZRZWlTRWJHSks0M05KZXhTQTdGbEFTUGxmQ0lGQThJbjd5bjBoUXBTd0pxazdpZFRRUjA5WHk="
m_p: "v10862Er8pL0e1C0f71heuwL8Y2wh0lMeV749d7458vCyh6Z59K9o5Iw24WQ0098"
e_t: "1614244365241"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:42,659-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:42,660-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "16d1cfae5f88466484a3ac43beb37716"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "UaYc8tBw"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "6.7"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "7StaQ6fdlPcLKZITWYo1r9vBDAO8JpCm"
}
sign: "MAdAbRJik4yyaLrE9pf+K7+nV7zNrmIDVW1a2YZwohXuhlZX3mPZ2HF4vyBPiiFaZp00ME/ytD4XA3NaegL9gERc9lHpe/pG7osTeYHWnIh5bJXFAyqDee7h/YS3nKCiOgt1PF/I6BdNb9Yuv3BU3v/Fao/1A9hwDL6oYghmlJ2skV63QcOP+AbU4A7zLqk18WpyHsAh+GD0FcSQD3xPFPxqF4BmrTxBfSx72Gr1htDiYP04lwFEuLFCdldr6CiljBUw6XRDpgQ9x87sbsWhSEX/INXMI8Xr4R0XNz0eWfOuM5/efYIaCq/rCRu09n0ARM2ujc/Y/U7NXGGNCisEWg=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:12:43,014-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"b7ec0904423c43aa913bb91a43e157fe\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24111245545787e33146f21fa79ea60000\",\"sign\":\"1AC62A4B15DC3C7A95E957B40E36D083\",\"timestamp\":\"1614136365\"}"
}
payrequestid: "RM202102241112452076075925044572"
model: ""

2021-02-24 11:12:44,015-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[3285318934889132298132447554]]></transaction_id>
<nonce_str><![CDATA[Z0fdg1zuErCQIRlYLPT45Dc8BoGwjyJ6]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[882C9D20B69CF93AFBF191D8AC109B28]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241112452076075925044572]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>670</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224111244]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:12:44,155-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:12:44,155-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:12:44,163-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:44,163-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "84654064153104"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "WEkURouf1ZhbgH90cLljJr4O2KN7vsnt"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:44,242-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c30cd3510bab4c9bb195efadb7337807"
s_p: "MFVRSTZkN2FYTk1zUjF0M2tDNnVqUVppZmh2MzJXV1BhcWdaUGNEWGhsU3E1OTRGMUszbWRObW13ckNkSmdIY0lTb3pWZjBCTUhxaVBSYU52Z2owMzdhYmhqcnhqOVc1UXRsdUM5RTc2WnJ3NUdMWUFud2FPREZneDF4cXR4N1QxSUtZUFlsSU9VWmE1Y0ppUVY1Q3lyQlJJSXJ2aUFZcTZBSFFZUWk1OVc2dG05VU1FZFIzdDVmZjluOVVNNFlaWmN1ZVBaSnd6NHB0OE1nYlU0RkZZaEQzV24yaXhrUnFWYTZZTTVEWTY5OE8wSFFJUlVpd1plVVN1OEtKdUxPQ0NTd21jWDRJY1lCQ2ZjWnFHZzdLUXBVb3MzUWxNZWo1TlQ5czZjSjNIdzFwWk90SjdqZGZxTEVrdTdDNkJYUXpGZHJWNHkyb0JqVnBrbHhTVk4xcWFNaUMwZ2gzbFNrYklDWmQ1YnZMYlJTcWFyMTg4VElwNkRFa2JKcDBFM2hkeUEwb2ZubXp4OUx6V2R0NEJDWGdLZElhT2I3b0RuS0k4SU5pS3lTa2lra3FteGtKWjlueGFpa2plemJ1cDcwQUpIMnBiblFtejdzSEVIME5Xd3YzTE1NN2g3c25jVTN6dnFRUzFrZjVtMXRUWG0wdDhzaTZpS1VWcEJuRzRHRUsxMUR2ZW1VOWFFb2JzVzhBZXVrbERKMDFIM1JieVp3SFFKUUVpM1B4TzM1M292d2pGOGtKRVoyQlMwNXBmM05wdTFxOWNOcTd5cnJHT05TMW50RTBZSU93eXVTME5zQll0ZmZpWW5OdUlzZ0VlMXcwQklMSVo2R0VkMUowQ3ppSG9JOUg0VEYzZGR2Qmt2R2ZmZFhzYlpERURvSEw2bW0zb241Z25Gam9NRjJlY3Z3SkV0Wm1nUnBtU2tQZUFqYWt2RUIwMlRwYzNPeTFzQ205RnZRS0VlWlBNS2Z2Qm5wUHcyUlpWWE1acWJzQ0Y0VGdhaHo2ZjdKdzRlNEdoN3BWeFVDM09HS0hHbnhITmg1aGl3OThXZWlKS1YwcHliMXo="
m_p: "0x3iRDjM5v77517TN6AJ87S2QSaGQN8yv7A95J2wFK2541cpCxZp3EGtVLVSd5vU"
e_t: "1614244366789"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:44,244-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:44,244-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "c30cd3510bab4c9bb195efadb7337807"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "HcISozVf"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241112452076075925044572"
version: "260"
queryType: "direct"

2021-02-24 11:12:44,304-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "6.70"

2021-02-24 11:12:44,305-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112452076075925044572"
2021-02-24 11:12:44,309-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15061, 'pay_req_id': 'RM202102241112452076075925044572', 'notify_id': '3285318934889132298132447554', 'partner_order': '7StaQ6fdlPcLKZITWYo1r9vBDAO8JpCm', 'amount': 670, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 670, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 46), 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 44), 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 44), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:12:44,309-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:12:44,310-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112452076075925044572"
2021-02-24 11:12:44,314-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7747, 'pay_req_id': 'RM202102241112452076075925044572', 'partner_order': '7StaQ6fdlPcLKZITWYo1r9vBDAO8JpCm', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 670, 'amount': 670, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 45), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 46)}
2021-02-24 11:12:44,314-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:12:44,315-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "7StaQ6fdlPcLKZITWYo1r9vBDAO8JpCm"
2021-02-24 11:12:44,319-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148805, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '3215736130704a549d1459a6a3b1b9a7', 'request_id': '7StaQ6fdlPcLKZITWYo1r9vBDAO8JpCm', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"7StaQ6fdlPcLKZITWYo1r9vBDAO8JpCm\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241112452076075925044572\\",\\"sign\\":\\"I82S2zUWP/T7tQMBvaJznx4rMvSc0eeZR/0kLqVOwpps9GYDZKX7jO2VsPFELpJ7MBn2ML5JMT/R7A6lgWpXEMTsXcGKD5Od/P8UVkzFjEFtHzAG/l/I2kRbDu8JemH/PHvwxoiaf3STNYOpbJn7bqsQKETGFDmumwNc2tecq+I=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614136366715\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"670\\",\\"notifyId\\":\\"IM20210224111246439\\",\\"orders\\":\\"DIRECT_PAY6.7020317StaQ6fdlPcLKZITWYo1r9vBDAO8JpCm\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 11:12:44\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"7StaQ6fdlPcLKZITWYo1r9vBDAO8JpCm","signType":"MD5","successResult":"OK","timeStamp":1614136366716,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 47), 'insert_time': datetime.datetime(2021, 2, 24, 11, 12, 47), 'update_time': datetime.datetime(2021, 2, 24, 11, 12, 47), 'extra_json': None, 'remark': None}
2021-02-24 11:12:44,319-INFO-lib.common_biz.fiz_assert-118-通知成功
2021-02-24 11:12:44,328-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:44,328-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "95105604076510"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Ts9fSJazvpbL7DO2I0luNwxe8YRrMgEG"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:44,370-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "216a6e26b718408bbeb286127bf8abfb"
s_p: "U21ReW5USFZEUW14cTJJNUJoNndZc3o2YnBDR29ZS2dSRHMxMzdhcURsNjlqZVhiZkx0eDY0MkM4bmRSelFVR080RjJFMmZvdlNseTZRM0ljcDVpbE9wUThLbEhaY1lmazFDeTZmWkJkemJTOTFuQktFdW1CVmtJWXlhUHhUVnFWdzF0ZUZyWHJTYU1Eb25hbjVlVUQyc3dhcGdtdmlDYjRIczhoTzIyQ1Btc3hYT3BVUVZGWXczV2dKUmRlNktBRlB0WXZCREtIc2gwRkZ5cXFZaFI3ZXdzMm5wa0FMQ1RxMEN0WkZxT0lLTVhwSEJWOUtmTGswODl2WDVhU3lBVXVwMjJ2VUJ1UHVQZjg5RVhaUzRFeFNzbGV5Rk9oMDdPWWdQcEhQMTByTTVqdnFiQ2VJdzcxZHRZbjBneUtGdmhPQmVTaFpyZUx3bFB3Y1FZRjZPUmI2NkxMSnJsTVl4WndmRll2Y001ZmszY3NNa1oxa1BZVlVrVldVYWw3S3hxZjBlNEpWNGp4R28xb3VPSE9WOXhoa1dVY3ppbURSZWJCV2l1OHRjenpodjhHMENucWdsRkg2SkRFRU9IbWdrdzVOcnFEYkh1T011SzhXdVRBZlJacnB1eTY3aUI3a1NoM0dHZ1h4MEFSRWxZN2xkY25FZ0NCbGl6WmNHYUN6Mmc5djBaT2tQajZ1eUI2dU5MZHpzdXV2dWxwb1lZQ0VOUktpTFltRmE0THIxbXZDUXB3R0E2cFFoU1lRODN1UWk5dktZdkRjZVpZMGM2TUJQWXlpb0ZHSVRnemc2RUt4UWhVSmcwb0Y4Nm1YMUtLOWFqR3ZjUXZmWkJodTJjTW95NTNyclhRaG4zdU5BOG94bThWNWFHS0hmbmlzcmpmRVR5blI5cE1tZ2tVYlJ2QlY3bVRob2JyODBPb0NNUDBTRVdJaFZseWlZTjVMbFFEamlhOEUwNkVzQ0s0NVBNclZLWTlqZXZNaEVWTHA5ZHNYUnF6dHNtRW5tcTA4dE5GbEdPaWtjWnEzV3N3cFJ0SEJGZktDdklzTDdRTmNuUk1TUUo="
m_p: "13324w16rZ4U8f27Sx39506h3tjyR16Ni1koyu81iLWQ4P0Pzo3yv88eW9jAM6FD"
e_t: "1614244366952"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:44,372-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:44,372-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "216a6e26b718408bbeb286127bf8abfb"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "F2E2fovS"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "6.7"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "4qhHIiFNGL6keVfszRuQcgjOSW5DbaTo"
}
sign: "x1Qify3ZHyMTQmLsVWtKWulZnVpP0dE0MHdrtmp3LlFoRI8JfhzZeKb4YEFUlW4B35BKIze7ih86kZr3rCWrAPHYeVsxP3nqDdM9NKxfj/uFpimpbK3uaJ55VCe6KdA7usgVaeEAnSdH0JVtoOOfyVuQI7NzVmXjjp3nCnd2CWdL2qwUnZ8D2qj2SWoQilucD29sRIjJLg1dJ4ILHT0PCt4n5+MVpMIDrregAkvW8JstjK1SXn9QtFpZoJxnWYnLCujM/lvMI/PcoyvG9uzA00FPHhIvWcHpqzXI8gYkuTvF1LqUsPZqU/1vqpxGkrxYcHQLLTxWvvDwkKyz185n8w=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:12:44,661-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"d23d48a6ff8c4054abffe69ac5040aba\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24111247187584758e5f8d6f7435070000\",\"sign\":\"3DE87CAB68066E4F44C93413F2C93215\",\"timestamp\":\"1614136367\"}"
}
payrequestid: "RM202102241112472076075925855212"
model: ""

2021-02-24 11:12:45,661-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8829531358318110955400216929]]></transaction_id>
<nonce_str><![CDATA[ackvAHbe4dPR1Yp2CsFDUjoJN7iOBV85]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[D8214271E5D83DF675643CF4495BF54A]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241112472076075925855212]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>670</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224111245]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:12:45,776-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:12:45,776-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:12:45,784-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:45,784-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "36370802904798"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "FZb18qBHA7tugp3GJlnj2D0eUKTsCwmk"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:45,858-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "113783c4e62c49cdb7ec7b31ce690817"
s_p: "YWJvemRzNXJtdlZlcGhOT2Y5OEU3bFBLQWZvMWk2VlQyYVFvYTNzY0R4dndFZ3Vtam5uSUx1eEJpUEg5UVVrOXFXazNlTVU4SVpjOVlVT1JSZUluSEZydXdmVUtsdWVjQ2RaTE9xT0ZyS251WUVnc2hSdkk4WlZHdjVreXNVbGdzb1lSR0QySmN2SFhuN3JKazlrSnZZOVVsZ1BscTBPN3RSQmk3QlV3Unllbjl3UHd6M3NlN0NNbzRnNXY4ODk4bXRZb2ZJWkJvVFg5RGNJWTJyV2pmZjg4c1pSRUt2cUgxZFFHNnlHQk5ETFJZbjc3SUk2VDg3bmtEb2tLcVhLWUphS0h6UlRkSzJNUTl3Qzl3SkhLdmpDSXN6VVBKZFdaUjZtMXl0NkJ4UzhuRWphNTRqc0dXUG1sb0RSOUlDZUtaUXNmVkZTNkFmZXdKdVZWUHBycUxnWGxSeXF5ZXRBU2dzRDZkeER2Qkk5RzF0VnpkTXVoUkZWVGU1S0FyelVrOGdLSUZiUHM1N1I0WnZaSjQ0TU1RVFRiRVRlM1FBekNKRXRRVXloSmdydHVNV2g2UlVpMGhoMFJSNDJLcExhWWxEOWZIUWVnTng3Ykx6OGt1TG9QanoxOG92dzJuMkQ0aGxUN3ZxbzlNUWVlb0J2MVM3b1ZjcVp4SEc4eEtMZ1duNjNIZkN0SGlXMUhYQldZSlFoSnA0dnY4dDRzVldnWnd4WktCTzZXdGFNcEx3TjFCMWkzcXl4N3RrT3JMRW94T2hXb0t3M0ozWTVCRHM2dVlFSUxjNDEybXBMek5CU3U2RW5LQXpPTXVrVDB5Y1kyb0F0MXNUTFJxWmJmOGprZEU4RlhncHFOdjV6WGM4ZVpVYTNDQnU3WDk0bGUxQ21VeGhFU2lIV2hkOFRZQ3dLcHF0aFZjaHJiQjlzYXgwTjJiOGFyWktTY0RIU2QwVmFudFI0TGttQmhHN3FHTFVLWmdJOG5wZmVPT2RvbndKMmJKeHJpd1ZNQnJyWFZhY3BqY0pzTFBZSjdzeGNKOWRwdjhZaWRxUWlMU2lHampocVU="
m_p: "86DO4g831qwGv6z47af4P55mq2i686p4F34TH0t0E0r5Z426USw15pXbwHGW917S"
e_t: "1614244368409"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:45,866-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:45,866-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "113783c4e62c49cdb7ec7b31ce690817"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "InHFruwf"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241112472076075925855212"
version: "260"
queryType: "direct"

2021-02-24 11:12:45,917-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "6.70"

2021-02-24 11:12:45,918-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112472076075925855212"
2021-02-24 11:12:45,923-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15062, 'pay_req_id': 'RM202102241112472076075925855212', 'notify_id': '8829531358318110955400216929', 'partner_order': '4qhHIiFNGL6keVfszRuQcgjOSW5DbaTo', 'amount': 670, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 670, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 48), 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 45), 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 45), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:12:45,923-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:12:45,924-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112472076075925855212"
2021-02-24 11:12:45,929-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7748, 'pay_req_id': 'RM202102241112472076075925855212', 'partner_order': '4qhHIiFNGL6keVfszRuQcgjOSW5DbaTo', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 670, 'amount': 670, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 47), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 48)}
2021-02-24 11:12:45,929-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:12:45,930-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "4qhHIiFNGL6keVfszRuQcgjOSW5DbaTo"
2021-02-24 11:12:45,934-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148806, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': 'b762edf208964652b212efb099745b5e', 'request_id': '4qhHIiFNGL6keVfszRuQcgjOSW5DbaTo', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"4qhHIiFNGL6keVfszRuQcgjOSW5DbaTo\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241112472076075925855212\\",\\"sign\\":\\"L5lA/Bs5OFiPTEMk/8CbnwoHwqWo5YVsiAWiGCMnoMYj6ABbe/jLm9fzYZtz3+AR9SaygvWunz9wZCOZyT4JPRDQJmnuCNbQ+OjgY3nkuhtKqRoNCHX74ddCtAPWIuPQiewxeNLGxys+F1ExycVwU+B1paCwoM/vavfmLmWcLtA=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614136368345\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"670\\",\\"notifyId\\":\\"IM20210224111248230\\",\\"orders\\":\\"DIRECT_PAY6.7020314qhHIiFNGL6keVfszRuQcgjOSW5DbaTo\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 11:12:45\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"4qhHIiFNGL6keVfszRuQcgjOSW5DbaTo","signType":"MD5","successResult":"OK","timeStamp":1614136368346,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 48), 'insert_time': datetime.datetime(2021, 2, 24, 11, 12, 48), 'update_time': datetime.datetime(2021, 2, 24, 11, 12, 48), 'extra_json': None, 'remark': None}
2021-02-24 11:12:45,935-INFO-lib.common_biz.fiz_assert-118-通知成功
2021-02-24 11:12:45,944-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:45,944-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "09935127391343"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "62wKGzJ51esVOrUBtN0icjE9ZXqp8CSa"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:45,993-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ea230871c7c44e0cb7bacfbdf4ab4e76"
s_p: "dGV0TmFBb3Q2dEZyVVFnVlVtOW9iQkxmbXg2NUtSV3cxZzVuWVFUYTI4aVk3ZFZ3SDVubXAwUEdRZTFydExkTjRXYkpyU3planZCVFRLcXRVNE16cGVObDhwc2hXaUt1Wkt6Zk1nYWZseE5oVmRrSW5zR3JhUEhvU08xc3dHRUZycVZRcjh5ZnRUTE15VWU1STNLWTV2U1ZUNmFiTGFncWNtcGxCSTZDZllQRDNmWUVMV3hsRkNpYXRHNldMNElEQTNpREFRVTJLbmRkQjhXTUUyM3FqWVhjMjlVNUJzbWdrbGtzcDhWbzBVT3U5aEJFVDN5ZG02S25pS1owQnAxeEhUcVhzRmNRTDZGZkNtWlNNb3RsTWFxTlNwUTAxWnJuRDZKVGRYU1Awc1FsZjRtOTNCRHRJZUJqUVQ3ek1HUHJPdjFFVjZ1MTNXMEFjMTE0VHZlRU9hcG5scFVkN3dmME90TVJzVlRtbHJxeDZsMGlTVUREdktYRlZjamRyWkhUYXVwSmlUcGZMaHE1YndidkZpeGdQempxSFBwdUg1b3JzVFRkbnlPd0ZKRldpRGFOd09hcWxub0dCQ2xuWUFwUHJKMkQ1N2tCd1B6VmoweDhnZUtDSkd3ZG5pT1hadENXaG5abHhlQnc5TEEzcDIwUnBpUU1nMEY2cFRNSXg4Ykx2c2RLeFpKZ0VZV3UxdVFzT2R0Q1lQc2h0ZkJkRGJaRWRhRWlWbjJKUndIbHdyOXQ2YXZ2UXVUUXRDZVE3WjJIaDBTOVFDNTFBYkxmdFl4cEg5ZkZ6YkxUWnFPd0F4ck5mMVdqWjdxempnVFFKUEIwOTAwWW9ZWHRyQUdZUTl3SVJzNU9sZEJ4REFRWloxVHNzbzYyc0QyU0o2b2dJT3o3TEVKbWNMTExmaHNYbThuV0tsUjFtQ2JpNkhla3FZQmMxSjNMYmtDaUozUGRwQUY0cEFJdjNWaEFoNDFLajJMRFpndzZ2NjJzRzV4clRJUFMza0NpODlhbXlqWW1ZeVIySlFnQ1ZFVXBOaktTZFVEbGlUemFlOGNxZ3g5aDJMcEQ="
m_p: "6wxnI7TrE5J78NrAPRZ1w42A84Du6U7T679UzOve37fs5pDYQ7a6BJ3wK50wweKa"
e_t: "1614244368573"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:45,994-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:45,994-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "ea230871c7c44e0cb7bacfbdf4ab4e76"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "nsGraPHo"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "6.7"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "An9kBcKGZSLEetT7wWafRlyNdprOMUPX"
}
sign: "52lrVlTmVrju7QkOb1nGYB5vjLrPhjXPcj0/KT786dbTHJgteMlAj49j+LcpBSDz0XT4HFWqpJKg/a+gd0YIv63ioHSqUs7RV1AknLVijtFwHPEAlCkZ6EHH2OQYLjiRVu3U8Z7hLVdln0LKCgufzpxOPPLE0xoH9t4tC1e2Esd2x+Q6ArK3xGX30XZE6teqfqIs0zKFg/bkGFTOgpqFVlRnz4djwzheM3SFw7K/S7yG8eQIxsJTyL3XfTAu6px8myfGiIHIK84jBkvlwvc5aqjnm32AcvHzjN2g0oJi2fAEBQipbaTjcpVuxdXekbS4nmJJXit8CBEyIwxi0WxjUg=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:12:46,269-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"ad8d650d9d6a42ba9e70c47b626e8673\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241112488009833333c9680918ab5a0000\",\"sign\":\"E61FE180ACC109F1F8F457F90F12389A\",\"timestamp\":\"1614136368\"}"
}
payrequestid: "RM202102241112482076075925653522"
model: ""

2021-02-24 11:12:47,269-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[3945771326231568487191230991]]></transaction_id>
<nonce_str><![CDATA[VybzAHQjgX9wMskBOtfC4JPTu2aoDScI]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[06C5C9A5C0BB25E481EA8A7B5EB95343]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241112482076075925653522]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>670</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224111247]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:12:47,382-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:12:47,382-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:12:47,389-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:47,389-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "25631322415855"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "9JWbtamL4OpdZvqSj8f5Ir6UYQn0TlBK"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:47,459-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "9577404872f549c1988bf78f5c36614d"
s_p: "QjJtZjN2d3RhUHJGenZERmJYSDdWN3oxYW4xYnc3ajFoSjhibkFiUERoZEFVcmkycXJrN1JPcUxNMDB2UkV4Z0JzM3l3RzdsTGJXNVhqUVVUc3NFZ1lHSnNBWVNWbVZWMlo5T0s2SFByaHZVYUwwdkQxVEk0dDJVVFMyRnR1T3ZhdlVGRlc2SUNVenRjYVdXTHZZRkxRbFMxRHlvTkdYM1NHWFBaVHdWWDZNM0lsYnhjSGxnOWY4V2kwQ2pTU3RWWEhlUFlYSThVS1dEa1NDWmdPZ2VaYUtQZ0RVU3lHQWhRQ2QwdnRuYzJwVERjSjg3eXRyNWw4THRrZWptWlF0SUpTWXdadzB2YTRUN21vNlJNR01iNXgwS0xNbHdOQ3FPNjJienFtTU95RXRXUTFHaUp3Z2thZXlSVWRsS3lzQjJCeEp5UXBETlplSEFGeFhucTkzekdCVVR0R2dPVlVnNTlZc3ZCaENyT3A1cGZwTHkxc0V2MldOaWhCc2Rob1AzaWNFbzFZZUwxWUxtY0pvWGdIU0tPQlpYVlBKQU9oWFJnU3RUYkU0eDdZbWtoczdKQjlHU091ZEJWV08xYjJValE1NVF5ckhnOTZlcnNqckZFS2R5djJLS092UndQRkJPN2lQWGJweG16ZmdWejBnM0F1SG9YTjFRSHRpZGxWOWk0YjVQVzA3cjJBN0Q1SUo5T1VUQThzZjhLRlJKMzAxY1I1ZUl2SmhHak0wQ1kxVG9udzlzeW5SeGdlV3h2N3hsYmdoQzRMRnlTSEtTZ2FobFQ0OTBwQ1Bqb2w2WFJ3b1ZmRGpwUXFCcUtjTnZvWmFJNVI2TVdEZ1JNRk5EdWExRkR1NzBNN0xFY3g0UzhCRk9VMEtxcTVoOURmc3d6WmpENHdmU25tYUFpSDNiT2NFMmluTWVrQXZoSzZHZXBaNUZaMWU5VGlBUnBFQzRzRXFVaTM0NjBCWFRhalFacUlVZVRmSXFlOUlJMDNWR0pQZWU3V2tjTWhobG5IRk9scXlKd1oyZHlrUkdWZnRMeTlESHFiQWlpY3E3b1poQzMxYUQ="
m_p: "6P028Le104bkK76sh0PzNhA9Q6h719qdoA50c87TLLq0RdJ1F4UEKantuzR7BRMx"
e_t: "1614244370012"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:47,461-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:47,461-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "9577404872f549c1988bf78f5c36614d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "qrk7ROqL"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241112482076075925653522"
version: "260"
queryType: "direct"

2021-02-24 11:12:47,506-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "6.70"

2021-02-24 11:12:47,507-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112482076075925653522"
2021-02-24 11:12:47,511-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15063, 'pay_req_id': 'RM202102241112482076075925653522', 'notify_id': '3945771326231568487191230991', 'partner_order': 'An9kBcKGZSLEetT7wWafRlyNdprOMUPX', 'amount': 670, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 670, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 49), 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 47), 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 47), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:12:47,511-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:12:47,512-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112482076075925653522"
2021-02-24 11:12:47,517-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7749, 'pay_req_id': 'RM202102241112482076075925653522', 'partner_order': 'An9kBcKGZSLEetT7wWafRlyNdprOMUPX', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 670, 'amount': 670, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 49), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 49)}
2021-02-24 11:12:47,517-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:12:47,517-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "An9kBcKGZSLEetT7wWafRlyNdprOMUPX"
2021-02-24 11:12:47,521-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148807, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '071c84b41344433eaee00e2141195582', 'request_id': 'An9kBcKGZSLEetT7wWafRlyNdprOMUPX', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"An9kBcKGZSLEetT7wWafRlyNdprOMUPX\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241112482076075925653522\\",\\"sign\\":\\"KvK8kIvbRpmJu8msmynqTRHnEqi0fCJL0t4J8sUZCVtGHYT1CKZMkiSei7yo6VCDPVHpjhMAhVa/NmQW3NJad27GEjHip8psdQLKdo9WKSK211DrTxMrBZ84Ga9x5PceBopUoomGAVcg7qGfiZ9ECOQGlr2vlQ+rVuePKcgwS3o=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614136369949\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"670\\",\\"notifyId\\":\\"IM20210224111249732\\",\\"orders\\":\\"DIRECT_PAY6.702031An9kBcKGZSLEetT7wWafRlyNdprOMUPX\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 11:12:47\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"An9kBcKGZSLEetT7wWafRlyNdprOMUPX","signType":"MD5","successResult":"OK","timeStamp":1614136369949,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 50), 'insert_time': datetime.datetime(2021, 2, 24, 11, 12, 50), 'update_time': datetime.datetime(2021, 2, 24, 11, 12, 50), 'extra_json': None, 'remark': None}
2021-02-24 11:12:47,521-INFO-lib.common_biz.fiz_assert-118-通知成功
2021-02-24 11:12:47,529-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:47,529-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "42353795509711"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Rk7ABIGKzwstalO1hEgu54XP83mq2vDj"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:47,577-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b6a078703b894cb0a342a7beac8caa57"
s_p: "bnBEZFpFQ2VNeHRFVUE3SGZXbmNiMGxkajhmZDlmMUUyNDhrR3h5U0ZhOE1XUXVDalNQU3VWdEVCSTQxRVRJd0s5bXJUT1hkVE5LN1E4YWVXZlRrR3NyRjVSMkE4WENaTjhYSmhRWVg3MlNta2o2clJRbnYxREtNQ1NoNmVQVG5ZVlV2T0FkNmI4aU5qeEdwb1BWV2RvS2ZUellza25vMFZ5dWlxNDhvUGExWjJMVmlUcWFDUzJNb3lvQjlaQ2prNmJ0cW9CMHlRSGVLcEFQS1JnMjZWNDJZaDBYYnZzQUJHdEk0TFJDZ1czajVRNlRkSTU4VGNIZEpzVm5za21ma3dweExyZGtPelZqZTh1RGFOQU9KN3c1RHVQajdZb003eXJxNEJBT0VIUTlEWURFaHdqWnZXVERrZ3hwSTA1d29xZWcydVdsb1NDOTdXanY0eFNESW96c21BVlZjRndIbEZyOVRLR0tXSVhSWXRyaGI1MWJUblhwTTh4cEVndEwwWmh5YVR0QVVZWkJjczBBeW9jdWo2TERjeVhWR3FEbG9iNDljeTBwZjBTck9yWUltWllPR0o0WmtEV3ZaYlJ2TzdLNGdRdjJiR2xrWmtHV1pGS2h4Y1RxNllnY2tDd3NjaDNEVGR2WGVWbjVCSUo1Tk9BZFlaZ25jeEI5d3RhTUFzT0dIVzdORHhNV3dBVTlJc2Jnbmh5djRKS3ljSkcyVzJYbFBxNUVXQVN5N3lBa0dWMGhJNEFSdUEzbW5qcFF4b0NjckxvUFVnNzBLWHo1NjZvTHhFVWl6NGlXTXhsbDVQMmZUWFJyamxWYWQwWGpZY2ZxeDVEMWZNdU9Wc25hekQ5N25aNjNCRmZESFBIM1hoajYwWVNaZ01uUDdzS1dqUUJJUjJ3cWlManowUWlUaWZaTERlalVIQk5KakRvT2JRWFBxbUt2Rmp5WXhVTDZJbDVXdjR4NVNMSjhzUEU3U1F0QzZvMTdXQjB4V0U1cTBEWmo0a0hxUlM5R1hvektqcGQ4Z2laM3FaRGk2STB5eUJ4eHRHQkxvTngwTVkzeWU="
m_p: "BWk88017oLNo6zY22v9c0780A5W1jW6Q0by6433B658mwQ08xJM0h6AnrNN3X39G"
e_t: "1614244370155"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:47,579-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:47,579-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "b6a078703b894cb0a342a7beac8caa57"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "npDdZECe"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "6.7"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "Pc4bOLDGzKIXuf0gSWqrhBQUYytMJA3E"
}
sign: "lcR2XO2GKuvpAl4Z9EKq5vWqb2m9wPNv0LAx16gfKk9LApGdtC/oBH8vUHmNvdO0GPWKFXLA7lZW+VIwcm5Qeh3ZV7LOE0APJCc3bQtXqa1hsmsqmn5pn4EJz9eovKU2jTqD1CT+C6hiwpczj5+gxswc2LmMvT80q1dM4RW6ttmN7gxj0anaK+zqTw0MN6tupeYW3SuzODciz2kB89WMgWkFgz4BvmNimjt1z6P14B8yY039mTABjumNLskVt7ZNhy5JgvmtduiE2BFH5CyChVcFUI7BCQ9i3lcHlDJstiNMKRtwauP2/ms3bx67msBo0Ku4uDPWLsJ6WiNoZ9npag=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:12:47,850-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"fe5f7e7c95394a70b7b5054728a5f6cc\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24111250380791acf0246dd7e1665d0000\",\"sign\":\"6F01E90539675646D76D07D749517FF1\",\"timestamp\":\"1614136370\"}"
}
payrequestid: "RM202102241112502076075925325252"
model: ""

2021-02-24 11:12:48,850-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8369253843239914258519733195]]></transaction_id>
<nonce_str><![CDATA[M9KjYrs4kGfVaFUe0AuiT7Sb3RwCXy5m]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[BDC2246CD9A8F23096774AA8CCBB4E9D]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241112502076075925325252]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>670</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224111248]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:12:48,982-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:12:48,982-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:12:48,989-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:48,989-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "33212822874385"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "dU9G5ZKX38aNSvYfzkbDimrqHC0Ay1MW"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:49,065-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "fb2e40622adc45faa0beaaa1785231b3"
s_p: "QnRyNVRrbm1ZV0ZhWU9UNXhIRDRjTGJMU3VobWNaTkw1S1l6SnVhb3ZPT3dkN25CeXE4ZllLOTFiY1ZObGpWVHlNSjQ4ajkwNHhjSFB4TU1Jbm5QRDFMUWZ5R21ORXBYY1o5d2Ztamd3SlZocFNrZWlUbGx5Q0VtbXJreVNKNUJzQmtSR0tRbWFpM2lUaTc0MWhQNDdYRXVwa2IyMDJINk80aEFJOGFFUGxXOWZOY1EySnJCWmJOVE5NelBqRklJVks3dTAxYm8wYk9aQnd4MVJ2bzh2NGRKeGg4ZmZhN1VRR3NPU081WVdnOXhjamxkRllodVdydjl3WmpIZFVHbVdVSFRhRGh4clRWU1NRMjJlTnVQbnBXcmFWQWw5Y3ZUeVR6bVRTMDFXV25kSDFFc2MyeVdFUzVhUzhGd1ZjRWp5bU93aDg3NWF5ek5UaEcxbkN1bmc4b08wMEowZnM1ZUxiSG5BY3llUHNGMlFWQW1SZno5UmxVaUdRSjBSYmJvUVlIM3FGTGd1eU9ndDdTSXoybGJHcXVpaEVmYmVvNGx5c0VKTkVTT1VhWDgzbW9JeHlhdTdTcThxUU9jYXp3SDhBOUtDY2VSSXQyeUF1eTdpclQzSHo4R1ZpVm02YTBvYXdaejVEZVZIaWUybFRIWnZ2VzVsMTZHNUFUUUxOYUVEblhJakRwUWt6QTVUQWN3bXpORmJpT2tUaVZYR2JoYWNNOUNSYmhVVTNGbEtuNHFrdUVldm4xVU9yM1l3SGJNNFRadU9BaUZSaUlmMVIzaEYwQ25ocFBVbGVQOERWeWhNV0wzcFlpNE1ycnFIemJaYjYwOUxjcms1S3FTdXhmWkdLUTVlVGtjQVpNZEFPWWxWRTdYU0VwOEE3N0pmZVhwcHdpb2tNU3R3Z2F0NE4xVjQxdGZ5c0g2MXJmM1NobmRHZWpadDNzeVQ2QTVMemJLR0dUVUhMaVIzZlR2VUhhWUdWWVhyZ0ZlYmFoVWxVanRHUkNnbDVzYjVOcEJGYkpWc0NTQkQweEJ6cDhsWmNubUxyNlVqMkJ0b1MzQUc0Tjg="
m_p: "9wJGs83Pr853M6kUIUy3ll813vMulh67545dRHS4wy96s71MA97S6L1bev4k2CBF"
e_t: "1614244371615"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:49,071-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:49,071-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "fb2e40622adc45faa0beaaa1785231b3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "sBkRGKQm"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241112502076075925325252"
version: "260"
queryType: "direct"

2021-02-24 11:12:49,121-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "6.70"

2021-02-24 11:12:49,121-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112502076075925325252"
2021-02-24 11:12:49,126-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15064, 'pay_req_id': 'RM202102241112502076075925325252', 'notify_id': '8369253843239914258519733195', 'partner_order': 'Pc4bOLDGzKIXuf0gSWqrhBQUYytMJA3E', 'amount': 670, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 670, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 51), 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 48), 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 48), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:12:49,126-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:12:49,127-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112502076075925325252"
2021-02-24 11:12:49,131-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7750, 'pay_req_id': 'RM202102241112502076075925325252', 'partner_order': 'Pc4bOLDGzKIXuf0gSWqrhBQUYytMJA3E', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 670, 'amount': 670, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 50), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 51)}
2021-02-24 11:12:49,131-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:12:49,132-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "Pc4bOLDGzKIXuf0gSWqrhBQUYytMJA3E"
2021-02-24 11:12:49,135-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148808, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': 'd2c73368049641bc944a236c9edae7ea', 'request_id': 'Pc4bOLDGzKIXuf0gSWqrhBQUYytMJA3E', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"Pc4bOLDGzKIXuf0gSWqrhBQUYytMJA3E\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241112502076075925325252\\",\\"sign\\":\\"FBG20PWoi+rub2ntj16A/AM9tGJ0InoruWEpyJ3oUmokj6af+Hno5XT8s+HZFqw9rVxIDHhF0LM+77KdNNkZUflVjAnhk+9PhlPcGJhqzFNWoGac6AFf9zyXCkj6FPK/DU4pk9NRNUkdqybgKLWKyYOws6ojT8w2qNLXsEhb1qY=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614136371547\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"670\\",\\"notifyId\\":\\"IM20210224111251665\\",\\"orders\\":\\"DIRECT_PAY6.702031Pc4bOLDGzKIXuf0gSWqrhBQUYytMJA3E\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 11:12:48\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"Pc4bOLDGzKIXuf0gSWqrhBQUYytMJA3E","signType":"MD5","successResult":"OK","timeStamp":1614136371547,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 52), 'insert_time': datetime.datetime(2021, 2, 24, 11, 12, 52), 'update_time': datetime.datetime(2021, 2, 24, 11, 12, 52), 'extra_json': None, 'remark': None}
2021-02-24 11:12:49,136-INFO-lib.common_biz.fiz_assert-118-通知成功
2021-02-24 11:12:49,143-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:49,143-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "86778885899592"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "hi4dLDol8IMfH9wzqQPFubncB03svkSU"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:49,186-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "914b1c5f5cc24bca968a3320ac030ea0"
s_p: "VEFpZE9QbFhoU28xTU9kckc3RENSUUFiM0p2SkxBaDA4a3hkRmxpYXZwckdXVU51QWhWOFd6c1hZcER5RXJBRUcyZTYzMnZzRFluM3dCYk56alg2TW80NnJ6dWtoWHl3T29nUW9iOVpYdjhUZ3RaejdyVDVTS2s2cGduZGppNktlUVdMblB0SmpDTHIzcHgxNFBVNEJZTExsU2ZPdUdHUlIydFJ2NTdJT0VYUEdWZWh0TnhIYXJNTWhqQ2c2QVd4WkdMbXpIRTNvZEpKdlFjcHc1dHNGb0pNdEwzWno3NGNJeUx4aVFpM0VlRXZUSWZjYmQzNEV5MzNIbW4xUEFJNERlQ0MyTXpRV2ZlTmJJTWxuNlJ3SmM0Tmxvdjk4SThwSU5KbXlFZDg4TG1qcmVvMkF6d0EzOUQ0TnoyeTRSMFBMaXJ1WEk2SXN3ZnEyUzlaNnF0NXNtV2RWRnhpaE1ONndsTVV6YnRIMkpNSEozR2NDNEZteWNLMVFpZWFGdGpVVGJKeDNxMFZ4b29pQWY2TXVQQnZ5b1FneTVTREdEYVh4Nnhmb3c5S296YW5BT3BFd1RYODlTZzgyNEdYQTdsanpneGdtc0E4dEtFZFU3UXE4UFd1U05hMTY4eW9OWncyTlVhdXFETmlXWUp4U0xUWWJWUm1HWlY0WTV1TE5BSEpSVXJIdkVEZkZwb3NSSTFiOUtCaVhwUjhqRVROQW1xTzNGa3A1MGNuV21vdXF1a0ZlU3B4TEpLelhMeGF2dnZuWHg0clpHRUFJU012Sk93Z2hIaWtCb0FvdXNqY3FnOFhZczJDU0FmczFKQXM5R2FNV3Q0Ujl4Qmo2cWs0SG96MGUyRkpVOWxpNjY3MjE2ZXZUZU9LUmhSU3J2MlA1MGpNTjdZT0NIUFJ0Q3d2QXBFTFI4UjBqaDNVVUNTNExIR3RncFpOSFRmOTJOU1puYmlxT05Bd21nSlZDVndmYTgwQmRaWGVZTnFHS25BN3N4aXE4S3NjaFJKczRnV3lHeTdtdHpwRXRvTmZ4Q3RhM2RraE9YTnd6SmxVckJiQ0U2REY="
m_p: "WXjr9A6lR9Csg062owHc1iz23g3IYc0X4HND014HtxOgj2VshJnIiAM4Cqp1UoFR"
e_t: "1614244371768"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:49,188-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:49,189-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "914b1c5f5cc24bca968a3320ac030ea0"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "DYn3wBbN"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "6.7"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "B31P26Sr90QzNGZxyF5YATJtpl4wdoaI"
}
sign: "JWv3qoEV7BSIkORX6OCuJO0zXvfMbLuyF6hsk5yYLtNwS/rngr4u6ADHdXfCMF1CzSD1wpKDhbvhfgr/WMC7a7Fv6p0zR6xJG46QbpF7LN+abwMBkozXFNhqvlUN4RGEnAD/9x72BG2dAD5shKMOjAONI5S6G7lNk/rsyqoKphOLQQfOMsb9RiwCKZCSRxT/o6/bleCrCRfJ+l6M6U+8+/fgF0wScFY/YF1R0RFoX+hALHMlFFiUMqyWCf+mgi3Fsr8EQF13H0wd64Ew3WbztGRiFx6XREonrqGAwPBChUDP5tflCHI55NFZmBW4wGDjky72eW3pP/BmHmwwge/BcQ=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:12:49,461-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"a38ea45906594c36a3f45896e39aa6ee\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24111251987220e77080402891985b0000\",\"sign\":\"EA2F324E2D02904861278FD3D0131E93\",\"timestamp\":\"1614136372\"}"
}
payrequestid: "RM202102241112512076075925627182"
model: ""

2021-02-24 11:12:50,463-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2170451480764556701758693063]]></transaction_id>
<nonce_str><![CDATA[zlva1K4GPBkUnVstp6do2ZwFfS9rEDCj]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[83FEF6981C9548F19316F060B713DD13]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241112512076075925627182]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>670</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224111250]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:12:50,584-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:12:50,584-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:12:50,592-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:50,592-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "90221415449173"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "IktwuDGXKelZPoFzqLOgj27NfVCYJ5rE"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:50,679-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "31ef81044bc843289666fce4c3952512"
s_p: "c3Y5aDhJM1ZkdDJMTGhZR3Z5ckVLUlJsVzFGbTN6RHRkMFcwU1BaU0VOQVgxM0tuaGdlOUlURVRFdWNxZVlXR3hDUUJ1dFRGZXR1eGQyQXgwZlhZek8zbVE1eDRXdFZQS2NLY0pyRWxLNFUzdlJRdW52UDZ2d2tPVjhpZ1EzQ09meUFiN0hCMVBrM3YwcDM1SDhtaURUbWRYSzZSb0tmWTVxVnQyZ1FadWp2MFNCTEQ5UUc2WmwydXpCZXp3dklFZjdMMHk5UkR3WjVBRHJqQThyaVFjaFdNTkZNZWRSWHNTcENDMVVuRFFvT0VkR2VaQU9qcXhYU2VtTkMzSG1GQjVkQjZMdXRUTUNBc2hOVUdlUDFKU1l0WE5qSGN0Qk9hT3Fhb3laOVdqYUR5b3JPT3NRYzkyOU9oN2VlYjdTVndsR3pxT2FRYmY0WlY2ZDBVcDV0YzlhOXh6cDdYTHZMaFNaVksyMUpvcEFQOXA5aHoxQU5aM0lFWWtMcXNuYlVDcnlmVUtOSVdCcGhBSGFjVXA1QVNPWDZhTjMwWU9mWm1kdlhGejNqSkFLSDZhcm1KTnJhN01QS0VPSDU0eUJnNWR1ak0xcGZzYkg5WlRMOGtiMlFxMFMyTjRzWmNrbW4yMnZtWGljUkNadGpNZEhHZ3F5c0VFbXpyVFloVWdUaWlpcU4yVEhqOGo2RkdPU0dtMVlhclBpWTkyWmxGNmJieVdQd3YwdndyVVVhZjFXWVZkTjNaWUNKQU5MTnpNVlFhaXVGazZsWmRGbDRKNkVkazF2V3o5dG5BMTFuZ2plUVNiY1FPMDNnQ2ZDZGltTnB0c2hKekhpYVVZN3JVQmtlTHJidTQ0WW5oTDNHb3Y0ZE5IUG9TSmV3ZHZDN0Q1czJUSFp5c2d0TkplR09JUU9uYm9NNVdWeUZwZWJVQTJScTh3UHVBVTN6cjNScmV6UjB0VlM3bnRRN2JnMTZHczhnT1BvMGVHckpvcmF0MjAydEY1TzlWWkh3ZUNqRDNlQUdxTWVOUzJjWnVQZWE5TE1TUTlYWDRUVzNncHh5VmpPYTM="
m_p: "U74B3d73FGs87GCRD44M9Qlb1Jv5OV2ywSY5YZwl80QXquE76JuYFg4BawuhIrod"
e_t: "1614244373229"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:50,683-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:50,683-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "31ef81044bc843289666fce4c3952512"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "B1Pk3v0p"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241112512076075925627182"
version: "260"
queryType: "direct"

2021-02-24 11:12:50,741-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "6.70"

2021-02-24 11:12:50,741-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112512076075925627182"
2021-02-24 11:12:50,746-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15065, 'pay_req_id': 'RM202102241112512076075925627182', 'notify_id': '2170451480764556701758693063', 'partner_order': 'B31P26Sr90QzNGZxyF5YATJtpl4wdoaI', 'amount': 670, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 670, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 53), 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 50), 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 50), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:12:50,746-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:12:50,747-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112512076075925627182"
2021-02-24 11:12:50,751-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7751, 'pay_req_id': 'RM202102241112512076075925627182', 'partner_order': 'B31P26Sr90QzNGZxyF5YATJtpl4wdoaI', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 670, 'amount': 670, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 52), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 53)}
2021-02-24 11:12:50,751-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:12:50,752-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "B31P26Sr90QzNGZxyF5YATJtpl4wdoaI"
2021-02-24 11:12:50,755-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148809, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '7522eb233163435eba12f89341dd92d1', 'request_id': 'B31P26Sr90QzNGZxyF5YATJtpl4wdoaI', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"B31P26Sr90QzNGZxyF5YATJtpl4wdoaI\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241112512076075925627182\\",\\"sign\\":\\"PaLdWuPTPQrVHpndaffTfvt9acn0gcWoIbLl8ZZ74dcy8ebaFFhbsrpA1e9ZMMJ7JpJkQ+A9WAv7/w+Ww9b1NBTNpdOdp+h1oyqsc4WDOsYzyGMXmJuxy1Be1LEDopqfhaDIsm8DZBzA3V3unJ06AqEA/RmPe18hgS5WCzh5wVc=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614136373154\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"670\\",\\"notifyId\\":\\"IM20210224111253628\\",\\"orders\\":\\"DIRECT_PAY6.702031B31P26Sr90QzNGZxyF5YATJtpl4wdoaI\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 11:12:50\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"B31P26Sr90QzNGZxyF5YATJtpl4wdoaI","signType":"MD5","successResult":"OK","timeStamp":1614136373154,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 53), 'insert_time': datetime.datetime(2021, 2, 24, 11, 12, 53), 'update_time': datetime.datetime(2021, 2, 24, 11, 12, 53), 'extra_json': None, 'remark': None}
2021-02-24 11:12:50,756-INFO-lib.common_biz.fiz_assert-118-通知成功
2021-02-24 11:12:50,763-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:50,763-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "03956701324717"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "WhUzb5kiR2u3oFAt1E6mjx7wLvXGKQ9P"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:50,801-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0d4c8eb5b1e6488dbedce5f4ea1db8ee"
s_p: "bVZySUZ5cHhuTFROMU14ZmJRWW1yRFJWTThhamd4M1BSMGxZb0hZdXpteHFYckRsTGhXY0M2T05jcVJGeEdOZ0VXbFJkcWFyUzN2TDEzWWthOGpDa2Y5OTYzbVVMbW42dzVDMG5HT2lFZWp2c2NoN1FVODBIS2ZnNmRQdTU2WURBVk1vSURENzh0dHY5em1pRjBKRTFpZVlaZ3d3ZTZIVUR2S3d4SjA4Y3F2MHczWTQ2NnZVemxmblNmcUFlSlRMd0JBNUVLVzExSURoWjhNNmV1NnZ1OXJ2RllHUjNNMzhrVm03ZWpYbUpKMzJTRHZoUlZWSTBvTGdRNzhrSGczeXRZOHJ3cmVCNk5GNjRaODRaNlBYTTlEVHJXcUZzRFlBczRJRUdwelo1VlRXV3RHM1JPWUk3cHZNWlNsVE1LNkFONUl0YkhOS3pQeHRaZnlkTk1nWlQxTzlmREcxVXNPcG1kOHhwaU1HSVhOQ1c1TldyOW5WNlp4S3J0bGdreG9iNG5JRzU1VFNDdnpocmJTY0h1M3pQcUFzc1ZQYjF0RnlZUm14QnVlQk9td1phSWU5anh0RHJSWDF5dGZGc0ZPdHNGcXhiaWdGSWhFWkgwdzhOS1VUR1NWeVRKSHh0alVNYUtveGJLOUg0T09XSFh0OW0wMjJmc0xrVVNFYk5GQjZUNlVHUU9xVnB2dzlCT3dhNHpEQWVHd2kzaWtRb2Z6QzlYQU96RHk2bVlwa2FlZEZOa3phWEtnSk50VEhNZlR4UUc1NkphSUdiWkJZY0lYR0hGN3ZNelFMSWN1UE5QQU1weFBxajl6NlVHcWdWdFVPbmFuZjkwcTNRNWRVdERUeGZ5OVFKNTJ4T0tTcDVuamZ3TTBsVzQxZnVpVFJzcHp6RTYzTXFEZU55b0ZNZXNzcGNMazRGZERKUnNPVW5KWVNLbGt1ZzJ4a0VXWmdXSHdDTWhvVDRxdFZiM2VYVHN1MGNOY0xjWWxEc0NReTRXMkNzc0VMVnNHVzBYMXN6WG83WXlCemxhQlN5YVFBOERWVmNnRW5KTjljSGRMNkJBMEE="
m_p: "Cw8s6GbvRc6w68yJg536lvs2KLGXS90PZ00nHg66jpCLWa3Ig4I67cq00g5qfBKp"
e_t: "1614244373384"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:50,803-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:50,803-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "0d4c8eb5b1e6488dbedce5f4ea1db8ee"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "arS3vL13"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "6.7"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "Al9ZSs7xRKev6uJ8XEPQio0DHIwjGcOF"
}
sign: "zbvUSDztsHQkxhy+At/SzyH8f4s609BB0PTTcGLbLp8BH4BYUT7a1kE+ectHvEc9rawBIlee4ho1kw5QyuPDwj7KRQObx4dyBmv2TZCb5K+TgV3XAraZD4qJtY9oQwtEKFTAib2WP74IIEc3Sd5dA1r0+XIA/HOYGVs7cYlz/CzpRJeruXyVPKbwMffcHUn6FHn97FNpOmrp28nV/9Qv3nNXWGgYTkofXrJ8CUJzMsy42dtu3/KZ0cTwg21n4DhUgPFJ5iKIA4+n55AD+jpwurwhWuc/exzD+lGZR3rBYCdpsc8F5uHNM8ifdcui9IKbAkoKI/GC30R/2fj98E8PXg=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:12:51,077-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"8d464b4a859046f2aa23ed88d33fef9a\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2411125361128249f0043d998e61410000\",\"sign\":\"1448CCB380EEE3135E82A105FE052D10\",\"timestamp\":\"1614136373\"}"
}
payrequestid: "RM202102241112532076075925470412"
model: ""

2021-02-24 11:12:52,077-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7122456400878125120366562567]]></transaction_id>
<nonce_str><![CDATA[lj4R7mtBZJbXxvde1GpgDPLAaWycMYs9]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[801F2B3F56818C6DCEAA9732143EBC24]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241112532076075925470412]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>670</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224111252]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:12:52,199-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:12:52,199-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:12:52,207-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:52,207-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "29603733247736"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "HpDt2YFGVUSZaB8egd61K7xJvNPibhus"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:52,282-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "99ffcb03ed764929acfe34f55434f0f5"
s_p: "WGp1ZWUyTkp2emh3R0lCMUt4bUZ3d0ExaDVIV0Z1VlQxeUo0VjhnRHowdW1MZ01WZmxHckZrZm5OM0tOMXlHWXdQelZDdFp2RVJCRGVtQW1NWGZBZG10UUdQSDlNMlpYS1Y1aExwT2YzajFtN0RoUEdlRmlNUHBkcnRyUkZRY2VsS0RsZUdZSVp0RHcwM3NIdGxJTjhqRTZDZ3VhcHZXcnJmVEgxUzcwV3l6SDBOU01WbjgxVUlkVVh1Z1k2TlZKdnpyekcxc0szRk9Sak16cWMxaFhSSUhQVzB4YVdUbVJuSlBRS1BIRkJUZk5ubUFVdnFvdENOOVp1bUxlSnZnVVp1WDN4WUtueDFDdks4YmZBMFdnSVpycW9EOElKdDl5cXZtQWg2NkZocndqaHpZcEprWk1HY21ldmFuMUxwTTVwTnVkdlA3UGRNQjZSRm85RGNtZDVjTkRQRVk3NFRkZW5MUklqQmN5SEU0VGRJcUw1RGtnbmQ4bnprbnRVdkdrVTZxUU9vekZVZ1YwdDIwVlkzZjFnNHVFQ2oyWEJEZGx4dkV5R28wUU9XSWZPRFBsb2pNTHpmZ0l3aWxYcjFXenBmVGMzam5GZEhXelJXNDFrYlZRdjdwS3JqcEMyVFFYQ3JxZVBXTDFRQTVtV3N5OVR4UGtBZzBDS0JNMXZkcDA1Z1JYMGZLUEthbHRwSDhhdkViSzM1VVJYVUt5NGpXdUxXNEZyeDNSb09NZklDRDdEVENUVGU4b01QM3R6d3FHZXd1TVJ6ejBqWmNwckViTmcxc3RYQUdGdmdKanJrZ24xc2xrMmR0T2RpRHliZDEyOVZHQWxXN20yZ3lJZ0lscjFkRUx3a0psV1l4Vmx5RXFHNDhEeDh1STFYSTVsQmg2T2RtUGRyYTNIRWxEVHJydHJ4VUt6N1djNXdXc29KUFhUZENDemNobmR4VFJRMEhpRnVjbXVnQ1czUFV2ZkppclhXSjJUSDFjN29qV1RtYW8yOVNNc0ZDeEx2MHJhb3pjWlZsclZXZjE2cHlxRHpObU1SMUxkU1hxSTV6ckJnSlg="
m_p: "44g5rE7PIkJbi9996K5iU9d0hu0eccGmeBCmUwWKfNEiIo2X6LM5Iv6wDjTu6a9H"
e_t: "1614244374831"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:52,284-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:52,284-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "99ffcb03ed764929acfe34f55434f0f5"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "N3KN1yGY"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241112532076075925470412"
version: "260"
queryType: "direct"

2021-02-24 11:12:52,338-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "6.70"

2021-02-24 11:12:52,339-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112532076075925470412"
2021-02-24 11:12:52,343-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15066, 'pay_req_id': 'RM202102241112532076075925470412', 'notify_id': '7122456400878125120366562567', 'partner_order': 'Al9ZSs7xRKev6uJ8XEPQio0DHIwjGcOF', 'amount': 670, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 670, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 54), 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 52), 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 52), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:12:52,343-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:12:52,344-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112532076075925470412"
2021-02-24 11:12:52,348-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7752, 'pay_req_id': 'RM202102241112532076075925470412', 'partner_order': 'Al9ZSs7xRKev6uJ8XEPQio0DHIwjGcOF', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 670, 'amount': 670, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 53), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 54)}
2021-02-24 11:12:52,348-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:12:52,349-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "Al9ZSs7xRKev6uJ8XEPQio0DHIwjGcOF"
2021-02-24 11:12:52,352-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148810, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '7ee97046e3af41a08a019adf0cde8412', 'request_id': 'Al9ZSs7xRKev6uJ8XEPQio0DHIwjGcOF', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"Al9ZSs7xRKev6uJ8XEPQio0DHIwjGcOF\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241112532076075925470412\\",\\"sign\\":\\"aW4M5oAerTPlgv0HXZQDYzG5VIW4uyyV5FK2GMhFjwZrdB9xVdA+Tkuyaoi8sb65+seDMMngMbJsymWiFVpESoA7PAkGJ5Woh9nk8lEx2d2SF4D6W/QvQXajs+aUQRcy0VnHoyhiTZEWNwihobqnCunXsdbuiATWmc4GrHUYkZo=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614136374767\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"670\\",\\"notifyId\\":\\"IM20210224111254699\\",\\"orders\\":\\"DIRECT_PAY6.702031Al9ZSs7xRKev6uJ8XEPQio0DHIwjGcOF\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 11:12:52\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"Al9ZSs7xRKev6uJ8XEPQio0DHIwjGcOF","signType":"MD5","successResult":"OK","timeStamp":1614136374768,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 55), 'insert_time': datetime.datetime(2021, 2, 24, 11, 12, 55), 'update_time': datetime.datetime(2021, 2, 24, 11, 12, 55), 'extra_json': None, 'remark': None}
2021-02-24 11:12:52,352-INFO-lib.common_biz.fiz_assert-118-通知成功
2021-02-24 11:12:52,361-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:52,361-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "30850312209837"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "s8qyL32dvo76cibGMDOYr1CQanjxIu9A"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:52,403-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b017ccb7279245aeaafdcf447e3d30f0"
s_p: "QzhoOTBzWkRSWld4RDRCZWJUUFVTRXpoTWxNcFNUako0Vkp0bzc3ODFTamNVdEQ2eGM1R2dpb3A0R291RU11WW5McXNRVXpZdUhMM3FNaGQzZU5qb3QwaHBoeUhzbWhHZXhkWkNXUkttdm5nODIyTTQzUDFTQk5NOU5GRjVMYXhPMFRZbzZOVm5zVFZadmJCMXRqNXc2MmFSaUc5Sk1VRGRTWHlPV1FiajBFUnpmdzdIY2p5a1BiV0F2NzRIOEJJV3JtYkNRUmJQYVBFZEZSRzlJclFoTEtxVnN4RGFsdEZhUmFaVjdCSm5UYzlCcGVDcGhIaFJjY3ZmRTFsc1gxY2pDV2hieFVGZVJxYkZuWGRnZ0F3V1NSOXRzWHJuaEdtQmFZdjhtd0xMYkNKcGFscm5HUVVvWW50MGMwMEdQYnJCc3ZYa2JyYVJkdjdDcWVTSjVCNHQ4c1dLb2JvN0QzWlRtczAxZjFFelg1VkdObzBmSkFVclVoeUd2bkJtUzVSTXBueHFvSEdRMXZPbEp5WjMwazFmdk41djhPV3A3OHBYcVJmZHVzNHNkTTFwUWdIQThuUHgyMWJ0dlRoNEtkUW9mNXpzS0NDZzd1U0M4eGVqblNKOVhmTUxEYlhOcHhPOGxZcTNnSGlwTXNSZE05TkhZUTVMUzA4VHFBZksxTVBkQ3FyZ3VEbVBEcVRIMDBRbDZVaXhJVjdiSk5oMnVTN3ZoWThJMUczVnhwUEE0U1FCdFdGSXJLbWVuVlA5RXZ2VnhSbDNlOWJyOHhxN0VkMW1KeHRRRVZFSFVnMFRBU2hleGZibnBvcG4waUtMbncyaEFhdW43Z1Y0QWx3YVJpb2dlWndBaVhmZ3NjaWF3TXIzUVIyZjBySzhLZHhrTllQYW1DZU1DVlh0WlNveDk5MWZkYnhDYXJneUhRRUNteUlwbHd1N1A4NFFyTFZ0WmJib0lsYkZhTFJsNUhnU0I0NjZmTTYwS1p1aEllNXFrVVJjZWtESTJMUzhqUEZvc3NxbTM3NU5CU1VHYlo3QWF3UGloOG1aNENsd1NEbWM0eGc="
m_p: "PUcuzBntWGmsr5yfX2MSqN7Fi7Q9oKf3U1BO678Y6iGl3ZVH46T9GR0Ox7e8FlT5"
e_t: "1614244374987"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:52,405-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:52,405-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "b017ccb7279245aeaafdcf447e3d30f0"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "FF5LaxO0"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "6.7"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "rDoxV6LbMNTqv0ZyjCihwJnpuGmUSs7Q"
}
sign: "KCFjLIy8edAdduD+GNxXp3txi5gBDSM+YjoeDDn2UdTEQM+hXFV+qgLCcFrdADjoEiSXddA3aO3sg5hA/E5G6o0riF4S0GJs1vBoY9/xPFfNT5hzPToZefq4F9XRgCBC9ecNBseh3wCI9NVf5ROONZlqPeHWBUSzafdyGJKDISnZJOcCul8FVpBqmPVOiSdrP+0i29WiTwVkVyd+c98JbCBzHtscjw5/5v9XWOIOqybCVo9FqtIY7vUR/Qn2ZZ/o5KjYZGUhYku//RORpOCTsJLlNsm8/CSPlCymBHX9Cquyoi/UFMX2kZxhqOz538wFvo0RIkQ8u8dVyA2ouOTI1A=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:12:52,687-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"647f16fb3e1947d0906e20af81e45fe5\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241112552161224bce4712ac1f3e450000\",\"sign\":\"9AD5ACD64F411DD9CBCD017CD534920B\",\"timestamp\":\"1614136375\"}"
}
payrequestid: "RM202102241112552076075925423782"
model: ""

2021-02-24 11:12:53,687-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[6708174643334967844140162492]]></transaction_id>
<nonce_str><![CDATA[rlaANG3VM8d79uUiewp6LW0t2PqFKxjk]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[6209C6A346D8E6752218409930317B1C]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241112552076075925423782]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>670</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224111253]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:12:53,813-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:12:53,813-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:12:53,821-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:53,821-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "18702660008445"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "nAlrcvOWh6STFRy8ZB50NpIjM2ksitwm"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:53,893-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "aac1910ad3ef49389e5b465e787e2f39"
s_p: "NDFoaVBvZEpKWHFyOWlLWHQ3d24wd2ZMRnZETWVNYVJ3R0tJVE9xcFdxVkUwSEJabUFMWUJQMldScUhkMFZ1V2FkdFFseXZyRjJrMlEzd0dwR1FQRkdtS2pmd1Zjd2RXQ1laMmF0TUxQZzdSR0FHSUFVdnJlbzNSVnpNa0hWQ0dZR1RPVjZaVDBwOFhUeE5WYnpsdVppcmpEc2VhWUpUQW5TTGNKWEVBbXU5OEVLTGtzTHVCaXNWVWZUWENxY1NDYU5WRnRacjNIVGo2aWp0OGVEQTFXcFE4ZHBabnBxQ2tIWXcxNENKODdONFhvb2ZVMlVYeTM1R0RQd05hQ3NTU0QzM1lsRXF4RzEzMXhJRmVXSjFqS0hsUU5mdW5BV0IxN0hHVHRnQndlVDUwZW55RTVYZ1ZWWHcybmg0UDBzbWFwbFlSZklxak1udVNpbHZHY3habU5paVpiaEgzODIwcThhNGMzTlgzVmVEZGhnNmRqZDFxelhoUjUyQ2JHS1JOaWZDN2lxckF6R2Z4QVNOYkhTWEVPUzltZUlhUTVBYTlJZ1NUVVhrRlJNa012Skt5aXRyUzdKY0dNQ0Jyd09Ea29VWGhlZ3hZeXgwSzFKOHRFZTF3ZjN2azJwMmxxOHF4Yk9LaUlLTkptdEE3cVBvRVo4MDlKSHZUaUtSTUF4VmRkUmhpZHJhVk1oSlpCdFVoVHpQMlNUTUZIaUlpS1l2bjhrWGdienE3MEFUVkNiU1U2RXFMaGMyNGZtRlpXS2xQRWdHVW9lVGdpM0tkcDZqTTJkclpISVJtTXZPQTd0OWhYSGlsZlk0dHByNVZWR2VtbDBQbXA2aXhNZEI1STRHSnppSlM4MXVmbDdwMElVcjMzY05iM2VvMHVsMllralFENnFFdDV6REZyczlsdzNVejRWMUhNcGxoTnlSeXA0TmVtWXU1alIzRXh3Rk52NzFZWUc0UzRZTGUzS0FzY3YyTmRIZVB6N21EdmNONnJleHFkeGZKQzdCVWtld3BwRUowMVREV1JsejZiVmFJTGgzOE5ReXZjQzBsNDJEam1ibmY="
m_p: "x5S3P92bV8YMSgCAt8LOU02t7Omwb26R6n4C5YUSXYOyDM6e58mT0G6Df7XiGTF4"
e_t: "1614244376445"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:53,899-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:53,899-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "aac1910ad3ef49389e5b465e787e2f39"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "3RVzMkHV"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241112552076075925423782"
version: "260"
queryType: "direct"

2021-02-24 11:12:53,957-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "6.70"

2021-02-24 11:12:53,957-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112552076075925423782"
2021-02-24 11:12:53,962-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15067, 'pay_req_id': 'RM202102241112552076075925423782', 'notify_id': '6708174643334967844140162492', 'partner_order': 'rDoxV6LbMNTqv0ZyjCihwJnpuGmUSs7Q', 'amount': 670, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 670, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 56), 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 53), 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 53), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:12:53,962-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:12:53,962-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112552076075925423782"
2021-02-24 11:12:53,966-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7753, 'pay_req_id': 'RM202102241112552076075925423782', 'partner_order': 'rDoxV6LbMNTqv0ZyjCihwJnpuGmUSs7Q', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 670, 'amount': 670, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 55), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 56)}
2021-02-24 11:12:53,967-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:12:53,967-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "rDoxV6LbMNTqv0ZyjCihwJnpuGmUSs7Q"
2021-02-24 11:12:53,971-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148811, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '6ccdd3ff10ee4be0a35a2f92b6b1871b', 'request_id': 'rDoxV6LbMNTqv0ZyjCihwJnpuGmUSs7Q', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"rDoxV6LbMNTqv0ZyjCihwJnpuGmUSs7Q\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241112552076075925423782\\",\\"sign\\":\\"guCXVghWxRB0aDFelH8lp9dDLNElGcZm7gXGhmgNjYlymBZusPc1715owxAphyHNmeC26ZThtg4+rD4dbcXyTGI5vKtChR/j9ddYAf2EIM8abcQk7CEEyh32RR8ZLVUXfh+HA3OgNm1pYV7XGhfU6yddqI9t7/9+cp2Y0XaoNVw=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614136376382\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"670\\",\\"notifyId\\":\\"IM20210224111256329\\",\\"orders\\":\\"DIRECT_PAY6.702031rDoxV6LbMNTqv0ZyjCihwJnpuGmUSs7Q\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 11:12:53\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"rDoxV6LbMNTqv0ZyjCihwJnpuGmUSs7Q","signType":"MD5","successResult":"OK","timeStamp":1614136376382,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 56), 'insert_time': datetime.datetime(2021, 2, 24, 11, 12, 56), 'update_time': datetime.datetime(2021, 2, 24, 11, 12, 56), 'extra_json': None, 'remark': None}
2021-02-24 11:12:53,971-INFO-lib.common_biz.fiz_assert-118-通知成功
2021-02-24 11:12:53,979-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:53,979-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "89440528880471"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "QDSipFOareVzqhZNWBI3LcC4UvyET1Rg"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:54,019-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "085261e23b694eb7a84f591836a215d5"
s_p: "Q1QwUTF6dVo1TndOelN2aWpCUWtlbGhLMENWTnVCOW55OHh5Z2dtZU15RUFyOWk1Y3dCTTZJRzJvQk9HSHhRc04yTjhpWEY4UkJyZk5VekUwNkxITTViRFpOVDhaN0xLOHJ5cUlPY0FvQk83dHFFcHV6MHRsaUxFTjlxZnhyTTJQc2ZIMno1RFJyWkFrT1l2MDI5ZW9tRll1eEN5Q21CSFoxTjk0NHF2Mml5VFYyYlhWRHJkN1NKdXVtQnZxUjI0OGNYTFZ2RXhuWjFtcjdHOG00d012OGdMYW1UcnlzZDE1WW5mQUNZdlZxcWFYQTBITEFtUTlmNkFzZGhoSk1HSnl6ZHQ5MEhtTzhHY1JqcTFYZVpWdzNvRWNhbkJDUnJ1Q0FyWVNHRWdZdHVzVUV4M0h1bEluaHA2eUZCUHlYbzJVeFNFSE1qSUR6Ylc2STN3bmdCUjMwSERLUEVqd1ViRzYwTDBMaWJyYkx2Q2wwdlB2MVZHSU1mMFE0ejNPTXdRd0VUbDdnUGFuOUkyMXdlMEZOSjN2MTRlMEdqUGhCblV6aUdySkdiV251TWdjS2NxaFJXMHVFSnBSOFFiNlFZVDRleWN4Y3VHUjdxNE5uYlRLbGN5UHl1TTlKSFpZcTJLZEFkWURkdDc1b0ZHb1VRMkNGVXh5WjhUeVQydDY5WHFURHJEU0tvV1RYZ0kwV1huSFc4bHhTd05SRXNnd0pWdTN6em5qOVFxTEFUSHVkQ3Z0WEV5YVRTZ2MzVG43c1JHOVN0cWdnUThXMGdPWkhMNURxclo2TkgzUW9CTzQ2NFUwakRkVmZJaGNnRjFON3IyRnh1Y1E5eWxGQzNHWVBSNU92OERQMkxaZFFISnZvQjhzVml2a3hwaERITlptNFN2NDgzTzJQb2Rib2tFeDNxbmRZaUVxZ3pnT0pKZFhBaWM5S1VGREJ0TjJ5YzRIOGVnanE1QmYyUExWakwzamI2RDBZZW50U3AyblZjQ3IzYWV0b1dyQlB6TGlGOHhkZENvaE9ldVlOemFrcWdrMGZiQUpIdjA3Z21GSVU4WWM2eGU="
m_p: "bzkUgnoet40ors32K008k9Ej31T37s4ybgzo7GU8rXDit7ZiVsBJ2K791Sx1I4vN"
e_t: "1614244376602"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:54,020-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:54,021-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "085261e23b694eb7a84f591836a215d5"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "LHM5bDZN"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "6.7"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "x5MvTHPLhDZ2mOUEqrjdsG1KBzeQl4ik"
}
sign: "kZP2p4Mu1fzjIYhVAZT0Fu+SIF/MoE3HPTnqhaOBczH/6MSD3jpDnuxqA1ERZfj0d10CKB0TC9sgUjmUZsiKZsGkPyyPuABYwxoXvzKEX+xH4v6A46/B054OjIZD+7EyT4Z191yXJzTCrXw0ssDKJ8ht+DEVO+DRN4Jw8dW25BxiQo0EJu0EiaaH+4UlCCSEI+WpUJCos6L5QAFDPS5n3rtiT81cNA1mHx3o0fLDBkWgVTI40vQQPxGJIXIo6FV9/kbCBOEgW2XYKKYuo1WsIXb3EKfoIV3kNDngJdfjsVLgBibw14EUSxxU4OtXSZ5vLIJ+lMoJDpFDG3wLlQcZwQ=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:12:54,299-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"9e7e45e9435641f7a2d8740cee190943\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241112568264022c7ad3c39c10922c0000\",\"sign\":\"0659A149BACEE9BB672294F61F048A4D\",\"timestamp\":\"1614136376\"}"
}
payrequestid: "RM202102241112562076075925586632"
model: ""

2021-02-24 11:12:55,300-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4423263312048433458514786020]]></transaction_id>
<nonce_str><![CDATA[C7xW6IpcOfK8RP9BQNjMEXhLrAaH0YZo]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[F6453E256D890C85DB94B8315591964F]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241112562076075925586632]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>670</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224111255]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:12:55,426-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:12:55,427-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:12:55,434-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:55,434-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "88014353769759"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ZElCXRIjJTsLyQoimtuh2AH7vaPb9Y6x"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:55,522-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "61040159032d42beb53fb1d4339df8f7"
s_p: "dEJEZW54TEJIckJvZE80RXFhbEUxdDVaZExqMTFxRm9zMzRwTWowdTBvQzdOMkhrSmEwSjBXaVJYc3dKakRNZzBqQU9UNDEyU0hhMkpyT0x6Tlp2NFowWGliM0ljZGhqcFVsZllhakVxa0NLaFI2d0tUTXNQbUxKdm5JZ1Y0WWlTckFFbW9zVXgzRWZERU5BSDk4bW9uOWt1SXJkcTQ5T1h4NkVUbE9pMm03UUJDZERUSFNlMGEwNURFTm9QVU44c1U4WFI4ZlRSOGJ2T2dVR0tmOUlGUG9MdldmcnZpODA3YWhHY3BVSkl0UDU4R2IyMWlqY3R2YVJ6Q1UzSTIxVFNMZ0VJd2wxVUg1VmJzZFZldm5VanRlMlpnbHhSRlc0UktzMERYZjdwbm1oU3J3bTVoVmllQnBKQktERWtEaGExRDhqb25tcG9tdTF3cmluR0tRUE9sVnVHWnY5NW10RWg2TlpEaU9WUTIydVJMR1NIeGNOSjdxRVJxVDRyTFdSR0lTSHNDV3lGeWNrWng5VXdsOG02cFJVYndqYVhtTEJPd1V4SGNldVFkVnZnblgyODI3ZU5jRTJTUFlWemxZSGJOSHFQRTM4NVNPQkRmZkNjQkdQRzhXekU4bUJ0UFpVNHM4dURtbFhFdzRJbFhFOXpST3lnWFpGdWVSNnNnZU41SDkwcDkxV3VGY2E0U0NhbnpZQnZNQUUxRkhHOFkyWnpwWjhlQmxqQ2paSmEzQXlrRkZyc3BQbGhpUHlvTlBzZkxVTEVpZnBWdllxQzJBaXlOb2ZpSUdCZ0F2a0s0RzdYblYyZkh2VDVpcFhWdXdKT1lzVUFhNXNPU2ppMmpVblNUcHNNVURBT3Z3S0hTclpadzdKaDNRODFxOEYxS1ZiZzZoN21kVFh5Wm1La1hkNWc3Z2FlMUw1dDRMRWk2QlVnbWFVVGFaQjlzMXljN3ZwdWQ1UVR2NGN0ZTk3WHRDRUlSdFJMTUx0N1BsbzhNenQzbEhMR2J6U3M5Zk5JeGNDcnpYMERnTFRaalhCandscDM2TVpRdHNsbnRVb1lxM0o="
m_p: "X44qgtZ060G2WWcQL1j9d45Bg7d93OO4S1xRpN5bv8OZMmNVUrbYl8FPMZ6cfU8A"
e_t: "1614244378059"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:55,528-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:55,528-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "61040159032d42beb53fb1d4339df8f7"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "XswJjDMg"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241112562076075925586632"
version: "260"
queryType: "direct"

2021-02-24 11:12:55,579-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "6.70"

2021-02-24 11:12:55,580-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112562076075925586632"
2021-02-24 11:12:55,584-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15068, 'pay_req_id': 'RM202102241112562076075925586632', 'notify_id': '4423263312048433458514786020', 'partner_order': 'x5MvTHPLhDZ2mOUEqrjdsG1KBzeQl4ik', 'amount': 670, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 670, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 57), 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 55), 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 55), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:12:55,584-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:12:55,585-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112562076075925586632"
2021-02-24 11:12:55,589-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7754, 'pay_req_id': 'RM202102241112562076075925586632', 'partner_order': 'x5MvTHPLhDZ2mOUEqrjdsG1KBzeQl4ik', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 670, 'amount': 670, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 57), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 57)}
2021-02-24 11:12:55,589-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:12:55,589-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "x5MvTHPLhDZ2mOUEqrjdsG1KBzeQl4ik"
2021-02-24 11:12:55,593-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148812, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '9d39e2b8d6e84d3abdaeb32ebf951d73', 'request_id': 'x5MvTHPLhDZ2mOUEqrjdsG1KBzeQl4ik', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"x5MvTHPLhDZ2mOUEqrjdsG1KBzeQl4ik\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241112562076075925586632\\",\\"sign\\":\\"E/C/hOWClE9ibKiHkwIXHpGGEYRVAdpEoig4ALn807ZJDuHfptFNKKE0MaoC33w6xYOQXW433aAhTnK1WTCWVkqiMQp+NIO6uydyz64vTrvVO72+J9JlEyZ5kM7gAmUu3aAb956Rpwzk1fFHEis5/q64+02aUY5jQ7V8O/qSYV0=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614136377991\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"670\\",\\"notifyId\\":\\"IM20210224111257825\\",\\"orders\\":\\"DIRECT_PAY6.702031x5MvTHPLhDZ2mOUEqrjdsG1KBzeQl4ik\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 11:12:55\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"x5MvTHPLhDZ2mOUEqrjdsG1KBzeQl4ik","signType":"MD5","successResult":"OK","timeStamp":1614136377991,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 58), 'insert_time': datetime.datetime(2021, 2, 24, 11, 12, 58), 'update_time': datetime.datetime(2021, 2, 24, 11, 12, 58), 'extra_json': None, 'remark': None}
2021-02-24 11:12:55,593-INFO-lib.common_biz.fiz_assert-118-通知成功
2021-02-24 11:12:55,601-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:55,601-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "11969533608874"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "JWARgGmeZ5a3FCHXjpEO7hUSikPtqlN2"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:55,642-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2ac034480f424fa192ab5738aeb4faab"
s_p: "VkNZczF0NEVYRUJEOXhDVDI5MEM3TDUyQ3VvTTJtMU5saE1FUG13U2V3R0FzdUxCb2k1TFllR3FVR3dOdHdYQ3hOU1lhT2hmRzdBOWlvR1RiNUFxajJOd0FpOUFEbkVjZjF0c0EwWnVrYTN1aVdXNFR6RzdNeGZZUDMxVGxjd1FqTWQ1cW92VkZaeENRVWk1WmE3RWkweHZYV3hoTU1TeGtGcHVySE82RHhIVkRIYnJheHdaRkZGNnV3ZjM5SEZmRVZ2WmVvN3liQXZzRTMxTGY0WXRQQW1hSmF3TlhXYTlsbERrR0pIRVMzeVhYZjNNcWNoZlZyZWZaeHBSRGZlc0h5UERDSWppWUl2WVVpVXFVbmhOZGNEMW5FR0NuTTVJck1SWmZmMVZRR0JlcUFOYmdpaFBCeEJpaWJCS0x0Q3ZXZ1NyR21JZ1BFejRlRXpoWW1wbVptOHdnbnA4Z0tDbXhtVUJ6SjFuN1JOVXpsOHpBdVBZQ1hOTHNrb09FSjJvbVpQbkk0WnlmdWlRR1pWWTluNW5DZUNxWkxrQWtjaFgwSnJFRjAxbUtjZWZRYUZCcFN2MGRRaUp2Y1hId3g5ZUlCU1lrcUh5cEtOSmNrOUJhSW5hQ09BdHB3RjJzUzNFQ2gzOUMyV2lzMXFXUTlpemVKZTVKSWpCVzdhSGMzRzk1T0tUZE5GZGs2cnhnR3VTUGJlbE4xZkRvbmhHR0c5RENhcGs1dmhxT3IzZnhXUzd0dGR0cVJCYWx4MGl2OUYzejJFRXJSalJxeHRhVlRVUTVmYlZXaE5rY2h6dHVHZXFsdEhzYmI0czFvUlVGdWV3Nk5nVUxMZGRqbHVManJwV3hRaXMwdWtpMUQ5NEYwdXFreTlWdGVUUlhRWkg0dE9URkF5T0lLYVd4Z0lDRkZ1T1FpZzdKY0c0dTlsOHJNemtHa25DeGhGS3Q4UXk4QXBxMm1ONUZIdWV3U3NtZXRTMDVQUGJvWFRqZmw3d0dKak5kYjZTQ2JoeThvcWhlTGRRTDU0SWg0S0NqUE5FdHVSMENxSjFRMk1samJuOG4wUEM="
m_p: "NH8M9s2AfseY50ji8Y21d66CB9WI2kZI6vtggoxEhtvZLuvvhS8nI5CtFDmi582r"
e_t: "1614244378226"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:55,644-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:55,644-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "2ac034480f424fa192ab5738aeb4faab"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "3uiWW4Tz"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "6.7"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "XpIn1wrRG5btMgK0CyQ9i4sx7TSqH8lZ"
}
sign: "pDg1QfUmqKLlYaSV5J6MuV/tYNmg8EwM/6/lWHDOJNlmHQgPxnSDtLyKdv1atFTSisy1PsA3pSJekszyd7k6qAhAlXUPk3Z65PQy9bibJWeAonzxu6tJQPYPJ6C1o0aEkxHwNfoL9r/tE49PMwmpKtsm8yjs8A2RvxBD4ARL982dt9x/VDDIUD53kyPWmDrx+Cgc0l9ejVYQlSGzO5o+Eps94Eeoe7ry8BAGT2KpTP1J9mV/MQPbgnnOyTyjsBr4NiYGFbTE17eH3niFBtw45PdoNSCvEHzs0SvPguxB1t5eyXP2hS0hjl5LqEBYXW+sB9sH0p8aXHmbPaRPHnCE4g=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:12:55,913-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"dc594467dbf842f1b9db6bd2d758109d\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2411125843732086fc5fb5cae511f50000\",\"sign\":\"A2F94D3F74404FF6A31592BB75EA1618\",\"timestamp\":\"1614136378\"}"
}
payrequestid: "RM202102241112582076075925325872"
model: ""

2021-02-24 11:12:56,913-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8658641109583544483355563859]]></transaction_id>
<nonce_str><![CDATA[AGfs3SN9nYBwRkV8J7LecPtz0dKyrWiF]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[928D9EB41AA7199AC070543FAE02490A]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241112582076075925325872]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>670</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224111256]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:12:57,027-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:12:57,027-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:12:57,035-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:57,035-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "13231343502594"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "sgK2J51FeVMk4rAnhGvHlQqLjfZymWU8"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:12:57,110-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f3fc3ee8031c445fb5793b2c12ca4168"
s_p: "QUJLWHdtbzRKWXB6S25LaDNYTzFGaENWMmhCRnQwR1F6OFdhdTJIZU9JMHdwTHNOdkJjV2NmNFZWTkhVTkl6b21BTmtSQmdSQnVVT2lxWVJ0ZUNWdVFIa2VMRjllcVUyZERpQ2JLZnF2WElvUkJkckVZYmhFNFlNNno5Qm5XVmVsNlhoZnFkdm9XUlU1OEdzS3dDZ000OUZTc3JGV2E2emJvVDg4eGVSQ0RQVHBUVU9XNUdkaUM2TEtkamM4VFN0S2w1TUtQNE92VHcyZms1V1M1bDlDOGEwWnF0SGJTVG5QelFxZHRtUXRsWFEyZlp3d2xMektCeDI0dGx3UnhMb2MzTVJXYllQbFBwNmxnR0dzOEdzTFZSTklCWld1dzZ3SWVkTHpuMjlWRFhUd1hPUWFDcFhuaVBEb25RZmxlVmxjQVJEcGlwZWdXWUZFQUtLRGxNUW5heklhZlFHNjNGZHh0TGhRck5FZDVzeVFiUEtYWWRaYVhKNExLcGxzeGI0bW8xU21pY2dXY2dHMks3Z2xSSG9qbmZ2S3RBOU1qSG8wUXZ3bk45Z0NwM1pVcE1DMnpGNVJIaXRBWW15WDZ5ajVsSXlNMzBMWEhiV3NKYVlIblU5MHZjVmVkUnBjZVZqZzQ3YTRJdDNWMWRJQ2d2S0o5ajVscmRKTTdPdWRkaXV5SWpReElPcXdpRWNCUWMwUXFHb3dlVWtGdjJrZGQ3bGZaTjdWc21MQ0UwSGRxUm9UaUJDcjhuWlU5U0FrNzBMT2VCZFl6U3FJcGdpT0hVNFA0VHlSZmlhNEM1TklRN2NKSmtRdTUzb1FzdkxDVlE1RGxyNklvQ3NPdmZBbTBibGhnbVl5NlJjRGE3emFPOUxTUk1Udlk5U0dXT2dzVEpxODllTldQYmk4MzUxbUNXTldjRkxKYlBvZEpSNmJVVFdjd2xJU2thczBIUUFTMlg0UU53OWZwTjJoVDhBcWdnVFNyeGpVcVFjQ2dnR0NMTTJWVDA5d1BmZ01KMURVM0hBT1BwcTBxQnc2STJiMHJUa1lTbXhhZzNHS1ZLUDhEVk4="
m_p: "pcKV15SRC1406I3kGl2RlFPD61UN19va4965S5Hn216N5C3PE99bQif37q0aOTdL"
e_t: "1614244379662"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:12:57,115-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:12:57,115-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "f3fc3ee8031c445fb5793b2c12ca4168"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "HkeLF9eq"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241112582076075925325872"
version: "260"
queryType: "direct"

2021-02-24 11:12:57,162-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "6.70"

2021-02-24 11:12:57,163-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112582076075925325872"
2021-02-24 11:12:57,167-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15069, 'pay_req_id': 'RM202102241112582076075925325872', 'notify_id': '8658641109583544483355563859', 'partner_order': 'XpIn1wrRG5btMgK0CyQ9i4sx7TSqH8lZ', 'amount': 670, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 670, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 59), 'success_time': datetime.datetime(2021, 2, 24, 11, 12, 56), 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 56), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:12:57,167-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:12:57,168-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241112582076075925325872"
2021-02-24 11:12:57,172-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7755, 'pay_req_id': 'RM202102241112582076075925325872', 'partner_order': 'XpIn1wrRG5btMgK0CyQ9i4sx7TSqH8lZ', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 670, 'amount': 670, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 12, 58), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 11, 12, 59)}
2021-02-24 11:12:57,172-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:12:57,173-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "XpIn1wrRG5btMgK0CyQ9i4sx7TSqH8lZ"
2021-02-24 11:12:57,176-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148813, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '898f7de21682493c88e2cbd25e5dc271', 'request_id': 'XpIn1wrRG5btMgK0CyQ9i4sx7TSqH8lZ', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"XpIn1wrRG5btMgK0CyQ9i4sx7TSqH8lZ\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241112582076075925325872\\",\\"sign\\":\\"h5Muj/gQZWYP1rwobHCq5ey3eNb3xAYK/4yH51+BkWAbd3abSpwZesEyKnsrKBPiqXQpfHC7TMyu8rC5VFrOtSjQ6mG7ufyC7uNQxn8ugfUqiqQwyy6OuIzKswKRO2b+pgYDON5TGXjGAGpq7w2Wt6dVuGriYvbVATSO1nnYGB0=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614136379596\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"670\\",\\"notifyId\\":\\"IM20210224111259289\\",\\"orders\\":\\"DIRECT_PAY6.702031XpIn1wrRG5btMgK0CyQ9i4sx7TSqH8lZ\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 11:12:56\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"XpIn1wrRG5btMgK0CyQ9i4sx7TSqH8lZ","signType":"MD5","successResult":"OK","timeStamp":1614136379596,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 13), 'insert_time': datetime.datetime(2021, 2, 24, 11, 13), 'update_time': datetime.datetime(2021, 2, 24, 11, 13), 'extra_json': None, 'remark': None}
2021-02-24 11:12:57,177-INFO-lib.common_biz.fiz_assert-118-通知成功
2021-02-24 11:15:49,644-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 11:15:49,927-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 11:15:49,972-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 11:15:49,972-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 11:15:50,337-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 11:15:50,341-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 11:15:50,341-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 11:15:50,344-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 11:15:50,345-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:15:50,345-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:15:50,361-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:15:50,370-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:50,370-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "83768622789143"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:15:50,471-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "003ebb9606914f1094651dbcd4464049"
s_p: "eWU4UDNJa1kwb0xPd0JRd2RqY2locW5pOGVncGI5R0hSRDhWWWkwTWR6Ynl6UWFFUW5LRll6aXBHNzhFNGFhcFdBWERTTE9IeThNeWRPTmxrRFRWOEtuTVhuWkpmcG9LOTROeXZidGFqTTUzRTNBdnVzNUNJd2Y3emtvcmFtSmlIeExRTEtqZk83WTg0QWR1U0ZmdWRPcW5iWEhVaTZsaDNUYW5vZDJuc21ZeWNUdXk3VzJNcW1DNDZFYzg5dzRQbXF5RW95azhMNHFQdjJodFhOUGtlRTZYMExPRTRDTGFwNTRNVDVBZ2VIWmE1R01iS1ZEZzdzaUkyQXdYYWNzU0VZUmtRUmFmNGlzRnZjQUlLdktoTzBFbnluQkNkR256TXdpMmR2NHAxSHp0OXVZMkZudFlsUWx3Q0Ezc3AxTTZvMVJGRWRYcVllNjJrY1BtU3hiZnNXcjNvYVBjbjhtVmJPaEVianB3QnhpcGlzbDhidVFjdVQyWU1nOGpUbnoxNGdISVkwM1pIOG1BT1JNeGZ0UllvbHhGM0RBak44SGE3bjNwNkNualViYjFCa1lYamo1SnNhZWIxSm1kRk9IcGh1ZUxUMEZMT1JnNXE3eEhLbWk5VjlIMFpFbnZONkhnUnZLdEh2THFxTlhFV3BicFN5MUx6clBWZ2hoOFRlelFPMlVFczRCMmdpS09oazBrSUNITFhvdWl0eXhnUkFTV1ZhUE5HT1VLdUtVcnl3WDdTUDBHTGNFZ2Zhb01BQ01LQ21JbGlZcWE3eDQ1QmFPMDh1SEFLUnpGY1VPR0lMUkhNQjJGMDNxWFNrelBhcTdaU0pMb1A2Zk9OUW1salFzZWZaVHU2eUs1N05lNWRqMWt6Y1E4VUFET0JSOWxLeFQxWHFtSTRRNmhPRDdEZ2o2NWJGVkZqWHNMSGZ3dGkwd0txS2NGUWxUaDVkUEt1MHlDUFhEQUZiWVM0elhnUFZqVGdWZld2b2R0N3REOXBGTXZyQnMyN1JMV3lyQnZFekR1OFhkdEhZQ1hGOGJoclhJbXJPSGF4S1RUeTBmcjFsZ3k="
m_p: "PY5P3AM89d1Hv6erkAWL1CdIF8XLhBNNIDb720rm8RS2N1j2304e5QT74IZNHsGe"
e_t: "1614244553003"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:15:50,479-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:50,479-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "003ebb9606914f1094651dbcd4464049"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "5CIwf7zk"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "470.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "koQ9j46y40Y3dez6ebgkcpAtXHO3y3pBF0qiYFn/k7t9lKuJTd4kIr5HbnrTsPLTdBY46f+C9mUvq1uLUVmnLrEF87kBixbjpcBSIULV0wwpfsc3JyflX5Y0PM7xf76Kz59Cy3Zk8d/bb1oX5UuDwuPoCEYAP2i6oiIH/TR5Zt0ogFZvdFAm/oTOto+V4Br1AAkQScRmj3bNKHxs2168YXMmeIQz9R+c9YiHx7yxPLTPAU9PE7DZvAjiYeoP1UJDVhBR2m8aB9WCmi8fTRD6WGc6DZkyC78Ks10DSpln1ZBjd+ArfPeWW8ekbrO8s4cRwsel7dVGdAKCfAx01+FTUQ=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:15:50,585-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241115532076075925610162"
model: ""

2021-02-24 11:15:51,593-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241115532076075925610162&jnet_bill_no=7556931035452085408947993578&card_settle_amt=0.00&card_real_amt=470.0&card_detail_data=&ext_param=&sign=2546738e9374ebc2724872c01d48edab
2021-02-24 11:15:51,827-INFO-heepay-scarlet-53-返回结果：
2021-02-24 11:15:51,835-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:51,835-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "37730848739520"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "1RABtsrg5qW93jTFOvilM6HNx7E4DJyo"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:15:51,912-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "15fed73bfb554180906a49845b959973"
s_p: "SjBlZmdFV3RERVJZU0k2TnRmaTdhUXFUNDk5ZXdFZ2puY293ZDQzbjkxUzNMc1NNQmN4UzVEdVRkQTRkTmZrQ2YySkhkQ0xaelBDOG5sczlEYUJ4ZXkzMTh5WDd6ak84bE5idHRHNHk5bDlvM3JraWNYeUVFc01PQTJRU2VKVUYxZTY5Sml1VlVjankyUGZTYVE5Y1ZscGFBR1JMVFJiM2xibFRuZ0hZT0h4NWhqdDNLeExLODNRdEtkVlBvcGZ5NU16dzBjZ1ZKOEN0V1g4WXpLbXl6ZDd4VE0zb1ZYQjA0S3N4TFlkTUNZTU9FS1NQakRBenQ4M2lkY0ZIQmJuMGNERWUxbnlHVm9oWnR2ZVlqQWNJWXdQaEFUeU45RUJOSVdHU0oxMWdUSEdWdWlGY0pZbENOb05OdUlCY25jQ2RrYVJ1anFqOWFHdWY3b1hXeXZuUE9NeDQ3dG1WRVRncXhONGw5cVp0R211bTk3bmRxaXF0aEZpU2JnbmxrSklFemNyYktIQmY5a3FHcnhCSzBlQm8xRmo5d05scThPQUhRck9lMUttU3JHdXM4aExtb0xQSmdSVXBLZDNGbmNvcVcyc3lQUHVHZ3I1QzVIR3VXQ2wyR3FaekwyV3ppcWk1MUtlSXNrQnRFdWVkaHM4RGdIUkJBQ0szMXRJRjl3aUNQVzVBM2w0M2VmdjZ0dmNveWV2ekhqRWxRY3psaEdETTRxZGVzdXhRR0J3Tm1yUTFXOGNoN01tbW04Y0pwRFE3dUplZEFPVGxsRllXajNnUXl3UDh1cnd3SUdGUm1BQVpkdTdVempUVTFXMjMxclM3Y2U2Vkp3T1ZLczNVY3hDckxNbGc4NGtrRzNGYUZvVUMwUFpHUVBkTVBQTjQzSGlIRXNzb1lvNXBINVhFTjhiVkZxV05qaU43bmdYbk80MjViYmlXYXlCSEVudW0wdGlrcjRyTm5MNE96STZ3ZlNKaVp0Y1dMNVdkV1RWOWdodWdaMFN0YUFrT3JrYlFpdVJXOFhaemliUTFRa2RJUWpYcjVkYXlMZUhIbHNVd1g4Q04="
m_p: "W199QUyj2Q43m93PD634DlEzbRO5fFOX0nEdIlPkDKs0F0L0rlT5v100AiDw21kI"
e_t: "1614244554459"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "470"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:15:51,916-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:51,916-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "15fed73bfb554180906a49845b959973"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "zPC8nls9"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241115532076075925610162"
version: "260"
queryType: "PAY"

2021-02-24 11:15:51,967-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "470.00"

2021-02-24 11:15:51,967-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:15:51,967-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:15:51,971-INFO-fiz_db_operate-26-可币余额：470.0000
2021-02-24 11:15:51,971-INFO-recharge-52-可币充值成功
2021-02-24 11:15:51,971-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241115532076075925610162"
2021-02-24 11:15:51,989-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15070, 'pay_req_id': 'KB202102241115532076075925610162', 'notify_id': '7556931035452085408947993578', 'partner_order': 'NV203113782656752021022411155326237061366219467334', 'amount': 47000, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 47000, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 15, 54), 'success_time': datetime.datetime(2021, 2, 24, 11, 15, 54), 'modify_time': datetime.datetime(2021, 2, 24, 11, 15, 54), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:15:51,989-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:15:51,990-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241115532076075925610162"
2021-02-24 11:15:51,993-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7756, 'pay_req_id': 'KB202102241115532076075925610162', 'partner_order': 'NV203113782656752021022411155326237061366219467334', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 47000, 'amount': 47000, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 15, 53), 'success_time': datetime.datetime(2021, 2, 24, 11, 15, 54), 'modify_time': datetime.datetime(2021, 2, 24, 11, 15, 54)}
2021-02-24 11:15:51,993-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:15:52,002-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241115532076075925610162"
2021-02-24 11:15:52,005-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 14, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 11, 15, 54), 'amount': 47000, 'status': 'OK', 'rechargeOrder': 'KB202102241115532076075925610162', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 11, 15, 54)}
2021-02-24 11:15:52,005-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:15:52,005-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:15:52,006-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:15:52,009-INFO-fiz_db_operate-26-可币余额：470.0000
2021-02-24 11:15:52,016-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:52,016-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "44491683692748"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:15:52,096-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c46ba719bed446b4a365a233778d73b7"
s_p: "eFVIVURlMmFhaVc3UHdHVmpOam42ZG8xbnFDTXo0RHpNQzJ0bjJhY3hOVURCaFFHRnloY3RNMXo0UDE0SmVBalVMQ0N4T3Bzb21QNzZwT04zb25iakl4V2VTT2ZsaXo3eGdJbVA2djZmN3g2cFhTMlBhMjBYdEh3Q0o2UjZja21JWVpRc1kwRndwR2tHbldIY2ZpS1FQbHlFSnNBdGtwNTVQUEFwa2VGaE9VdWNKSjZLSWx4TEhucWtibURxQ3lCODhvWDFNc3l3TDNmQ21RN0ZPWmNGSmIxTG5SZXM2WEl4aVJVZWhPcjE0a3doNDQ5M0RKUUhMMmRHYUpiOWhtWXNrM1RqcmdXUXZvN1FrQ0xBTXdyT3JaOFphdWlrWjR0emJLTnNLcDl6Zk9GNDZOMzJnN2g1TlFUUTdtcTlXSGdFYjd2c3BGdDRJNDdJWTlKUk9hRTlKZXEzVEZZbkVORkJmQWJqUVVtU2JlOU5JRHRaWlhVakFmWlRjdFhtb3F1VzZzOGdicXdod1NrUVRSclVKSWJlQ1RrYzlCUDR1dm1ScmtKQWFKSVk4Wmdyb2IwNjdIRlp6MU41T0V6V2JWcEtWQW9zN25FcEFRczVIeXF6WFVLbDdCWkVpSlNXYUNGZzZQYTdrQzZETVVaVTRIUUdYbW9ja0dyeU00Z21ZenBMdlQ2T3RsT1VMM2ExRlVvalBmdVA1a05wZGRpb3lrZEVnZzg0QUREMEdkT3dpSnFoTHFLTU0zNzk4amI0T050dFpaUE1RdnBMNFl4bW9MTUtNVTJKcjJ6Y05MWlR2elN0b0hRQjB5OFBFMk1GdkF3cHdQbGJvZTl5SDlmZjdlS0VUcjZlTkYxd1FWRlRWU2xlYThZSXhOV0xkekU2S3JCbmZIdlFEcUFHSEtQSlNpQWxyRWpzVUp5SElRQnprM1lwT0x4ekQyTlRsTEp0V1oxMk52MzBVVE5pWEZhMU1LTm83RXlYVnJieDQ5bG4wRDhmMW5WclJUd2VFbUZQcU9nZTFyRFJIZldrNFA2cWswYmd2MUVVZHk1ZnV1VWpsREs="
m_p: "HihTeV99ixgr21K2tL6Ku596vX9BIR39Ule5RRv08S4099sBi74JMP6Z08AORk5L"
e_t: "1614244554640"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "470"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:15:52,099-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:52,099-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "c46ba719bed446b4a365a233778d73b7"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "P6v6f7x6"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "470.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "oVimmWPX0vciWmWu50QOMXEo0m7TsLHxBrcTlRztw6lDR5rmS5SAE2CnxZWVbi2JMnSxk/Gf6VMbOUEcrgbaMnqM6IhD5TpuIOflUC3OqcyeZkaUfjbJeKB3ufdOd1ua9Da36cZVWZUzTTd8oZ7T8O+iDSiY54/574m8t2nN3UcDMkvgIAo4Mue4tdEz0IcasNNjEYv3LO13cAtt/pPKHDO7J4MBYGZbfR1ZBjrG3SjKxp50c9HETFgqNTmKCjSh2V0zWGzQfmde0kdT32XkdwDXmZ1XzcNAsAgCbDHeFTDZpENzGl94gOaH35EX6uzfvPB6EIRpKJKrLRxGmPtJ7w=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:15:52,199-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241115542076075925437272"
model: ""

2021-02-24 11:15:53,207-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241115542076075925437272&jnet_bill_no=5201264396614251867921406918&card_settle_amt=0.00&card_real_amt=470.0&card_detail_data=&ext_param=&sign=bb602d0bf22b60517d90caaae6419fc8
2021-02-24 11:15:53,338-INFO-heepay-scarlet-53-返回结果：
2021-02-24 11:15:53,349-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:53,349-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "33062088613865"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "YK3ocpD7MnmJGryu06CX28EzPSvikR1Q"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:15:53,425-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8f921ecc647b471e9721a815f69133bc"
s_p: "ejVBWkg0THlYUzZuOGFhajkwWXlEZlBJOVJpNmtvQWZmdmFRSWttYW5tTlpzYXQ1TGVFaTlEUjJWZjd1NFVxWlJ1bDlFRGRPWjZvMExMT0dXV2hnanhOWmIwSkFiSDlkY2xFTGpEQzFBSXByc3VCTXl6T1NCUDZHMVJyYmFLWlRZQ01ieVc5clk1SHg3RHBEdUhzNVVUUjdvcTBkUERPSG1oZmNwd2Z5M21mT3FvYk9vemRPcE8wOWdhcTg3azcyOUNQd2gyYUZ5QTBkcXNoSHNVQXpQb25lNTc1ZHUwYTdUekRsRWFXMFJhZ3RBcXo2VHJMbDd5RnVSWmxGNU5iaHJYSXpWVzJybmFYZVdxY3lMRGZCMFRHdWU0UXhzNXdlQmdBUUs2SFdhdEdCUFpkeEQzUHdYTThrR2lpcWFhakdsZmNqeGVaVWFvR0JaVDBQZ0Y1eUdhSkFSaUM4V2VFN0pYc3pqZ3NjdEtkTXZaUm1jdWJVZDk5aTFBMDR0RHJvTk1ZQTh4UFJsVWhIZUJUcEh0NEZEcU9TQUgxdmdOU1haTkVmaWg2VGdzc1JYcW9mZFZoRGk5NmxZd01EdTFuTXA2Q3FtQ3V0SlpjcE0zb1hlek1OejJQYWp0M0FvaHFLWkR5bWgyZjhXYXA4U2tFZFF2Q0lreWp5QlhEWnpEclIxTnZBTnBOeXNrNGkwVmRCRmtOa016Z2t3RXNLQUszN1J4S3Blb2JwTllBTDNaSjdsTndFMTJvZFo2VnBPYzZVOXpZdU52d0VyMlBjcDBPR3FST2Q0WWdPZ1pqZ2t1MDFWemZ0Q29XTngzM2lwd2M1MWJSM0FWWVdDWFZCYWU0dGRKUmtSVnhNQlVNU0ZsR2x2Mmx6VzdZelZWT0V4T1pOVHpoVXZzR1RRRVVFa3Radm1HeFU3dkRoa1pTMUJxcGhHRm5qT1N0Nk5TbGY5c2xMTjRxZld0WWI1V3hJMWx5a2lHV2YxVnFzYzhPYzBJYzF0NUlHNmZkbk85OTdYRDYza0dab2szcTNFUExmdFdoUnM4T0xzYm81bGRCeThoT1U="
m_p: "W121bCoY8Aq855Xcsr4iL22Wbm9VIfkbnhI5T9nwkIx14Mq56Dzp3KzISf3ay84Z"
e_t: "1614244555973"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "940"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:15:53,428-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:53,428-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "8f921ecc647b471e9721a815f69133bc"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ZTYCMbyW"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241115542076075925437272"
version: "260"
queryType: "PAY"

2021-02-24 11:15:53,494-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "470.00"

2021-02-24 11:15:53,494-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:15:53,495-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:15:53,498-INFO-fiz_db_operate-26-可币余额：940.0000
2021-02-24 11:15:53,498-INFO-recharge-52-可币充值成功
2021-02-24 11:15:53,499-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241115542076075925437272"
2021-02-24 11:15:53,503-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15071, 'pay_req_id': 'KB202102241115542076075925437272', 'notify_id': '5201264396614251867921406918', 'partner_order': 'NV203113782656752021022411155443683618254135343871', 'amount': 47000, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 47000, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 15, 55), 'success_time': datetime.datetime(2021, 2, 24, 11, 15, 56), 'modify_time': datetime.datetime(2021, 2, 24, 11, 15, 56), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:15:53,503-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:15:53,504-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241115542076075925437272"
2021-02-24 11:15:53,508-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7757, 'pay_req_id': 'KB202102241115542076075925437272', 'partner_order': 'NV203113782656752021022411155443683618254135343871', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 47000, 'amount': 47000, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 15, 55), 'success_time': datetime.datetime(2021, 2, 24, 11, 15, 56), 'modify_time': datetime.datetime(2021, 2, 24, 11, 15, 55)}
2021-02-24 11:15:53,508-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:15:53,508-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241115542076075925437272"
2021-02-24 11:15:53,512-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 15, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 11, 15, 56), 'amount': 47000, 'status': 'OK', 'rechargeOrder': 'KB202102241115542076075925437272', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 11, 15, 56)}
2021-02-24 11:15:53,512-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:15:53,512-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:15:53,512-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:15:53,515-INFO-fiz_db_operate-26-可币余额：940.0000
2021-02-24 11:15:53,523-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:53,523-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "42629926270359"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:15:53,596-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "dc10ee41cecd4f1fb1d35d9fe8b52ce3"
s_p: "eVp6MjhiNmlUOUFJZGs4VlM4bHNqSWlhZlZlQ3JlSnowVjRQUlhSSEhKYk9Gc3luTUE0bFc2ZTB1QVk2MlZwR3MyWXR5Y2R3MmQ5dklEODdvb1FYQW5UbmI1ZEw4cVNub1NZM0lnbUdXdHBoOEN0b0ZQZ3RaWnAxeUJTYmNwN0NPaTR6ZldkUEJRUUJkNWozVDRnbzdiellXZ0FlYU82TW9EQ3J0SWdNbkpReFNPWlRscEtOR0FwRDZSU3FRSXpwcUV0dUxxWUs2WUp0RVdBSXZxOXVkOWNpMmI4ZlpXa2pzSnBLWGJJRE95VDdwTkdKak04SUJNdGVtYWh0enZBeHZLWjRhdHlUQThpZ2Q3Z2pkTnZaMXgyYzVUUzlib0haUTRGWDRFNFpLMkJadnZxZmpGTVl3YW5OOEJzRnphMnpKbmZ1UHo2anZMaFFJdHlxZmlzNFVlUzBhY1B4NW9pa3lEQUVVQTJld2tOOWlQVFdhOUVKOVJ2RmhWU1p3YkpOSk1HeHpIcWYzU3lxUnFGQ2xycnFnTHE5RkhiekpYN0dhRGJBVmc2MGw1WlJWOExUV2RGbU5iRkp6ZWRDS3NxbER0UUozeXdTZjFxN1JKUGdCZnBic1I4RzY3dHFqS2hUbFRRSXVSd3k1SldXZ3JWWTRrVlhCWkJ6V0RRcHRsZmVWZk0zeFZ2dFRoYjR5RkhyZkJrblZlWG10dmo3aUd6ODFzSm94bjBDVXA5bDVqWkUybXlvSk1qNkJxdzJ1d2NaSGxQd3d6Qk9qTlJ3c2gzbzJHOHlIckRPR2cycnV3WVl0cU5IT1JiYW1SVFhoSThLYk1ydzJBOHJJcGZNNWcxaFIwdHRiUURPQmg5bmE2R1ZvU3dFYW42VWNJWWxST0pIVjJNY1Y2WlpEUmFMa2wwS081d1BUR3ZYb29FbTA2bjFXNk5JeTlHbVgzTEk2T3NodEl3VlV0OHRiQ3luUFRGMmk1ek80dXdVN3RkOWdaODltdGJYOEp6dXk3aTdXcTBrS2NNNGdkSndtNVQyb3NWN0lmTUcxSXBrdnQ3dkp5c00="
m_p: "A3V4gg82lJY8Z4si6iJMe3uJ19m6lYGbxNph54Y37MQE4KpwkRxz3K6XXhA03eic"
e_t: "1614244556145"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "940"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:15:53,600-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:53,600-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "dc10ee41cecd4f1fb1d35d9fe8b52ce3"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "p1yBSbcp"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "470.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "GnOF3LJ7uetfYtCdFoxosNFAs5CFwqyp0Z2m36kwMvnv1OLRQgbhp0TBQkimJisfTubzetmvmwxzTa47J+7JVjIQcsuCbzDCTA/1UhXQUrIIBC3BzAgklcw6QPXQMylDB1vQConbP1OabnvDrfg9rzTYkvZ7+NFt42oWtb69uatSNwrES2WnloPM8RAa0RKVKNOtmEghBzSpq89IRl2am0rbic9Hs7AZtqLhb3w5Ww5MtUtQLQU3lhQmo81M/EVag1b8hQdlm1uBizxc8hXTdYJXMZ2/U34w8ENhQd+yQAttjKX03pnl9vE20pUrFFnR3Htxb2G7dSDGD+yJZhFvPw=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:15:53,668-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241115562076075925061742"
model: ""

2021-02-24 11:15:54,677-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241115562076075925061742&jnet_bill_no=5533610312480356516205925079&card_settle_amt=0.00&card_real_amt=470.0&card_detail_data=&ext_param=&sign=e23419c58500943393ddf7d75dba2ccc
2021-02-24 11:15:54,802-INFO-heepay-scarlet-53-返回结果：
2021-02-24 11:15:54,810-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:54,810-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "43443457955829"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Phv84lDJLXW0MeHRuSrTGOo23axnNcK5"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:15:54,885-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "cc88430ec14047c6b1358e90558c98f0"
s_p: "YkhLaThIcGZPdXE3b2hIbkNNRjJuT1dvZk5semllU01DeDhFMm1Yc2hzOWdqSUd5UGVPem96bHREbUY4cGpEWTVVWjdZUEdOcVlxUkxJZmxKaElkdXh5cFI0T2N0NnZ4WkdTU0NHWDlpQjcwQ1Z6UURWMUJQMk1McGE2QzJ3WmRMZVNLaFh5UHNYTWtlejUzWHJtOXlOTmRTdXFSaENHbTRQTXJiN1ZyeU1oVjFIQUlXdUg2Sm9WNkR2cjBHMGNuTVBjTUJCOHF6VkNUeWw2dkpKNE9hMGw2OXZjYk9BUHBJckJ4aWxISTVaSjlqbko2VEVwdTFSOVdUR1VWSVZaMlZlcXp6TjVhNFc4NlFvZjNxVkw5NkxQeUZzbFFLc1V2eTA4WEpKMU9QZmRiVGZHWmhncmVSQmhUR3U5Rm1YdDFNWjlPWU10NWo2WW5JQ1RBWm5IRTlQZ2RZa1owSE1hb1VNRGtaTEZUTWVqRHdwSkIxT2dDUVNzdXBrQVVqT2ZURE1FVU15QnV6czRvWkhBNHFDbFBZeDlNeGtsWm1KM2tyUEZaYjFydXBjQk9OMWNhMTNPdE9xNkh1UGJwWTdpenJCS1VJOUNqVk1JNXc3MXJOYXNqeGpqblJzV2hqWklZU0hUMjBwVTFrZnZPbUpWTFk2dzdEbzQ0U3V5N0Q2SXJraTNDTkJUd0ZjRE9jMGhzbEJ4TWp5RWNrZGlGVk9pblNGem05cEVlNHQ2S0dlanA3a2RPZlVqdktGS3dYZDBrYmEzV3NKUlZHcktHbkpkNTBUQkVqSWY5QVRFRHB1WnBrWEVnSU1OZGtaY2w0aWNGNzR3ZzVNdGVwT2U4TmZuamlmVnd3TDQ5ZEhGNm1ZaTJVUjB4VXlOM2JKNGRmVUltVUIxOTl1cXJjcFJBVVZsMkJlaWZNclRXd1c2cmFpczNMa251SHBCU1lLWE5tN3NwbjlCajNNZE9hQlFTU2tLQ0QwVnM4SlBhWHBTTFhNVDNyOXRTUDM0YnJqbFNIR2IxQnRFSmsxcGllYWQxdExrWDViOTNXU3k2dVZZQXpHWVk="
m_p: "o59AtBs8K3J8e5LE02iOPoiSgxYgLnBZKR215pGRY41SIh8937vC2n4cVYr15XuI"
e_t: "1614244557435"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "1410"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:15:54,891-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:54,891-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "cc88430ec14047c6b1358e90558c98f0"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "X9iB70CV"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241115562076075925061742"
version: "260"
queryType: "PAY"

2021-02-24 11:15:54,938-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "470.00"

2021-02-24 11:15:54,938-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:15:54,939-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:15:54,942-INFO-fiz_db_operate-26-可币余额：1410.0000
2021-02-24 11:15:54,942-INFO-recharge-52-可币充值成功
2021-02-24 11:15:54,942-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241115562076075925061742"
2021-02-24 11:15:54,947-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15072, 'pay_req_id': 'KB202102241115562076075925061742', 'notify_id': '5533610312480356516205925079', 'partner_order': 'NV203113782656752021022411155697639314717564703220', 'amount': 47000, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 47000, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 15, 57), 'success_time': datetime.datetime(2021, 2, 24, 11, 15, 57), 'modify_time': datetime.datetime(2021, 2, 24, 11, 15, 57), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:15:54,947-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:15:54,948-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241115562076075925061742"
2021-02-24 11:15:54,951-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7758, 'pay_req_id': 'KB202102241115562076075925061742', 'partner_order': 'NV203113782656752021022411155697639314717564703220', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 47000, 'amount': 47000, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 15, 56), 'success_time': datetime.datetime(2021, 2, 24, 11, 15, 57), 'modify_time': datetime.datetime(2021, 2, 24, 11, 15, 57)}
2021-02-24 11:15:54,951-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:15:54,952-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241115562076075925061742"
2021-02-24 11:15:54,956-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 16, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 11, 15, 57), 'amount': 47000, 'status': 'OK', 'rechargeOrder': 'KB202102241115562076075925061742', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 11, 15, 57)}
2021-02-24 11:15:54,956-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:15:54,956-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:15:54,956-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:15:54,959-INFO-fiz_db_operate-26-可币余额：1410.0000
2021-02-24 11:15:54,967-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:54,967-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "53801690959768"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:15:55,044-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "508508e6469c45e58e9cb16b820487ce"
s_p: "dGlSZWNNQVlNVkc2UU5PVVlyMzRNWG1LVmZjR29aRVpIR2lnUk80SVNmdzY3bjUxY0xESm14aTJkRmhZdUVCc2h2NmJyRjR1UGdtRzIwZUpkejJuTWZzMUZYNDZOV1JQa1lnZjdmMFp2dHFueklHYmdNQUpqdzE4UE0xR0NwZEZTTk9rQmVnOEZUZ2w2d0Q1OTFEcmFWN09NYUlJeVdBUDNycVVBbzQxWmpQWVB5TUtBdXJjMFM5UTdzYTR3NEFFVlhTNEpGTlJmNWhhVDBXS0VsVVdEVUc1VlJyZXp0V0xHTTNpSlkzQnY5UTVHYzFhTHVGNUNmc2E3cUpxa0xXN2ZRM2pWRTJTUERxYTFZZ2J3TXNmUmxSR2xHWU9pM3huSVZBRlZYVkVrbGY0N1F3QVkyQ0R1dXVrMGFkMng4VHFMbk42VzlwTnFsaVJ6bE95ZjBuVEhldG9XU0I2a3dvQzJ3ODdOQ2JDVlRHRXFFZTRiZHBZanJNZjlhWGRjUTRHTDd4NDNjQUN6S1hNT1dLM2o3NWI4c1JoMXNiblUzdVFQY2RpQmRvRW1ZYlRRVERPN0kzOGtnV044OFpCVnA5ZkFPMmdnaXZCZFQyRWRMQ29wSkxlMlVkalJJRDFKVGdCTXYwZzRMU21LbU8xWUtHMDVlUFFUd0RJY0lZT3hyMXRsajhxd2xFRVhGODNPTktEM0FEMHQwYjdUNXhvNExwbXJQc1luWlFEZ3NLMlBWVUNsOVFXalpYalhoSGZGVm1IWEZ5ZUFaVHp0N2VuQ05qZXk3WlU4djZaTlc2eGZuZkRUTVd5dUV4SDVPcEtVUVlGd2IwMDFqU0tiNGlkT1Rmdnh6aFlEUGhqaTlMWnlFNW0zcVBqWG1XcGNXZndYMkdrUnlhN3U2SUtLN1Q4TlQ5dGpJMjBOZ2JCWXhqZXhpYzFQWlNvRzc2a0h1dnpsQlBoU0R0RDRXTnJsdjNWdFFibkRRVFB1NURnUGVMTXZYcHl6U1h2Y1l4b2RWd0NVN3pYNDI2VEhMcXVTUDJKV2VZbGM3Tmw2eEd6N3Zud3BObUM="
m_p: "8Gsk7aKa621uYcU1c1Zfd9jE6v5gne4XeZ6Z9bDcrP1EfaHzUp1xVrDeCK21fu2O"
e_t: "1614244557590"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "1410"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:15:55,052-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:55,052-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "508508e6469c45e58e9cb16b820487ce"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "dFhYuEBs"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "470.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "YUqHDc+ptQaTQcnTBT+BRsLu5K89Ng1zu0+RQ1hsdVvquvF5q88wWIfSe5fu66mEe0AaYFw2bOZbuzC7X4IiENyUbElD/2z3Br3C6ZHxTpX8K5odjG4fBduEyTfe53PDx/WAo77cMcvwQR6NlO2hWx57hvGyU0Vu1a/zHRyMPq23QafaicND0QTFAzURFQuIMUZZxpW+m67irpDgnocd7VTPTDbvsv13fHlnyGeMoiJYkKNdJ32W8klm/ioHN1f6399iPLNRYDWfPhRAsDSt/H4XqtnJw+Wu3CbMxcBTbLExMmy03D3Wf4Knh3sLS7xMf4/jS+GgGSVQrJkLFSiAVA=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:15:55,123-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241115572076075925273222"
model: ""

2021-02-24 11:15:56,130-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241115572076075925273222&jnet_bill_no=4701972864360661950548934120&card_settle_amt=0.00&card_real_amt=470.0&card_detail_data=&ext_param=&sign=e3f9745992c6ccc67a97604285e0ff85
2021-02-24 11:15:56,252-INFO-heepay-scarlet-53-返回结果：
2021-02-24 11:15:56,260-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:56,260-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "08059475017408"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "IHaPD7GiVXqwj2TZOk8b1Yu3dvhC0oct"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:15:56,333-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "81ef0cce05504fc684efdfe565d5c9ed"
s_p: "R2RUS29QRmVEVktwb3dQSGhMQ0E2Q01YVDFpZUQyRVM1U1IweHVEcTZiSDBYUEtGM0Z2QkpENGNNbnJrSzd5b1k2RXQ0RjFMRHNzbXpKOVlxOU1aRzFVMGd5QTBXQzh4cVdaSzN6Qk45UkxTYTVCQ1VOVHYzaUZ4QlQ0SFB6WHhjTlZwZ0J4aFF1N3MyS2lOUVVzQjBRb3NwdmUwbnBhRDd3TXN6TE1DSUJOWlFzWktNR0hINTd2Vm9kOHdtWFZIZXZDWVVVNUV3TEJSQlc2YkE3QWxEejJrNnpIS0JuaHpmYUZWOWZ2TFFteVF5Vmd3QjloNXBhcTFJTFJNRFNXMWdUbWVmbUlFbHlzRHJ2eWhzZWhnd0hFbFFIT0QyYnQ3ZmprT3FDN0d3YWgzZWZaRVBqSzZOVnBXYVlBWDg2QVNHclI1SmUybGFhejZNS204NDlaYUs2a2lhVnc4bXlDY0FZb290cmdFQ2VFNTdPUHJ3OXVqeXZkbExEWXkxT2ZwaFV6TTZCWk5OQnlaVWd5NVl2cTUxeXFEMmVkRk1hb1J0OTZNM2FZYktmOWxRcGlLQ0hScm15Z3ZERGo2dFBkYWhqcEJRTVdpY29UY2JQSDY2cGRWTXN1c0IxY2RJaW5BR040ZWQ4Q0hBWnVydVRWN25ZbWpqTVBXSUVaNUs0Qlh1RFZVSTJIRldVRUFEMFh1bDVjVGVYRG04a2M3WW5jTTMxUUhYNG1xbjNsQWpnTlptTEp6cEN0N1FuaWY4RTFYd3N6aUdCNkFFTW5hcEFNWUQ4TDBSZVg3Y1RuR042bndKczBNandLd01Ub3JuSk9qbDRJWVI0QnJkVkZlckhmYUE3cDE4VVJFOXY4d1JHdk9XTHcwODJ1N2FQQVBrcVBJNFZjR3RReElKbnE0TUMwc0djeEI1NnVxTm9IanNUMGE2VE5UMzJpZ3NyWWp6QnJkUHRkMHV2N2JTYUs0dGplOXdqUUpxbUpNU1YzY0tGb2ZPMGRXRkp3bGhKWUJSUHFKOHh6Nkx0SzQ2MW9jUXphODRNUWxnNlNRejZ1d0oxY2Y="
m_p: "900KN44fbjdQRLhghUd69eoc9o6oX5Pi27831Z374x1r4VoSk5pK0un4nE9KEREG"
e_t: "1614244558884"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "1880"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:15:56,335-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:56,335-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "81ef0cce05504fc684efdfe565d5c9ed"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ES5SR0xu"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241115572076075925273222"
version: "260"
queryType: "PAY"

2021-02-24 11:15:56,384-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "470.00"

2021-02-24 11:15:56,384-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:15:56,385-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:15:56,388-INFO-fiz_db_operate-26-可币余额：1880.0000
2021-02-24 11:15:56,388-INFO-recharge-52-可币充值成功
2021-02-24 11:15:56,389-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241115572076075925273222"
2021-02-24 11:15:56,393-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15073, 'pay_req_id': 'KB202102241115572076075925273222', 'notify_id': '4701972864360661950548934120', 'partner_order': 'NV203113782656752021022411155791360602907989639810', 'amount': 47000, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 47000, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 15, 58), 'success_time': datetime.datetime(2021, 2, 24, 11, 15, 59), 'modify_time': datetime.datetime(2021, 2, 24, 11, 15, 59), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:15:56,393-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:15:56,394-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241115572076075925273222"
2021-02-24 11:15:56,398-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7759, 'pay_req_id': 'KB202102241115572076075925273222', 'partner_order': 'NV203113782656752021022411155791360602907989639810', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 47000, 'amount': 47000, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 15, 58), 'success_time': datetime.datetime(2021, 2, 24, 11, 15, 59), 'modify_time': datetime.datetime(2021, 2, 24, 11, 15, 58)}
2021-02-24 11:15:56,398-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:15:56,398-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241115572076075925273222"
2021-02-24 11:15:56,402-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 17, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 11, 15, 59), 'amount': 47000, 'status': 'OK', 'rechargeOrder': 'KB202102241115572076075925273222', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 11, 15, 59)}
2021-02-24 11:15:56,402-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:15:56,402-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:15:56,402-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:15:56,405-INFO-fiz_db_operate-26-可币余额：1880.0000
2021-02-24 11:15:56,413-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:56,414-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "39873218699493"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:15:56,485-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "dd83770194864d44af239d266f6357e5"
s_p: "SVJwVlBSenR0VllCNGVoU1dsTWY5RlBBS0doRXA2b2hsellmOERocHRGZmNxeVJHS2R6QndsV0RVaW8xWFBTbndPMEo4WmZidUVLYkFQVjFoOG9JNFJhOERxTXl5T1B1Mjc1QnJ3cWVWS2xFWWdIbzN1eGc3M3hBZUR0MmFRNEtYY05rTk5kczVvaVZRVFBKM2J2QVlDVEVuVWxLWFE5YUVObW5LdTRscGlWTmdZcjdDNTI3UkxLZjU5ZDBQQ0pQMTVJQk9XbXdRVU9TVTZtcmM2YVh0M1R2WE1hU2diQVRyaTc5cHBQeGxUR29DU0YyUHpBVXlSdEdVY2FrWWdKZmlsNUNpeFE2VnJMckNpWmZ5aWhEMEJvdnNSOVJEdWpPM1IzYkRRQXRsaFBrRzJ3VXhMbFlzVTJsZ1BuQ0VPQU1SQWZOTG9Hb3JWTDZFU0NYWXEwVDBuN2pnOGRxT2p1YVJ5OWNLOHA3cWZXNG93Y0g2TExnRnRUMzd3YVE3UEd4S2VzcTFRMzh3elFLRml3c0JyNGZPSktLazVpYXFyRllsNHpBa0JBSHlVQnZ2clpHOENYTGZmWjdwYjVhZ0tOYmowZ3NQRTRnMkVYME4zZ254T1BxRE1PR1Nqb0d0emRXSktkQTBlOEhkU1BYWkRodTBmTms5d1VLQWoybTZUR3U0dUt2ZmdBb3F1QVVvQVBVSUxYSUpMTzBqbEQ4M2tleFVNYTdVcTljc2NXbTQ3U09UYlpwQnowRFZzSHVVNVozUVBvWTc1UVp4RDFNVFJuT1Y3WUQ2V2JYYkphUHpmQUF5SnN6YzhUdDFWS1oxalFaM2ZzalRUQ1N4MmZ6YXhDdlI4WUlCa2lucHlkcWNOTVllZER1VW03eFFvRG5KbzlMSGNuUk02SU9PQVUwUThjMWZQV04xMFkyMjU4UjJIV0R2eklEYlUyaWtqeHdYOUdUdlpHR01zaWpPOXVGaEtBRmZTeld2cHNBQmpzSUJ3NU53TTF0V1lTSWNGdzEyS0YwV2JRTVNDNXhXQ3Rla0hOdG9xWllSOVFwVHoyQk51UlA="
m_p: "5Q9632SQp4z6oEEBWB0o4jo03CAt6VFUL53KJn7Oy0L762IWjBRPZ17jy8jmRQSG"
e_t: "1614244559036"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "1880"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:15:56,490-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:56,490-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "dd83770194864d44af239d266f6357e5"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "aQ4KXcNk"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "470.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "MbSFJztRQDdlk4xgXP69bj4qTfKTdaNMEN+Z/H1Ugfm1+PnqoDrr4ThD3V38W6mNSpbAD9AKh40RBdpiyXnNw7co4l6ZogefIln17wHx2Bx+TKBPx1PDsbixvPg5IdHErYOaioI/RgbcEZNx04yhr3ttjbF+PBSXMpX0AqfIQqorv1EgV6XiRK1GtDXZlLS7oQbF8ngMMvOc07nIXp+3c3FQ0itXQ6ysgrgbavGtoF6muTbfu80wAAuFEcWV1QguyOXD4dOTM9ONqKMIHIQpQYGiXKYohdzUDmdIPt1gLx99w8YNWJ/mO9grGKN+B1JHlBoWcEyeFLGtQTVTUZzJlA=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:15:56,567-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241115592076075925836102"
model: ""

2021-02-24 11:15:57,574-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241115592076075925836102&jnet_bill_no=7845558920343379536712885445&card_settle_amt=0.00&card_real_amt=470.0&card_detail_data=&ext_param=&sign=a3b18def5442532cc6b53da90b496a79
2021-02-24 11:15:57,704-INFO-heepay-scarlet-53-返回结果：
2021-02-24 11:15:57,712-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:57,712-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "06801894572730"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ciSN57GqKCwfYsI38xElVnLXzjAbrmpB"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:15:57,780-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ee53442845ea441a9dc13f1da73a4bf5"
s_p: "Q2R4ZmpwM2locnhsTFFBNjE3cHF1STZOcTZsRnJOZjdGWmx0Uk1pZnkydGxVQ0RPdnNIYTBFMDhuYXdsZXNacEpham41REt1TThQUERCNVdCOHJIUk1tQ0dJdWU1VjQ3Vk9Rbll6czBIYlJBS2xzTlZkNXhZbFozRVNVRGloNFExOXo3Y2tjZGltZ0gwUXVQMzlBTU5aZFhLa1BNemRjZTk5ckZyMnBYVVlXYWwyNFZzbU9PZjJvVU9pc3RZWHdXQWt2V2dCdlRQNFVmc2MxMEJYa2FrTlhDbzBNMWRCU2NYY1dpcjY0UHdwQU5rQUZRazRBcUNxMDBJc2Voc1Z0eTNnbHRSa3VvYloxcTFhUEtmQmoyaUxXWXRhMVJvcHpnTVFCSkoyZGJndURzcnY3V3JwZjQxSUpYZmlVZXlTOTJXRW44andQQ0twUVRhTHZvYjNmWXRPRGUwb2tnN2lLNVNQOGRmMENrWXIxM3RZUk9RUEV3RU1TZzhDV0VZZ09MWDJLUjdpQ1NaMUlpeGxkSTRzWnBQU2lzc05Nc2d3VkZoWktlTzJIbmhzUmptQ1B6N1pYOW0xTGVHTERUM2VSWVNOVWhadlBrc2NwS29QUHYycFBJMENDZmZ5NTRCbFdiYjVKY20waXFQc1ZZeDNWSHdCNGxoYUg2YlJKNUpCY0g5QTljN3ZxaTlsQkFZOHJzcERmaDdDSG14dmRTTUt4Z3ZKMUJhOFBtdjVqM3UwQlBUUG5vSEYwdVU2Y3dHZ1pkektlNHUxdzNSTFF2akcxZGZPelhHeXVNaXJqdkJyWTV4djU0cUFydTVjc0FKR0JnaUJNb2lQcVBpdjkzSVF0czY5QU9Rd0hIT3N2STd1ck5DemdONU9XMXczUkV4OGR0bGw5WmdkekY5Z2l6TWM5NWtwUUpxUEh3bUdjSXNwNk1nZ0Y5ZkZOd09sOXA4Y3k2djE2U1BnNHVUR1pqRU5ic0hoRDlzWFVDMWpGMEhpZ2ZkbmhCTml2Tmk5VlRpQzQ1cXFoTkg3UDByTDhLeHdTUUFrWEJ5c0lzbzI3bnNDOEQ="
m_p: "d1s0gLU28h88QL7p9fslHil7ExF85j1uZ4V4sNTg9366xl5yg7jUdy99836dx73y"
e_t: "1614244560334"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "2350"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:15:57,781-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:57,781-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "ee53442845ea441a9dc13f1da73a4bf5"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "M8PPDB5W"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241115592076075925836102"
version: "260"
queryType: "PAY"

2021-02-24 11:15:57,827-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "470.00"

2021-02-24 11:15:57,827-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:15:57,827-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:15:57,830-INFO-fiz_db_operate-26-可币余额：2350.0000
2021-02-24 11:15:57,830-INFO-recharge-52-可币充值成功
2021-02-24 11:15:57,831-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241115592076075925836102"
2021-02-24 11:15:57,835-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15074, 'pay_req_id': 'KB202102241115592076075925836102', 'notify_id': '7845558920343379536712885445', 'partner_order': 'NV203113782656752021022411155985127530703701887984', 'amount': 47000, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 47000, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 16), 'success_time': datetime.datetime(2021, 2, 24, 11, 16), 'modify_time': datetime.datetime(2021, 2, 24, 11, 16), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:15:57,835-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:15:57,836-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241115592076075925836102"
2021-02-24 11:15:57,839-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7760, 'pay_req_id': 'KB202102241115592076075925836102', 'partner_order': 'NV203113782656752021022411155985127530703701887984', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 47000, 'amount': 47000, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 15, 59), 'success_time': datetime.datetime(2021, 2, 24, 11, 16), 'modify_time': datetime.datetime(2021, 2, 24, 11, 16)}
2021-02-24 11:15:57,839-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:15:57,840-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241115592076075925836102"
2021-02-24 11:15:57,843-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 18, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 11, 16), 'amount': 47000, 'status': 'OK', 'rechargeOrder': 'KB202102241115592076075925836102', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 11, 16)}
2021-02-24 11:15:57,843-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:15:57,843-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:15:57,844-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:15:57,847-INFO-fiz_db_operate-26-可币余额：2350.0000
2021-02-24 11:15:57,855-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:57,855-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "74717654540441"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:15:57,927-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e252c881fbc9469b9566f0129c2c867a"
s_p: "a2p6NzZKMjJDWXlLWktzNFZWMEMyS0Z5NHVJbDAwY204QUhITnFhZXBwaGtLMnJwMnI5dGxSOUVPdTNHWjFFOE1UUlZDcTYwbGM5RzA3NGMyeTU4TzE0eWFLMEZQd05BOFF2aUJNckpuSm5YUzR6QUJrbmo5dzBFRWtaTGhwWFBZbzJCSkdrM3hVRTFqZXp2MUdoTTVvMGJRWms0aDVUbjBac09tTGpZZnlUMEVUdE1YMUhqdlcwNUJYUXBTdFVNVHBqM0UwY1YwbUVJT09saVZORWM5Zmg3S0hGQ0NmVFRYVHFOODNsaGtxNkVYZWdDM1VPUGdzNjhieDMzN0xVQ2tZSjdkbXhQZjJKUGlGN1BsRkQyVkw3clRkT3N4U3lpa0NnZFB3QUk1UEluMjcyVXR3ZEFua2hZc1NKQkZMNEM3UlJMMHMyYm9KTFNzdFBZaHA2ME5PeGk2SDZtREZXZ3VVZkpGTXdaRzBVdmRPbm9hYk0wZ01RS3NxUDFHbURGVFhSNmtiVnUzQnlITmM4UFFoTDNuVU92VXp6QnpTdzFZTklPWEt5aXl2ejJsbXROenRNcnNXNnN3Tk84ck9YYlJZQU1QcFQ4RjZKZjh5VWJSNXVRMHRqNENTU1ZZQkh5OGVQZ21vcndrQ1dGWjBqUFFqMlRzc2hnMnl5UTlWbnBUdW5SOU1mMzcyMVE1SWp3SkVuQ2J0aGRLZzJKNVBsUE5tUGZVWWZEMHVoaEJpZjBvTG5PVTF5MG9Ua3pSRUEzVzFzeUdhdzFtaXZJWWl2UUZ3RTdmOXlnbFZYTWNjUkVlSWg4T2NqdmhNUm1RNHEzUVppZFRsQVVmMGRKWHY5MEh4OHQ2WFpHdHFpRlFFdHE1NTVLeFdycmNSeVBOSWd2clVOWDk2RUplR3ZZQlFlMVU5UjZJZzBHT3FFV3NJcGtuZjQ4dU9NdDBFQ1pYcGUwbU5vYnJUOVp5eE1HcFB4SERwU00yeHVYY1NITUJ2MEVKMzExQWZ1Sk9MblBWamlHUG5CcmlGUzBxOENMa2JaMEJIZTg0aWh1R0RndnFQeE0="
m_p: "dfo65co1L6G7LWLzr8Y832iq2vf508F6pp9L1uS4dR4GZ5SB23059h5G9XSWd2vJ"
e_t: "1614244560477"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "2350"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:15:57,929-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:57,929-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "e252c881fbc9469b9566f0129c2c867a"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "8QviBMrJ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "470.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "RIxA8QXzBSvoiKmhFcKmDoVlbS0aQPB6ObxO7KPHtIhDkRzNk19BTzMtbJnJL9kcH0EOv2oRXnv3prrMObIVICWd0OO12CKPXpEdHmIssH20FL4ypZL6yMktjryjkT87o+bGz70oXvtUsM4UBgcKytjYyVXJFzADiJzZa0VTSMG9fZ08TGMZsS9M0eW56BVl/1N67HYo7PxT+UJ0Kt8QDVNXkErrGiOhLd/UCDgckzCYoTVSK0oMcqOnC4/tQCFXE04YDaqrzvm9WpHA2Wehjnn4yfwj9xBgtXLxkc7dxVfEm/Zphef6ImAnSZq29+1E0HBIj+KWXFGnBOinDWRANw=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:15:58,012-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241116002076075925463042"
model: ""

2021-02-24 11:15:59,020-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241116002076075925463042&jnet_bill_no=6387015723182224795637137734&card_settle_amt=0.00&card_real_amt=470.0&card_detail_data=&ext_param=&sign=0429c045843195ee7fb2aab732c996fb
2021-02-24 11:15:59,166-INFO-heepay-scarlet-53-返回结果：
2021-02-24 11:15:59,174-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:59,174-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "26593091802960"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "5PM2suY6daLn3wmhHZozRS4FritExOVT"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:15:59,248-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8dff2027d6c144598a19e562fde0f4be"
s_p: "MFNidE9Ya0lDQlN0UlFtVmZWSWRJd1JrYnVzbnZpdWRVSlZkMmNsRHVkQkZYZGpCOFc5aVZINXlEeGVSQnV5NTVBa0pMRHRBT3BtNWV4Tmh0T2ZSSmZJcnVKdVdyREgxVmcyQWhKSHk0NjV4Y2s2dWJWa0dQTXd4TjVlQVBxRzZFdjA2dUxHdkJYN3Z6VjNaTzZjdnRtRW5HUlhKbFVGWVh3azN6OXFLY3NBWWV4TFpqUTA1MGNzOHkwOHE2Ymhxc2poWXFZNm9NMkpQaXBnTngwd0lFeFZPdnVWMm1ZQmJKNk12VVJnV1VwYWJWc1d6WmpNS2ducXkyZElDQVNFQkpTem1uZG9Yckw1QnNvNGhHdmpVdW5sekxqNnVZYUZuZ0RpMnVIQkpNblhvaWdiWUpwTUZMWVFWakZIUERkUFlSU2RwclZHMndodHgxZjkwenY1Nkk5d2JPVmFBRlhadGdXcjFLR29ieUk5RmdpQjFEeldRbERvMFJLcmg5ekFRT3JwNzNjOUx2ZEgxTENPaEN6MTZLWHFvdUJHZXNlTUFsdmx0STFWVllxdVZpN0k1c1R0UEJERlFDTlFNSTlOMG1qajduSHFveDV5SE5VVkl1SVJ5OG1XajhQU0NTQjVTSzk0eGtxc3laakcybXdxYkVDUkpGOVQ3M2RvdHh5YndnN3UwVGpUMHFRbW01Y2d1MXhSdWFUV3RTRTZ3bFRnZFpaMWtveXNONW9na20xalNUUk1kUW5lNFNzendJamJ2QVZ1Sm9vbFJ1NzNTQjNLdWhHTThTMUNoYXg3d3E1aHNpdFUybU94QjJqeW95cm80eHhEMEM4U3duc3FhVmNUR0gwUGZROVhBNTZkRzU2ZFhTZUJQZnZGU09qVk1Dc0FCdll6YkpqcjR6aDJVb1ZCY1NMU3JmUk1nSmxyWGkwSHpYMTF1NWJtWkhnQ2xWaHBia084anREZlFQeE1YbE8wTDlyajZwYmlDRmJUMHMwZUxYYjJoWHV5QlNkRXBvc0dtYmEweDdyNUhkMFBqZlA4QmNBU2dVMlNETFptZDY4ZXE="
m_p: "256Wc7ZeS552Dj55F6y55DjgTN64RE867LgCjCvX9679zeKRr1t3T0Nyt10ioO0c"
e_t: "1614244561800"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "2820"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:15:59,250-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:59,250-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "8dff2027d6c144598a19e562fde0f4be"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Opm5exNh"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241116002076075925463042"
version: "260"
queryType: "PAY"

2021-02-24 11:15:59,336-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "470.00"

2021-02-24 11:15:59,336-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:15:59,337-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:15:59,340-INFO-fiz_db_operate-26-可币余额：2820.0000
2021-02-24 11:15:59,340-INFO-recharge-52-可币充值成功
2021-02-24 11:15:59,340-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241116002076075925463042"
2021-02-24 11:15:59,344-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15075, 'pay_req_id': 'KB202102241116002076075925463042', 'notify_id': '6387015723182224795637137734', 'partner_order': 'NV203113782656752021022411160074879016692879925326', 'amount': 47000, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 47000, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 16, 1), 'success_time': datetime.datetime(2021, 2, 24, 11, 16, 2), 'modify_time': datetime.datetime(2021, 2, 24, 11, 16, 2), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:15:59,344-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:15:59,345-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241116002076075925463042"
2021-02-24 11:15:59,348-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7761, 'pay_req_id': 'KB202102241116002076075925463042', 'partner_order': 'NV203113782656752021022411160074879016692879925326', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 47000, 'amount': 47000, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 16, 1), 'success_time': datetime.datetime(2021, 2, 24, 11, 16, 2), 'modify_time': datetime.datetime(2021, 2, 24, 11, 16, 1)}
2021-02-24 11:15:59,349-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:15:59,350-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241116002076075925463042"
2021-02-24 11:15:59,353-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 19, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 11, 16, 2), 'amount': 47000, 'status': 'OK', 'rechargeOrder': 'KB202102241116002076075925463042', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 11, 16, 2)}
2021-02-24 11:15:59,353-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:15:59,353-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:15:59,354-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:15:59,357-INFO-fiz_db_operate-26-可币余额：2820.0000
2021-02-24 11:15:59,367-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:59,367-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "08252449020627"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:15:59,444-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0e134d40cc164438ba6edf647d42f1d5"
s_p: "bXBTRndYNHBFS3BOYmhnaGM3VHNEdHdWdnZRYnByalRnc1FOTEJuN0poWVpjUHFvYTJLT3A3TWpuVVVjRHVYUFJndlZCOEJNSG9WOE9YaVdNZ09PY3plZ2h1TjRWbHJMNnFYMjlYMUc1WWFxTmh3b0V1Ym13ZnFpcmZYWDl3Z3VFVEtxSXBjWHhpWlliSXZ2ZE9aWGtQZ0N5RVM1cmNRdlhneTd2M1BZMHRpbnBQSzNLVjhFMHpkM1FoZ0hDVVdFZ1VmVEkydjRMR0VaSlVscTJxQ3NlSEpIQlo4NVBLMnNBR3FWQjAxNXE2elVMOGxOVkd5VU5TdEN4Q29pNjNGTWloaldQVHR5S1dyUm9teW4ybUdwZHl5aEFuZ3dQWDA2RmtIMktmUXNZWFF1WTZ0N2tUQWpncW9mM0pBdEFrbnNmbFI5OUZ0TmFYeUVKMzB2ZlJBNXRTYWt1TnhDeHZSUFVaY1VNelpGejlBbW9IQjFjS1kzd2lqMXBzeFZjS1RPMXFIdG42ajUybHFwalFUZzBHZjNqRE11eFRreGFVV2xqNnNvdkNEcVpEV0FBUWkzQmpEY2hMczNUSG9KeWhodmprTUtRTVdBWnFDNHlQYWNzQWs2aVZtS3pLekYyeE02OEV0a21HcE56UWtRSExlN0FncWFJY1BEY2pVWGlTR0FJeU5HUkUzVUk5SUR2dTViNUV0TDFTcm0xWU16VThIVE9qZklweUxHeVVUTTFxclRrNms1TTFqN1Y4NWkzYnhmbGVqUmZtM3dMYUp4N3A2TkNyZDJUTks2U1gySGx0bzBYRTVQcVFBSWQwRXRIZlFpRXJKTXkwZWZkS0lteW5FUU1LSDcweWtNbHZKZEJhMlhkalhnYXllQlJubk52ZjRsWEp4TzlnNzFCVXprWmFYYVROV0EzUlNLSUx3UVcyWW5ZaXpncGtEMk5jcWRhbWxSUXlaZWtsdTdoOHhpZm9uUkpaZGZjQVZHcVRYVHBRWXpKbGFVOVNwOURWbmdzRmtaR1pzTG5pWFZWZ281NDFWNU41NEtFbjhzczlCU2FrNGs="
m_p: "fO6zI323ZnWz2W0YPT4oW938w24SX069FxIAlmXDO3wEkAGk49Q2ZX2B54L2fJDR"
e_t: "1614244561990"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "2820"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:15:59,452-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:15:59,452-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "0e134d40cc164438ba6edf647d42f1d5"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "DtwVvvQb"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "470.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "JbFxYu9C3XObpjVtW6rkWADqc+NE8UvTuuggVXfz6bbBrw8zrtRPjUbD7pCDJZ2COf2tVAYdJmR+bHPfedqaamOkl1VxjV+5RU8kuQmokDi0XIAcQds/+AehJvocJtj0E77jswDPUom4JOulmb1uMEBzyvIrkkhHvhGI4RvRa7qf0XAGHXgUdtSFg4x37/B4xF4COjV2BfU7jQ9JAG4xppD4BXWLgxs1KQzUWi/BgDlFzgQPOXXpmw6z8bdq7zwq4xvOr6ta/6PbcyoOFFzfH4vHSxV3h6nbVNBerE3XLaNg3TJgkS5HzhRwyKUMPq7ypncQ1jtU3gJLXJq3bKQKNQ=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:15:59,529-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241116022076075925674342"
model: ""

2021-02-24 11:16:00,539-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241116022076075925674342&jnet_bill_no=5186522272893000855557871147&card_settle_amt=0.00&card_real_amt=470.0&card_detail_data=&ext_param=&sign=c78e617da58d7a9841807deeadee1acb
2021-02-24 11:16:00,731-INFO-heepay-scarlet-53-返回结果：
2021-02-24 11:16:00,740-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:16:00,740-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "46400024297270"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "sGEcCV8ghjq0bkTRK6OJX7MmwSYtZ5pu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:16:00,812-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f37561f979a943829d5cc5493047d31b"
s_p: "U1Fnem56eEFUbzZRN00xTDZwSVQwWW1vVktzeFU0YmFJUlg3ejJBb2hRRFNmTjZYMWNIaVdHZmFQYU1BTDVBS3ZtSnd4STV5MGRsaW1kVEltOGZ3aFkzM08zRDExdVFTdm4wVE1ldFVySDlPYW1BMXZrTjVBQ3EzdW9JckhPYlMyUkJzRzdra0VIR3hjRmlvMlJDbWFhd1BxU2xaVE11Q3BUMG9maGFUS3FKQVRwUFRaVHpvNHZGWVFsbkxQSDFYdjNzbnNZQmQycUhmUG40YTNhZ1RQVXBrRzlYaVl4QzNXT05uQ0taMk9DUDVHTEc3R3FYdHl0eXpoZE1HdEMwOWVWOGdsMWt6aVhLZ214dlBsQTU3enVrb28yclZrUXphMmxxeFZGRWxYeGpMaVBpYzd5WlhwUlBqYXZOeVZFMllEWUlRNTJGZVNsY1l0c2dEWXNNNkNocDFadEtWRENQZUFibk1OM1I0Tk9BYXozenhoZjhVb1NnZEplZ3RwT2E0eHhZbWVNNDFYdERtamJUUnVlZ3Rxd2FYRlQ5QkR4NzZnczhOZzU4MExLODB6bWNtWllRYkVpcEl1bkhYUlIyTkF0MFZKUHB1Zk9KU24yNmNtdmNKTll4V0ZzVE5NVzlBUTNOVndYMkQ3QXBkQ2hEWVJtajZndVJWb3hhMm9JQnpkT1VONjhiTDJDUlZTR0gxU2szY3lvYktYaGZBWmlxZG41NDViQ2pWM2ZFR0VITnBZVHdmMHhHMlAwY0Zzazc5ZTc3YkZvVzN1VHJtZW11ZGVvYkxscFk5MzFDYkp1Y2lWeUViRmhONzY3ZEQ4d2ViOVd4Q2NVNjJyTDlVNDFqN0dCejQxVmNYY2NmclpmR1NMU2huR0pXbTNJMGFCTDcxcXBweUdyN1dLaGNPR1RFZW9jNldXOHFDcTlUMDhMV1NJWG9xT01lbVNmMUROaG1EeWo0ZHBxZWw3UlBHRkhuWE1GclhuWE1RdFNYQ3d2cGl5M2xtekphb1lxdWlwTmxIUjJOQ1FZcWpzVmxuRzM5WmZKMlQ4em1aU0hDZHl3MlQ="
m_p: "BBOB9t1xa0kYI56c2924Gb1C4u16FaTZ81t3FyfcYhI8JNdpKxd2w5JHxKOQWg3s"
e_t: "1614244563365"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "3290"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:16:00,814-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:16:00,814-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "f37561f979a943829d5cc5493047d31b"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "fwhY33O3"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241116022076075925674342"
version: "260"
queryType: "PAY"

2021-02-24 11:16:00,868-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "470.00"

2021-02-24 11:16:00,868-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:16:00,869-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:16:00,872-INFO-fiz_db_operate-26-可币余额：3290.0000
2021-02-24 11:16:00,872-INFO-recharge-52-可币充值成功
2021-02-24 11:16:00,873-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241116022076075925674342"
2021-02-24 11:16:00,876-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15076, 'pay_req_id': 'KB202102241116022076075925674342', 'notify_id': '5186522272893000855557871147', 'partner_order': 'NV203113782656752021022411160221264777677770004709', 'amount': 47000, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 47000, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 16, 3), 'success_time': datetime.datetime(2021, 2, 24, 11, 16, 3), 'modify_time': datetime.datetime(2021, 2, 24, 11, 16, 3), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:16:00,877-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:16:00,877-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241116022076075925674342"
2021-02-24 11:16:00,881-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7762, 'pay_req_id': 'KB202102241116022076075925674342', 'partner_order': 'NV203113782656752021022411160221264777677770004709', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 47000, 'amount': 47000, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 16, 2), 'success_time': datetime.datetime(2021, 2, 24, 11, 16, 3), 'modify_time': datetime.datetime(2021, 2, 24, 11, 16, 3)}
2021-02-24 11:16:00,881-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:16:00,882-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241116022076075925674342"
2021-02-24 11:16:00,885-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 20, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 11, 16, 3), 'amount': 47000, 'status': 'OK', 'rechargeOrder': 'KB202102241116022076075925674342', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 11, 16, 3)}
2021-02-24 11:16:00,885-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:16:00,885-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:16:00,885-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:16:00,889-INFO-fiz_db_operate-26-可币余额：3290.0000
2021-02-24 11:16:00,896-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:16:00,896-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "56914477962026"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:16:00,967-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "986694ecb8814614831f00ea58e7d205"
s_p: "WFBVcGpjNGVhTVJXdnhzajM0ZUp4aTdSVTFrd2hLN2hUSk9LdldlSVJkTlRhUDc2OXFkT3ZRU0FRdmZ3U0hvaDdHQnB3b0N2UFNZbXhWRzJYcU5JZmpDeFNybWJidDZBVDRqMmZPNFdtdlhLZVZYd25scjE4YUpkdVd3Tjl4NzE3cjFUbXFaMVNLckoyMDV4WkVPMUxVM2x4aGJrU3RleTZPSEFKakQxRWYzZEFhZXRWcnYwOHQ4emVMS2VNTW50UlZYQjlYcXZENGhRd1RmWlZ0eENsdzZFWFdGMzI1d0twd3VkZFVXSUszMjRTbDV2clplTXVRcGNnYjVSM2FkbjZ3dlVwRlI1eEZxUjVacTV0Y1RxbURYMVN3enladjQ5QWFKOUJVWDhNNm9hVndnUWJ2TVVvNVMzSVNRZnN5UHFlanJScDVCT1BzOEZlaHJyUm1ZY2NDYUlRRTM4YkJrZm5maWhhV3hNTjROeUIycEFlM2xNd3lFSk15VEJZbjVoZlhOZ1RMZ3RsUER2UDh3Z2dISWpJbUtZdElkTkQ0R3ZxWU84c3ZzWUVFSUFhMFMybUxVNXZpUmdxc0J5WGozcTVvSjQ5djlCdlhYR3VjUWZMZ1E4R0xsODJZYUhUd2c4Tkl2U2gzVXIyZ3lydEl4Nk5GN1lEMTlWTEFRQVY3ZE8yVEJnZ1JGQnRQN1I4R0ZLOE9XclFBWnluaWViOTk1NXRRdUJtMVRlOEROR09DVmJEUFFRR1BnSmpFb3EyT3U5QnptdHgzM3BXV3RhQlBFY3hEV2RJQ0RUWVVmU0NxbmRvQWVaSHFwUjJuQ3NMcUFhNHB4Wm1SMnA0RXRUbzlLM2tTOXN3MW9hSldwU1Z6Z01GZ0lCYTZ4SmR1dDIwZTZPb2tjUkVxZnhMMHl1bWlRSGRsNFd3Z0FDNXV4VFU3elNmdDdqR0ZXZk9FYW1BdkFkWU9hOU5kaG84d2tpeDBVYkcyWnlYZ0Iybkt4Q3p5Q0pXZ0hDWXhJbzI3bEk4MjhoZHJ5aFdwcHNMcFdUWDhzY29pOWlSN3Y0YU1KclpsNVY="
m_p: "QlC0daVbu3Jbcq8pex9DVLk4ar4I6PCk00Pz03xKO5GmID3snPDbF220214anqvf"
e_t: "1614244563522"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "3290"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:16:00,972-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:16:00,972-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "986694ecb8814614831f00ea58e7d205"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "j2fO4Wmv"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "470.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "pRWTK2veJ6Qm0fk4w280FPOWZSaSOwUdGlnjLbYOgy9YoikKG4fvQe2I+7cuaSdM2JPMWM6tCfycK/3OunRiz2xsi/jg8sJMDeOD/lRaDXAgFIpWJDGIaW4k4wSGQ/Wyx5dWHMr9n6j5RkldWVYZKE5GobhCE9SuLQs1KM7Z5M5svq15zgZ397fi6JhzXje1DOcUUYuWuIabu1c2bEmsEHwYzDsXbR3cwXEkjEnaRLhz3kZsiEZy3HeDZ1MWj0+YdnadcTW1gYBudwnRSZH2e4HFPZYOPsEbE6LNQrhc+bBPJ5LlaWslRaAUUjMd/t4H1cbEYi35+JMDqopjmjJ76A=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:16:01,048-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241116032076075925507382"
model: ""

2021-02-24 11:16:02,055-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241116032076075925507382&jnet_bill_no=5557413589741016117988898691&card_settle_amt=0.00&card_real_amt=470.0&card_detail_data=&ext_param=&sign=d68e7e00abda6428cb630ad071af5a20
2021-02-24 11:16:02,169-INFO-heepay-scarlet-53-返回结果：
2021-02-24 11:16:02,177-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:16:02,177-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "74701927949641"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "HGfQay4tlKbIhuR0kdWznVx38gJDXLNE"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:16:02,248-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a6606174991a4438b30c98289bc7c9d4"
s_p: "UlJBV084UUZQZXRoUFVNeUp6cHBDWVZnNTBtVmdjUlFGNERqT2c0UjdvS1VqNWRBVDVtT1pHS3JhdU1PdWY2NnVXeWRackc0VDBEdVBmeHljRkRxWThrMWxIVHRKek9lN2R1VFhPWnZDZ3dWaUxnSjVMTnpCeGJnMlp6SThwb0RCREIxaU80a25LcFNYdXNIT3dXT1Nsb2NLeUNGN1ZzRUZzRmdrTzkwdkJHS1NkWHY2M0VGdGZVVGpQWlZ0ZVd4cHl5ckhMMllkdFk2QTFkbUcyNHVDRUR0ZzZpM0ZMRTc4SDViT2tWSzByclRtbTRHTGVIMEp4cklhZlo1bnRqeG9lVm9JWEt2WWNWbUtUMDBBMmJWZ05kd2EwUFRXanFqZ2Rpa2RmTGFJVk9heGhEbEVLSWpCVHNablhYTDZ6a1NCU2M5a25YWGdqQ3FaREEzaVV5MUpaZ2R3aWhSSm8zdFlnd3NFTlVmTHNkeHlNcnZCVGVKMkdSR3d5REhTOXI4M0U4NHhoUDExWlVaMnZkMDJDRGRiUmVKcXpZTU5kY2NaT21NUUFyU0ZLN29TY1RLZzlOaVNid2NUTHhaM3BXY2oxaENKWWtjcDVVSzZRck9tVDBLTVZ5amFGM3U0TW5TeXBtSFVvcFpabzRydmdYaFY4MjUxYllINkF6VG82eUhCbVpNTGZsZE1lYU5iRGd4WUhZanJRQ1BaQTJlaDJQS0RGYXpmUnFwd2gwQ3hxeGpQQ2pyMmx4cEFJTXV4dG5DV1NvcUl6bVZIMWFoenB5ZzVZZFc1djIycnVaOWpRZjdjTXhaWFBvckNRU09JblVra1N2Zk5yRWxMc3AzMUVSVUJNT2NFZ3RjRUVSek92TWNWd0JVNlVWTDBld1ZxTGNLRDMwODRpempSMDJOSE9DMUlrN1NLYWhiUHhrZDJhZ1BGQ3RyUExtNU1IelpWZkk0eWZ3b09vRm5OTHBOaGd1RlNkRHFpeUg1TkpPR2JxcG0wZnUyUDMyQnpxQ0Y0Tzk1aDFjREpKSHBCNThLREVVSkxHYUV0a1VLRWM5VXBmU1Q="
m_p: "5H17n9DY9B9VJyd5Go89xRP85F7Q444kV17r2PS6sN5oMW7mGjNNwiUuY437Co0T"
e_t: "1614244564799"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "3760"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:16:02,253-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:16:02,253-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "a6606174991a4438b30c98289bc7c9d4"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "8poDBDB1"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241116032076075925507382"
version: "260"
queryType: "PAY"

2021-02-24 11:16:02,299-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "470.00"

2021-02-24 11:16:02,299-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:16:02,300-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:16:02,303-INFO-fiz_db_operate-26-可币余额：3760.0000
2021-02-24 11:16:02,303-INFO-recharge-52-可币充值成功
2021-02-24 11:16:02,304-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241116032076075925507382"
2021-02-24 11:16:02,308-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15077, 'pay_req_id': 'KB202102241116032076075925507382', 'notify_id': '5557413589741016117988898691', 'partner_order': 'NV203113782656752021022411160345176913295244762342', 'amount': 47000, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 47000, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 16, 4), 'success_time': datetime.datetime(2021, 2, 24, 11, 16, 5), 'modify_time': datetime.datetime(2021, 2, 24, 11, 16, 5), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:16:02,308-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:16:02,309-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241116032076075925507382"
2021-02-24 11:16:02,312-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7763, 'pay_req_id': 'KB202102241116032076075925507382', 'partner_order': 'NV203113782656752021022411160345176913295244762342', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 47000, 'amount': 47000, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 16, 4), 'success_time': datetime.datetime(2021, 2, 24, 11, 16, 5), 'modify_time': datetime.datetime(2021, 2, 24, 11, 16, 4)}
2021-02-24 11:16:02,312-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:16:02,313-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241116032076075925507382"
2021-02-24 11:16:02,317-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 21, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 11, 16, 5), 'amount': 47000, 'status': 'OK', 'rechargeOrder': 'KB202102241116032076075925507382', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 11, 16, 5)}
2021-02-24 11:16:02,317-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:16:02,317-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:16:02,317-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:16:02,320-INFO-fiz_db_operate-26-可币余额：3760.0000
2021-02-24 11:16:02,329-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:16:02,330-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "33090791931706"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:16:02,412-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "462cde06f54842918023c7c683f5c07c"
s_p: "VGNpbFVXYjNJUW1QTVhQaHg4QXpFTk02cldud0xKRW1LWFkyMFY0b2tMT3kxVzZKQ2JpWmZ3bTQxUTdKYjhJRnZYY0lzeGFmMGMxdmVOSmE2RFZZS0wzdVpoNkxTWk40c0IxQWVZRTZ3cDFNQ0lTUWFDbzFHQXU0ODNoeE96UWlKMVN6eW8xb0Q0clllSW1rYWhlckhVMFZZSjdiVFlmdmM5TGxnQ0RxT0tjaXkxVFV4THFuSVUxWW5rT0NWcUF1YTRCNXRoTUlac3pxZnpqbERhd0dGQ0s1ZWZIc2o5ejdOYmZpMThFT1JEM0MwZEh2c255bDhnSVc4OGhVMVVkWlkyWk5ZeVh3cnJFRnhUN1JuelJidlF4YlRYaVdWV1RtZVI5Qzk5QThLZ0xyd25OZEc0cnRpcHhLSUtmTmhSU21NeUV0eDV0STV3TzZQbEFqWUk2WXdFaWZDMHJzN0hLdFh4eTNHUzUwakhhelFMUXJUbWFBSjNDc0VjVXFlWjk4d2tEcnA0SW9BUDBlTXRMOWU5MmdIbTAxcnI5S280blFyc0RVU0dzRXo3cXlueTNQa1R0Y1NPcmNFOFIzM2VJOUhrSTNtZzhGb1ZkTGZ3M2xsNXdGU3dqT3l2YjJkbDNwOUcwWnJLSVF6V3lhUzkzSGk4MWgyQzBjdG9kT1lkd2JSRXRsdTNPTlFIR0xkRHROZTg3OUFDTXlFWE9RWmhEcXB4SDkwZUlmb3VIbjA1S1RjMWg4RW96M0N0VENPZ1pDbzhJNzVEcUJlcUNucWlrdDNhWTdNeldyZjFNWmUyS2kyV2t5RnExSmhCZXNHWXZKdmNjdkdBRG9udWVqMHRCSGlKaDYzaHU0Z2JkZlk0MnNQQkh4MFBScHphdTFkc0FUSGJsODRqdGlrWWloZVdMbXZlRjB4Q095OTNRaERadFJGRGFtdzdHYnVLdzFsazZlTkxHREZzVWlhbnJNSnNEM1YwQVR1ampYMlZ6NDUxd2R4OXlUVVRyTDlTeVdUS0lhMDhvZHpVR1l0YTZaQ0VERG5GTEJPSEpOcUVaNTRTNGE="
m_p: "2fCr7zj6kS5n96l7o3mcbqRM4v2JBlc3o39l74mDihvRZ3gLP5ATOd65F2s85V7Z"
e_t: "1614244564955"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "3760"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:16:02,417-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:16:02,417-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "462cde06f54842918023c7c683f5c07c"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "6DVYKL3u"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "470.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "03bE8uWExo72ZH/4uusIrdz2zCZ1mLD9+jQdVSMMvrODuREDyR9fk9hdVcxKQvZOhDDFsy8INjy4xOeZFhVvSCOa4dcYqzYuTJYbacsOSrB2iZk4plQ2rkrVtz1XpYsUg1V/ufXJ3xdYCqY35zjPkvNnQuOPxuZZqAhAi4johH8/R2RcKEueu3pQbE/IF2EFmpERpRgbPkQ2R4+4UUuGhPdZ3x9LJ214GiNisqbUYzNFICN98Rcui/JdvWhvtiZo2jehQwVJIvTM1BU4ViWxedIAAirCfGX/DdeqgCHvfJPYG9aELB6jRgwYhOmj43Tff/5q+p1EYB4uDoD+kcuLEQ=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:16:02,489-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241116052076075925528352"
model: ""

2021-02-24 11:16:03,496-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241116052076075925528352&jnet_bill_no=7171024809067133156930652463&card_settle_amt=0.00&card_real_amt=470.0&card_detail_data=&ext_param=&sign=0b41d6d9f5d692ec6a572a2924c84cd7
2021-02-24 11:16:03,631-INFO-heepay-scarlet-53-返回结果：
2021-02-24 11:16:03,639-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:16:03,639-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "91423962553136"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "N4wvn7J3BiSuXgyD6rU18YMoZzhOLmas"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:16:03,720-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8885be6c47b640ec92748f0701af179f"
s_p: "aWtrVTZXcjZ0Q1lFcGZkRGlHREpocGFRY1JBdUJwa2I4YUZvTUpVNlY4WnlJeGNublhoUVdyMGUyTXBZZG1ya2plUWowcENPakViSkFjMXU3ZUVkYktOeFlUZHNlajhJZW05MDFzOHFzbVljRDlyZGVtNDRxOG95MzB6WVdPME1GdDZ3Wm92ZmNIVzkxM0laMVg0Y0pWTElTQ3RhMFhNcmpIVTQ4dldRaVR0V0hJbnlSUWlINzdGWklPd0VZU2FZTk1wNkZYQmZEeDhjSE9CQW1oS0xVZzlWcFpiTUFOekhPSGwxQ2MxSm5kQmdybE9vakRhcmdXZlBhWVV1RjhhMDdMaFRpVGhwZFdlZW9uN3pvd01uQU9NR21zWFlCUDJvUVkyQ3A0Y1BJQWJXaW93dWdMMG9VcTFwQmNsSHcyQ1M1d2lScE8xWExta0hONmhIU0JWaEF0Qll5VW54ZmI1Zmg0YVhXOWdvYll3ZmlZNGkxTm5yd1hqQndYN0tzS2ZQTEVVY093NlhlNUpKbk43YVEzSWpYejJaUngycmJiajhPR2NVWXR1cWNnekZzaGI0MzlIY1E3TEVtTldGYzZXU3B4WEVSSHZJbW1BQjJMd01Gc3RHcWtBOWdrbjRMeXgwYTFIczlOVWFKcThDN0NUNUZwWTdWcktybE1nZ2taSlZLTDlwQUoybVlWU05kZWJzaFV6ajQ2U2VxQzlGcE9NU1NkR3hleTZVcXNHc0g4cGFQMUtJSXJadnE4d1dWMHpDU1BVR0pKQ1JoUkJibjYyTUlIY2N0Y1NRbE1GODkzaFhhc1haa2VqNEJZV1BKcVlKcWhmYnRYZjBPZlNqZ2FQUlZjZzZ0MTY3RHNpa3FLRTIxd2NlVEFkZ2NxV1ZJT1FoSkxMMHZJRm1keDNmMEFYQURrOGhLSHZnck02djNkb3RPd3FVSU5aa2JCRWt6NjZxZkczNEZxMmVPR2dseHRzakNFSnF5OXpxSlgzTjNDbWpDR1hrdDVoMUlkSHBnRVJYN1k2T29SQ1BnZHV6emlXc0JEc2g5OU9tUU9YMWRzYWM="
m_p: "7Ua439w9Q8F3W56F607V15CH2l520rjBwxC8ut6fkFld76hxhRQH8m7EC7e461kq"
e_t: "1614244566265"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "4230"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:16:03,725-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:16:03,725-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "8885be6c47b640ec92748f0701af179f"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ej8Iem90"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241116052076075925528352"
version: "260"
queryType: "PAY"

2021-02-24 11:16:03,931-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "470.00"

2021-02-24 11:16:03,931-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:16:03,932-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:16:03,935-INFO-fiz_db_operate-26-可币余额：4230.0000
2021-02-24 11:16:03,935-INFO-recharge-52-可币充值成功
2021-02-24 11:16:03,936-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241116052076075925528352"
2021-02-24 11:16:03,940-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15078, 'pay_req_id': 'KB202102241116052076075925528352', 'notify_id': '7171024809067133156930652463', 'partner_order': 'NV203113782656752021022411160581996944448023233751', 'amount': 47000, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 47000, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 16, 6), 'success_time': datetime.datetime(2021, 2, 24, 11, 16, 6), 'modify_time': datetime.datetime(2021, 2, 24, 11, 16, 6), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:16:03,940-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:16:03,940-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241116052076075925528352"
2021-02-24 11:16:03,944-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7764, 'pay_req_id': 'KB202102241116052076075925528352', 'partner_order': 'NV203113782656752021022411160581996944448023233751', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 47000, 'amount': 47000, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 16, 5), 'success_time': datetime.datetime(2021, 2, 24, 11, 16, 6), 'modify_time': datetime.datetime(2021, 2, 24, 11, 16, 6)}
2021-02-24 11:16:03,944-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:16:03,945-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241116052076075925528352"
2021-02-24 11:16:03,948-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 22, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 11, 16, 6), 'amount': 47000, 'status': 'OK', 'rechargeOrder': 'KB202102241116052076075925528352', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 11, 16, 6)}
2021-02-24 11:16:03,948-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:16:03,948-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:16:03,949-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:16:03,952-INFO-fiz_db_operate-26-可币余额：4230.0000
2021-02-24 11:16:03,960-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:16:03,960-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "00692788878225"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:16:04,033-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "69f3fd060f1b4a7583258bbf086d9466"
s_p: "d1F2bXB1QndvRHFDaEIxeGZOdXAzU2JaUUwzSFZHbmJmckRBVEJKYzM1YnQ0ZElyV2xLdDJlNUZVSTFiaTFmTzN3SjBDNmVXY2RoenN3YmNVS0pSZG1kRlRqWnJyeTRiWnJ6RlZNaTlwelliV3p5N2pXNmc3T2ZOck1Za3AyRlN2bUo3MHFNY3pNVUZyMjRQOWJocVFzOFloeUsyVVl0TjFiQmp0UmpOYXNGOXdZbWVvblBLQjU2b29WRFByQklWcmFjalJHYmdTTEYyME1nNGNaRW45OTdwRUpCTERxcVQwdnl4VklGdXM2a2h0UnB2YWU0THFDcDJrbktlV3puTFhhVzM4clNzRURIbzlxam03YU90dHh3SUp2TDBKREpKRGVEUlY4MlNRRjNtbDBldzdPZXZIZDl4eXl5TkJDTWdDN3V4WVI4Mm5Qa2ZFNmZMZWRJNVRYTWRGRENqNlhnWTJvVzhxam5JSmpjSXhMQ1BjQjVQN2tUM0M0VVVIWVZRMUhYTGFtUkx1TDIySldZMVpySzU3V2NaajFmTGphb3NjVENTT3pNb1pkTWRTME9XZUxWNXdUbHV4UWt1T2JEZ3JzOHcwcGk5TVNoTWIyY09KWk9nR1Nxd005aHk3bnkzU2hTdWpueHdWUFlmYzY2VHdoaFp2cmxsUXVCTkRiMnlFelA5cEt3eVFuTkV5eHhwNkJsSXBtSnN3eFhXUThsUGxZTlVXdGhYcURmbzY3Zkx6UnRMSGFPdWc2Z2dwelRnNWFwZXF6d1IzTGFvRzNPZXEzVDJZdlFOOHp0OXAzcWM5cEF3aHZORnIxZUtuaklLbnRSSFBNaXhqOUtPOWpzWm5GUHN6a2Y0cFhyYnVpRGZpSkdRU0RXNzN4dVJiaTdPNUo3Z1FCQ3NMaWRjMjJKZ0ExMEt5WXRkbXpzandtcjFPR3g2VWw1cFpBanJUU2JXT2R1QkdlWGNaWVpPdkhSYXNDdll2cTlrRzRMZml5Tmw3NWRzVUgwNFltZ2JHV2pxbEpTaTM5eER3ZWdvZ0R0N3lwVk1sM09QUGFxeGNWalY="
m_p: "uC3APs2qNS555s6Zi4mq0560fsL0pkb4NRB778Iy6JN8229olN31pC24f790uvwP"
e_t: "1614244566584"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "4230"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:16:04,036-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:16:04,036-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "69f3fd060f1b4a7583258bbf086d9466"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "9bhqQs8Y"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "470.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "ldyLRUGIYlD3F44PZB6VjF7C9wtndjmAfUAnbwLDVd+LYoHYQqyYkd1d9tuTWfznAt/S6dwa4MiBlk5TnIOM8veQNvZLT2PZ5CvGz4ZdCunkLL62GP+jiyBNfHUAK+sawEaDeFKgUp81dXf108n/BFYTsrcFNz1C7eRHsIA1pvdlHij99QMQSb7Q0OacP4iiUohas/Vg8TnSwRN6OXmtX6B+o0LXBuiqHQwHSNhWWoDfOtD4HpbD+3GfOUXRQ9KxQvqqI21e2yszDj6N++c1lhdBNvN7KMCcLcrHuWk66CI4Sw6mqEbJ9Or6jI1nzn8aE7rtkNoAwfSt+HCaWooF+A=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:16:04,117-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241116062076075925284352"
model: ""

2021-02-24 11:16:05,124-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241116062076075925284352&jnet_bill_no=0540139140880364087789283505&card_settle_amt=0.00&card_real_amt=470.0&card_detail_data=&ext_param=&sign=5f356a1a468747aff2dff576f2566242
2021-02-24 11:16:05,266-INFO-heepay-scarlet-53-返回结果：
2021-02-24 11:16:05,273-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:16:05,273-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "84362002654994"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "18g6hxCPmqFdb54eA7zXBLlNRVyr9pjW"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:16:05,349-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d7579ac66da84effb11083880c26bdf3"
s_p: "bzVYYk96WkhMcUY2RHJYcHpacFl1bzJiYnlYTmZtc3BBSTFxMndtT2JRREtoa0xESVhGQVdxZXFoT1hMS05yUnI4cDEycTVqajlzOW9FTnJ5cFhldzBkdlRJZmtIQnNhRXF6RW9pSVFtRWxyY3B6MFFuOFptWENvVmYxbzJMNFM5NVJYMnhWMVRScnVMZzRSN1hYT1lXekpBSERFRGNaZk51d2k0dlZESkJRcVRObXl3ZGtVT1dFZlpJTVUwNkp4RFM0NW5LWnZqaDAwRU9jbzhRQUZEdVNsZHNhNk5FWDR2N2RYQ0RiVFVOWGNJM3pjd2FuaVlMZ0dXQkF1Z2tVNHd1OUtsQ0djcGswOEJFSFNOSXJrM2lrMHgyZGVUa0JOU1h3VTE5SWVZNmFKaWs1WEZaSjE3UGNFZ1hqelNVY1phMHNFc1Y0YzRZVFYwZEFnMWdWYjR6UE5xSWcyR0FKd0ZSRDI4T0xURlJSUHRpVXBQcUVjQXh1M3lqV3hCYkNZR3pndFVqVG1DNlAxNkczOW9sSXF3eUJMYmd1b2E3VlpRQzZOQ0VwdzNsRDVObjJURVlMRU1iVlk2eXJYMWRVYUlOaUVSY1BObDFoYXpVQzg4UEU2bmdQSTNCM0k3SzRIN1ZqSlhNYmVVTVdPWWt4RTFJVXJidzc2R2w2SXllbk8zblVnYTJRSnBFelA5bWtYSW52bEtBUjNneTZiVGlrT1VzUjVJM3hYV2hVbE1MWmxqYnYwS2tHaXZlSVUzYktXTDJUbWZJNWRLSjk0RkNhbDRPdjVEcGpsN1lCRHVFWEt5Q3VCYmtFWE1CdHo4ZzVKcVFINkJqc0F4RXhrNmtpdHR1eXJzZ0NxQmxDTGRSMERZbkVIcGpNeGw1WGNGa1ZPQjhlSDV6RUx3aEpFc0F0R2hCNHNOYm81V09UUHB4b0EwWEVhY09SYlVGYllCSWozdXZINjQwc1FJNDVaRTFmNEYzelBLQlE0dWR5Yjg1WHBEdEVwcTdnRVJNQ3dvaGM0UkQ3clZIVnplMkV6OXdLVllHVTlmR2hTNE9PNFF3Tnk="
m_p: "XB07t94Grbv54jUo3gE0S6LNkbGlb36E7lyme44J4Fm3r18MAsIfGqaG9Tf8ZCx8"
e_t: "1614244567899"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "4700"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:16:05,353-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:16:05,353-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "d7579ac66da84effb11083880c26bdf3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "XOYWzJAH"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241116062076075925284352"
version: "260"
queryType: "PAY"

2021-02-24 11:16:05,400-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "470.00"

2021-02-24 11:16:05,400-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:16:05,401-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:16:05,404-INFO-fiz_db_operate-26-可币余额：4700.0000
2021-02-24 11:16:05,404-INFO-recharge-52-可币充值成功
2021-02-24 11:16:05,405-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241116062076075925284352"
2021-02-24 11:16:05,408-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15079, 'pay_req_id': 'KB202102241116062076075925284352', 'notify_id': '0540139140880364087789283505', 'partner_order': 'NV203113782656752021022411160608261533569053828821', 'amount': 47000, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 47000, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 16, 7), 'success_time': datetime.datetime(2021, 2, 24, 11, 16, 8), 'modify_time': datetime.datetime(2021, 2, 24, 11, 16, 8), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:16:05,409-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:16:05,409-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241116062076075925284352"
2021-02-24 11:16:05,413-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7765, 'pay_req_id': 'KB202102241116062076075925284352', 'partner_order': 'NV203113782656752021022411160608261533569053828821', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 47000, 'amount': 47000, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 16, 7), 'success_time': datetime.datetime(2021, 2, 24, 11, 16, 8), 'modify_time': datetime.datetime(2021, 2, 24, 11, 16, 7)}
2021-02-24 11:16:05,413-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:16:05,414-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241116062076075925284352"
2021-02-24 11:16:05,417-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 23, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 11, 16, 8), 'amount': 47000, 'status': 'OK', 'rechargeOrder': 'KB202102241116062076075925284352', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 11, 16, 8)}
2021-02-24 11:16:05,417-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:18:45,147-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 11:18:45,423-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 11:18:45,469-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 11:18:45,469-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 11:18:45,956-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 11:18:45,960-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 11:18:45,960-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 11:18:45,964-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 11:18:45,964-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:18:45,964-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:18:45,967-INFO-fiz_db_operate-26-可币余额：4700.0000
2021-02-24 11:18:45,977-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:18:45,977-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "76170919481667"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "zBjaDS5tFvKOVLQARbdImxne6ZfCUcMW"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:18:46,063-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bb5c0009bda144bfb742a23da8df8f4f"
s_p: "OVI3SFZFWm5JeXZnT0RpUXl0ZUp4UWM4QTRFdU9CQU5qZEk4aFVuUnpGQlRocGtSbVV3Q3JOTFZxeEdLbzkwZFRYaUh3M2F2c0hwajYydDRVRDZxSWtPaGhRMHRqMW9XSFFxb0IyU3BoamhzcGRWZGhORFZQS1dia25Kb2V1b3NWYkZZU1NwTmZtRXZ1ZE05dWJqRUhSb3E5RjJFSGNoUWtVa3NPVTlXd0tuVGloanRkUGNBV0ltaUF3SXhXVUJiVUFEa0diTEpFZ3hJak00bE1BRkZMRjVFWjUzWFNIMVhQMGRrZ3N0NlFzSEJ4SEpkVjVERTF4Q0ZGeFduNW02WU9VVHBEQzFCOHVDRndSeXpMZWtCTWkxYzdjUUdCZlI5YndHOGV5ZGhHMmZzNUZQbXdMQUpWb0FFWWRxb0s4TTU0UWJWR3E3MnhpbUVyaUgxT090OXBPUXNvYlJXVFNjNjUyaG1kalFlSnpvUXpHZUtlTDBIQlp0cmxTSjE3VWZlTkEzU2t6U0VZdlFaSE1zanc1TUZiNDVjbE9QbDdqbkswYTV3empiVGtGYTMwS2JyeXBCUzNlU0dPbmtteGVnTVlQMGxudFJYU0ZRakhwcnZoSHJqWG5ZWHZOUDVPcTk0MnVySjVtYW84MDVLTWpEVkh3YWthSDVTR1cxckRrS1pvUjBrRnlJdnFVWmVZeEZGY3R0c0MzcFpiQTRjcWdJMmtOMFQ1anhqYmVVTEVXcEpiTUR1bElWcUxVQkRVMngzclNYVnBtd28zQXdvYVJwd0FRU3U4Vmgya2J1WHFaTjZ4elZaUGRUbzBTWWlqREpoQmQwV01xeHVSUDFhbzUzbmtBRE5oUUFQZkVVeld4ZnFjcEtOdWNaR0N4Y0lGcmZwTktvckhLYTg4SHA2WmVVVFUyR0V4bHhJRE1qWUludGx3Yk9LeElsOFAzVTdsUnd4ZFpKVnZrY0xYS3JWNHVwTEJObzZoSzdUWDVZMnBWcGVGSTI5dzVvcEEybVpoNFRmcm1IQ2hyQ1Q0ZVZKazdQazVNQjRkTFJnMjhCZ2w0dkM="
m_p: "TB66J22h1B7g4mfGjPXifmu67QWkKL5naHY875hM73TB1ko76y7D4J6r0g9J6nz7"
e_t: "1614244728609"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "4700"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:18:46,087-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:18:46,087-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "bb5c0009bda144bfb742a23da8df8f4f"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ANjdI8hU"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 470000
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "E8Rbe3wpgmvWOVXq6dCPzLkfxZoY0IUD"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "JzCKfiPyB6RIs2dsnn+Hx0i/STuYe26z6ZTax9rQTz7pNES/TWcVwUFic+LNHegsLpyw9OXbiW5+/Bvc4iEry/cwI2ChoKTC/LIsTKQZZL5E1f6zo0jsokvYan8QpwZHNoEl5j5Vx++thrNncfKKfNXlaiPh/tbla0ntNNL9geI="
order: "5511889857550"
ip: "120.197.152.211"
factor: ""

2021-02-24 11:18:46,230-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-24 11:18:46,246-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.49', 'batchId': '51391761096572622924275475456789', 'bizNo': 'yn57ap1PzlWrcgXxLdJmtS9AkQuiY30N', 'operateType': 'PRESENT', 'requestId': '69515882973693278672486572829775', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136726243})
2021-02-24 11:18:46,293-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.49, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:18:46,307-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136726303', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 4.17, 'cutAmount': '4.16', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:18:46,329-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299728'}], 'vouIdList': None, 'batchId': '84e669129e054c5db7a65f88d47ff73c'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:18:46,342-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '84e669129e054c5db7a65f88d47ff73c', 'batchOperateType': 'PASS'})
2021-02-24 11:18:51,387-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:18:51,395-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:18:51,395-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "26053707420927"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "B1rqk6UAlFQthymDJCM7gSHIKw5YdcXZ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:18:51,480-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bfaba222dc85419c9d38fde64180fdc6"
s_p: "MENRaXJiTHhsaHBjeGFqeFlSQTQxMlBqZWRUSnM3MnQ2SzBTY3V0OWtCUkg4bURFZmdpbHg3eGM4Um1PVjlsS25sVkQ2UUM4TThaUm9qd0VYRUREaXNMd1l5MlpLWmZsNU5CRnJaQ1JReEhaVGlZNEJ2QTJLd1ZiRm9hREk1WmJ4eXAyMHhzRW05SGZlb3k0Wmt1bnVuS0RVN0U4SjRVZG1KelBtbWNKamtFUVZwSVVUblJMeDV5VTl5YUlRbktxV0twS3BMa2RNU1BTM2F2U0c0b3poV0lYUzlZZFhscHYxUExjdmxydWNyQnViY29BN1dZcTNMSE8waklqeW9vNjl2ckRMQktzcVh0WVRzZUhjbmZ1NmQ2UkJrMUxZMWJPUEV6QjI1S0hSaEIwWll3UGhQbEtNVHFTSmNjeEdnekR5MVZOMnMxMXdtalJVMFI0UFJLSEhyQXBxaXJBNUs2NTBZdDNhaDI2VzJQRDdrZ3lZSEMybU1uSW9xaGxyc2JXdE54Y2s0WUVtdlN6Q25vSnNuN0N1M0M2OWtEbGVZcUdHZXZVTk9JaUVITkJrUjRKNlFqb1pJa1oxNlhlejR1ZWp6WndDc09vNzZ3eUZDT2hsZVQxTW9yMzZpODc5eUFRODFudnJBRXNEZE1QMjNSUEpiR1ZQVXdnc1RjU21PMzJpQjlsUHhuZ200ak13ejU3d0JXZXg4aDhEUWFqTE1FeW03clBBcW9GTjJ0dW5CbGF2ZmFxUFBURWRMd2V4SWNDODNpRWNGb0RwbENhSUtMelF6WWc3dzB5TE9ET1BrR2ZtamVGU3RTNENSVzNmRUFVM0x4YUUyTGVaM2JCSUtKeGROeWxQSG95dUNjWVl2RWFRV1ZoeXZBUVpRYWhWTUNlUzBWUDJLNER3R01sWUtOTkZlVGFUT0RvVU1lckJaRm9EaUhncFlqU29JRko2ZEV6cXhWa01naEd3dHJRdmM4MTh5ckd5UzZVQ1ZFNlR5cURuT3RlS2pocHpmOUtoSnU1NlVraXNWVUhmekxpdjE2NzRUcGhqUUtkemhRWGwzNTk="
m_p: "64CJriDCl8iN19ex0O53dZ2357PA392K8aoo5V02Baa6J249RCG5c0o7h701Jkrt"
e_t: "1614244734021"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.49"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299728
    type: 2
    minCousume: 417
    vouCount: 416
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:18:51,502-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:18:51,502-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "bfaba222dc85419c9d38fde64180fdc6"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "sEm9Hfeo"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "8.28"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "nVeDjywM15bTACBNs9Kal3ZOdiXrQFYS"
}
sign: "G1yv4ea8jdQytB4O69dFTygL0QKVE40GJ95sJ4n24XgY7ykCupyr6Fmj1fUSNBpxgi7Z0I0hYhucjkX9XOLyqPD5ZXe+uae29hlC2teq1N1MXsfFOSVU7zGxbNkd23kmT7KCtSqkX7SifZOJJQMKcJkGxwnKSt84QYTavr+DpFyhH+9bOOXafv1e2EkbZaBrrLSXNymUVrH3nmkhdbIxKQA0J/Zi0csnfFW2UgV0iKfIGkKlQBMl9wtq5K3qrjcdnEgwDkSZmfBeRQDRXN3Cvn0Waf2ae9/ip7FvBM8qpF3y5VUJTNho6WSZLs/7ad0+4zvwSLvFUQ5TZ1A9GSbQLA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "bfaba222dc85419c9d38fde64180fdc6"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "sEm9Hfeo"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1293
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "nVeDjywM15bTACBNs9Kal3ZOdiXrQFYS"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "VmlntV7ZiNK9D+IeeRr9Rq8JgTlZ4HFxDbEazaY6Hrh0FDa83R3fH1a1dN8fLwtbf8d1AyiZMJPIgTCMofO43zDJ5Xw6IG2hsqEspSuyarh+jK+KMn4+4YQe1RfsQZ5AV5p+F2A7M90LxqdcIn4WxOHotj7YkozfACY5YTa0vaQ="
  appKey: "1234"
  voucherId: 62299728
  voucherType: 2
  voucherCount: 416
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:18:51,878-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"bb17c9d426434d0296a04883610616a4\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24111854414570121cd6ce41e18f870000\",\"sign\":\"0ABC1254E6C2A35D2B568445D4A9D42A\",\"timestamp\":\"1614136734\"}"
}
payrequestid: "KB202102241118542076075925114272"
model: ""

2021-02-24 11:18:51,879-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2404672365548219500448633668]]></transaction_id>
<nonce_str><![CDATA[Bdubfhgx9ZKY36q51HFtLsjMoel4z7EC]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[80C3AF1C5C1C45BA1F67F24A5D4625DD]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241118542076075925114272]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>828</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224111851]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:18:52,056-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:18:52,056-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:18:52,066-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:18:52,067-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "78747482040636"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "6tUDqwjJEIplHadK3QXO1xoCz057WiMn"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:18:52,143-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4a7e3d515c774fc18b9ab4efd2562b80"
s_p: "VWF2QlUzZWJ1VGxsY0FKUFI5M0JCVGlPQ3p0eEhDdjZPNFMxNjRkd0pYN3hoQ0Q0dHJvejNkWndIRG83c0tpdW9lM2lVdzBoWnMxRnZLSHR3c0EzSkpITk9BRDFBNjJENm9ERmJTT2RGOWlXcTc0Q3JNbDl0THJHRkVLVDNNbFBweElZSk5pS1JxRjRBcXY4OW9uSjNnUGlnQm9Uakw5dWZxa0pldHBhZ2JNZmg5d0FkYzRGaHFmd045ZDdjTUNmVlpxdk90N2RncGxjRDNIOWNHQmtMcjBXYzQ5ZW9ZclJqUXRHTEo0TzZ3S2xIcVpwbGYxNW5GTjRZdnhnVHNwZEtZUEttdFpUa2JZU3hDTnZtRW1VQnhhZmU4VTF5QWlENXpZQ3E5bnlTaGlVT3V3eWlUUXV2OXNXOXBLaTVYNFJuTU9XZlRDa3ppOHpjWk1HUHRxVUZ2b3NGeXRMamlndjdPcWU4b3dQdnl3ZFNIVFV1ODlUd3NwYXhaS1dobUZBcTY5SmVxZ3JNZTFEb0JnWHNISjdLcEc4SmpWbUo2d0VscjF2ZnFIYU1haWZDRVFKWndhQ3N1eWQ0eU5icWN2Q1hsdTZlSmJUWFlGaEF6RVBBNEVpS3hZRGc4dTFqWkdndnh6bDlpREhFSVEzSkRrR1hjY0lyT3AzYWR3UmN4MjNvemxNVnllck5tbGw4REFHd3NQS2hpbFlzenFGZjJVTzdqTXRZWmlCQU05dVR4NDZJUXRVY3lFTUNaWUY0RzhGbFpNVlhhTjBPWmZQS0tITlM5YzlTQ3NaNVpudlpEMzV6WlRNRUk0cG9wWFd1UHlKWGxscHNhS2hZYjJnNmdoSjdRU0tIcTZ3TkJ6NzROeXRPdDVNVkF4Q09mWVIxWGVRQW9nSmc5M01OVUV3ZVo0bWMyQ3AxTk9mU1Y2SlJac2VYNUZPWEF3YzVaeFJLdFF4eXJVVWtrOEJJM2owSExKQUxsTDNxOUdnNElJcnNZU1psOTlwekhHblFNWG5ubFYzMlJ0aXBEbmZ4MzNXenIwNGdRRXI3WXBmYmlrVENtUXQ="
m_p: "H1d9bU9CygYy32vf1kfj45Lm418UR2ont9Y4l48IKD1ZcPU2oZbyMgE400O393mJ"
e_t: "1614244734694"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:18:52,149-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:18:52,149-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "4a7e3d515c774fc18b9ab4efd2562b80"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "1FvKHtws"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241118542076075925114272"
version: "260"
queryType: "PAY"

2021-02-24 11:18:52,204-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "8.28"

2021-02-24 11:18:54,204-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:18:54,204-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:18:54,210-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:18:54,210-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241118542076075925114272"
2021-02-24 11:18:54,216-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15081, 'pay_req_id': 'KB202102241118542076075925114272', 'notify_id': '2404672365548219500448633668', 'partner_order': 'nVeDjywM15bTACBNs9Kal3ZOdiXrQFYS', 'amount': 828, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1293, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 18, 54), 'success_time': datetime.datetime(2021, 2, 24, 11, 18, 51), 'modify_time': datetime.datetime(2021, 2, 24, 11, 18, 55), 'trade_type': 'PAY', 'kebi_spent': 49, 'voucher_amount': 416, 'voucher_info': '{"cutAmount":"416","id":"62299728","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299728', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:18:54,217-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:18:54,217-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241118542076075925114272"
2021-02-24 11:18:54,222-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7767, 'pay_req_id': 'KB202102241118542076075925114272', 'partner_order': 'nVeDjywM15bTACBNs9Kal3ZOdiXrQFYS', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1293, 'amount': 828, 'kb_amount': 49, 'voucher_amount': 416, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 18, 54), 'success_time': datetime.datetime(2021, 2, 24, 11, 18, 55), 'modify_time': datetime.datetime(2021, 2, 24, 11, 18, 54)}
2021-02-24 11:18:54,223-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:18:54,223-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241118542076075925114272"
2021-02-24 11:18:54,228-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:18:54,228-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:18:54,228-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:18:54,229-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "nVeDjywM15bTACBNs9Kal3ZOdiXrQFYS"
2021-02-24 11:18:54,234-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 201, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_nVeDjywM15bTACBNs9Kal3ZOdiXrQFYS', 'partnerOrder': 'nVeDjywM15bTACBNs9Kal3ZOdiXrQFYS', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 49, 'count': 1, 'r_cost': 49, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 18, 55), 'updateTime': datetime.datetime(2021, 2, 24, 11, 18, 54)}
2021-02-24 11:18:54,234-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:18:54,235-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "nVeDjywM15bTACBNs9Kal3ZOdiXrQFYS"
2021-02-24 11:18:54,240-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148817, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '6096c1eaa5dd454394a74a5763bbb6e0', 'request_id': 'nVeDjywM15bTACBNs9Kal3ZOdiXrQFYS', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":416,\\"notClearCount\\":416,\\"orderAmt\\":1293,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299728:416;\\"},\\"kbVouAmount\\":416,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"nVeDjywM15bTACBNs9Kal3ZOdiXrQFYS\\",\\"paySuccessTime\\":\\"2021-02-24 11:18:54\\",\\"price\\":1293,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"IZzwtZ526azzSWficFwFMzP30fFQJLav0ggOL500TSM9MCZQ2r499s5P7SaT/u70vyc+LnmEKuTSDlg/zhA4g1tO7nlu8VdtRteU2XS4cT34EDjmwcm8a9zKgqjxCUfq1cer5xzxyPftkMmCcbuivJJH23Ha6/3jeibKKvmr0PM=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"nVeDjywM15bTACBNs9Kal3ZOdiXrQFYS","sign":"4D81AC6B6BD4729372F61A72052B3961","signType":"MD5","successResult":"OK","timeStamp":1614136734730,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 11, 18, 55), 'update_time': datetime.datetime(2021, 2, 24, 11, 18, 55), 'extra_json': None, 'remark': None}
2021-02-24 11:18:54,240-INFO-lib.common_biz.fiz_assert-120-通知异常
2021-02-24 11:20:19,002-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 11:20:19,311-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 11:20:19,352-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 11:20:19,352-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 11:20:19,725-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 11:20:19,728-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 11:20:19,729-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 11:20:19,732-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 11:20:19,732-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:20:19,733-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:20:19,736-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:20:19,749-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.63', 'batchId': '91698882159908058660818737159164', 'bizNo': 'rVUSo2A36QcHeTRWXFGt5Nl7KpwJIvgn', 'operateType': 'PRESENT', 'requestId': '73005086576992320177586059497451', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136819747})
2021-02-24 11:20:19,776-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.63, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:20:19,790-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136819788', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 0.6900000000000001, 'cutAmount': '0.68', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:20:19,807-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299729'}], 'vouIdList': None, 'batchId': '1ed22e93e0384d8181e86299f701baf4'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:20:19,821-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '1ed22e93e0384d8181e86299f701baf4', 'batchOperateType': 'PASS'})
2021-02-24 11:20:24,860-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:20:24,871-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:20:24,871-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "03687705747604"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "3V2w8kMiRD1sPoyzKEtFnOdlXqG9Hp7W"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:20:24,954-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "7f54d500936f41c8bc8475a3e3c5f234"
s_p: "S2t4Q285YkRWT012NTI5bHl2czE0amozMHlyeENjS1BrNzVrSWpYSWxPcU9OQ0tkc21DTjBtUG83OTZPaXN2OGxRREo5bW5KYWFCTXhUUTVJR2lwYWQ3WG5NOVNFUW10bUJnNEtHamtrNjIzWW92TUdVMmgzdUYxc29iY2Vqc1pxYkhQbkNWZW5kSE1aVUdVM1NUQ3V5dzFGQjIweGRZcjF5U2hEdnZqNW51cmRwRU94NzFGaVNYcThQRXp6VW9DSVU3ZHpJMUE3dkRkNmp1dUd0TVU5SGFsRWJXQnVsMXZoM0FwTVpuQXJIWjh4THNtQUNCeDI3OG42dWlITGd5UFV4SVZkd0Z2Rjd4WngyZkJIdE0wQWtFWEFNQ3ZJMGZsME1wSmlia2xia1FkN2V3Qm80NXA5Y2E2MDNqcENpR0VCaFI5OFJJNWhyNjRnMjM0VDhJSVBYWE5ybjlEN1NnQUlJQlprSjNpU0tMNGtKT1ZLS0EzWEZrc1hyY041YkwwaVhmWHR5T1JDSk5KYTl1OUphWkVWaE9jOG1naFlIM28wZkxlODVjUjViR3ZZZWpuZzRmRGV6eG1tUVNCckdPVkxjZzVucTlESGk5MlE5cGVwS1Q5UjBBdmZIY0x5M1kzUEVlTU5EeWFHWjB3SzV5eTdEWkNQN0NKakkyTm8xVEJOVmptZldXa0dreHpLUXV3a2dKRGxXaFBINXgxMFhYTXR0SUhZd2lMeUx6WjFZTm9hN29hWFkwbFR1SnpORGdmWDJST2hRdElxWDFodkdJaFRVcTRnYkVzUkJvS3IxTzlmczQ3WXBCWHNlbFFCMTh3YlhYWnR6dmJWVTl1ZHBsdElxMUoyZGk5RHJxU0N1bjliWHFGMktXWFp6NEd3UDNlOHp6Yzh5eGFlTGRrY2w0SnZMeE9HV0NSVWVMTWZiVE5NNGdjdEFEUjdFVjhhc1RHbkJBVHhmclpNckQxWm9EbkxzYWRrN1hHN1NZSVRkN0VKalNPUm1NdHBlSTV2bUZ0TXd1QjRwYVVnSnVGWW9CaTVZRElSNEMwNWJRbENZa2c="
m_p: "7gF5T359Wlrs8h4qihVdC5n3Vi9P1psb6158A4gKEua0u6fnai3j05VHLKznXQ0R"
e_t: "1614244827505"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.63"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299729
    type: 2
    minCousume: 69
    vouCount: 68
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:20:24,981-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:20:24,981-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "7f54d500936f41c8bc8475a3e3c5f234"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Mv529lyv"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "3.63"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "BuI7M0o5aLSsZjWRPYU4gOCFdDqrzQfp"
}
sign: "yR9d4spZ9GG3dZkJz2AsbjymsF5f+oYANP/X8bwD171w4E3AKc4lUgzKShw17OLeyalaexHurbMITkie7uWizA+YXu632tPFQ0LgXe226oOSaIEwYZGCIoUhe/9SF6gSCTJu+6GKAn9lfsaBevqGnagssUJDtl+fgn2Ovm6NDsQ8JyfijRuOqjPT/hguYBwiwU5chy25wdKrHghf3qFoc8GqGYAPOKqO3pWsXMZJjAttErM3cNCvxsUuhskYAvs8ae4selthPiMrGIdHJ1K3Ddjk6Z1AlJ2jtTlvmX4rW/ZxGzejUjnYgfdqDsNackrhrwo/rtiHtwDPdq6jydy2iA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "7f54d500936f41c8bc8475a3e3c5f234"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "Mv529lyv"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 494
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "BuI7M0o5aLSsZjWRPYU4gOCFdDqrzQfp"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "hW71EqzTWWEc+qRoK2q6a38hdTZCjbxCakmlvIrF8VqUE4i7wlrVmjnumXrXs4iKNWGmzFGtsa98yefYd/mdqUCdbUSPDDvIrXeVNdhxO/rhv5IAL+kMPTgbSQtdlOXilHe3+VgBuNvbrIYOEQ9scdbniRNnrsQU/cBAw41N8n0="
  appKey: "1234"
  voucherId: 62299729
  voucherType: 2
  voucherCount: 68
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:20:25,399-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"eec9474f730f4431b9d448f312f031db\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24112027922440c31f96d2748610ff0000\",\"sign\":\"93D358EF73E7A62EB7B2F4FD19236443\",\"timestamp\":\"1614136827\"}"
}
payrequestid: "KB202102241120272076075925047112"
model: ""

2021-02-24 11:20:25,399-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7180373776631677128601124988]]></transaction_id>
<nonce_str><![CDATA[pVoxurq0t7JALjTYW4X1gNCaMiFhHs36]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[458382F61FB79433B01E5DB96EF42BF7]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241120272076075925047112]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>363</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112025]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:20:25,544-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:20:25,544-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:20:25,552-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:20:25,552-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "57042448132881"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "zaVAb5npmB1hZlrS62JMqRgxQDwIEKsk"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:20:25,628-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c490b2a383364c15966beff59052250f"
s_p: "UklRenZxQms0OGhQT1pwVXBHbGpzRG5GYmtTQ1lDcGc0OEtteXczZ3hRYXFFNzRnUUlWaVZEZ3lvWjAzWUk2TW9jS0pCZVpjRWhUajRQYWo4NndCTE1xcFc2RGgyTHdJeDBVZ3ZIMkp5TzI4aUN6ZVM5aU1CZVhnVjdYQ0lQWmVCVVYzTUV1WUU2NXRhdGc0dnlWam44UG1PTkFrWUUxR3ZPNmY1WllYSEJ1cW1obzVRWGJmTjNsSTdPMTRpTkhTVHJ4RVQ2WDdnMDZTZHBNaVRqcE1iZXdTdFlaS0s5bUJkZGVDa3ZSUndGTW51WnVJcmlXTlRZa1RxZElnb204bnhld1lDTlFOazFzZjVZUWhGV2FVN1RPd0hsY2p1cUhTYll0V2xwZmF6ME5SeFJCNnFCRjN4MmJGY3J1WHBmVDM2UmhHZjNCNzB2WmJwQ3lJWW4walJVUE5oZldNS2dzdElQNXJiVnUyYUZRTkgwOW5heHQ1enlnWFJUaWZMNlM2RkJxYmljUENPa1RVWVBVdFFoRVlDbE5IV0gzMkpwMjNhVG1jR005Z3ppMlFnWHczNTdQelkxbGVPRHF0d3ZkaFd0WldRZzQwUlk2RGd5QWpvWHE3bWwwWElsekVlbkxWYjZTNFJOUUhqaFI2MGNFdVNQSmYwUEYyN2VDaTVqZUlHbEltRHZ1NGVsMVR4T2plaTZnZmNoa2N2VUtCbmU1T2Y0WWNkSmhKTEJOYXhHTVA1cWxKM0JCWVNKZ2RuYlRXbWFKTk5JZjFPamtlS0pOR3VkUUE1WFNHSlBEZFJVN2FFVHVKdGppZDJDd3pnYXhPZEhEcjRvdjFxU2UzMnNuamNUbE5EWkpXaDA3ZFZtNGpyT1d3eTZXS3ZYR3hyR2h1akZPendKRkE2c1lkNWM0OHlyRUlLRUhDZkFwUzQ5UXBnYmZIT0M5c2FSbnhVc0pLM3FkdTVmY2hXVlJJdUdsaGtZVURNMEJiNDlaOVlMTlhTMkJ0VEtOR0JDWjl0bUcxMHpGaHVxckx4c3lyOEV5U3NpMWJrSmRFd2pBTzU0QUM="
m_p: "0923Z1gU7c4P5c3s77ivm5qRTjVJ9H6TCWy88hYxh5wzBn1y6F2PV6Q2d8iNCBJy"
e_t: "1614244828175"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:20:25,634-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:20:25,634-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "c490b2a383364c15966beff59052250f"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "hPOZpUpG"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241120272076075925047112"
version: "260"
queryType: "PAY"

2021-02-24 11:20:25,681-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "3.63"

2021-02-24 11:20:27,682-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:20:27,682-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:20:27,686-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:20:27,687-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241120272076075925047112"
2021-02-24 11:20:27,691-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15082, 'pay_req_id': 'KB202102241120272076075925047112', 'notify_id': '7180373776631677128601124988', 'partner_order': 'BuI7M0o5aLSsZjWRPYU4gOCFdDqrzQfp', 'amount': 363, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 494, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 20, 28), 'success_time': datetime.datetime(2021, 2, 24, 11, 20, 25), 'modify_time': datetime.datetime(2021, 2, 24, 11, 20, 28), 'trade_type': 'PAY', 'kebi_spent': 63, 'voucher_amount': 68, 'voucher_info': '{"cutAmount":"68","id":"62299729","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299729', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:20:27,691-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:20:27,691-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241120272076075925047112"
2021-02-24 11:20:27,696-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7768, 'pay_req_id': 'KB202102241120272076075925047112', 'partner_order': 'BuI7M0o5aLSsZjWRPYU4gOCFdDqrzQfp', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 494, 'amount': 363, 'kb_amount': 63, 'voucher_amount': 68, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 20, 28), 'success_time': datetime.datetime(2021, 2, 24, 11, 20, 28), 'modify_time': datetime.datetime(2021, 2, 24, 11, 20, 27)}
2021-02-24 11:20:27,696-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:20:27,697-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241120272076075925047112"
2021-02-24 11:20:27,700-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:20:27,700-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:20:27,700-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:20:27,701-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "BuI7M0o5aLSsZjWRPYU4gOCFdDqrzQfp"
2021-02-24 11:20:27,704-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 202, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_BuI7M0o5aLSsZjWRPYU4gOCFdDqrzQfp', 'partnerOrder': 'BuI7M0o5aLSsZjWRPYU4gOCFdDqrzQfp', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 63, 'count': 1, 'r_cost': 63, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 20, 28), 'updateTime': datetime.datetime(2021, 2, 24, 11, 20, 28)}
2021-02-24 11:20:27,705-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:20:27,705-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "BuI7M0o5aLSsZjWRPYU4gOCFdDqrzQfp"
2021-02-24 11:20:27,709-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148818, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': 'd8a02b3a73544d28b9fee3e59332db2a', 'request_id': 'BuI7M0o5aLSsZjWRPYU4gOCFdDqrzQfp', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":68,\\"notClearCount\\":68,\\"orderAmt\\":494,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299729:68;\\"},\\"kbVouAmount\\":68,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"BuI7M0o5aLSsZjWRPYU4gOCFdDqrzQfp\\",\\"paySuccessTime\\":\\"2021-02-24 11:20:28\\",\\"price\\":494,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"DmsafQ50tvdjn79pD++8bVDUS5HTb9TPAYFVRtlHWG5xGd8Vx/HbOAkvgukALTxLQ5Vri0Zek5omAE6YgIWp4zPSZl/UyrB4BSv1w7fYdoaSpTR3exiOvv8EOHrejlbnmFtOHH601O743Ca+iQZNuNKoHel11OB0W9ouO6nvI0E=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"BuI7M0o5aLSsZjWRPYU4gOCFdDqrzQfp","sign":"AF93D442E6A93B507A8EF80B6FA87AD3","signType":"MD5","successResult":"OK","timeStamp":1614136828195,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 11, 20, 28), 'update_time': datetime.datetime(2021, 2, 24, 11, 20, 28), 'extra_json': None, 'remark': None}
2021-02-24 11:20:27,709-INFO-lib.common_biz.fiz_assert-120-通知异常
2021-02-24 11:21:17,633-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 11:21:17,871-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 11:21:17,913-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 11:21:17,913-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 11:21:18,269-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 11:21:18,273-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 11:21:18,274-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 11:21:18,277-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 11:21:18,277-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:21:18,278-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:21:18,281-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:21:18,294-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.36', 'batchId': '21653354246811552724497881894653', 'bizNo': 'QwzbJUBmAZTr81lx0XGNoWHesIEcVgtv', 'operateType': 'PRESENT', 'requestId': '25287991666362760287104071771860', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136878291})
2021-02-24 11:21:18,334-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.36, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:18,348-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136878345', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 0.9, 'cutAmount': '0.89', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:21:18,366-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299730'}], 'vouIdList': None, 'batchId': '8bb7dd7296af481ca9d2981c440e72c6'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:18,379-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '8bb7dd7296af481ca9d2981c440e72c6', 'batchOperateType': 'PASS'})
2021-02-24 11:21:23,408-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:23,419-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:23,420-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "17873802555401"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "MvuJWc0b8gaU4n5Vs1POCiZzqQoFLd9y"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:21:23,517-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "35fad7a8de2946b787c8da2b05c8fefa"
s_p: "eHFTSW11bVFrckkxTWNKWXh4NElmNzMxYW04UjhkQUdJSXNZUWRON2ZsR0xBcktqWmMzZllLcFBUazl4c0xsVzJsNFhiMDJ0NXJ6OXppVVdDd2N3bjhkWjJuT3FKUk02dEZNY2t4Rlk3NllsajhVR1gwU3JTT0J2V3d3bGlmbG1SblVDM1FxdGZFWjN3a1ZzMDdZeWs5QTFucExnYmk1Nm9IYzlTcXlhY2JoNjNnaERXa2E1UVNSa0tRM3dGV05qSHByVHMwSFpTTkM2c1dmWjJpbld1VENrcGdyWE40aFAyOE53alhhOXBLR055SFNrMG53SmVNSXI1cWZLWHg2NjluelJ5eEZXeWs5cXNjNFJNb2RWaHJRR1VPMHBVdEpoN2UzQ0V3elBOaFRSVkh1WDk5NkkzZ2F5MTAwN2JGUU9WdHpLSEZ6aU5jTEpTVkp0WUloamhMWlJsaGZTOUgyODd2cXpFUExhYXBkaW56cmdMQ3dKS3RJUEVXNjZKclNRNklvQUtHbTkwS0ttUFJOcWxUdzhzb01qRUttNW5tcXBzeVRkYzl6WVpTVVRsSkN4d1VSQjJMbkhDNlFONFpKWlgwSjJUcWdxc0lySktNWThYZVN4T2x3bllKcEdlaDB3RVhNMXVQSTZCVU1ReDVDRGtaSG00U2VXdHhPQ1RlMEpEWkpvdzBtYkJRelVpTkx4NHRPVzBqOXlXZ0NaTGlKSlRFN2hGNWZJSEFVanlxdHNTaU1uUzQybWt1OFZxMnFweEN6NHVxSTZ5aG53eTRMYlN6Rm5CNUpXT1poS3ZGMndLY1RCSVUxWVNHTkZIa2V3NlN6MFpTOTM2VEZoV0NOZXhGSDRBMEFmMkpHTmNRMWVYM1NjOWhMN2hLQ0F1bHFCa05MQnRwSU1JSUVvUjdaUVhLb3BxR0lOdFBVQUdZaVNFelhRbnRNMGlpczRucUVydWJBM1BnMzRlNjg3TlVwV25aUlIzZU41STlTWVA5a2JFZ3RwSjY0TkFweElPUTc0M0Y3b1VUd2l5Ymlnc3pDaWJXdlJjbFNGVnQ4VmhrSzA="
m_p: "6N6G0u76D61696WhE9Zrg1gav59kzZ37Zs3PRnF09CE667KaA3g4GKT4Kgb2Wm0P"
e_t: "1614244886058"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.36"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299730
    type: 2
    minCousume: 90
    vouCount: 89
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:21:23,546-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:23,547-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "35fad7a8de2946b787c8da2b05c8fefa"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "dZ2nOqJR"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.41"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "dDV4c1UqQrP823OEyxFs6YphRMmjtz5H"
}
sign: "gFCiwE9ELDQV0GcBa95pQAG3oapGmMpDSCrOEhRUq2ENY7fZdY7kASjoH/2iddyq1ds9pl6ie4neSp6hs7igjkcq2iFlX6jnTmggxTbXoVxS9wWRhezRqBPVpkHQwfVKQxGujsT8l0e1Yz21vJ837Z7r7xRpSlF3egEZ6D2OhWInlcq40R080YRfDzIAPzfge7JXzmnjAkDkpyrgfCIYgZ4QJafSPKR2YU2mUbAeCCzytxcwcHoygchFdqQmc7rM8W0wVFlgvOtO7RPc3BlZScTjjOyHPefrOxtoE55niJ7PScIJOFWf9JaQwdP2rXw0PQsVVhnLS6ARcCRnNGivOA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "35fad7a8de2946b787c8da2b05c8fefa"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "dZ2nOqJR"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 666
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "dDV4c1UqQrP823OEyxFs6YphRMmjtz5H"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "Lv+/4nKSZ6Yfq/4OYLUVnlY+l2MuMs2E7SFr84UPMRTI3t9JcGS1CDGs7jqDOXJ+Zd5SJwBeoNACCBC/OCicRiEXfEK3tmRX9PP7Ai4PiwlRSJuKmWXePvqk4/yTxc0RKTWh/fmoPf3zPws1UbrcswMBL1Kn7zfDeCSRJZp0NrE="
  appKey: "1234"
  voucherId: 62299730
  voucherType: 2
  voucherCount: 89
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:21:23,964-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"feeeb2c56c0949fd80b0ddf70ac4880f\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241121264967966947435fa1e03d970000\",\"sign\":\"A114376FF8287387C253BBF6FF6A310E\",\"timestamp\":\"1614136886\"}"
}
payrequestid: "KB202102241121262076075925560462"
model: ""

2021-02-24 11:21:23,965-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[5867419467078776744137956365]]></transaction_id>
<nonce_str><![CDATA[M5UfbXv68mkyxBszICRohZq3Sjc71nu4]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[40E16BBE09DF7A18FE7082D2F75878BD]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241121262076075925560462]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>541</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112123]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:21:24,093-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:21:24,093-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:21:24,101-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:24,101-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "80106529279495"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "wZybLicUfEDdjG3pa46olIXeOtkSxFP0"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:21:24,177-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c2511e827ab34aff857692d973d76904"
s_p: "T0lEZUxCclNuQ0NVSlFjWnNJSGRjNnFYbVo5eGp3bnZrODd2V1doQWY1bDBBVmFPRnZ5VEVyNFlNaEJOc284dFh3V2dlckljdUxOSWZ0V3d0YTVwa24zbWEyZENFOTdPc01QREJXOEZNblVLZDZyaHRzdWVmVUVoUFpiS3ZUaEM0QTQ1QVoya2drVHk4cUZYcW9TRVNPS2RYQ1RWWEtWY0xid1NlbXRudWRIT2FuREUydVllNlBuSlpPUmpnaTI0ZThtdEYxWU9icGxIYkpIaTYxeWczN0N1YURuVXViTnlTeFVmeGdnMjh0YTAwODhBdDZjUU5xTk51NlNhb0wyWHJVUzZPNUU0S2FrUFluUDNzWTE1RUFzdUNiZ2JZZFc4eTBiaW9XM0M0Q1dZeWdDVlFYRlQ1TXFuZHl4Z3Q5c0w4M1JsZ3ZCdTRVR2VLQUlxdnpiVHlab1JsSUZkTDRlOXRQdzB1Mmg2eU9LZjhOcWd4aGdOOTk0NTk2SUNJcTVqd24wbkF5Q2F2ZHA5SUM5QjVHcDN4TEFCSTk3Z244WlhxdHY4TERSc1BmOVVBeFM5RzFuNjIwZ2g0eXZra09KSUJNYkZCc1pQQ3gxdXBtSno1akN0d2tmSEF5NkM5TVA0U3FORUJKOG9TTk9ybzk1OFZHTk1qR09UbmNoV0V1ekphVDlwZGwzUXlPcEZvSERTR215SE1VWEgwU3I0bkVRSnZNanh6WVBSZk1UdURqNkZ1MmhwNDhLOHBFVTVYNGV5ODcxd05WTkprQ1dJYlBYV2N6NHF3Y2pIVFhwdXowN0Fpd3JHZkJ3Z2Y5TmoybFRvb2tORjhXdHdIMmpkaGFJazVNZ0pPeTBESDZJTnJPUGlJTjU2UUd0cmJTR1VIc21KSUNxNnpFOHYzT1pqbko1SVlKTWxDeWhjT0IyS25hRnpheExPcXpobmJNYURycWdteEFlWEZZcFhYd0tJaFVWUTRVckJadFVQR2JmRE5rRnhHTkw2c1VTeTZZcG9tZjlpNGJrbXkwR3AzMk5FRmtTbWdVaTNrdTJXOGVCNDlGUEg="
m_p: "U947T3x3b6662pCFuwtNILYm2TkPj7810Ag8dK47ewx2ifGblCoH5GGJL73N2GbH"
e_t: "1614244886727"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:21:24,178-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:24,178-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "c2511e827ab34aff857692d973d76904"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "f5l0AVaO"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241121262076075925560462"
version: "260"
queryType: "PAY"

2021-02-24 11:21:24,225-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.41"

2021-02-24 11:21:26,225-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:21:26,225-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:21:26,229-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:21:26,230-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241121262076075925560462"
2021-02-24 11:21:26,234-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15083, 'pay_req_id': 'KB202102241121262076075925560462', 'notify_id': '5867419467078776744137956365', 'partner_order': 'dDV4c1UqQrP823OEyxFs6YphRMmjtz5H', 'amount': 541, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 666, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 21, 26), 'success_time': datetime.datetime(2021, 2, 24, 11, 21, 23), 'modify_time': datetime.datetime(2021, 2, 24, 11, 21, 27), 'trade_type': 'PAY', 'kebi_spent': 36, 'voucher_amount': 89, 'voucher_info': '{"cutAmount":"89","id":"62299730","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299730', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:21:26,234-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:21:26,235-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241121262076075925560462"
2021-02-24 11:21:26,239-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7769, 'pay_req_id': 'KB202102241121262076075925560462', 'partner_order': 'dDV4c1UqQrP823OEyxFs6YphRMmjtz5H', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 666, 'amount': 541, 'kb_amount': 36, 'voucher_amount': 89, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 21, 26), 'success_time': datetime.datetime(2021, 2, 24, 11, 21, 27), 'modify_time': datetime.datetime(2021, 2, 24, 11, 21, 26)}
2021-02-24 11:21:26,239-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:21:26,239-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241121262076075925560462"
2021-02-24 11:21:26,243-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:21:26,243-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:21:26,243-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:21:26,243-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "dDV4c1UqQrP823OEyxFs6YphRMmjtz5H"
2021-02-24 11:21:26,247-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 203, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_dDV4c1UqQrP823OEyxFs6YphRMmjtz5H', 'partnerOrder': 'dDV4c1UqQrP823OEyxFs6YphRMmjtz5H', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 36, 'count': 1, 'r_cost': 36, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 21, 27), 'updateTime': datetime.datetime(2021, 2, 24, 11, 21, 26)}
2021-02-24 11:21:26,247-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:21:26,248-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "dDV4c1UqQrP823OEyxFs6YphRMmjtz5H"
2021-02-24 11:21:26,251-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148819, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '488ea457432646f58a0252b11894c989', 'request_id': 'dDV4c1UqQrP823OEyxFs6YphRMmjtz5H', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":89,\\"notClearCount\\":89,\\"orderAmt\\":666,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299730:89;\\"},\\"kbVouAmount\\":89,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"dDV4c1UqQrP823OEyxFs6YphRMmjtz5H\\",\\"paySuccessTime\\":\\"2021-02-24 11:21:26\\",\\"price\\":666,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"Q6jjjgG9/gG+IWREpmFjonEqNK7cIxIF0X7kE1aRldLpZNX17KpEEXOoVNxDWUwa6npqIBAk9OKjMx0NRXq25fSFvORg2hhZ8X3Gd2QTIxrU+m0JVHqmgc0xgpWs81qav5wpY/N0icK3UGNIb6cHhhrJGB2yqPEZNzS5S1wEc34=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"dDV4c1UqQrP823OEyxFs6YphRMmjtz5H","sign":"AB30C0E962734CA4CEDBD05F17F2DE01","signType":"MD5","successResult":"OK","timeStamp":1614136886726,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 11, 21, 27), 'update_time': datetime.datetime(2021, 2, 24, 11, 21, 27), 'extra_json': None, 'remark': None}
2021-02-24 11:21:26,251-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 11:21:26,252-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299730'
2021-02-24 11:21:26,255-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 11:21:26,255-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 11:21:26,255-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:21:26,256-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:21:26,259-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:21:26,277-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.36', 'batchId': '85291669453491855795279900694988', 'bizNo': 's6uEjCTPLgRW3I5QVFhnAUHDZkqc7zwy', 'operateType': 'PRESENT', 'requestId': '01221643332211853327486284741564', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136886273})
2021-02-24 11:21:26,311-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.36, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:26,324-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136886322', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 0.9, 'cutAmount': '0.89', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:21:26,343-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299731'}], 'vouIdList': None, 'batchId': 'de04552452b24aaba202c6e2edcccae5'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:26,357-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'de04552452b24aaba202c6e2edcccae5', 'batchOperateType': 'PASS'})
2021-02-24 11:21:31,395-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:31,401-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:31,402-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "28697455762835"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ZFVBmsDJciq9OyEfwNT1hL5YuWIgQA4M"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:21:31,480-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2a52e83669db4f1e957749e43db7448c"
s_p: "aHl3dDhOTnJuZWluaTBhNVBQQUpROWlPRGVwZXNMVkpHalI3bGF2Y3hjM2FVQWF2dlQxQlpQWFJhSGZhSFozNExZa1NCZGV5NnBPSkdxbnhtczJveVN0dkt2MVJ5MUNCeXV2MkNUUnNpSjlZWGw4c3J5RHFFUWZMdnVxQUprQlJiYjRiYjkxT0hNREN4V0lRQXk2NEdRUnJYNG9UMjNnVUZUdzRnZ1JUb3lFeVRNWTI1blY1V2JjbzMyS05sZWtjOVRJRHdXcE9rZTFjRzZiTmlSZlQ4NVVIWWd2bzEwSFlqZjRGR0ptcmJyT0dLeVBmNFNkNFhKUExlV1RHa0xlYVJsYWpNYzRVQkU3WEIzRlRvTnNHUjJ5alRyZXNubWd2cTFDaDlKbU1DSEtUNmd2Nk1GSjJCYkNWRVBxb29lWUh3cWM2WkduWHJHN2lNRnFXUU9NUllZaVlvOHM5cnBwbFJBTlBqbGZOVDdPVGxsTXp6UTlqRTYzVXI1bGJXeEE2UDEyUklwUG1NUkRVV0pzT1FqbWlPY1VKaEFRWGlTOElnU2RsNFhsVVE5NmNnSDJnUjNVbThPYWMwUm82ZDgyWWFQQkNUOFZkWTJuRlBDbFZreUNtdFZiWGJmNzh4elZMN1dYN3dpMmNWZzY2UjFwMlhvYXRWTHZwRHFiS01EbDVyY1JxOE83RjRKM3VkMGw1QlF6SHkzM0h1SXExaE9ONFV6T1FqekpjU1hZTG1lQTlGOE5hQWd0ZFd4NzY1c0JSeWxxMldINVRxaXNXVVNEeWpiR0Y4elVmRldlQ3h1RUZKTmJkNWhjd3dqQkVBNHhselRPNnMxQ2tTbkdPallLS2VQdGZ6a2JJU0xZa29aTnpJU0NlU1M4R0tBMWtyVTBkWmYyQm5FbGJUSWNodTAwc2dVQTBZd203REFjRkF4WjdFOE0zTFdqNUVnNVltZE1RN0JCcUZ3MWJXTFRncG1Da3dvNTdyUjJDa0Y2VzZCdldOUmZkbTQyMmxseW1kNVhySkpkcjJiUnFVRHNMSXBHcHFFRXljMkU4TUx0c0F6TXc="
m_p: "8W54Ll8J587J9Q4ffO9d8xqjMK4ap92XE637p9VaA49Hhgz9a3930H67X0Q5kl00"
e_t: "1614244894026"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.36"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299731
    type: 2
    minCousume: 90
    vouCount: 89
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:21:31,502-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:31,502-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "2a52e83669db4f1e957749e43db7448c"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "LYkSBdey"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.41"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "61ApDj3Z5eOVdJFrxoCW4iRLYUkq2Pht"
}
sign: "h07TFuvH8RYweAiiL0i2lSqqhwP7gwWoN4Ps0F3OGTYQp6XlhmofjORuSjHI5+E4I4HwxuAFqIGbArpUhlE45j8C0JEqPJobRdKYUQyAtyCsOhhvgo0CzMsi2qUZAla1p4NSNuWHQHapsGczM/hztYS8UkCLo5HIepXoKIUjxOtK0WqpLHYg6bIbXuNnbdZegjfeq/ygoRvI/hF62sBxwT3RCZt30xhfg3iLKyunfypkvE873zTND3eVWpcA3GBUcrtddyaxhu3Yw8+LURLZCXW1qsmdTiv5KVQNo84NoSoovx9KjiWF9rQJ5nbGsnNKZ/E60P3QHyfDiUKJXeYgKQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "2a52e83669db4f1e957749e43db7448c"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "LYkSBdey"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 666
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "61ApDj3Z5eOVdJFrxoCW4iRLYUkq2Pht"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "NJhdH7VNQkzF6Lljm8Mzr7gcpMwo3PKK55DrxpBfxzsI3itGIyqd1+KU9z/0liwYcnYA4JkUbsxMjH4WTOQOgb9tNTo1b1vHguvp0tyGly70FSQ5sjx0RT9ffUXE4CGqzMQsiB7+nUYB1KvpEPDX+9EiOXUqUdMPV4OOAgEgLNo="
  appKey: "1234"
  voucherId: 62299731
  voucherType: 2
  voucherCount: 89
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:21:31,908-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"ce4e6a071f6441c8a688336052b8be09\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241121344275105f233eca9da81d240000\",\"sign\":\"81824065E94DBDAD7BE87D1730086D16\",\"timestamp\":\"1614136894\"}"
}
payrequestid: "KB202102241121342076075925134072"
model: ""

2021-02-24 11:21:31,909-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4084534320791543050346064461]]></transaction_id>
<nonce_str><![CDATA[zQ5owqPcZtiL6d4IOMpUREfCmXjlbFk2]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[000827B4D20632AFF391564E5D205E7D]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241121342076075925134072]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>541</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112131]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:21:32,037-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:21:32,037-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:21:32,045-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:32,045-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "19809691626490"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "A7RC6Y9X2VjdJWmInGlsi8P3FBv5t0yf"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:21:32,138-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d75df2d9a766425d89a8e06327bac685"
s_p: "MndMc0lmc25SWjhtZVJIWDhWSTR2V1BHRXBQM1ZrNmJrU1ZyMGI3cEdvREczR3pjcG5ZUll1REZJenNMZU85Njk2enIweFRtYkQ4alJMTVpHUmxEMkQ0M1RwV1lFcjBKTmthUGZkWW51SlF0d2Q5VWVnRTFsVUxaamhPMkoxNnlxMTI0eHI1SFZFNG92dFZLS0o5UXJSdjc0SG1nRkpMdUdxWXdYNGlpRmNzWHdDQk9pckRydkJMdHV0T3JwaTZZZVJ6SXRyMlVId215T0lJYW1QcXBMTjQ5dkQ2djlGYjJEdWR4cnh4SlpzT211ekY2RE5wUWdwS0dQcTgyR1M1UVRZWFFwRm92ekNRS2FlYkVIVFFiVmZ4bWx2NGFEZnhCeWw2NjFISzVyazA0Wkg5aXZrTlZhMm1TZlVHYzRTbTJ4NXM5NXdzeDhmeUxXTzFIUk1BcFdzM2JwOVNwUFB6SHZpdGtNZlRGTElJU2RaZURwc253UkRmS2ttb1o5VjdmRzAzRGFDTzNtNEF3aWxYV1V3R2tueHBBQXZ6UTNObkR1RTgyeTRDSWN4ZDBNeDNDV1dUdXpRRG5CbmdGMW5jM0hHNjlyODJVeFk4YjJjS2JPTU1LNFcwRTdRWFF3a1ZPMmtKUWJjVld2ZXRTSUtEUTVLNXFWWG94WTZOeEt5U1VHdmVjYjdCTmRKVlhNMDY1MW5XczJqVXNvTzBWYzZzTTdMQXZZTWw0OTdRck5sODhVa0NZM2UxOU5paThwbGRIREhmR0tyZEFHb1Fab2pPSGFiUjVDd1k5VVpxQkhDcTB2MVd3enRpWllpR003M1hNZ1V1ZFREODRJclVnWjRwZExoSm5zemFNSklJdHpXcXdONzlaU1N5dHFNTjJ2TnJoamdyWVFjR0ZPSXBJSmlIaFJxdmVJTmhWZFhEU1B3eWU4V2lpUFU5dW1GeFFMY1lGT3lhS3hNYjlvOHlzd3JQNnZsTklhTEtMRnZDU05mTVd3blo4WTR3eVpYdUJoaHlwc3ZLbEpqZG4xQU1LbUVUaUVXTnRFdUhXTDJ4Q0hkT0w="
m_p: "O1rYeknOD62BeX6Gn2DC7gVJl8AEaaE6zt3b1G34B9lo2gDMe9AK3bJ95B25OPq7"
e_t: "1614244894672"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:21:32,142-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:32,142-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "d75df2d9a766425d89a8e06327bac685"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "mgFJLuGq"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241121342076075925134072"
version: "260"
queryType: "PAY"

2021-02-24 11:21:32,187-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.41"

2021-02-24 11:21:34,188-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:21:34,188-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:21:34,192-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:21:34,192-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241121342076075925134072"
2021-02-24 11:21:34,197-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15084, 'pay_req_id': 'KB202102241121342076075925134072', 'notify_id': '4084534320791543050346064461', 'partner_order': '61ApDj3Z5eOVdJFrxoCW4iRLYUkq2Pht', 'amount': 541, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 666, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 21, 34), 'success_time': datetime.datetime(2021, 2, 24, 11, 21, 31), 'modify_time': datetime.datetime(2021, 2, 24, 11, 21, 35), 'trade_type': 'PAY', 'kebi_spent': 36, 'voucher_amount': 89, 'voucher_info': '{"cutAmount":"89","id":"62299731","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299731', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:21:34,197-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:21:34,197-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241121342076075925134072"
2021-02-24 11:21:34,202-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7770, 'pay_req_id': 'KB202102241121342076075925134072', 'partner_order': '61ApDj3Z5eOVdJFrxoCW4iRLYUkq2Pht', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 666, 'amount': 541, 'kb_amount': 36, 'voucher_amount': 89, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 21, 34), 'success_time': datetime.datetime(2021, 2, 24, 11, 21, 35), 'modify_time': datetime.datetime(2021, 2, 24, 11, 21, 34)}
2021-02-24 11:21:34,202-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:21:34,202-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241121342076075925134072"
2021-02-24 11:21:34,206-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:21:34,206-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:21:34,206-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:21:34,206-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "61ApDj3Z5eOVdJFrxoCW4iRLYUkq2Pht"
2021-02-24 11:21:34,210-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 204, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_61ApDj3Z5eOVdJFrxoCW4iRLYUkq2Pht', 'partnerOrder': '61ApDj3Z5eOVdJFrxoCW4iRLYUkq2Pht', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 36, 'count': 1, 'r_cost': 36, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 21, 35), 'updateTime': datetime.datetime(2021, 2, 24, 11, 21, 34)}
2021-02-24 11:21:34,210-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:21:34,211-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "61ApDj3Z5eOVdJFrxoCW4iRLYUkq2Pht"
2021-02-24 11:21:34,214-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148820, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': 'ba01959d0b5d47f593fd51340a6e20ee', 'request_id': '61ApDj3Z5eOVdJFrxoCW4iRLYUkq2Pht', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":89,\\"notClearCount\\":89,\\"orderAmt\\":666,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299731:89;\\"},\\"kbVouAmount\\":89,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"61ApDj3Z5eOVdJFrxoCW4iRLYUkq2Pht\\",\\"paySuccessTime\\":\\"2021-02-24 11:21:34\\",\\"price\\":666,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"RWZuV88LcF76TxzJFVAzTA2PWituf+AiCjgAtXUU/Y3bY7fTyPjoyfnoher8/FYHS5T/tWYF78KOcPxvUWsiOisPC3aPEh6l6ixCQAP0fZLxykgZyrtWX+mI+3SPjLTP3tWFMBgWybLmA6SfRuqZmg6RV4K8e/iIVwjQXIjN/wg=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"61ApDj3Z5eOVdJFrxoCW4iRLYUkq2Pht","sign":"D907C1E748F236DA1E432618AF516665","signType":"MD5","successResult":"OK","timeStamp":1614136894680,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 11, 21, 35), 'update_time': datetime.datetime(2021, 2, 24, 11, 21, 35), 'extra_json': None, 'remark': None}
2021-02-24 11:21:34,214-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 11:21:34,215-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299731'
2021-02-24 11:21:34,218-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 11:21:34,218-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 11:21:34,218-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:21:34,219-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:21:34,222-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:21:34,235-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.36', 'batchId': '99793283794426606737281283863405', 'bizNo': 'Armq08iMZC39H65lNJKVOkEfUdQBLGeX', 'operateType': 'PRESENT', 'requestId': '99321762245251383950725584843783', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136894232})
2021-02-24 11:21:34,267-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.36, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:34,280-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136894277', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 0.9, 'cutAmount': '0.89', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:21:34,301-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299732'}], 'vouIdList': None, 'batchId': 'b7b5b61d5d774c26b001d20cba18ae6b'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:34,314-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'b7b5b61d5d774c26b001d20cba18ae6b', 'batchOperateType': 'PASS'})
2021-02-24 11:21:39,356-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:39,364-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:39,364-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "81839134784920"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "sdl6Op0QjFfMNJWIRGC3VrbK7kgxwhe9"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:21:39,449-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f3657d9186684bfbac32728337f348d1"
s_p: "NVBxOGE0cmhVMzYxaHl4UDJSZm1pa0dhdENoMk40V0ZFVmx3Z3pmVGp2SVlGR2YwTWZjeFgzNndkWW85c0VwdlZadHBWbURFb3RtNDJZdUQyOTEzOUZWNEZRa3VHUnZLaE52SzFzSGJhOUFVT2FwV1BTVWtVeFlZdlM2NWczRjlHYmtGVGFlSEVTYWZ1NElXUWljNEVXeGhFcGxjNloyOHYzZjBCMEhZSnlCblBZUkdXN2dPUERYNEhobkpwYnNveHhocGVCNkRRNUhZdE9TTUlFOE01WGlCN2tiak5qaUloMUpyUW14ZkQ5ejhocHVWTnNpczZkdFBuOFRWWjdXanczUXBCSnpMeEsyZFduU2NIRm91OFp6dnE1VGRmMVdObnk3T3REcExtYWZxNmxyS2Y2UGtYU2dpMlNvelBtd2x2RzZXWnFMYkxTTnRkSW13ejFBNUhwYXVYZFVCTnNvc0pUZ3pQek96S003YUJEbHNLT0RlYWttSXZpVXZUMnNpUVpqZm13bDRPMDVFaUZUQUszS0RNd0xwUzNCVTNQUDhaVWpEU1lxTXZNcFI2R1d2Y1BSMmI2QmZ4Y0VySmc2RjFUSjhYY2haRGVEeHZqVDhJZ0huQVA3OURDNlVMb3N2dG9PVnBZYkNocnB2SEJadUVhbml0Nlp1VFJ5Y3NYbDVFUjIydkI5QWJIZnB1b2tNbmZIYzV3NEdsYjVJS0lYdWFTWlRCaXBBenk5TmwxMk11M1A5UldONHkwQXJPTzkyRVhrMjBNd3JxcXFNZWU0MjZOd1BENGVkUXU2UFVuZlEydjlkRndzNWZOVUVXUTdaNExCcHlYcm5XVDRhbXFvTE5FN3R1SXNhMTZudnpCanV0bnVKTml0eHVJOEVYTHh3UmNBWFg3dDc5ZHdNNkJYODRwZjFlNlhDVlJrMmpaOER2dDJzOE1EVDFzN2hQNzhzVHQ5YUxtY1lMcWUyWDZ3QlM3eU81aXBoWWZBT09GNHlHclV3NnlBaXlKbm9hSlB6ejNZWkVpck1Pd1QwelFESEtIT2h2cjUxek91am9WU3Y="
m_p: "Hf3dq9z3255jFJ3pu3a40avoY8CM01O8547a90BN57s96Q0365kGc8PctLqYVqYM"
e_t: "1614244901990"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.36"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299732
    type: 2
    minCousume: 90
    vouCount: 89
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:21:39,471-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:39,471-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "f3657d9186684bfbac32728337f348d1"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "vK1sHba9"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.41"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "wUZrWRTiYCo5xk84q0nJFDvj2MSXlPzf"
}
sign: "kuG15S2lIBpWJOIZGmHY+UZQ/2fw+D7gbarEgDVPHTqnTqbOtbYcGVPiuaHLjmkX2E5EPxf5LEQth9+D8b7LiIWrGwgGvRwdJPkoOMkvhg7+jWep30AMx37JeyIvWH40ge7tkn0Ey3sTaepUx8ahf1KQJ1PBXtiOZCoKvIrLvDQg1qgK8wsWlsWyQUVt/ktWeG3c6pV6U+yAzR602+QPdrna11+y89YcFO8KIh059GsRJydN79nO2/yP76Rr4vLYCYmx8MaaWfAeXZ9BjexGNKOcxOzUN1TGU5Qnqv+2LFq3SjNsP6A9AvTaI1HWiNxFQILYOZvqKVGgpv43sL87Xw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "f3657d9186684bfbac32728337f348d1"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "vK1sHba9"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 666
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "wUZrWRTiYCo5xk84q0nJFDvj2MSXlPzf"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "hgGNkfrO17Hr34jzV49haNuDfAYNegKv2FIA7A+pUEioAC3IXIM7F1wQrRTnnqFfanmzPn+3eysDCqh7T96omDeOdvsv51539oP4xDQe3ae2tgDoIZ38zWVWFI86nyftxpd2S1IuLRZMPKQsHJYAfQaHWYg9pj5hhZQ669DZ4zU="
  appKey: "1234"
  voucherId: 62299732
  voucherType: 2
  voucherCount: 89
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:21:39,782-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"de6e971d4a854a3bb9dfa02b42f9891d\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24112142302216acef66082e898cbe0000\",\"sign\":\"134B81E1F9ACF3CEB6F339840DB6709F\",\"timestamp\":\"1614136902\"}"
}
payrequestid: "KB202102241121422076075925537482"
model: ""

2021-02-24 11:21:39,782-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4772353837875161013966379907]]></transaction_id>
<nonce_str><![CDATA[TAr3ndxkgzNwIUH8sPZ1tMFoX5yC427B]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[BFC3BE71BD9E14FCA79FB16B42CA8F24]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241121422076075925537482]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>541</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112139]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:21:39,900-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:21:39,900-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:21:39,908-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:39,908-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "04583632256087"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "NDKhpCfGMZz8W1wPHrm2AV6LQSy3vueY"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:21:39,988-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "50592d025b9545dd8ec884bdc32dbf77"
s_p: "aEliM1BENzBkRkU2d1cxeTlHQld2RUZGQlQzcHhUY2p5aEs1czhrRDRGQVB3YzBZYUQ1V1dJY1RQRGZHdXRxdDcyYlZyZVBIRkpTTmlENTBvRWtTSFZObk5wa0ZSTzBLUFhlalZBRUFFbnJaOVlkYUZqNXZBVHdLY2xNTkpWTVhYZFNTV3NXZG5xeGtsVGY2eXVaMkxtbEtEWnpUU1o4bmFSc01Za2RDTEpiYlV3d3FrTFhxN3Bpd0JWSUdXbjVNYzFqRGc3UGFjRVVnWW9jYjBRYlBTdTdFZnM0NzZxRGRRdWcyS1l0RXMxUXdtaGI5TmVwR1A1VGVPRjQxeUZ5ZG5NTlNDN0RxTEY0cXNtRDFwV01ZSDVqSTROSDliVHpFcXVMVDBFWlVOcm5kRjU5MVBxYkNFN0dOdUluSnVaNFBtOWsyU0JjNE5IckRXeUhHWU1UQXdkU1FWMDZydjZWbU5yRGplcjYyRkFaeDZLN1dSUUxVZXZSQU84clNHV1hqWVd0YnZaeFVvelNWVTA2bkRJVmg4czFxZUhRZ2t5SzZhM29EYmJJR1h5TFk2c2NYNGtVU2s2elF2c1hYSHNLREt4cXlHSDNlWEhRRHJ5N0lSNzFvT3Q2a21kVzJsOExjQms3NEFFd3NISG9OaFZJU3g0R0s2bkJHTWVZek1EY3haMWhZTHB5QlJuU2hnMVo5Znh5RGVBQUxLS0k1WTQxV0hldWJjVWxJSWRrelE1OHZPR0lHYnZKZ1AwMVQxUk85WTZ1dUhCWjlROGI2QTdLS1NIMFg5N3F2dWd6bWV5S3Nuc1BWWU1KZHRMOWdrVm5QdXdMdUViV1ZscVBYUGdmTkIwTEszY1gwbHdKZW9vVjNzaGFFV21Cd1RIQUY0WExGYnR1UUFFTmo4MVdqb0VvUWtuYjNiYXA2eEVpSnp1aGc3dmFZMXFYTWo3ajQ2d0xsNHFySUNqVHdUQUsycU5QdkFPRGg5SXEwTWJsZDFWVVhvbmJEUDQ3UWczdkpHdVA2OUQ4R1M5a1JWQjhUM0RKYVRWa3BVaDM5SVBQcFJLb0E="
m_p: "gkt2YFCGASxE7c2L74oJvf9lyHnvJu342VOoy8bJXB5CL7GlDT52I952l6U2Cu6x"
e_t: "1614244902536"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:21:39,993-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:39,993-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "50592d025b9545dd8ec884bdc32dbf77"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "f6yuZ2Lm"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241121422076075925537482"
version: "260"
queryType: "PAY"

2021-02-24 11:21:40,039-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.41"

2021-02-24 11:21:42,040-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:21:42,040-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:21:42,044-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:21:42,044-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241121422076075925537482"
2021-02-24 11:21:42,048-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15085, 'pay_req_id': 'KB202102241121422076075925537482', 'notify_id': '4772353837875161013966379907', 'partner_order': 'wUZrWRTiYCo5xk84q0nJFDvj2MSXlPzf', 'amount': 541, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 666, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 21, 42), 'success_time': datetime.datetime(2021, 2, 24, 11, 21, 39), 'modify_time': datetime.datetime(2021, 2, 24, 11, 21, 42), 'trade_type': 'PAY', 'kebi_spent': 36, 'voucher_amount': 89, 'voucher_info': '{"cutAmount":"89","id":"62299732","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299732', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:21:42,048-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:21:42,049-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241121422076075925537482"
2021-02-24 11:21:42,053-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7771, 'pay_req_id': 'KB202102241121422076075925537482', 'partner_order': 'wUZrWRTiYCo5xk84q0nJFDvj2MSXlPzf', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 666, 'amount': 541, 'kb_amount': 36, 'voucher_amount': 89, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 21, 42), 'success_time': datetime.datetime(2021, 2, 24, 11, 21, 43), 'modify_time': datetime.datetime(2021, 2, 24, 11, 21, 42)}
2021-02-24 11:21:42,053-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:21:42,054-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241121422076075925537482"
2021-02-24 11:21:42,057-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:21:42,057-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:21:42,057-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:21:42,058-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "wUZrWRTiYCo5xk84q0nJFDvj2MSXlPzf"
2021-02-24 11:21:42,061-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 205, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_wUZrWRTiYCo5xk84q0nJFDvj2MSXlPzf', 'partnerOrder': 'wUZrWRTiYCo5xk84q0nJFDvj2MSXlPzf', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 36, 'count': 1, 'r_cost': 36, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 21, 43), 'updateTime': datetime.datetime(2021, 2, 24, 11, 21, 42)}
2021-02-24 11:21:42,061-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:21:42,062-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "wUZrWRTiYCo5xk84q0nJFDvj2MSXlPzf"
2021-02-24 11:21:42,065-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148822, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '11aac7d0d3fe489ba7d974bc0944383a', 'request_id': 'wUZrWRTiYCo5xk84q0nJFDvj2MSXlPzf', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":89,\\"notClearCount\\":89,\\"orderAmt\\":666,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299732:89;\\"},\\"kbVouAmount\\":89,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"wUZrWRTiYCo5xk84q0nJFDvj2MSXlPzf\\",\\"paySuccessTime\\":\\"2021-02-24 11:21:42\\",\\"price\\":666,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"HoAs2wHz8ynE+e9rkqwvS/A1GD+DIuOt+XbgBcQGTkZlu+jJTxY0rEY/usGXWsERGcv7cKEcCG8F1NDOsi+zQaQDUbQGuvIofvcJbu4LLixTyzh4ZO6tCTQKU6AWFzd8F8ZAXhKX72lodSu4KPA8vq/Am+8vyuQlQkFDwonO/CU=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"wUZrWRTiYCo5xk84q0nJFDvj2MSXlPzf","sign":"CDEE9A6D2A5A0D632BAE93275958F1CA","signType":"MD5","successResult":"OK","timeStamp":1614136902549,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 11, 21, 43), 'update_time': datetime.datetime(2021, 2, 24, 11, 21, 43), 'extra_json': None, 'remark': None}
2021-02-24 11:21:42,066-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 11:21:42,066-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299732'
2021-02-24 11:21:42,069-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 11:21:42,069-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 11:21:42,070-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:21:42,070-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:21:42,073-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:21:42,086-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.36', 'batchId': '43530201920989269029538912702729', 'bizNo': 'JQ4Xk13hbsLEdClMxN8WgAOpuP9aV6nT', 'operateType': 'PRESENT', 'requestId': '00346513899190504132427151413335', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136902083})
2021-02-24 11:21:42,115-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.36, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:42,128-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136902125', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 0.9, 'cutAmount': '0.89', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:21:42,145-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299733'}], 'vouIdList': None, 'batchId': '9f2cffd55dfc4dd78d9176e8c7a0a53f'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:42,159-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '9f2cffd55dfc4dd78d9176e8c7a0a53f', 'batchOperateType': 'PASS'})
2021-02-24 11:21:47,197-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:47,205-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:47,205-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "77083882675684"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "i0kqrT9xdAILGgtO1EQpWbPHm5nlRM2Z"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:21:47,282-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "49a3612c96244846a75dfe624e6b261c"
s_p: "NlFQZmNQVllIc0Nyc05PWUdKU0dwQk96TjhXUFluZGpoMHlONFJta0RZbm9IWHBWcnNleDJacktMeDJmUnNoUFdsOFVMZkRTRE9CTDRSa3NDTlIzdzZyQkJYZXo3bWc0UzdVOEZmdHFnQ1NCYWgxWHBXRERIZkc0eFNJbXdnVkRXenNiWmFJa3A0Zzg4a25VSFJJVlBhWnR0NG1ab3gxOHNtZGxBUlpXUjJmcmNwUUtWdU9veEJianE3N0JLeW9sVTdKVXlDMnJ0OWt2aTlIUklSQUJuZ04wdG1YSWRYZnd0SzQwV3dhTHZVU05iWkpURmg4Wjg3dThrT0Z0WnVhcHQ1SE1rRHFDZk1KVTB0ZjNibXhmM2VkZkhrdnhIMlFHODRJUHdzNXNjZzRpNzQ0NFh1SzlBdlV6WldwTkdxTEp5UHdOSnJNVnlOV0l5Z0pVR0VsOHppNkNRODJ3dXZ3YjFsT0t1d3cwUHdodlBvbGNQNHo5UkwwSlJzQXE3QWRNZDlVMUlEMEQwMG1oT25ieVo2eG1SOHZnRG5tazRKcHc4c0NtM0R1YTdRUFhMVEdnR05wNDVMelh4TzdwT1QyV0J1Z3NEUEw5WThjN1Z3MjlHUFB6TTRHTVB1N2U1OTc1UDdteVFjZlloTVBZN3dkWE9pbjh0ZUIzUlBQbVNYZHJkRmd5RTR6V21Wc0dyWDJuNnZwWk9NYTFkbEtQVTJScG0zTWw3akVkRlhmYUZpNzB3T0NzM1l4SWJZczBSRENacHF2dmFtZFptTGc3RE9ZWmR6MVM5M2tnNE9Wb3JxM1pxcjQ0RkJHR3lwckhyQWhuN05hWjlqM3JRR2IwSnV6MmZHeDJKb3Vrc2hpRFhrMzg2c1dXZlhWSEc0NGx1a1pJOXgzRnZOMjdyREZ1c0gyMXpXZUZDTUVyTzRwZDZJT2xwUzl5WEFSVEtuQUYzTTBldnE2ZGJWa1RnQmRYV25NZGJJanJhZmtSb3MzSG9CZ0I2c3pYRzNTWk5IeU1MYXN1eGpPOU1pTXh0ckdTRDU5S0VnWDl6R2xWMFY3anBuQTY="
m_p: "AUT8B37529TZgeyI4TR8uJkc14EYhy29f03yNH3FP1dGQPbXP0JgEkI61iJu54JR"
e_t: "1614244909832"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.36"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299733
    type: 2
    minCousume: 90
    vouCount: 89
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:21:47,311-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:47,311-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "49a3612c96244846a75dfe624e6b261c"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "DOBL4Rks"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.41"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "Ww4SsYZ8QFf3uTzAb5Hm6PDjM2rvtGiK"
}
sign: "nrzQa6lXCVYHhLURlxzjagXkYF7Z3pZq1V8Q0cA3nBkAgP+MD/Tn9/EOAGld2DXQbeoK8sTw9reDSE0io2v2oJm48Vir5xaNlRlT19T/JA1q6N7k8vA1M+nZjZmRS81JH15eEcyj4x01/17cTgEb06lYcZBDHMUnGe8TJ4+n1/MI3oz/TXVrWacsUtDihnH1HST8qo/ovIv0osuVw+AMCE8oh1djQxvqzLKcqX0rks3GzrmJKNfMbhL33YrOc4Cx1Y3/1TdSDeAbjcS2O/2Q0djtXTcXv/pw9AZkb7E/s4msfEo9S5i3a9AGmkIaxvOAoTWm/uor4NsEznpnaAsJhQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "49a3612c96244846a75dfe624e6b261c"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "DOBL4Rks"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 666
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "Ww4SsYZ8QFf3uTzAb5Hm6PDjM2rvtGiK"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "OPywCvbldw2BUWWhHvowxGpBOve8nOHf0fDuTGVBQcwOcYkucwh9Z1osLbc6XafdLMErbRG3AT+rhk20TMh9eZTG2Wi1Wk2KMT/GxUg+2DQOrCvBDz5qbHbNSPBoqB4vHPOP+UvhBZoVNzW25mrhPvp3uWqzgEF9TZXgFJzKUWw="
  appKey: "1234"
  voucherId: 62299733
  voucherType: 2
  voucherCount: 89
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:21:47,601-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"e5823b2cfec44b8ba39e862a5301f1bb\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241121501208917b038693fa8328a80000\",\"sign\":\"104E3450FDC6E3AAA08D0CDDCFBAB229\",\"timestamp\":\"1614136910\"}"
}
payrequestid: "KB202102241121492076075925658682"
model: ""

2021-02-24 11:21:47,601-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[3916719854296028450268844712]]></transaction_id>
<nonce_str><![CDATA[9rvDP0wTSqGOUCbai576ejgluXsLm8BN]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[0F3F118653C0A35ECE9E367C540A439E]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241121492076075925658682]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>541</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112147]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:21:47,722-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:21:47,722-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:21:47,729-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:47,729-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "04133824735667"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "np2JcdPCYmOv4X5xj1hNolHqgAiSFuB3"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:21:47,795-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "1e2a48311fdd49b2a50830ae63a545bb"
s_p: "SlJiZmN1R1RHM2U2MUxoM1haNVhhVFBlTXBEUHVkM2ZmMTFrdElaZ29pMndPSnBTNWlzRVJnZGpzSXg4UDhpMkpBTGs2VnladlJid2JVcXZaS0hsYlZnUW5obHRrellFM0tHQmZxMFc3eVBHdE56eHN5MlVLbE5tc1JYM201NE90YlJVaGlBOEIzNEFTcXZxVjVZdVRVWkxIMnQzUUxqNnBTSWk1MGR4WWJ3NTJNT29XemhrdEJrVzZFck91emE0MFI4SGhyc1EyR21oVVF4ZGQwbWpGbG14R1pXbzZndmFUZ3BUSmJaU1ZUcjdMUWs5UGNQbTdDa3VlNUtPQTdTbEdWcjNJbVJrczA1R2c5d0pHckxDdjVOZ09UQTg0ZWRGRkIzM3hwcUNQSm5jUEU1RDAyT2thdG9IbTBrQ01FNjhqd0JVRUZYcm0yQkk0bTR4b21tRzVjZWVaUTNZWmNVVU9JZWR3VjR2NTU5aHZMc1BMOUJ6aWxuMzBiaDhEWFl6RUFRU1Bxc0NXY2NlNm44cE5XMXduSGRBNTVkOWJ2VE1WaVBzY2dTOHQ1cXd0WWdDYTB3a3hRWFowY1c5NEhZYzVmWldDMGwxODcyb1I1YVNMZ0VNcDdQRG1wdTdlc3VsWUZNcGZJbU1qVlVmdTYxdWVHandQOWdVYjRmaUE4aGNFNWxTUGh3aElSa2xOTEFqbzBYQm1SY1hkcFhiY2lndWxZU09GODZ3SlR5ZmQxbUVCa1dTcjVhTWh0NEtFSThIOTlrazI3OTVVbVdTU3o4U3R6eDhBVWU3aWtTOGFMVVc4d0hNYzBvS3NkZWRxS005ekhXZTVwOUhjV05Sd3VPbkVGM1pZM0RvMVkwSWFCMmFHcTJFSDJjdVAyd2JheVp6S3I1VU1XYURwa3ZzaDR4UDJocGxYQWM2cEdrcVpRem5jQXIxaGR5cnZzTk5iUFFRUkNFUEJQOWw1OGQ1Y0NqTVF1dzl3V2hlNERQUjNmOHc0ajVBY3liRHFiZUtNRldrSlEzT3hEM3U4NTlLQ3JWcHB2VjJnbzk0aXp5dHBSM2s="
m_p: "kS2nDe0Qhg2AawIrtastyDTedjpB23GdbrM1eAOZ354APN4x59seemd67Aglz5P6"
e_t: "1614244910350"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:21:47,799-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:47,799-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "1e2a48311fdd49b2a50830ae63a545bb"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "vRbwbUqv"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241121492076075925658682"
version: "260"
queryType: "PAY"

2021-02-24 11:21:47,845-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.41"

2021-02-24 11:21:49,846-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:21:49,846-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:21:49,850-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:21:49,850-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241121492076075925658682"
2021-02-24 11:21:49,855-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15086, 'pay_req_id': 'KB202102241121492076075925658682', 'notify_id': '3916719854296028450268844712', 'partner_order': 'Ww4SsYZ8QFf3uTzAb5Hm6PDjM2rvtGiK', 'amount': 541, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 666, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 21, 50), 'success_time': datetime.datetime(2021, 2, 24, 11, 21, 47), 'modify_time': datetime.datetime(2021, 2, 24, 11, 21, 50), 'trade_type': 'PAY', 'kebi_spent': 36, 'voucher_amount': 89, 'voucher_info': '{"cutAmount":"89","id":"62299733","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299733', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:21:49,855-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:21:49,855-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241121492076075925658682"
2021-02-24 11:21:49,860-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7772, 'pay_req_id': 'KB202102241121492076075925658682', 'partner_order': 'Ww4SsYZ8QFf3uTzAb5Hm6PDjM2rvtGiK', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 666, 'amount': 541, 'kb_amount': 36, 'voucher_amount': 89, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 21, 50), 'success_time': datetime.datetime(2021, 2, 24, 11, 21, 50), 'modify_time': datetime.datetime(2021, 2, 24, 11, 21, 49)}
2021-02-24 11:21:49,860-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:21:49,861-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241121492076075925658682"
2021-02-24 11:21:49,864-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:21:49,864-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:21:49,864-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:21:49,865-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "Ww4SsYZ8QFf3uTzAb5Hm6PDjM2rvtGiK"
2021-02-24 11:21:49,869-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 206, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_Ww4SsYZ8QFf3uTzAb5Hm6PDjM2rvtGiK', 'partnerOrder': 'Ww4SsYZ8QFf3uTzAb5Hm6PDjM2rvtGiK', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 36, 'count': 1, 'r_cost': 36, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 21, 50), 'updateTime': datetime.datetime(2021, 2, 24, 11, 21, 50)}
2021-02-24 11:21:49,869-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:21:49,869-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "Ww4SsYZ8QFf3uTzAb5Hm6PDjM2rvtGiK"
2021-02-24 11:21:49,873-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148823, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '388df3b370684b29a6b8a9c65249edb2', 'request_id': 'Ww4SsYZ8QFf3uTzAb5Hm6PDjM2rvtGiK', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":89,\\"notClearCount\\":89,\\"orderAmt\\":666,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299733:89;\\"},\\"kbVouAmount\\":89,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"Ww4SsYZ8QFf3uTzAb5Hm6PDjM2rvtGiK\\",\\"paySuccessTime\\":\\"2021-02-24 11:21:50\\",\\"price\\":666,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"k94GjHd0PG1h1TzBRDLhCx9MwwEzqLpCN/R8Pcq/lJQa0QS9/U4iTCXE5dmndUPDXgmrNXu3CF1v5bzXJzGCJGuUNlh9JRCtCuPxJzNocJrbsXimMkhpVaxjpjYkQUY7cFlp1f31JI+4GnGOPjCBet3r36Gy9NczP83Fc8cm10g=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"Ww4SsYZ8QFf3uTzAb5Hm6PDjM2rvtGiK","sign":"3160B743405C029F51B46F28DA15F35B","signType":"MD5","successResult":"OK","timeStamp":1614136910355,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 21, 50), 'insert_time': datetime.datetime(2021, 2, 24, 11, 21, 50), 'update_time': datetime.datetime(2021, 2, 24, 11, 21, 50), 'extra_json': None, 'remark': None}
2021-02-24 11:21:49,873-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 11:21:49,873-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299733'
2021-02-24 11:21:49,877-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 11:21:49,877-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 11:21:49,877-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:21:49,878-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:21:49,881-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:21:49,896-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.36', 'batchId': '73879765946350851963653138560687', 'bizNo': 'ecSvfC9PDNE4tkW3FmLxGQTIAOJsHU7j', 'operateType': 'PRESENT', 'requestId': '14596364102039800800095774286908', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136909892})
2021-02-24 11:21:49,942-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.36, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:49,955-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136909952', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 0.9, 'cutAmount': '0.89', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:21:49,973-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299734'}], 'vouIdList': None, 'batchId': 'd4efc13bb93749c499ff5fbf172644d3'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:49,990-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'd4efc13bb93749c499ff5fbf172644d3', 'batchOperateType': 'PASS'})
2021-02-24 11:21:55,029-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:21:55,037-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:55,037-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "23364153615199"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "1YsmuPfKz8R0AgVqNbHtcwQIOaElMJB6"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:21:55,112-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "fea4073305314d00a7c03cf679939fe7"
s_p: "T2MzZFZQdUhvQ2JhR0IwenRMbW5vT1d0T2t0Nll0dTJKV0lzdzNnZjFqMW44NGpKdFJxYnhZbHpJR0wzZVB3aWxxRW1zcnN2cmZGelJjakZXc1NPTUM5U0VnRmtiOW91NEVlSGc0VWlnSmVUcUh4NG00N2ZJVXVCTGJIZ2FSR1B5OHp3WVp1cWhEWmpCZ2QwVldacDJIS3U5dDBNU0thaHQ2YktaanFoZ3dFbjFhMU5xaHhzNDZVWTJLWlFyYjBESjV6eHNuYTJ5Y2VLYjJORkpyd2NaU3k2QktEMllOUWYzOUJ5dDQ1aHgza1J4UVp4S25PeWtyV2JVTU5KU24zVlV6UDVMYk5WRDViRThKZ2FqbGNwVlFXYTk2ZjhKR2ZnMDJYbXJMa1ZEc2FjRkt1V0EyVW50eXFLOFh3N0NkRWsxY1ZsM0ZWOUZDRXpDMjdpV0NXUG5ZWTQ4VHJLNklRQ0g2Y0xHV1BWTmRRRVFHMUVRQVlkYVA4bE91QUdRVW5uQ0ZDUHpFZ1hQdElJQXRtMjAyNGRtb2Y4Rm1FbUtYTHNSMU1rdmtaT1h1UEhCZG5oc2FIdHl3SGZ4T2ZTRThoOEU0dkpQVUlKSUN3SlRFV05hOFozeHFHcnNtVVBDVmRLWFE2a25qUjREN0xodmtWVmlXZHY5bnFTTW5GRTFMUGFEOVllTERNOWNaajJRTEVVWlE0QTU4UmlJanI3TllYYTJIajdRRFF1eEFUWWNVVEI2S05MMmVZT0hZcGl5cTVFVTBJZ2xmZEdvUnFrSXM1cGZhRjlnOG50R0FMc2xrZXVFcVdVSmZoR1hnNUdGUTJoTDFxZXk3dUxaU1VJSkdlS2VaN25qd1VtUDhSOVZXVVc1N3BvTlRyazJRUHdIOE40MkdtWHhweVlRNEhzVmZ6VFdCVlFQalE3WnhETjA5ZHZGVjFabkxRQjZlMTMyZG5aNFRZbVhKVXNNTUhaY1VrTEJiWks2bjhzUWQydU9IZ0RKdDFETTJiQW12UlgxYUhBRW1RVWRtQ3R3SXRDa0g3dER1VWtwTXRsaWk4bUs4T0w="
m_p: "tqiyz11C4Bag2x1c6v6P0Gkl1jlrTFlA9T945CEs2W3M4SMFpiMX6eVU40V41bf7"
e_t: "1614244917663"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.36"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299734
    type: 2
    minCousume: 90
    vouCount: 89
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:21:55,133-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:21:55,133-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "fea4073305314d00a7c03cf679939fe7"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Oc3dVPuH"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.41"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "Px6ipuB5LFM2bXYySOcf7UQmnCHD8wEA"
}
sign: "c/d5vbr+A9/XMz1ynK0VkWkyDFmQodiwGBXBywHCJh7Q1U5UAt/t2fqFAQOCUYljCAxF/o4uujvXVmP1ogadAJNi38lDH5rUOIAkN2SWAvGImPDEo8aScmhKA0cco+JGQC1JDpx4v7ZVJjqXpmi3RJ3pj1zngbG1DQ+uteX5tyCL24KG03big2alK6ufqD+80EQP540bOJEM90rbKjb0ld75XwixFZaLBW63xJr0ruZnpXbOoJQYUAX88Xw+HJnKrRc3FlSLKsMVcs5MISJGko+L7wFZHKg8FHoNkk6jb2Z6ZcxJNtbHQo1do4sQYdM+lQ7iliu5WuVttHv1gm58Bw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "fea4073305314d00a7c03cf679939fe7"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "Oc3dVPuH"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 666
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "Px6ipuB5LFM2bXYySOcf7UQmnCHD8wEA"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "NOhL1aFnoZOIV6hX1sYslExSaX8yhLQoAIeuogWQQUAYg+x6dGDEyocs0y5fHbU4j+fN9NhSz/pFQB25H5BIH7qx9xamLPSa7QfdZ5iwHzHMPcxmMUBH2R6wmr5vHTJdb6ZiV8Bj+dsL3wFbBEzEaneekwVkaSX+X/KbE1rERGA="
  appKey: "1234"
  voucherId: 62299734
  voucherType: 2
  voucherCount: 89
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:21:55,455-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"bcaa0352308d49c0a2329a88d3adddba\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2411215798268326052de71c0874440000\",\"sign\":\"6FE1002044850D6388CE2E66EE8A7F54\",\"timestamp\":\"1614136918\"}"
}
payrequestid: "KB202102241121572076075925250012"
model: ""

2021-02-24 11:21:55,455-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[3246414348253427080757451371]]></transaction_id>
<nonce_str><![CDATA[g32mNBaqPyKufezJcF9ERI4dQMsobk1U]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[2F00A67CA0DC13F9C7B8E0835DACEB96]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241121572076075925250012]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>541</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112155]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:22:05,502-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 11:22:05,786-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 11:22:05,829-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 11:22:05,829-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 11:22:06,170-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 11:22:06,174-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 11:22:06,174-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 11:22:06,177-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 11:22:06,178-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:22:06,179-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:22:06,182-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:22:06,202-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.68', 'batchId': '99041571667897533356544541589747', 'bizNo': 'FMn34zi1EQJlsBfL0OXd8I9KwjtRDpC5', 'operateType': 'PRESENT', 'requestId': '33970400878991164986390698758010', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136926196})
2021-02-24 11:22:06,228-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.68, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:06,242-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136926238', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 5.93, 'cutAmount': '5.92', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:22:06,265-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299735'}], 'vouIdList': None, 'batchId': 'ef592f9233034aa29d932e279dae352b'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:06,278-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'ef592f9233034aa29d932e279dae352b', 'batchOperateType': 'PASS'})
2021-02-24 11:22:11,322-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:11,331-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:11,331-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "32209683898903"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "lXRAWtjmLxy7pG6JQgbSh2di8TVDrcoZ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:22:11,413-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "de4e4eec89714130a9adcb1c2f8b09e8"
s_p: "a3pwSE9xcjc3b2ZMR2htcU5iNVM5YkFLT2s0SDFibXlad1duT3lmSnhXS1NuMUFwems3NlJ4RThQYkxtaTdtNkJHYTliMzlWSDAxSnI2NzAxNXJxTm1SbjhFcjd4SXlvSmhVV3NkZ2FGNngzcHBMcEQzcENBTjFMeEFFNkJxODEzMVV6RzA1YktUb2N1QTM0WTVNT1NVMXFqbndHYXh4eUZsS0UyN3E2a1E5SVZUeGR6c3JjMGFnbE1Zd1BQYm1TSFJmSzVLUmVjMWtkVmVxdzIzQ2lBYVJBcndaMU1rRjNub093ZEpuZW1Hb083bU1HdnlxcngxOVJYSzF1dkRtM2pObjBRSG12S0VTOEV6MWtJMnVKU0liRks1SlpUSTBrcENsWFJwMzdDVGFhR21lb1Ywa2FvMXFteWY2OVJCRDFUQ2NhdzNrY3FSdlFJb0c4YzUyN0VUZkV6TkdaUWNUNTFaWDhPUUR1Z1BCNWFYUEt2b1hoN1k1S3QwVmJmUnRYSXRkemRBdnVJVnRZTzlUNm4zYU9zQzBnMFRReXNzQ2g3NnFZNnhtWml5TGRCTlR2OFRuTmFqM0dFajBsUmJZZmE4aXdqMnpRaWV6eDVuMUdYWHhmZWkydnZqcG1Menh6RWVLVGZIWGZpT3BOdWRLZ2U4ejlZTDVYTEpJa0pjMHl0UVYweGtHeFk5MERiUDQxWWJkMm5hdnlWU3A0a09oRVFudmcwaGUzeWIwMlhMQnBsN1pTM2RIMEFqRXdZUVRYMVl2cjl5OUhKenp2em5Hd29xTzU3U2Y0QzFwWHNBaGtkNjlTM3BLSmJzM1E4WXU1UkQzaXZXTkk0ekpXZUtGbm1lYVFCSW01aDdkU1hxZGo3cnNZNDNzbTBCcG1MeUJrc1k3RnFNVlhPbk1DUm5QUGNJYUdBUjBsWGVncHBlbGhqOXVpM1pUTUFqQnBkQWxCNnF3SDFDaGhmMWh4ZDhTTkJJdkt3SnFHY3FPeHdFSFhaSXNEVWdJVVBKZWNFYU1EaXdOQnprWnFMOFpFcXhKRE5lOEo0TFNUZHg4UFoxeks="
m_p: "d2tp3Dcj5s64oJ4745NGXgiQ03RxI42sWPYX380o20ur7ax806zrSG055q3sbMdj"
e_t: "1614244933964"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.68"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299735
    type: 2
    minCousume: 593
    vouCount: 592
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:22:11,438-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:11,438-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "de4e4eec89714130a9adcb1c2f8b09e8"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "gaF6x3pp"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.39"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "lVKg8maHhnvcBzpwAEkdjR2xIeZM9stY"
}
sign: "JrlVe8lWJdTF9dRGAibYaL+22jwfNCs5A+wlFdvALqABSnqvAOr28PwigzIBQhQzOeowiEPf0Nh+9eJSEkF5Jiva+X6sH6CoHljpWaIGLWAUPG2bZzHRROePcfCFObA3oMZ1lrB47LdIfM9jq31ukOT7BawoVT7mvz7QdEQcxcba42f8egHKNksxVkiTj88bi/8tnye3lC3NtUaH6zgYqyWTGF4SAxcuW4EFmSRfoyYO2w4Myb16gQgNDxUfcUxHKSkdasJfyXsIWRkFR3Q0I6jIjYQJUe7lVJ84U+Y/0XPXVIMAESiLqGV677R7XHHq5//SHZxIYFg/SOVCbgqUIw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "de4e4eec89714130a9adcb1c2f8b09e8"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "gaF6x3pp"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1199
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "lVKg8maHhnvcBzpwAEkdjR2xIeZM9stY"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "Z2rcAY0B1ewpUmMMRlOMRCmPSSFP8odHp5UzYGvuyIjsOreEkhazWLo5B9OF9dE7Wf0FbN++4hkZP6PLt7AKTZE7aUZGgT82+dlsSjlSvOngB0bjNmCcdXTOZJmGTAv++8FKlGIhsJeciP3FTu1kahHcHnkP7VRx2GQFf3iR2To="
  appKey: "1234"
  voucherId: 62299735
  voucherType: 2
  voucherCount: 592
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:22:11,823-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"b3226b8f314c4c9996898852b41107b9\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2411221435140861436ad47b9ff4150000\",\"sign\":\"1A09565FC193A6191688D2EEE69ED5B0\",\"timestamp\":\"1614136934\"}"
}
payrequestid: "KB202102241122142076075925710042"
model: ""

2021-02-24 11:22:11,823-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9966865738479367237230945592]]></transaction_id>
<nonce_str><![CDATA[Z9vSqsB3HKfhRdcNCy4tEkuOeDgMmYiP]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[878B8171A659922A5A9A4D078431AD87]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241122142076075925710042]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>539</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112211]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:22:11,941-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:22:11,941-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:22:11,949-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:11,949-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "63336063815491"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "unNcFRUZovfP6GYzDxpqQLEXd0S32rgy"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:22:12,020-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c405548c1c0a4c89b8857d68952749f3"
s_p: "bjVzeEdtRFdTcUszcnd0ckVUTkM1ZEg4MU9FV0ZWeW5STzhpTlBnaVo1SnMzdFF3eHlOQkp5MTdBeEhMOWpYMVI2VHE2c1BCWjdWS0RLV3h4N0Q1WDc1WURING02ckZmdnlXQlR6VFFUM2hhdzhnUk1ReW02YXZjT3k4Ump3cUthWU1ybzA0ckpzR1pVNmdneHAweTJxaXRianJRUTlKQ1JINkh5WUo3SzVsanJNcnZSUVlhUkgwR0RCaUFnQnNEMm9sSnNVTzJtVUJ6T3FrZU96Z0t6a0E1ZEMwOTVLRGtKcm5VTTh1dzhEdUpyd3BIbVNmTloxUk4xRFlCdDhRVlpSUTNZdzFXejFHNlY5SUZEVENvR3NQY1habVJUaUxaaFRab2pRcWlQVWc4STNUYUJEcVc2QlJWTnJhZUJrY1ZKOEIxUGloM20yRUt5azJFT3VjbUJ3b3ZkamhXcVJ0ajRpUjkxRm10QmZ1cldsNVM1Mnp3SzB3SWxxaE1WN2tVb21mVUZCSHFoWlpoRG1LVjNhdWZJRXB6VXJhR3VtUHpMRzB3VEFZc1FPRnNiTm10NUhveEJHZjdsd0c3WERoM2wzYUJVVEJvTGFMQzREV1FRWk9hN0NjSDZFSFRnQ0ZsTW1ZeFF4ZXVPc3MxbktrM3ZoUEU4MFcyM2tncGtUcDRVdnNRVVJUSllqOWlZc3pxNzI4Q3JDMTJnQ3pvbHdHeHVjWFRkcmlNRVdRN1JVYnpTSlVFdnZVWXpQeWNZRktHSHJFQXJpOGl3SURxeHVSWlJkYzJFZldST3VHQjRQMkVrU001a3pyeHBoNXRibTlnMVE4QUd0Uld5VlpNcVR3c1JUYVFjR0dLVmQ5RlowOExhRVA0cW5hZ05id3NWUmJibTZsQjRKbHFrQW1hZERzTzQ4UEhFQmhNMHY5REFGaDhXcFF2Um9YQVJpVFFFUHZJdFpzbkNTbjFZN0JJbnBFQmVJaXlkYkc3cE05SnQ0alUzS0xVaGI0RHBHT2p3ckdQeWpBR2k1andQUkxoQWhlWVE0MFFXWkR4MFZ6YlNrcDk="
m_p: "8zSj8B8ZWcp155U2v08wzaH0OSlBKVGzKhGF687TQgp42rV0HBLAK38C68Fl3QZ2"
e_t: "1614244934574"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:22:12,022-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:12,022-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "c405548c1c0a4c89b8857d68952749f3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "D5X75YDH"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241122142076075925710042"
version: "260"
queryType: "PAY"

2021-02-24 11:22:12,080-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.39"

2021-02-24 11:22:14,081-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:22:14,081-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:22:14,085-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:22:14,086-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241122142076075925710042"
2021-02-24 11:22:14,090-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15088, 'pay_req_id': 'KB202102241122142076075925710042', 'notify_id': '9966865738479367237230945592', 'partner_order': 'lVKg8maHhnvcBzpwAEkdjR2xIeZM9stY', 'amount': 539, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1199, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 22, 14), 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 11), 'modify_time': datetime.datetime(2021, 2, 24, 11, 22, 15), 'trade_type': 'PAY', 'kebi_spent': 68, 'voucher_amount': 592, 'voucher_info': '{"cutAmount":"592","id":"62299735","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299735', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:22:14,090-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:22:14,090-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241122142076075925710042"
2021-02-24 11:22:14,094-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7774, 'pay_req_id': 'KB202102241122142076075925710042', 'partner_order': 'lVKg8maHhnvcBzpwAEkdjR2xIeZM9stY', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1199, 'amount': 539, 'kb_amount': 68, 'voucher_amount': 592, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 22, 14), 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 15), 'modify_time': datetime.datetime(2021, 2, 24, 11, 22, 14)}
2021-02-24 11:22:14,094-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:22:14,095-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241122142076075925710042"
2021-02-24 11:22:14,098-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:22:14,098-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:22:14,098-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:22:14,099-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "lVKg8maHhnvcBzpwAEkdjR2xIeZM9stY"
2021-02-24 11:22:14,102-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 208, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_lVKg8maHhnvcBzpwAEkdjR2xIeZM9stY', 'partnerOrder': 'lVKg8maHhnvcBzpwAEkdjR2xIeZM9stY', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 68, 'count': 1, 'r_cost': 68, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 22, 15), 'updateTime': datetime.datetime(2021, 2, 24, 11, 22, 14)}
2021-02-24 11:22:14,102-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:22:14,103-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "lVKg8maHhnvcBzpwAEkdjR2xIeZM9stY"
2021-02-24 11:22:14,106-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148825, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': 'b2dae794754f462c86a45241ce5d163d', 'request_id': 'lVKg8maHhnvcBzpwAEkdjR2xIeZM9stY', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":592,\\"notClearCount\\":592,\\"orderAmt\\":1199,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299735:592;\\"},\\"kbVouAmount\\":592,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"lVKg8maHhnvcBzpwAEkdjR2xIeZM9stY\\",\\"paySuccessTime\\":\\"2021-02-24 11:22:14\\",\\"price\\":1199,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"Sxr4PaHi5gH8kl24lhENjGUoNoFTK5Xb+FzNyOWw0R6VAKW2ovZkWIkEiJ8vEDRtqd3fF+lHpakAd4i0YdabHcMEFKxyG41LUpX7EdgblCcKCelYWlXhU0vEc/ckf+EBjhYmyeoury/QgFZcFB+I3BKSJyimJA56J6S/63hJTvg=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"lVKg8maHhnvcBzpwAEkdjR2xIeZM9stY","sign":"41096818953BB81B9A3EA82ECDAE6568","signType":"MD5","successResult":"OK","timeStamp":1614136934582,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 15), 'insert_time': datetime.datetime(2021, 2, 24, 11, 22, 15), 'update_time': datetime.datetime(2021, 2, 24, 11, 22, 15), 'extra_json': None, 'remark': None}
2021-02-24 11:22:14,107-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 11:22:14,107-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299735'
2021-02-24 11:22:14,110-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 11:22:14,110-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 11:22:14,110-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:22:14,111-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:22:14,114-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:22:14,129-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.68', 'batchId': '74360183743326929309240567696463', 'bizNo': '8jx1ipowVDTUh6ZHsCa3YO2RGXMvdNnm', 'operateType': 'PRESENT', 'requestId': '33885828326678769708802258213066', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136934126})
2021-02-24 11:22:14,152-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.68, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:14,168-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136934166', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 5.93, 'cutAmount': '5.92', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:22:14,187-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299736'}], 'vouIdList': None, 'batchId': 'f9ff069edf6345478e2a4d10c20d8794'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:14,204-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'f9ff069edf6345478e2a4d10c20d8794', 'batchOperateType': 'PASS'})
2021-02-24 11:22:19,239-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:19,247-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:19,247-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "31802140410724"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "1fdreRjLOYmVKAZ0yJSHh2GIibt5Q3s8"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:22:19,352-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "6d08690110564f7b97482c73ac133ac2"
s_p: "NExLYnhjeWZGQWhCZGtsdTlpWmQ3OGZ4dkYxZWhwNmFldnR0UTJKRktTakEzdDI5c1dLY21PYXA1Y2dsOWtFMHVNZzhpR2RvSGY2UzV0aVUyMkZsODlITVNMQ3pGeXluMVFubXRMTWt6YjJMM0JvYWJhOW1GbG1XekFyS3NxWE5BSEgyeEE3SHVxM2locU5kbGNLQzQ1R1U2cGpicHBLOEhkS1hKYU5HZ29YZ2s2ZUFwc0h4MmwyOG9TeWlCeTQ5OGo3Zk9GaDNVdjg5ZjZYQkdyenlSVG5CYllDOHFvVFFxbjhmTGNpTkMyQ1J5REpUV0VNb2N1OUpUbkgwcWQ5QUtCRjVxc3hQRE5GU2VvNjMyNmVJTEw5YWRScDZ1c3Vjb09vVEJkSHlSU3RSZXA3QktaUG5TVkJjWFZNalRPVzJNNjVPYldUbVV5c3IwTkNMVVI3MzUyYktFVjBUc2IydW5ObXRqazhvbkdSZ0VGQUMzaVE5cTE4dmxWT21CcUpWTnZ1d1N2dllsZE95Vm5FY25KQWVYcHNsM1ZxbEs2MjdPdkRrZU9qbVkxdUEyZzdITk9tWUpVZFV2RWJwcU5oeUhKY01IT000dTU5V2RnbTFSZjdvam5Nc0dHVGN3cTlNQ0hCdEtUUkFlRzJBWkNPMGpQekNzTm8xcnp2bkNvZXRUUzhXUmtFSjQ4VEt0UmVvT1l4VG1Mb0dQV05GcXpCbkl3MFczSUl2MUtXdDdHdGJiTU5qbFhWZFRscjNWWUdmTEk1YlZXZjlaVjdqdlNLSU1hdkdWT3BTVVBGUTZ3MnRJa2UyckFVMEdFQmpTeml0dkswNTl5bW5XeVI1M2hWRnNtQXdDSklQOTc1Z2pjaWlKTWt3d2dYZ2Z3cHlMMGgwQmJsa3Fud2dTUU54UVlPbGdSU2lsaFFzQTlwcXJZRExSOEliSzVublFRRkdsOWV5RERZTGRMN1hMNVptNzdDNlZmOGxDbVM3ODdhMDVqaFlZZ0lub3E5UktUMzliSzd1UFF2YkY4WXpoQjFEYjNsajVXbTkyQUFJOEU1MmU2ZmY="
m_p: "fKy30VLhS5WQhtB3zsSoE89Z4j42jHn31080ez9Cy9h1I5Z64kKX5coo6vH38Jm2"
e_t: "1614244941906"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.68"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299736
    type: 2
    minCousume: 593
    vouCount: 592
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:22:19,377-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:19,377-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "6d08690110564f7b97482c73ac133ac2"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "CzFyyn1Q"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.39"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "MXL5iTIFcoDmZWCPhdGegf9sESVntlNv"
}
sign: "4SRQ5JwBx+CUkrqlAaGQFk7KdireCDU1VEwklMPw2Ra5GqR2elyHF8NkN2Jx/H1pMdNqVTiUVZz5bAk/KUCrvTznYg+c9YEX2UhFq8WgZF8jU/Qs+EZ7NsdZhUdHtuRSH251Xy5thbQQUopdRHhRueq+AjEABuM86MNLmn4cpIUpCE2MqufcDgTVUN26OE+eYI8b7v+YNJB9W81qoiwZHgUUaIeCKyxfD7p+IcfdwjVUUQrcpntvrXE370E0+ZOiSAeSeUu3fON4tIhk9qqawOB10McuH5lHjsWNN6/aOhjB0jHp8veyRt6WleCPHAzEB3EdPUi3hKX0XY4eNpXcSw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "6d08690110564f7b97482c73ac133ac2"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "CzFyyn1Q"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1199
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "MXL5iTIFcoDmZWCPhdGegf9sESVntlNv"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "h4TpMnfUNVB5bPkRSO/4mDoggqbyonGqmUvGYcdiNnlXwa050J/MJQq9WgeytITKbK0n9NRcm804yQkqwf6hqj/82/G63v1IIuenBVCgcASKqDofgM4fdrFozJ1aNgptn08EZxEWkckbrPANABMnHfuK+rhbNzvG+mhNYmxE364="
  appKey: "1234"
  voucherId: 62299736
  voucherType: 2
  voucherCount: 592
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:22:19,741-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"6e87d6b3e41b4709a35cdb890b567236\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24112222274925789aa548fcc4402f0000\",\"sign\":\"8D12E0C65BC6705535175A10AEBBE718\",\"timestamp\":\"1614136942\"}"
}
payrequestid: "KB202102241122222076075925783182"
model: ""

2021-02-24 11:22:19,741-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1723774718536449572747521047]]></transaction_id>
<nonce_str><![CDATA[jXEPcTZi6VgIufaS7dwYoKL4D8bx0qmp]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[0185988B55BB23CE595B4347C26350B9]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241122222076075925783182]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>539</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112219]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:22:19,868-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:22:19,868-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:22:19,877-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:19,877-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "96540861656722"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "R3ueFPU0qsQV4wDxiJBbgltfM8K2d9HX"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:22:19,948-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "118f2a6d4dec45d992540b462db06ea7"
s_p: "SDN0SDg4WFFITnA5Z2U3Zm0wRTFxbnVRN3pZaWlYWG9mZHEwSTZzYTVvd0VQN1JEVTVNVVFHWkdZTldHaW9Yc1JLRVNyQWRtR0lwVjBRTWR1dUdrNzM2d2M5bklycnZvZ2dkRFZIaEM5R3RreEEyYnRTb1RENlRWYzNWOFQ3VjVBd05NWUdQMzlNUjdzUldaa3A1bkUwaElvM0pzWVlkbUU2Vk1NSzFPdmt4SXBTbkdhWG5TdXVXR25yRmJzVktpdVBkZ2h4cHFtaUhNU2d0SndaVXp1aGt0UXI3dHBhQ1ExVHVJdW1LclU2YVY1MG1odlg1Zk93ckRtVTBqdEpzeXhQOENwbW53RGo0WXVsOU1tWlR2ZlhjbGZYaUxRdWJ5cDJYdHIyaE9JZmxWcjNaZDZwazFOTEpTcEF5NXVuTlBZaXhIdUhzSnE2eUVlVGdIVGxBaGJwQXZMS2tGNGxhRWRKZVFSRTBLWXdMMFY0Ync2N01iZmdyV29lazFoc2wyTks3dm85SzZ3cGtUZDFmRGw1U3YyTFJ1dFNycUh6YkVOQmJ1R0I3YlpmN3pFbldOcEtBMGhSdEt0eklIZHBNVzRJZlR5clhPTHZ5Y1pVTFJHQ1BoV0h3SzJTM0tOMURkMUxZZXNFR2tRTFBmMjFjTEp0YUZ4QncxTWJJWVpLVDRadU1CZ3ZTSE5WamlvVFZLcjJEdUNxbE1zd1lNRnV3ZGk5SExPdXowczFPWk5ybXJmZXlzejl2NGw1ZEhzQWNjRlJzdDRXWm05MW1UclFST1JSU3IyU0dubzQ2eElUdXF3Szl0VTBYYVB1QU1RQVE4NVN6eW5XT0J2c0p1T3VuendtNlZzRkNxQmNDU0FHaTNlVmJ1WHFZNXRsODQyRWZWUEJQdmZ3Sk9rbEdsSlYzZURKRVVqNTZIZ0JrUzB1eGFTeERKSTFVR0JYbE81b0t3d0FHcTVtdjFQeXlvQ3M2YVJIcmdMakRUQVFhYTg4cXZqekZ5Y1M2dmMyUXluaFliRHhCN2hIeWRqSmFyT1hIbjc5cm1mOHRUODI2bGgyRDU="
m_p: "wQ9ao2T570G9218R9oX7BAMg69e7d1f6G6O0kE3c6VlcU29w39Knc48RY2702I1N"
e_t: "1614244942502"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:22:19,950-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:19,950-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "118f2a6d4dec45d992540b462db06ea7"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "voggdDVH"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241122222076075925783182"
version: "260"
queryType: "PAY"

2021-02-24 11:22:20,005-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.39"

2021-02-24 11:22:22,005-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:22:22,005-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:22:22,009-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:22:22,009-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241122222076075925783182"
2021-02-24 11:22:22,013-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15089, 'pay_req_id': 'KB202102241122222076075925783182', 'notify_id': '1723774718536449572747521047', 'partner_order': 'MXL5iTIFcoDmZWCPhdGegf9sESVntlNv', 'amount': 539, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1199, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 22, 22), 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 19), 'modify_time': datetime.datetime(2021, 2, 24, 11, 22, 22), 'trade_type': 'PAY', 'kebi_spent': 68, 'voucher_amount': 592, 'voucher_info': '{"cutAmount":"592","id":"62299736","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299736', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:22:22,013-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:22:22,014-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241122222076075925783182"
2021-02-24 11:22:22,018-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7775, 'pay_req_id': 'KB202102241122222076075925783182', 'partner_order': 'MXL5iTIFcoDmZWCPhdGegf9sESVntlNv', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1199, 'amount': 539, 'kb_amount': 68, 'voucher_amount': 592, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 22, 22), 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 22), 'modify_time': datetime.datetime(2021, 2, 24, 11, 22, 22)}
2021-02-24 11:22:22,018-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:22:22,019-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241122222076075925783182"
2021-02-24 11:22:22,022-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:22:22,022-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:22:22,022-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:22:22,023-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "MXL5iTIFcoDmZWCPhdGegf9sESVntlNv"
2021-02-24 11:22:22,026-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 209, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_MXL5iTIFcoDmZWCPhdGegf9sESVntlNv', 'partnerOrder': 'MXL5iTIFcoDmZWCPhdGegf9sESVntlNv', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 68, 'count': 1, 'r_cost': 68, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 22, 22), 'updateTime': datetime.datetime(2021, 2, 24, 11, 22, 22)}
2021-02-24 11:22:22,026-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:22:22,027-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "MXL5iTIFcoDmZWCPhdGegf9sESVntlNv"
2021-02-24 11:22:22,030-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148826, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '8c9715a57716424a93bfa5b9a7584f30', 'request_id': 'MXL5iTIFcoDmZWCPhdGegf9sESVntlNv', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":592,\\"notClearCount\\":592,\\"orderAmt\\":1199,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299736:592;\\"},\\"kbVouAmount\\":592,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"MXL5iTIFcoDmZWCPhdGegf9sESVntlNv\\",\\"paySuccessTime\\":\\"2021-02-24 11:22:22\\",\\"price\\":1199,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"HikI5Pn/3BufSPpuzN5817UHtun6ep7h7H4auYrFqvnAT26HXXNbOKnDvKL7FmYfieBsTNtspTPCX2r4jzrbYx2WA6OJPXdNaW/6GJ5TaucfJP9SYCIl8tbPke2KGJ53xxBp1lKAjKgZlfJ3ph8LfpJw4fbHO7jVRkI2DA8UV7c=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"MXL5iTIFcoDmZWCPhdGegf9sESVntlNv","sign":"60AC55CD5999B932DB5538AAEAC37658","signType":"MD5","successResult":"OK","timeStamp":1614136942505,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 11, 22, 23), 'update_time': datetime.datetime(2021, 2, 24, 11, 22, 23), 'extra_json': None, 'remark': None}
2021-02-24 11:22:22,030-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 11:22:22,031-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299736'
2021-02-24 11:22:22,034-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 11:22:22,034-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 11:22:22,034-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:22:22,035-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:22:22,038-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:22:22,051-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.68', 'batchId': '95158131637676379934843493964218', 'bizNo': 'AaMhuXr1Zyl79BCDJPHSkQTfYmpOg3ci', 'operateType': 'PRESENT', 'requestId': '34249138343297176932262571994428', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136942049})
2021-02-24 11:22:22,074-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.68, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:22,088-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136942086', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 5.93, 'cutAmount': '5.92', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:22:22,109-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299737'}], 'vouIdList': None, 'batchId': 'a52eaad812da4132bd4f851ca07f8456'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:22,126-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'a52eaad812da4132bd4f851ca07f8456', 'batchOperateType': 'PASS'})
2021-02-24 11:22:27,170-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:27,177-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:27,177-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "04926053480811"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "nVCxsZlw5UF7pyiOYub40oRBcENJzjMt"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:22:27,261-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ad9c64808e8f4127a5f619851ebfe27a"
s_p: "VXNJV3FMd2FtSWVpODQwVFJXZ3hCTE5iWmZRQXBhSElpa1o1R0xwMHF5RlJpT2NXcElOcVFOSk16RUlmd1JrSk5ScXF6b3VpdUszbEVYc1JZNmpnQXJ4azJISzc5UFNqcmpHRHpJQWdtdTFtbEpNSE96bTFsWmtwR0IxVUZxekFFcG8xSkVNSGFiMUVqTGdFQVV0cGpuTFpQSlEyaXpWWUxJelVjRXl5bDJXUmFyQWhjUDVEdk0yNm5GZzVyMzZ3NVRjNVkydFRtMHBsN1pEdjVoVmo5QTR0RXhNcENONDZFMndaMTJpN3RqamZMc2ZEVXg2RkszSjdjTGJuVEZTMUJJZHNvUWxxTUFZdkNFUmFwVnY1a2tvZW9ZTUZMUFhEbXM0R1I5bkdBTUFYcVg3WWRnY3R2N25Nd3VEZDdKWm5jdjNVckFDQmFqZVBEMERDZ2RYQklKTHdyTjFlOVdWRU9qenh2VkEzQTQ3WmluQXd5VHRRYksyTUFTY1p4dFdjY2U0REc0TFAzU01DY1NxNnNLclU3aWVwWDhia0NOcW94R1gzcFAySG16UU14YUFTYndIZkRBUk1WeVNvQ29jT3JjVFh2bXhJRkNoN0hONnNRRG5YTmE5UnBiZ1JiYVM2MmVuWVJzclRHcTVQQ3pwZFJ5b1dCS2tkTjFVYkNkWVNGVXhBdUJFWjI0bEdmQVZ6VXZ2ZjFla2g5OUROUUdzSWJkeGNWTnRWS1NQV0w1S2RZZzF3R0tYb2NlY1ZIRHV4MnFLRnliMDdvNlNLdXBzaWVtNDU1RjFienFxQzVjcTFaM1ZwbWhBQWpLV3FUSE56VGdqQ2VDVUpVcXNmc1U4cGR2OUFPZ1BIV0hvS29CamxSWHJUREVHMzc2MWI5WnUwQ0pydDdFWlpQZlVKREs0Q3VEWFVVYmNuSmJhOWYxOG5mU2x5bWpFRENHNThyZHNIWHJSVVFuZUVaQVdEU3lBdkdMZkxvdVZ5bVRIbHdRVGpVV0FqWVFYMWlMcU9rWHEwM0NBTW9nTUtrN3U1OXRxMkdZQ1hxZm5veUNTTUNvVVA="
m_p: "Pz75DeD0DLqt0UZOw73BlG1H232wwEn8347v2FldO1T7zBSu4FjQ1r2do1A31xJ9"
e_t: "1614244949808"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.68"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299737
    type: 2
    minCousume: 593
    vouCount: 592
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:22:27,291-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:27,292-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "ad9c64808e8f4127a5f619851ebfe27a"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "zouiuK3l"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.39"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "VLia50xFjKq8c9ZnUzGf2N3p6T7rEdte"
}
sign: "TyYvP7BrKOf2QMd/MK1jR54bXJFGpgFcIEY8LRZg8EA3o0Pv0APUTzJobdyhIn6WXogjI72Q2E41xvV1IHqS8jS+7UhnF4eD/BW3NlFEu3Gl6gNPG6HzQqOp9k9yJz4dMtDwjA3jrFJBkRZOP8nRE/S8YuW213b9L0wRwjDfJ82EJ4icOsK1+4NiiK0gC37MaBPmw96VLoH+kFiMWSRSgUCIMaHn5ndJKrkA2mEGoQi+/eu72Z0Gy0w0V1nGjJWnl8IxPSPIKFuHpfGYTztjC9H7amDlf+0I1n+wMofIQadhilHyeC3wxc7c8mMVdqfOBYOZai1qo3/xZAOi2T30SQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "ad9c64808e8f4127a5f619851ebfe27a"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "zouiuK3l"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1199
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "VLia50xFjKq8c9ZnUzGf2N3p6T7rEdte"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "ZOfxeAe8sDUyYzCX6TzRI9g0sE/l5UuscsRnZQ++to3JDNkVi9OtdnwZ0tqFCMT3Eo3u9EJa8kKAy3thyoOHrphk9lthxR2XVUVVLjzILgqV20vrkQXYXNLeV4/P/P4Weuevrt6ksqE2Mutg6wRC1xHlNfkyPc5hOU746l5SoFU="
  appKey: "1234"
  voucherId: 62299737
  voucherType: 2
  voucherCount: 592
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:22:27,656-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"7952440ee9e247f788da8081352e1a3b\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2411223018529715f39c9ec757300b0000\",\"sign\":\"AEFC2CB23CFFE292FEC9AF140AABB75A\",\"timestamp\":\"1614136950\"}"
}
payrequestid: "KB202102241122292076075925778032"
model: ""

2021-02-24 11:22:27,656-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1340836582273676493797986759]]></transaction_id>
<nonce_str><![CDATA[o6ASgpV589JnMeB2QwufLX0kFaHxWdCK]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[541F98D91C880828B491872DAC33731F]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241122292076075925778032]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>539</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112227]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:22:27,775-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:22:27,775-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:22:27,782-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:27,782-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "79644558012449"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "4gtrnPauJpmqULwl0oKk5eWHGR9TsXx7"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:22:27,866-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "199c86b6e96f4321a152fc2db8a42de8"
s_p: "U05lMUk1YXl3eUlmdnVYZjdpN2RheW9tWmZleklLaUZHTWRaOXdRNWRIQW1yVTJGemMzOWZBbHhRVTEzOEd1VVJvTFlQVjFrNURDdTJqSWlLWVZoN1BoOUVqWFYwdmltQm5FcXdNc3lTSUhSN1BRdmlwZlZGUVhjRXo0aU91Nnc1MFExMzJFUmZZVEJpSDNEQTVKQUQydnk3WW9pWEM4SU1sQU5LMlJ3Z0VSNjA5Q25hZEVveHJOcU1CSUNYNEt0a2dvMFAzUWNHNlpFSFFxTG5Ncmh0QTg1Y3VmV3JkRVNJaFhGZzFQRFNhRjhjY2hranJpYVpTam1pbFpzbkpYakFjMWpsbkZLelNNVHk2amRkQWhmUGgyeXFjMlRiSmc5eDhzdkNSeldWbTlKUEJxZTg4cTM5OWhiSmJHTk5DQjVrUlBOM2xyTVFybWFqMTdFTEo4Y2hwclVocHlBWFRlM3VkdjcwUE5hdGRiQTRUZGtUcFNRSGZmQWQyYnFkN3AzSldrUkJyVW5Kb0RUQXdYdU5LNDhzS3VqTGdYYTdzMnlzQ3NsYmtYYWd5T1FMaGFCaUIxYVg1cURlTHNXbnpqd3NRMlVMU2lwaWJSMDdwQ2lSY3AwY1g5RjRVVk0xUTd4QVEyZUxRRUZjTWF3YU12VGZPRTZjaEVCeGRvbkJkdDF3V1FOTXJnUXRCdGVpMTdoZ1BOT1lkdTVJM1Y3ZG1OTUNHMzZ5R285TXFsR0lESEYxcmt0V3dHdGM5aUlMZmJOQldXWlhCdXJqWGlDdGxtMWlId3d0OVNQSUE1ZGdicVdTa2o5ZXh6Wjl1QmpuTWZNeWROUlg4S2ZaQk9hR2lkcGNOUW9uSE9vY1dIaWQ1UW5OMGpHbVNQRjRDWkRxbFRMMkRTYXBvSDRMaVlZN1B2S2NoVHRZSGxKNnVPWm4zdUp3d0tTNERJRlVndXpJYVZLSnYyNkR0UE9ERFJNN1dnSE1Vd3VBSk1taXRUZkExM0ttTm9DZDdpSTF0TW83ZklXZHpjU2hHTTFjMnU4Mno0RGlaM0pLeXUzVlU5dldOTEQ="
m_p: "eUd14m369ooJ97sKw4Z69cDkBI32OkLSOC62Q9sEef8pFF10uIC3a5vtoA6tEjp1"
e_t: "1614244950412"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:22:27,867-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:27,867-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "199c86b6e96f4321a152fc2db8a42de8"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "QvipfVFQ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241122292076075925778032"
version: "260"
queryType: "PAY"

2021-02-24 11:22:27,973-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.39"

2021-02-24 11:22:29,974-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:22:29,974-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:22:29,978-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:22:29,978-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241122292076075925778032"
2021-02-24 11:22:29,983-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15090, 'pay_req_id': 'KB202102241122292076075925778032', 'notify_id': '1340836582273676493797986759', 'partner_order': 'VLia50xFjKq8c9ZnUzGf2N3p6T7rEdte', 'amount': 539, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1199, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 22, 30), 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 27), 'modify_time': datetime.datetime(2021, 2, 24, 11, 22, 30), 'trade_type': 'PAY', 'kebi_spent': 68, 'voucher_amount': 592, 'voucher_info': '{"cutAmount":"592","id":"62299737","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299737', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:22:29,983-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:22:29,984-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241122292076075925778032"
2021-02-24 11:22:29,988-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7776, 'pay_req_id': 'KB202102241122292076075925778032', 'partner_order': 'VLia50xFjKq8c9ZnUzGf2N3p6T7rEdte', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1199, 'amount': 539, 'kb_amount': 68, 'voucher_amount': 592, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 22, 30), 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 30), 'modify_time': datetime.datetime(2021, 2, 24, 11, 22, 29)}
2021-02-24 11:22:29,988-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:22:29,988-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241122292076075925778032"
2021-02-24 11:22:29,991-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:22:29,991-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:22:29,992-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:22:29,992-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "VLia50xFjKq8c9ZnUzGf2N3p6T7rEdte"
2021-02-24 11:22:29,996-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 210, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_VLia50xFjKq8c9ZnUzGf2N3p6T7rEdte', 'partnerOrder': 'VLia50xFjKq8c9ZnUzGf2N3p6T7rEdte', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 68, 'count': 1, 'r_cost': 68, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 22, 30), 'updateTime': datetime.datetime(2021, 2, 24, 11, 22, 30)}
2021-02-24 11:22:29,996-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:22:29,996-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "VLia50xFjKq8c9ZnUzGf2N3p6T7rEdte"
2021-02-24 11:22:30,000-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148827, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '8f7bf9d07b6044ae925bacb5f8331846', 'request_id': 'VLia50xFjKq8c9ZnUzGf2N3p6T7rEdte', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":592,\\"notClearCount\\":592,\\"orderAmt\\":1199,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299737:592;\\"},\\"kbVouAmount\\":592,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"VLia50xFjKq8c9ZnUzGf2N3p6T7rEdte\\",\\"paySuccessTime\\":\\"2021-02-24 11:22:30\\",\\"price\\":1199,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"imzKc9ozw8AyjeqvaO7UQpJILgNtDdZhc3BhPff84woQO6mBXLHGIVkoiQte4tPPwcnjptbnaCVGBPGjK5v35zHmvWL1mqUf75qJBIj4DDE75UoKTH1/QiNyp5STM97xAO0TqMuQVfvx1WhjkIZP4QXItEtQEWxp9x/70nPekhc=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"VLia50xFjKq8c9ZnUzGf2N3p6T7rEdte","sign":"A69E875AC6737FB32054AAF1D131F635","signType":"MD5","successResult":"OK","timeStamp":1614136950415,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 30), 'insert_time': datetime.datetime(2021, 2, 24, 11, 22, 30), 'update_time': datetime.datetime(2021, 2, 24, 11, 22, 30), 'extra_json': None, 'remark': None}
2021-02-24 11:22:30,000-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 11:22:30,001-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299737'
2021-02-24 11:22:30,004-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 11:22:30,004-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 11:22:30,004-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:22:30,005-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:22:30,008-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:22:30,021-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.68', 'batchId': '33835096240110146762481934487186', 'bizNo': 'j2O80W6qJliKAsmBFUMrYtvnIhxVpGR9', 'operateType': 'PRESENT', 'requestId': '34948023464472655971559654026021', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136950018})
2021-02-24 11:22:30,048-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.68, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:30,062-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136950059', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 5.93, 'cutAmount': '5.92', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:22:30,080-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299738'}], 'vouIdList': None, 'batchId': 'ee80b3832b424c23a2ae9cc83ca8f1a9'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:30,105-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'ee80b3832b424c23a2ae9cc83ca8f1a9', 'batchOperateType': 'PASS'})
2021-02-24 11:22:35,148-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:35,156-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:35,156-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "23196742630881"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "GyVatY4sFzvdkmfEp8DBKeqAL95P2hcU"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:22:35,243-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ec7857124f0744a786af3d405e7b7cb2"
s_p: "eHNnNFhybGVPakZGcHNaZ0c5OGlDVmFPNHZJMnVleWY5RXFGeTN2UGpyUjBNMFlBbHZhV0NodWRsSTZLQk9EbWoxTXhvVXEwSnA2WXBTdDluQ2RRR2JhRFd1MnE4UjhhTmxYcGtsY053elFKSlB1VmlleENCWW1FdktmblV6RXIzRmUyU1VxSjA2U3o0MEJMZlc1MjRwaUhtZzc5cXBLOWtDSDdSS3JvUmE3SzFhUkY2R2s0emJKaXdwdk90VENMOVFTbXNEMXlvSkRnM2FzVFY3ZG9uVkprVEZhMnpLaE1ERzhEQVlaU250S3RQNURnWjUxM1RSY3N0S1B0U2hmOGVrUHM5dEtIVnVHY2JBSU9TWlZYZTVra3phQ1JyVGFXd1c0bjVXT2gwSUdZQlpmRWNtT3BRb0xFWkplblp5Y2diYTJRQWVtS0lIRlRibWFFUDZPZ252a0lqaEJYcjhCUVcxZVE3WUdSa3hmZHRFY0k4Y09rVjdGZDZ5VEtLWUU1VEgyOXkzUEljc2VTcUZoZ1dSTnNsZ3lJaWN5bEt2NTlTMXhrNTJaeWdJRUNCVGVjTWxuQ0x4WHpsSG1rU3lHVlVSaDg3YzQxeXpvNzZzall5MFZRYnNLMktPa0tGOGp1VFppVnJ3NUJkZnpLMlQ4eXQ5UmVJWm9yYkpjejEzd2RyV3l4TXlJOXB5TmFGWXNTSTdKdXhWOTcwTGZncmIyakt3NFBQU0RNY3hnek9obnVUY24ybENYdnhPU2lZemZoTGFPT1dINldKMm8zb1ZoNElFTmRSc3EzQjVBU2FVckVrTzZMVlNoQkdVTXFXOWttYnhhNEZDNmJKNkV6bzNNdkRZWnVIYUlTM3NoVWpLdXpZWXdHYlRNa1NFY0xUMHl4SFdVTFhWQ0g5a3hOaEJyWHdOT0JRc3ZGRUszR3RBTkk2bGwzTVN2TFNMUXlxMU4yNFJiWnVNZmVQY0UyaDM4dEY1NmJmQWtNZ201MVg3MUZLTTJWNUZmclhIakdhM2pIeWhYalFRV0dvTmFqUmNiMmE3YWZsN21mUENiQzZ4RTU="
m_p: "mT432cHny4c4kN3WygtaNo0SRJW13TrkCmEYzoe6Se01iFB32dXy4r17o7kDz74s"
e_t: "1614244957789"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.68"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299738
    type: 2
    minCousume: 593
    vouCount: 592
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:22:35,266-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:35,267-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "ec7857124f0744a786af3d405e7b7cb2"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "nCdQGbaD"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.39"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "avmSB6r4lfcsZK8293XTnyueDo1G5jtA"
}
sign: "d4O+m3VggDT3BeM8/idc+1pkhPSEzHM5T6B5JwYxl++3ak6mB85ZDCHQomtZMkynIjOWwahLCZzbFCMEFLG+67satTqXefu+hMPhgPAmyBsFYAwSb8goJEIscD8Vd6qhLErZjIDyjifnQ2UQUViMqogiP6d1wQ9KuLk04zphRDOLC5k9vZ4ExvNDaQS9QhVIH/CODulIT+195ASsmR45uVSmiUqWxoXPq/rkpUZNATQSVFYhS6DCH5+lDcifEY3FQBmzoNjFD03CrG4F0mTbHgVMN1zUyMkRaTRprnW+hgsG/5TF/Ss5EMT3SOmgkQRm8g41butVctCR2VLhZ2n29A=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "ec7857124f0744a786af3d405e7b7cb2"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "nCdQGbaD"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1199
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "avmSB6r4lfcsZK8293XTnyueDo1G5jtA"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "AkyP2NBNAzOoaPQrewn3RXcx3Yq6xCZ7SyZaTSxeZXVOrBnfRal0bm7D6nNwfo+8Wnw0tSs561SHTLgPYNQ9wq7hLka0mPJX6O02Qwjn4W0oDC2+/vw49ciAGeZ2B08jLnqdVIWnoNIgMuMbPBv26Ps6nsX1aVle1CvJlomhDVs="
  appKey: "1234"
  voucherId: 62299738
  voucherType: 2
  voucherCount: 592
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:22:35,569-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"4f8c0401043848e6b3058698765f638f\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24112238091412e26fc82b1b4dd5dd0000\",\"sign\":\"E5E5DBEAB1518269D83EB4F68727DE92\",\"timestamp\":\"1614136958\"}"
}
payrequestid: "KB202102241122372076075925863732"
model: ""

2021-02-24 11:22:35,569-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7745482799708272281864787323]]></transaction_id>
<nonce_str><![CDATA[5BIF8ode4GNhuOCWKqHkDxvlpVUTSyAb]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[8911115485E46F986638C7EB240CB1EF]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241122372076075925863732]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>539</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112235]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:22:35,677-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:22:35,677-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:22:35,685-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:35,685-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "04236351765070"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "5irgFS0RowjUTBJc6AEVCP1LKdNfy8m4"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:22:35,756-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "893a582e741b4ebd86c5e72b4b520a15"
s_p: "b0NrbHBPbnpEM2xtZnRQcDlBVHRFMG9zdUROSDJVbUJsUnl1c29lSjhpaFZnVkhvUG1EUnpZWG1qUlV4NUJSRVF1bkpaWEhiNlJLZEdVcWg0cllnWGZwS0lTRWlzNGZ4VnVKT3VpUzBRbXNTWklxMUJJdmNWTmMwRWd0QUVWd3VtTUVLTGo3MzVtUURiaFBRNDVvSjJiMTBCSDRtcjlHa3ltRDFiazhmdzQ1WEthMXVSOHVRU3VidTBHNTg5QWJDNkp0c2NmMWFkZktpYVRnckdkVFp4OUtpRmhGUXBTZmtPU043SjBPM3lha3NkZFNXWXIybWNPYW5jQ214dVFDN282dVNRV0pqS2h6MDA4elEyTVZWMFhwN2hFSE5NdzhWcE53MHBJSzBrUUZBTk15OTNjZlV2b3BiR2lqUjdBTXc2U0RNV08zWFBZZGFjTnB0TTByU2JPaHFERkp3aXN1ZHlrS2d2UFdlelcxeUhQOWE1N01KeTRPVHRxdE1yRmxscGhZNUZxZE9TMUJzbHROdGt3YVB0ekt6Tno3N2ExU2U1MG9SdHlublhTT1VwbzFiblliNFIyY1VjYmlJMmNqSkpTaXBXUm1qdWxTQVBDS2t4OU95UTdTTldDN2ZNSmJibzlCbjRqdFJZQ0FaZWRyRWZSa0tUS0RSRkJvaUVDMWwyY3FNbU9Bdm9VNkhHam9Fc25SbVNqSDNWMVJacXlONlBlRXZkM0NxNEpGS2pjVktRd2JLVGNiMno4Rk1RcGZGZGQ5Q0V1NWFGcjdIcVBlWjd0allWQmhDYzNWanp6eHNlNEd2S3I3RjNjOVhBd3RRcVRVdXdLTFVuajhad3FIa01xcDNJbkk0OUR5U2w0c2xlUVhwVXdueE56T2lOT0J1U285anZtN2JITjdickxoekE5Mnd3SGJTc1ZnQVlzRlQxNG50V3N6SHN0alU5bFF1bXJHdlA2WlNDQ2E1VXZhbXhOWXNLRzhNemg1SzVsck84SVRzdkRKaEY5ejkyWFpOWXVqaURBOFhLTzQzRndOSlZ5OWwwc1JvMmt4SGVmcUo="
m_p: "56S4tkF2i5c6nImK4m184BpEy58sOs3gBRrGRO390D1R4p2ur2U31vj63DFx0mmS"
e_t: "1614244958307"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:22:35,759-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:35,759-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "893a582e741b4ebd86c5e72b4b520a15"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "VuJOuiS0"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241122372076075925863732"
version: "260"
queryType: "PAY"

2021-02-24 11:22:35,804-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.39"

2021-02-24 11:22:37,805-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:22:37,805-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:22:37,809-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:22:37,809-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241122372076075925863732"
2021-02-24 11:22:37,813-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15091, 'pay_req_id': 'KB202102241122372076075925863732', 'notify_id': '7745482799708272281864787323', 'partner_order': 'avmSB6r4lfcsZK8293XTnyueDo1G5jtA', 'amount': 539, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1199, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 22, 38), 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 35), 'modify_time': datetime.datetime(2021, 2, 24, 11, 22, 38), 'trade_type': 'PAY', 'kebi_spent': 68, 'voucher_amount': 592, 'voucher_info': '{"cutAmount":"592","id":"62299738","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299738', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:22:37,813-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:22:37,814-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241122372076075925863732"
2021-02-24 11:22:37,818-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7777, 'pay_req_id': 'KB202102241122372076075925863732', 'partner_order': 'avmSB6r4lfcsZK8293XTnyueDo1G5jtA', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1199, 'amount': 539, 'kb_amount': 68, 'voucher_amount': 592, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 22, 38), 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 38), 'modify_time': datetime.datetime(2021, 2, 24, 11, 22, 37)}
2021-02-24 11:22:37,818-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:22:37,819-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241122372076075925863732"
2021-02-24 11:22:37,822-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:22:37,822-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:22:37,822-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:22:37,823-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "avmSB6r4lfcsZK8293XTnyueDo1G5jtA"
2021-02-24 11:22:37,826-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 211, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_avmSB6r4lfcsZK8293XTnyueDo1G5jtA', 'partnerOrder': 'avmSB6r4lfcsZK8293XTnyueDo1G5jtA', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 68, 'count': 1, 'r_cost': 68, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 22, 38), 'updateTime': datetime.datetime(2021, 2, 24, 11, 22, 38)}
2021-02-24 11:22:37,826-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:22:37,827-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "avmSB6r4lfcsZK8293XTnyueDo1G5jtA"
2021-02-24 11:22:37,831-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148828, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '893363e516354a21a21af6f48a57177c', 'request_id': 'avmSB6r4lfcsZK8293XTnyueDo1G5jtA', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":592,\\"notClearCount\\":592,\\"orderAmt\\":1199,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299738:592;\\"},\\"kbVouAmount\\":592,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"avmSB6r4lfcsZK8293XTnyueDo1G5jtA\\",\\"paySuccessTime\\":\\"2021-02-24 11:22:38\\",\\"price\\":1199,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"d0PoAFRSxdWqXfszftY4DCcnkxBBWKYdKtdmym4tDVO1GAmCQpcHy51SYIzBBxxEJ+4hk2wGwC/IL5F8h+EAQYmzJETtFykqJWqmt3ZKiy6fGQaUie0jOHfdG8QcLvuZ1J0x3UnlX7KxPHtjUpDOrL7xglbEJhwezROUEF0Q0nE=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"avmSB6r4lfcsZK8293XTnyueDo1G5jtA","sign":"A15EFC77FAD3B01DF45A8561E82ED448","signType":"MD5","successResult":"OK","timeStamp":1614136958326,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 38), 'insert_time': datetime.datetime(2021, 2, 24, 11, 22, 38), 'update_time': datetime.datetime(2021, 2, 24, 11, 22, 38), 'extra_json': None, 'remark': None}
2021-02-24 11:22:37,831-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 11:22:37,831-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299738'
2021-02-24 11:22:37,834-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 11:22:37,834-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 11:22:37,834-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:22:37,835-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:22:37,838-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:22:37,851-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.68', 'batchId': '99509724176375573989984543511616', 'bizNo': '3hU6ZtNRpSyx9QOJ8KIaoeAWEdwvbsPq', 'operateType': 'PRESENT', 'requestId': '23908777453701195252022403134614', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136957848})
2021-02-24 11:22:37,873-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.68, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:37,886-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136957883', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 5.93, 'cutAmount': '5.92', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:22:37,911-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299739'}], 'vouIdList': None, 'batchId': '25cd624fc219473eb88042295d804de5'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:37,926-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '25cd624fc219473eb88042295d804de5', 'batchOperateType': 'PASS'})
2021-02-24 11:22:42,965-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:42,973-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:42,973-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "10255848612776"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "fqVmtnRAZaew2Q1hlMCPUd3z8TDo6BWL"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:22:43,062-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "1b6c2c0659a14052bc699d242496bd92"
s_p: "MXpvczJQTDFQNDd4a05IU0MxOUoxT3poMFFOeFJrb0t3RFZ4R0Jac2dwNDNjQk9Nc1N0ODZaVHpqM1RLOUIzekFMcUVTOHVFRTdaSlNaU3lzSVlmcGh3cDNsMG45Q0RvaEhnMjZleWc4dFl1c3pENmFJQ29SNUVhVThWNWdSNGZpa0t2RUpySmdoTVdLc2tsYzRRQkJiSFdRS3UyV3VYMEVOM0xOMlJkRHg1SjJDVlZORlRHUzhkSHNRYWM5QVR6b3puaWlkQXEyNzlYT2h3SnU2WXJuZXlPZkQ1bE03Z2YyTVphTEc0RFppSDBxQlJFU2JuUG5SdU11endSUFV6V2FFSHVWN3RJOFpQT3VhaEdEVGU4Qkt6cmJ4UUV5cmhqSHZPR1dtajhPUmx4c1pTMEZQMjNYQkRoc09PYmlFNEpnc1RnR2tTY3NrWWthclJpbldtTkdxU2M3cXVZb3lPcGVMTUMwUWUyaWw3VFFzYWtjN1VqdmwweHphanJBRkZjMTRxdTBOSjFPNUNVQUVyejBJS2lsemdsVG4wTUV4ZHFWMmRaMVRrUnZlemlMWDcyYlg5a1NJY1N5T3NkRFl2TWRhTkI2S2wydXVGd0QxU3JtemdRRWd0TU9NdEw5aWFOTUh6T05RNTc3c3FpTTNkakNYTXE5RXRZWjlOMDNzQUQyU0VxQURPYlRPT1ZidnduRE9kQWgwSnVIeG5VT1ZPQnJwdkhMdEJvNTJXQk5sNWNlZDQxVlFsWHdEcFJERlJ2YVQxYXpRQ2p6U1lqQ1dFTFM2UnZYcmlZS3NITnJXUGF3U2pvOGRnSkswaGZBcVdCcmtUMzRadG5HVGpqN1VORWpEU1hFa0c1azlKMlpmTEk3MVVJbXVJMTE3VGRPZmJ4ZUh6VDdqMmNqbmQzaUcwWHZ5dk56dkxMRmdlRkxFTDhVVVRndkx1M1JNbHVXc2tuRVVxSjR5VUtHVXUxTDJJdjl2NU55TUN5bXZjZGxJdlZLcEIyRHZMM0RhemxtVzJ0VnpBMEZ3eWdrZEJCSjhMYW0zWGhMaUVHOWNtZTFNa0c="
m_p: "1vb7shDpaybrNH918Gc5i65Od8BDa1e9SW1OZFLto1XmT3q9Iu8zN5X0125JKM54"
e_t: "1614244965614"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.68"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299739
    type: 2
    minCousume: 593
    vouCount: 592
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:22:43,094-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:43,094-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "1b6c2c0659a14052bc699d242496bd92"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "YuszD6aI"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.39"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "EQBts8CORi01KH3rWbclxahZpyg6PDXq"
}
sign: "paxEhPoy/IS76VLXaPdiSw2p8CaYTk7USvHIppgnYHAKElysQaREFbyGQYSFR7fSRWdez2F/FDvqvgTcX85ZZ9oBgSGF92h5Ip4RYgrQ0WSDMBf1alF5EC1pj3uBN5x9dK6u7W7qEpUj2mCy6yzhiviES2AWPyAUbzFI6zyQxMdqK2SKOxipUnFMFG9lw+eOHQwEno/brVTnjBxfDFO9PBj5Ev600DRKUrDbgsp2xbxU7GZx1wImxFP16YJZiMTWIkEmSBFvMQYPke6wFgaK2YsYI5itME3PB8x+HxXgfQsf56+KxYWtZvGVSccroPd9oNqtfmaX+9ZDu/FjCYd+EA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "1b6c2c0659a14052bc699d242496bd92"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "YuszD6aI"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1199
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "EQBts8CORi01KH3rWbclxahZpyg6PDXq"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "SEV2fOCsD+6M8EVBXnF8CMgrZaxe1sZpol72QLbH2Xd8fTYJKFkZUmbBPO0YHIcYsjIZT80gp6WIxkiKs3gQTSych9eWTghNV5OTuZEGy4yQfpNuA0sqYLHK9CxFbSvGP6w8MgAlXVtCxq5aq3fiaWFY/YYqu8/tRo2EMAgc5BU="
  appKey: "1234"
  voucherId: 62299739
  voucherType: 2
  voucherCount: 592
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:22:43,394-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"5a625a9c19424de9a437bd01f0e8b235\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241122459279306f70580d9bf957fc0000\",\"sign\":\"33C66E1F281E4D496C8A508C393BFFAF\",\"timestamp\":\"1614136965\"}"
}
payrequestid: "KB202102241122452076075925711342"
model: ""

2021-02-24 11:22:43,395-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1300594641958653161726856279]]></transaction_id>
<nonce_str><![CDATA[k8cMgWKn2AxdyFsi0waEUCZNmjI5epDG]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[3849790F363D488B70E0986B43EC8459]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241122452076075925711342]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>539</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112243]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:22:44,813-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:22:44,813-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:22:44,821-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:44,821-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "32209151705171"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ZdwvtHM9RQWiEGyfpzSe7KDL0Bq6bk4X"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:22:44,897-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2b447e2261334b1ab7b81e2deb2882b6"
s_p: "bjZ1Q21yVGJNWnFnc0xtbnJhVVk0QmRjQWNqOFZsZno4aExJMmdIRWRTNU5BMVJpaWx4TEdtVjhseE5LSExGWmtvVGI2aE5LdlhNc3I5b1l2NzdqcVdKNXZqVnNxVVRKdkN0Ym9PeTltYXU2Y2FnYVdtd3I2WGRzbzVMOHVUUTZIdUd4RGtvRVZPbHpONkUwaDNoaEZUanZENUZpZEk2TGxaOUpWeFFmSGtXNzZqY3BMemVUWG90eXI0MFF3blIyU1JzOTBJdElBS3pKWmhyd3Zxcjdyb1dlTTd0U3hzY2syaXNNSTlSWFN0cEdIbVpVTkx2elJxS0xlTUIxYW1sb2hSOWpLVVBVSUVlc0ZoWXRZaHp3SGg0NGF1cHpIT2JSNjVrcWhnUGtuUTd5YmxTaWZVcmVzZGtPcjQzb2ZmS0VLUFJDRldVVDVuNmtGbUI5Z05tM1V1bHA4cHRzdHAyRW95Rm54VnNzR05qSEtBalVyZmNQVWV4U3JEa25OdkQ0NnV6QnpFSUFGODk5WmI2SDFRMm93UmlKWVdEZzI2WGtZa3NwSHcwWDNCaTlFdHlYN3hmaXNBTUV3bVpKTWk2QjVtenhrYU9tMW11Z3RkaGFpVlFlSU5CZ2NZOG1MdGNDV0I3S3U5cXJWZFlHMGRkaDJ4SGMya0hJMTJ4N2dISWxsSU5ObUdHMGh4NTEwN1VvOWp0Njd1RThWR1lncnVXNVNKWVBHRlVrYXpqOGFLc0lFUFY3QWhPaDBqY2VEOXozUUN4WmVBa3Nsd29GUWdLR0poS0M4OVBFelVMNUpFdEMyUmZyR0p3NmFCYlVhYjJ1aEt3QjYxbDQ1SUtXZzB3WnZrak9tQThqMTRpbnJXWjdoNEhYa0pLS1UwS0NSN0ZCalFYVVRqYnd1Znp3RnBaZ2JGaThtWjF2a2VHT2huT1RPR2dQbWtWU1pybnI2ZVZNQ29QQTVBZFAyMjFmR2h1SjN6aXhvOFJtdVRNd3lLZkNseVFBQjRBMU5WRVhHZk1vZjJtRGJkZHhtdXAybkxEQUlVRjh5TE5VWkxjbEhuY1o="
m_p: "7U71JA66nfodrG1Zh79WDTZL9k893gHU9abFQ3gCIn2F861p8htO68d921Z8qjPb"
e_t: "1614244967450"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:22:44,898-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:44,898-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "2b447e2261334b1ab7b81e2deb2882b6"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "qgsLmnra"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241122452076075925711342"
version: "260"
queryType: "PAY"

2021-02-24 11:22:44,948-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.39"

2021-02-24 11:22:46,948-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:22:46,948-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:22:46,952-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:22:46,953-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241122452076075925711342"
2021-02-24 11:22:46,957-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15092, 'pay_req_id': 'KB202102241122452076075925711342', 'notify_id': '1300594641958653161726856279', 'partner_order': 'EQBts8CORi01KH3rWbclxahZpyg6PDXq', 'amount': 539, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1199, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 22, 47), 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 43), 'modify_time': datetime.datetime(2021, 2, 24, 11, 22, 47), 'trade_type': 'PAY', 'kebi_spent': 68, 'voucher_amount': 592, 'voucher_info': '{"cutAmount":"592","id":"62299739","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299739', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:22:46,957-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:22:46,958-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241122452076075925711342"
2021-02-24 11:22:46,962-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7778, 'pay_req_id': 'KB202102241122452076075925711342', 'partner_order': 'EQBts8CORi01KH3rWbclxahZpyg6PDXq', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1199, 'amount': 539, 'kb_amount': 68, 'voucher_amount': 592, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 22, 46), 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 47), 'modify_time': datetime.datetime(2021, 2, 24, 11, 22, 45)}
2021-02-24 11:22:46,962-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:22:46,962-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241122452076075925711342"
2021-02-24 11:22:46,966-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:22:46,966-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:22:46,966-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:22:46,966-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "EQBts8CORi01KH3rWbclxahZpyg6PDXq"
2021-02-24 11:22:46,970-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 212, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_EQBts8CORi01KH3rWbclxahZpyg6PDXq', 'partnerOrder': 'EQBts8CORi01KH3rWbclxahZpyg6PDXq', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 68, 'count': 1, 'r_cost': 68, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 22, 47), 'updateTime': datetime.datetime(2021, 2, 24, 11, 22, 47)}
2021-02-24 11:22:46,970-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:22:46,971-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "EQBts8CORi01KH3rWbclxahZpyg6PDXq"
2021-02-24 11:22:46,974-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148830, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': 'b3be595d25a048e58dd1efe3fb1e92bc', 'request_id': 'EQBts8CORi01KH3rWbclxahZpyg6PDXq', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":592,\\"notClearCount\\":592,\\"orderAmt\\":1199,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299739:592;\\"},\\"kbVouAmount\\":592,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"EQBts8CORi01KH3rWbclxahZpyg6PDXq\\",\\"paySuccessTime\\":\\"2021-02-24 11:22:47\\",\\"price\\":1199,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"TGTcJSCvb0KaC3gGl88pCHwHCi3rVCED0UiNDYxuSnhKPe9aQ94BDqKWKAULuQ75RUNSXvE8NrVFGU57krB5rg8TtHQcsAoZ1dMTUA4kVpGzo9Ip9cX/CT7wLPy4AdvWiFIz0Twrz8jAG9XztzLY8UOP5RlifIp9rj2+pMH6KpE=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"EQBts8CORi01KH3rWbclxahZpyg6PDXq","sign":"9A198F8636CECE9FB45ADD6CF98BCE47","signType":"MD5","successResult":"OK","timeStamp":1614136967447,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 47), 'insert_time': datetime.datetime(2021, 2, 24, 11, 22, 47), 'update_time': datetime.datetime(2021, 2, 24, 11, 22, 47), 'extra_json': None, 'remark': None}
2021-02-24 11:22:46,974-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 11:22:46,975-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299739'
2021-02-24 11:22:46,978-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 11:22:46,978-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 11:22:46,978-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:22:46,979-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:22:46,982-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:22:47,002-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.68', 'batchId': '01776553955499643936908094205578', 'bizNo': '8Xh40QiBRcHqUdLZuCwaxSl2ptsb5VN7', 'operateType': 'PRESENT', 'requestId': '36793631756706900822140477861650', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136966997})
2021-02-24 11:22:47,035-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.68, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:47,055-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136967048', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 5.93, 'cutAmount': '5.92', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:22:47,079-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299740'}], 'vouIdList': None, 'batchId': '3a5c5e3315844c4d949cddcbd56e9962'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:47,092-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '3a5c5e3315844c4d949cddcbd56e9962', 'batchOperateType': 'PASS'})
2021-02-24 11:22:52,128-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:52,135-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:52,135-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "11272485862995"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "PU6aeWtZDvHnbSBETm178YrK3pdQ2gFj"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:22:52,229-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "7b9318f0d4c744f09af4e47e3585b6ad"
s_p: "a043TDdhY1FXbTR0UTNySW5wY01RSU5OdHJFNFZnbGRZNUlxdWJ6bGY0WXVxVXNSbGgzdUlqbHRXUGkza3NtblUwb1B6bmQ5MFFPS2o0R3o4bVExMUlnTkIxaHZxbDNQZ2pma0xuNmJHZDNYT2dwcmwwb05kSG1JcW5PS2NEZWlhSFBFSU02c3oxSzVNb3hmdHV6REtFTjBKZGlLcm9naFpYbHA2UFpINm5kV3FmNnQ4dWF4a3p2RjVMNjNoaHZSYmI4SmhRYmNGUUJGaHU1M3FqRFhkTE9KcGlyZ0czc29WUmZXTER3Y0xCdXkyT0REWUdkOXg3OE9aRnExb2tCQmcwcjhPYVU4ckt0Rjk1VThqRUlYb0RUTENqdVNJZTdIV2JIT1RJSUZQd281ZzVDMHR5SENjTm9BRWlBOHByZ1A0bk12bzU4R2hZUXh2c3dBcnF5WUJmM2dsWDVGUDVyeDhlODd6OXRGcWd3VktuOTdza05MWTF4b05IeTgyOWl5MHpnVFJKanpUcG5pdjJqMjhkN3A5bWFwa2tMelpGZHlvRG95MkhsQlVPVXVPcExXU01ZSVFZcm9Rblh5WGxRbFNDZmNhZm5HRWRlbjJmS3RJc08zaVBDNVVkaXZZYWIxNEZyQThFMDdubmVGZE1Hc20weEdVR3MxbjJwamljRHZIcFBMMzJsZ2o3enZIeUtpOEszaHd4Y0ZzeGd1NW9xWDZQRHpkTG80d2ZDcDlKcWNDclZTMnRzeGpKYUg0WXBLTExxNFlDemYzTW8xVlNpdHljMUpRY3FzdTZVcUFpWDg2SVE2N0xTbHpSbXRGMHJqaEo1T2JDNE9xOTdqYnU0RGg3NEw5dzdNaGxxYm45bmRtdUtiRUpLV1BwM3RaVVdnNmFwS2tMUWVJVWZ3Wjhqd1hzZkxuNW1tbWg0S3JGeFRCMWszNHBsa3F3cFdKODlGZ0ZwQUNKc3FjMUhBMEFIVDF4dzJDOWlRcVlIQkNXUkZGekNBS0pCRkQ3WFhZNThleGtTaDBBSEhpc05Yd3ZoNFFJUnlTY3dqR1RvZGhrYTM="
m_p: "5U7qxC0HKR0k6LNHWDEV6706DQ019m8Skf2rF0Fl0ny6N377hd0H051emtw8P8JG"
e_t: "1614244974763"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.68"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299740
    type: 2
    minCousume: 593
    vouCount: 592
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:22:52,253-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:52,254-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "7b9318f0d4c744f09af4e47e3585b6ad"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Gd3XOgpr"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.39"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "9HwTVszLIb6cFG5Wo1ulR27AhjpDZYqE"
}
sign: "ArdHbgS+JoNR1umJVaC7ttRKZTg5sQsxdKP5K4g+Dvu9ExUVrAhPMXj5Q0j8TpzPEOsMtxviQUO5bdDQ2AQIUyC7mBg/sfqG94DM+Qi+icjqpqnW98c5G7vk1zQUFZTNr0a/RwbzKgVMDaIPGd2i81/KydbV+1MhGlGRXMj377cCYkS5hT1/CazSCwaz3s7pymYh7/7n2RdRdybM0te7q15uRZ8LDSlg5rO1t8o/+uwu99OPrDimwSn+pZWkutQXTMlFJooF/oGbI+dJRB92eOeRfVrAatgZLAjOvV7lBJZ+OXazyF2bOeA5npAbTeywXcSekudmizzfVkpsWK3VsQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "7b9318f0d4c744f09af4e47e3585b6ad"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "Gd3XOgpr"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1199
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "9HwTVszLIb6cFG5Wo1ulR27AhjpDZYqE"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "aUh3KBeavaXhI83kCCvXIDkpbGiSv6IG+xGAjg+OKe4WlVRVmOwcpccmJQ2QPZJzNNcyDju1g37AdaBw85ANs+6gIkzv25ewTpmg1qhesAXPjxAXzdOqMaEh0YZc6CPEHcvjO1gy7aLgsGhRaHdBpd7FqdJ4cT5tOCXGHfuDSmg="
  appKey: "1234"
  voucherId: 62299740
  voucherType: 2
  voucherCount: 592
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:22:52,648-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"f10e9271705b492cb98e7f81c299cf4f\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24112255168124ca06e3b9e23d45370000\",\"sign\":\"6B5A21A954FB0B3ACE99946CF631F5F5\",\"timestamp\":\"1614136975\"}"
}
payrequestid: "KB202102241122542076075925337272"
model: ""

2021-02-24 11:22:52,648-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1992412416793360945618886332]]></transaction_id>
<nonce_str><![CDATA[FWlpyESzXBnM59Z1CQikxR0bLNgmITd7]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[6D7D056930D76971BF1B0318B80D9821]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241122542076075925337272]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>539</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112252]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:22:52,769-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:22:52,769-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:22:52,777-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:52,777-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "35480030995740"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "bBiPWIeTySA02sJdXq51hzKMxnHOLrvQ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:22:52,865-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "044eb25f4f7f47069a05fbc615a37388"
s_p: "OFZYWms3Z05mUU5va1ZMeTBTM0tSSHY0VElFTEYzMTVMeHdYRWZWVlhCOTJlbEY2SjFwdnllNWpsWDFXcXNrR1BLNE9xS0xWZ2g4YVk5bWdKelJMVHpBYmlJZXJJY0tMRDFBQVFWQ0tOeU5mc09kSmN2NlV4RFNRQkE0Q2ZkT28xTlVTWktSTGxQc1JZUTY2bTZwY1c4NkZoY2FVZmU2MlJHbFFoVXlqaU5pakNKNFNnWFQ2T0lxVDB3SEo3bnJPazV2Mzd1SzZVZjlZZFpRdm9YYXFvYXR4cE1PNFJIS25wVmc0emVoZjB6SVhnTWM4bHFBV3phZFdmaHFHd1c3dTlVVGhmSUtQdnphcmZ4ZWUwNVdPSm1qd3NEVGxFYWtabVh5MGlGQXB2T01rMll3T0JGYnNDVlowbzhRa0JsMXI0bFI0ZHdCMjlpZXREZzZKelVnWlVsdmh1YVhlWWZlOVd5ekpnY3pTWVQ0bzFIcXhkY1BCUVdUaWg1WFhXWmlXM1hEV3BBb004TGdycmxjcjdZSDRqZ3ZPM2hDVHZPY2pwSGVWUlYyZDNJeXN0YlJBZGt5aWxzUmhGYUhEVlUyZ0FQZmFrc2QwMElKWld1Z0oyR25oTXNYYVNJZW1INXZJeVBDWEJaWlEwVmtSd2g5YmRBWUJ0Y2hYNlhFNDdKczg5c2pQZWFNblJkT3dMbGRUZXA2TU52ZGN6VFhBYXU1aDkxWlQxWUFVYWNDaXNmQzdEb2EzbDNSclNxYThZOWpVVEtpNWJscVVPRWZUM1VEY2x5OU9jZ0NZUUFFWEZzb3ozSVk5UWU3Nm5mVExiMzJIaFI4em5QU0k1VkNmSzh5ckcyQUhqYmhuSmJWbFlweUlsZTJQTXVDVEJqQmIzeFNiWm0wTDlTcjJaRHJyR0pKTUcwYWVscG1FOXkweU5QZzBpSmxLZ1VMZWlpZXp2cXBOOVlQb3hCcENJelM4SktsbjZHMkdnRHZ6NFkwZlg5a2ZjNkVCcjZabHpCQkhaQVRwVVI0SlJuZ0tkSzRmRDNnOVJLZEpRb3pPR0t5NmJnWUU="
m_p: "F155Zj2FTCj7x8yiHR7YHUSqEJeF2UBk7ja90W4Ddq3Aai7pQK7Fl22Tq9829PB4"
e_t: "1614244975418"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:22:52,869-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:22:52,869-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "044eb25f4f7f47069a05fbc615a37388"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "66m6pcW8"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241122542076075925337272"
version: "260"
queryType: "PAY"

2021-02-24 11:22:52,915-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.39"

2021-02-24 11:22:54,916-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:22:54,916-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:22:54,920-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:22:54,920-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241122542076075925337272"
2021-02-24 11:22:54,924-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15093, 'pay_req_id': 'KB202102241122542076075925337272', 'notify_id': '1992412416793360945618886332', 'partner_order': '9HwTVszLIb6cFG5Wo1ulR27AhjpDZYqE', 'amount': 539, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1199, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 22, 55), 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 52), 'modify_time': datetime.datetime(2021, 2, 24, 11, 22, 55), 'trade_type': 'PAY', 'kebi_spent': 68, 'voucher_amount': 592, 'voucher_info': '{"cutAmount":"592","id":"62299740","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299740', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:22:54,924-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:22:54,925-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241122542076075925337272"
2021-02-24 11:22:54,929-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7779, 'pay_req_id': 'KB202102241122542076075925337272', 'partner_order': '9HwTVszLIb6cFG5Wo1ulR27AhjpDZYqE', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1199, 'amount': 539, 'kb_amount': 68, 'voucher_amount': 592, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 22, 55), 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 55), 'modify_time': datetime.datetime(2021, 2, 24, 11, 22, 54)}
2021-02-24 11:22:54,929-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:22:54,930-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241122542076075925337272"
2021-02-24 11:22:54,933-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:22:54,933-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:22:54,933-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:22:54,933-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "9HwTVszLIb6cFG5Wo1ulR27AhjpDZYqE"
2021-02-24 11:22:54,937-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 213, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_9HwTVszLIb6cFG5Wo1ulR27AhjpDZYqE', 'partnerOrder': '9HwTVszLIb6cFG5Wo1ulR27AhjpDZYqE', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 68, 'count': 1, 'r_cost': 68, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 22, 55), 'updateTime': datetime.datetime(2021, 2, 24, 11, 22, 55)}
2021-02-24 11:22:54,937-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:22:54,938-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "9HwTVszLIb6cFG5Wo1ulR27AhjpDZYqE"
2021-02-24 11:22:54,941-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148831, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': 'cbf6c1fbfb9a4ca48a644b17527a21b8', 'request_id': '9HwTVszLIb6cFG5Wo1ulR27AhjpDZYqE', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":592,\\"notClearCount\\":592,\\"orderAmt\\":1199,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299740:592;\\"},\\"kbVouAmount\\":592,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"9HwTVszLIb6cFG5Wo1ulR27AhjpDZYqE\\",\\"paySuccessTime\\":\\"2021-02-24 11:22:55\\",\\"price\\":1199,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"L3QNauwKMVz6DHIE9PeRFwUt8hPyHssF+e0cdaWZAXchpmCDIgTdA/LWMDGzOLldh78HNdJYlWempAGiES80KsGg+dTr+sORwaI0zd/mKjzGtF7aGp4KDGRxG1yeCm4xvmBp+2jeuuSNHpjvyuVTuMMwme7cDB8sVZkesrrQOy0=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"9HwTVszLIb6cFG5Wo1ulR27AhjpDZYqE","sign":"1170A5C8E500C0BDE24AB538ECC04D81","signType":"MD5","successResult":"OK","timeStamp":1614136975400,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 22, 55), 'insert_time': datetime.datetime(2021, 2, 24, 11, 22, 55), 'update_time': datetime.datetime(2021, 2, 24, 11, 22, 55), 'extra_json': None, 'remark': None}
2021-02-24 11:22:54,942-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 11:22:54,942-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299740'
2021-02-24 11:22:54,945-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 11:22:54,945-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 11:22:54,945-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:22:54,946-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:22:54,949-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:22:54,962-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.68', 'batchId': '78621011152988834665756405982779', 'bizNo': 'XaOtCufIWd4MKc97m16sxgY3VHhjvZDe', 'operateType': 'PRESENT', 'requestId': '39263220378701534988828260134626', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136974959})
2021-02-24 11:22:54,989-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.68, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:55,002-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136974999', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 5.93, 'cutAmount': '5.92', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:22:55,021-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299741'}], 'vouIdList': None, 'batchId': '6840f343ffa549afaf73d764f0739c73'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:22:55,033-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '6840f343ffa549afaf73d764f0739c73', 'batchOperateType': 'PASS'})
2021-02-24 11:23:00,075-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:23:00,084-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:00,084-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "08503695182209"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "AqHdMxmbacFEflXrQBNkowOID2pgY5zv"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:23:00,160-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8af39cd274a840068c91aa2776f535ea"
s_p: "MndVRHB4MEtROEhZR2cwcHBXV0J1dDQ4aFptTVh1MjRzUHFraGl2aGR5U0VsZ29xNk1UYzNHN2VjejBqUjUzd0ZoT21wQTJXN2J0OUVmR000amxLckQxVEVzSnhDRDY2eXlnVXpXaGNzMTFJRVBIQXBQU0lqTDkwWExBbGdGUEg0cks0RVNuMVEwVzJJeDVzeXZrc1NTeGJHUURxdzNnRXQ1bzFlU3ZqZEVjYmYxU3dYRGVTejhBWVRlRmlXRmhJTGdjdWF5bE9hZGlPcXZXOVVCRGxCVW1qRlFuZ3BOM1gweGJneTR6dXRpVFdpSHU1TE5WQTVEdm1jTEx4MVhiaEVxRjhwT2FHVmxVTllqWnNselVnRXI0dzBLWHN4QU8yUzhCUXZoYWdnaDliOHNOb3NJVE1SdlRNVEpZR2IxdHpWVHFxcGR6M1VSR1ptTzQ0MVFkVXY5VmFPM2hET2tZa3hyY3ZzVzgxcU9rZmwxUFA0MHNtUWxaS3JqOFBOTVJwNWJ2OE5ac3NvMTZycG4xaWR2dHRkV3hFYnNFdlhHVnBndmF1ejdweDVNMlg0U0UzcVdYQWdVVHNoM0E2bDh5SWFKODRiMmZxU2lpYmJTYVRHbXlFVUVwWHBZYzU0Yk1jTUFWU3E3N05OR2xSRUtMRHR0VUVoZGFXVHVFdFh3a2VpemtYWEVaNG1TY21ZaVVYMHFhVXNGRnJSaDdXa2h3Y3p5RzRGUzZVckZwN29ZU240ZWJCUThVZzlkWUNwR1Fxcjd0RDhUMHhrRHJzVGV4b05NblV5OXRCcGN0MjVaQWY1QXBIYjBKalJkVHVDc1h6WlJ0ckRTNWFGZXdrY0dhUHJ5SHR1OE9aQ1hUVGdUbmh1bmtoUWRnazlVU280cW84Rkc2emdKQXB2emZpWXJnVFhKOG5DNDJQRmdvMFFyQW1uMlczWkQxSjJpWU8zY2NNTm9OeHV4bXA4TDFsUVBuUzdRNllncVhia1lINWE2YlhqRjhBelc3MVBHcGdKNkVjUnZGWXhJUnN1QVdrdzdKNmdCR3BPOFgzeVB5V0tNNFk="
m_p: "oZ6z3bsfFFMKE8sRU141wY32jKFt0Gxj91m93kBMH8rHptBGn215Iq06yeQnm6Jz"
e_t: "1614244982713"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.68"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299741
    type: 2
    minCousume: 593
    vouCount: 592
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:23:00,182-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:00,182-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "8af39cd274a840068c91aa2776f535ea"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "hivhdySE"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.39"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "5MguieqLhUEOvbBjVoJma1G30k49Xsyp"
}
sign: "y4oM9PNTfqktxkKDA9F9rc4ZTckwN/ZrNfc0Y1BJ8de7pWQi5ydrKjpx3wRYJ8Rq5U+aWN4lYXAKLSCTZDIqvbZEBXm+sdpFSCMQz7dGFWRFPHoVpmZz672R0eSIRdn7RfMKuk3Hr/2YxC7mlul6ZLnnfBwLpdnyh3VOfU6DFQmsGX9VQiFLmim9/ksheEO4NQ/CSdvvz1vsOsLkWURfbjQu4fMrU18fz12zY4EKlShtjMyVj3e6ohRpNKarlZxaHtd2pG4lYjpmqs+KMorkf6XFxjBO5kE/8pZxMKLbPmCIK1acOf18E3Rkisnls+TYOmDSSanWK0irfXbpvGlvVA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "8af39cd274a840068c91aa2776f535ea"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "hivhdySE"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1199
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "5MguieqLhUEOvbBjVoJma1G30k49Xsyp"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "fvLiy7IMa/jgA2LA1mPlsImWB+NKezmEIfDliFMaX4G0mW5MZBCK264RBFiYwVY0bFhl5rHCEp3yxJfhAZdKZWgacw4gZ3D7Oai16EUJCx3ADOIxxWpiGzlr9nmefFCb5mOq9CUc61VHxrZS7QzeMmmpGWfuZGBK6glhGajW03s="
  appKey: "1234"
  voucherId: 62299741
  voucherType: 2
  voucherCount: 592
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:23:00,587-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"d2cb9d9b3c3b4c63a3fec822bd52d554\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24112303115157127ca3821bd51d390000\",\"sign\":\"D00053AB63CA3EBE622E7A33D10E7D71\",\"timestamp\":\"1614136983\"}"
}
payrequestid: "KB202102241123022076075925212172"
model: ""

2021-02-24 11:23:00,587-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[0158618347372497530096146658]]></transaction_id>
<nonce_str><![CDATA[E2YpTH1KZynODw37PUguhsqaQXieldm8]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[916CB936DFC18E5A6FFBA664A6CCCFA4]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241123022076075925212172]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>539</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112300]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:23:00,709-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:23:00,710-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:23:00,717-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:00,717-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "04469773438505"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "QtTfSk8YZxHmcvLAboM9OWd6aVsgiJI0"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:23:00,786-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b1f8d62e16904a3fb3c51c53861fa24c"
s_p: "TU56dTZqY2FGM1Q3TmFnbWh0SVRCZUVud29wbGdSeTFrbkpSd2FzdVRSQjl0WnhiR09GdUhQcFdnVkxzS1RpTVMyUVBRTlVZM1NTODZoVmx0Z2VsUnZqakhkQkFOZXc0ZE9sa3VZa2JKaHV1ODBvUUkxeG9qU2Jwd3J2U2ZBWGRjZjZRWjFFQWlaY3hoTnpva2dXejBvT3E2SFB6akFocHNGTllySXgzbnhGazhDM3VMNzVLNFI4V2V6YW52V2hzUFJsUE9uY0FqOHQ3UTQyWjF6UUY4ZFNHT0VXbUZmZmx3ZVpEenV0dExsandhSDhMRmRzbXdaN3VNbWluNEhuMnNoYmNrMzVkVERac1NVSVVZNlZWbVE3WnBCZjBlVjk0NTdJVExJWE9aRXpYaWRrT1huOUd1cUxnTUdZRDlUSXM4N2tqRlVTZnd6Z2xjUnZSU1RRdXdDVHJjOEJCa2tDb2tUa2lXZDNYQlFFcllUMHJlVHdIdERZNzhFTDdIQmJlUnE2MDIyZEk3aXdvUm5YVEV1Uzl1MTZLZ2pVcjJpaGJ1bnBUbERDazd0VmNXaVY3WTM2Um5WeDVIa3RESlBRbVN4RTZIYmowRGdtWEtEQm83TmVIYjdHMWlDeERjT05GakFSTWZpRGY0MG9ZSFdrM3lWTUJyN2JheER3Nlc3RU5NWUVuY0ZKdDlNMWl4OUJnaTRrOXV2M3M3WW50R3VxZmNTNGxTN3NuWTFpbFlWNWl2dHZ6QUp3c2t0eEFDUHluZ0ZhelR3aktXdXhWVGhFcXljREZUelhQWFJPSkljSHVvOHlpcklza0t3NmJ2QjlpMTZZSkQxRHAzOE9qTTlPU1dtTE1LSG1QY0VuZFg1M2VGOENlRkpxRnU3YUpROWI5ZW9BaEYzUTBkdEVwZHp6VEo1WmZsTHpwVTR6MXIxeGtobjM1ckljOHNXOHFYeWF4NUpUWDliNWNIeGpKUFAyMGRIdHhzV0tyYk9EM2pVYzdGeGtMOFJyRnJKWHZvc3lJMnNlb3V5VlNUeEhJOEswV1BISHVtUE0wa1VwS1RJMWE="
m_p: "YCR73G2D37V49979hTQH5g925w1duCi8igu7rhrBun6b3rwaWi7t8E4913yJ96kC"
e_t: "1614244983341"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:23:00,793-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:00,793-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "b1f8d62e16904a3fb3c51c53861fa24c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "knJRwasu"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241123022076075925212172"
version: "260"
queryType: "PAY"

2021-02-24 11:23:00,840-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.39"

2021-02-24 11:23:02,840-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:23:02,840-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:23:02,844-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:23:02,844-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241123022076075925212172"
2021-02-24 11:23:02,848-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15094, 'pay_req_id': 'KB202102241123022076075925212172', 'notify_id': '0158618347372497530096146658', 'partner_order': '5MguieqLhUEOvbBjVoJma1G30k49Xsyp', 'amount': 539, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1199, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 23, 3), 'success_time': datetime.datetime(2021, 2, 24, 11, 23), 'modify_time': datetime.datetime(2021, 2, 24, 11, 23, 3), 'trade_type': 'PAY', 'kebi_spent': 68, 'voucher_amount': 592, 'voucher_info': '{"cutAmount":"592","id":"62299741","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299741', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:23:02,848-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:23:02,849-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241123022076075925212172"
2021-02-24 11:23:02,853-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7780, 'pay_req_id': 'KB202102241123022076075925212172', 'partner_order': '5MguieqLhUEOvbBjVoJma1G30k49Xsyp', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1199, 'amount': 539, 'kb_amount': 68, 'voucher_amount': 592, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 23, 3), 'success_time': datetime.datetime(2021, 2, 24, 11, 23, 3), 'modify_time': datetime.datetime(2021, 2, 24, 11, 23, 2)}
2021-02-24 11:23:02,853-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:23:02,854-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241123022076075925212172"
2021-02-24 11:23:02,857-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:23:02,857-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:23:02,857-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:23:02,858-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "5MguieqLhUEOvbBjVoJma1G30k49Xsyp"
2021-02-24 11:23:02,861-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 214, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_5MguieqLhUEOvbBjVoJma1G30k49Xsyp', 'partnerOrder': '5MguieqLhUEOvbBjVoJma1G30k49Xsyp', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 68, 'count': 1, 'r_cost': 68, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 23, 3), 'updateTime': datetime.datetime(2021, 2, 24, 11, 23, 3)}
2021-02-24 11:23:02,861-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:23:02,862-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "5MguieqLhUEOvbBjVoJma1G30k49Xsyp"
2021-02-24 11:23:02,865-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148832, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': 'ef2e89a58c9f46c09924ea74ccc73901', 'request_id': '5MguieqLhUEOvbBjVoJma1G30k49Xsyp', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":592,\\"notClearCount\\":592,\\"orderAmt\\":1199,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299741:592;\\"},\\"kbVouAmount\\":592,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"5MguieqLhUEOvbBjVoJma1G30k49Xsyp\\",\\"paySuccessTime\\":\\"2021-02-24 11:23:03\\",\\"price\\":1199,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"hds6qz95FeEqaBLMe6hjOmo0FfIZ2fLDgTFId8KLdChJUyVGC//+twRlNX9cG+ABOOw1Dry+M/oS5yNmJeotVuX0a9Tdegps8uJn04R80yel3dPorHQYOCVmaBWIBVVhZCmcr5KHYOuYgLrVBWFxD62v0lRhTkc67v0NXXg5fZg=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"5MguieqLhUEOvbBjVoJma1G30k49Xsyp","sign":"6AC8EEE519A5BA8AB125C8975BF11192","signType":"MD5","successResult":"OK","timeStamp":1614136983346,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 23, 3), 'insert_time': datetime.datetime(2021, 2, 24, 11, 23, 3), 'update_time': datetime.datetime(2021, 2, 24, 11, 23, 3), 'extra_json': None, 'remark': None}
2021-02-24 11:23:02,865-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 11:23:02,866-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299741'
2021-02-24 11:23:02,869-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 11:23:02,869-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 11:23:02,869-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:23:02,870-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:23:02,873-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:23:02,886-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.68', 'batchId': '21676838684800782422614680260618', 'bizNo': 'B48ECKUQATxDugdSfcbM1Jnp7G0r32Io', 'operateType': 'PRESENT', 'requestId': '47727125626955998635477648168281', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136982884})
2021-02-24 11:23:02,910-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.68, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:23:02,923-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136982921', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 5.93, 'cutAmount': '5.92', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:23:02,941-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299742'}], 'vouIdList': None, 'batchId': '0f8fe76d6d0543c1be873dc0739ce8bd'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:23:02,954-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '0f8fe76d6d0543c1be873dc0739ce8bd', 'batchOperateType': 'PASS'})
2021-02-24 11:23:07,996-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:23:08,004-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:08,004-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "75089896621721"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "UIs5nSklX2VYZ4GEjKCgoJiv13qHrzAB"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:23:08,098-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0f5309bda9bc4fa8baa983cc2c835682"
s_p: "S1ZiZ3JjZUdrWE5NbnB4SUpNdEFtdjNFNFp1RnlrQWhHYjVtUjdBRlJaVmE1cXJUdjByRDRZZ2JxVG9mcmFaZklvWTZLbFJjYndZTWJGbk9MZml3TEd1NWdzNkZ1U005S2htZGtMVVZVTXVvbW8yVGdvVmZlS3Z6eWFZdDBTM1dGWkVIeTRyRXNPMjlGMEVENUJXVzBEVmVqemVYbVNxTm9yb3o5V1RtRWljZ1ZZNldReVoxbnZMaUwzeGJnS3ozaTAwcVdOOVJsR0FVeHd3R1I5YnZTcUUyZDlVUHJONnV5NTNHYzc3cFZ3aVNvZnZZTHVlZ1lqSGlNaHZ2VTAzRXVQclJkRGdQWlByMnI1VXdNZllmb1ZnMUNSQ1hHMnR1SDVXYmEycFVOYWdLV0dkSENvWE9MUzhSZGFocmdFazU1YUZpWmpZNVdoMmtXU3czNThTWEg5T1I3bXFvb1VZRE1hUXdzUUV6T0JUVFlGNzdWQ1p3bDU0ZEFieVhORUN5Q0tGN0Q5SXc2cWFHMGhvRlFmZUtuUXg1VlVRT0t1dDE4SW5SYWd1VHBNRVAzRVV3QmF3NzlVUXN5Y1JjNEZTZEU2Y1U4REJnSDhMaHo4a1Blc0g0VHl2YUxTVFJXNDlqU05VVEI2cWdFQTlrc3B4eGw1dDN6anZObEZ5YUlVamZTTzFmVVU5WXQzaWltMFhCdVVkUUdURlNTWFlKNTlKU2tkRVlHMmZiMTlXVWh6QndMak5Za0d6VUZxT3RNN2ppYkVUaGRFbGp1czRHZTFLN3pTM1JLSGlJeDJqcTBRV29MZzhRWUNEYkZUTDV4cDVmOEtvY2JyUnpxZmFpZVduazZ0QTlvaktHRE5WdmhEdWpFWjhralpsSnUwWnh6NWRIQ2JSN0dzWGZVb3pxWFJ0TjV5Um5WRktGYzlZVlFFQW9uTFlXUm0xNzFnYTJHT1VSbnVCT2VObkRYYW5ZWnZHVXJrNWowUm9oTUFsN2xOVkFJelRDbmtwY0R3azBoTjhRUzJPR01aS0JVUVF4cXV4eUg3S0JGbHdZSG9vdkZ0Z3o="
m_p: "9pms74amf7u6uD5RU8L4MnsS0r5si5yL2D36zeQ1Q52RyE082b9fh1zC16C48SU2"
e_t: "1614244990629"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.68"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299742
    type: 2
    minCousume: 593
    vouCount: 592
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:23:08,122-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:08,122-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "0f5309bda9bc4fa8baa983cc2c835682"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "kXNMnpxI"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.39"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "HFtxZs1cJVS0Czj7p4GUnbNA5uXWfw6v"
}
sign: "bjjr672yGIEzf0BBAVP4AkAP+s1RWlEhqr28uE3TxHCXtalkodPLKaSmRTvSOy6TSf7gdKO4YOYRFhiJfAcv7aop63T1l3X/92fUEqPBXp3+pzv4vq2bU+MyU0hccsFdwchYrMo7Er1Q/2Z0al0ATy7D9SW40i3sCpYD3nDKHNONR1r7NRsZC+ynTMuSd4DO+WaGN0yAxOMR5E9GVvlCkNZCbHlDoJJwJfMCSiuFJH/xWE8UutvpugJDqyrWEaU4h1SJZY6Kf87DjSmsznBZvq/8mtSk782sXvNNrAHvYVe/jbfVhc5XMyWTUuW53vlXbiwWj4qXAa+Jze19Tv1xBA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "0f5309bda9bc4fa8baa983cc2c835682"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "kXNMnpxI"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1199
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "HFtxZs1cJVS0Czj7p4GUnbNA5uXWfw6v"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "G6XQdpj0nRnrG4kk7UoMKekKnPhRrjmYLrnpJI03d0mb/i+fH37ZkIeUW+lgI+v7PpptiOF68EFXAlXyvoliNWyNEiW7JpTg5ENmHQ+eIKJ1Plzh5thzMvmTiTdULgFj+xREl3XfTdJNaiz+yerSSyeFHn8xmb2zoSanNLsQcO0="
  appKey: "1234"
  voucherId: 62299742
  voucherType: 2
  voucherCount: 592
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:23:08,425-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"05950106842f4f2caac106a554a6e405\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2411231095106056c1eec9377c80ae0000\",\"sign\":\"EDD6D9F7911B54367D3F7A65945F30FC\",\"timestamp\":\"1614136991\"}"
}
payrequestid: "KB202102241123102076075925315502"
model: ""

2021-02-24 11:23:08,426-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7069549605387668749152749176]]></transaction_id>
<nonce_str><![CDATA[AHN3iJcMEDVTwltXCBnYoWg90SvykaQx]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[AF9DBB9DDC0C4DD739FC736B73FF157E]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241123102076075925315502]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>539</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112308]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:23:08,538-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:23:08,538-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:23:08,545-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:08,546-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "16827326961582"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "fFX1pyU4KW3YMgwvucQ79J5bGIlmBLC8"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:23:08,632-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d89576c124054d51877e7f8e0242ba63"
s_p: "dmhEZ2tzN2RNMXFGeHRObG9oNDhoZms2Z09JblhjYkV6SkNwaW5YRm5RVzNpTFhnclFCbWYzRnZqOVNHd3VOcE15c0xDRWlObDJYbVg3dHdpNkgxcml4UHQ0aUtoYU1DcXFyODJGNm5qa3V2N2toUzcwY1pkZVo5UzJBZHFycjBzb3Q0VzFZQlJZWTQ2bnkyUGpEbWJMV2FlcFVkaHdoZ3BFSXNzTTdxNklEeG9zdjVtYThKSDV6SXo4cm1vREtJalBYVE1IRXBManlLNkU3TUNtR2xBQVlHbkw1bUZIdFJISUlMVEVzTWNSbzJjNzlabWl1S0tSMExXRkVmNTZEcFFrdGtTSm05T0E1T3FmVmU3TWlhcTJjSklIREpmZUpFT0NpR25NU3JBWFdpZ1hrMnFkZWZVQTZFcmR3eUpRRVVTaGRrR3VialFWVm01OUxDQVBQQTZWd25oWWZ2ZHkxdk53VDNYSkcwNzQzNVhtcGl2YlJRREsxWDBlR2NmVElOakF3MTZZU3V5TW90WWcxZjdaT2x6Zkh5OTU3blpsZUhEd3dpV3lNZDNVSTY5RnNXVE1Da1dTM2lXNHdsd3NncTR3TlF4VEU0Vk0wR3lwdzNUOUwzRTIybWptN0c4QVhoT0R4QXdVbFlMMlNIdnd5UzVURk9sdmM3WFVKUzN6ZWV1VEQ5Wm1DeG1SNFZCY3ZxUkJOcUFzbUc5aDhMc3BoaGgxWkZDNUN4WFhJV1l4d1E4NnhGWXJNakNncURGRE5pRXAwMnlwV3ZBTGVBb0M2cXZ4NXlJMmdhdUd2S3pQVnF6Q1ZGWnNUVUxIV3h5blJzWmQzZ1piWmVTc2Jod0M2NmptVGo5cXp4bEFBSjg5SzFXUjN3R3FBaVJSUmNvWUQ5N01scXU2UHlyTW5HZUlVVWY0YURjR3AzWHV2dEU3OHRUc2RRdVZlTk1TWFRzNjRIOVY2ZXU1NkhaYWh2ZnFLQzJsS01JSFVwM1hVbW5Vbng0S3JvMmUzNnVqeFVnMTQyQVVPYWpBcTlHeWlIdWVXbk5ZdnllcnNRdHlwYTBGOWQ="
m_p: "W118A566i3x5pztOOYsfz5k0bPnmeC4834i58iK0pE7YeocShgRYhHnzbF6w8T7Z"
e_t: "1614244991172"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:23:08,635-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:08,635-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "d89576c124054d51877e7f8e0242ba63"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "vhDgks7d"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241123102076075925315502"
version: "260"
queryType: "PAY"

2021-02-24 11:23:08,682-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.39"

2021-02-24 11:23:10,682-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:23:10,682-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:23:10,686-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:23:10,686-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241123102076075925315502"
2021-02-24 11:23:10,690-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15095, 'pay_req_id': 'KB202102241123102076075925315502', 'notify_id': '7069549605387668749152749176', 'partner_order': 'HFtxZs1cJVS0Czj7p4GUnbNA5uXWfw6v', 'amount': 539, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1199, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 23, 11), 'success_time': datetime.datetime(2021, 2, 24, 11, 23, 8), 'modify_time': datetime.datetime(2021, 2, 24, 11, 23, 11), 'trade_type': 'PAY', 'kebi_spent': 68, 'voucher_amount': 592, 'voucher_info': '{"cutAmount":"592","id":"62299742","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299742', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:23:10,691-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:23:10,691-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241123102076075925315502"
2021-02-24 11:23:10,695-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7781, 'pay_req_id': 'KB202102241123102076075925315502', 'partner_order': 'HFtxZs1cJVS0Czj7p4GUnbNA5uXWfw6v', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1199, 'amount': 539, 'kb_amount': 68, 'voucher_amount': 592, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 23, 11), 'success_time': datetime.datetime(2021, 2, 24, 11, 23, 11), 'modify_time': datetime.datetime(2021, 2, 24, 11, 23, 10)}
2021-02-24 11:23:10,695-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:23:10,696-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241123102076075925315502"
2021-02-24 11:23:10,699-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:23:10,699-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:23:10,699-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:23:10,700-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "HFtxZs1cJVS0Czj7p4GUnbNA5uXWfw6v"
2021-02-24 11:23:10,704-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 215, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_HFtxZs1cJVS0Czj7p4GUnbNA5uXWfw6v', 'partnerOrder': 'HFtxZs1cJVS0Czj7p4GUnbNA5uXWfw6v', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 68, 'count': 1, 'r_cost': 68, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 23, 11), 'updateTime': datetime.datetime(2021, 2, 24, 11, 23, 11)}
2021-02-24 11:23:10,704-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:23:10,704-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "HFtxZs1cJVS0Czj7p4GUnbNA5uXWfw6v"
2021-02-24 11:23:10,708-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148833, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '6099755f99f24517b18d7525131a1cbd', 'request_id': 'HFtxZs1cJVS0Czj7p4GUnbNA5uXWfw6v', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":592,\\"notClearCount\\":592,\\"orderAmt\\":1199,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299742:592;\\"},\\"kbVouAmount\\":592,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"HFtxZs1cJVS0Czj7p4GUnbNA5uXWfw6v\\",\\"paySuccessTime\\":\\"2021-02-24 11:23:11\\",\\"price\\":1199,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"HcQDFxx/STw0d2rg7hIT+/hITWhCPnKYPsbd4XOcLByqSEl/bbkDfn5wovxo/x4NJ2AgvCrYX/xg+xn6jWyNIUiHITN/R8KzlbRQW1sFTS3g+ZdynBpV6drWVaqfYaNj2J7i+3cnCecVv6RdH6iuoykIaFud6L4z+MbrsnBRQm0=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"HFtxZs1cJVS0Czj7p4GUnbNA5uXWfw6v","sign":"A03D06E1407DB887A61828D201777015","signType":"MD5","successResult":"OK","timeStamp":1614136991194,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 11, 23, 11), 'update_time': datetime.datetime(2021, 2, 24, 11, 23, 11), 'extra_json': None, 'remark': None}
2021-02-24 11:23:10,708-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 11:23:10,709-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299742'
2021-02-24 11:23:10,712-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 11:23:10,712-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 11:23:10,712-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:23:10,713-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:23:10,715-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:23:10,729-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.68', 'batchId': '23532035371175657398183560683017', 'bizNo': 'b2CPHWRkFoNMjUO8aixylmd1vKGX5SuZ', 'operateType': 'PRESENT', 'requestId': '01575867320436473119697058070809', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136990727})
2021-02-24 11:23:10,754-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.68, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:23:10,771-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136990769', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 5.93, 'cutAmount': '5.92', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:23:10,788-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299743'}], 'vouIdList': None, 'batchId': 'dfb3219bf2d24877a8a587e6d276514b'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:23:10,803-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'dfb3219bf2d24877a8a587e6d276514b', 'batchOperateType': 'PASS'})
2021-02-24 11:23:15,847-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:23:15,855-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:15,855-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "59895394524208"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "TOpIhR10FNctfsBgUwKdSvqMkmzeDVE6"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:23:15,934-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "20f71ad1f487479894925e9636844b4c"
s_p: "Zm1kbUJCeWtXelVzTDI0VlNkMGxLNTJPdnNwMzVVdkZhYUpjWGpsclhrS3M3QUhzbTFiVWFiS2FteDVhMDFvdFVKVHE4cGtycG9vdHI2akhUU213emN3dmxHa3VYS3QwNGRvQXNEVmZNSm1qMmkzRzhGZDU4Wk95TWJDTlI5S3NvcTVzczNCaWhiQ3lIRmo4dENIckszMGQwTVZlTGZYTFd4TmNoRGpwSHZYY0pxUGhVVGlzdllMYnZHZ0xGSDF3MW5qbWVqa2RVM2MxYkFKV2dYVGxhOW9RNDlsM0FGdGtQb0dLZ1h6QUpYVWdvaEt0RjRFTGc1cVZrcjljcEhNa2g3eFcxQ3NEQWh4bElyY0R6OUZjdlVteEhqeVFhb3FHcG9zdUlZWFliSXF2UVNIcEUyQzEydVkxWDZhY1F5eUNKWEw3a0t6ZTVmaXRaNjZPNFpoUmJPZTBWMFFtTldkdnpOZmoyemJYd2dmeFhybXh0SlpLTlBYdEIxcUdHZm5OMmFXOURGV0NWdXUwUWFJSEp6T3IwUWoxWmt5YzE5UlRhVG9scDA1cEROV256Y0xmUmRUeWdUU1AxZGluY240b3VLS3FYek1Oc3BzYXNaSE45eG9ZVWFzY05iN1EySHhjMFA3d2FyRU9lOVlaZ3R2TWw2elQ0Z0FRUDZqYjE2c2Z3YjRaRnVFbEFrdzhnUHoyU0FIaWJhUDlXNGVjWFBIWWR2akRWM005cTZ2dlFTUWVyMEszSHdFU1NxTklmSTJ5TEhyVGVIanpzM3RNdGhIWGVZMGltcTN6TFJ3Y0VmMHNDVlF5ZDhVbVFTWTlHT2s4V29WeDB2WGY1OWJZS1ZGbDBxUHFMQ3pYSXBLckFUdWQ5emE4bXNqMUljMFFEcDdZSEFPRG5VQVZHU2hkeXBxM3h5aHBRVUpSblJpRUcxUGlMN0hJYzN5Vm5jbDFwMURsdlhTMnQxNHNZUXFoYlk0VGtnanFHTjlJM004YUNwTGd6WUNnNjF6NlJxVGhpSEx0TjRldjh2Y1FZZXR3WDdQTHBVcGJpdE15bXBiZlNzd0Q="
m_p: "53W7L58ug58Pm9561i53Ugl0fJ02SSub9h575Wb6c3CR0z9UYu35BPYbJ0EyF4M8"
e_t: "1614244998484"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.68"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299743
    type: 2
    minCousume: 593
    vouCount: 592
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:23:15,959-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:15,959-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "20f71ad1f487479894925e9636844b4c"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "MbCNR9Ks"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.39"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "q1tyRAkUKZs4C8WbB6XIcEe7pd2LNgJf"
}
sign: "FVbnqZ8zNTR8R94vq/kSLHy4/jw1iLQOrPMJx+f21ghtQWre95yoIkHP1NHY0vThWyVQZUgRWwBX5pMhrY/iluS2Ewrv6mc7+xYRHGrQ9TX+YYsqycACTgrtksrKuDSiB1K/1vG4aRj1dIzcxoyWPnkTZ4yzuYlVZXUFD16/IVOtl2L/tZehdJH2xIccNUM+Yt5pytv9+/AqiU31RoNW+Y2i4E5EWixzcX230ct6QtFM8RGS1RFizU4UT6zfw3OSmSqZGQ4en7PEdV0LJWWJbm4rA26xtsJPExl3bJo6txYQqUpSUqZQNCDRTnPYjbDOnaxJ3FL3o5tTgC2DqWZQSQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "20f71ad1f487479894925e9636844b4c"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "MbCNR9Ks"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1199
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "q1tyRAkUKZs4C8WbB6XIcEe7pd2LNgJf"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "hn0c6YDQR4sPUtyY622yzhQ0GCI8fsyAi39Uvl98kL5wb96Cw4MbMK55Wa1E/M3TPFJVNFo+f1GkQEgB8bJ6GyH+rZsEupMRyh7XkiG6rHf4tjHDtOpOt0zxlKXG8YF43V+K4L7t+taM1myTbn3xSGknPMhn/5+st7i3PV8eIDE="
  appKey: "1234"
  voucherId: 62299743
  voucherType: 2
  voucherCount: 592
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:23:16,273-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"10edd8193a6f4a01b1c62dce3d6e6b68\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24112318801821f209821c899995f60000\",\"sign\":\"D93A8CDC468E8A905078F82C251C8761\",\"timestamp\":\"1614136998\"}"
}
payrequestid: "KB202102241123182076075925407842"
model: ""

2021-02-24 11:23:16,274-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[0333631761911525489070407215]]></transaction_id>
<nonce_str><![CDATA[gMBXIjtm9OPLvWTsxpZuKYbH1GzyQ3Sr]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[6B7AB6E526931568BCB98E230D59EFFE]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241123182076075925407842]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>539</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112316]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:23:16,401-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:23:16,401-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:23:16,409-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:16,409-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "07695168133657"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "4BKNPYgchrOL5E2yW7ev3iu9mCZlJTAk"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:23:16,482-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a111c97542b9495782a049be8aadf037"
s_p: "SExUc3liM0xFVTc4SkEyY3N0N1VISFVnVWRnTkFsZ3JRcklDaHVCcFpibE1HanlVUm9LQnpRMHg2dVhkcU5yNDM5TUNwYW5NRTkycXBFZEZ2NFNWWUVoUjNTcVVqYU91bXk4eXF6cGhwSUVyTWNsclNjcXBrYnphTUZaVzdCVHN5SnFOMm5RSVNhNmE1UHlDekhaTVp1ZWxWT1R5Yks4VEx1NUNMUkZydjBsWFlOY2VuMmZoejlBM0RXRjZsM0RBc0JzU1IxUzIwalBBYTkzbkM3WmVYeUd1dFB3NzF6U0swWktZSlNoaGtZUkVGaGk1VWlFYTMzem1pMmV3UmZlWk1YdjNCVjI4UnRaUWZRenNOTkV2QzRXek5kUng1SktkUEJvaUJITmpBbXFaSUlPcXVoMGtyU2Q3bUVWZlBuS1EzM3NzYjVuTXFrZEtxakd4V1JQN3hrSlNDalRJVmVDTTkwbEFWd2tMODB2cmlZVHQ5YzZmbHBSQ1FjdHF5WUM3SFJtWEVnWFFIclBvQVRmRFQzb0o5R1R6cmZ4R0tEcWliemk4NEhZcEg1N2tNTnJ0eDhMd0lEWHpxeldiaE05MWxFYmh2MFpnOUtacWVoSkl2WEJiT3VKRnk1SUFPVVJMZWNTRGpDaEZZUENkYzlqdkd3SjlSdTM3eEFCOGdGS0xBNGVlZ1pLam5zMGxqMWdtakN1MTB2dWNtOGppZm54WjVCeEpNaldXRGlKZEg1S2FlV1AyWExMYzg1eEhjVE1qUmZrcTRxOVZPUzE4cWdyT2VmSjM3ZDIwaWxRTzNib0hHa3dBWU5XYlZDRE5zbGFRUVJrUkhiYmtmWlQwU2tGSUpzTlVTRmx1WEpJMmZJUjZ4bUFiOTNPZXZxT3FhUWZUTUJtWmthT0xybEJQQUpTV01ReVRyVW5raFpPMVR2VXhjQmFsRXlDVklMQUxkMXRHNlhhR0tSMXNhRjJKZVlJajg3Zm9kQzdBV1hFRnlteEZIVk9tMGZtRlRJdURZZ09uem15clRkdkNRZ2VJbmVEYTI1MnFKUGUzSmdsNzJ0cWY="
m_p: "14yD165rBFjgQ88CY5u4dpD1P16bY41N2lW8KZ7rVO8QIA634XB716K30I5Bkl7y"
e_t: "1614244999035"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:23:16,487-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:16,487-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "a111c97542b9495782a049be8aadf037"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "8yqzphpI"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241123182076075925407842"
version: "260"
queryType: "PAY"

2021-02-24 11:23:16,531-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.39"

2021-02-24 11:23:18,531-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:23:18,531-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:23:18,535-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:23:18,535-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241123182076075925407842"
2021-02-24 11:23:18,539-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15096, 'pay_req_id': 'KB202102241123182076075925407842', 'notify_id': '0333631761911525489070407215', 'partner_order': 'q1tyRAkUKZs4C8WbB6XIcEe7pd2LNgJf', 'amount': 539, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1199, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 23, 18), 'success_time': datetime.datetime(2021, 2, 24, 11, 23, 16), 'modify_time': datetime.datetime(2021, 2, 24, 11, 23, 19), 'trade_type': 'PAY', 'kebi_spent': 68, 'voucher_amount': 592, 'voucher_info': '{"cutAmount":"592","id":"62299743","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299743', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:23:18,539-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:23:18,540-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241123182076075925407842"
2021-02-24 11:23:18,544-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7782, 'pay_req_id': 'KB202102241123182076075925407842', 'partner_order': 'q1tyRAkUKZs4C8WbB6XIcEe7pd2LNgJf', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1199, 'amount': 539, 'kb_amount': 68, 'voucher_amount': 592, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 23, 19), 'success_time': datetime.datetime(2021, 2, 24, 11, 23, 19), 'modify_time': datetime.datetime(2021, 2, 24, 11, 23, 18)}
2021-02-24 11:23:18,544-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:23:18,545-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241123182076075925407842"
2021-02-24 11:23:18,548-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:23:18,548-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:23:18,548-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:23:18,548-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "q1tyRAkUKZs4C8WbB6XIcEe7pd2LNgJf"
2021-02-24 11:23:18,552-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 216, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_q1tyRAkUKZs4C8WbB6XIcEe7pd2LNgJf', 'partnerOrder': 'q1tyRAkUKZs4C8WbB6XIcEe7pd2LNgJf', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 68, 'count': 1, 'r_cost': 68, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 23, 19), 'updateTime': datetime.datetime(2021, 2, 24, 11, 23, 19)}
2021-02-24 11:23:18,552-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:23:18,553-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "q1tyRAkUKZs4C8WbB6XIcEe7pd2LNgJf"
2021-02-24 11:23:18,556-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148834, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '55e1b09d64574d959bf925d6bcb1c0d8', 'request_id': 'q1tyRAkUKZs4C8WbB6XIcEe7pd2LNgJf', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":592,\\"notClearCount\\":592,\\"orderAmt\\":1199,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299743:592;\\"},\\"kbVouAmount\\":592,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"q1tyRAkUKZs4C8WbB6XIcEe7pd2LNgJf\\",\\"paySuccessTime\\":\\"2021-02-24 11:23:19\\",\\"price\\":1199,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"P2XrEoFOQ46K84le7kzH5dC0Iv+i4kBao1D+0KG7grsioanYLnepWO9+sz6f8YUjvV4e6QGtOGMs5jyoZuLuF6AQ7VxfsgBiCPDk0M2VSYGkQTV5yoVI5SjJuIzNe1sSbB4K+j1HxB292TAUlPCvIIRi+GwWaj5DEP6SeGPDYQw=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"q1tyRAkUKZs4C8WbB6XIcEe7pd2LNgJf","sign":"73B28315170C5D672D257AE297279C8D","signType":"MD5","successResult":"OK","timeStamp":1614136999045,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 11, 23, 19), 'update_time': datetime.datetime(2021, 2, 24, 11, 23, 19), 'extra_json': None, 'remark': None}
2021-02-24 11:23:18,556-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 11:23:18,557-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299743'
2021-02-24 11:23:18,560-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 11:23:18,560-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 11:23:18,560-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:23:18,561-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:23:18,564-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:23:18,577-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.68', 'batchId': '07057352707136014627802602860335', 'bizNo': 'h1me0BfZSDibMTQICgypl6FNk7AYj9Xr', 'operateType': 'PRESENT', 'requestId': '71022447896142661620247710466097', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614136998575})
2021-02-24 11:23:18,599-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.68, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:23:18,613-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614136998611', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 5.93, 'cutAmount': '5.92', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 11:23:18,648-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299744'}], 'vouIdList': None, 'batchId': 'b8229c1369624c04b78fb051cd86b193'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:23:18,662-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'b8229c1369624c04b78fb051cd86b193', 'batchOperateType': 'PASS'})
2021-02-24 11:23:23,704-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 11:23:23,711-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:23,712-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "18483613452799"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "e3NbhqR8AFCpHavIfZDJTl4W5dLouOUQ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:23:23,785-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2de4d80b2e93490ca4ee3ad0a6de45b7"
s_p: "bEhub2VhcmdUZ0hZbFhranZPSGpFdVJhd2dlVjVleDBtdHZWNzRmWHNRMm9uaW04REtpUnBWY3pmVVdtWTJoZUltWjducUF0Z2I5eFJubU9pOVBrT2tWY3lQZ28zODlObU1ZMmpmQXJNSVhLTGZnZHRGQ1U4cXpHTXBGOHMxeHdOSmJHbEJSSHhISEJodEhBSzVORXpaQmdaek45ZFJiRVdNV2FEeWo2eDhVbnBja29hOU1Nd085NGF5b0tWRklUNFJ0d0VISkM2UmtLeHJodngzaU0wdXMzTWRITFRzUkNJd0xHV0tBZ3pFNW9qb1RDUFNiUmhFOGptS015ZDF3Y3NWbTl5Nm5EV1k0TGxLTGtEVkJxTTVVSDFMZWdYQU5idWVUTlFoZGhSRG5IdjJQNTZLVExFdFNpdzllZjBtaFZ4V09hMGYwQ0RKSWhMM3RXRm8zTXpOMVVrN3gxSk5OUGh0cDhNUFNZVzRxa0xtdWN0MVBaNWh3ZnkwTWNPdm1iM0ZoNThMYnRidWRzNVB6TXRSbEc4anhIcG5pVUlua0pjS2JtSzBNTm1DVkFRaDZCOEl0WkFOOTJTR0ZqNjI5akdUWjBTRUt1elk3WmNWSXhZcHJzcTk2Z1NrWng0cU1QZ3NoZFM4d1NQUTZRd2dpeUZjRnVGZ2d0cHZNSng0Z2Q0UzhUWFR1OVU2YmxPSHliNjFyUmZRSTdxM1FJWjFFOXpTa0lIdFdyZ0FMbWxqMHB4aVBVbnVuYUZkTGZIWVl2NFZMQlJidWtPYXVsaE9OWGo5UDNJREFoNUxKcHBHMGJ5dXF5NU1Hc2ROZWpxbEF5aTViZ0FUUkNvclR3MEVIeGF6d1ZzNXNtSjFuSm9sdDRaelc0d2wwNVhkeE9hZ3NIT3o5VmFGeENBd0ZtcEc1cm9EczlPYTQ5YUJQWEhUOVJxRVpRcWJCUVZZZm1MR2tpcWJUQktySVRXVnV0MVEyUEw0UG1QTXZ0cTlGNlEwUU1hbklXSVZKSHhKU3dnV2lGakxYbGpBa2NsbVZqMDhGT0p5Z0VObm5pU1NmMG0wd2U="
m_p: "0yjQ6OUp06jCbtfKXMiv6y8PJ20229UhzvAzQwEi6t66ATkCJl24v21Hl69OALPW"
e_t: "1614245006336"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.68"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299744
    type: 2
    minCousume: 593
    vouCount: 592
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 11:23:23,807-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:23,807-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "2de4d80b2e93490ca4ee3ad0a6de45b7"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "i9PkOkVc"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.39"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "XUx8P2cKwaO4iCspjzlRt9TnBVHYA3e1"
}
sign: "uqbu+zu8s8MkOk66PandiRbd0suDzvLbKYZtHvJAWI+qRJW8Fs0Cis72ne9Iy8owKm8ubcQjNopo32iVOFkjvMjX5cuRD+iWJVIDrDAt4Nj1o1SWtYqLo3oPI3taTkaWu2Y5rK8ha9vMIrO03rtehYm9FZmoocFelPb6eZKgSKSbniVks3iB4OEzqLctwhDuHliBuZOu5jjTiEYcqvp4MDPggVEI44ytdo3BjSYYLtiCT7FURzX13bN8JNJ31ACglFrks/BROJMvAY3Dq1qM0Ox88/dlRIHTFRWNQQVh6AsGPX31wVOrGHmMyxBM/uierc5+uWTMPitwxNmMElwNIw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "2de4d80b2e93490ca4ee3ad0a6de45b7"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "i9PkOkVc"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1199
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "XUx8P2cKwaO4iCspjzlRt9TnBVHYA3e1"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "EfOxrbSn7qs+u3db1SalYcWYqIwaobOIZh5L4lMiYxcO8bymhjL6ZEpx+i/iUmzvYI1W6p1/ozULcQa2xlxUlhdXM7kjmwoWSR5IDk4gh8RxidKhC4eSHK2oZ8Ab58T4WY+adJqB90YCXPkRk22qea3CQIqeY61xDtVipSRBOLw="
  appKey: "1234"
  voucherId: 62299744
  voucherType: 2
  voucherCount: 592
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:23:24,163-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"45c74a72b38d43f2b41ff252ed22ffd4\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241123267021167f36717f2f1afa500000\",\"sign\":\"194E4C49FA54D4BA6172AB0BBDE23AC7\",\"timestamp\":\"1614137006\"}"
}
payrequestid: "KB202102241123262076075925704002"
model: ""

2021-02-24 11:23:24,163-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9791931775318755139608628266]]></transaction_id>
<nonce_str><![CDATA[mCe8Bl6W2TKMktdaFNLU5zinJgxjPASb]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[A1D9D4D5CB537F717E0FCD3892815189]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241123262076075925704002]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>539</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224112324]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:23:24,287-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:23:24,287-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:23:24,295-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:24,295-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "15348754155847"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "vW2kAbjCI8DwhlG5ER397FdUKL6iNMya"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:23:24,367-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8a52f092733641ef94c9bac45a04f78a"
s_p: "SDJVZ3FUalhrQjFyZTRQdWRmNHZJTzBTZTJWUVdOVlh6RmlEUlhnVkMyT3dibWJLUXNnR1JFaDQzNFdGdjJjcDV2QXZpWTN1bWpkZHhkRGJURXZSVW5WalNPVWFOOHIyVEREUUFZeVhTbGRlRnVINWZ1amx1Qzd4NUUya2xEa3R0SmZRN25jN0Ztd2lHQlh2WlZtcThzTmI2amk1VExrQ2hiQjd5SEtCTXNoTGY0MXZ5SXBlN1ROVldRRnFLd1FodkN4SlZ4eUczd2MwYlI1TGtFelRveXlmV05hbVBDb2Qza0tJOUo2bXZhcVVGclRZN2tpblNtTlRvSkRYWlJxTHBtWGlDVnVyVEF4MjRiSFd0RzFNMGZHWFJNbnlWZ3BJeE40NUQ1WEtwREV6QlhmOXZmQVFOdEhPQjBxU2tOZnhUUFdEOXowMXVKeWZJaDFiUTA0alBCdkxBQVVEekEwZmdKcFdyYjM5SzFEV1VEdERPUENpMVZtd0t6SnkxVTVqQVUzdVNFQWsxdmdsQXBmRDIwdXRyVzRyT054Z3hIeGhhRlBrTGl5ZXprTjFmUVNoMkNudXg0MnFhZDZ4b0g4RGw5S2doSEZhcUpVWEpPMGtuTkIybWZKUnRzSmNUZWcweFRqdWs3eGRRSU9jUHJuVVBvTWFRZjdScEhmQ2p3d1ZiRjA5TEM0Q1IyQTRSdGlDUGd6ZXp4d1MwTlJQMUpFUUdXRG9tTENVM1Vyb0NRQWdyQmZia3R6d1lUWjR6ekNBaW92cjBtM2FnNzd1ckx6eTNFOG9ZMnV5WjF0NklwZGlicEZUWkY3bklTazF2TzEyWDNsT21mb29LbzQ0ZWYweGRsVW5leWVCWlk3R2ZSZlNGNHJTUkhmQjF2OE1VM3I3Y1ZLMkg5WXdsTW5GMjB0bEx1S3EyWW5OamJOSWNQeVdzb25SVHZSdjJzbFdaWjNOVlNidUM3WldROWJBZGpNQWZ6bXdjUXZoTjc3QjQzVXBkMEloWmE4QVdJN0Q4YXQ0aDdyVER1elNtYWZBYzIzckFvUk1FdkFOSTBaNTYwZzQ="
m_p: "rDqQrwg5QyV2am77rk2141SF5RAFqb6hd9GlBLu7VC2mS51lK5RvJG59pIqwWM9e"
e_t: "1614245006918"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:23:24,369-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:23:24,369-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "8a52f092733641ef94c9bac45a04f78a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "kB1re4Pu"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241123262076075925704002"
version: "260"
queryType: "PAY"

2021-02-24 11:23:24,414-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.39"

2021-02-24 11:23:26,415-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 11:23:26,415-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 11:23:26,419-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 11:23:26,420-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241123262076075925704002"
2021-02-24 11:23:26,424-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15097, 'pay_req_id': 'KB202102241123262076075925704002', 'notify_id': '9791931775318755139608628266', 'partner_order': 'XUx8P2cKwaO4iCspjzlRt9TnBVHYA3e1', 'amount': 539, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1199, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 11, 23, 26), 'success_time': datetime.datetime(2021, 2, 24, 11, 23, 24), 'modify_time': datetime.datetime(2021, 2, 24, 11, 23, 27), 'trade_type': 'PAY', 'kebi_spent': 68, 'voucher_amount': 592, 'voucher_info': '{"cutAmount":"592","id":"62299744","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299744', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:23:26,424-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:23:26,424-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241123262076075925704002"
2021-02-24 11:23:26,428-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7783, 'pay_req_id': 'KB202102241123262076075925704002', 'partner_order': 'XUx8P2cKwaO4iCspjzlRt9TnBVHYA3e1', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1199, 'amount': 539, 'kb_amount': 68, 'voucher_amount': 592, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 23, 26), 'success_time': datetime.datetime(2021, 2, 24, 11, 23, 27), 'modify_time': datetime.datetime(2021, 2, 24, 11, 23, 26)}
2021-02-24 11:23:26,428-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:23:26,429-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241123262076075925704002"
2021-02-24 11:23:26,432-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 11:23:26,432-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 11:23:26,432-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 11:23:26,433-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "XUx8P2cKwaO4iCspjzlRt9TnBVHYA3e1"
2021-02-24 11:23:26,437-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 217, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_XUx8P2cKwaO4iCspjzlRt9TnBVHYA3e1', 'partnerOrder': 'XUx8P2cKwaO4iCspjzlRt9TnBVHYA3e1', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 68, 'count': 1, 'r_cost': 68, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 11, 23, 27), 'updateTime': datetime.datetime(2021, 2, 24, 11, 23, 26)}
2021-02-24 11:23:26,437-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 11:23:26,437-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "XUx8P2cKwaO4iCspjzlRt9TnBVHYA3e1"
2021-02-24 11:23:26,441-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148835, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '95fa232d1bfe46d1af11ff1eda2d2461', 'request_id': 'XUx8P2cKwaO4iCspjzlRt9TnBVHYA3e1', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":592,\\"notClearCount\\":592,\\"orderAmt\\":1199,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299744:592;\\"},\\"kbVouAmount\\":592,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"XUx8P2cKwaO4iCspjzlRt9TnBVHYA3e1\\",\\"paySuccessTime\\":\\"2021-02-24 11:23:26\\",\\"price\\":1199,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"Y6tLgqkc04DZxe4EzUCNwrbr0z1IoPCew711CQuwUsw/LBnBHsUsuQQECzh+ghhkF/ISUNuZgUcMtlXnVRbSUwhL91r86AwPEL0tkA6yjqY10N2bpQwCA7+gCaK8W3iDF6bsw5kArdnqk63qkFcuTL28w6X1P1fZrp4p81MsJ0c=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"XUx8P2cKwaO4iCspjzlRt9TnBVHYA3e1","sign":"A828D7146D535E7619682AFAA548AAE8","signType":"MD5","successResult":"OK","timeStamp":1614137006939,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 23, 27), 'insert_time': datetime.datetime(2021, 2, 24, 11, 23, 27), 'update_time': datetime.datetime(2021, 2, 24, 11, 23, 27), 'extra_json': None, 'remark': None}
2021-02-24 11:23:26,441-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 11:23:26,441-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299744'
2021-02-24 11:23:26,444-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 11:23:26,444-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 11:53:58,376-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 11:53:58,650-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 11:53:58,691-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 11:53:58,692-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 11:53:58,719-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 11:53:58,722-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 11:53:58,723-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 11:53:58,726-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 11:53:59,281-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 11:53:59,285-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 11:53:59,285-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 11:53:59,288-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 11:53:59,297-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:53:59,297-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "99908313717355"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "FjSzOPvop7cBwfI9aY5HKtxQ8ldh2ETR"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:53:59,484-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "59c73193b6c04547920c6f85c5841944"
s_p: "Yjl5OGJxT1Y1dVNDdW9idGpWbVZPWVA0OUtnOHNZYzB3UEtITGZ4d0FQMW9UazRVVFl4ek96NFhWcW1LcFd4YzZPZzBybWFlanljUm1GcVc5dVJiT1R0elhZd0dyUlVwdmVzYzdUOFRLd0VjbE5pSlBLTzNPRU9sRFZzbm5aNUhQSVprd2MwUGxkMGVkOFhqeE1paWJ5UUVrSXBMZ0VQZTJGTVdEWGU5WW43dnNlSnIzU2RiZUVjMFpSMDRqSUNINk9kM0FWZExLc3JtQjlvbmpyOGtOYVdwdzNORlVuVTg3VXgyVFlEcFhHb284QkhqSWxLdTFld3hBNzlKSHYwTlhxaWozVDQzWVVyRnNCdWMyRGNhMnFlYW5tVHRmN3JiSVFZWmhoeHBWSUwyQ1hITVlLb1VOUzl0cUo5SHNwZmNZRFVMUW5NODdINVE5WnJmVTZzM1hjeW1SYTlBb1pjcktHZGhvODJEQ1lUbktqSmdtOHFNVGFKU3RRY1ZvQ0JHaVZTVVFHVk9xZ1RvV0pXMTRIQzlHNGt6MEZuQTZoRnp0MGJkbXVGRFFZSWFDbXprYjJ5bDlUYVhJekttUm1sYjk2MkE5MmZjbVVUNUJHNndoV0J0NWpGU0w4MGVtSVE4NWRLcUpHa1ROUmdHOFBGM1ZJVjN3MGg4YjRUSmtCM21EZUVVbGxDM1ZXcm9mM0VuczBkYU1qNkdzT0xWdGZXRHJvNzVldHBFb1NSMWIwTnN1SjB2YWFrbkNjY3VIRDd2eDFIb2pEaW8yU0Rzd3dIN1ROc042WHRqZjF1ZGZUQWJuOG1SZG9kNEtxcGNKZXl3N0tBbk80NXlSMHhTc0F0S0Z4UmtGMnplbVRLRDB1b3JtcUU1SGpRbTBsZnhoVDZlUFRwSTJqRVBmWWpnQTRvZk91a1hiSzJiMlBvR25TeGpmWW1lcjJrRmRHMm9IQ1Y2TlUyTTVIUlNvb3dzVzVienRrOGhON1dBeUNad09vRlI1YUFqTzdIQkNtbXdlRHlvSElnVEpRaGVTb1JiYlAyTzBVRVZGV3JiMWw0UFdBT0Y="
m_p: "2v3H45N8ck6UlTiY28cQoX99HjCpwI7byyq3946YlgAV7b0Jdg4D50JCRc1ov94y"
e_t: "1614246842068"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 11:53:59,487-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:53:59,487-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "59c73193b6c04547920c6f85c5841944"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "sc7T8TKw"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "RlQxWJ8OhcC25tPpX9v6N4EjqGIMLye7"
}
sign: "IaHgiaC/J5h4ilYL0laswXathfxSz6oovc7DFeI8ceJJfKFoi0yIEkmS3ZV4zxTQ4uzNB1yuE3LoZ0Nj/otgi6hmj6Mlppb18qc2SUTPZuPr0qufJroM67Gl8PHB71+xBiW5yzLqxJRgVOnJq0twhvIGHc8EdBGV7RwjLtljEscxtj7xlhXdsKxFuLRwuUcdAU62TgtmK1DQ3BCSe4wkzKO1AQMJlOTQYdvYJJcYqU8drrPOC2rHhfHeE5beksakKerDGejL2VAIg7of11IfOBEVJKTJ1cwLgid3TWJBRsAgf4NDKu9SSkF8gmHk7McIDqadcoj1jNtjNgrLh+KFaw=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 11:53:59,888-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"092c1d02f6544d378b70b606918afb40\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24115402427855910632bf6e3d47e80000\",\"sign\":\"C0883096E8C1628509E7B877B0568B6D\",\"timestamp\":\"1614138842\"}"
}
payrequestid: "RM202102241154022076075925783482"
model: ""

2021-02-24 11:54:00,889-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7732443052483908955943307680]]></transaction_id>
<nonce_str><![CDATA[EKFglofp1mNMdSqR9rjnvT5WCuAHhBQt]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[0AEC9BE181367F83CD888B619EA08E1B]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241154022076075925783482]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224115400]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 11:54:02,355-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 11:54:02,355-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 11:54:02,363-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:54:02,363-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "84438556031252"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Rsxaqgbpy6M0iwCG7JHIOnojQUzFD5lB"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 11:54:02,479-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a1a05baf0772475a9e08c72057881de2"
s_p: "R0Y1eUM2T1lTNHczVm5wNWQwa3VrTWQ4MllkNHpkMXZBUEpjVExQbmpCdXZ1dHNhVmlFa3d1RDRrVkJjRno0T2tZVzh0d3dUMm1UWFY5NjFkMlV1WGpTOXp2UFJhVGZwS1k2RUxOcHl5QkVxMnRrcHdUZUhiTlFNVFI3azJyOW03V1hKbGlhN01mZ0hiMk05V0lFenZBSVhPVmllaEdGc0k2bm9iRFVUazhkS05mNWx3eXd1YTZqTzZ4aUIxN3phbncxVnVJMUdKUjRybDhxbWJCWER0bDNKZktiaG9XVVNnWjlTT0QwcUFkaDZDQzJaeUJRWndhRDJkdkR6RENhbkxDRWVEQ2llWlpFMFVMVUlDamRHbGNpRk9YWWRmbDVsMndaWjlnM25QRFJZaGprTmI3VTJNNVBacXd5Y3poeFFsb3hYT3JLcjVqZE9ENU5COTB0Nm1JalFoRlRqQ0k0Z1FaTjNSbU1jbnJHUW5Ud1JIcVU3aU5wSjFXWXBnajkzTEtKU3ZIUWx1M2hkZzZvUmNPMjRwUnI3VWtobHZVcURBU3FJdHhGbHp1ZnIzU080N0szZUJpMFlySGNTM2tDRHI2Q0hWQ1daWUpkTXlURmF2UERlY052cGlXVU9rYmljY0J0c3o4MlpRcFN0alRhU0NnYUF3U1p2VjRQcENscFFmc3RiRDNQcHNiaTlBTVhYMzJDU3dSOWVwVUEzdndHdFBKbFVHMjg0N09tYzVrYjczNnVLSVd2SzFaZTV3QkxMQ3piNm5DeVAyUXlVNXB2YmlKczA4RHlzWUFoUWhDM3l5Z0RNMzlCSHhFR0tkOHJYTzJXMHZxQkhPdVgxd2lIMnNwZFNjNXc0bWpoS3Boc0J3V0NRckI5ZmFHN2RReldHWnVKVTRPOUNrUVRuVE5kcU9Zd1pVcVQyMXh4bmlSelR5Nk0xSjBDazQ3SjJoZzNuR3R0SFFGS2pualBndnEwcmxBenZ3eWc5Wmh3WmpNNVcwWVBDTzAydHRPRmI5ZnUwbU5tblJIVVZBTU11Z00yQ2dOQ0pVZld3aVBCSm5xclc="
m_p: "4Vm457f38f1Gmsc9E0DfoGgJAT7De7x91Bgu6WxJ71ElLwfvcc0Ny82QxNoQuO5k"
e_t: "1614246845011"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 11:54:02,481-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 11:54:02,481-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "a1a05baf0772475a9e08c72057881de2"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "EkwuD4kV"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241154022076075925783482"
version: "260"
queryType: "direct"

2021-02-24 11:54:02,556-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 11:54:02,557-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241154022076075925783482"
2021-02-24 11:54:02,561-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15098, 'pay_req_id': 'RM202102241154022076075925783482', 'notify_id': '7732443052483908955943307680', 'partner_order': 'RlQxWJ8OhcC25tPpX9v6N4EjqGIMLye7', 'amount': 1, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 54, 4), 'success_time': datetime.datetime(2021, 2, 24, 11, 54), 'modify_time': datetime.datetime(2021, 2, 24, 11, 54), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 11:54:02,561-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 11:54:02,562-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241154022076075925783482"
2021-02-24 11:54:02,567-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7784, 'pay_req_id': 'RM202102241154022076075925783482', 'partner_order': 'RlQxWJ8OhcC25tPpX9v6N4EjqGIMLye7', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 1, 'amount': 1, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 11, 54, 2), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 11, 54, 4)}
2021-02-24 11:54:02,567-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 11:54:02,568-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "RlQxWJ8OhcC25tPpX9v6N4EjqGIMLye7"
2021-02-24 11:54:02,571-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148843, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '7e31307f006e40b6afd98705ebdafc77', 'request_id': 'RlQxWJ8OhcC25tPpX9v6N4EjqGIMLye7', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"RlQxWJ8OhcC25tPpX9v6N4EjqGIMLye7\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241154022076075925783482\\",\\"sign\\":\\"MZVPFHA75m4xmcWTHVrpZPXCZ8IkR1i/cxCww4xsh0iskj0idby2MxI1KOX5eNoYWcLt73T84cdwI6cGQHEamX4smZCfEH59WMsZ3aOcMvwV+nRUbflXRcR3OPY8cL2XOmW6mes8VPC5EMA7VLaD2MKuQrSeoBvLB/dnAByQCGk=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614138844923\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM20210224115404770\\",\\"orders\\":\\"DIRECT_PAY0.012031RlQxWJ8OhcC25tPpX9v6N4EjqGIMLye7\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 11:54:00\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"RlQxWJ8OhcC25tPpX9v6N4EjqGIMLye7","signType":"MD5","successResult":"OK","timeStamp":1614138844924,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 11, 54, 5), 'insert_time': datetime.datetime(2021, 2, 24, 11, 54, 5), 'update_time': datetime.datetime(2021, 2, 24, 11, 54, 5), 'extra_json': None, 'remark': None}
2021-02-24 11:54:02,571-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 12:08:14,335-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 12:08:14,601-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 12:08:14,642-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 12:08:14,643-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 12:08:14,656-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT pay_req_id, amount, partner_order, partner_code, pay_type FROM db_order_6.order_info_1 WHERE ssoid = '2000062087' AND STATUS = 'OK' AND refund=0 AND amount!="0" AND request_time > "2021-01-01 00:00:00"
2021-02-24 12:08:14,686-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '51354812523554130032094637379339', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101061009432830100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101061009582000062087187742', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:14,764-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:14,769-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101061009582000062087187742"
2021-02-24 12:08:14,772-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101061009432830100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:15,988-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:16,001-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '29333731616870502298788642777021', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101061011321030100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101061011542000062087707422', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:16,012-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:16,016-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101061011542000062087707422"
2021-02-24 12:08:16,019-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101061011321030100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:17,113-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:17,127-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '90922588439748316877108724368704', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101061130304850100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101061131022000062087680632', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:17,138-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:17,143-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101061131022000062087680632"
2021-02-24 12:08:17,145-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101061130304850100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:18,192-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:18,205-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '12228206881677161440309420330929', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101111139025330100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101111139132000062087011452', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:18,214-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:18,219-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101111139132000062087011452"
2021-02-24 12:08:18,221-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101111139025330100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:19,286-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:19,299-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '03287429451489066037049707124639', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101111139494150100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101111140022000062087426812', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:19,309-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:19,314-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101111140022000062087426812"
2021-02-24 12:08:19,316-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101111139494150100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:20,431-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:20,443-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '34071289646203972279767953629961', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101111140327470100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101111140432000062087445622', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:20,458-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:20,462-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101111140432000062087445622"
2021-02-24 12:08:20,465-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101111140327470100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:21,459-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:21,472-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '40789475738683040013866466722040', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101121420062990100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101121420132000062087311832', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:21,484-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:21,488-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101121420132000062087311832"
2021-02-24 12:08:21,491-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101121420062990100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:22,549-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:22,563-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '63904417427208046048795030705429', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '798f909f15b643078258669b6340e4fe', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101211105372000062087881762', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:22,575-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:22,579-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101211105372000062087881762"
2021-02-24 12:08:22,582-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '798f909f15b643078258669b6340e4fe', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:23,586-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:23,600-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '99860221560886590597334283849676', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'b03bec2bb2eb49139c350cb4fe5977cf', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101211121412000062087570062', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:23,610-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:23,615-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101211121412000062087570062"
2021-02-24 12:08:23,617-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'b03bec2bb2eb49139c350cb4fe5977cf', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:23,633-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:23,646-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '11129403907386801816111669645523', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '1837f02baa674fb9802d96492098ee65', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101211252432000062087167572', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:23,657-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:23,661-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101211252432000062087167572"
2021-02-24 12:08:23,664-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '1837f02baa674fb9802d96492098ee65', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:24,683-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:24,697-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '90964112945202903313768099829916', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '51e6a1a5f6934a67b854fda67998ac71', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101211409442000062087603352', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:24,709-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:24,714-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101211409442000062087603352"
2021-02-24 12:08:24,717-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '51e6a1a5f6934a67b854fda67998ac71', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:25,698-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:25,711-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '76507890336012986477040156174945', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '7f55803b77654cf49e6e8c53d2193455', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101211421402000062087161542', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:25,721-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:25,726-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101211421402000062087161542"
2021-02-24 12:08:25,728-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '7f55803b77654cf49e6e8c53d2193455', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:26,737-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:26,750-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '86066487066553559508534668670383', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '8678c9a1853f48ba9e9ff5fcebe5bfdf', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101211639292000062087251032', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:26,761-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:26,766-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101211639292000062087251032"
2021-02-24 12:08:26,769-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '8678c9a1853f48ba9e9ff5fcebe5bfdf', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:26,787-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:26,799-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '49265809803565003252941982254664', 'partnerId': '2031', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'NV203110324190732021012911051177867296925607846926', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101291105112000062087056672', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:26,809-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:26,813-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101291105112000062087056672"
2021-02-24 12:08:26,816-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'NV203110324190732021012911051177867296925607846926', 'notifyUrl': 'www.baidu.com', 'partnerCode': '2031', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:26,876-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': "fail to substract user's cocoin", 'dnaChannel': '', 'codeUrl': None, 'code': '2018', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:26,889-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '67810669731105275814902836792685', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101291124282990100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101291125062000062087685402', 'refundAmount': '0.02', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:26,899-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:26,904-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101291125062000062087685402"
2021-02-24 12:08:26,906-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101291124282990100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.02', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:26,921-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:26,934-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '82310710000416256630890891924088', 'partnerId': '72724313', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'HF202101291137594049883453426138', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'RM202101291138022000062087516522', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:26,947-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:26,954-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "RM202101291138022000062087516522"
2021-02-24 12:08:26,957-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'HF202101291137594049883453426138', 'notifyUrl': 'www.baidu.com', 'partnerCode': '72724313', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:27,059-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '', 'dnaChannel': '', 'codeUrl': None, 'code': '5008', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:27,072-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '66417104216332477386704006484792', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101291627051720100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101291628032000062087110542', 'refundAmount': '0.02', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:27,084-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:27,088-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101291628032000062087110542"
2021-02-24 12:08:27,091-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101291627051720100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.02', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:27,108-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:27,121-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '98770681762487754272709008789370', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101291639276990100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101291640102000062087820822', 'refundAmount': '0.02', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:27,132-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:27,136-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101291640102000062087820822"
2021-02-24 12:08:27,139-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101291639276990100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.02', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:27,154-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:27,167-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '65997393300681285502037332163204', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101291942596330100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101291943242000062087421122', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:27,177-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:27,182-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101291943242000062087421122"
2021-02-24 12:08:27,185-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101291942596330100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:42,906-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 12:08:43,180-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 12:08:43,222-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 12:08:43,222-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 12:08:43,237-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT pay_req_id, amount, partner_order, partner_code, pay_type FROM db_order_6.order_info_1 WHERE ssoid = '2000062087' AND STATUS = 'OK' AND refund=0 AND amount!="0" AND request_time > "2021-01-01 00:00:00"
2021-02-24 12:08:43,255-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '25526518457863001411882265388691', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'b03bec2bb2eb49139c350cb4fe5977cf', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101211121412000062087570062', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:43,271-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:43,276-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101211121412000062087570062"
2021-02-24 12:08:43,279-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'b03bec2bb2eb49139c350cb4fe5977cf', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:43,296-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:43,309-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '50579919495889064095159480056786', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '8678c9a1853f48ba9e9ff5fcebe5bfdf', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101211639292000062087251032', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:43,319-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:43,325-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101211639292000062087251032"
2021-02-24 12:08:43,328-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '8678c9a1853f48ba9e9ff5fcebe5bfdf', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:43,342-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:43,358-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '30978978441266478980167694432820', 'partnerId': '2031', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'NV203110324190732021012911051177867296925607846926', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101291105112000062087056672', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:43,370-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:43,375-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101291105112000062087056672"
2021-02-24 12:08:43,378-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'NV203110324190732021012911051177867296925607846926', 'notifyUrl': 'www.baidu.com', 'partnerCode': '2031', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:43,413-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': "fail to substract user's cocoin", 'dnaChannel': '', 'codeUrl': None, 'code': '2018', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:43,426-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '64821271996209048873049198206368', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101291124282990100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101291125062000062087685402', 'refundAmount': '0.02', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:43,436-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:43,441-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101291125062000062087685402"
2021-02-24 12:08:43,444-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101291124282990100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.02', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:43,464-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:43,478-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '08211714983487703237774952278460', 'partnerId': '72724313', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'HF202101291137594049883453426138', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'RM202101291138022000062087516522', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:43,488-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:43,494-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "RM202101291138022000062087516522"
2021-02-24 12:08:43,497-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'HF202101291137594049883453426138', 'notifyUrl': 'www.baidu.com', 'partnerCode': '72724313', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:43,561-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '', 'dnaChannel': '', 'codeUrl': None, 'code': '5008', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:43,577-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '84477311420189045641811621028923', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101291627051720100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101291628032000062087110542', 'refundAmount': '0.02', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:43,587-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:43,592-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101291628032000062087110542"
2021-02-24 12:08:43,595-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101291627051720100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.02', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:43,609-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:43,622-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '59756332816277612452757978089053', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101291639276990100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101291640102000062087820822', 'refundAmount': '0.02', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:43,631-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:43,636-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101291640102000062087820822"
2021-02-24 12:08:43,639-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101291639276990100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.02', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:43,653-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:43,667-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '53807461168041725162378568704658', 'partnerId': '72724324', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '85a00a55f86148a98d3ab89a7c3ae4c1', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'RM202101291952162000062087733312', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:43,677-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:43,681-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "RM202101291952162000062087733312"
2021-02-24 12:08:43,685-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '85a00a55f86148a98d3ab89a7c3ae4c1', 'notifyUrl': 'www.baidu.com', 'partnerCode': '72724324', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:44,181-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '支付失败，请稍后再试', 'dnaChannel': '', 'codeUrl': None, 'code': '1010', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:44,194-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '08642886931967889923668429841009', 'partnerId': '72724313', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'HF202102031619301527759773177261', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'RM202102031619472000062087626472', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:44,205-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:44,213-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "RM202102031619472000062087626472"
2021-02-24 12:08:44,216-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'HF202102031619301527759773177261', 'notifyUrl': 'www.baidu.com', 'partnerCode': '72724313', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:44,272-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '', 'dnaChannel': '', 'codeUrl': None, 'code': '5008', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:44,287-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '40223802648918577121555955311984', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081532548060100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081533282000062087046802', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:44,297-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:44,302-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081533282000062087046802"
2021-02-24 12:08:44,305-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081532548060100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:44,843-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:44,857-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '07629698757177936518579825000102', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081533593240100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081534152000062087651612', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:44,869-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:44,874-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081534152000062087651612"
2021-02-24 12:08:44,876-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081533593240100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:44,894-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:44,907-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '32147323448887084271210840707609', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081535598050100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081536502000062087737302', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'lianlianpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:44,917-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:44,922-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081536502000062087737302"
2021-02-24 12:08:44,925-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081535598050100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:45,747-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:45,760-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '32179462970011948710065901553268', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081537322450100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081539202000062087206612', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'lianlianpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:45,773-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:45,777-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081539202000062087206612"
2021-02-24 12:08:45,780-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081537322450100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:46,626-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:46,639-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '31873629027916000404105491407524', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081540212210100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081540372000062087333222', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:46,650-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:46,655-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081540372000062087333222"
2021-02-24 12:08:46,658-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081540212210100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:46,879-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:46,893-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '46104126544089786576213231799191', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081542428680100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081542532000062087717602', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:46,904-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:46,909-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081542532000062087717602"
2021-02-24 12:08:46,912-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081542428680100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:46,927-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:46,940-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '01597101727299321002933076881557', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081544102400100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081544142000062087081302', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:46,950-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:46,954-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081544142000062087081302"
2021-02-24 12:08:46,957-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081544102400100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:47,894-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:47,907-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '77283756475273011522433632441908', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081545268940100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081545492000062087058632', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'qqwallet', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:47,917-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:47,922-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081545492000062087058632"
2021-02-24 12:08:47,925-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081545268940100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:47,941-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:47,953-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '41524497100656056769179171597224', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081546583480100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081547402000062087813522', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'qqwallet', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:47,964-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:47,969-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081547402000062087813522"
2021-02-24 12:08:47,971-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081546583480100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:50,050-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:50,064-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '67680035919412147687134787081295', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081549005100100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081549172000062087411582', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:50,074-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:50,078-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081549172000062087411582"
2021-02-24 12:08:50,081-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081549005100100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:50,096-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:50,109-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '13318945871733163499387425247860', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081551371170100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081551562000062087672862', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:50,119-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:50,124-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081551562000062087672862"
2021-02-24 12:08:50,127-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081551371170100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:50,186-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:50,199-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '50700139521864792051541944844183', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081555169840100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081555412000062087671502', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay_hb', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:50,209-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:50,214-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081555412000062087671502"
2021-02-24 12:08:50,217-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081555169840100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:50,234-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:50,246-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '24240472536475914016280726261927', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081557397150100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081557422000062087711662', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay_hb', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:50,257-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:50,261-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081557422000062087711662"
2021-02-24 12:08:50,264-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081557397150100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:50,514-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:50,527-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '82596111971868466020686984969542', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081616300810100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081616442000062087227282', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay_hb', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:50,537-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:50,542-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081616442000062087227282"
2021-02-24 12:08:50,545-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081616300810100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:50,560-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:50,577-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '14032622217324346405540205754714', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081618237600100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081618292000062087051822', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay_hb', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:50,587-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:50,591-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081618292000062087051822"
2021-02-24 12:08:50,594-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081618237600100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:50,828-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:50,841-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '85363225053390377422876589302226', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081730174200100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081731012000062087140672', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'lianlianpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:50,852-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:50,857-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081731012000062087140672"
2021-02-24 12:08:50,860-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081730174200100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:51,502-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:51,517-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '88770681450963569175808667907105', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102081735322010100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102081736182000062087076342', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'lianlianpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:51,531-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:51,535-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102081736182000062087076342"
2021-02-24 12:08:51,538-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102081735322010100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:52,146-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:52,159-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '16998747257294592099491492515520', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102231716096630100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102231716392000062087015162', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:52,170-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:52,175-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102231716392000062087015162"
2021-02-24 12:08:52,179-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102231716096630100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:52,418-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:52,431-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '20385836035557217671389546657125', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102231717202080100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102231717242000062087747412', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:52,443-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:52,447-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102231717242000062087747412"
2021-02-24 12:08:52,450-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102231717202080100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:53,331-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:53,343-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '23470707967029947249112192007860', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102231718302740100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102231718342000062087543482', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'qqwallet', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:53,353-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:53,358-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102231718342000062087543482"
2021-02-24 12:08:53,360-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102231718302740100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:53,786-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': 'success', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:53,800-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '30372203213835053295228133461050', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102231736329270100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102231736492000062087080482', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:53,810-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:53,814-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102231736492000062087080482"
2021-02-24 12:08:53,817-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102231736329270100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:53,861-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '', 'dnaChannel': '', 'codeUrl': None, 'code': '0000', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:53,874-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '82301012953389423338879120280834', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102231752188340100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102231752282000062087664132', 'refundAmount': '0.02', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:53,884-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:53,889-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102231752282000062087664132"
2021-02-24 12:08:53,891-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102231752188340100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.02', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:53,905-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:53,918-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '39963564696462867502786843523613', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102231753507490100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102231754042000062087762032', 'refundAmount': '0.02', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:53,928-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:53,932-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102231754042000062087762032"
2021-02-24 12:08:53,935-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102231753507490100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.02', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:53,948-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:53,964-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '48713731952010161065221275432167', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102231755190070100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102231755262000062087824222', 'refundAmount': '0.02', 'refundReason': 'AUTO_TEST', 'payType': 'qqwallet', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:53,974-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:53,979-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102231755262000062087824222"
2021-02-24 12:08:53,981-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102231755190070100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.02', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:53,996-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:08:54,012-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '24638413591330034624443636936605', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202102231756469890100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202102231756592000062087268552', 'refundAmount': '0.02', 'refundReason': 'AUTO_TEST', 'payType': 'dceppay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 12:08:54,022-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 12:08:54,027-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202102231756592000062087268552"
2021-02-24 12:08:54,030-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202102231756469890100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.02', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 12:08:54,044-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'dnaChannel': '', 'codeUrl': None, 'code': '800011', 'mobile': '', 'discountAmount': '', 'queryResultJsonString': None, 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 12:11:21,353-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 12:11:21,629-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 12:11:21,671-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 12:11:21,671-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 12:11:21,679-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 12:11:21,683-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 12:11:21,683-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:11:21,687-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:11:22,103-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 12:11:22,108-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 12:11:22,109-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:11:22,112-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:11:22,113-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 12:11:22,113-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "xblSdFUzo2hu8RjmEsKT4WikX6039wnH"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "0.01"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "0.01"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-24 12:11:22,720-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"6a51f87fe2d54ea497abe43a972d7740\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx2412112524899572be0efe457eaab70000\",\"sign\":\"756CA7488D096243293A28C1ADC76108\",\"timestamp\":\"1614139885\"}"
data {
  payRequestId: "RM202102241211247J7UCXGLKI500112"
  payUrl: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"6a51f87fe2d54ea497abe43a972d7740\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx2412112524899572be0efe457eaab70000\",\"sign\":\"756CA7488D096243293A28C1ADC76108\",\"timestamp\":\"1614139885\"}"
  parameters: "0000"
}

2021-02-24 12:11:22,720-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[0098935157727875600438901368]]></transaction_id>
<nonce_str><![CDATA[myd6fWQ2C8a1czOZ5k3svTxAw4UqBPlV]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[41F9D69AF423FDA4BEE56A889AB7840F]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241211247J7UCXGLKI500112]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224121122]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 12:11:22,892-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 12:11:22,893-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 12:11:22,900-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:11:22,900-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "17993707675767"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "BYtUj7XRbiVNmGWHeQ5CA193zPnlFZr8"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 12:11:23,001-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "3935a3e15fa44fc7bfc3cc3b0d16333a"
s_p: "eVdnMDNkNkpiMGhMUTlOWm90OEV5TFhZOTV3dW9QTHdzbnBoQzlENENwOEgxTGFKTlU3SkZQaE5KQm94b29DRjVUZEQ2THd3dmZ2TjFaSGR1REhpd1l2TEJoZzJmUnZmT0pSQkFjSXlCWWVVMllPM3VBS2U3UFVJU0tJWXBpazB4ZEF3ZnNPRzZiSjBhb21pTjU3elk2aDUyaEZDRG95aGpVTGI5VDh0OTdBQ00zbHlNajVlZWkxVWhHc1ZiMEk0S3U0cEI0Mm9TY1gyaU5nSzNCeTJURGM3d2Q3amVDaXl5T1BRdDVlMVBDTWZiYlZOOWxsUVIzdXFwZGpXQnFrNXdEdENZclJxZk5Qa21DZUpTSHpzNVBBclZyWnpveEtHNG51b3NnVmh5MUwwY2dmVmZKRGtFWE02VGhveEJIVVQxU2k2TTZDR0E4Q2l1amdRZHByVE80TkhkTVF6bmhORTVMcFdqZ3REdzlDajI0YUVVNXdmOHYzMjhnMERJSjdUdzFSQjNqV1FUM29DeHdJdFJTNzB5c1liVjdTeU0xeXFpc1M5NnR6SUpwajZWeG16cHBha3B4SnZITlhTM2FCQkVOQXBZOHRnSWl2UU9CRWFuc2dGcnFhWlJjR21SMmxjYzI2MFQzSW9wNUp2S29xV1M3d0NWUzE3dXNKeUNFbGJud0JYa1lNOW83ZWdhcndyYVFJVndSeTJkQXFuQlRmb2dVMEdWQlc1TlU1UUEzOWUwRk5ZdUkxNnEzbHdDYmt1UWFvWHNoS1h0SkxRY2U1Q0xJVVFyZTdPR1lVS0o0UHhUblpOOVZ3anNWbVVJRzVyOFE1MXlVUDJvMzdxaUdrMldyMUZqdlVpcHV1RFFXeGF5bFphcWxwVjVHZXpaTzd6MFNnQ1c3aHljeWtiRENkam1ZekRYdVRGb2VOa1A5WURzZmVyVWludHMxZm9aRTAxdE1GSHFYdmMzQXFLSTVCcXpKNDEzWE1kNFpzTHlSM1laTEFPcFFQU0hxWm13QzlKa3BkeFBTRDRXSWVjTWtYdGZVTGp6SXdQN1l4S1BTZUg="
m_p: "j47l3RL8pS6VK555A1Mq62VJ9Dr98U950B2e1Csp5If3E8h2QX0uQ2iL3J57Eppn"
e_t: "1614247885538"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 12:11:23,003-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:11:23,003-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "3935a3e15fa44fc7bfc3cc3b0d16333a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "OG6bJ0ao"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241211247J7UCXGLKI500112"
version: "260"
queryType: "no_login"

2021-02-24 12:11:23,068-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 12:11:23,069-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "xblSdFUzo2hu8RjmEsKT4WikX6039wnH"
2021-02-24 12:11:23,072-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148844, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '72724313', 'notify_id': '4948a3a3be4443e2b47418caac91b9e1', 'request_id': 'xblSdFUzo2hu8RjmEsKT4WikX6039wnH', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"72724313","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"xblSdFUzo2hu8RjmEsKT4WikX6039wnH\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241211247J7UCXGLKI500112\\",\\"sign\\":\\"Uf9Zh2USoHdfQbc+WtQgnrFeTjArBLPu04K2dS7psaRQPYbh0TpEs1wE/brG7qOgrRX09xdc16JwTSjOF6DY5g8uIzSr/Ci9VAqXlvTGtrZx+L+uhOQFv7ikB0fjLjNfw7xvzzw3owiYW30nlHUUVK6OGBNXk0QKOabDKzxpqso=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"NO_LOGIN_PAY\\",\\"sendTime\\":\\"1614139885455\\",\\"productDesc\\":\\"话费充值\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM20210224121125866\\",\\"orders\\":\\"NO_LOGIN_PAY0.0172724313xblSdFUzo2hu8RjmEsKT4WikX6039wnH\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"72724313\\",\\"paySuccessTime\\":\\"2021-02-24 12:11:22\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"xblSdFUzo2hu8RjmEsKT4WikX6039wnH","signType":"MD5","successResult":"OK","timeStamp":1614139885455,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 12, 11, 26), 'insert_time': datetime.datetime(2021, 2, 24, 12, 11, 25), 'update_time': datetime.datetime(2021, 2, 24, 12, 11, 26), 'extra_json': None, 'remark': None}
2021-02-24 12:11:23,072-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 12:13:13,003-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 12:13:13,245-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 12:13:13,291-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 12:13:13,291-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 12:13:13,304-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 12:13:13,307-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 12:13:13,308-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:13:13,311-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:13:13,731-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 12:13:13,734-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 12:13:13,735-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:13:13,738-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:13:13,744-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 12:13:13,755-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:13:13,755-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "77622156198713"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "3HNoEwR0jfUWtku1nsTeMzIqhvCdAXQL"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 12:13:13,828-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "02a3a0254f6545e993ef45ed9e5dc4a2"
s_p: "VGU1RFdNN3BpWjg4cG4xVmhDV2o1dHBtZ1hRckt2elRzWGkxS0dBdHZNYlRLb1VJTmZwRHdnV3RPUHd0cVRwSkRnbzJBSDIyY1FRcUs4VWVkanAyb0VGNTJsRmpTNWxoV2hmbXJJNThGQWhOTGRJVFRlZUxWSW9RZmZqVlQ1cXB5Uk14OVF5bGZBd1Q1YWJrUHJpb0pwd0xURDhZSXNBMWVrRDRpSFlzVWt0Z1IyNEtyOEQ4VUdsWTh2MDc0ZG1oV01WQW5NYWIxRFkxUDlTSWVLTGNHSkt2SnN6d3RoOHZLdTBYRkVWZ2N2ajNDaW9IUjlTUEltdGViT0pnWjQ3U2Zvd09HTjlhaGNHcFZIZEJvWHc2cHZEUm9odW94amxLdkV6dzNzS1VwWW5PMlJPdEpXdUpORFVkd09lbGVYM1NzOElZU2lsaTFHeXNrRUtYaFVlbHN1VWk5WENNQXFTN0pQRHpVSm5Gak40Szk0bFJYWURUNEFrVTRLWFlMWjVvM3hwMlNvbk5uOFJ0QzF3TWZEOEF4NDdUOEVYcnl0N3pXbWhIRTBmaFFwMDJPYzl5eEI3VHRGc1p4N2o0c1RaWDJoaGxRRjRqZTVMUVJNdk9IRVQ1UG8wanRKZk1qSktTV01ndFJjT0dDOWhQeDRlbjBTM0dMS3puZmJhbXNSYm5pd0xtQWVqandyVW1IY3IyVlhQVjhKblhvanM1NmlybnhSZ3JFanUweUZuODBNZklFMnB6QjB2OUNYS2piQ0lXN0JubzNnSEZwVTFlUWpGNWpGM1ZVZTJ2REtVNUYzMU40RWdFeG13UFUxMnBpVEI0TzFmcUNoRHVGQ3NvZjdhMTdPZENoZjRDOXRpSHZBcmhFb2xlS0pjQTd0a0xtdUNnbGlmamtDd1RBUm5WUFFOZ2NhRGdlbnViSUZrbk9VcEljRlB5bzBIV0FhekN1WHJmU0NRQllQSkxTZDhrQ2ZpT1l2MU5sMlV0ekR3VGRyMmlUckQwOTU0NnpadVhmYlRSWThncjNRNThJNFNIOThyUVZpZU9DcDdHZzVlQ3h1UFg="
m_p: "dB302K0B67M46O8111SP7s6aS0MTX4D9O6YViNzOLI5X2hrymLZ7ydjn1z46lBx7"
e_t: "1614247996402"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 12:13:13,831-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:13:13,831-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "1.0"
  t_p: "02a3a0254f6545e993ef45ed9e5dc4a2"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "5tpmgXQr"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
transType: "SIGN"
renewProductCode: "20310001"
signPartnerOrder: "n4FkBc5L9S3CitWRIHJhQ0NgMr71uozx"
type: "wxpay"
amount: "0.0"
oriAmount: "0.0"
ip: "58.252.5.75"
sign: "Y8DttMtoucwabi4VA0Q9q43Uj27meevpNpUPCAl4Mf2ygbNwNjhPLasIdqR/qy0lB8hhQK/ZLLc0+fzuxaukn2tX6OyRWqinC+hQA+SMwH2ZIpt8yjgjNGPFy1Xn/L9i9/L1Mj/9q2CGzbaQTCJyKRPKcaYHNIhdUHjSeREkEms7aWqi2O0Vi8C7U9fdy9ztZ3qfY3DhxzBobH6w4ZunZX5iWiepfL9OuTgw1iVw6SaE3a4ZyVIuZDNoG3M5HIyatIU+Yabm2VdnoWvskhHXkHtTjPWBbncOLHoCCWRWCyRvFj0kIeTCzHFQAFLdJiVQnKauW1QcRVlG7ThZ2Q6tVMKTBB95WmQVRJqeY1DshIaKPKU+J3PHrymsmsdCW3vl56a+PClXUnznxyz8IiPGEvkXTFPu5kj/yaomKwakpKFbajgJrNoHRhfPzW9x3VKXY872UGXikwBEHn6BMqV2cJI6gN4gnm4Wg+JJWYfPYt6UWOjxJaZrixIOKHOncywo"
signAgreementNotifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
appId: ""
isNeedExpend: "0"
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "ONLY_SIGN"
  productDesc: "ONLY_SIGN"
  partnercode: "2031"
  appversion: "260"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "n4FkBc5L9S3CitWRIHJhQ0NgMr71uozx"
}
screenInfo: "FULL"

2021-02-24 12:13:14,139-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "12d87a39ae1fc86e56eb12f56fe7dfe1eefecfdd0e3961e7a1304d951b85612f1614139996WVVBy94vW4gT2NB0txSfKiQMf4Athp0z"
}
payrequestid: "SN202102241213167786025371274548"
transType: "SIGN"
signType: "APP"

2021-02-24 12:13:14,140-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT contract_code from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241213167786025371274548"
2021-02-24 12:13:14,143-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1358229348179846733443827938]]></transaction_id>
<nonce_str><![CDATA[C62u1ora4wcIVklFedKbM5YNnJUETvPz]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[A2716F47B184633DB1D976525F5CB578]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee></total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224121314]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 12:13:15,520-INFO-wxpay-scarlet-55-<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" isELIgnored="false"%>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
	<h2>404! 您试图访问的页面未找到.</h2>
</body>
</html>

2021-02-24 12:13:25,962-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 12:13:26,238-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 12:13:26,280-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 12:13:26,280-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 12:13:26,288-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 12:13:26,292-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 12:13:26,293-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:13:26,295-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:13:26,648-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 12:13:26,651-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 12:13:26,652-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:13:26,655-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:13:26,658-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 12:13:26,668-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:13:26,668-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "22736630137341"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "HOmETSIeKLhaQjgRl7zunCGkB9JPwMFD"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 12:13:26,730-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8ee968766176441bb4637a408fc85580"
s_p: "NnZ4MjR3ZDNQTlN1QWZjYnJBdU9vaU96eEhlMVR4UGw2TXppRkptOHA5VVZVZ2R0cWVsczZPWFBNNHduRHlicmtSZ0tmT2dBUTFMdm1wbTU4NHJ0b0JNMUFFSmdlRFF1QnVUb0ozc2lGYW1id2d0bDcwTE1FRWdXd3NpTE9LZloxWWk2Q002NVpmNm9RR09XMXFmOWM3WkMzOWhaQXRBSEthRUtTMXNuYzB5Tkp0OTZlQWFLZlNlQkNzYkdwTWhHRk1yY0JzQUh5RWRnZ2RrWWdqRmlPT3c5bFY2QmtoSld2TDBSVFMyOHNvbGtqSEoweXNybjNKOUJFNzNhd1ZsTWpJa1I5Um9IVGEzdFVaV29IalhoZ1hwZGtuVnp5eWplVGl4SW9jU3pMRDE3RUx6dnJsazJndG1TYlJxd0VjZlozWkVNRTVnc05zVWRXdDd2MkdMNlZMUzdHY3dzY2NIa0V3UGRKQTh6WXg2MGdPWExhYjlUeGhPaE1EZzVGMEVROVM0QmV4UVE4SmNVaUxGSHBSSHJ2SWhPVmdFQUVVTUxxVm04aks0UGZENU1nNWNtbHRQdFd5UDNncTZlWmJDbVZvY3A4S3VDU3RvaTNBcTdaenNUSUpTdFdHNXNtQkFaVllIMGlJb1Rhd014Z0Vxd1dTMEIzdHEzeDI1RFMwWlVuYlNyZTBybGRub2h4Ykc2WVRhRE9mYVVOOVhUOW5QWkNJTU5jNGRLVUV4eG95aGloMnNEbEx1UG40dlhiT3VoS0FDNGV5N2wzSzRBd0FublpPMVVTdGZzS0NzMzFwYTZkdkQ2MzBKclkyODJGaVdpc0VSQ0ZJajZzM0V4OHp6Y3VhbzFBVFVXRlhZOUYwNlpjTlpsQWtEYmw5RVhpcTdLOFVnakQzMk5ZRnhFc2d0ZlNOUGRscHh0VzB6dXpPNlBqZEdJNnIzYkZxdmI4U3owb1VXNGs0YjJhVnE4RThTM2xlRXE4blpUd00zT0JOc201dlBuM3BoeFlhczFmVUpJSUdINnJmSnM3cTNaTG5tM01TVmVlQ2ZGbUo4QlI2TjA="
m_p: "hH1WUP7f594wa1jjM9h4W8HMU956Px6is0x6E1u3Ke8Eoy4fq5J9t9nc144DzrqO"
e_t: "1614248009314"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 12:13:26,733-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:13:26,733-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "1.0"
  t_p: "8ee968766176441bb4637a408fc85580"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "gWwsiLOK"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
transType: "SIGN"
renewProductCode: "20310001"
signPartnerOrder: "K7ltkRwWBgDNonM9ch18FXj2yUaIVmeA"
type: "wxpay"
amount: "0.0"
oriAmount: "0.0"
ip: "58.252.5.75"
sign: "21kdlkr2CyEJEPvfdNC32S1TKs155Q31tvMGFDocMmyd/vKW8+YRr9O5mmBu7k9tOJMGICPwkNXr9I9FaB0n+KjX5BeFPFafLfygXerdM3J7rQ89hWfNO/t+RWDstxvzBQjuE6z4mB4x/Qk6QYloHDnqhODrg3saNM7ldXm3iSq7juKabR0BsBnUdNQ6skoJZ5OTMta/yxU0n02OQ6UuIYew2VZtt3r5s9eTer9MFfloWd0DPc+DI63g991xEIBVsfijTlEyQowSeBLH/QToqA2amJnkbCIIeEuXIZcAlh3NMaXybMjP9dsUiyCvFGVTfs6VdoIeBML3GTZpxl+zYslHV1OHRBrPt9s5ujXbKv8H/Adva61nq6AwVatIyjWFgKPVFmY/v5atdjJLxxHv4WCK82UnBAf4CMHwKNGMBnFiiSJj63AkdgZ0bZUyXTsGpmzHxjwKMmufpjhrbOaJfW8jfRNsJOLpsT+VzkZbEPRUK+hzdsWnnQ05Xk/I1/r+"
signAgreementNotifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
appId: ""
isNeedExpend: "0"
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "ONLY_SIGN"
  productDesc: "ONLY_SIGN"
  partnercode: "2031"
  appversion: "260"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "K7ltkRwWBgDNonM9ch18FXj2yUaIVmeA"
}
screenInfo: "FULL"

2021-02-24 12:13:27,029-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "48217dd5f42de56f1f0817f0a0bd19e5e0b1c31ff0af3eccb1d0e08f98fbffc61614140009VLHTJhVwBbQZ5Boel5Xs1vMqQHxDU0N8"
}
payrequestid: "SN202102241213290650043417732723"
transType: "SIGN"
signType: "APP"

2021-02-24 12:13:27,029-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT contract_code from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241213290650043417732723"
2021-02-24 12:13:27,033-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[3662483476832705510295877332]]></transaction_id>
<nonce_str><![CDATA[QJg7WI9FU4THv1Lrwal63bfkMnRBNSpd]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[E4E236C7C98B4F045912988DB28EC5AD]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee></total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224121327]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 12:13:27,119-INFO-wxpay-scarlet-55-<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" isELIgnored="false"%>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
	<h2>404! 您试图访问的页面未找到.</h2>
</body>
</html>

2021-02-24 12:14:03,626-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 12:14:03,899-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 12:14:03,940-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 12:14:03,941-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 12:14:03,945-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 12:14:15,923-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 12:14:16,211-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 12:14:16,252-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 12:14:16,252-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 12:14:16,263-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 12:14:16,266-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 12:14:16,267-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:14:16,269-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:14:16,623-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 12:14:16,626-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 12:14:16,626-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:14:16,630-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:14:16,633-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 12:14:16,645-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:14:16,645-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "78453263777072"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "GTCPL3eFb2i09UxBwjZuINAmdrhkKl6O"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 12:14:16,703-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b09ea386af04465f9155652efdc15879"
s_p: "RGNKbFlXRWx3ekVia3pTZWwwUjlVT1pMaDJuMzFnUTVkSHpwdFczTzJQNnR5elU0Q3J6QjV6QncxdW1vVEo1U1BUQkc2OUxtcTlpaDVzd280RjhkalRQelFkbVNhOXVTdzJWdDlBVld2ZklCWDhsZ1dIVFdCb05tV1dHWHFLc0pWVnNQdkU1S1Nvb1k0SHVJc25pWXB1cXJ6WjVaTG9xbnZ6TDNjbHJqdnhlWUo2aXlSZzZJR3dRbG1QbFA2NEhJdVltemJqRndWMkJkd043dTQ3Y1J3djVBS3NjbWZuMXdmNWtSSnVDTmdvZXFUTTVHakU2b3Rpd1RENUh0VVRVUURHQzJuS0F2MHBFbm1ZeTVPTTNNMWlCdUR6RFlqMjZrSldHczYxRjBKQmI2cGF5Vmc5YzZkbnJHVDhEWThIcTV3bW5TbTd3WXBXT3RFUWUzam5UcnJKbzVCMWpiTzV6elhNTU1peGpaSktlYWRXMXZTYmw4SUlRSE84V0U3UjJSNUtaM0VEWUwzWlFDMXBLTXdFdDgyeU1xWk5udGxPdDdxSEhYV1hCb2VXV3JxQ0htRDNMSVZhQWlXdGNSb2xGeG5HMXhzS3RvbFFTaEd4QThHVUFEa1FFaEFGb2pTQWpXWkoyOGhMTE4zYUFwTldkVDVMRDdKNm1KWXdvMlBMaEFJYmxyams4SkpZRzhraXRGc1pwZnUzc3kxWTN0dnFCOERlSUxvcmdxRkFoeG5CemdwbmJSaHFoTUVydDczbjNRcXh0djRrQ0FRQWVBQ1hTRXFJNWs0UGEzTVNOcE5XdmVSM1hhVFl6WnRkM0t4NzJCQ2k1azVJeUJ1Q3lZQlZNR3UyNXYyZ1hKenlwZ0lPelJ4bE9VMnlGSjBBOFYwZjRNOWxzN0JPeUUzUWNmYVlKU0k4UHRLTHY3NzJNbnQ0dTVYczJmbHc1ZFRjNTM0SFA5aXBQSVRSd0tjV05iU0VvZndmWVdKMXJFT2NUbTRiMUZvcnhWVmRPZ0hUN1ZJeW1oWm1qQUt2ZEs4RWhidHBud0pUMThsbUZlbG9qU25QMTU="
m_p: "2e8nOg58Vs853L02c08SvbpmY7HuE5vXI0D600D0u1G7Z495P33Ukk7lZAc6t8KB"
e_t: "1614248059290"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 12:14:16,706-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:14:16,706-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "1.0"
  t_p: "b09ea386af04465f9155652efdc15879"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "4F8djTPz"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
transType: "SIGN"
renewProductCode: "20310001"
signPartnerOrder: "9XqJSEjiCvhxgmnbtslpYHfeV0WRyMu4"
type: "wxpay"
amount: "0.0"
oriAmount: "0.0"
ip: "58.252.5.75"
sign: "A5EBezgdNOYwD5LQ5fNbl5bGBVdwjlhKpmjljEvIqB1+rlNz7aQsjNP8Y+Xs4aTOgqXM0OUuNCeDOgtIghQWjisUQNWL2st418Hr5cyExlW+YryYfT7fWai1jUISaXMAWrwV9mkF1Wv9B+smQRMC3Fm27g7RnvlmE9vekNEYVYV5R9vt8Y+TABjBBvMtwd9lhuuOBtX+oXZVEaC6BfdV02SKXQJX9n75BOp/dQEo4gk7QKGye4nQ0Sdzp7JSONlmyv7ltjlaa33XF54K84hiVFxDr4kn8pxbbpHt7oJgjB4gGlYpLjJX9DWZiKaQINbrHfEjb2GOc6JcUjABi2YEGAfs2U/rtfZ+rVCuAuR2s/DNJB4o4pU/y3ciZXbaMLlO0CaD6/rdZyGohpF/eDM0QnEItjpAE1TgF6kR9WPlLpdcdvL0c6Z83Vi7jg1RdA45AEgHXbkZaDqvESBesydCH1u7ILvVcXdUZkIhPLv+O+hdYw2cJbZKCMgx+WtFrlJg"
signAgreementNotifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
appId: ""
isNeedExpend: "0"
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "ONLY_SIGN"
  productDesc: "ONLY_SIGN"
  partnercode: "2031"
  appversion: "260"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "9XqJSEjiCvhxgmnbtslpYHfeV0WRyMu4"
}
screenInfo: "FULL"

2021-02-24 12:14:16,979-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "b59f4ebaac38a812943d585a74fdc66987d20f01f1dd9ba7c49a3f044ffa7d8416141400595lZIg8kJNQNZ4LaKzKkNmiFSuGYwGJNO"
}
payrequestid: "SN202102241214192448437165650123"
transType: "SIGN"
signType: "APP"

2021-02-24 12:14:16,980-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT contract_code from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241214192448437165650123"
2021-02-24 12:14:16,984-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[3873823064560098230594925496]]></transaction_id>
<nonce_str><![CDATA[g4Bq6RZicaGL0KEsxWNejpQvTzC7JFYP]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[34A5B9A3D29ED98469DB1B6EE3A2E1A5]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee></total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224121416]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 12:14:17,092-INFO-wxpay-scarlet-55-<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" isELIgnored="false"%>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
	<h2>404! 您试图访问的页面未找到.</h2>
</body>
</html>

2021-02-24 12:14:29,137-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 12:14:29,412-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 12:14:29,454-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 12:14:29,454-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 12:14:29,462-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 12:14:29,465-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 12:14:29,466-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:14:29,469-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:14:29,810-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 12:14:29,813-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 12:14:29,814-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:14:29,817-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:14:29,820-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 12:14:29,830-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:14:29,830-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "64246310922338"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Ce02uUH1Wya3j5zwTfZmktiRcvKQEoOJ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 12:14:29,890-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c63e5acebdb74e66a611ed3d724ce34d"
s_p: "R3JpcnA5MktHdmtaVWswZUNxbmlNSm5NTzczQXNLM0RRQWRVWUJ2YnM4bDZYVHBHQXZHbG1uWjU1YTdUQkk3aTRwd2pTNTRUZ2dlSWhzb2hhWUE3RWZSQ1FVZHJEWDZLUFM0dTRBRUREeVVEM2NUTmFTNlNMVlB5VlpIbG81ZGdmYXZ6QkhzVzhJU251eUZGSTNRbkJUa05BYjE4elN0YVNrMG5FTXNrZE8yUHFpQ0w4RUxFZUl3S3dZOUhQUFAzVjZiTnRraVJ5ZzQ4TWRCbEdMUlFEcnFBU01sZWM5Z21KckMzOHRaTk5yc3dnTll6enNocnROSnVHZ2RPR2RCbG8yTDFpT0VoMXo4Yk5uTWRYeEVmZ2pFeW9RcDJpSXlzYUFGYldxRVJub0toZ0dTWGNTQTdueGVYVExsZTVxc0NQaktVS1RwQWxqd1JoRXRSWkN6ZHI4TzNmWnp4VXFmWndOdmpLVndRdElVMkN3cWVPQzFhS1g3bWNVclFUNTRmNm9pY0ZPUjN1ckVZaWxrV2RXRUE0V2VJdE43d1NsMU9CUjlYNGVOUzU3ejc2T2VWd0xXQWdpcWFGT1lHdVpEYzN3empJbG93WHVVakFyWmt2NDlKcGNHZTJubFRXM0l0VEhjV0JUSHJwMExmSFdxTFFHalJOVTdCRXVXTVVheU92RkRmM1FoU3NhNXVZMTExZnZ5cGpwZXRReDJsT2pDbjNXcU54SXRqbVdJOGJKeDVpSE53Um9ZY09ySnI5OEpTWVF2UUFOWW5Ha0czcUk0Tmxmck5WUEJGakxYbHVYQUxwS2lIdUx6S0VPaWlhNFpmVWxLQnJSY1NRdnRWdG1RNHNtazU0a3R4bVhXSjZBcXF4clhxeG5zYVNKTDA1NXVBN1E1cDV2bERTUGJEazJBa3pMMnRSRUlZY1JxMnIyWmxwTlVRUmlTU3pFUjV1Y0NiNkJwNERZa1hSWGFPRGlkRjM1R3pBRE5tMm5HVlJNaG5Ta2haOTlsTVdxVDZTYkVZN09ERkRueHNwY29jcVpsb0NOVzVuWHYxS01oU2F4bmE="
m_p: "YdQTka7W7MFS4bFCFfex9tSKuhNvEs8eX0k27y3A3OM9d8tkjWw1CYvDPQ3JoMqM"
e_t: "1614248072474"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 12:14:29,893-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:14:29,893-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "1.0"
  t_p: "c63e5acebdb74e66a611ed3d724ce34d"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "drDX6KPS"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
transType: "SIGN"
renewProductCode: "20310001"
signPartnerOrder: "LKJd7BzfAUrZe59Xojx8FcqMIsby0lRN"
type: "wxpay"
amount: "0.0"
oriAmount: "0.0"
ip: "58.252.5.75"
sign: "vVA9tcaweKT7lZwhWjgG8cZ3m953d1GK23sQZnyy6Nfcx9FAki+tnWAjYe6MjGYpCGN9i7gPbQBKYO3nmvhYGvFkUI1WTXwuPEXIgh8gDGpG73x0fJj4lscMJgKC4dniXhI988AnpPMmgDdWhqjO7Bt4dliUmzannSEcfcaDyzvX4LlB6ZFcxnb0xuUDDUur0nPMiDcx9rr6vzFukaTWZpaKgHYKF+kZenfiSX7XGSrRcN0h34NdXxdNi2k1m5goFrEsEgY2+QPnuTZpFm5ZFfYlwG4Ld52tO6e8g++E7KAPatbRxNxN0oGgkhEriNnkLUYgdLi8MutERSggqEYkX8XrbGqMY/5ZUPY3N1jzPyKod8lfAsClfpdGXnLLR/CWi1u0IoBmCAQb287gUQ+XHywKKd5y+SuM/xqgGJO8JFHpgU2zxwo33VEm8MZhXYBiTIQQrt1QdgVVWOQNPnwNCAD6mmrhHfapZFK5jv3Q8VZhJ25keWcksII6rA/Nq1qF"
signAgreementNotifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
appId: ""
isNeedExpend: "0"
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "ONLY_SIGN"
  productDesc: "ONLY_SIGN"
  partnercode: "2031"
  appversion: "260"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "LKJd7BzfAUrZe59Xojx8FcqMIsby0lRN"
}
screenInfo: "FULL"

2021-02-24 12:14:30,189-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "fb8e77aabff4ff3b7185467a59f9f703480362c5d7af2e1c02c1be727927a44a1614140072HGpw9TzKhD8ekCQPcm8x6XI0NjI6Jv57"
}
payrequestid: "SN202102241214322817120024621337"
transType: "SIGN"
signType: "APP"

2021-02-24 12:14:30,190-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT contract_code from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241214322817120024621337"
2021-02-24 12:14:30,193-INFO-wxpay-scarlet-96-回调参数：<xml><change_type>ADD</change_type>
<contract_code>SN202102241214326075034023321378</contract_code>
<contract_expired_time>2022-02-24 12:14:30</contract_expired_time>
<contract_id>5889420373</contract_id>
<mch_id>1259634601</mch_id>
<openid>oCg6Xt8NvRi7jGuap_5B6XdY4oYk</openid>
<operate_time>2021-02-24 12:14:30</operate_time>
<plan_id>120877</plan_id>
<request_serial>167798705304498579</request_serial>
<result_code>SUCCESS</result_code>
<return_code>SUCCESS</return_code>
<return_msg>OK</return_msg>
<sign>51BBB6B24B86EC4D9265BE127CFF1FF4</sign>
</xml>
2021-02-24 12:14:30,316-INFO-wxpay-scarlet-100-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 12:14:30,316-INFO-wxpay-scarlet-102-回调解析成功
2021-02-24 12:14:30,324-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:14:30,324-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "44085809443596"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "W6cAJ58aYHx9fQoTd2CsPmliBguXOw0I"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 12:14:30,426-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "6c1fafb0c2334259b0d8ebe4043a0d7c"
s_p: "WHZrUHFxY2JyVEE2OFFlR0V4RHM2eUhYOUhVNHdPWVhURXFMTHVac011OXRSOVRGTnpkOUp5S1FYYkNkRG5JaHp1T0xpTGxOU2M3RDNZRVUxUjhDTzRCUWJ0dUZGTklUaFJZYlZMUFRtUVhOa0JXVTJDeUUzYnJwWlFZUmw1ZUhRY2w5eElod2pvQTcyRFZMdlNRanpLTDJjSzdZeHBzWllEaHpWbnNkQktjdUVERXJLOTAza3NHUkdSQmlGc0xweGVMMDQxaXZJRzRSQmJaSEFqSGhjbnpZWVd6MjNiVTVhVHJZMlpVNW1mWGs2eUJxTlVwR1Y0Ym1FTkZwNUdrMHRMd1NwcWdOdzh2TGZMb28zdGtBUnFudHlTU3FOZWlTZjg2dDdpQkM1WVhuZVZYSVhvZVZDVzRnSDZxT3NHQ3oxUXJJWVBvb2o3YkNGdVV0RU9iWDdDQjN0ZFFBNFJPSjNvcnBNcWF0dHAxOTZvVmZVMVhkWHNRTTFmTFRTbFhHSDZhbEV1MWJGY0JaWDNCRnJUT28wc25iZlcxbnprWXBIdUdPazZCY3ZkaVhWTWRQcVBzZ2l1dDlSUG5SRk15MjB0SlFERDFGZTBDNXVuOFc1Rnoxbjk2YzFuT0tCTUhmckJQMUlUc3lHN3FzRnlmUVZkSkJ2NE9YYjMyZ1A4S2VrdWdKQm45YmVMRTBEQTFqd0p1OUtOTDRuNVZVRlFWeFpYdFBCbXZzbm1VeDRtREdpWTRvRDdlSlJzMnl0cEtCd3c4cFNFRWRRc3Q5VWR6bE9halNaQUpOTGxXQTNNczJXTDBvWGF5WlVyUHIyT2o0UEY2ZFl0cUlMVVoySEtEQWV3ZGZoRGlhYVlQYnBQS3ZqcVh4QUZVR3hGandFeVJYa3ljVlBGcnk1VFQxWU1sQ0NibEJwWkUxRk9TNUhHbmJZS3JyTWZFYndRREVoQXBiNXUzRWJXSmYyRHBkclFTWE5GRDk4a3Z2TUFCdEF1eVpPdTNpS2s0VUN4bXJVM2pDMlpGbUI0cGNwUm1zTWpQc3VsUVpUZFdXZjVZNkFkVkc="
m_p: "0h6h7607hkT4k7sQv7NZ1D56eCSCBGaS04810UW270UUk6mP972PFgWvwd5q1ZD4"
e_t: "1614248072963"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 12:14:30,428-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:14:30,428-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "6c1fafb0c2334259b0d8ebe4043a0d7c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "OLiLlNSc"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "SN202102241214322817120024621337"
version: "260"
queryType: "SIGN"

2021-02-24 12:14:30,481-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "succ"
}

2021-02-24 12:14:30,482-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from  `db_order_0`.`autorenew_sign_info` where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 12:14:30,485-INFO-lib.common_biz.fiz_assert-139-签约信息表记录正确
2021-02-24 12:14:30,486-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241214322817120024621337"
2021-02-24 12:14:30,488-INFO-lib.common_biz.fiz_assert-154-签约记录表记录正确
2021-02-24 12:14:30,489-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "LKJd7BzfAUrZe59Xojx8FcqMIsby0lRN"
2021-02-24 12:14:30,492-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148845, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': 'da81eb3a7333431f83d006154b7d1993', 'request_id': 'LKJd7BzfAUrZe59Xojx8FcqMIsby0lRN', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"ssoid\\":\\"2076075925\\",\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"LKJd7BzfAUrZe59Xojx8FcqMIsby0lRN\\",\\"notifyType\\":\\"SIGN\\",\\"payType\\":\\"wxpay\\",\\"agreementNo\\":\\"5889420373\\",\\"sign\\":\\"CkbfQGbsMhF6/jafe3S+EL9Pz5DYb4XdGHEvsr+OkhN5mtVRNoMMwTPUdvIf8SFtYToDhqr6XQSEbP5mN3IxoPIzAeJpB63nPHuXRmWsZ8PAc7suEw19EsNUngCJhDLdqMWHeVXWXGCOwiCGKA721PqWCBFM/Hf3enZ7CXu4kG4=\\",\\"notifyId\\":\\"IM2021022412143274\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"renewProductCode\\":\\"20310001\\",\\"status\\":\\"OK\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"LKJd7BzfAUrZe59Xojx8FcqMIsby0lRN","signType":"MD5","successResult":"OK","timeStamp":1614140072885,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 12, 14, 33), 'insert_time': datetime.datetime(2021, 2, 24, 12, 14, 33), 'update_time': datetime.datetime(2021, 2, 24, 12, 14, 33), 'extra_json': None, 'remark': None}
2021-02-24 12:14:30,492-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 12:15:16,878-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 12:15:17,164-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 12:15:17,219-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 12:15:17,220-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 12:15:17,230-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 12:15:17,233-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 12:15:17,233-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:15:17,236-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:15:17,580-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 12:15:17,583-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 12:15:17,584-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:15:17,587-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:15:17,592-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 12:15:17,603-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:15:17,604-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "90572611763953"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "n94F8qTjaP2bNJBzOScZsW5xmICVuLpi"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 12:15:17,670-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "65659e037a9b46418f9c0ff66f2afb83"
s_p: "c1NpU09wT09Tek1tOUNRVDZJSGl1RlJZb3ZMb0lyUkpSYVUxZHE2MFhJWGdodUtZQlh1dDZRTkx4cWdMOGJRVkd6WHdjdlF6MnlxMmV4bUlLNThYY0JYM09CcFA4aUtGMTNIRGdsVWpYNWVvMm51YTRZU0hldkxjNjRCYnk5SlRrU1BrT0Fta3J4U2NsRk9Hdm01VHFtQnBVUjYwWGpURTVtUFN3amNIODh4MXRkTEE1NzJUME8xS2FFaVdXVlJqMWI1aURrb1RDd0hGcjQ5UzFWSm81QW5aYTk3Rk1zZHMyMk1GckVOZVhyZHhmQXpYQ3RGendiQ0RzaXEwS3ZmRDhwaVVIU3NNTm53MGlBeWFrTEZndU95OW04VFNLaHhWWWRXSW9sSkR6M0xFZUpzeElvVmlUbURiMmxJRmsyZlZhbTRjZm9Kd2cwVHRLSTNlRjJRSU1FUk5lMFN3bjMzSXVYaDFGc1JNeXFzTUZPUzhhZ2NZbVUwOEpwYTgzWWxuREc0SG9jbEZ0c0xvcmNocUxVWHRYZEVHZmZRZm9lUXoxU0ZyQ3ZXUjc0cmxwQmk0ZXFRSlF5WThrMDBKNjFpYzZFcFNNc1NINnhsS01HaGk1cTA0T0dxWXhOcXY2aUZ6RHc1eVhpR2dqNTJ3bjI0WHJrRElBaGtxcWJ6WWZBTXl5eVVoRWFqbVF6R1YweDMzczQzeGd0aWRmaUUyTXlXM055cjB1WGtoTDFnOXV1MTRjMjJ4OGZ3Tzl0VGFaZlhNTzhiUzU2N2xKbjlMRzdJcDQ4bGRXalpuMlA0dHR3YTJLdmRHVzlqenU3eVlJVFNCVU9YcXI1bDJrYTViUFNqMHZrZnN3cHFNckhFMG44dklteUdNN0hZY1VvVjZSbW5VSnRPdTl4ZThRelY0NmxsRVo2RW51eEE1NkpwbjBoU1A1ajl4dTJQRGJ2a0h2Z0JlRjlQREJBVFY2QkRiRHk3alJwT21vQzV5M3BjckxaUktJS1VFUmk3Wmh2OVFpNkxzMURhbkhJMUx2VHM0QmRwTXp6eXVlbjdZQml3NVVVY2Q="
m_p: "1nWpcM5f7l8mp81vv3d64jhxqNSE75CG9xioKydpom5e151mOB5KVQq59rETCN21"
e_t: "1614248120250"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 12:15:17,673-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:15:17,673-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "1.0"
  t_p: "65659e037a9b46418f9c0ff66f2afb83"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "SHevLc64"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
transType: "SIGN"
renewProductCode: "20310001"
signPartnerOrder: "k7jMydaLwnXgocFlu0QVCZ6S4JTfht9E"
type: "wxpay"
amount: "0.0"
oriAmount: "0.0"
ip: "58.252.5.75"
sign: "PEIaJNa9buU5ib6ZuK9Xr3AURVlhkt1hAPYB2x1UpNn5T//sMe1yoO6jGbEtnLDWN2ajv3weRzgtvpsJ3baVSHmqMIrX48yv9Qx65HLACz349h9LibG1EeZsMhzj1GPLVcpeO5w18ccrd8z1Kg+BDUJPk1AczrCyguYNoWCZNmZuJWYjqeEALq7SZEP/QELeh2Q6YmNVJGp30u+8yYBqlOm2FNTokyldVwVOXn2jScx+NGd1YwXZ3r18ozkfmGlEdGGpWpEN1DZ4D6RHU9Fefpn2YsmREOcnLMBoscbl9+F1MS4BQTs82TLtTKVJ6LcLFbRxPV7UZANljYljWAI7krAbDaJdu6Failk8eebyLx0pvcSsVKElJLwluz78YHBCqwdUShEzQ3PD8p/IJAIMS/sakoP5D2aX0gxaSolAtGttmuBuIvT/kL47W6SjArmy+oWkGsJusmiuV6CreK7PqvcjrlwThSF7KNsVRRs7VMBDeyxuOr7hNDpWeG3GfQ9i"
signAgreementNotifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
appId: ""
isNeedExpend: "0"
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "ONLY_SIGN"
  productDesc: "ONLY_SIGN"
  partnercode: "2031"
  appversion: "260"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "k7jMydaLwnXgocFlu0QVCZ6S4JTfht9E"
}
screenInfo: "FULL"

2021-02-24 12:15:17,953-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "924931a8c9552a54585112052ab6a5a51c113c101abf8de321cc9bf8f5adb9941614140120PUOGtiPAhFkTW9QBi3iQou0cvQtajw0A"
}
payrequestid: "SN202102241215202807684716886283"
transType: "SIGN"
signType: "APP"

2021-02-24 12:15:17,954-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT contract_code from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241215202807684716886283"
2021-02-24 12:16:45,879-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 12:16:46,158-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 12:16:46,199-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 12:16:46,200-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 12:16:46,209-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 12:16:46,212-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 12:16:46,213-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:16:46,216-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:16:46,558-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 12:16:46,561-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 12:16:46,562-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:16:46,564-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:16:46,568-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 12:16:46,578-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:16:46,578-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "80886448029994"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "18ARYz4bU5TZCDnjaFxp6SNH0L7MWmOy"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 12:16:46,635-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "45c2867268b947dcb923973fae8fb81f"
s_p: "ZTQ1eFdFUVE0MGwzZlpuZHBtbFNBVmNmanVVNWJlQ1BkMTJrUDhQMVFvaHhMV2g1OFhSeU1KSm5lTmdpTnd3SlY4N0ZLeXRvUUo5c3Y1d2pEVG1EZ1Vlc3RVWE9kWEM1U2h2Tm41MlNGR2pJNDF2VlVwSGd2Yjl1OUNwcXltNm04ZkI2dUhPNUxiTFlxM1RRSnQ2djNNTEc0ZTF5WVI5MGY4RzMwZXI5UTlXYkp0OEZLcnpQbVdMZW40bTFweTJrNGxZa2hSTFVmbExQR3RyYXdHQTlwWkYxU2pzYXVDRmN6ZGxPUzQ0VTJTWUhrTVkxeGU5dlJRaG5TQzA5bk1PNlpvTW1uWU5vZ3hJZWVIbEdtY0NDTVFjWVY4R0hqU1diNlp5UTF4Nk9EWW95N1VIZkFscVhNUDd4UjR3OU5mSkQxWExSWUZOZHpLWVExV1cxVGZGTGk1ckhNV25ScVpSME9YMEV4d0p0S09nQksxaDBlSkd1a2hiVGtqY1l1YVJRVFM5TGR2WjZRbFRmMU9oQk1YQTkyRlM0VFJ3aGR6ZWRhWnFMcnlGMVBZNnRDRGl3M0R0bFZ5cVBwczNMS01jUVg5blZtY0IydFRnMHc5VXgzN1dZYlZEYnFrNWtPT2RTeVdtUzdJelhzWmw4WFY1NzZqMXozeGRubzc3SFl3WDJGbFQ1amRtSXRuVkV3RHdPZ3dxdXZaaTZaZ3NYSmpKMENuZkNUTEY0YzRkQlBwcFNkc0ZJQVpxZUExSjRmZzRTOVhsaGl4b2JrcEZjSG9tcHJPQXFnZ0paVjdJN0NoOHM2U3luVkhaVloyQ1lId1pGYWJKOVVrOEpKTlp2ZjltbVY4VVpUSG5USDRySmE5dzVHb0JTZHZ2Yktzek9qdWlzRWFobWVkeWx4Q0VORzNabWtnRnRXdHdxeDFQR0Jra2szRFdiZGJZSk5CSWZYY0ZheVhHaFNLMlBPczloalhKMTVUUlk4UUo4NFNPazI4U2I3c2cyRXJNbXZ3VjJjYkZ4dWJQOG9RcHVyRjhSazMyemZJaEoxRUd0ZTRreDNOaGU="
m_p: "rJ1PUKt1ilUk3O3Lj5LWon6iz5dn1514lmbxCdwHBzaKbbOC6oWMSxmf1X9125dk"
e_t: "1614248209221"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 12:16:46,638-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:16:46,638-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "1.0"
  t_p: "45c2867268b947dcb923973fae8fb81f"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "l3fZndpm"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
transType: "SIGN"
renewProductCode: "20310001"
signPartnerOrder: "5bvp9e82lj1TiBdNPCAEWZmz7SUVFxJ0"
type: "wxpay"
amount: "0.0"
oriAmount: "0.0"
ip: "58.252.5.75"
sign: "Dtl55X9nv4irz9Q8U8gZ4NHbmvQ6GBAPjID7M/rw4U+zZxsOILOj4mNN+9l6gtfsxS1FQ3ITP5m44Awu/5jvhDgdDzfArQd7ncxHgkEkmK6eouUrJtVFjQiS+Gi3ssyncAuYMb/ZXnJPr+DJdO6l703r8yy8u7DFcL/v5NTc2kWewGPpHlkfKOlxhfdR2aB3YkbjhtQ2XXw9q7Nk4LlhudoNVOzQPSXDcYTnWa7pVY4RpO7+Fv6vpwqJRhqTT6QFLSRTDSTqKCrgs7AXCSNdbY1RA/tsyple/9sVQQEJZvM0LaNZcXNd5NQdA5e2/SJeJV7e/+wdxvnK3RmStPsrKpf5fEYUxOO6DbAQhO8GQ2wipiA8OvVFo0YkW7EVZp90ZJ6Ie4iAJPBMx8+bOHoRYO7YBok/+/S+ae4LTWkvJd3JRj2OCTL3pKLazJQ+9F5h3Y7SxueycadSgw+5ZvaHXKZF4DhQSA5f49Ekkae57TLQ+kklqDufE/8dWn3y8VPW"
signAgreementNotifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
appId: ""
isNeedExpend: "0"
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "ONLY_SIGN"
  productDesc: "ONLY_SIGN"
  partnercode: "2031"
  appversion: "260"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "5bvp9e82lj1TiBdNPCAEWZmz7SUVFxJ0"
}
screenInfo: "FULL"

2021-02-24 12:16:46,953-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "de4d4fa0bf5d61d4311b537421e41c81fdf3213f2120d802f17d551deafc8d051614140209aNr4DOGKxihtuHe5hhT6rpK9GH5HSWZ6"
}
payrequestid: "SN202102241216498787164877418386"
transType: "SIGN"
signType: "APP"

2021-02-24 12:16:46,953-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT contract_code from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241216498787164877418386"
2021-02-24 12:16:46,957-INFO-wxpay-scarlet-96-回调参数：<xml><change_type>ADD</change_type>
<contract_code>SN202102241216495704075355736348</contract_code>
<contract_expired_time>2022-02-24 12:16:46</contract_expired_time>
<contract_id>9552475835</contract_id>
<mch_id>1259634601</mch_id>
<openid>oCg6Xt8NvRi7jGuap_5B6XdY4oYk</openid>
<operate_time>2021-02-24 12:16:46</operate_time>
<plan_id>120877</plan_id>
<request_serial>983239966875420491</request_serial>
<result_code>SUCCESS</result_code>
<return_code>SUCCESS</return_code>
<return_msg>OK</return_msg>
<sign>B55EE03EABCE1EBACD8810B372FE937E</sign>
</xml>
2021-02-24 12:16:47,075-INFO-wxpay-scarlet-100-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 12:16:47,075-INFO-wxpay-scarlet-102-回调解析成功
2021-02-24 12:16:47,083-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:16:47,083-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "88440865621620"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "m4IxUoE3anvXhJy709Ps8dKfHqQgtwzl"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 12:16:47,177-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2e29b8ac07eb429999daa331c627623d"
s_p: "YmZQaDNWVWI5YWpkYU9GMW05d2ljMnFEMWphTE9BZXA5MTltdDdpVVVXQks0Qzc0blgxaFBaVldKWUNOODB4ZXhsQ1Y4clozdjg5cktrU2pSM1ZuS3JaOUJ4OFpUZjFvYmhUVnJqekNabDZ2S3JJZkttdlNYajByanNudEEwdTV2OWY2M2lhMnJTQ3RpVUVxTndyWkpudzIwQ0VBSXRSbWYzQ2RRbXFOOFRTd3hEZWQwSzdicWxxZ3JDVkNmbU12ajBPMk5YVUhGSk5GeGdJR0pkNGV2OVB4UkFsWVNtSFBJTnhpNEpCNFN2WlREbVhxMkJSSUJVaUR0dDU2N3REY1N4UFhMMDNPQTlYbEkycGJEdUM0anBGVTkxbjNyRnN4WUp6YTFUOXBZcVVmVkVTVzdMb2dJU3NVNmE2MFRmalNyOTJVT2hZQjNJaVUza2d3R3pnOHFjTE5JV3YyOVdNaFBta0lUblp1Q3ZLR203MnQ5RTMzRTF1OWZYbDJRZ1JzRElRM0I5eXdoSkpRcWxRMUxtUGpXRHVTVkJrVjdOaWJoaUFpU2lGRDNPSm0yd09FVndSNXU5TzB5aVhTWVVOb0JmdDY0Y1FYWEcxRG5oUGFLalNWbmhFVkpTRFluYlI1NDVNMENod0VlazIzMjFMck8xZVF4b1l6RzE2T29nOGF6aDhiZ2d0cnhsZjFud25meUpzUWR0aVBDQ2R6M292cjJIME9zZ1A4TTVOM1prdjVOWTlnQVBrVnFiN1MxR0lleVh5Q3VwUllXTXF3ODVGOFgwSm5JNzM4aHBHbndNWlhrUjJENjNCVW9pazlvcTEweHdIUXRhMXZ5SmRUcWNGM2RYQm1zaGJHck5paG5jUEc3QzB3NkVHR2ZESnEzZmNhMEpCckd0OFBjM0ZmSjc0Y0ttQzBEMVRZZkJnUjBEYXRnYW9mVFlZR01EQUtVclRMS0VlelM5UXlMc0YwdnhyQVpkZ2FOcWZQRFhnVmpuU3ZWb2pRajZYcUZkUFFpbkNlT1FzVnNKRzh3U2p4QUFpbGtxa1V1U1RjMnkyYXAzZEY="
m_p: "3S3h1mxsG8w01667k7L1240CL9egd2p0bv19ouf49g8Di963ymRNm4RWIL86s6Cu"
e_t: "1614248209718"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 12:16:47,178-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:16:47,178-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "2e29b8ac07eb429999daa331c627623d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "a2rSCtiU"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "SN202102241216498787164877418386"
version: "260"
queryType: "SIGN"

2021-02-24 12:16:47,222-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "succ"
}

2021-02-24 12:16:47,223-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from  `db_order_0`.`autorenew_sign_info` where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 12:16:47,226-INFO-lib.common_biz.fiz_assert-139-签约信息表记录正确
2021-02-24 12:16:47,227-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241216498787164877418386"
2021-02-24 12:16:47,230-INFO-lib.common_biz.fiz_assert-154-签约记录表记录正确
2021-02-24 12:16:47,230-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "5bvp9e82lj1TiBdNPCAEWZmz7SUVFxJ0"
2021-02-24 12:16:47,234-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148846, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '52311192762f438c8506070fc1eef3de', 'request_id': '5bvp9e82lj1TiBdNPCAEWZmz7SUVFxJ0', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"ssoid\\":\\"2076075925\\",\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"5bvp9e82lj1TiBdNPCAEWZmz7SUVFxJ0\\",\\"notifyType\\":\\"SIGN\\",\\"payType\\":\\"wxpay\\",\\"agreementNo\\":\\"9552475835\\",\\"sign\\":\\"QPfEoTm7NbszTzmKJpDYX7ailNTAbFgIJ/9xE+r86fZs/RkQn5Qw9tR/0ugvcXlBg0th273hWpYS5wUlsT6KbDenZtAddlg8wL774ufQ9z0GK5PgppNd4UDZ0a2wgFMllm/Y+BThNnDmH1n9kJS988WkPkIkxMnNPhcDtBvFGdc=\\",\\"notifyId\\":\\"IM20210224121649562\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"renewProductCode\\":\\"20310001\\",\\"status\\":\\"OK\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"5bvp9e82lj1TiBdNPCAEWZmz7SUVFxJ0","signType":"MD5","successResult":"OK","timeStamp":1614140209642,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 12, 16, 50), 'insert_time': datetime.datetime(2021, 2, 24, 12, 16, 50), 'update_time': datetime.datetime(2021, 2, 24, 12, 16, 50), 'extra_json': None, 'remark': None}
2021-02-24 12:16:47,234-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 12:17:51,175-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 12:17:51,417-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 12:17:51,519-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 12:17:51,519-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 12:17:51,529-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 12:17:51,533-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 12:17:51,534-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:17:51,537-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:18:59,361-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 12:18:59,640-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 12:18:59,742-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 12:18:59,743-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 12:18:59,755-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 12:18:59,759-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 12:18:59,760-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:18:59,763-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:19:00,104-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 12:19:00,108-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 12:19:00,109-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:19:00,112-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:19:00,118-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 12:19:00,134-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:19:00,134-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "75493459692310"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "0xOps8ibtrfGEyDSMQF6YzZej74P9Bq2"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 12:19:00,215-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0ccea7ab24b24e61a710efff75564f5c"
s_p: "MENid3l1a3ZORkFuaXBmZnN0NVd1UG5RN29ZR0ZqMjBOUkFabmhxcEFzSmpPN2RQTkprYjg2OWVTaTZaODhWa3NQQ0pxN1dIQUlkd3lIN3VNdnlid0tCNFEwNEwya1NIWW5jSWdERWtTNnk4Z3RsaDlLNmhhazVhZ1Bpd3o3RHRYcFhkU1BIUWVaTlhpRkl5WmxlMUxPRFNSWFNvR25rb2hFRmJ4ZE4xa2JYenJObkY2b3lDOWFOVTVqSlpOUllRVmxudU1CY2drcG84QXBBdXFVSmJCOGhQOTY3b1pqN1ZweWpwZ3p4M2hMYmF5U0ZnQnE2QWhLUGFEWTVINHhIWW11TVhNb0ZXdDFiWE1DRjFJSmxvTU5nODY0ZTBEbGIzRXZuS05RMjJUYmVpcXBtclpzaEVXVmdWa3Z3V0VSV3ZQVUdma2plRk1sYUU0Nkt0VjR6NVgwUFpjQ293amhJd1h4WlhBSmF6U2FHZjlpMTVhQXhQcVNrdUdVV0NaYnJtUW90T0E0Y0MwS2R1RUY5MVd3VGdWcFVMMElmRFNpaUdBQ3p0d3M2eHZNRkhFNHd3Y0pRZG8wUGFpcFNXTUtOVXhESFh6S05wenA0TDdmS2NleUhFMHI5VGlseHdRUHJrTFlnV1o4NnBVMmRuSUMxSjVKMEQ4NGYzaUQwbHRmZTh3WE5OUEs5VllkWDRKaDFLQnhyb3NoQkF5aTZLRk95UEYwR1RQcUU2Qm5TVFJoaUJTWlAwaUF2V0lmR1NhRG9IVTBUTjhTaVBxZWRXc2VNbUNXZG9qS2NiSzhhVlIwQmNNZjdPMWhCV2dFdGJqWW9BMG5TclZ4SE9FdVZ1b2Z4QlBrOWtyVlE3TlZhelhEeWRZSnFEQUQyZ2FQUk8xTUtZZ0R6dFIyT05LbWJ2VExzQkQ3N1Z6YW40M2ZsVWpaWHRWNVd5aXNxVEVsb1dNWkppVVpNNHVlcENSMFlRZVp3TEpYQmVuTlp6ZldOdkp4RzhQaWc4SWJLejlmUUN0U0JZamxHRTl1SXpVTzYwVmpOYng3cm0xWWxVSjZMdnU4VnM="
m_p: "xw8w36MX2P01TvoHiviOq4xA7Z864p024N3yui9THc6J5ahIA1Dj96Ap88c3nPfP"
e_t: "1614248342795"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 12:19:00,221-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:19:00,221-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "1.0"
  t_p: "0ccea7ab24b24e61a710efff75564f5c"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "NFAnipff"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
transType: "SIGN"
renewProductCode: "20310001"
signPartnerOrder: "YSJ5rnwBcly9Q0WMsP2oLZfmAhGkU7DN"
type: "wxpay"
amount: "0.0"
oriAmount: "0.0"
ip: "58.252.5.75"
sign: "KxdamIVYKjTdHMYExdAYLH5S2k7JW00suj9jv5+AaeEWZDEfgCZkvXEuXPGGVx0uR6dukfad61wguqAnRHAj9zsRVvsd53sY/YtPxJLvIktUa100Vg8lhzTuRQnuLj626GiLAzdoBE4aDPWKRXtZmXMbav8h2Bi8xl1a31asZwsb/8vCYZxClj6+zyiLzY3p3anhpNYdFgdJW/9lKeTgs46zALR1Yd1PMPqOQLgHszzdzv27iyPcF8Xjn6T5nwUO8iN301p7m9VGUepkD19T74bJa7MuG/ZpruPI8V0hdi0JDFAFOgcK/i51iyFG5L8lXFK/3KZln8zG1L9G2PkcH0BsvnFLP1d4pieADmoWj76l0MdQCp5/8nHAB72QHLOlhW5yKRvLo+ncGSQqAFhP0cIpFAX3YntZNeeh3aR1u8C4KRxEgwpOkRWjaISUqQ6Koowk3cbgSFvi/8lSIlrli7WVeYitlg+zLavmE4L3WFBvutduSBbzfqcLzaWhUqQH"
signAgreementNotifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
appId: ""
isNeedExpend: "0"
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "ONLY_SIGN"
  productDesc: "ONLY_SIGN"
  partnercode: "2031"
  appversion: "260"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "YSJ5rnwBcly9Q0WMsP2oLZfmAhGkU7DN"
}
screenInfo: "FULL"

2021-02-24 12:19:00,522-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "552fd5586bd50d497cf4637093a81380973ae917a31dece8de12042845b76d341614140343yZDZLxOX9lorV1BFNT7GpQVSGWxdrozx"
}
payrequestid: "SN202102241219021671774066244350"
transType: "SIGN"
signType: "APP"

2021-02-24 12:19:00,524-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT contract_code from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241219021671774066244350"
2021-02-24 12:21:45,638-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 12:21:45,876-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 12:21:45,918-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 12:21:45,918-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 12:21:45,929-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 12:21:45,932-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 12:21:45,933-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:21:45,936-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:21:45,937-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 12:21:45,940-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 12:21:45,941-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:21:45,944-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:21:46,287-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 12:21:46,291-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 12:21:46,291-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 12:21:46,294-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 12:21:46,298-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 12:21:46,309-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:21:46,309-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "48002451761720"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "tA3iL9yQVn2S40cFBdbu6RXNxmPrjsfv"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 12:21:46,487-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2a8e046ce76a401d832cbe2117053b42"
s_p: "Zm9wTGZqWWFvNUQxalF6Q1lPcWpNTzNRNFowb0NjMHBjTUE0NEdZY29mbWo5WUdKdXNRZktuVnFrMUh0MzZFNVB4cUVTd0xITVI3RG8zaDlDNzJ1U2sycDdhMU51b3FXcHlsejM5ZHdQUFdMbGc5UmNJY2E3TlhzdnlXbHpqWnBuOUthRVpuYXduelI4NnpFVEJhWWpWUzNaMUVVQ2lianIwM2JkTFU2WnIzTU5VeU9ubWNBNzJPelNEV2NQcTd0NDdzbzB0TXFjckdNa0FjMnFIdEUyakQ5WkxpYmdLN2VlS3hrSDR2bEc3eVg1cjdEcjRxaks5SUZJTEZ6TDl4aTRFVXpKQ0VnNEdBMllDUzU5Z29Iem9sdGhaNFpNcWFvbHJ2eDZIS1o1YVh4amVvVmpMVUd0MUJnbmxMV1ZKeGhYS0ZvcmtKVGY1NVc1U3Q0V1ZKdDR4NVNkbG9kRDUxRHRXc0QxdE9IMWtTTzlXbmhkZ25XVWRkMUpIdFFwSEczanltUU92cTFBNVBUUGZrNGZnYm5iTzJQYmZYTGxQVWpoaDMzdkk3d1p2Y3A0YTZabW85MXA2Y0k0QW9rNFMwa0NwNGJ3SnJYblNaWkRLTjQ0RWJlR1dSS25ZS0FYTzNQbGhnazVKbEUxRTNqd0NnUzJmNGlYZFFuYlJaajRIamtsUFhZZ0k0MEZ6M1A2cTdEOFkxUEVlZUptVXhQTTBKTHBmZTJWRG9xMU16dlhQZExYQU1TeVNFclJyMnhEeUU4bVFSTTF0a2VJcFRJblJCTGZVaERSQ1lCOGl2alZ0N1FWU2FRY2w2TmxwY0lxYWR6Tk81U0FWZ0JhcG96MEc3RURDQ050Y0hld29iVnl3U1ZiZGdTYnBRNGhJN2JNQ2lrTnV0VEZWSUdGNjlpMTVWbDZQUWJ1VjR0S3ZSOEhhU3Y0ZTRHMFhIdkhFTnhOUXNtdngyTkNPOGV3b2hUNVg1SG5xYWtGMlNUSnE0QzhqWlpmbFJoTHNmU3NLSkJXNnFkeU5QMnRaZUNTVVEyVVpISExhdGJrV2ppbnJGY09STnM="
m_p: "76H5t7z1w0AW7LM9z7R8Cc3remu379QEFD24m94L1amMhbP8YHeTlJ6aYv8T700s"
e_t: "1614248509069"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 12:21:46,490-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:21:46,490-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "1.0"
  t_p: "2a8e046ce76a401d832cbe2117053b42"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "usQfKnVq"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
transType: "SIGN"
renewProductCode: "20310001"
signPartnerOrder: "DYQr1qAXkcKS56zLF2PdavM7hIbg84Ei"
type: "wxpay"
amount: "0.0"
oriAmount: "0.0"
ip: "58.252.5.75"
sign: "YIRKf6WdQ8k+5npelTE+n91A87b1J7JbJdtfpDR68dkY+tPOfNhSeOvdfJ3SFHPHFoh7ABfZk0X5LlmhzeJoyqseMf/7U4rLGiANquzzON+Oh49NH0S0n/gYsY9uR4aZwlrRig7vM6q43/LfvK/c2DKExu7+8ZIiBJA4nTgAvgatrCWjhf80yKgCjdnncRyVDw5UM1/9qGdnJ61+OIr6WNJXKknXMaJqXYJ3VmqrvjrN2Z/+ieNLMVHqUwjq8bKr6QQxRO0h9IGUVTYCo7yKhBTk947NyZ8fHqNfeSboP9tt0Czq1IdSWYgCPBd3pgF0eg/sKDA+JfD+nd7RjDX+9nPu05dSqycHXut7er+LmDzUPYVNLwMpHBQRAvQErYKUIkfN6n62iNcl99/d5VvwyuIE7akp+CCq7kuZT8caMMgif3OgqDg/ltbf2Hj27Zw2BbBW1qrb/13EuNj55TrDKTmC9kTlHPn+WM9dvbpetqlcO6z0dq4lBmKnc15FPXPg"
signAgreementNotifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
appId: ""
isNeedExpend: "0"
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "ONLY_SIGN"
  productDesc: "ONLY_SIGN"
  partnercode: "2031"
  appversion: "260"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "DYQr1qAXkcKS56zLF2PdavM7hIbg84Ei"
}
screenInfo: "FULL"

2021-02-24 12:21:46,811-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "011ee928dfb6e202837708eef96f905b6eda4855e30ac2814adbab527dd64ebc1614140509vzHHFsMqrKa1caMQ7OFA8ObhMfZ383zk"
}
payrequestid: "SN202102241221496056260422476341"
transType: "SIGN"
signType: "APP"

2021-02-24 12:21:46,812-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT contract_code from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241221496056260422476341"
2021-02-24 12:21:46,815-INFO-wxpay-scarlet-96-回调参数：<xml><change_type>ADD</change_type>
<contract_code>SN202102241221498733543547058511</contract_code>
<contract_expired_time>2022-02-24 12:21:46</contract_expired_time>
<contract_id>4633200994</contract_id>
<mch_id>1259634601</mch_id>
<openid>oCg6Xt8NvRi7jGuap_5B6XdY4oYk</openid>
<operate_time>2021-02-24 12:21:46</operate_time>
<plan_id>120877</plan_id>
<request_serial>364113905505510391</request_serial>
<result_code>SUCCESS</result_code>
<return_code>SUCCESS</return_code>
<return_msg>OK</return_msg>
<sign>A27CBEE779696774174F61813AE9323A</sign>
</xml>
2021-02-24 12:21:46,960-INFO-wxpay-scarlet-100-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 12:21:46,960-INFO-wxpay-scarlet-102-回调解析成功
2021-02-24 12:21:46,968-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:21:46,968-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "90231960949629"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "eToD3htfnEm7gKMCk8NPB2acUdOAzL1b"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 12:21:47,062-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c335c69b50964f3cad80a2f096a1c7b5"
s_p: "UVFiMjc0TlJBZnpoTzFnWjl3b3RSakFpaENpcFhWMjVqS3NCclNBNmVCTzd0U2FhWGNaelpON0ZYbFk3UUljOUlFelBQbGd4b1pyS05oZHpTOFlGR0NCRWdWZUd2Ukp1eWpXdFJHQmhIN0FWM2RPRDRNczZlM1BUbTdTUkF5UVl5azFoUDdJZ1NhT3FCaWc0bGZCZWt5MW1VRzdXVFBRUHlpaEhFUlpZZ1lVaEZKOWw1amNQMjJ5c0poYTVRVkltcjg2QjIyNURaR0ExZW9FZkc1WmlLOWFJM1ZWWjdBWjhrYmEwbjhiZDVnZGlTOEJJck9jTVNkY0U5TFo1M3BjT1hKTEIwNTFPOXRqNGx4MEZDYlBMN2lHZU9BR0RNN3VVZGRKbzlaY25zVVNBaEdtNnhHOXJFNGExaTlUSkhVM0FYMTltYW1sczVpQlBnbkVrbkRhUjhqYmlNUUc4Y0V5ZjhFVFJDY0JVRFU2dlhxNmdoM1NSdE5KTHRNazAzcmkwS0RGaHB0TEFhakdJNXBuYzZwRnM2d3Rwb2xTZlhMRGFzMzdwM3hVcXZXZ2plc0FpZThOb3VmTHZCaUkwcVMyRDlxbDVMSkxUVHMzRVl2Nnh2WnZUUHNuN1lYaVV5ODk1TGRxc0gxOGJNSzYxUnlPS0w4S0VmT2lYTHRKM2pqU2RmN3d2bDRNMG50RkxYdjdOSDkyMFZQVTR2QlhWbjVqSjBGSG53WUNBNXF0WDVaTlpyVjh2UDFncEk4eWE1YnV1N3dETk1HSXZ5Sld4SG9qb2c3OXBybGFjMG4yYjJPbWQ4ZjBtUFNYMVBuYWRudk1QMEczRFg1M1VRdFJEU2FocVJKclFBREhIYk1EU1NhVGxJMEJYRmRpaFpYMUVGeVdjdmR1dEdPQ1lRUDZHMlg3czUyMDR3SlhXZ0FxNnhVeURSR2JmUUpOUnJLZEVmRjRhVjlTd2E4UE9pYnRxSzNNQ1U3a1kzUmRvdEFQV215MXN6UUQ3NWxycGg3SUQ3akg0bjF2TWlOa0Z1aWp5QzVwcmFmSDg0S1dSMjFKUlp6eHQ="
m_p: "qcpNP3wIy0lq8CeWacwN9m6fYPl904136ZEuX20Ra8e3z3h3e9D9o5B981ghKM8v"
e_t: "1614248509601"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 12:21:47,068-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 12:21:47,068-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "c335c69b50964f3cad80a2f096a1c7b5"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "PTm7SRAy"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "SN202102241221496056260422476341"
version: "260"
queryType: "SIGN"

2021-02-24 12:21:47,108-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "succ"
}

2021-02-24 12:21:47,109-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from  `db_order_0`.`autorenew_sign_info` where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 12:21:47,112-INFO-lib.common_biz.fiz_assert-139-签约信息表记录正确
2021-02-24 12:21:47,113-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241221496056260422476341"
2021-02-24 12:21:47,116-INFO-lib.common_biz.fiz_assert-154-签约记录表记录正确
2021-02-24 12:21:47,117-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "DYQr1qAXkcKS56zLF2PdavM7hIbg84Ei"
2021-02-24 12:21:47,120-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148847, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': 'b9ac89f7400745ceaa882516cf5969de', 'request_id': 'DYQr1qAXkcKS56zLF2PdavM7hIbg84Ei', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"ssoid\\":\\"2076075925\\",\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"DYQr1qAXkcKS56zLF2PdavM7hIbg84Ei\\",\\"notifyType\\":\\"SIGN\\",\\"payType\\":\\"wxpay\\",\\"agreementNo\\":\\"4633200994\\",\\"sign\\":\\"O1/V4v8hpW/5w2M8Sy1yIJcbQwY6CgXUrQbuB5LmxAXJWHb7YysSaDesYuXGDtJ5YrdsbgD3lktxDriQ700ChS0pmcn3GHWZ9OOh36zFumX7Zads87AN9TGsgKtpaR1/Jjn/+a4T5/ZTjZ3AG1dBRd7rSOEB3POB+vV0kXTRtGA=\\",\\"notifyId\\":\\"IM20210224122149358\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"renewProductCode\\":\\"20310001\\",\\"status\\":\\"OK\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"DYQr1qAXkcKS56zLF2PdavM7hIbg84Ei","signType":"MD5","successResult":"OK","timeStamp":1614140509506,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 12, 21, 50), 'insert_time': datetime.datetime(2021, 2, 24, 12, 21, 50), 'update_time': datetime.datetime(2021, 2, 24, 12, 21, 50), 'extra_json': None, 'remark': None}
2021-02-24 12:21:47,120-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:00:20,263-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:00:20,538-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:00:20,580-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:00:20,580-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:00:20,589-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:00:20,592-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:00:20,593-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:00:20,596-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:00:20,597-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:00:20,600-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:00:20,601-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:00:20,604-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:00:20,971-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:00:20,975-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:00:20,976-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:00:20,979-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:00:28,092-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:00:28,330-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:00:28,373-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:00:28,373-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:00:28,381-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:00:28,384-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:00:28,385-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:00:28,388-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:00:28,389-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:00:28,392-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:00:28,393-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:00:28,396-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:00:28,730-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:00:28,733-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:00:28,734-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:00:28,737-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:00:28,737-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:00:28,738-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:00:28,741-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:00:28,749-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:00:28,749-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "31080979259917"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:00:28,981-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a50796e665974462a1742327c027e24b"
s_p: "YUxLa3EwM1hrRVBvVzNSSGgyRXJoSkZ0T1ZUQ003Z3BCUzRqUlZNTU1sOTdRODE4UzczTlhpZnh2Q01JMWNCOGRoRnJrcGdJYjNxZm5IQXY4VmpsTnhGZk9uczIzR2hiczkxMjhROWVCV3Vyb0JlUERDb1BPN09LR1hQdXVtYjNqWlFEcHd5MjFIejlmTXFxQzNrd2doYktOUXBzRlRUVmlUUkVMRXUwbldwWHUwMVJmdTZFY25HVVAwWmpXdHNFdFhrampXaVR4WUZGUzc5cVF2aVVMWGZ4cEdoVVdobE5DNkRhN0h1MFVmYUwzVmRvUzVlcmd4UG9zem5KcXg0dUhhcjRjOEZzME45M0ZLczQ2UjFETU53OFNaRDRtem1pWndpTEM5VVJuUEEzbDFMZldkWk1yN1NHNkNZYTN5NDFTVXdPd0hUd0RhRlpJN1NLekhRY0tHSGhPNTJXOTVuc2lDbDkzZUR0MklZSHkwSG01c0RGS0RkRzU0NVk0cjE5QlowNjdTalBNTjN5VGFrdTRRWVIwazRBeG5ZVFNFdExsc25WaE1mS2J1REJnZDBCS1RyaTlONEE5eDdpZkNxV21GVVBtNzgxdTlnNlZUUHEyYzVzVHRubHNmak5HeWVHSmE4dzk4cmpyQndJY1doREVJWVZqTjNTd3ZnRnZ4bUs2Z2Y3VDM0QkF3RTlSWnZoTUpna1lxNENKcktHbE81OFRuRDBJNGdPandXT3B3UzRPSkpNRllTbmFSVHRSTGhtU0YxdmRQd2hCR25GTVFCZjBKZ3ROSHBNY3VIaVFLVkl0M05GQWlXbkt2Ujl4ZTM0SG1IQXZDblZCZlhZdExpdUpxYmdUaEhwZ2pjZ0pNODBIaEc5eWdnS3dBamw2TkdmT3cyaHNSRzhqYzlFbEwyUnR0RVd5ZEYwbGhFYjRVdUg2TDI2Sk9sVFpqdzlYd3ViMFZUcW1zV2ZGcEtxNHFuUVhNZlluWFRmZldoMUFMOUxMNTdsRkxISGNyZndCdHQ3NTVSNWlqcGNRQnlLa09venZKRmV6SWZCQkRPTFVDeFo="
m_p: "rSRNjx2Wjmgp9t10HYr37D860x82iy72hV13r0WD6ECjb6i48T6N2zXkcN5Hl6hl"
e_t: "1614250831510"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:00:28,988-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:00:28,988-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "a50796e665974462a1742327c027e24b"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Av8VjlNx"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "0.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "PMkBcmRPRIRA/GEU0d4pl9BUmybs6bz3c0HZv6ltqEklAWT+qKyDtvrly/OqjRIb6Zx8hFEmNQUqoC8DFiTQ+nxLKeXLCmg4mGuQCIsSFevLXNnKSeHmRD7wQanauNKdjP70bURF6L+3MTJmnYyfbtoQv0/v36qoNQ9O8ML0Rzg6/DJ7GOeTGH1EWqvSQecHt9ENtHz9XPs25P1MLRbQMpzLZQ1Twcv9/qOZCvz5WCjA2a7pH0Ok2z2KdyQx0TqXLKBh1ZaF5xWYdpqGiF2T6zaq5xi2aitKMrOXIOt5Kydic2F3YhLIwwdv8VaZUAxTFI2eLVIKANmSZemfcJCAEA=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:00:29,120-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241300312076075925216732"
model: ""

2021-02-24 13:00:30,127-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:00:30,127-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "38492335827438"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ahiouk1fMGqeNIgY4mHOTwrcCnZzxUvV"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:00:30,220-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e09dda0b8aef40e690276cc02f578493"
s_p: "a3k4YUM2UVFjUHZwT3lPeUkzNUJKcXNlTGF5VnFFVERoQkZBZjZpTGI5cXR1OFlDQnRGSkM5VzVOTTJ3SFhSREhzUmVSRjBpMW5Rc29qWk9zUnpPeEtCbUdaellWMUs0NmZ4dW40TU53emdkZnJJQ0JkTVBueThmUm9TZTdtTUJIVWpyaXMwRVRYN09pNXNkTjNiOEJtNXRnRVdQQ1duNFdiSGlQS1EycW12cXZQaFF3dEc2eG5ZWTFKYVpwWTRGRjgzZmhpY1p0ZUJDVDZ5Y1VQTW90Yks2RnBIcFkxelRtUDB2YU5sR1ZNZVlkUEdLZ1Z5SURpVURZT1JJdXdvbXlBY0tUUlZmSTAxZnZGZGZVMXhrWTV1MkdCVHlxeWpXSmxvTTV6U1F6OFZQZ0dST1VpU0RLNVpNeVpDbFNPSzJmS0J0Z2ZFMlNvbkl4Rm1pTlpYU1JnNkpjaHhVVmQ5blZvU1hwRWZKbHdoTGszR0dobTFUbXVsSUt1MWVVa3BEamthZ1JLWFlPQ290OGZ1NGdTUkRpa3I1THd5cE5NbXVUcXVXVVBtUXZ4WjdXUDBacHNnYlFWSXE3YnQ4ZGpZUFl0dW4zVWZWSFIwaFdYQUo4WTFwV2FscXVQanhUdVR0OGZuWEI1YUZOZlRSM3duOHBMd05YUmpDY1Q5YXZQRnU3dU9UOEVoUUxwZG42WGIzR25LbzZweEVlNzhkWTE3cXNGQjdqZmJqWHZ3UkRySGJJaVlGSGNmOGl1OUFwd05jWks3dW5VYXRwNFZWQkhLbXhZVm1kUjhYNDQxSmV0N0s2Q0Vob2cxRW51RHd6dDhtbFJ1RWpZdXp6eTRTVTJMa0dKcjh4akNTeVFxTVB0amF4QjQwd3dQa05jWjVhVlhyMWZ3WkpuM3hldjd5VTB3RXpxcGVNZ1YxZ2dENERkT1Y5b3h4ZzlrdWlOU2ZmTmdPM3dVSTFwNHhacWVvTkl5OHJ1WlA3YUtzcVNsMzkxRnRNREdqZXFYbWd1RnhIZ0ltblJRaGJQUFpDYTJ4Rmt3cUFYWUNENHlBWnlTRVFLdEg="
m_p: "a303JJ2FWv2Kv9pW69tRl9011a5RaIEo4ZDdx49ZXa2nD6U78Zd241hN8VCEfAme"
e_t: "1614250832771"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:00:30,227-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:00:30,227-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "e09dda0b8aef40e690276cc02f578493"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "jris0ETX"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241300312076075925216732"
version: "260"
queryType: "PAY"

2021-02-24 13:00:30,308-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-02-24 13:00:51,122-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:00:51,359-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:00:51,401-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:00:51,401-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:00:51,786-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:00:51,792-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:00:51,793-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:00:51,796-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:00:51,797-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:00:51,797-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:00:51,801-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:00:51,809-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:00:51,809-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "94122413235863"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:00:51,915-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "6bcd3804d4f94e84a7c0ce6a3a22d553"
s_p: "eVp6ZmZyUzNDSGNMc3p5QjFTVmV0TTEyN3VRSjdidVpYV0FRY0wyZFVKUGg3ZHp5ZTNSc0FPSVlidVZXY2RycEsxU21KN2hhUUo5MVdpeDBPZURSODFPcGU1TUFKVXV2Q2JWeW5LdGxhOWFaSkZnY0hhaDJjeHdzVU5hekJGeDhDbldBYWY1Ymt4U3hJS1FkcVUzSmdSSkhXWW9QNUdiWXp4VmJQN2kzelRCYXJPeGw3UWJVVEs3VHhrZzNqaVBCQ1JRc2FFdUpnWE5pdWwzQmZLNnR0UDJNdXlVVnhFYjRCMW5TYnY3dUExZDlERUdZYkhyUXV2T0ZrT21Ba09RZGxCVzdxaFlqRndMc1U5anBlWHRJdzBNWjJ3WjBsOXlzZUNadmgzMGtrQUZwWDhQTXZwZFdiVjdVTEVpOUtOZDMxY0xTNEtwYUJaY3FrZWZBcmphSURkZ1NndUw0cFVIOXVoaUxCcWE4RjJHYWhiM3czbHdJV2pQM2Eyamw4c3VsNnJTVTZPUlVhbG5mMWt0U01qNHNhc3NIMkR1UUNsNEd0WkxyVDluMXBPaHJZRFJINUtNU2I0YklwcmdMdEU4QTlYaTlpQWZZMzUwamhwODFRZEtYbEFpS29VTU1XZnJTdm9rZTcyOWg3OENwYzExeGFXWm5LNmxMY2lDRUoxS1JUelpBWm5tVDBQZjU2MUp3YkRDSnJxYjNGYlgwbkhkRmRwV2t3NE96dmVXRkwwZ2JxU1JoYW1nSGlTYnNLS0loTmhKS0ZqcFg1TG9rVnZjalBKa3o0UzV2ZFhHV3UzOGViaEVHMm9XNlZERWFRbFRlbFBnblpMRGo4eUxlMTZZS0FlMmhlUmk5a1BEbk90bFpJR2ZGS2xzV1ExVlVMcWV1R3lGZDFDNGY3UVlhamhPZ2d1OU9KaDdySDhlQjBzU1oxZkU0UVVFc1AwbFhCS2xZV2hyTlFHSk1aRDBiUXBWeUNSS3g0bEVpbzRwcTZNQ1dJaGlTemdRNkx2S0VKR0lQZ1pSbzlLTDFBSTJNdW5DOFFUUVRzVVl1V0U4WGZGdFE="
m_p: "28x53vzwejjQfZUBj5yG2nbgI68w035AV0yK13906Z7o337S12P4m2hfx65138gq"
e_t: "1614250854458"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:00:51,920-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:00:51,920-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "6bcd3804d4f94e84a7c0ce6a3a22d553"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "QJ91Wix0"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "165.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "vz7do6Q2xnltC2bl+JLB5UdMiJyoN128A6XVU/wmcUUFiM8lNUBOa/Vf8EBbQFN5397V9iaVuR2UnkCUGrYiuqqTVl5qbwdTrutF4qpEIX9dXyjxPVLbiaGfNPO4Bz0PERxZxPtUntaskWGUWxxWYOk2f3Kcuy3Zu9ZbhZYcsV3GE/LRsEB9aFYUhZs84S7ZgkILWOTAKCVSvQQAaUrJ2VhVoJArbGA7aPkMz319vEfGdn5I9jajkR+I6XmHrS6GH6V6OnryFMURdOUj5gLSamP9x/fpmQ492KIHBKNKpXB159hnxQoXmZFEQo4CXljdeCjFcEjte5S5QmwCh8jPBg=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:00:52,000-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241300542076075925553502"
model: ""

2021-02-24 13:00:53,009-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241300542076075925553502&jnet_bill_no=3746567827217056840563752950&card_settle_amt=0.00&card_real_amt=165.0&card_detail_data=&ext_param=&sign=a7b0a0fff500bb2125231dba48f1230a
2021-02-24 13:00:53,182-INFO-heepay-scarlet-53-返回结果：
2021-02-24 13:00:53,189-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:00:53,189-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "45108691195231"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "3c1oFvY0XIeArROpzNtwjLhPGVBJl56s"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:00:53,274-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "361cde60a7d4485e84e264ecde32e62b"
s_p: "OWx2S1VMdFRUaVVmTldwcndDRTNwWUIzVkJnZHJONnoyY2lZNEthOHFocjE4U3YzWVppR0E2TklyaXBmUVlrenJMbGhyNUtjMm9uQjYzMzNiNWRISFBxY2pQWUNoemZGeDlkYUVUOHpxZ0g3Rk55Q1RjQlVEcGZ1c3V2NUd2MjNkMzJqMm90VnNXSVpkVEk1bFA0Ym5mNWZ5RUg4eFcwRlNlU1FLSFZKZ1A2T1ROb01jdUt2cmhYb2N4SVhyajRVVTFlMDVadHdsc1lqWUFyem9HU0lLaWl5Wll6aU1xeUpGSEVla211ODFvd2dIckdORzNVRGJTd1VDTnJFVWhoM2tMckFPVkZZOGF5ZGhROFJsVUhhR3dBZFhqY3ltU1ZlT2txY1FLNVp5cnVzTjlXYmx6Y2xqVFRIUGtBdXVQSzJVaFZMZ1BhRkNUdUd5ZXU2eGZFVERmY3lmM0tta1V5VGp3T3RhZUgwMXpYU0psVnhBNU1uTHhNNjNab1BJblo5VlVHZHJUbmpzMzFVUU1ZY1U0TVRvaVJFWnBrdEhxY2E1djVuOVVWUDVPeXNyZkFqYXpueFZXNFZhT3NtOTd4MVlvVnRUYm1zRHNhbklKNFJYSmo4THRhZWk3c0pNQjEyOFAwUVRVMGZiY0xMMVRJaFFsYzYxZlNtM0JLWGxWQmtPTnlSaDlBVER1U2FMeDNWUHVQOUY4WlFWMFZPWVY0S1BhMXNWYzUwMnJMdUs2cU9YVk15Ukx2bklNM0lhSzhZYmFXVHRwS3VwdmN0Y2lBWnhjZVdpN2JlbzBPd3pBTTVNaVBYWWtLRXc3M2RnMmtFcGFvRkl3VDNpb01lclc2YmpPZUdISlpsV3lHQk1nWmZJRmcxS0J6Tlh3SDM0NDBFb29YV0NDTVR5Tk43N1psVFVzdUJ1SjV4akZJV0c1UWVpRG9VMW1sMk9ialZMQmx6YzdaUk1DZkxySHJNdzVUSmp3T0JDRGlOQkhXeHE0S2prcHh2M2RlSnZybWdjMDkxUkwxTDN3ZDk4T2thdHNlUW9HMG5QSVcyeWdOVGpDQzE="
m_p: "829SfJpu9T1M6fei56Vv49PtIPIKTCtAawmFf31BlTG7SM2q6a99B19S1cFA2xwx"
e_t: "1614250855826"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "165"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:00:53,280-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:00:53,280-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "361cde60a7d4485e84e264ecde32e62b"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "8zqgH7FN"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241300542076075925553502"
version: "260"
queryType: "PAY"

2021-02-24 13:00:53,332-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "165.00"

2021-02-24 13:00:53,332-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:00:53,332-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:00:53,336-INFO-fiz_db_operate-26-可币余额：165.0000
2021-02-24 13:00:53,336-INFO-recharge-52-可币充值成功
2021-02-24 13:00:53,337-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241300542076075925553502"
2021-02-24 13:00:53,341-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15100, 'pay_req_id': 'KB202102241300542076075925553502', 'notify_id': '3746567827217056840563752950', 'partner_order': 'NV203113782656752021022413005412666125720953163617', 'amount': 16500, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.252.5.72', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 16500, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 13, 0, 55), 'success_time': datetime.datetime(2021, 2, 24, 13, 0, 56), 'modify_time': datetime.datetime(2021, 2, 24, 13, 0, 56), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:00:53,341-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:00:53,342-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241300542076075925553502"
2021-02-24 13:00:53,346-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7786, 'pay_req_id': 'KB202102241300542076075925553502', 'partner_order': 'NV203113782656752021022413005412666125720953163617', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 16500, 'amount': 16500, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 0, 55), 'success_time': datetime.datetime(2021, 2, 24, 13, 0, 56), 'modify_time': datetime.datetime(2021, 2, 24, 13, 0, 55)}
2021-02-24 13:00:53,346-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:00:53,347-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241300542076075925553502"
2021-02-24 13:00:53,350-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 24, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 13, 0, 56), 'amount': 16500, 'status': 'OK', 'rechargeOrder': 'KB202102241300542076075925553502', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 13, 0, 56)}
2021-02-24 13:00:53,350-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 13:01:53,514-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:01:53,788-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:01:53,831-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:01:53,831-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:01:53,841-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:01:53,848-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:01:53,849-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:01:53,855-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:01:53,856-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:01:53,862-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:01:53,863-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:01:53,869-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:02:03,578-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:02:03,853-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:02:03,894-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:02:03,894-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:02:03,902-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:02:03,905-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:02:03,906-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:02:03,909-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:02:03,909-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:02:03,912-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:02:03,913-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:02:03,916-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:02:04,257-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:02:04,258-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:02:04,261-INFO-fiz_db_operate-26-可币余额：165.0000
2021-02-24 13:02:04,269-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:02:04,269-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "22839603016580"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:02:04,363-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "10804470be2846a49b7a817271008c46"
s_p: "WjRZVHh0cnhpVnRXeWFGbnZETlhmTFJ6SXNhU3A0b1VGRW8wUUpYbDBCSHRLUnpxNHpKVlZaSWJJWW8xc0RrMW5hZmxBUHBJVEhlRGJ5MnZFZE5NdmdXaVlYcjAzMUV3RndrTEtISGVTVTR3bWhnOTNmcU04WVRIdVlnRlJCZWRMMkl2SDhkWXpJNHZuU1o3dEZQWmdCNjd5VjRpcmtZOGljbzV4SEZuTWtGcHVrVHo5cjdqUDB1RUs0aE9ONGNlNENrQUJ4bnJXYnVhVzNsUHhwZDZDNHlzR3QyV3kya0FaVWpCR1Q0RUU3c250SkpXS05NQ1VVV0hSM1VjVGNKa0UwMkE1NlR2S0tEOTlocDY0VkduU2NKU244ZVVlVlhDcm8wVnd4Q3JRWVE0R3VWdDVydThicGxLdm5COHd6VXpnb1loVGJDVUlOR3cydEgxRUp6RlA1ODNWbWJvcTNKY3NWeVBJRFJjcXpDSTFOQjByMmN0UkpnZHBFOXFXTGxkSFc3REtldUZBNGhscFV2NklyZTdjZEpSUjlDRFZwTVlUcmtVWHh4MFltVTdLRnlmZllOcElxcTZ2b1hVa0FsYmJmOHJQSGhDZnQ3SmttNnBDZUFtYXhqUVFSTEhYOGhQVDR1MlhqRlJ0d0J1TDRIS00xZTRqeFFGUjhURWJQdVRuS20xNmZyTnI5N0laYzJZT2Q0M2Z4ZFRvcGhHZkdEM2x5Rnp2T2JFbjFSUE1xNUhZTjlKdjA4OWxEUWc3WW10dUVjdG40ZURyUXpZQVZHczhCSW95WGc4VU1kbHN2UW9NQlN0Nm15SlloOGlaWlp2bTJCZ2FmOVNqbHBySE52V3QxQzBnUWRDNnVzMXlRVzZHRXgyNHIxYjV2bnVBQjN6Y0NMSnl6MUhmSjg3WlZ6VXZGMXRqN09CdW9GSkE5RFBaVVprc3FNYTk1eHo2YnNIRDdlb2pBY3R6QktkT05yVXF0WDdTcUVoeVE5b01kY2J1a3Q3ZlkyUWtqeEVaa2Y0VTFjUHNhNEZGRFRiUzZKNnZLU1NlNHFZRk90T0FVcnI="
m_p: "4GwlOM15G877m0VVhz8mRr33b7EXoKXVv4Xc4JQmWOBUGM59YHWHNupL7KCd71g6"
e_t: "1614250926914"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "165"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:02:04,369-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:02:04,369-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "10804470be2846a49b7a817271008c46"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "by2vEdNM"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "0.05"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "veKZPkA2aYVn4DawUmVuJR8SZ06+9kdzQvu/vKsmLp3cD8zmQnhVyvEy+78JcpMPLkZzsfpzJFQJSzH6KiUgMXZoWn+SbPWxaujTDOjKV3zHbXNhhq+edYoVvWpg4pdL8cC9Ibjq3VEOmagTvmdoHN8+3eiMJvlNYX4Asuw4ZyqkiTKKegehhgfdXylYFqhJvRuqyVyVExMPavUYLo5nUFyJpbDvMzp4ynvO8fx1qE/5Z64kpJeHVMlVtTO1IWZtFd4NzyFiNwq+D6E3n2kejn68JS/S5KloJMqjRyqC3edWS0oJz63mZOCBl0UMxgrxa89L1akB1x5D2OgKDoaqVw=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:02:04,469-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241302072076075925882082"
model: ""

2021-02-24 13:02:05,477-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:02:05,477-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "12823152508318"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "8CmeKx6AHEQkNIlTRt1DJfd70Gnz4WMF"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:02:05,605-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "818f8331ac1b449da14dd8201300716b"
s_p: "ZGkxeGMwVEJ5MUJ0dHEwUUpjVldoT21qSU5rQUo3TzRlY3VWWmNqRmxJQVo4THJhb1pkVHNiMG4yS2F4VHdjZ3pBVlRlODFUUWZIQndPYm5uZHRGUUtjR2U1Sk11U1UzMzhCaXZGTEJtUXFQSnA1VmkxTFBMaUcxaHZaS1lnZ2U2ZEFnYlpNVW5OWHhEeGgzVWg1eHN5Q1hpM01ybGJua29KeGpRVjFGNmtWVWNCbEs1cEZ2WXljZWVPSFVIWnVGNjVhTGxxTk1DeU1WNjRNOVdMeGxSbEtIYVN2V0dYV0RZWlozR3F3Q2VqNFlCYk53d3FVeWQwT2QxeVdEZU1GbjBTM3JKSUF5VGJWMlplcVFVMGdOY2lnMlZTUWZ4TGZ6TnI0RndTb2pxZzd5ZTJLZVdFcGhhRWNWYjQ0eU50cDVPMDdXdE1CY0FZVWwzd01rTjJrMmh4UDhPTkJTelFhN1RCNk1lUnR6UzByWXcxNjNXQ1dheGo5UXJaakFOYnBHVWN4dHBNbVE5ZzZhSWtrYnlSQkpxdkhDOHY2VWlkYWxVamY3U2J0VWJubk1mSnBiZEpCVVNxY2JzeXZCYWQ3blQzcGYySko4VFFHR0FEdTBwMmlGOHFPb2hNUVh1YTVlbkdycHo1QURwQ0NlYjFaNU5lZkd4aVBuODlQZ1daemxMMDdSa3V4NmUyY1NUVTFsVjdsS3RnT04ydXRYTlM5NzFWR3lCVjdiQXVFNkZmTmFmRGt6M3BNRDBWUDhVc2x5d3FvYW8xQzVrajVsQjlMTUZTRVhodHhKM1VQTExxMlRjVHc4Y1FCUzRwREtFY0xpcmRTZ3k2dVhQWFZhUEZiUEVYZmVQUksxQjhFQ2pudWxNbTdGV3ZNZ0hrSmRYWXdUT2ZPT085VHpEVWp0MjFmNHFSWjVFQTFhemZPN0p0a2RqZUJFRU44S1BYOWpMZjQ4Ym4wbWVtN3A0WWhsbmY4SHNEQXV2cVZVbWFnMDB3MlZ1aDY2aVozQnh1b0RtUHdwZVF2NWpWVzFueGNkak9Sa0hmSXBzYWdqajU5Vmg2MHE="
m_p: "5B17yH65Y4N05LXn30Z70N0Q43ukb41K4I8M01XJMDiwil29yMq18pojZ2O3WhM9"
e_t: "1614250928120"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "165"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:02:05,609-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:02:05,609-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "818f8331ac1b449da14dd8201300716b"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "VWhOmjIN"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241302072076075925882082"
version: "260"
queryType: "PAY"

2021-02-24 13:02:05,664-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-02-24 13:02:58,864-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:02:59,104-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:02:59,148-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:02:59,148-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:02:59,503-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:02:59,506-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:02:59,507-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:02:59,510-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:02:59,510-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:02:59,511-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:02:59,514-INFO-fiz_db_operate-26-可币余额：165.0000
2021-02-24 13:02:59,523-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:02:59,523-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "13056677405433"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:02:59,622-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2dc34fb16b0e44d7b1821ce8699d9e58"
s_p: "YmR1Z0FIb0lmWER1Njl6WjJqVWNxN3Z2elpscURvdzFtMFRCYVFZbTNCWFBoZk8yeGxGUDZueXVQSjJ3bUVXSzFMUkFPbklTZkl0V0hTZFJKUWRrcElOS3cxNHlBWEpiZUtISlY3WTFqNUpDYzBydExOWk9JTHZZSVNWTzdWOWFTS0pSYVE3WTRPNXNEakZEMVRQYW9JQUZwSmY0QlhDMGt2Y1BPaWdtWmtwQWwydjVSblZpWmwzaUlIT05tOWZrSU9qRjlQYjlSUFpVVmowU0hTZlVUWWR4N2FndVYwM1VCUnZaQmR6anl1SklYNXdXcVl0WFk5eDBPSTJSamFjV0w5Rk9LTk5COU9BVlBTWGJuYldUc1Q2TlVpOFNaRklwTlF2UWxRYTMzYTZLZVFRamQ0b1dFNllyd0s0dVBzbzI4dWFJNFVyeUVjZkhnSXNTQ3dISnNmV01UT3NZQkJhYlJjTWNuaTE3RHdJZ1ZtMWtSNmJOZWNianc1WTF4cnVuUGxiMjNkOGtmZGFTY0w4MDUyYW90dHBqOUwxRzl4d015QVdQTWpidTNHRkFGWVdiRUg2NDNIVHlKN0ZZc0JMY0dzN0VBVnJOcGtRU3Nkd3NYWkNQbmNaTXJYZVhwZDdqMGpyeDlCdG9Oc0RpYmdwdnpxQU16Vm1DclE2NHZ4ZDRWSHZTWWFHZUNhS2RJSFlDRnpTeWJMMHBaWXJGVUZFdU9oNnN5QW8xMGVjejh1MU1KTTJmRFFQelU0V3V5ZGpTRzBCTG1RdVhiajVpR0RqWFBWTU5abjFIRzN6WkR4YVZ0MXN3S0dodmYxd2JJWWRvUHB0ajJwUDJYcWEzdVBZellDVVBJSU1RalhZaEUxbzJxdHBEMWV0YW5FOVB5N1JIeTZQbUVjR3NLNU1BWTJ4RjJ1U0hlR2NMNDRtWktsenhSem40Tll2eXAyTnFnZ2FFbEJjcjNadHF1WnJJWTFEMk1LY2dZZzhpRXNuNmIwazUyc3hyd3p6WUJmSkswWWlGQ3pvWUNJN2RFb0ptdW9LdllnSkwxdFdyUlFPRkNJYXM="
m_p: "J49tPlZOr7q9j3z97Rn4Xz3U3kB78l67hsh7713taNPx5gx615WVYZhznD42y62o"
e_t: "1614250982166"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "165"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:02:59,627-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:02:59,627-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "2dc34fb16b0e44d7b1821ce8699d9e58"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "1LRAOnIS"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "330.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "kWyw4JwVEmcU6znDikrr3OVEsO9yrNC8bMROyp+i6uhKp/zWs3911n8aRp7q5jx6Pch3qZAUTEIgiQWXnmcoX55ZKB93BRI8ofaDOI0jqHaI2kT8XHx6/dQgSvUDcuBIPKa8YDd3j2FUd6556yq6U4wq1tndCRDOqHJy4TWF24Md0c7sVK9wafbu8TNrg8dDjXSWX1v1/zQPIrAghRh7OAlt8ohB1nP+g892B9N8gAhTzhAxHrkIoSBe9CMc2gjpBfXY25J9fj8y5amw5XoxhoyUJ9foDJRKkCakW7GgdJrOjgzfKXJTQQ4dWoW/R3RkZPpzJUWzJV2lfyc7cjBbXg=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:02:59,711-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241303022076075925182442"
model: ""

2021-02-24 13:03:00,718-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241303022076075925182442&jnet_bill_no=9180646009496289543253358084&card_settle_amt=0.00&card_real_amt=330.0&card_detail_data=&ext_param=&sign=a7ac85483ccce14f7f536454e6cd227d
2021-02-24 13:03:02,528-INFO-heepay-scarlet-53-返回结果：
2021-02-24 13:03:02,536-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:03:02,536-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "34207665178584"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "QG8FigZueq6VaXnoOR3x9lpdvCJ1MsLS"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:03:02,637-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "1e8823e25cc5453589f0f98ccff137d1"
s_p: "TFJNbVZuWTJRVmVuYVkydVVOSFkwQnhSUmlpNlNVVmNxajZMcmljSmlVY1Q3UFFoaENrb2xNMVlHY1JpSk1xbWZVN3NBNTJnck4zaG1TeTJJdmxFTlp3RjBzSkRLVzV0UW84N2lBMXB3czljQWthOE40UlV6M25STUtHRDZsMHMydnlqb0c4a0dSQzlEUkZOcDNuV2x5RFFVMlNKallJRjNtbVZTTVBIaVVZR3dLdDl2MTd1a0RRaVZZNHplb1gxUWFoREg1S2NmRjJKNW9zcWs0ZlBTZW80QmxVMXpHR2xWZmFQRk9zbjhmcENWcWR3Sk00bFBRZjNpeDJPbHJXYnQ2bEo0Vk9NcW01ZFkxTkFoRDUydjBiRUZvSkpTWGxlczlpRGs1WVZFd3FCelFUUkhoa2RnMlljeW9rRFRIb2JITE1PclBHOWNGRzg1ZWJUbnRmUUdIemI1cFJUUUkyTnhjSThmNkhqQnh1WFU1Rkx6VVd2cDQ2NlJGS0dCdWpMcnBVeklsQXpiS2ZFM01FemtzNExGYXFJell3TGtPclBvMWVxMGlOMDdoZkhoUVI4R0U0V2UwNG5rdDA3elBKcDM0UTVyS1oyN0tGVHlWalZLaDJNa2xPVlRRMFBNbU5FVDRWYnA4TFNlN3hBZ2VjYjZyRThQVVhGbHhDOVBlV1hWR2NHVEZyYnVlaFFKZklsVHo4R2o1eFhGSGhGWTRMM29FYnduQXJJQU5zdGo4eWhyVGpHQmYwM0hmaHgxUEdvank4bzZaQTlvNTY1N21LdHgyaUc5THdWZHZVYkUxVzFGTU1OeUY3UHY2V1RNT1R1WVh4cElkcDlvWTVCaEh2M3k2RHNDbHdUR0F3a3drS0I5WnFtM3dObFVDMG5MTW9vOUdoUU1tMjFlcGVTU0VySkpla09NcTNwNXNGbUV4S1ppRTA4NXBiS2tKWHZ3UUpuaDNlRHN3eVpvR01TRmxCSmk1R3AwS1F4bEpVM2I3YTVhOEFaSVVaaEpMRlBqcWp0N0ZIUmZLZzY0UFhLRDAxR2hkUWtrb3MzdG00NE9UQkw="
m_p: "c8d64vlT4yhi983V86g0jQh73VUSo43zxx114vs253Cr6tB7geDo1VT5oeY78eL2"
e_t: "1614250985173"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "495"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:03:02,639-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:03:02,639-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "1e8823e25cc5453589f0f98ccff137d1"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "2vyjoG8k"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241303022076075925182442"
version: "260"
queryType: "PAY"

2021-02-24 13:03:02,696-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "330.00"

2021-02-24 13:03:02,696-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:03:02,696-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:03:02,699-INFO-fiz_db_operate-26-可币余额：495.0000
2021-02-24 13:03:02,700-INFO-recharge-52-可币充值成功
2021-02-24 13:03:02,700-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241303022076075925182442"
2021-02-24 13:03:02,704-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15102, 'pay_req_id': 'KB202102241303022076075925182442', 'notify_id': '9180646009496289543253358084', 'partner_order': 'NV203113782656752021022413030257436596950114987840', 'amount': 33000, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.252.5.72', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 33000, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 13, 3, 4), 'success_time': datetime.datetime(2021, 2, 24, 13, 3, 5), 'modify_time': datetime.datetime(2021, 2, 24, 13, 3, 5), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:03:02,704-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:03:02,705-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241303022076075925182442"
2021-02-24 13:03:02,709-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7788, 'pay_req_id': 'KB202102241303022076075925182442', 'partner_order': 'NV203113782656752021022413030257436596950114987840', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 33000, 'amount': 33000, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 3, 2), 'success_time': datetime.datetime(2021, 2, 24, 13, 3, 5), 'modify_time': datetime.datetime(2021, 2, 24, 13, 3, 4)}
2021-02-24 13:03:02,709-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:03:02,710-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241303022076075925182442"
2021-02-24 13:03:02,713-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 25, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 13, 3, 5), 'amount': 33000, 'status': 'OK', 'rechargeOrder': 'KB202102241303022076075925182442', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 13, 3, 5)}
2021-02-24 13:03:02,713-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 13:03:26,507-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:03:26,779-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:03:26,824-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:03:26,825-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:03:26,833-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:03:26,836-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:03:26,837-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:03:26,840-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:03:26,840-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:03:26,843-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:03:26,844-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:03:26,847-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:03:27,189-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:03:27,192-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:03:27,193-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:03:27,195-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:03:34,538-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:03:34,815-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:03:34,860-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:03:34,860-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:03:34,868-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:03:34,872-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:03:34,872-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:03:34,875-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:03:34,876-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:03:34,879-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:03:34,880-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:03:34,882-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:03:35,217-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:03:35,221-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:03:35,221-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:03:35,224-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:03:35,225-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:03:35,225-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:03:35,228-INFO-fiz_db_operate-26-可币余额：495.0000
2021-02-24 13:03:35,236-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:03:35,236-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "65183642128523"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:03:35,454-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f8131104c360469289a270f067322afa"
s_p: "ZjRkRzR2Q0J3aTJzQjlBUlVORjI3Y2hDUVJWVDZPZFNPU0dNbFljY3hvSm5pdVpJeE15QTRndEdsOFV0RDg2U1B1UFN4cmJWenlPcEJWQ0oya3l6WkxRTm5CWXlBTWV0cERTcUNoa0F6eVhPUXpibTlyamltMVR2UmwxdGpsV1hCMEE4S2wwZWVGYVpiemZaWlRIT0Z2MU1zNFlKalRNOXg4c09YaUxReEZlQTFvTFN2eE5jajJrNkxETnV5alQwaWR0MFR4aDJLaUtNNHJEQUNIamtHaHNwa3F4SXZTT0p3T3VWWVlxeHhnaUR4V1FheGs3SDkzYXpWbHdneVE1NnVCVHJGYXBRRlJJMllhdXhIWHEwZXozN0pHZWNlZjBrZHd5bmJDOUZFTEFJNFN6MTIzN1Ryc1RSTkNvNTNrY1VVakJKbVlScmJDZEFyYXpGMDlBZ0IyZDFndk9iWkhJZ251a2hCMnhIa1p1YzNCS2FsaEJMdzh4ZzFVelFtSnM5WkNxNHUxMXdFS2hPT3ZtYmJ5WFV6OXpwNGV5Qk9McDJuVjFkOTFXTTczQ3BNSkFBUlFiczZQbk1ob0xMcEpjZU1mWFhsSkh3RUxJM3BIZFJBaEQ5ZTd4ZU5aTURIcWZOOHdkeHU0MTlNb0NHSkI2a2pyWFlmTVQyOTdSU2VmQWpUb3FzNXJpSk9uc1o2Nno1aTMyRjc1RGpHakRUWXJXRmtvY1RpcWdaZDNNQWllazdRajJRbWpUakVOUmxMNUNsVW03M1RLT0ZtNjREMXV0ekZOWmNncERhWVBoa2ZzTVJUZzRYb2JWaW1lem1CcTNQQWJBcE40MEt1b2JjeVRnSFpvRGJwRExCRUlxa3N3djROOXViVHM4T0hlZEdxeTF3QlN3Rm9NMmJ2NkR2eDlPQ3BzUFltOGs0N0tZQmFpMkpBeFVWdmpuQjJDUzFrOURtQmI5TWF0dlZyeko5WWt6ZDNyd2JGU1hqeVNNUGdmUnpZTUNBaUVwN0dkV0hub3pLeDRTSmNKY3Qxb2tScnR0cUpFSDM3SU90QklUNnhCRm4="
m_p: "hQtrbgouRV22401E3Vgi4PPWhK2iI1k17nCYC5017d98VX03pSEMmrp317Y666yO"
e_t: "1614251018005"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "495"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:03:35,459-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:03:35,459-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "f8131104c360469289a270f067322afa"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "lYccxoJn"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "0.05"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "l5HewfYLtvuoREkO3EdaW4aA0tXtdGwMUTzxOGK1GhjbQwelp45Jh9sQNiTDGB4nsGzQzJvbF3o1X2m6HCBZxpZZnXfymt+Nwt40YAaG1WhLsKgf8kHngEd1Tztde/Tvz6KHuEmvYVD7JFHYu5pt36rZzRM2ViO57IVgHXXv+89RiINGvwgjWYQG0bWGbjDPCh3N5na+/k5Ry3S6jthSA8Mg/yOzpZayc5znj0xLB9LiHVr/vm1lQrmx5vYUFbWyzkQGZYd5lfIiwFNMJMynDx83yPLRV02NWc6Q1qODM9CmwkIkbYRMeBBMHWH90M1kminEXFYh2cxIxfU9IyviCg=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:03:35,581-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241303382076075925478352"
model: ""

2021-02-24 13:03:36,588-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241303382076075925478352&jnet_bill_no=3009779369982148244568822832&card_settle_amt=0.00&card_real_amt=0.05&card_detail_data=&ext_param=&sign=5f9543e50223c1bfb8e36beec93f99bb
2021-02-24 13:03:36,703-INFO-heepay-scarlet-53-返回结果：
2021-02-24 13:03:36,711-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:03:36,711-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "02964764568904"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "OYu9BiRX7x0Z5drtgmn4bly1vGfcLQMI"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:03:36,796-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "33a0c2ade8664a859a7fd9c7c56c6319"
s_p: "UXBZWm1laXMwTzNLd1EwdTY4NndRbVFiZkQ1NGx4aWFRckpEU3hpTmtkbmxwY01tdlBuU1ZpRUlvbjRKQTAwUUE2dHJlamd3OTlIWWE4SFprYmlmWDRXYjZuZTBGbUV0bnVsNnRkTXhUTnFBUGUzMEZaYWI1VzJnbDNxYnVuU05hVm1IVUttYnRIbUlET1VQVkZiTjljR2VRZjhhUkcwZkJGb0xMcVZZSUxMdkc5TWJ4R24xNk1RZEtRclFDcXZGWjdHUEhQTFpHRG5PczhMRVpSWm9tYUhxWWpJbDFKWlkxazFHTG9PTjR0VmcwbDJpR1lnSkZYcVBqSmsxQ1BzT3VGbHozampxZ2Z2SDZGWUg1WnBsbWNKODh1eGRDVHg0alcxbU9RVUR3aG5hQWdWRkJGMzE1NjJOSUVYVzFMbTQ0SFFLazJkVDZsVURnY2REWDVTQXN1WHN6YWlweGF6UEdJZDVzS3dtYVpUN3ltU3Y2YkhsSFNXelNuVGJXUWtuaTh1RkNXaGVIeXhtMlVVcUJqVDM0UWNvZXJnbjA3ZW1MbWhyb3V3d3BnQ2h1blNPTTAyRjN4bTFwdUJzSUl6ZzhITTExOTdubjZESUpRZXJlcFRFS2RNUXliZDRjRTFRRDJDcDU1OTNRQmgxeDQ1TVVjWmZFT3pibDFWd1lwbFdMVjFNY3JQOEpGcVBBQ24zUWc0Y0ROZWpid3M2UXB2VlhLVmZZSHl3bmF4MFpWT2Zyb2o4SldLczROTnI0QmIxZ3pmcFZUTkFDQmxvVG4xYjM2QlJNZkRqOE5tOWRsNkR6UGs1RnlYZUhuQk42a3lGdERnZUYycE1FdWkzcm9pcFN4aEE2TlI3MW9kNXI0M2FKQjdEMDlRTTJrS3BjbVpmY0tydEhVd0hUaGxmU0xtWnoyTGwyVUhyZUlRSUEzZ2pwa2FKMlp2cG1wUXY3REc4b2lxaFdPZ0VaUllFVm9CenoxaGZkbGlGc202QnB3ejNPN0hRdkR2RUluRGsyZDBKRUVXN0xXemI2Q0o0RTV0b0Z0bGJlZEoxMVBMNzVGNXI="
m_p: "f2I3WgXj4dOBjMAhN357Is3HjMMZ8y7U6bL29VmqRAB2jIt71bvQYbMw10Z7w3Di"
e_t: "1614251019350"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "495.05"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:03:36,802-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:03:36,802-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "33a0c2ade8664a859a7fd9c7c56c6319"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "UPVFbN9c"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241303382076075925478352"
version: "260"
queryType: "PAY"

2021-02-24 13:03:36,854-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.05"

2021-02-24 13:03:36,854-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:03:36,855-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:03:36,858-INFO-fiz_db_operate-26-可币余额：495.0500
2021-02-24 13:03:36,858-INFO-recharge-55-可币充值成功
2021-02-24 13:03:36,859-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241303382076075925478352"
2021-02-24 13:03:36,863-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15103, 'pay_req_id': 'KB202102241303382076075925478352', 'notify_id': '3009779369982148244568822832', 'partner_order': 'NV203113782656752021022413033836477562690697773372', 'amount': 5, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.252.5.72', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 5, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 13, 3, 39), 'success_time': datetime.datetime(2021, 2, 24, 13, 3, 39), 'modify_time': datetime.datetime(2021, 2, 24, 13, 3, 39), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:03:36,864-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:03:36,864-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241303382076075925478352"
2021-02-24 13:03:36,868-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7789, 'pay_req_id': 'KB202102241303382076075925478352', 'partner_order': 'NV203113782656752021022413033836477562690697773372', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 5, 'amount': 5, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 3, 38), 'success_time': datetime.datetime(2021, 2, 24, 13, 3, 39), 'modify_time': datetime.datetime(2021, 2, 24, 13, 3, 39)}
2021-02-24 13:03:36,868-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:03:36,869-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241303382076075925478352"
2021-02-24 13:03:36,872-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 26, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 13, 3, 39), 'amount': 5, 'status': 'OK', 'rechargeOrder': 'KB202102241303382076075925478352', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 13, 3, 39)}
2021-02-24 13:03:36,872-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 13:05:38,347-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:05:38,585-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:05:38,627-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:05:38,627-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:05:38,636-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:05:38,639-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:05:38,640-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:05:38,643-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:05:38,644-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:05:38,647-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:05:38,648-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:05:38,651-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:05:39,016-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:05:39,019-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:05:39,020-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:05:39,023-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:05:45,585-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:05:45,822-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:05:45,870-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:05:45,870-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:05:45,879-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:05:45,882-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:05:45,883-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:05:45,886-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:05:45,887-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:05:45,890-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:05:45,890-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:05:45,893-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:05:46,242-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:05:46,246-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:05:46,246-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:05:46,249-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:05:46,254-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 13:05:46,265-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:05:46,265-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "00667476255968"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "MO1SCDKXtlNPuY9UxrARzZspdkhF6vye"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:05:46,324-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2de662b2a2df433ba1cd931be369fa1a"
s_p: "SDhUaDFIZjlZM0VIVGhIaUZ4NllNU3pOaUpod0x3c2psWnFvaE5sVGlPQUI1MHRWUGNGbGVoa2ZjeGRZckZYOVJYdno5WGI5eWRTdVpTM2FZU2pMUk9XS2RJaDBqQzRTSHhhZFp3WjZ1anVZVjlwRUc4RmM2RERhNXlxMFpHNnVET1pva1dkRHYzcGl0UnJVWktCU0xEMkQyYktRQnVFa3BXVHVkNWxsVGNweGFOOHI2V3hQejd5ZzhzVHN2MUlmSEZEN3ZwNWhsbHJMdTBGZjQ0MTFKaTB2M2tjMnp6ZHVLWTF4elR3Vkh0ZmdDZU01WE5ia0tRSm1BSmphZzRhQWViZWdyemdFc3lGR1pucTljTW1TMUxQU1YzSW1nejZJVjV6ZjRnTE1KV1dsNk9xbTNSdGRMUUhZTm13VTBKMnB1bVhlVkNPTThFR2xPQUJrdHNRWk51b2dEN2xPQkNPcWNldk8xbVdjUmo5UVpDV0dhUHZxcHVDMm9ycDJDQ2M4emlHdFpSM1BMbFpnUUNUOUpyODlzR0FScTZKY3VxUDBnSjFqUDVTeU91ZXRlY2MyamJsTzFZUkozMmxhQm5vRHZyNFZBRlllZ3pSNkxEc3ZoSEJ1VTFUUzdtWmc4SkFWME1OUnduaUFsMHhBa0tzY2VsTXNva3RGbWZ6b2duWXh1MU1veFRoUk4zNEhMbjFtYUdTQXhQUUNBOVhQRGVZWHBJZHpYT0RFQ1hNczNpWTIycEVEZmtZd1RHM0RPd0t3eXlOSUFOd3VPYlRCbW5mMm9FczBMMmc5dmV4YlpuVjBHMTl0VG5CdUExSkhLazdla1JWVkdZdnlIWXE1WG9wZ2RQZUtPQWlKNnJGQTBKNTFJNU5JQU9kOXR6ZllZSWNISDVvSUVtYlkwQ2pqdXpqaXFRQWg5M2JCWEJ2Y21KU2lCMWZFZ05hVG51Ykl4N1FnaGl3c1BlR1o2Z2taQnV1S0pFYmhHVDRwc0xHcmI5QXpKNmxQalZ3Z0s3cUYyUTFlVDUxQ1JDZ2NYYUFtSVBZYTB1Mm9XY1lUUFRMcUg5VzU="
m_p: "nbuPhgzp79q3bQf6CSGd8t8IW8F8U6V788Y877z19d8yUPV58Ur51En17835wBlh"
e_t: "1614251148909"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 13:05:46,326-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:05:46,326-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "1.0"
  t_p: "2de662b2a2df433ba1cd931be369fa1a"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "dDv3pitR"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
transType: "SIGNANDPAY"
renewProductCode: "20310001"
signPartnerOrder: "VHJloTrZD4R17InLBdKwbe3NfitWpGUX"
type: "wxpay"
amount: "0.01"
oriAmount: "0.01"
ip: "58.252.5.75"
sign: "NZfHjSBvTKJ4SFtWPoTMC+t7mXjNLJwRX8zmpvR0OH6TsEYvlFJWAI5fXFXwRJGjjld4J63F8HXLVM73JNEkYQmWxyItmqYmg1wcIMt1yI6lUd3yD8dTyTFjBAMckVUQnQgCseu0R8ZlHTrqyaAlDU/AMIadSQGxwmJ60OxbMjfc7LGd+IWuA/YQmPdiDv+nIdVAuXwigqi2eox960by8RvEYlxf136S/ci7xiu2X2a3TdQnBtXCkyS8EjzStss/cugS/RRBTLLj+PZObyj89qFkMDQhq/7zGpBmZhUdCozqkq/FpsiTipqgzbgvzB4F5W/u+bvUWeQcUJ4aQomOSN6xpyKEIFl9Vbr84+SzP5qkChXfXM/mk42wfrTv60wPTPVaLdMfMg2rzFB4kHlJC4CaE4kFBmc0Rknvfl49FUGhf6kyca4lVk7TYH0Tejxq+jSLqBNRUC5NosjmH15kfV4T6yXnd1B8UPcuSKIMRlayLwOMWmruPITP6K5kULFc"
signAgreementNotifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
appId: ""
isNeedExpend: "0"
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "SIGN_PAY"
  productDesc: "SIGN_PAY"
  partnercode: "2031"
  appversion: "260"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "VHJloTrZD4R17InLBdKwbe3NfitWpGUX"
}
screenInfo: "FULL"

2021-02-24 13:05:46,749-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"6519428e63c64a3da02c611b70678071\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24130549267476ec296dcad32f7c760000\",\"sign\":\"ECF14AA03B535DF9A2F9C4318C89D488\",\"timestamp\":\"1614143149\"}"
}
payrequestid: "RM202102241305482076075925771562"
transType: "SIGNANDPAY"
signType: "APP"

2021-02-24 13:05:46,750-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT contract_code from `db_order_0`.`autorenew_sign_record` where pay_req_id = "RM202102241305482076075925771562"
2021-02-24 13:05:46,753-INFO-wxpay-scarlet-96-回调参数：<xml><change_type>ADD</change_type>
<contract_code>SN202102241305481474687133105265</contract_code>
<contract_expired_time>2022-02-24 13:05:46</contract_expired_time>
<contract_id>5912800849</contract_id>
<mch_id>1259634601</mch_id>
<openid>oCg6Xt8NvRi7jGuap_5B6XdY4oYk</openid>
<operate_time>2021-02-24 13:05:46</operate_time>
<plan_id>120877</plan_id>
<request_serial>012977407412135823</request_serial>
<result_code>SUCCESS</result_code>
<return_code>SUCCESS</return_code>
<return_msg>OK</return_msg>
<sign>FC4ED0C088E2E3B9FA0741D3139AD199</sign>
</xml>
2021-02-24 13:05:46,878-INFO-wxpay-scarlet-100-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:05:46,878-INFO-wxpay-scarlet-102-回调解析成功
2021-02-24 13:05:46,878-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8425943857285242684386470679]]></transaction_id>
<nonce_str><![CDATA[TvYA9hVnzjwS0QqBWKbDk5JCHU2Pi8ut]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[7CAF8B256DB04D8699891998A8A2F7A5]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241305482076075925771562]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224130546]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 13:05:47,000-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:05:47,001-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 13:05:47,010-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:05:47,010-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "63797987858568"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Qe4ADg1PKE7NkXru5sO2YVJFdiZUG36R"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:05:47,102-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "39c4b611ae6e49e5bd7bcdd34eb2a593"
s_p: "MmJYVkhFcHVyMGhPYWVnVWQ4S1dGSkFmbW5DT0hsbjA0cU1DcU1tMFhXMm54NGpXM2tYR3NxVlBWNHBHdmtzSzg4ZVFpMVhvRk95cmRwN0lneFlrcGw1dGtLOXpQSVNBRkZXVXcyOUZXNHJRa1MwN1FqU1ptSGJoOW1HdjJTaE0zd1gxNkkzbE5sdlpZa0JwMTVYcFVwdkJuY25YdlBaUDVUWkViSHZpMHhyUEp0ZklHUHNicHdGUkRpT3hHOGo1M1FMT3VXQlRCb3BhOXV4QzJKdldlYnNudVVxZnkwZUN4bWtmQktxcDFuODdsaU5ycjg4U1NFRWExQzhCNWJqVm90R0loQ3pvRHlIM0FaOHpSeVF5SmV5R1JqcW9odHBXamRFS3VNYlBEblFuTHNveDRVandyb2VyWUc0SW96QWVtZ09ZeGt2UURBN0VtSXZSbks4cjN1MzczUUM2ak9xVWJYblBUbDdseTltZlJlS1gxVWtoRUlmUTZ2ZWJwaDRudHgzeGdueGI0MzNJSEdEUFlVbE1JTjNmVFRHeUh6ZGlHWlRGNFdHb25yZUNJNnd2d1VlTWtaZTRld1lOUzZncjlkOThzb3dOUWZaU3RtSUNvemM0QkN2TlNOa2hvNTNiTXhqeEZTSXR3eEFCdFZJc3lXN2luTVRzMmRjcVczTm12dlJQekpzZEZicFFBVHJoa1ZMMVExTmRXeGlrVU0wMlZ5Zk05RTNlcDUzaHpzNmR1c0FVSDNLNEpwZUNUOVhCanBGck5GOTg1NEw5Y0xMNk0xTWUxMnF1bGRsQmVqS1AzbDlteXpkY1ZaUFpjVmxvUWVtcEFrUDUyaDdMbHdBMWpHbU5kcDZFaFBVS2ZyT29hTUZRcFIwZEQ2RnZUdEN0OE9zNG9udkM4TThGMzVENDk3Zk00QlR5d2M1Z3F2ZE5TZjh6QXlMS0RldmpzTTdhZU16d0pTeVFpUHlQcVdHQlJEd0RObmxEZzEyRW5scHBnaHVITU9LZzlvcTVqbHNaRXYwT0pKTzNiQVJoZ1U5eUFPQ0sydlBpOUpiUjdsd3U="
m_p: "gWxbg7MqLWG7x7ocbI9jJMu3W365n8pQcJzTqj5X8R3j4J6OY65S9JZULZVgu6sV"
e_t: "1614251149652"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "495.05"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:05:47,104-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:05:47,104-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "39c4b611ae6e49e5bd7bcdd34eb2a593"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "mHbh9mGv"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241305482076075925771562"
version: "260"
queryType: "PAY"

2021-02-24 13:05:47,162-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 13:05:47,163-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241305482076075925771562"
2021-02-24 13:05:47,167-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15104, 'pay_req_id': 'RM202102241305482076075925771562', 'notify_id': '8425943857285242684386470679', 'partner_order': 'VHJloTrZD4R17InLBdKwbe3NfitWpGUX', 'amount': 1, 'refund': 0, 'contents': 'SIGN_PAY', 'products_name': 'SIGN_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '260', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 5, 49), 'success_time': datetime.datetime(2021, 2, 24, 13, 5, 46), 'modify_time': datetime.datetime(2021, 2, 24, 13, 5, 46), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': None, 'platform': None, 'screen_info': None, 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:05:47,167-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:05:47,168-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241305482076075925771562"
2021-02-24 13:05:47,172-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7790, 'pay_req_id': 'RM202102241305482076075925771562', 'partner_order': 'VHJloTrZD4R17InLBdKwbe3NfitWpGUX', 'partner_code': '2031', 'products_name': 'SIGN_PAY', 'ssoid': '2076075925', 'origin_amount': 1, 'amount': 1, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '260', 'sdk_ver': '1.0', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 5, 49), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 13, 5, 49)}
2021-02-24 13:05:47,172-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:05:47,173-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from  `db_order_0`.`autorenew_sign_info` where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 13:05:47,176-INFO-lib.common_biz.fiz_assert-139-签约信息表记录正确
2021-02-24 13:05:47,176-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from `db_order_0`.`autorenew_sign_record` where pay_req_id = "RM202102241305482076075925771562"
2021-02-24 13:05:47,179-INFO-lib.common_biz.fiz_assert-154-签约记录表记录正确
2021-02-24 13:05:47,180-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "VHJloTrZD4R17InLBdKwbe3NfitWpGUX"
2021-02-24 13:05:47,183-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148850, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': 'c54d107bb0a04d2bbd470637bd2ffc7e', 'request_id': 'VHJloTrZD4R17InLBdKwbe3NfitWpGUX', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"ssoid\\":\\"2076075925\\",\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"VHJloTrZD4R17InLBdKwbe3NfitWpGUX\\",\\"notifyType\\":\\"SIGN\\",\\"payType\\":\\"wxpay\\",\\"agreementNo\\":\\"5912800849\\",\\"sign\\":\\"Piiodn7d7M60LgQBFANHKBptkVbmHt2GFKUAi8GTj0tBBy7hC8oEuYOP0jrW5WtxUPmaUIRDbtKrgTROsO1fD8LnpRoN/+ayPjtKqPCr4eakGURQoFHUGlLpSrJNbm1fQgCBXsC8th9/rhoFodL2diFSc/WU+sXQvBKSSkLg4pY=\\",\\"notifyId\\":\\"IM20210224130549852\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"renewProductCode\\":\\"20310001\\",\\"status\\":\\"OK\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"VHJloTrZD4R17InLBdKwbe3NfitWpGUX","signType":"MD5","successResult":"OK","timeStamp":1614143149438,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 13, 5, 49), 'insert_time': datetime.datetime(2021, 2, 24, 13, 5, 49), 'update_time': datetime.datetime(2021, 2, 24, 13, 5, 49), 'extra_json': None, 'remark': None}
2021-02-24 13:05:47,183-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:06:20,256-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:06:20,495-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:06:20,550-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:06:20,550-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:06:20,557-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:06:20,560-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:06:20,561-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:06:20,564-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:06:20,565-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:06:20,568-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:06:20,568-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:06:20,571-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:06:20,925-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:06:20,926-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:06:20,929-INFO-fiz_db_operate-26-可币余额：495.0500
2021-02-24 13:06:20,936-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:06:20,936-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "02784748998334"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:06:21,044-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8d083651869f4151adf52b26d7d8a959"
s_p: "YWJ4ZTdXM2RBVUxZOTNTRzY4NVpPM0hSNFNIU1M2MktjYTJ2aGh5cEF0STFQZ3BRbTl6b3RvSkJveWh2TmYzUGhHQzJzcTN2Mk9Tc0pqTEd3YU5Cam1HU09jNlRtY2tuVmR3alo2bklpa1V6eFV6UHhNRjJGbnNyV2JQUlNlcTR6MzREWjJ2Rnc1RU1sZ24wenFTYkpOTTFhM3RLUzFxeFMyeUI3ZVVKdDNHWVZTTWlydlJvTzAxcDllUW9lT2MzNlNpazBrcTVXNlBsdXUxNzRJYVJ4OWJFTmphWEVjSWZzOTVWS0ZTSFBYQm9qT3VVR2E1Q2w3dGg0SnZ2VEJ0bWkwU0FVUWJveExCMXcwQzlGR2lGeENLVEt0UHdOdkh6Qkp3Qnp5N0tFR3p5SmswMjdOdmlWYVZUYk1SQVdkRVo3VW5pWUx1Wm1tQkpsRXlLYWExd2FmNGlCYmZIVWdBcEhxb1U4WjNNYTY1Smt6NWg5ZkJ4bjdsWEFrTHI2RWRhd1k0NWQ1OFoyMkhjYTFVUnFSUXV6b09HYmNJSUN5eHF1Q2x3Q2FucVVVV2pKN0hOUE1rbG5OY1g4Ynl4eEswdzlHM3RVUnlvNjZkUU95TjQ4OFZ4QkhmcnhydVpLT3dhb0xnWkVPTG1rOFk5Wmk3bFEyTG8wMjNPMGdrV1NRb2hlNW0wUkRhbjY4eGgzTzlMblhaNDEwYlZacEFmcFBlSmZZT0dxUGpJWWlhWXh2YVpaZkFaRFZFM3hYbjBVU1daSURWWmZvODBmTkJIZ1Z6NEdzNWRkVFBjd0dSbnhPbHBQMTFWN2h3U3RpMVJ2VUpORUxvNm02VFQ2MUMzQUVpcExhTlFCdnAyZ2c4RW9Cd3praU5XVWJxVXpTZVl2STNBMm9ja3dtbno4NjlqYXZHV0xCR1Q4S0JpeHZQOUFoanFyYVh0YlgzN3V6Qzc2Nkh4SkZ0Tm5NeHlGSGVJa1hENWpJZXBPMFNaRWg1b1A0SVNQdnhxR2lTN3hXQXhGUmdGQWpMZ2UwRWRhS1RJOHVKbTZkNUF3TVpTVHJOeUNjQkM="
m_p: "3GFQSeVf8w769gIzk5G8qPSvNr5888ZJXj6w5686277vdupznR7F1x25baMtc8Mk"
e_t: "1614251183589"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "495.05"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:06:21,051-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:06:21,052-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "8d083651869f4151adf52b26d7d8a959"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ca2vhhyp"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "0.05"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "cqNg2LeawGn3UXoCcuBId+/9b4jZ6F27F+4CVsF4EYRs9CMvbMfQJK0AYuTR0etr5Re6VofiSImBl2M0yn88sP0yTAoTz6pBYteuYIVevyzHHvlFL0OSFicr6FXY3H5nXs9tmzVxq7xxysQXRBUGDt1jsjhAHHYQ+zEOtuxeN9oXmGe7DYdnq6z14DMv+lisDLfLozjOBiW0Q74QDsmquxFAK9JWNWbeEt/n3j7DXGzTGmw2F6UwaWOUPpz72HIwaHPRzsFP3i5+nkjmIt+MwqS8+ki/T2bXQRQZbrRWbmZovbVkxrG7Q80PudL/sHOa+RCo8DZq+ifsdeAjr+ubdQ=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:06:21,138-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241306232076075925211632"
model: ""

2021-02-24 13:06:22,145-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241306232076075925211632&jnet_bill_no=3861643362197624915417612937&card_settle_amt=0.00&card_real_amt=0.05&card_detail_data=&ext_param=&sign=5a83a188b4c2f08f9fb11d67b4ad0921
2021-02-24 13:06:23,671-INFO-heepay-scarlet-53-返回结果：
2021-02-24 13:06:23,679-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:06:23,679-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "29687410463701"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "lRmu6c0gyj1xLvpUGViDWAhraOkNIdf4"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:06:23,772-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f631d01f46ff4ce986b1e98a535f845c"
s_p: "M0c2cEtDNXF3dGRVaElKa29VVUZ4azJCS1ZwbHNMNHV6d2x5VFMwWFNCaHdBM0dtQXBBdWJia1FzdnRqbEoxZDNGT2hob3JFV1RLanVPNUtoMU5raXpZbGJrTUczVGhTanVQUGUzMzhQZ1Uwb21BbElKOFI1SDNpbTdjMXNFTmE1MER4ZkpNQlBVV3FBdm1UMnVkMkxSTE5qbk5TZUFVekRJSTJqWWVENkhBdVhMYUtmYzNkc0dreUVGYnlDZWNobGt6WVhvRUNUdWpVUnZoT0dCYzR2enJuMDhJMmYzbkkxaWJRcEc2NFlqQmxkMFozZmhEOUZKYjdTTUdqdmhVR2YwRUV0dXd1UFlhaGExWVpPVm04QUVSYVNWN1cyMUxaZUFHd3dRdGNma3ZlbUo1MFl4UklDMUUzVVlIWENnVlFZQ2JwNXZURWJKb0pOU2hEQjc2Ym8zYjVXOXdoN2IyVFRLVG1KQTNFdmpJQllqdkF3Z0JDU210N3o5Q1AxbVR5dWpXOXl5SG1ESmgyVVhpRnhJMDR4ZHRXa2N0RzE1TXJLcnNwS2hXUG1oTDVuVVN4YUZyTXVvdzBCaXIzNlMwMEJVNTNZNnV0cUZRSlVaYnpVckdONzZ2UW1STkN5V1pTUkxGa0hJSWY1bHZ2YkhxMWc1Yk52MzFZRXA3bVBQVmJ1T1A1dnY1a1ljZUM3bWtPMm1CTmliMFlJUjB5MzNuUGJwd0JjR2tYa01HTGREZW95dmdrQnFGclFJYlpnVjRVanZJSU5lMEVabGlrTHJBY2pRbHoxSk1sMEk0RU1rcnlrZ1dMRm9PbXBXT2dwNnhvam9RVFd6OHhlVkFFVUY5b2NTMDljNDliQm54b2dYUFJONmFvV0Z2ZXpId2pRVHVFRTJublRFSThsSDJ0djVDRVpFekRpTEtEVWVXV1hDU0tqdWRzRkxrOEtLdHFGSVBaVlF1RExic2xyZndtY2ZjTXhnekdTTGhyRzBJRGd2dWFlVGlYcGNBS1dZRWNiaFhnbTloNnVJdzQzZFBwZUJsbW4wNVlKUUlERHNzZFZ3U04="
m_p: "d7viLya5T3chQ376wan6TiHu4Xnc8qU5Snp443PcoZD15W9bzkjy862h5D8j2Qbb"
e_t: "1614251186323"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "495.1"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:06:23,776-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:06:23,776-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "f631d01f46ff4ce986b1e98a535f845c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "I2jYeD6H"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241306232076075925211632"
version: "260"
queryType: "PAY"

2021-02-24 13:06:23,837-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.05"

2021-02-24 13:06:23,837-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:06:23,837-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:06:23,841-INFO-fiz_db_operate-26-可币余额：495.1000
2021-02-24 13:06:23,841-INFO-recharge-49-可币充值成功
2021-02-24 13:06:23,842-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241306232076075925211632"
2021-02-24 13:06:23,846-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15105, 'pay_req_id': 'KB202102241306232076075925211632', 'notify_id': '3861643362197624915417612937', 'partner_order': 'NV203113782656752021022413062365698957347141482232', 'amount': 5, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.252.5.72', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 5, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 13, 6, 26), 'success_time': datetime.datetime(2021, 2, 24, 13, 6, 26), 'modify_time': datetime.datetime(2021, 2, 24, 13, 6, 26), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:06:23,846-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:06:23,846-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241306232076075925211632"
2021-02-24 13:06:23,850-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7791, 'pay_req_id': 'KB202102241306232076075925211632', 'partner_order': 'NV203113782656752021022413062365698957347141482232', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 5, 'amount': 5, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 6, 24), 'success_time': datetime.datetime(2021, 2, 24, 13, 6, 26), 'modify_time': datetime.datetime(2021, 2, 24, 13, 6, 26)}
2021-02-24 13:06:23,850-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:06:23,851-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241306232076075925211632"
2021-02-24 13:06:23,854-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 27, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 13, 6, 26), 'amount': 5, 'status': 'OK', 'rechargeOrder': 'KB202102241306232076075925211632', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 13, 6, 26)}
2021-02-24 13:06:23,854-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 13:06:28,392-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:06:28,648-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:06:28,693-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:06:28,693-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:06:28,702-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:06:28,705-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:06:28,706-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:06:28,709-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:06:28,710-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:06:28,713-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:06:28,714-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:06:28,717-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:06:29,084-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:06:29,087-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:06:29,088-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:06:29,091-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:06:29,097-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 13:06:29,111-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:06:29,112-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "07848181791759"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "GreRnuZTyYSFAxWMfcU4LvPKiqQl0d6o"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:06:29,173-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "1cef9782ca98489c9a8ee6ac6d20a014"
s_p: "SklyaVFFTXR3blhHVkVrSXlVVlZsREt3Rzd5V3owZEx0SDlmOHZYQlpLRWhTalZBMnhXS0sxMEVwSHF3RzM1MjFHRm9WMXU3MDlwYVNLanU0alhQYzNnNURMaXA2bEpVTjlNM09sZzAzblVGMmgyeUJuZ0ZTemZUU0daRWdvRGQ4Qk11cVpqVGlTdjFuV1FDM0RaQzVKb0xsanRaeUdFbnNSclJZbmdndWZEbkdpNlNlb1RVWEQ3cGRsd3Qxbm9QN0FSMGRtekpEeUIwVVhOZmFGdnU1SVV0S3h6alBBZDNkZDY1MFdDMFlyY1EwUTUzY1Y1VE5aTWVicVBqcjFReHFTQ0dhVEFieHcyM0hhWXdndFVFMzh6T21JR3UzNjBibGdpWktQbGhkaDVYZWNWbjd0N0c0RXg5M0NPUmJLQjhhTXpBVjAwcXFqV2Z1UkNtUGdjRkJBVHY4bDZ4RXJublpsMk5lR21kVzZVNU56ZDFtcVZMNW1JRXRYM0M5MlJiTVc5NWJaaXVMWm5GWUZmYmlsUFZmZHVOQWJXOXpDdnlPMW1lakVWTlZYeFd6TlZLS3JmZG9TYlpUdnpaOXJPU3BSblFTYkNIZ3BEQlRyTmM2Q1BGTkZiazZyUUVDTGNOUmZaT053TjRvRHlYbzJYc3RERmw3VXZHUFhNWjVEclFjRUY3NEhPaXJPTEdUMlF5elNZUGJHTzl5OWllc1hTQUd4Y2Z5SWZsVDBTUlpra2lrQ2Q5VTZVNUhVS2E3WnVLczJJNXdlQ0VvMW43ck5sOWZXR0JsQ1hUNjRWcGZyeDJJU1hTZFR0WE9yUm1PajBUNjVZdTRkOGpGZ012RjVSRzdDVlhhN3VjUWZMWlJNZ3V5d3lMc242cml4MlM4SmRXT2pxVEdDc1dYTGpodHZQUGVqYzlETUxvMkM0MUtOVjJ0a0t3Y0EzN2hSN1ZYSVBFc3ZGRmFyMUNyS0hqR2dGamRwdWV0Z0RkejYzUmd6SGxKampsZE9HTXVsSWJ2bXV4ZmhMWVNzdFVMSGo3clVMT0dIT2xIQm5rOWNJSnFkYlM="
m_p: "MWBrB78g1h0223Hi539DFIqG07p9Cr5odHD9Sc76j5zf4vYBVS0D6iTetVHfK9fO"
e_t: "1614251191759"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 13:06:29,176-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:06:29,176-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "1.0"
  t_p: "1cef9782ca98489c9a8ee6ac6d20a014"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "fTSGZEgo"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
transType: "SIGNANDPAY"
renewProductCode: "20310001"
signPartnerOrder: "nKywUZQp2184B0oLmcjdFHruW3ziEvVI"
type: "wxpay"
amount: "0.01"
oriAmount: "0.01"
ip: "58.252.5.75"
sign: "2eK4WddJ1KtODnMGF9uoCratsgHOLNTCVY//kjJ2UYCYhTM6IB5QEVZgpL3EL347Z+QQjY/MrXW6rShHykM2VqSEB86OxcxKpmw9ya0a5fujuPCCCFtyHDT1N2pMNkZEICSTD4NBexmMJd8Vi3SsTjeZ07Fw8ZFA278s9DU2BYJzrBBbnxVR7hS1jJpCXHWdBvaQqTBV3kOwoNVX4vjrfSaWM/69VkIe3wYhszUaGW4hxux7lYhcEpyJXmma/ehKjUco7/0VoZecTm+xdK93iduQUlX1DjOFjuUPvJ+wAdMMaQiMpitRmI0fWiM+3dfu6WPPayyqawQFXnD4yd0qgUW5ziA9iJIIK0+oVqbuSXgbw8AULgluqJR6TPANq0/Hws2TBDK1F8hn4OJIOCpoQaJJyfRup1PGatANMJUqhuIYwHX/AAPrhv92j2zv5SMTylbto+sj6agrnISwh7pYAxxcZQ5NcREgArXLy0Ss07pTiviLeFQ8wvsg02zZr8Dz"
signAgreementNotifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
appId: ""
isNeedExpend: "0"
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "SIGN_PAY"
  productDesc: "SIGN_PAY"
  partnercode: "2031"
  appversion: "260"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "nKywUZQp2184B0oLmcjdFHruW3ziEvVI"
}
screenInfo: "FULL"

2021-02-24 13:06:29,616-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"17cd96b1dc71444985822404875decc5\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2413063213284101b847be149765800000\",\"sign\":\"28A7CA3ED97F4A1E23E2E0A147656C87\",\"timestamp\":\"1614143192\"}"
}
payrequestid: "RM202102241306312076075925636042"
transType: "SIGNANDPAY"
signType: "APP"

2021-02-24 13:06:29,616-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT contract_code from `db_order_0`.`autorenew_sign_record` where pay_req_id = "RM202102241306312076075925636042"
2021-02-24 13:06:29,620-INFO-wxpay-scarlet-96-回调参数：<xml><change_type>ADD</change_type>
<contract_code>SN202102241306315603113774183076</contract_code>
<contract_expired_time>2022-02-24 13:06:29</contract_expired_time>
<contract_id>7587907582</contract_id>
<mch_id>1259634601</mch_id>
<openid>oCg6Xt8NvRi7jGuap_5B6XdY4oYk</openid>
<operate_time>2021-02-24 13:06:29</operate_time>
<plan_id>120877</plan_id>
<request_serial>894759254441415525</request_serial>
<result_code>SUCCESS</result_code>
<return_code>SUCCESS</return_code>
<return_msg>OK</return_msg>
<sign>DBF0D290F7FD09A18F97E6858CC4E832</sign>
</xml>
2021-02-24 13:06:29,712-INFO-wxpay-scarlet-100-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:06:29,712-INFO-wxpay-scarlet-102-回调解析成功
2021-02-24 13:06:29,712-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[5713102392701272947321629562]]></transaction_id>
<nonce_str><![CDATA[Pfu4OzlRmrCUZ7sAE0JqIMKng59TwLob]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[37E03936C2B46C7DCAA2F385A0116957]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241306312076075925636042]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224130629]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 13:06:29,832-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:06:29,832-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 13:06:29,840-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:06:29,840-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "17571858767508"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "yuSiVJOo9kY82C4XxQfMvINnFGDsBjUL"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:06:29,922-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2da1a0c25c564e9ab133c89c8144f407"
s_p: "dmJjcVFYRnlMR3dQZUNsSlREVXFBaktiMUwyMEs0dFV2c3ZrOVA0UllETUNLOExQS01zd1lIV2NZbGR5MGlGdmRSM1M5NVEyOFU5TUg5dTA1R0I3R3VYdE15ZnFaTm05bzJNNFdNd0VwSDh2MXU1cW5HSldpYUM5UU1Zd1hrSXRhWjRIVU5vQ3dzdm53ZHM5OUk1Z0tPRUx4M1V6OFpadld1V2pYUkNOcnJ3TVdoNDRIOFN4aWhiYlhzWmZxVnF3NjdLMmowNGN0b1Axd1V6UEpyRzlrb3JqUUdTOGpuR0ZSM1VnQ3Y4VjJFSDNlQ25xRUtaclRndDBiaGFraVBqZVFmcWFKYm9FM3BWb0ZKYUxBYnRKVDVlVkVtNlp4S1YyU2pvY1I0ajRKZFBYQmx3UVhmTEZoSUM3Qk01czVuYTdzMjBBeURHVDVFYWJUWEQ5ME1ib0hHUVR4TllraFRhb2Z4Tmh2bzZEV21lRnZES3FCM3ZlYmtObEFnNzdKWHZjRVl0dkRPbFV0Y3h0Q0tpQmRDTm5tWU5XbGFYWHF0NmU2U1F3Z1Z2TnRRT0ZaNWVzYzJGeHN6Z2dvUnVHeE14dHU5YkdKWm9yVmVQUjRQMDcxaTM5ZWZGbUZGc2NpTFI1andZZ09abFZvS2ZJVkpzZzB1STd2MkJqaFk2VXZUOWw2VTFkaGRyZlM3b2lvZHh0T1VpcnAxYXpXTTBJNlgzNHI4SUdtb2R3MmIwMWxFYlpNclhtdnJkQWlVWjlGdTJ3M2FaTm5vQXR5N1VPZ3B0TkZpQ1dFMjNTTXNFRndmY1hZdGlLMjd3NmZBWFpsdmNYazlQUHd6NHZQV0R1MWVtS3RuNG5iVEpveE9yR0pCbW1XUGVYVnZLaWVNeWh6UWw1V3lCOTZuNUJWVFVFSkZFVVdVcUJYVEU4NmxSQ3BpenFReTl4alJoaWxvSkxmZzBHTjlXdU91SDBKQlpqRnNZMXhGcEtLV1FUVWZNUm9icFZjMGFZak1uaWFYTmNNM2hLVklwTUZ4UndtSVVmMFo5UWpFa3ZuRXhIVE1oOWFUaFY="
m_p: "9O7k5354yp2FE1uPE3C3lpzrFc0AD35i6aXT7F870vNTb844fYYb70mzF7V1J180"
e_t: "1614251192476"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "495.1"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:06:29,929-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:06:29,929-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "2da1a0c25c564e9ab133c89c8144f407"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "vnwds99I"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241306312076075925636042"
version: "260"
queryType: "PAY"

2021-02-24 13:06:29,990-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 13:06:29,991-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241306312076075925636042"
2021-02-24 13:06:29,996-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15106, 'pay_req_id': 'RM202102241306312076075925636042', 'notify_id': '5713102392701272947321629562', 'partner_order': 'nKywUZQp2184B0oLmcjdFHruW3ziEvVI', 'amount': 1, 'refund': 0, 'contents': 'SIGN_PAY', 'products_name': 'SIGN_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '260', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 6, 32), 'success_time': datetime.datetime(2021, 2, 24, 13, 6, 29), 'modify_time': datetime.datetime(2021, 2, 24, 13, 6, 29), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': None, 'platform': None, 'screen_info': None, 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:06:29,996-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:06:29,996-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241306312076075925636042"
2021-02-24 13:06:30,000-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7792, 'pay_req_id': 'RM202102241306312076075925636042', 'partner_order': 'nKywUZQp2184B0oLmcjdFHruW3ziEvVI', 'partner_code': '2031', 'products_name': 'SIGN_PAY', 'ssoid': '2076075925', 'origin_amount': 1, 'amount': 1, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '260', 'sdk_ver': '1.0', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 6, 32), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 13, 6, 32)}
2021-02-24 13:06:30,000-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:06:30,001-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from  `db_order_0`.`autorenew_sign_info` where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 13:06:30,004-INFO-lib.common_biz.fiz_assert-139-签约信息表记录正确
2021-02-24 13:06:30,005-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from `db_order_0`.`autorenew_sign_record` where pay_req_id = "RM202102241306312076075925636042"
2021-02-24 13:06:30,008-INFO-lib.common_biz.fiz_assert-154-签约记录表记录正确
2021-02-24 13:06:30,008-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "nKywUZQp2184B0oLmcjdFHruW3ziEvVI"
2021-02-24 13:06:30,012-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148852, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': 'db9f43d1741147dbbf442bf9c04a88fe', 'request_id': 'nKywUZQp2184B0oLmcjdFHruW3ziEvVI', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"ssoid\\":\\"2076075925\\",\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"nKywUZQp2184B0oLmcjdFHruW3ziEvVI\\",\\"notifyType\\":\\"SIGN\\",\\"payType\\":\\"wxpay\\",\\"agreementNo\\":\\"7587907582\\",\\"sign\\":\\"AQejm2aaXZLbBl7k/upljy1Z0YanawTP5XdAa3RtLfdLME6/7rEgeFo/uvJ5Jnm2Ixdq2Hgofqf3+QkUPwdMFucSJgXsHJenuZ3xJppUB7N2MU43otXSYLHlJDaYHiGRmrNki+gOzTNiEhaxSy5gFhfA8hBrftzv3/WklSAG9LA=\\",\\"notifyId\\":\\"IM20210224130632912\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"renewProductCode\\":\\"20310001\\",\\"status\\":\\"OK\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"nKywUZQp2184B0oLmcjdFHruW3ziEvVI","signType":"MD5","successResult":"OK","timeStamp":1614143192283,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 13, 6, 32), 'insert_time': datetime.datetime(2021, 2, 24, 13, 6, 32), 'update_time': datetime.datetime(2021, 2, 24, 13, 6, 32), 'extra_json': None, 'remark': None}
2021-02-24 13:06:30,012-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:07:42,007-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:07:42,244-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:07:42,285-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:07:42,286-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:07:42,294-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:07:42,297-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:07:42,298-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:07:42,300-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:07:42,301-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:07:42,304-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:07:42,304-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:07:42,307-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:07:42,684-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:07:42,687-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:07:42,687-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:07:42,690-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:07:42,691-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:07:42,691-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:07:42,694-INFO-fiz_db_operate-26-可币余额：495.1000
2021-02-24 13:07:42,702-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:07:42,702-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "50454782048061"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "1akECLowBnRNxqd8DhPm75JYiZMXSju9"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:07:42,806-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "07c9908d2f89477a8500de12930fa713"
s_p: "YnV5R3R6a1VSN1lPV3A1ekdLalAwVEVMMmVoNThaSkNGYVIyRm04bWFGcnQ3Z0RxVHp0QW41UUJqRU9tQWlSRWdRVDdyNU1Yc1J3TUtYcHVISVdXRk52YTUyVVFmTDVYRjNaSmQ5Nm9VUE5oU2x3OTdqdmlOU0N5N0VUTkQybnNsWUpGUVM0VVg2RTdsM25rSFpBaVJCcHg3TVpra0FhR3hobEw4RFdEQUlLY3JTTVRTZzlBZ2VTdm55dEw2bGh2a3Q2UElaVmhlM0RRa2ZRa3RqakhLeWZIYVF1RlJic2N4VXZnem9WSWZ5ZjhNUzN6eDFqMTJJVURjV0VxbkRCOE1xOFpMdG4xWTRqcTFnZXplSkJidVhueEpxZDJlRVphNEJERTlyRUNsTFVNRG5JUDRLSjVnVTlFb1JjZzJTZnlWQWx1OGpLSjFpV3pLYmp1Mk9HRGtKa3ZhRDNNbGxObVN6V3FjOHdMOFhoWGVJR0Nsdzdia1BMZUlFNTRCWENBak1HblJaNG5Gb3FzVEFmT1lxS3ZZM05JM2FLWUM1bE5Oak1uMWRZY2NoRXZkVUlvR2NMbW9ZU0t1amc1eXVvajZrbk1jMnNpcXJ0MkxnNHQzcHhTNnZ5N1k0Q1pYd0g2ZDBEVUdabWk3Nk5iWHgwV0pxYXlTaEFRQkpBNEFOdjVlNG1hSDU4aE9paElXMGE1MzFrSWdTM1p3T1ZyYk92YmdRS3VPN0huSVJ4V0drSGd1VDZTS3ZJUmp2YTQzZHBObWJNaVVRa1pDMWphV0NlbkxZV3RYak5Nbnk3cEZldzU1SURGTDI0Uzc3S3R3SVRVR05NeG5ObTFXS1k1TnZMdW9STlpVQ0ZIa3pwdFFoYmJxdTZJVmlxTjFKdFU4TDhkZWw2NDluTkFzWnlUYTJZY2NPb2dmRVdZY3BsZzNHMVkyenp3RTJKOUVSNXd0NUVvck9haU9lT1BlUVp3UzNueXNoaElnV25mQk5NSzhuM2E1T1A0Q1R1UGhBaDJGMXpTRTVJUkxQU0dBWjh6SldEa2VHUEFYZ2tqZXVGZTJkNXY="
m_p: "alK83g8CuNeN56lhTHdtOneT5FsKSj31xPf6RTXBi4cwy6jX80U0M8VOQ12o5q0h"
e_t: "1614251265352"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "495.1"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:07:42,828-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:07:42,828-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "07c9908d2f89477a8500de12930fa713"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "8ZJCFaR2"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 49510
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "c7uHCsQMYr3adVKEOGAiNo9FXvk528tB"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "bBxxl7L0Jm7dmgCoBmV73Nd6qcc5drkNhkkZLi7DW6vxeDWlYcm3gF2hi7+fEjeoTDKx2stYLz7RL3mS75/XadWm7jAEvhI5vfJf0N4ZtaJa4FcNEyDTSBEkDN2vLgrO0tY+dPRuUPoUth6Rj0BGbV4T5kWiYrJitUatfSmGl2U="
order: "0513784159871"
ip: "120.197.152.211"
factor: ""

2021-02-24 13:07:43,009-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-24 13:07:43,023-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.29', 'batchId': '25640114800588175999970475612469', 'bizNo': 'sw9f4uYPAxeTU87hoSGZajX5rynEvRNK', 'operateType': 'PRESENT', 'requestId': '35307340317859283074346375696424', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614143263020})
2021-02-24 13:07:43,065-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.29, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:07:43,079-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614143263076', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 0.11, 'cutAmount': '0.1', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 13:07:43,104-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299745'}], 'vouIdList': None, 'batchId': '43a50477c53e431cbec117d675c9123f'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:07:43,116-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '43a50477c53e431cbec117d675c9123f', 'batchOperateType': 'PASS'})
2021-02-24 13:07:48,162-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:07:48,170-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:07:48,170-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "89818589309183"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "okxFhUDIfpeBOa4T7GnHMyCPL68VzAit"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:07:48,276-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b5fd9bb1bef544c1aaf196c548791f6a"
s_p: "TkZGVFNCa3NEM2YzckhjZ2hjTHFxb2Exa0Vkc2hNUWJkZEJKRUhtaVF2WjB2YXpPMUNWbEJRNFloUjFVSTdSZ3g5SkR0RGZSemRyVlhTb3ZCVGRIU1ZIcjlMNG9zVWdZU0hHY3BobEpsN0oxOGZMblZQTllJUFp0SmlHdXZyc1RmcnE2ZnROQVRPUFhETHhGWGVHZXdxQzgyQUtSR2JwZHVJNk9jeGh6b01SYW9Dd1pzbkdCUXhGbk1qNXgzRjNFNUd5OUNEUWdjWGQ4OHEwZUhpQW5NOWN0RFJwam4zSDhtckZNbXJIYkVNTFNsVVNhMGNlbmw3b3ZRTVZhSENIUTJDSmcwUkRYTWZXMGpwRjBqTlJ0VThGeFB6MzhmcElXR1BLNlJ2VGNLMDRJZFRCak5WQlFyZWNXSzdxOGxRZG9LV2lzSVJySjNna2NLSEkzc0JXQmpkZmtxVzg1c1NVUXc1RExqVnpMTHBmazNiZGN1VkFnclEzbmVXYzZGS2VneHJ0NldtaXB2UHZEb015Wk9iNWdiOU5CMkxtMFdhclYwTktvYXRNMm1wdmREMVgyQnoxU3o0RTJnMjJVT0ZxMURJNms2a25Tc1prcFI3TmtEelV4aXJiRDlSSVQzVUNCQVVuZVVjZ05GTjB1SGk0dktFeVFYcFBBWnVnN1UydzBKTzN2bnhkOE5CSmlFUVRwN3pmZzgxRnR0V1VWQUU5MVJucWFZSVp1NVY3T21QZzJJYXNXTmdldWszODJiZWFmRG5BVWplaTIxM2t3RnlDanNSOUlobUZkQ3ZXOEEyMjBmR0Nhc3VTcXhWalJNVEh6T2lSVlR3WnBKVXl5amhMWnhaZ080ZWFieDZadDVKYTBDVmVxVVB6S1JoUzQyZXkwaU9OVG90RzdQbEl5YjZRbU9KZlBnRlJjN3AxTkgybnRWRERLRzhrUWZqNVpyVGNYOEtjZkRmNEJqQlpEaU9qbjJ1SHczNXZlbVhCZ1ZsUFpKMDJRZUt1RGJuUnFwc29JdEJYVXFWR3BnZXlKUW1lUDEwR0NNQ3c2aG0zejdCVDk="
m_p: "i648SPMKktq4KqwRz6k78eqQ8UB1vLAK0QBz79eK68ZD2c5Q0l0NG2h9wMmpn37i"
e_t: "1614251270824"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.29"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299745
    type: 2
    minCousume: 11
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 13:07:48,309-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:07:48,309-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "b5fd9bb1bef544c1aaf196c548791f6a"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "I7Rgx9JD"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "z9RsS7x2IGfiDm0U16pdHak3TYPoKBqN"
}
sign: "KiscLG+0JT0aghCYSsko3+1co0/LlhlbNAr5rR7TBIGaanUZAjwNv6SpLEA6yTGSOQFKt/9NbDnBU7O5pwXxSEQYHvDZT+n31QyOzVE6IiLyAbTjNP4PoKYX6Gv9bltzL205TgKswx7PZoa00Br7am0uEieKcSYhwes/7Hv9Ny+BWY7uSMYo0LQCVulZbRgMLTB7N7WmiW8G094+qO5nuhP61AP5bPIUUnxdpjo519jkTGZQWyKHvCgI5EoHQNvfK4pB4XaFkdcTiNFsM5ZA+TZBHOzUMKgKI06OJoklcnoHOS0r6hgpz8kwx4U0m3viDgonhSS5wXbCIAOcRyEhzA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "b5fd9bb1bef544c1aaf196c548791f6a"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "I7Rgx9JD"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 40
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "z9RsS7x2IGfiDm0U16pdHak3TYPoKBqN"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "Tei0XbaAibPoW0K6gPI150wj2mCNEuTq136TxxZ5/uT9gSf/p3R+YjH7sDPL+5TxrKwYu7NA01SaFcxmm58ook9D33eKCo0sUCjED2Hf76fXeaMjv9xOBxvyRJNqfN/FN7icTgfWVXIrBH35xdsqGEsJN9emsPE9Jq+MTHu9vhA="
  appKey: "1234"
  voucherId: 62299745
  voucherType: 2
  voucherCount: 10
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:07:48,699-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"69027e82ca9a4cdd8b84c9419fbd7e3e\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241307512245250ac43137ccc7e7310000\",\"sign\":\"7234A57D303E548DDEF5AA7B25918DE6\",\"timestamp\":\"1614143271\"}"
}
payrequestid: "KB202102241307502076075925862182"
model: ""

2021-02-24 13:07:48,699-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9443020062275917212893685225]]></transaction_id>
<nonce_str><![CDATA[zKTExO78Q1aMGJdyqYwVo5CjZhgnluHt]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[F38CA3975262EA69C9E3B8659F607D5A]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241307502076075925862182]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224130748]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 13:07:48,828-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:07:48,829-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 13:07:48,836-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:07:48,836-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "74792703535670"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "vTAyHIYFDEJxK3WQsL9Rp205ZtXCBbcn"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:07:48,917-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "90ca37c80fe4403ca57eca6b46a0f564"
s_p: "Y1VFN0EzamJxYnd4QXdpZWVZOWtmMXhCUEJ3M2dmeU5qdE56S0pZYzJHdldzU1hNUTBlbXVGVm1SN0tVVlhSOXRleElmdWRGSHFaUDYyUkJYMWVqdzd3dldhRjVtNDNIMEJEenVwYXhiNzM5RFU0aTZhRVFaN1VRbDA0TUVSMkZRb3VPVkp3UFFESUFTa0poU2twT0ZOdUp4NXZiczVoYjJCVmhSZEJiemFYYnozY1V3TjJIQXF5WEVOZERXdmVMY2VlNHhDN2hrcUd3S0RzMGVkbW1kV1dSa2VQUnJvWXp1dDB0TVY0VFZsb1k1NG1xUWtnYk1Fd2w5Y2xyV0JrNWYyemc3cEVHWWZHdEhPd29MWWJKMVdjSkhsYVlFZmZ4ZFRwWmdoMEw4b0JpazhFT25CMUxQZDVSUmw1eTFuR0t5NEl1OUNoT0hGSW1zNkg5WXZuQXp4UlFUamhmUVVGT2tUN0ZoeDNicFNaSEtRbEJQcDRaMFJvN1didHBlRlI5VWtXbFBQRHZ2cXppM2RzdlNtenNaS0ljWXNnYTNLc2VuTlI4UUtzNTNqZzFpZU1pREdiSFdMWHF4UzE2T1NxNEVQSFA1OWdienFPNEJzREpIS2dTWGRTMXlpdUNHbjVWOXV6cm80cXoyajNFN2lQaG9MeDB0VGpGNUtVSjFFNjVQRkowbHM1dE1tUEt6anVmNFZSUDJLOGhvc3VzOHpWT3BPcDByblB1ZGRCdDdzalFBVHg4a045TnhlSERpdGo5TFFGaVFra1ppTjl4OGVJTmlaWXRkNUFReFEwQ25OdGhqbE9YbTY0QUR2S1M5RzVuc1JDZG91cG8wbTVYcXd5cUdZQkQ1T2pKQU5qMk5BYkVaQk8zSVpvcG80RjlXam5pcGlRQnNpcU9YbGczNmxSNXJqcDdld1FzRTJaQmU1QW8zdjlvQ1FaYUJpcUJoVnB5U2pnNjJzN2dvYXc4Y0Q4eVROSWFzNThDdWJpcnZMRUZvTjg2QnZOcE02TGRxTWptc09FVFlBcjI4MkJYSXhBclVQRlFja05GQ3VZRUUzTlc="
m_p: "Xe065Ds5e2kmY7CaK68m947N8vyx24qhyO25SJ7tB69v3HaId2L5JDftJLR2jWcM"
e_t: "1614251271475"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:07:48,920-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:07:48,920-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "90ca37c80fe4403ca57eca6b46a0f564"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "SkpOFNuJ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241307502076075925862182"
version: "260"
queryType: "PAY"

2021-02-24 13:07:48,970-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 13:07:50,970-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:07:50,970-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:07:50,974-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:07:50,974-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241307502076075925862182"
2021-02-24 13:07:50,978-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15108, 'pay_req_id': 'KB202102241307502076075925862182', 'notify_id': '9443020062275917212893685225', 'partner_order': 'z9RsS7x2IGfiDm0U16pdHak3TYPoKBqN', 'amount': 1, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 40, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 13, 7, 51), 'success_time': datetime.datetime(2021, 2, 24, 13, 7, 48), 'modify_time': datetime.datetime(2021, 2, 24, 13, 7, 51), 'trade_type': 'PAY', 'kebi_spent': 29, 'voucher_amount': 10, 'voucher_info': '{"cutAmount":"10","id":"62299745","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299745', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:07:50,978-INFO-lib.common_biz.fiz_assert-37-订单表信息记录异常
2021-02-24 13:08:20,609-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:08:20,882-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:08:20,928-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:08:20,928-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:08:21,281-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:08:21,285-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:08:21,286-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:08:21,289-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:08:21,289-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:08:21,290-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:08:21,293-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:08:21,306-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.5', 'batchId': '84719724554418647416155275400271', 'bizNo': 'RCX2GEM4KimYqAencQwBhfrdktZHV57W', 'operateType': 'PRESENT', 'requestId': '04406344859449687158809915708944', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614143301304})
2021-02-24 13:08:21,333-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.5, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:08:21,346-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614143301343', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 9.799999999999999, 'cutAmount': '9.79', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 13:08:21,365-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299746'}], 'vouIdList': None, 'batchId': '61402a7c2b4e43f8b85f7761886c7954'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:08:21,378-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '61402a7c2b4e43f8b85f7761886c7954', 'batchOperateType': 'PASS'})
2021-02-24 13:08:26,420-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:08:26,428-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:08:26,428-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "61454458758102"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "q0tn1vA9wKfNpO7HGyUPEzcBXoYZ5s4e"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:08:26,532-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "188187a978b74d2dbd7e33649b952355"
s_p: "OG5WTFQ0bU51aVBZVXdaWTNXZk83Q2dEU2F4dDR6VVBzRldGcExBSzFBdWEwUEU3SEpGM0REUW1FZDg4TzkzV3lYaXBNdjNBM3lZRXNtZnB5aXF3SXN5ZHJENGU1MzlRemN3cTIxMnhBWU0ySnBJNEhiaHVHTmRDTnVVZXVwMlJTdGt3UmFkT1hmazdiZllvN1ZWS3RUOEJuZzh4OFZGVDVhaEdlNllNekN4NVRicER6YkdUNnZBMjZZSUd0TjhtTGU3SXpjMGpJMDJ4U0JSTENmMnczUldWdGlqaWZJcThWVWZkQzRkOWRSVVZ1VDVRcGEyV3FSeWdOMUdXZGhUOGdDbzlONmptMlpvR2NsdjBRa3dJVTQ0QjV3TVJkZ0hZcDZodmlmd21ENzRLZWM1MHlKOEdPa3NBQ3JkaUZ4QnpLN3FMR2JPRUpGVVFWcFJBNnY2WU1OVzE0QlcwRk42bjRXU0FqSnNOaDBaZDJ5V2I2azhwckk0T3FVMDdIMExGY0JpOVRYNzkzWkswb0RiQXQ2U1JQUjBLeEhYZW5vSkRoblV2azE1UkZnb1lCVlpURmk4NFRrVER1UHEzZnRScU9ZdDNFNGN4UndvZWtIY24xRmluemJuT2ltTTNDdkEzQlpLR0dUWWlzdmczcDdXVDlVZVEweXFTRGFjSWlPeTB2RnIxQWtid3JjRHNJSHJObGRheW5qWG42S3VUaFViOVhNTkl3SE9TT0NlQXhmWUQ0NG9XU3YwaTgxM3p3Mk9ZY1pSZnNWalNyWHpkYW9PbnNTU3Y3ZUZtQUxBWEhURjl0azNsYUdFY09WbTZ1bjBwWFB0RTM4ekg5SDFXTkFGSVZkSUViNTZhUVZpVGhveFhRSWVBMHlZTzVZMERZQ1FsZmhUUzNJNVlrZWJ4Zng4aDJBaklkaUtVZk9NdjlDT2VqZFZxbU5TaUFLZmN5WmlzSlBaTk1TRTZXaEpGREdFYnFWb3NzNzVtWWljVkVSbUxmMGVRTm91bm44N0dXY1FicDZadHpQbU85MG1JOHZ2U0xKYnk2Z1NwVjRvZmw1U2g="
m_p: "P1Y5dUdEI2uB0AW65WV9dJK64f2NjJWRyd9m088NoBEi2hDl8P4246R493IRN434"
e_t: "1614251309082"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.5"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299746
    type: 2
    minCousume: 980
    vouCount: 979
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 13:08:26,562-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:08:26,562-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "188187a978b74d2dbd7e33649b952355"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "1Aua0PE7"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "6.15"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "dGOoBW0gumL65lzesywfnR1HIS3chXZA"
}
sign: "c7mKY9PsHiqsotz99MjXhfLafr03eKrD8RpB/FH2140ynNelV/lEfZw8brhTOe9V/VF7LwDHHdEnOnH5Vg1E1pgEw+u0hJtbmm9FCI2lgVclRpQrLcAetRvlwFjIZqWa48yaiFQEemyOqUo0Z86BiRCFqfoZNQja4TfIt4Im8FB27xYITJ+QVO4dCpc08oRZirCfsgGghCnRRLjiYSJKtwNws5tnNLktgd6DmBpu1iZ3SA1UC7zLCn0DRgczy7YGm1o50UYDlePNzb8/iIelMQDO7RsxGGmCqkBSBNd77sCn23YLIggFSa/HguupTTw7p1LN5mECcoXIUt9BwayRcQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "188187a978b74d2dbd7e33649b952355"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "1Aua0PE7"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1644
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "dGOoBW0gumL65lzesywfnR1HIS3chXZA"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "I5NLNTA7XfxMZL8PaJZJqld23csNDfwaB5CrOtZ9AlWjEEJOVqFe/o+va5o+jh1dZ4hrzAnP3uQEXphPkA6vNZj71q8WY9cOkLrtBfoUPidThPiL6OqO/Pz046ZAIn5w4trzViXpdW6fxlLf3rCAebBTiOdvIJBX26iKh9w32HY="
  appKey: "1234"
  voucherId: 62299746
  voucherType: 2
  voucherCount: 978
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:08:26,949-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"035da9d61b4c4bcbbdc59fe73b12b9c9\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241308294765578c7bfb7ed3f27ecf0000\",\"sign\":\"8E11574F568748E102FE3670D8BE144E\",\"timestamp\":\"1614143309\"}"
}
payrequestid: "KB202102241308292076075925213152"
model: ""

2021-02-24 13:08:26,950-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7179058746540063682148938552]]></transaction_id>
<nonce_str><![CDATA[zDCL6ZHmSo342VGUXegkIbhQTM51tsrO]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[045E967F257040BE92D834D8FD571443]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241308292076075925213152]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>615</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224130826]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 13:08:27,055-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:08:27,055-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 13:08:27,063-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:08:27,063-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "11940217925680"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "4eVqjrcC7Y9Wp0f2mOZoXhHETvPwyKSM"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:08:27,139-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "afa39817216f4f5da56708dcea65b746"
s_p: "Zk14dnZzaGNUNFpvZURZMWJleVpyM2Zqd3hiT2E2V29DQ2V6ZnBvOE9yQmJZOUxMYkZJanp0dFlxWHNEOWNGWUczVUM4OVZYZGRMeVZtd2F2N3ZnT1U4QXNDbFJvc0pwdlo2cnk5MlBXeWNiZEZxNU1WV2V2cEYwSzVWRU96ZVhkOTl1SXlwTnB6c2U0cmZCZzlQWTE2Mk95OG9OWXhua0RWaWV4bGxTZzJ5clB6Mkw1Y2pBZ1FZZVBhdnhIQjZiWnVkb2Q0R3NuRzdEeVVhQUNRM2NYN0h4MVhKd2RjTHBncXZFN1BXOWJYN3d6MEExUHBKVktvUmFZZ24zd0JLV21KVENxWkZSeXlKN2J6bEVzTHdTZWRTNzQ5SW1JeWdzVFhwZG5XemQxWVlwWHE3Q0ZTeFVNTEdxYm1MMzRwVE9nZTRXNEloeWNWcG9ONXJyODZ2TllCUUVxUkRPZ3BiMngyR1hCSUZTMWpCSnNPRkpLWGY5akUySGVNeTdBenNmZVljVm02T0NSbVBBZm94VElFc3htNU1tZkRUa1B1Y2JYZzBKY3J2ZXN1NDdKZkszbDFuQVVISXFaQzlBcTFPbW5qMVBQMXZFMEpRMjNvWXNnenkxWnIyblVmQXN3dWFoQzl1cmhtaEpQejRaNUlXcTJ3S1VxMXp4Z212Uk8xYlJHc0RFaG5sOTdkdllSVUpIdzJDUlVJVGt3YmFkdUZpZXFUZlo2S3dIeHFHcW01RmxGQ1VkVnNZaHlVdk02N2VzeU9KaTE3ZVZNMjRBdktPOEp5OXBzNmtFaTRuTmpxbU9ZeW9LYzkxVk1DWm4xc3I5OERSNVNPOUJoUEJ1U3ljYURLM2dxSGNXZFp5dDE2MmpQT3pIWkRoVXJNeG04QTdvM2cyZWVPdkZ2WGk0akY5WDA5VEdHcjF4N0pCcVNWTGpVQWdrSUYzdzJQZ1hrczBiSE1OWE9KVGs1NTE2U2FzQzllTVpGeTdMVjVoT1Q4Sm10NVFrbDVkMEoyUXhCVExqWVdMRVNDaG43M1Bjd2FveldZaTJNZ3BQenlWTkdpNVM="
m_p: "d6l1Qx9Q8P258g9Z0GLwExttnFNCNoH0zn2d3SsJ5y3A1P4nM5f0KS0dP09tr043"
e_t: "1614251309696"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:08:27,144-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:08:27,144-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "afa39817216f4f5da56708dcea65b746"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "fMxvvshc"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241308292076075925213152"
version: "260"
queryType: "PAY"

2021-02-24 13:08:27,201-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "6.15"

2021-02-24 13:08:29,202-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:08:29,202-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:08:29,206-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:08:29,207-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241308292076075925213152"
2021-02-24 13:08:29,211-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15109, 'pay_req_id': 'KB202102241308292076075925213152', 'notify_id': '7179058746540063682148938552', 'partner_order': 'dGOoBW0gumL65lzesywfnR1HIS3chXZA', 'amount': 615, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1644, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 13, 8, 29), 'success_time': datetime.datetime(2021, 2, 24, 13, 8, 26), 'modify_time': datetime.datetime(2021, 2, 24, 13, 8, 30), 'trade_type': 'PAY', 'kebi_spent': 50, 'voucher_amount': 979, 'voucher_info': '{"cutAmount":"979","id":"62299746","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299746', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:08:29,211-INFO-lib.common_biz.fiz_assert-37-订单表信息记录异常
2021-02-24 13:09:15,123-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:09:15,374-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:09:15,415-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:09:15,415-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:09:15,781-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:09:15,784-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:09:15,785-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:09:15,788-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:09:15,788-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:09:15,789-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:09:15,792-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:09:15,806-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.36', 'batchId': '28622742180205912790064134704376', 'bizNo': 'tFokCfOavmPuX723N915p40zVEHTlrgB', 'operateType': 'PRESENT', 'requestId': '99209896911869273990340235587635', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614143355804})
2021-02-24 13:09:15,829-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.36, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:09:15,842-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614143355840', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 7.93, 'cutAmount': '7.92', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 13:09:15,860-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299747'}], 'vouIdList': None, 'batchId': '615611600af9478eb29e0289ff71588e'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:09:15,873-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '615611600af9478eb29e0289ff71588e', 'batchOperateType': 'PASS'})
2021-02-24 13:09:20,912-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:09:20,920-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:09:20,920-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "26075889153798"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ZiAnVUc0hIgTRyBjFlKupWNax5omDJ8O"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:09:21,015-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c095011023be438993c3904cbad44e7c"
s_p: "SGhFSzIyTGpldmVVZkVRMzFWTlI0TEp3T3Voa01VRnQ2bFhxRDVUUXAwWUplcjZkV3dTY0RkNlpaUVJQR1FyeVpTSmVxNlUzQzZJMklhZnlOUHY5WmJzclAyVDU4UWFZNFpqeUlRRTNuVVkyQWNiSThBcDc4ck5xczQ2UXF3d2ZsdHFsY1JHZ282U1VmRVhrRE4yY01aa09zZFRTWDRWU1gycWplVXZVbGZsVzdSVDNSSWh5WmtyamdKUGhkcEdpMFNDR1BEMXVQQm85RHBndDRabHlaQWExNnpucWRCN2RHSFJOS0xzUUdsU05Tc3hVUXV3THFYeFd3dm5wZUFtSmpBb1R6aFJaeTd1Q1F2eDRNQU4zdUlCcmcwMDNSYm5QWUNDanhnOUJJWTE2NlBIeVEzbnh6MmNONXFmcmxPb0p4Zmx2ek1zazZFNFhkMW5iTWNqaFBacURudFpabTZBRlFpWXJkZTlOS25MalBpQzlwUk03aHY1YzZ6RFc0MnBpUTNYNmFWZ2pvTjd4VFlBNEh6QmZPRGhURnNlRm9OUEZiRXc3emFrY3B5dlk2emxTU29sTnV0RHdBS2NjUXR3WUVKbkZkaVg2VzBxeG1nSnlrbUdoZUJrT0E1R3hDNktETmVHaUhzQUtpRHhROFFyQnk3dDF1Z0NwaExmak1OZzkyQmtnUnJRRUxsZ3ZsMFZERXJMajNRQXBjNmc3OXBZdmxlOUFwT0ZmRElpQk1lSHhlUVNMeTZTdEdvU2ZnREFmRVR1UEF1amg4Y0lRNlZEQkY4YmdzUTdiVUJ2NU9tWVRTWU9sRkV0Nm5VaHNwZ3J0UDk2NDByOVlFcUtZZjhzcURqSW9wTHhCUkFXUno4MjBaM0hJRXBQRXdoMEpVRlpLeU1QUEU4cjlGblhpUFZ0U3Bpd1BtN0M5TlBJcG9ZaHIzVDNubktQR0RsUlRjam1hZE81UnhHNlp0VU5RYjJzbWtLWk1CZjllYjE5V3ZQNkNwNnZPRXQxOHF2MlFLeVlGYzlzaGVxRnFWUFl6S0lDVVRqUUhFcjg3alVSd1dLaEM="
m_p: "3N9u7beC5hOz30V6w4Q75J5n6PR3WpEY25pvZ51hgaKtP5bd134AiE3nHl51N95e"
e_t: "1614251363563"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.36"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299747
    type: 2
    minCousume: 793
    vouCount: 792
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 13:09:21,051-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:09:21,051-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "c095011023be438993c3904cbad44e7c"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "6dWwScDd"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "3.07"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "AgFNQayzPKVZkpX4ID7wBEhC2iSe5WH3"
}
sign: "V9iT0tL9Cs4cpOwM23QAc8i4UOjRLQIN2z3GrsXUjnnTQ4pi1K7Ngh+tdIpP2xQdzYiOXUVHtIoAywlhSrpnafEM+rJrWiyStE4IiDeDiND4GLWIVI/fMa8qAdGGiFq7nbrOl+165aWX/09k0qAUneVHgaVWHlKpiAftfWR6u8Bh3lcp0eS+9xVio5dGvp+p0TkONFQVLPoJRYaWAcqU+km0myQHvpaxjXKUHXvMlHFs+q53vHnxeT9pST3ZqJ8a9C/mxJmptDfjZ2+nHu7ykYC1KZ3VIvYzfRoKtd0MBR+obdwQ75vha7ygia1m9J70CZNt/v7f6IBBMWPyIlUBEw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "c095011023be438993c3904cbad44e7c"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "6dWwScDd"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1135
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "AgFNQayzPKVZkpX4ID7wBEhC2iSe5WH3"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "Slj/Bwu/lCIeYMVfwo64Z6YBszJjFqyExf3Qe+b8TyQxTRBFZASoa1NuFomM3npC1LL0VM6FdmldG9LRv5/KLtiyzoXPATWygl/ZynuEcNuvSm4PA6adTH8YiiAOUu4Y+ia6wvyEL2j/1ZycAwfYZ8Gr7SmaBLXBEbMLnculKCM="
  appKey: "1234"
  voucherId: 62299747
  voucherType: 2
  voucherCount: 792
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:09:21,433-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"6ffc59fa8a3d4ba3941dac9cf401fef2\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241309239577561b467601426099780000\",\"sign\":\"D1506CCBA7E872CD0FAEE996F0CF1455\",\"timestamp\":\"1614143364\"}"
}
payrequestid: "KB202102241309232076075925816642"
model: ""

2021-02-24 13:09:21,434-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[0382361562880211844715461141]]></transaction_id>
<nonce_str><![CDATA[aBmV7LqG6OTNd1h0f2Hl8jztMQoSCIkp]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[335C137D0472EA198FC6ACF4058DF36D]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241309232076075925816642]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>307</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224130921]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 13:09:21,569-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:09:21,569-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 13:09:21,577-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:09:21,577-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "15484596944433"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "5Olst7EBVWTX83gI6G0iJmxaHyp1dMqv"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:09:21,667-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a74d5dcfab354130ac94d31342b793c8"
s_p: "TWlVaUdZQXhQUDFtRXBxZEY5WEpzd0pnYks4dldVaGJ5eFByanZnaUo1YWZ0eXhhSFd3cmFlOUs1NHRnazE1d2NTTzlHbzBFTFVCNHNEdnlEb0Nvb3FYcWFwNHJQRzd6YzNGVmdOZmI2WFdrY3NsSHJoNWZOUDRhNTloUzBYYzlhNjJhTmR2SEszT1FINldGS3BOTE1UTGlRc2U4dWw2WWhrZDBrZE53TnMyT2w4bVNlYnVwcDhueVQxZk9iRldaZ2VJNnJ6TEQwa0tiR3N6MHRDc2treVlsem14V1pTNDJCMWxqd2VacTc1UEk0MW1ud2lONVMzQnJKcnc1TDhmOGF0TW1CN3FuWlZZdVZyY09NckVZcVhJZUhiYmFzeWlzNmtwZ2xxT2VhakoyZ2hFclhsT2tITzZFZkltOHpMbzJiUzk0UkdmZFlmTllZb0dtM0tGVURtTzM1Q3lBZUR5Q3IzY1R5RUVFUTQybERUbmdCaThMUTRGazZxMzNQWnpWOVlSQkpJeUNxS2dhQjV4U0ZBZ1NOUzNQekNMWUxFSUMyR21ONmhKYlRCeFdaY1owcEZGcEZNVGNDd09GUzJvemlxR2Frb1JqNkI1aVlQdFpubm9GU3I0dFZYODd0RUFwYnhkdXBLTEl6Z1VKRnVndjFlaEhiTzdPTkZYanJOS1FJMk9JMEhQaU0zMmV1R3Z1bjBZTXd0YkM1aWRJUTBNbGxBc1RBcmprNzFiMWI0OU5IV1JaemZ0akxGQWJEZDNVVVczNkJNaXcxdXJ2amVWWWh1UXFJdk05bjhJOE9jNVE4Z25jdXpNd1ZJZVhmcmt5djJ0WVpFcG01cjdTRU55SXFZUUFET1VBZnQ0QkxjM2t6SmtOc2hEQ2t3N3l2UlNvVXJrUGJCOHN4WFR3NEF4SlR2TkR0RzVpQjBxNUFrWWcyQjFqUkZERDc5NUR1QkRLNG9LczhUTTNxdlhxYW9XemJNaEhBSEJGaTExUERZQVJvRVRqOVpqRnZKMnZmVXNKMUp0bzdnSE0xUXAxN2MxTDFxOGNEZm4xamg0VmNydk8="
m_p: "6CzE5P8IB2L3AXya89m9k2Ecc1764t2dvHHCv59vvTJs5UQ2qBFvEzToe15J5hy2"
e_t: "1614251364211"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:09:21,669-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:09:21,669-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "a74d5dcfab354130ac94d31342b793c8"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "lHrh5fNP"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241309232076075925816642"
version: "260"
queryType: "PAY"

2021-02-24 13:09:21,719-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "3.07"

2021-02-24 13:09:23,720-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:09:23,720-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:09:23,724-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:09:23,724-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241309232076075925816642"
2021-02-24 13:09:23,728-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15110, 'pay_req_id': 'KB202102241309232076075925816642', 'notify_id': '0382361562880211844715461141', 'partner_order': 'AgFNQayzPKVZkpX4ID7wBEhC2iSe5WH3', 'amount': 307, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1135, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 13, 9, 24), 'success_time': datetime.datetime(2021, 2, 24, 13, 9, 21), 'modify_time': datetime.datetime(2021, 2, 24, 13, 9, 24), 'trade_type': 'PAY', 'kebi_spent': 36, 'voucher_amount': 792, 'voucher_info': '{"cutAmount":"792","id":"62299747","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299747', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:09:23,729-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:09:23,729-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241309232076075925816642"
2021-02-24 13:09:23,733-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7796, 'pay_req_id': 'KB202102241309232076075925816642', 'partner_order': 'AgFNQayzPKVZkpX4ID7wBEhC2iSe5WH3', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1135, 'amount': 307, 'kb_amount': 36, 'voucher_amount': 792, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 9, 24), 'success_time': datetime.datetime(2021, 2, 24, 13, 9, 24), 'modify_time': datetime.datetime(2021, 2, 24, 13, 9, 23)}
2021-02-24 13:09:23,733-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:09:23,734-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241309232076075925816642"
2021-02-24 13:09:23,737-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 13:09:23,737-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 13:09:23,737-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 13:09:23,737-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "AgFNQayzPKVZkpX4ID7wBEhC2iSe5WH3"
2021-02-24 13:09:23,741-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 221, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_AgFNQayzPKVZkpX4ID7wBEhC2iSe5WH3', 'partnerOrder': 'AgFNQayzPKVZkpX4ID7wBEhC2iSe5WH3', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 36, 'count': 1, 'r_cost': 36, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 13, 9, 24), 'updateTime': datetime.datetime(2021, 2, 24, 13, 9, 24)}
2021-02-24 13:09:23,741-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 13:09:23,742-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "AgFNQayzPKVZkpX4ID7wBEhC2iSe5WH3"
2021-02-24 13:09:23,745-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148857, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '785b17201acf49fa8cafb11a5399ee18', 'request_id': 'AgFNQayzPKVZkpX4ID7wBEhC2iSe5WH3', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":792,\\"notClearCount\\":792,\\"orderAmt\\":1135,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299747:792;\\"},\\"kbVouAmount\\":792,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"AgFNQayzPKVZkpX4ID7wBEhC2iSe5WH3\\",\\"paySuccessTime\\":\\"2021-02-24 13:09:24\\",\\"price\\":1135,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"imik5JFwsQ03dYapxx5p61u+fzp/UtiXO2lx3GcKAkKBzJziwIutKwXg5Y08PBZ3RF3n2sAMYLnpM37eafCr7iP52Q+Fvodw7yFrEEsX6kOFnytLFCMu7CkL6Csn90GjuNMzY8mQy4++JtmxWzAiQ/XpaAAv9+ncuFERqeTtn4s=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"AgFNQayzPKVZkpX4ID7wBEhC2iSe5WH3","sign":"3D002174D612F88569CC8C6BC5F3B570","signType":"MD5","successResult":"OK","timeStamp":1614143364214,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 13, 9, 24), 'update_time': datetime.datetime(2021, 2, 24, 13, 9, 24), 'extra_json': None, 'remark': None}
2021-02-24 13:09:23,745-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:09:23,746-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299747'
2021-02-24 13:09:23,749-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 13:09:23,749-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 13:09:35,165-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:09:35,439-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:09:35,486-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:09:35,486-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:09:35,854-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:09:35,858-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:09:35,859-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:09:35,862-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:09:35,862-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:09:35,863-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:09:35,866-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:09:35,881-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.69', 'batchId': '86161775433592597064764631820615', 'bizNo': 'ASToqZ84yEzcHF6l2Ixu3bhp0wdMrmCk', 'operateType': 'PRESENT', 'requestId': '84292553606698621845001011602340', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614143375879})
2021-02-24 13:09:35,916-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.69, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:09:35,929-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614143375927', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 6.58, 'cutAmount': '6.57', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 13:09:35,948-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299748'}], 'vouIdList': None, 'batchId': '9a18fb6969a2490e9ba12d178e9b38a4'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:09:35,962-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '9a18fb6969a2490e9ba12d178e9b38a4', 'batchOperateType': 'PASS'})
2021-02-24 13:09:40,999-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:09:41,007-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:09:41,007-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "20690034076123"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "GFc0HDPb4pMdE7JjuRNgZVLml1ye3aCh"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:09:41,102-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "349df39632fd454cb79a978376bb7964"
s_p: "eWpwZjVWRjZhM2FVeHhSb1hya2dMUE5rVDdlU0JsV2RVbEJWd3gxSVI5NU9TVlppVHBJNHQxTElwZTNJNXJYWExRNGJsSEduamV0dmtjdGtodzR3aTJXREZJM1Vua2FPQUVneHpBUktHRW1vWmZLcllYNVVyN0tydVpFaXQ5cGE4R0lzVkMyRklKRk16VGN5cGFMc0FaampNY1pBRFE3M2VxS1FERTJEYU1Hb1V1QnhqS1NLd0ZNaGpMWTd6VFpod3c2ajBUZ3E3UDFNQWpURHdwUGtZalFUQ0p0WEh5MTZrU0p5dXMwOUNvMWMwaFR2M0J3TjhLQXhNSGF3N2xWUnJ5aXpIalFGcDVhMHhMa3hNSnVDMVhPNTJ3dHQ0MzZXY3dYZEVaWjc1V3hiOVNYeTJCRFhSMmV6emZNNktvUlJpMUt1WkRDMllFclVUblNwVEVuOGtxelRZMnIzUUg5SGlGazJ6RWxLVDI4ZzlqMXlzbFZSb3Y3RE1DeXRyZnl2Y21zb083T1JvQXViS3NMYUhuYThGZHQyNTl2d2wwMmRjVXVHR2owcUNKNXJ3ZEQyQWQ2YUxyUVFIVk9laFRDcUZsUTBmbVdmaW8yU1lsb3ppMTdUcWU0elB5WDEyYlZKQTZ3T1JQYnlURDlKcWlZbjNpOGJRS0VzMlQ3OENERDEwSm5BNnByWE03NTA2alRrNU1iM2JYa1FKc0kyQlE2NnZ1TGg4SmdSV3JKaFFYRVk0NVJ2M2xObGd0U0ViZHJuR0pCV1FZTTFDbmtoR05lR3V4STZ3anhzV0V3cXU5TlhUVTY4eTJiSzlOalM2NlRVMk1JaXE2dE1lanp4R0dEUVFrSEpwNlRXOElCYTBUMzZzRG9SZWM2UUx6UkduVnhocUR6cm5KUDJJN292d2J0VnVHRnNTRkt1N0JVWEJmdnRwZFBpT1NKVDBxUzhKNGlpdjFsQ0I2eVBZVEFBZ3RtZ3gyTnpEU0cxVWFjanZGd200U3lhd0xTUXoydUE5aTFoOXU3ZHFDOXBGZGplNWJDbTRwemw3WGR2UjVyNnE0TWQ="
m_p: "WAraUmsf266S1L64p6Xd5Pa0h00cG7uuGEy0BeCC4WhV8g6wagVKGAm7viwY8UmM"
e_t: "1614251383653"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.69"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299748
    type: 2
    minCousume: 658
    vouCount: 657
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 13:09:41,129-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:09:41,129-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "349df39632fd454cb79a978376bb7964"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "TpI4t1LI"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "8.02"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "3zV28GEnZABtIP7ShuwlMJXy6fmbp4Qd"
}
sign: "d1p8wIYQnvNB5QcwiP3VJepyQyI3HAEoB9YubaeIQDUiZHN7AZIHC92gtPscXu6V4RJsxTtnLAt6lbVjhFxeQnaCAOFfYYDnb6pxMXVC8aCUdWiawzNZy/S6siAX4N7RJdGsBNLGhCW8FmtBPVSa5711CbVkjK9bKjqv+U5d5KsagAtymCoREpNFHnIfhblwbfCpHfWofQrqg32gE6zDpTrAMeShJy+2ZIWqFUcAQfE9XkM1myUZhDKioWJ7JjF1VIZ8xn7SFtRXbXEIz2alPO74eZpimJksvxtjqhBAmIxb3tN/8J6Dj+yQjhUflom0qJqYjEynxzy+AinRALTpgQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "349df39632fd454cb79a978376bb7964"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "TpI4t1LI"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1528
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "3zV28GEnZABtIP7ShuwlMJXy6fmbp4Qd"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "G4v+nlkmT0E2YKNUjgSY5He8hy2p6fysOccq6rgl/i/aM3atAQQUA9U+ABJBzKHhcjBkf2Im9tm4/5o81Hk3zsVo3eYiW/edw4sKcFvKrx2RJfx6mzcSj6m2ths+Qt3SsXzzxQy1b/G7qK/LkJ4f455nNhhQ1B9G2XtB3ME8LlI="
  appKey: "1234"
  voucherId: 62299748
  voucherType: 2
  voucherCount: 657
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:09:41,516-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"1e9d2eacce9644b88267e3541a2e1bfe\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24130944043862681b09fd93a14bb60000\",\"sign\":\"F46EE059F0E2B3C56098CCBE6A4C5A5E\",\"timestamp\":\"1614143384\"}"
}
payrequestid: "KB202102241309432076075925157702"
model: ""

2021-02-24 13:09:41,517-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2933721542458346218156569006]]></transaction_id>
<nonce_str><![CDATA[B0gskJXtOxo8nErzlvw12CQjUm7MWHDT]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[BFC2E111A73B9BD2C67CC7479C2C42DF]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241309432076075925157702]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>802</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224130941]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 13:09:41,634-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:09:41,634-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 13:09:41,643-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:09:41,643-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "79669148182498"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "SEIoXfJthGjyNZ6Lq5sVui7zQUgrKvHe"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:09:41,731-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4fcde699309c44f5bb697374c8095448"
s_p: "aG1ENjFVRFNtYk9pV3JqOWloUlpzRUl6RURSNFpMNUh0eWJQTkliMWlxZ1ZYck5EOHp6N1hNSmc4UHdoQjBjc2FXVHE3SnJEdUdVTjNXNGpHYWtnZGxpSGpUNTdtYllUMUljTDQ5UkNMNjEzVzM4T3hxNEtEVkZaM0tmem5PcEZIUmNQWVRLT0FBS1RIOU1LSFBFYTdnRlgyVWxORzFOVEF4TmtkT3Z5ekdBQ0FXWUtzTFR5WloyV010Y2NCZkxIZDVXWUdDMDZLeUl6dGtNOWRtOFFzc1ZsYU9kUEhHTVFycHROYnJzdFlPZHdrZk9mZjR1eXp6a0NwbUltRWxZSlUxV0YzbnBzc0tqTHhqMkRhS2l6dU9LV1JPbzdkTTRrSzZZcGNFQmVNcXFJUXhuZ0V4SnhuWWJiMEQxRnJwd3ZzQlZuOHRBU2JPb2Z2R3RSUXBpM0Y5VlBoUmpFSXk5aERpSXhvWm9FVW1yQldFZnh6RHlnVERFV2JrWmNhM1ZDcEFlMTd5VDVmZTZTeFZJaktET1paWklpOTkxbjN6TFhrQUtiVDk1R3RJYzQwdnlxeEFUdFZObmtEdzNqOHZYbGpTUjNDenlZYTJJMFJjV01vZjMwVlRqa2gzYXVzREJwTHBNdTFOZXU0Snd1eHQzODR6UHBlZ2VKWTR0dU45cEREaUZHUzV6eVRIN2xxYTFmeVcxTzcwdWVQQXAwSFBIMGJ5RVhTWGpackNuWVNEbzdSdVVMR3gxNUtrSHNhZEZrZktQenZ6Z2FzZjVETVowUkpuOHJKQ256ZnZVd0o0UmxpSU9tOXNTRTM1QjRoT0RQbU8wbUNqSGMxaDNEclY1dlhhdXRwY0pHM0RlOGRFR2hORlFYVW1ab1ZoZWdjR2xmdWpjY1VaT3FjckxCaWVXcnpTNkZrWXVLR01NUlFFM25DZ1hyUUdWZFlwUlltR3I1U3FWZ29sZUhPU2piRWdOamdDcEE5UkRhbVZoQWNRT2M2YnJhNHhBOXJnYVlIeFVhTllIWk93cjhkeWtJQlp3Q0l2d2l6Tlk1cTVTTEJYQWY="
m_p: "0c2ad88s7OwkSFkbhP28S5noGN7p9675n5YQKx7PDXk0V88dtE8F8GCs9dcu40NA"
e_t: "1614251384282"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:09:41,732-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:09:41,732-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "4fcde699309c44f5bb697374c8095448"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "HRcPYTKO"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241309432076075925157702"
version: "260"
queryType: "PAY"

2021-02-24 13:09:41,787-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "8.02"

2021-02-24 13:09:43,787-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:09:43,787-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:09:43,791-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:09:43,791-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241309432076075925157702"
2021-02-24 13:09:43,796-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15111, 'pay_req_id': 'KB202102241309432076075925157702', 'notify_id': '2933721542458346218156569006', 'partner_order': '3zV28GEnZABtIP7ShuwlMJXy6fmbp4Qd', 'amount': 802, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1528, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 13, 9, 44), 'success_time': datetime.datetime(2021, 2, 24, 13, 9, 41), 'modify_time': datetime.datetime(2021, 2, 24, 13, 9, 44), 'trade_type': 'PAY', 'kebi_spent': 69, 'voucher_amount': 657, 'voucher_info': '{"cutAmount":"657","id":"62299748","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299748', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:09:43,796-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:09:43,796-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241309432076075925157702"
2021-02-24 13:09:43,800-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7797, 'pay_req_id': 'KB202102241309432076075925157702', 'partner_order': '3zV28GEnZABtIP7ShuwlMJXy6fmbp4Qd', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1528, 'amount': 802, 'kb_amount': 69, 'voucher_amount': 657, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 9, 44), 'success_time': datetime.datetime(2021, 2, 24, 13, 9, 44), 'modify_time': datetime.datetime(2021, 2, 24, 13, 9, 43)}
2021-02-24 13:09:43,800-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:09:43,801-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241309432076075925157702"
2021-02-24 13:09:43,804-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 13:09:43,804-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 13:09:43,804-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 13:09:43,805-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "3zV28GEnZABtIP7ShuwlMJXy6fmbp4Qd"
2021-02-24 13:09:43,808-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 222, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_3zV28GEnZABtIP7ShuwlMJXy6fmbp4Qd', 'partnerOrder': '3zV28GEnZABtIP7ShuwlMJXy6fmbp4Qd', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 69, 'count': 1, 'r_cost': 69, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 13, 9, 44), 'updateTime': datetime.datetime(2021, 2, 24, 13, 9, 44)}
2021-02-24 13:09:43,808-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 13:09:43,809-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "3zV28GEnZABtIP7ShuwlMJXy6fmbp4Qd"
2021-02-24 13:09:43,812-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148858, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '8cb21daf87644b87909deafaf7329c6b', 'request_id': '3zV28GEnZABtIP7ShuwlMJXy6fmbp4Qd', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":657,\\"notClearCount\\":657,\\"orderAmt\\":1528,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299748:657;\\"},\\"kbVouAmount\\":657,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"3zV28GEnZABtIP7ShuwlMJXy6fmbp4Qd\\",\\"paySuccessTime\\":\\"2021-02-24 13:09:44\\",\\"price\\":1528,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"L5DhsyrUOzGcNT/4fftiHfkvyQjVZlCvwRn9rE/SonePqUndlvv3iLObzFJXGXmkNFKJ/XB9EpgCMXiFtEMzLbmQs9mDB2iLjyylVUrw8yT8S+VoFDjk4vZljo5ozJELLJuFw6AKkWsiNam265vGemlzEK8ElsuLUQvgB0qEkps=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"3zV28GEnZABtIP7ShuwlMJXy6fmbp4Qd","sign":"F8C39925266E66735EB69C1FB4D98DF5","signType":"MD5","successResult":"OK","timeStamp":1614143384266,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 13, 9, 44), 'update_time': datetime.datetime(2021, 2, 24, 13, 9, 44), 'extra_json': None, 'remark': None}
2021-02-24 13:09:43,813-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:09:43,813-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299748'
2021-02-24 13:09:43,816-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 13:09:43,816-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 13:10:39,488-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:10:39,765-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:10:39,808-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:10:39,808-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:10:39,816-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:10:39,820-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:10:39,821-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:10:39,824-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:10:39,825-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:10:39,828-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:10:39,828-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:10:39,831-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:10:40,189-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:10:40,192-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:10:40,193-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:10:40,196-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:10:50,239-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:10:50,513-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:10:50,555-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:10:50,555-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:10:50,563-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:10:50,566-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:10:50,567-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:10:50,570-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:10:50,571-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:10:50,574-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:10:50,574-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:10:50,577-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:10:50,936-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:10:50,939-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:10:50,940-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:10:50,943-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:10:50,943-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:10:50,944-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:10:50,947-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:10:50,960-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.93', 'batchId': '17340762992625278306433629963187', 'bizNo': 'he152Zis6QIXmaJ7zco4KBPdqjMwu0tf', 'operateType': 'PRESENT', 'requestId': '92203352652504445646958612630732', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614143450957})
2021-02-24 13:10:50,983-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.93, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:10:50,996-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614143450993', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 4.26, 'cutAmount': '4.25', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 13:10:51,016-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299749'}], 'vouIdList': None, 'batchId': '5eb09407ce934f2fad9bd9a210865fa6'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:10:51,029-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '5eb09407ce934f2fad9bd9a210865fa6', 'batchOperateType': 'PASS'})
2021-02-24 13:10:56,064-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:10:56,072-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:10:56,072-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "18475980362549"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "baO0eJh5LVgoGYfzSQmqAx4KNWulRwnE"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:10:56,186-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8f7c52448cdf494bb12170db9c44f351"
s_p: "TkVnUWNpMGN3Yk0welB5bm1OekU4QnJ3enJSY0htTkc3VTdXalU0NFVyR25zeXptVkxJMm5mcjcyaGgwWHE1VzZLcHhNdWlVdzZUZmQwSDk5YlZDczdRemFONU50RUdyc1lmUHd2N1BjeHJTTUNBaERNRUJoVzEzNXk3VDlMYjFsQXpEVkxIVWRvRmtPMlIyYmJ1WEF1WkJZSWlZZVhBRjRobDdlZ3FVREpYdE5hZEZJVjh3MGprNzNOT0xCWXFDaHBwVkw1VVV1MDdKZ2NZQU5oVmNhTXhtdXlaR2FkRXZqRjFmUW93SDdLdFF6amJpMGRGOUlDRDhNWndhNjlqWDFpMkJtSWEybDBPeEhpblB0RjgzcEZDdWhUcnZncGxPV1ZDclNzU3VBb1FVQlFUa3hmbWlPaUJUU1RvZEo3Rm1XVk1mS2VsRmZVVFN6S05wQ3BnZGc0TkE4MXZqNGRPWVJ6b0t6VHFsT3oycGtDOHhZQnlkc1BVNHRCUlBlVUVwNnQyd3M3TXhYRVh1UE9yckxkNGdqaURpRFBqc0lWd2NTMWJNMko4ZlZKSW43SVNtZHVETGpWcHp2eTRwRVlSOUFWcHFZQVE1b2tzZHhiUWJPNDkzam1tSVZVd1liblgzVlZXbGpnOUtSdnAzam9zQkFIY0NFNXA2MVBMU3FqWkd4eDZYeG55YUZSOWRxT2ZuQ2tSZE5BRjJ4UEJjNHZLVW5SNFZab1pDY3pqM0hIVDZJSGdjeDU1VEhxM01xTmlZVEFDd3FpZ0RPVmI3YkhXbFUyN1I2ajVBUkt1dWFNNjZWNG91UFBXSWNOOUQzUkhHamJacXQ1eU9TNlhPdGRGNE9uSDhkc1BLYXJIdHNBaDhjb0lGbDE5UG9pdnVNNDg1NkQxRE1RUnMyRXNwM3h6dkpIc085TEFBeGlCajZUTDhibGl4ZmJhbnFURUZ1NG9HbEROOTBGZ1BIdnEwT04wUUxPTFFjWmEydVNUN3F6R0JRc0pZdUo2bEloZG5nN0JrbUllR0pUeHlRY1dHUURNRlVheGJ1YkE0ZGdOZnRoRkE="
m_p: "S2lfxe6NCVSW612q1vpMLZ4sufhBC3B4v5kIK5plw4S555O6d7id5Mhu75mZ29WW"
e_t: "1614251458740"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.93"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299749
    type: 2
    minCousume: 426
    vouCount: 425
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 13:10:56,212-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:10:56,212-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "8f7c52448cdf494bb12170db9c44f351"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "rSMCAhDM"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "DzqsHKepwRvaung0tcGNZ4jJ723rAVoB"
}
sign: "m7ySeYfB3Q1Lx+MSOWnF4mOfMJpRtmuo6piv/4b46PYPjyzNkH312cu6x6NzWkiI/Ct5Y0SIDfEgm8JFNRuWboRQY25NH0MLi595QnLsH1f9xHgxSWlN4ZU/Xh+GzkfEaJo/5eC3hZ/vHwoza3UhH4ZmW9vfepJBPN5hwtogHD9fzY+vQ3Hvbl0vEYTIDJjbwRy3svxHRHiKtD0/O7v46k4hoANckNDoFX/KsG+sYRuhHW3rkG3m72Y6J6YRA+HYIArbnQNgM4Tfans/ddfXNZUNrLmT3lAvsz6ssHZVA2/ucM/NXeDqOu8IdenlcNSV8vzfI4RE4CoPQuP+ZjSz+A=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "8f7c52448cdf494bb12170db9c44f351"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "rSMCAhDM"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 519
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "DzqsHKepwRvaung0tcGNZ4jJ723rAVoB"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "ckze+wmPfkUxYOOMbFGrB0ALlF8TtShGjfaMBb4MernW4yM2oF3SAK3yoqc+HLoZx5Emc71mIrH9D74+81fC46hfZPG1MsETeiTkE5+kcUElBI3UMjq2f9M71dGtqhSrCA9YgZJlrPpMdPF84fe+txAUw+9xrJzr76zXmnBNTQY="
  appKey: "1234"
  voucherId: 62299749
  voucherType: 2
  voucherCount: 425
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:10:56,603-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"36bb3abfdda54b5fb25e34b475a8605e\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24131059132921922f48e6c02d88350000\",\"sign\":\"9957AE3475CA11ABD6611E29384ED37A\",\"timestamp\":\"1614143459\"}"
}
payrequestid: "KB202102241310582076075925413752"
model: ""

2021-02-24 13:10:56,604-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8913204208181151621725358253]]></transaction_id>
<nonce_str><![CDATA[NoSMQchpdskTzjJ8a7Lf1FK9myY4XEG6]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[087BAAD3A717B124F2CA17D745E5F40B]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241310582076075925413752]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224131056]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 13:10:56,742-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:10:56,742-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 13:10:56,750-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:10:56,750-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "22000957428560"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "EUSIgxFKWqJpeQ0b8LsDYXhZGnVvjHkP"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:10:56,827-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "48581f629c87415c848eb0322270f3e8"
s_p: "UGkwY3kxZHlybkxEcXBSZHE2UVBLeFJWbEl2a1ZwdnFjcTVqSHBVYVZjUGZLb1lpMVRiaUgyZVRyVktHTnliWkhFbXRJelRYajdxdHF0RTk0cWVnSGIzZnFUUTBTaEtVOHdIa1Rram8zOXdlSnc1SG5ZZTdtbUpxblVFdTd5TnRoTnRQTmdYUXZKYzh6UEVHS1pya3FMekFRZjFtMFRiWFA4TWJWcjd4eWs0ZHFpakhuMlhrdENvdDhVWUpudGw4MkVrSjExeUxXUFlabldQMlJkbWw0ekg5c2V3SXFOOW9xZXIwYUFyZDFackNMT0JtRjd5WnhNNE55Qmg1c2hvNDRpSFBkY1drVnJkOVJvRldpWlBWTXBtZXBvS2dZZVBSUHN2SWRubFlheU96STdlNDRLWDFLT0d2NEt0M3FySmFyVEhXNnU1bU1nWWhCdjJQY01mQmpPR2FaQU1Cb0VWeHI5SmJ1Z2dKTXU5c3ZCcFJSNTN4ZlRtVDd2bFRtb3g2TVdSWkhUUEZwRTZjUEpJNHhPNWRYTVhxRjR2TFN2ODh0emxxR0tCbWZKY2RFT3dNOWkwWnJ0UlpOR2d0c3ZDcTNPNkJtZFFWcmhYc1RJUFJ5QjA3ekVqYXE4NHNKNmgyd0dQVlVOelpYaHdmM24xTE9iTFNVV2MwTHhmU3MwWE5IOGV1d3VwRXFMM2lYOWNaV0QxN1Nqb1BkV25weEhpVVdOVnpEeG40bDg3azhtaEtsMFdkZmpDYXN5OEljbkpIVzV5cWEwV084RWVEVXVKM0N4VTc5cUNlT3IyODk0VWc4RTJEZGhsUlVlM1h2RDhPaE9YNmxqSU52TzI5QlEwZ2lySmxrY1hneUZWQUFoQ0hBaVdBMGwyeU1Oc1hzNzRBeFBzT3JKTWh6WWVNTEM1S3h4ZHJMQ1FCbDdjVENib2l1WDNGSTJuRUtlRzc1OGNDVkFTQXFHdlNXT2I0WU83bTZnb1NFcERRZkhLdUN0Y1VtVk4wQnJOaGVYVEFLU3hEdGVHWjJNMEM0N1lSRVV2N3NOOFhnUkpVSUx2N01vU0k="
m_p: "59OzpV37S7V2ed08M4DGXdVqlNBpD5xZ73B8Lr7iB9S51M9eA17sVRR4314j3S6D"
e_t: "1614251459387"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:10:56,829-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:10:56,829-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "48581f629c87415c848eb0322270f3e8"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "HkTkjo39"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241310582076075925413752"
version: "260"
queryType: "PAY"

2021-02-24 13:10:56,872-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 13:10:58,873-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:10:58,873-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:10:58,876-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:10:58,877-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241310582076075925413752"
2021-02-24 13:10:58,881-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15112, 'pay_req_id': 'KB202102241310582076075925413752', 'notify_id': '8913204208181151621725358253', 'partner_order': 'DzqsHKepwRvaung0tcGNZ4jJ723rAVoB', 'amount': 1, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 519, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 13, 10, 59), 'success_time': datetime.datetime(2021, 2, 24, 13, 10, 56), 'modify_time': datetime.datetime(2021, 2, 24, 13, 10, 59), 'trade_type': 'PAY', 'kebi_spent': 93, 'voucher_amount': 425, 'voucher_info': '{"cutAmount":"425","id":"62299749","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299749', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:10:58,881-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:10:58,882-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241310582076075925413752"
2021-02-24 13:10:58,886-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7798, 'pay_req_id': 'KB202102241310582076075925413752', 'partner_order': 'DzqsHKepwRvaung0tcGNZ4jJ723rAVoB', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 519, 'amount': 1, 'kb_amount': 93, 'voucher_amount': 425, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 10, 59), 'success_time': datetime.datetime(2021, 2, 24, 13, 10, 59), 'modify_time': datetime.datetime(2021, 2, 24, 13, 10, 58)}
2021-02-24 13:10:58,886-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:10:58,886-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241310582076075925413752"
2021-02-24 13:10:58,889-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 13:10:58,889-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 13:10:58,889-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 13:10:58,890-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "DzqsHKepwRvaung0tcGNZ4jJ723rAVoB"
2021-02-24 13:10:58,893-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 223, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_DzqsHKepwRvaung0tcGNZ4jJ723rAVoB', 'partnerOrder': 'DzqsHKepwRvaung0tcGNZ4jJ723rAVoB', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 93, 'count': 1, 'r_cost': 93, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 13, 10, 59), 'updateTime': datetime.datetime(2021, 2, 24, 13, 10, 59)}
2021-02-24 13:10:58,894-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 13:10:58,894-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "DzqsHKepwRvaung0tcGNZ4jJ723rAVoB"
2021-02-24 13:10:58,897-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148859, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '6f8f3d5b57d348d7b90467f6925d7e16', 'request_id': 'DzqsHKepwRvaung0tcGNZ4jJ723rAVoB', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":425,\\"notClearCount\\":425,\\"orderAmt\\":519,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299749:425;\\"},\\"kbVouAmount\\":425,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"DzqsHKepwRvaung0tcGNZ4jJ723rAVoB\\",\\"paySuccessTime\\":\\"2021-02-24 13:10:59\\",\\"price\\":519,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"fubQbHP/lWiex1vnqf2l8BsX1Sj5zYw+r5ec689hEk3tkGsJNxjnEaORbAWqpLP6fg9b0mU10hHtKyIBcL0VzCh1Yw6Sbsagr7oMCjhU1Vga+JKIGJiq3KJ9OeF5ktlM7Deo17PgQLXqLuGPXbAoVhu/ElwpQHqqFDzv7xDzNxM=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"DzqsHKepwRvaung0tcGNZ4jJ723rAVoB","sign":"2D56B493239CE69535921C980C475059","signType":"MD5","successResult":"OK","timeStamp":1614143459378,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 13, 10, 59), 'update_time': datetime.datetime(2021, 2, 24, 13, 10, 59), 'extra_json': None, 'remark': None}
2021-02-24 13:10:58,898-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:10:58,898-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299749'
2021-02-24 13:10:58,901-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 13:10:58,901-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 13:13:35,736-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:13:36,004-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:13:36,048-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:13:36,048-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:13:36,058-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:13:36,062-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:13:36,062-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:13:36,065-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:13:36,066-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:13:36,069-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:13:36,069-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:13:36,072-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:13:36,440-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:13:36,444-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:13:36,444-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:13:36,447-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:13:36,448-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:13:36,448-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:13:36,451-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:13:36,459-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:13:36,459-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "08082891058061"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "kyXMYszV986KvLfnebCu43ItcJEQPDoS"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:13:36,583-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0613730cdc55426cabc227a13370670a"
s_p: "VXR5dnZUQUNEaE1pYkxRczhXdGY4bmxaWG9kVGVENFpyQkN2M29GclVqQnlSeEZ6N29GSjVCZmp3aWlBcWRqMk92YnFHeGNBUGhnSXc1SUd2Mkd1S2pUem5jNVAxRGpQc0l4ZFd6ajU2M2dPM05oTlU0bVB5SUJWb3NjNFVPM2ZpU0lqQkl6RGMxN0g5dGlRaDR4MDYwTXlRMXMxYVJHMXBWOHZoN21lN1p1ZGE0NjVQeWxFeTRzbXZyYmkwYjlNVWN6bDBLMEl6d1hGVFhSdUtmMmtrUko1WUNBUXVvcmU5bFJjWjZHWlhUSThQT1RuRXJVTGJvdXBBRjBya0tlR0hFaUFhUU90R1lYdTZFeG55U1Blb2pDOTdhNzh0eDZFQzR3bmM0cVZxdDg2ZUtlbVdwNVpyS3N6RjVGb0VVQVU4cmJwU3hOSHhZdjRrbmRpOXVFdkZuNFUwSGd5SUR5Q1l4N0VtT2todnZhZTJPWlpOd0d0SHB4UjFkOFA5bVpJNHhlTEQwRmRIVmYxbjFCaENKeHl6dzBsU0tmdGZRVUVQUllHREJDcFFINnl5bVlqdjdjOUhvNDlkdE5EakM5YkJIbTg2UVlNOEJiWHZ1SzNCTVh3SXl0MVF0bHlGcm1GWWRTY3dpTGtNU0tSWEk0dFV3cm1QNUJ3SExtY0tJMGdrTUo1MVRkcGc3aFIyUmdMSU1pcWVRVmVnS3llVjlwejE5UE94NkpGaUpFeVpLZlhFdFRIaTVnMWlpYXVtd1ZGSzN2VlNBMVUzOFlwWEhKS09KSUlkWG5rTEhkVk1RYVFJZUZ0eWZ1UXRzbjFVNGpnV2tNYldsMURsSGhQVkRjbjY1TkpobU9BRDlvY1lDaFIzQzA1dXBoZDdpbEdrcDRFMk5oNVNlQ2s5T2FUeTFvSmlSNkc5RUd0RXJ4aEFrWWgxT0tpeGRBb1RkanZSZGlRTHdVa0lCa2d3eWxnUDNRWFNrTmMzV253eW1HM0R1MHBRYlloWDVOZjFmN2dWMTFXOHpiWTlVNFl6T1FVUDVOVUNwQ05DNHFxbnZmYkx6Q2M="
m_p: "x6962ekiuI4NZqVs82w8yz4h392u02QX15fyPShH7gdQv1TzZ61139495V4016a5"
e_t: "1614251619127"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:13:36,607-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:13:36,607-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "0613730cdc55426cabc227a13370670a"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "UtyvvTAC"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.13"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "WmMe7dynt3JkRB54LgY1E2qcoDNspQ0f"
}
sign: "w4IjiFP2qtLh9qW1GnezEE9DmyuQLlkQQ3ueBXFMzO3XM2MsZr0T9QQrAF0HO8t5P52bZanMsCI2Qgki7zVwORfxhuRIQVcgAB1YuwT7kMMdsqd4O/ZLkNd+DyMCLHkaRjQdE2WTKfXzwHazmiVXoIjOF4Vnxh0Rycqz9C8BjapoNhNbmDuLTgdHxNum0Y2cah1zfppVLQ3ej32ZW+Ex1w5qtJtO6iRtOCfBe1DwUjgVeeg5vHLcErGeC4yp4sLi9u9w/ZrwNCXkuBoi4HppEk7joEKpobngVdzSfdXHOLikFrAn+MCe3KQnrg9Wdn634zxDL9xE8OK0I05Igk3ekQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "0613730cdc55426cabc227a13370670a"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "UtyvvTAC"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 513
  count: 1
  productname: "RECHARGE_SPEND_PRICE=AMOUNT"
  productdesc: "RECHARGE_SPEND_PRICE=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "WmMe7dynt3JkRB54LgY1E2qcoDNspQ0f"
  channelId: ""
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "Hd9MJq+RQ9+1OdAolG5KrQePROD/6ahp++11H+KnlGoUYF3PMY8N/N4uvkzn5CVV03Y3BNOp3HPGZOQeoA9ckLzbG22v2DlSvCP2ikE1kzLxMU2m0dKG1wxq6ZkBMNleif9u6SpUU71ZsEWexQqJleIvKixJ/mcTqsWoexYigG4="
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:13:37,037-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"2af96005011749ae82ab86f99c00ab51\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2413133957098015a39d5168a315430000\",\"sign\":\"5E525D9A7005A211AE9F75F7F10544FC\",\"timestamp\":\"1614143619\"}"
}
payrequestid: "KB202102241313392076075925346572"
model: ""

2021-02-24 13:13:37,037-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2873360999843411299485626802]]></transaction_id>
<nonce_str><![CDATA[jvXqu8SwiYsUmBNHfA3FQ1G4a7I5ZEyk]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[B57025DE56CC8CAEED8F83C43BEA0AD5]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241313392076075925346572]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>513</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224131337]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 13:13:37,285-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:13:37,285-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 13:13:37,293-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:13:37,293-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "91249526808398"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "YqRb7CZE2DQF14stO05iIuUWVeJhk3aS"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:13:37,372-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "96662f58db9a4956b04a1737928e7193"
s_p: "a1JKOFhuM09DVG1jU0N2U05OdzRySzVmNG1POU5FY2FrTW93dGxVVjd3WGtyalYxQ1I5WmpueFBmSjJ5SHVjMXBtWTg1T2VDSlpZeUlqMExNVTVqNmVNbDlqUnJteVdxa2gzTXNNSG90ZnpZeWs0cno3Z0NkZTRVUkFCM3l3MmQ1MGdRUGhyVnVJQVNwVU94Qmg2TFJEeENYemR2c1JSWkxmMDJrUkxSMnBySG9SRTFzN1dmTUcySlZsalo5UlpKODQzT3E4bnBTRXljMXFrM1FieVJ5bHE2cm85OG8xOFlyWVo5YmZITGhONVRoWjlscm1YTU1GdHhwTjdub2NRYUlCdzdzRU1ubjBVcmpHQU9uTlFJTjlyb0ZRTmZvNDNiNGc4VWIwbnFpVHZKV0hyWnFvdEsyWGJzQmpYcGQ3N2ZkcGp0bFFvRm9SQndnaXFFdTY5aHVYVkxqSVVWZTRMNWJNRUphM1JOdE1PMWVJZXZnaWVsOUJ0SkhYTG55Vk5reXV5dzFFWDNYZGpZSHZaR1NiTWhOUGs4ZkxmVVRxZmRqdlZMc2hLcWFSMXZTMHRwVHVuR2Z3Wkx6Q1lqN05DdXNHSEIydE5WdkhrTHkyakRiQzFXNGNnRkZOWVhQd3lIRUZPWDhnS0ZIODA2SVlpSzNNMnlybFJSWUI0SkRUcEFUdGdBSk12WThjT2dYMG9nRDRZcmd4SjdhekEzaEtxWkVoMVFjV3M4TncxTjh0NXNZSkI1Y0gwUkthckF2MktKaGhrMFFlRG5XNzVFV0RrY1ptUmJvWHJiaXFLOFF6WjM0OGI4d1ZwcFR5MWdJek5Bd2daT1R3SWF4T3hvZ3hOMmx6cHJjS2Y5SHFBazdzTlJKR3Z5dmpQNzlwQk5uNUxBZXRCRW92azM0bEltOFV1Wm9ra2FSREY5dDRpWE83c3R4UEhkRjBXSFBrdFBNQ0tJdFJXTER4Skl5TWJ5NENXRnF5R1JUR0tNMEVtZ25iZzlLY0VUS1RQeXFwS09zb1YzTDd0OUEzU0VsMjROZXhuT0RpemxiV1ZuWG1vNUx6V28="
m_p: "sE9D3L2w4Uw9Ww3E77f2TbK1Gw8A9M32Zw068STsxdkLD13T757Mp3Bjo063Q6GS"
e_t: "1614251619930"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:13:37,373-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:13:37,373-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "96662f58db9a4956b04a1737928e7193"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RrmyWqkh"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241313392076075925346572"
version: "260"
queryType: "PAY"

2021-02-24 13:13:37,420-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.13"

2021-02-24 13:13:37,420-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:13:37,420-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:13:37,423-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:13:37,423-INFO-recharge_spend-56-可币余额正常
2021-02-24 13:13:37,424-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241313392076075925346572"
2021-02-24 13:13:37,428-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15113, 'pay_req_id': 'KB202102241313392076075925346572', 'notify_id': '2873360999843411299485626802', 'partner_order': 'WmMe7dynt3JkRB54LgY1E2qcoDNspQ0f', 'amount': 513, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 513, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 13, 13, 39), 'success_time': datetime.datetime(2021, 2, 24, 13, 13, 37), 'modify_time': datetime.datetime(2021, 2, 24, 13, 13, 40), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '{"cutAmount":"0","id":"0","type":"0"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '0', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:13:37,428-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:13:37,429-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241313392076075925346572"
2021-02-24 13:13:37,432-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7799, 'pay_req_id': 'KB202102241313392076075925346572', 'partner_order': 'WmMe7dynt3JkRB54LgY1E2qcoDNspQ0f', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 513, 'amount': 513, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 13, 39), 'success_time': datetime.datetime(2021, 2, 24, 13, 13, 40), 'modify_time': datetime.datetime(2021, 2, 24, 13, 13, 39)}
2021-02-24 13:13:37,433-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:13:37,433-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241313392076075925346572"
2021-02-24 13:13:37,436-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 13:13:37,436-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 13:13:37,437-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 13:13:37,437-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "WmMe7dynt3JkRB54LgY1E2qcoDNspQ0f"
2021-02-24 13:13:37,440-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 13:13:37,440-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：None
2021-02-24 13:13:37,441-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 13:13:37,441-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "WmMe7dynt3JkRB54LgY1E2qcoDNspQ0f"
2021-02-24 13:13:37,444-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148860, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '0bdc7ac13b2443c6a7f1c43281af0ddf', 'request_id': 'WmMe7dynt3JkRB54LgY1E2qcoDNspQ0f', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVouAmount\\":0,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"WmMe7dynt3JkRB54LgY1E2qcoDNspQ0f\\",\\"paySuccessTime\\":\\"2021-02-24 13:13:39\\",\\"price\\":513,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"URtlAALY4U3N2jbOxFtaG+Gj51+8HTOMWimmNdX71IHnhgdUrBx2fjwSoWae/pyQ68L1hsBnFPTscVGm47ChjVATR0ZXS36tkrRTj21+jA2+sotqxhNin1gNhxaiJ4PtF6tBsPKWAJUeo6HWnyRng3RHLjixj/OZzQJ07ICiQO4=\\",\\"spendType\\":0,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"WmMe7dynt3JkRB54LgY1E2qcoDNspQ0f","sign":"8B32D38D53DE58ADE9E40FF7D53491C1","signType":"MD5","successResult":"OK","timeStamp":1614143619845,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 13, 13, 40), 'update_time': datetime.datetime(2021, 2, 24, 13, 13, 40), 'extra_json': None, 'remark': None}
2021-02-24 13:13:37,445-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:14:02,253-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:14:02,528-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:14:02,570-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:14:02,570-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:14:02,584-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:14:02,588-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:14:02,588-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:14:02,592-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:14:02,593-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:14:02,596-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:14:02,597-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:14:02,600-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:14:02,963-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:14:02,966-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:14:02,967-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:14:02,970-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:14:11,415-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:14:11,702-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:14:11,747-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:14:11,748-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:14:11,756-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:14:11,759-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:14:11,760-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:14:11,763-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:14:11,763-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:14:11,766-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:14:11,767-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:14:11,770-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:14:12,150-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:14:12,154-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:14:12,154-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:14:12,157-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:14:12,157-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:14:12,158-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:14:12,161-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:14:12,169-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:14:12,169-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "52202279864029"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "IHe6bQNFPGu49zXZxMLoicDdT0Rf1S2v"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:14:12,257-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4f83067e40204f49b446c69e5947ea96"
s_p: "WGNaMDE2RnFyakRrOTlnUTFsMG5pdFl0ZmdlazJNS3N4cVFBUFhZOXZiRGdpdVB5WUd4WTBXU2dTSWVUOVY5dGcyTnFmaGsyUWpCS2I0WDZSVVFOQTg5RzE3bGpVZXVLSnlWcUxGTUtIdFBHMnhuUGZXSG5FcTYyamtCcWlhc3RUOW9USnRJdzM2cGVacnBNNjlGTXFsZ3RaTWtLMk5mYmJQT3ZDd0RCdXlQYXkyME5uS0trUG53ODJhZEtJWEJ6MEdINkk4RWFlSTlKV2l4Z3JqbTNMRkpuR2pkQXVBUkR5YkxOUGl1YlRKbFAycEhVRzA3NmRHWlFaVjBpbWc5RjY1V05TbUl4d3FvNGhERjIzNGdVM1NUdUx2enQwQndza1ZtMDd3VGk1R1VnZm9GT1pOemo1eEltSnoyb1ZkOW5obWlTYWE1YnlpWmpXNFVoMVpPZ0dod0RKbXpKaW5PQ3k5RTlpT3QxZzlKVjRKeFVUTzlQb1lhNzlnU3duNTBuSEhFWURXYUlVQ2dTR09idmM1T3dGY28yT0tDTmc4eDk0QWxVN3dnUFRzYmQ5dEZjVjR3WTVocXpITmZGYm9MVDlrRWJJY1EwOE9zOWkxWE84SHdaTUhkY2JhVkpBOWx6TW9ISUx4d1RqRlp4UmNJQXMzZ1NGOEljalFTOW13dWtmcFBWcHZLTUd6czZnZEYybEZ6akJQVE9sZUsyUGJTVmNxa0tkbEZOZ0ZEQnRNSGRxT0VlY0U1d3M3d3U3NzBncEJoc2JEUThvN3p3czA3ZVdIcG8weUo5TU1nUmhuN0lpSmNmYnJ0bTFJR2tBOFozb0RGNjlGQ0pvMnVHeGRPSHBvbzBCOG9VNFdRWG9haXliM05rMUNsQlRFdTV2ZFVoQzJpZllRQk9CYUp0TG9LV2JFN2NWRkJhSnBhdnlyaXk1YU9RUldQeWh0eEpkS3JpSmhKUHo4bUFkR0VhVlZLdXMwNGtSWGg2ZHFyUnlldEVrWTlqbnAzcmV5UXVkZjVqZDRKWUd0cFd2cXg2RU04Nkl5cHpTeUVxSEpyTUMzVXM="
m_p: "CtqEL26e5J5o2Wue2K0PYtL0j547g4b3Rkf9QU36O74rB2mF1FY994W7I1yc5AKY"
e_t: "1614251654808"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:14:12,285-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:14:12,285-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "4f83067e40204f49b446c69e5947ea96"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Iw36peZr"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "Ug41a8yLCVKEbiIR7vcA0XhfHD5Gwu6k"
}
sign: "vDYMXPa36v4b5Biyynl3+5bOG+yL93WDdWtp62+s2JszQaKDo5mPsJMHrT1xuOqK5nXJxsaPBARVyXIe7/aCwAdiiR2t7J1dV7tBFQdbRp5RMcZxSI1fEMTqqeLXw/PFgUbhcmae2lLDzqsVUSC1W/LfeD/WPEPUY5u37tatzIukXzqjhWxfMQoeJ//ULRtBlnCo2GtchC6xQ98i8YjkRAJsbKQrLPYGsX2pYXW5knEDOE0pMQ/9hYqCwkilvC/f4HmAZwYkRhSVT1BVeWMH54hboI8yPCaObGF1tR9Wld0E+n5Cbvv2VJ3NQP29Bw1YgHJzAUnjyayH8lTz9DzsGg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "4f83067e40204f49b446c69e5947ea96"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "Iw36peZr"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1
  count: 1
  productname: "RECHARGE_SPEND_PRICE=AMOUNT"
  productdesc: "RECHARGE_SPEND_PRICE=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "Ug41a8yLCVKEbiIR7vcA0XhfHD5Gwu6k"
  channelId: ""
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "AHLMNP1QnU6p/AI5idLudGVKlsMNF42mzKkN1dCBioeYLwwv0zgeSV1+NCnVkVQgMfxN9fzoD80vV3I+dFsAh/OjmzqRhQkPoJBFRBztN3vo5etG6mjTUjgpY6Zsm3XJK4M6ANtiuxw4NFcuckjYMQx0vfwUwBlx0pEd/KFNeE8="
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:14:12,704-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"418ea70468fc414db8bc15b79f88129c\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24131415236520ef59f72cfad348740000\",\"sign\":\"ADE7B43226327888B4BF2121D36BBEB5\",\"timestamp\":\"1614143655\"}"
}
payrequestid: "KB202102241314142076075925722332"
model: ""

2021-02-24 13:14:12,705-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[5317323337143554300634070592]]></transaction_id>
<nonce_str><![CDATA[j8eVOzghXky35BAFZ7b0SJDmLUuaopiT]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[B63595FB98DA0AEAF5B9174390C01ABA]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241314142076075925722332]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224131412]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 13:14:12,832-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:14:12,832-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 13:14:12,839-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:14:12,840-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "50016377045403"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "UvCDPM63qOurRT0KkjyFLzXaYfpieH5c"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:14:12,928-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "05a0ed7121ad498e807d3c6764adbad0"
s_p: "aEttNk5GMFlEV2NDeFNWalBKZGJkcWN1ZXRmWFBxRnBDWUF6NGIyNGFpWmdsOGhRUkpMWk5FcGJybU1SdXRXdEhPU003RDVmN1g1YlRLUG5ZSUJpbjh4Q1o3dmE2ODVJakdoN0xCN2xkN1VndkVMQnltazA5WDRwcE1zaVNWWEFTS3ZGRnVJWDloRGc0SHpVWjN2QkVid255cFlNNDZybGdIekVYUTVvZUZkZ0NFQzhVYnJVY2Uyd3lYMHVPa2ZRdWVTaUFLV0F4TzRjYjEyMDRLMkdIakdYV2c3eTBhenBrblhNMk9kT3Badm9RUUJXTldkVzc5Q09aaEVCNDd2YndKdjcxZ0pCd3dQOWVBa1o4dWxFVUN4aDdkRmx6c1QxVVdDNnF4SUY3UzdFVktwS2t2dUQyczc1SGtUWm4wSXJyMk9ROTY2RlZYUnV1U2N0WVVkRGtmWmdOaVBSVzNmbEY5a1BsVDc3cjgzS2wyUHdEOU51YWk1VmNjdndzUVREeG92ZGxHaWdxMmNJY0RtdmVXekhBUzlKQW5yQ2RaY0x1bWNMbWFFMGFCMFl1NXVXejJKV0VibFMzRmlVSzBVOUZxZzJ4ZHlJV0pKbmxvQ1RaTHhYZVIzZnBCUUw5ekZwTVJiak11VzZWNzNoaVBFS1RjenZoN005NVVESTByR3hXRkd3OHJRZUNBOXZRdmUzc3lHSmRwM3NWYXZFWlZNVFpsczBOQzRleVNXTklRcUVwellnU1RRZ29ydVlFdkdmWmRkeExxVm1GVXAwTmlVT01TbmRJN1Jwem1rcFBFTWxoS2dXNDBJTU8ybXVYRzFxSWxjQXROUXpUNlBSQlNDT214T0xFUVNBVHRjeWhHRUNvWHdxNUZ2bHNIRklNWnN3RWNQVEdjeEJpbVlaeG1zNVZDbVYzcDVVM3dLenVBaGEwT29oVW5ybFpGR0NaQlgxbXlBVzdNZUNWQndZUlZKczNySWc0OWFWQXRKUzFtdENLOVZncEhqWVpLdkxIeE9uazlKYnFtMDFxc0FFeWRzaDcwQUNHdm9YMjFGQlRPajk="
m_p: "M1uC93vf22Wt53gYk80HIM6A0R8GzWAuO2i1W3Pzk7JVg1jYNrko9fp976zf5r7y"
e_t: "1614251655477"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:14:12,934-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:14:12,934-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "05a0ed7121ad498e807d3c6764adbad0"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "9hDg4HzU"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241314142076075925722332"
version: "260"
queryType: "PAY"

2021-02-24 13:14:12,976-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 13:14:12,976-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:14:12,977-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:14:12,980-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:14:12,980-INFO-recharge_spend-56-可币余额正常
2021-02-24 13:14:12,981-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241314142076075925722332"
2021-02-24 13:14:12,985-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15114, 'pay_req_id': 'KB202102241314142076075925722332', 'notify_id': '5317323337143554300634070592', 'partner_order': 'Ug41a8yLCVKEbiIR7vcA0XhfHD5Gwu6k', 'amount': 1, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 13, 14, 15), 'success_time': datetime.datetime(2021, 2, 24, 13, 14, 12), 'modify_time': datetime.datetime(2021, 2, 24, 13, 14, 15), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '{"cutAmount":"0","id":"0","type":"0"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '0', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:14:12,985-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:14:12,986-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241314142076075925722332"
2021-02-24 13:14:12,990-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7800, 'pay_req_id': 'KB202102241314142076075925722332', 'partner_order': 'Ug41a8yLCVKEbiIR7vcA0XhfHD5Gwu6k', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1, 'amount': 1, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 14, 15), 'success_time': datetime.datetime(2021, 2, 24, 13, 14, 15), 'modify_time': datetime.datetime(2021, 2, 24, 13, 14, 15)}
2021-02-24 13:14:12,990-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:14:12,990-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241314142076075925722332"
2021-02-24 13:14:12,993-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 13:14:12,994-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 13:14:12,994-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 13:14:12,994-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "Ug41a8yLCVKEbiIR7vcA0XhfHD5Gwu6k"
2021-02-24 13:14:12,997-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 13:14:12,998-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：None
2021-02-24 13:14:12,998-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 13:14:12,998-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "Ug41a8yLCVKEbiIR7vcA0XhfHD5Gwu6k"
2021-02-24 13:14:13,002-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148861, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': 'fad9b4e3ac834a8cb4630cbc8ba4506d', 'request_id': 'Ug41a8yLCVKEbiIR7vcA0XhfHD5Gwu6k', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVouAmount\\":0,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"Ug41a8yLCVKEbiIR7vcA0XhfHD5Gwu6k\\",\\"paySuccessTime\\":\\"2021-02-24 13:14:15\\",\\"price\\":1,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"iBFbttHL4T+VF5KNVa4YyGwe1Yv+atekQhOy3DMv5yrgRZKy8I0/XTPC11MrIU2Jxrk1i54x9I3iePrgtTfAmMOokbjCT4m8UaxtmtlZSPw2B2EBBzvVaV+zRV21LE3D5M1kCeGao/EfvHvhTEz3jHlPOtk5WUeYzRTzISjk7xc=\\",\\"spendType\\":0,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"Ug41a8yLCVKEbiIR7vcA0XhfHD5Gwu6k","sign":"10BA7AF9A55C9834E32E9C1EF962AB8F","signType":"MD5","successResult":"OK","timeStamp":1614143655405,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 13, 14, 15), 'update_time': datetime.datetime(2021, 2, 24, 13, 14, 15), 'extra_json': None, 'remark': None}
2021-02-24 13:14:13,002-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:15:00,166-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:15:00,441-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:15:00,482-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:15:00,482-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:15:00,834-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:15:00,834-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:15:00,838-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:15:00,852-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.01', 'batchId': '32029415729598328609774869697100', 'bizNo': 'Z7vmgEQBjlKDJdrbn4hC0IXuRaT6tYkq', 'operateType': 'PRESENT', 'requestId': '92445184070280672216121871906130', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614143700848})
2021-02-24 13:15:00,885-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.01, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:15:00,900-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614143700897', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 4.77, 'cutAmount': 4.76, 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 13:15:00,932-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299750'}], 'vouIdList': None, 'batchId': 'ae4fc76c314d4d5885b7344c6726942b'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:15:00,946-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'ae4fc76c314d4d5885b7344c6726942b', 'batchOperateType': 'PASS'})
2021-02-24 13:15:05,983-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:15:05,992-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:05,992-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "36452404955932"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "gDxSRsprQTBeF6ZUdnamc4EwAfoYV0vj"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:15:06,087-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ab2d8f4561be447b82c8405f2bac1f3f"
s_p: "VGdnS0FPTEVwOUxxQkhOYUI3NkRldjd1eGpXdERFbDQxTVJxRjFkYm9DYW5nWjJxUTRaMGhQRnA0cWVVcExVZFpxajliQ3hJaUFsQUxqTU4zdHJKTUxVRTFwWVE4SU1yekMwZ1pidU5IVXpvMmJDbXdQZ29pQllmc1ZnRFVwZVI3dk1TVGtMUlRWeWw4NkptRmV1RXNlYkJmZjJXMXc1aXI5UDF0a1VtaXBFcDJ2UlVpYktCazZQcjRMV1ZBd096RlJrMFhwa3hyMlNsNmJuclY0U3luZmFDYXA1ZmxjMmNLTXRTbk9jcXVCV3p2UXdlN2plcEU0TGhYYUp5eU03TWFrSUZNMGppMzhFY2wwbUEyUFZqb1dHQ2J1Z09MeGFvYjFTNEtyWlZJdm9XRWFhQzZRMTRpMnJkVXpSMUhKQmpmNXo1MFdTV1hUbkJabFYxSFBBM1FNcFptTXFKa3dGSVNwVkNkTHVPd1dtVmRKd0sxa3locmtwSGMweDJOOEpPU3k5aFZwaXdpeXFNSUt2UmFuR3FLVm5TVVY1c3ZualI1Q2p5UFBZdE5KeE13cXdQMTBhOG9hZUFHaHM3amZhUjJIeGpaR3FHWEJGZmxUNXNHeG1KZ2ludTA5bVJ5bzNRek5ZZXJWWmN4RUtBcXBsMXhDZEhqN0RBZzhHRm9NaEtpdDZSS2FpY1VyelZJdFUyV2pQcWxoZEtIQXk1Mm5ldU02aE0xTHFScTRqbEpjU2t2SXZBUFJiZHRGa1c0Q0YxV0E2UlN1TTBtcEhlbmFDR1hMZllBdkhuYkdEV0lsTkdJTGw2eVM0UzI1ZmhadmhET09IUm1ZWUFnMWRJd2ppTWhzQ3J3ZDBiSzZYQzUxc2dnTDVUc1ZYUmRpY3V2ZDFreDB3VlJjbncxOGJ3NllaTTdyaGgya0pWZW8xSDFkRlkxdERhMG91ZHBPRm1sUUw0MXlxU0Y2cFoydXlLVzFjWjF0MzFRWmloSnAwMEVDSmhCS0hzeGw3WVZhZExHQTdNZXV5d3hGS1FVcHJ4VzROZU4yT3dPS21yODgyUUJiSGk="
m_p: "4icLt61dB1bgps21q2112ud4e2l6z6pC3b47BV49uJFJk3q8d110Xb9pq51eRx8M"
e_t: "1614251708632"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.01"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299750
    type: 2
    minCousume: 477
    vouCount: 476
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 13:15:06,109-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:06,109-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "ab2d8f4561be447b82c8405f2bac1f3f"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "MrzC0gZb"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 477
count: 1
productname: "KB_AND_VOU_SPEND"
productdesc: "KB_AND_VOU_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "t3mRYMCpGTi8Uw4JQBPevxWdbEXlNg2f"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "KkwV+8mRnreTNGX8rKgG8QqPyOp5eyuMEe0COzRHDh2O0U2gMww/31CCobTTBr6KOwSe7LJBs7LFtgVP3mRcl1BtA3fNuVuYJg+9rae7iMDwwE6hpsS0NLHosxkvExcGoIKCswXL/iPbnLbaEffcinJvT+hx2SMqTYHOQup69JI="
appKey: "1234"
voucherId: 62299750
voucherType: 2
voucherCount: 476
order: "8482211298784"
ip: "120.197.152.211"
factor: ""
screenInfo: "FULL"

2021-02-24 13:15:06,285-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-24 13:15:06,286-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT pay_req_id FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and partner_order = "t3mRYMCpGTi8Uw4JQBPevxWdbEXlNg2f"
2021-02-24 13:15:06,289-INFO-fiz_db_operate-38-查询到partnerOrder：t3mRYMCpGTi8Uw4JQBPevxWdbEXlNg2f， 对应支付订单号：{'pay_req_id': 'KB202102241315082076075925168842'}
2021-02-24 13:15:06,290-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241315082076075925168842"
2021-02-24 13:15:06,294-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15115, 'pay_req_id': 'KB202102241315082076075925168842', 'notify_id': None, 'partner_order': 't3mRYMCpGTi8Uw4JQBPevxWdbEXlNg2f', 'amount': 0, 'refund': 0, 'contents': 'KB_AND_VOU_SPEND', 'products_name': 'KB_AND_VOU_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '', 'sdk_ver': '', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'KEBI', 'direct_pay': 'KEBI', 'game_type': None, 'present_amount': 0, 'original_amount': 477, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 15, 8), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 13, 15, 9), 'trade_type': 'PAY', 'kebi_spent': 1, 'voucher_amount': 476, 'voucher_info': '{"cutAmount":"476","id":"62299750","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': None, 'mobile_os_ver': None, 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299750', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': None}
2021-02-24 13:15:06,294-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:15:06,295-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241315082076075925168842"
2021-02-24 13:15:06,299-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7801, 'pay_req_id': 'KB202102241315082076075925168842', 'partner_order': 't3mRYMCpGTi8Uw4JQBPevxWdbEXlNg2f', 'partner_code': '2031', 'products_name': 'KB_AND_VOU_SPEND', 'ssoid': '2076075925', 'origin_amount': 477, 'amount': 0, 'kb_amount': 1, 'voucher_amount': 476, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'KEBI', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': None, 'app_package': 'com.example.pay_demo', 'app_ver': '', 'sdk_ver': '', 'mobile_os_ver': '', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 15, 9), 'success_time': datetime.datetime(2021, 2, 24, 13, 15, 9), 'modify_time': datetime.datetime(2021, 2, 24, 13, 15, 8)}
2021-02-24 13:15:06,299-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:15:06,300-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "t3mRYMCpGTi8Uw4JQBPevxWdbEXlNg2f"
2021-02-24 13:15:06,303-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148862, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '9d399cd594b14f4b8996191c5b249dbf', 'request_id': 't3mRYMCpGTi8Uw4JQBPevxWdbEXlNg2f', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":476,\\"notClearCount\\":476,\\"orderAmt\\":477,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299750:476;\\"},\\"kbVouAmount\\":476,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"t3mRYMCpGTi8Uw4JQBPevxWdbEXlNg2f\\",\\"paySuccessTime\\":\\"2021-02-24 13:15:08\\",\\"price\\":477,\\"productDesc\\":\\"KB_AND_VOU_SPEND\\",\\"productName\\":\\"KB_AND_VOU_SPEND\\",\\"sign\\":\\"h//EjJLjjoWSqZJF+rpgiOGPrhZE7vPmJdTB70SOt9Ge7Jj5aVJr9N5VUgF0f0TR615oGpiTT4ZsAlBufZz+bV/viABMyBFvLKLiwcaF5mwehnnwaaeDya7Bj8jyC4/4dMKkcwdRwvgaIH+nFuvpUA0cHQ3MVq5w5tncMlF0KvQ=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"t3mRYMCpGTi8Uw4JQBPevxWdbEXlNg2f","sign":"965FBB69F5FEDF48D09AA9D13E0EAAC5","signType":"MD5","successResult":"OK","timeStamp":1614143708866,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 13, 15, 9), 'update_time': datetime.datetime(2021, 2, 24, 13, 15, 9), 'extra_json': None, 'remark': None}
2021-02-24 13:15:06,303-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:15:06,304-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299750'
2021-02-24 13:15:06,307-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 13:15:06,307-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 13:15:15,253-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:15:15,526-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:15:15,566-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:15:15,566-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:15:15,574-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:15:15,577-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:15:15,578-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:15:15,581-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:15:15,581-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:15:15,585-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:15:15,585-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:15:15,588-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:15:15,957-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:15,957-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "65867702361147"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "xGmp7EudtVwa5UYjXo16HBerS9ZOT8hy"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:15:16,006-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "021894f4db7c46a599d158091ff4b23e"
s_p: "dm5HR1YxaXFDc2VFQWdXWm5JTEhiMmdkY0JNWEE3SVZHQU42ZHpKT1ZnN1B1eVgyZEZua0xKUmVyem1WRTk4aUREaDFDbXBoV05VQU5OaDJFWFhsYUlUMlhVVWFzTFZCdHRmQ2NIWEg0dXNuaHpmWENoRzNXWU5Uc0dIRXo4MnZBOTVoanBEcUM3dDg3eWpPY2JOSUVpSEJCNmxSOHdNeVFKRTJnMzJOMEY5bk1wRG5ibGp3QnJOamNybDhqQ2FhSTVvMmxwUFR6d0R1QzBkWEJicGpaWjVVNXRXc1hFbHk2cGZ3MHNWdWFkQnkyZExqY2pwamJPaGN3WGRQUHFMbFNaejBQUWx1U3lBaUJ2b201eDRpQWhtcnR3Wk1kWEpWb2hvSkxHbFBESmlVQ0Y0TWJGSmpBYWpHZEl5SzRhQmt6eDVwdlRRbXA4U0tCQ0JaM3ZMRjJkY3QxalBWdmE3YkZEY21RU0t3TXY1V2ZtSEY4MVAxWHFPd1ZWZmRVQ0g0a3BDSTJMbFZWWW5XeENpb05HampBWHB0SFNCN2l5TU5CaWMxcTM1TFZYWjRUbmpsRlJLUlJYWVExODZhb3E2aHlqbWw5emM1dmtLSkFnaVN3b250WkVUWEhWeTRRRks5WElyYkQ4RExmcDVKRm56Mk9hSEd6RVIxMjJNdWZhTmxsc044eGhRQjRVSHZDUXloQTExRjd1N29zU2JzZ3lhVmVIS3RBVjExNzZ1YXlFak5TRGJMeTZsRzZ0Q3hCdGMxRzVwcXdWZVBjUFh1c3VtNVZGa3F0WHJuS1cweVhhdnFnVjVkOENGcm91NFVNeHlxdE5zS3FUYTZLVlM1Vnp5TFVuVVZuZlp6Z2ZuOTVFQm1XY3JCeXZRaThGZnQzSHp1dTh5ZHZuODNqUFFmMDlsWllVTjVTdnRQVzBqd202VUtseUJCeGp5ZlRRVlVnMnpzcGxFU3NtZFN5SjE2clAzeGI5M1BtZ2Z6cUgzYmdhMmQzZEJCZDlrQm1pUTRaUFY3Z2oySW9GenJoTkFYZ3VDd0c2U29XdmtraEZJWEtwMkg="
m_p: "5drKXZWBJ34tca77b4zsb97D2SM5POLf6M938vj5vfmoYp38qIz3ZuE2fJ1j6A78"
e_t: "1614251718596"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 13:15:16,008-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:16,008-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "021894f4db7c46a599d158091ff4b23e"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "sLVBttfC"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "0bxW3oNMEDFUpzkPlIjht8qT9rG1VmnR"
}
sign: "h2Kz9nhWzAJIZ26v67bIha1LOfyKAbH//CS3nKYsIbJhIZOtMqh6rzNtf8oyzbDW44/nylBm/wCO4JORhioO1nUgivz0himHl6efDQpJE5BCxqyD+LQVppXhdZNsl8pHfI00SWQT33BAzX0DMqDZofNbg7Hv8Z9HGopFExyUv7cSUu8J3t95pY8znXb1GHCXF8lgSoYKKZe6TD4H9g+QQ5TK8wDBn8o9OH5Gpxwlm8wiHAVPZp9esc4kmQbkcZTDla20A1UzEHklSkh8pDcg4OF1E/+G9YkP3EEI9rEamcYkhZbirYvU9C3jGWLhphCYeJjjtAoliXpuVky+6Gb1Dg=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:15:16,336-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"5d0b7de826914117ba7dfe5e1c3a0b39\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2413151884902163912c6995ec1f870000\",\"sign\":\"A9298548FFE022FFE43DF93927D6D5E1\",\"timestamp\":\"1614143718\"}"
}
payrequestid: "RM202102241315182076075925271362"
model: ""

2021-02-24 13:15:17,337-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4790574134147897825768574098]]></transaction_id>
<nonce_str><![CDATA[vEoZsnpa0YqrCwMU8jb7GmhkSlQPXI4K]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[7C67BD41E90C9F2B0C11CBAC77532E3E]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241315182076075925271362]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224131517]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 13:15:17,436-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:15:17,436-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 13:15:17,444-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:17,444-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "48579994013641"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "nqU3Q9j6vJoMXtTu4AiEV5KSwefR81Hs"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:15:17,527-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c40d89473b304fe08eb47667b5ab6f07"
s_p: "UFBXSzVUcnA4Tjdhb0xna2d5TVpIc1Q5TzhQdWhiUWtNanpKeXU5TlFnTVcwbVZZUVh0TmtJNHM3azBDSFhUSVhrbzNWVEg3M1J4OU5LUjdheWF4ZUNQU21FbmhtR3V6WGV5SHVyc3NtYnJjM3pVUnQzV29ZRDBHR0YxcWdqU2pTWmoyS1FMdzRLZjBxak1tTXdjcWdYemU5NWE2ZFBaSTNPV0Z0S0hXYkdhaXEzc0V1WUp1UEFoQzJGeHloRTZHcXdNam5yRm5tbVlQSkRJalJTVFFjNTVlZVhURkYyS1pKdWxIYVE2RkpaVVB5dEFEVUh4emxSZlhKeWdDdlpBTmxPY3J6YVA5dzdwYjdBVkFLRE9PNWk5akVmZlNDNE1tZUtFd010b09WOGpodXBOMEU0QWNwMnZYWnlneWhLS1dycUVtbzRwdUdwWmdKT2cxQnYxTUZqeHhRZksxVEtRd3dYbzBnTEIxc0JYTzBGSnhoMU9GSHVxSkY1azJLSEp3endMNERPMnlyV3lLcTZJSVhoN21KQVJrV0xYSVBTclp4ZVNYa2NJS0tYVFFwSWpVazNLUDczSTRzUjB1aUN1cEFLSnlSMVFWRU5MQzVXVmlEbEQ5V21RNkJnOUh0Z3ZwWkFYZTFrNnBNS25iZWlTNEZZdTZHNWltMm1DOWNYeXBxdXpJaUZFeXZqcGkwbjJyTERuM3RFWncwTVFoUGNEYThlVExxZWxqSEc4aXNyR1k5TUtXbkV2T0tQRG56NXgzU3p5WWc2bjY3dDVjSjRUTjBCQkNwSjZKWERSeW85RW1Td3Zpd29vZ1k4c1RSSklxSlpvZEYydzF4V21peGF3c2JXNk1OV1JoNXQ5Z09Bb1poRk5NWHpBM3R4Qmszc2NPaXZ1MXk2VTR2UUxCQUdDbHY3YzlKdTJzU2p6RkI4Y002RkdBb25GWmt5T1N3WjFOdE1hUmZReUlwNHA2VktDdzhsYnprSE5zbE1vYTRwNGNhZEhydjlaemxUWFZyWnF1N2tiUjhOd1Z0VUY3SkxSWnplYkczMnJaeWZzNlUyZGE="
m_p: "1K96iY11HeBQDB6L94e6vZN0N3g59A4iAv0Ng4R04LWx05ztCv7Gga0vGe2OB7i5"
e_t: "1614251720076"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:15:17,534-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:17,534-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "c40d89473b304fe08eb47667b5ab6f07"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "VYQXtNkI"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241315182076075925271362"
version: "260"
queryType: "direct"

2021-02-24 13:15:17,581-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 13:15:17,582-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241315182076075925271362"
2021-02-24 13:15:17,586-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15116, 'pay_req_id': 'RM202102241315182076075925271362', 'notify_id': '4790574134147897825768574098', 'partner_order': '0bxW3oNMEDFUpzkPlIjht8qT9rG1VmnR', 'amount': 1, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 15, 19), 'success_time': datetime.datetime(2021, 2, 24, 13, 15, 17), 'modify_time': datetime.datetime(2021, 2, 24, 13, 15, 17), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:15:17,586-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:15:17,587-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241315182076075925271362"
2021-02-24 13:15:17,591-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7802, 'pay_req_id': 'RM202102241315182076075925271362', 'partner_order': '0bxW3oNMEDFUpzkPlIjht8qT9rG1VmnR', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 1, 'amount': 1, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 15, 19), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 13, 15, 20)}
2021-02-24 13:15:17,591-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:15:17,592-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "0bxW3oNMEDFUpzkPlIjht8qT9rG1VmnR"
2021-02-24 13:15:17,595-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148863, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': 'c33621c7596243dc940cd38d2fb671a2', 'request_id': '0bxW3oNMEDFUpzkPlIjht8qT9rG1VmnR', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"0bxW3oNMEDFUpzkPlIjht8qT9rG1VmnR\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241315182076075925271362\\",\\"sign\\":\\"LSoCHUhpcaHHJbEMPTmy0rC2nTezQZbxiGYnrYRXP4KNKxVHUOgALTUlIP+7tIifr5wJ0WsAxFu7yi+ekvlxYvpELfMwkIACXERlut1BmjbPSG4v5DPtYyrf4CIQ/sq9aubkpgln2C4lkR+JLb7NSWt7dVqG6prP7CQ3u4uZomg=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614143720017\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM20210224131520717\\",\\"orders\\":\\"DIRECT_PAY0.0120310bxW3oNMEDFUpzkPlIjht8qT9rG1VmnR\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 13:15:17\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"0bxW3oNMEDFUpzkPlIjht8qT9rG1VmnR","signType":"MD5","successResult":"OK","timeStamp":1614143720017,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 13, 15, 20), 'insert_time': datetime.datetime(2021, 2, 24, 13, 15, 20), 'update_time': datetime.datetime(2021, 2, 24, 13, 15, 20), 'extra_json': None, 'remark': None}
2021-02-24 13:15:17,595-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:15:20,701-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:15:20,974-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:15:21,017-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:15:21,017-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:15:21,025-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:15:21,028-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:15:21,029-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:15:21,032-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:15:21,032-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:15:21,035-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:15:21,036-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:15:21,039-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:15:21,391-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:15:21,395-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:15:21,396-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:15:21,399-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:15:21,399-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 13:15:21,399-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "HlJCPpsUGazqhfx27DS08LdNm9gYvkZ4"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "0.01"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "0.01"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-24 13:15:21,768-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"b1f7d29627d74adf8d84b5f4686e1b0f\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx241315243039544654c5f9c6e68bbb0000\",\"sign\":\"A2FCB07EF2031A27C3945A5FF5CD39EB\",\"timestamp\":\"1614143724\"}"
data {
  payRequestId: "RM202102241315245BNX5ST54L736042"
  payUrl: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"b1f7d29627d74adf8d84b5f4686e1b0f\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx241315243039544654c5f9c6e68bbb0000\",\"sign\":\"A2FCB07EF2031A27C3945A5FF5CD39EB\",\"timestamp\":\"1614143724\"}"
  parameters: "0000"
}

2021-02-24 13:15:21,769-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7004609481990357501087956990]]></transaction_id>
<nonce_str><![CDATA[PAXTGBRcKtUb3SIgo7VZD2ikuF5W1YE8]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[009216BD3ECEFA7E5DB0FB73CCF5C1B8]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241315245BNX5ST54L736042]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224131521]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 13:15:21,879-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:15:21,879-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 13:15:21,887-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:21,887-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "86899572501347"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "dbBuiZSmjw0VpqDcJNzOr6TagEQyl328"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:15:21,960-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "58baec2b3fa44b6a8befa8f16cdb55a4"
s_p: "TlNJSERoaFQwOVVUUVpPZVRZdWY5a1lCSWZhNFdiVHhYQ2tLZFl3dDMxSXhjR2U0ank1a2lNNFEzeHZ6RkNnMTJLWVgzMWUwTUZsdmNVRlI5Q2RoWlFCUlFzUWNtNlE5aUcycFA0b2NXdlZpRER6d2xIU2NXY3VHcHFOZ0pPeWJLa3U1RFNUYlBJaVRzV2hEU1JXb2VBYjN3VmZyczFMUmlQY2lTVU9jbk9wZmJNZlVQb0RwMXBmT1owU1Nrbk1FZWZveHpwNFYxMW96VVRnd1pNUHd5Z3drN2ttcDA1ck9rRnlmdDQxNm14U2Rhc1BEcE9PaUNVOWZqVm1LcVVCNk9YbzZFWlNOdXVUSUFtOTlKQXI0cmFMQnhnU1JGMm1PeHg2NWE4M1dSdEVib1U3aXZxTnJSc3ZSTDJ4amlHVGEwY1c1U21WSGVucFp6cEVFOHJJdGgxR0VrODZFanhZV1k0N2g3UThXMWU1TFNUalowcjk5b056YXZ3NUd6aGlKSFJ6Z2pQTHN6R0pFRlNwcjFtSW8wZm5vS3VEblV2aGZtYkZFSVlpRjJwUld1bkhOc0dhaE15YmEzZ2RYd1NRZlFYcXloanlENlpWVW1Fb0JiU1hYQklVQ21uTlJmU0JMc1p1Qlo1ZEZjWjc1NnpCTmdyRVFqb0dMRXJWOVBzWnR0VDZFS1ZneVFmSkVZbWM4TGl4ZDBqd0R5b1pxdXhMUW1HRG05eGdZOUdQZ0tlbTFlRFduaHM4YWNwQmpmbkdneTRSM05JQUNHWWRkVmU5V1pRMzN2NUhJS2Nkemp4aEZBdjBJZ1paV29WTkdnN1dPc3A4azA3RkRqVEpGS2NWSnB6S2VJQUdSU014QUNoVHY0dGY2MUJQZGtsZ1pVejFZem5CS2dXeUZaVnFzMU5qcmlKRUdIRmJ3emM0cTFSb0t4Z3A5VnlOSjlVN0w5QTJobHVyYlFtMjlrYUVLSHlaNW5za1VmeUpnR0wwQVZDQVJHdTJVVU5lb2oyUW5NU3VvYjFMUndmYmFBbThuQzZvNEdSRUN1RWNoVjhmSk5Jczk="
m_p: "W3j33b5253g23hsIhorc9dVM8TP91d3fqW05n8cHzTv4rOyhcLWh2IRWXJ66GYF1"
e_t: "1614251724519"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:15:21,965-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:21,965-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "58baec2b3fa44b6a8befa8f16cdb55a4"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ocWvViDD"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241315245BNX5ST54L736042"
version: "260"
queryType: "no_login"

2021-02-24 13:15:22,015-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 13:15:22,016-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "HlJCPpsUGazqhfx27DS08LdNm9gYvkZ4"
2021-02-24 13:15:22,020-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148864, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '72724313', 'notify_id': '7582a5ee68904950b6c0cc76965ec666', 'request_id': 'HlJCPpsUGazqhfx27DS08LdNm9gYvkZ4', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"72724313","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"HlJCPpsUGazqhfx27DS08LdNm9gYvkZ4\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241315245BNX5ST54L736042\\",\\"sign\\":\\"CMw8xESl0YiKQ57ZAq8NES/sbSv+NgpGwCpl0OwiZ363qgTaLcL1J+XqkSMMKqWS7zdBo4ghVFxuF1regTdtH03mRVRtmqJBiaPrAHD+qDG0ln8x5j1H8XdvAto0kIipG13r0uSMWxOTwYsq9hjGw4K+WsEfKnFQLB+5TCmpaMk=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"NO_LOGIN_PAY\\",\\"sendTime\\":\\"1614143724456\\",\\"productDesc\\":\\"话费充值\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM20210224131524319\\",\\"orders\\":\\"NO_LOGIN_PAY0.0172724313HlJCPpsUGazqhfx27DS08LdNm9gYvkZ4\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"72724313\\",\\"paySuccessTime\\":\\"2021-02-24 13:15:21\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"HlJCPpsUGazqhfx27DS08LdNm9gYvkZ4","signType":"MD5","successResult":"OK","timeStamp":1614143724456,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 13, 15, 24), 'insert_time': datetime.datetime(2021, 2, 24, 13, 15, 24), 'update_time': datetime.datetime(2021, 2, 24, 13, 15, 24), 'extra_json': None, 'remark': None}
2021-02-24 13:15:22,020-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:15:25,843-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:15:26,180-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:15:26,221-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:15:26,221-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:15:26,229-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:15:26,233-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:15:26,233-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:15:26,236-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:15:26,237-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:15:26,240-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:15:26,240-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:15:26,243-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:15:26,634-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 13:15:26,646-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:26,646-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "54006477032820"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "MStaXzRiJHCBUP3NuW91DIgx64dEjOQs"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:15:26,695-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b1ebaef7cc9d45bb95a0b1e0bf66cf04"
s_p: "TUNGU005eWxYVFBJVGI1NVhwRlJjRGVDMWFqeWs4VjJjODJPbWVoa1ZpdG5YeDdLc0RmSzk1RnJuZnhDbGtNSDNuWW5pQk5vMkF4bHJVY3JLSnZLdWIxSWZkalMwOENYR2RLdjM5NHZXOW1HeDlGNDRUUVZwNkY5aHloNGtQOW05TXBYTmVMRjQ2cjJFWHdOQ3hZeUV0WXZiNEV4UVR1Mk1tQXpyM1JZM3ZobzdKZm1LWGlPS0Q1V3ZsMW15bEo0OFZIeHR2bWdrWGpCNG9pcnJwUGpjWHpJWU05elZCYXRiNUx6ZUZoOU4wQm5QdEZuS3BhN3hQZVNDeGpPU0d3aDV3d05mSjJ6aTgwVkl1WEl6ZEZUdXBISkpySmM1WDM0ZFhTVlZHU05zc1pOTmJJOHBBRllUeWNISU91b1RkM1VCRDdZbGtHVDVFUU9tRGlhRDBpTVExZGVmUEU2MmtvQVZzNDNqMFJQMWpBVERBVjk4RUV3cVQ5ZlFpRFB6Y1k5Rzc3N3dYSnlQMGwwQ1c3ellraERPS1lxQ1MxUlRjRFBLcm9BNjBMbGpEZjl0R0lLRlRFVjNyVjdkcUN6SGJYa0hHd0NjNnhRdmQ1aml5UkVMRFZqU1haWG5ZRFU2SjVyMHpBWFJmcDdkN2FCUnZRRXRqRmh0WkpyN1d3czBTWlpYUVdNN1RWS1Y3MjhjQ05CSjBjN2RiS1RWVU1vZXp6aVk3VWlmbDdXc2RCbTMyNlRWQUFqckRtaEJxZzJaM1N5OEFqS2E1Y3VYQlA1M2k1a2U0Y25WcTJVUkFJd2xkRjViVmhyZmptSXNWM0VQdDFQS1RrRkVYaUdRTXhSS1RRRTNJc05lcTV5MXFFNkw2dW03bE5hZmRPMTNJMmF4ODI0RUhKYTZNamprdHdEMHllRlN5M1dBdHFDdmFNaFlteG5aNmdHR2FlTVA0WEJLcTV5cHdmY2VzazJtSHN6RHpVOVNGNFUwSlZYbnEzNE1qSlR1ckFWU3ROSHI3SjlDZWRmUm1YcFZLR1lwVVBXSHNlUUtpQWhHY0JSbDFRamRwWjU="
m_p: "o6dJYN78R4VDDoU06p85A3d67kv2V7jQQ0MX11zDAgffjBQZlT0G02K1qu1w2ZOb"
e_t: "1614251729284"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 13:15:26,698-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:26,698-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "1.0"
  t_p: "b1ebaef7cc9d45bb95a0b1e0bf66cf04"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "QVp6F9hy"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
transType: "SIGN"
renewProductCode: "20310001"
signPartnerOrder: "WtwDHEeYxs0y6UlQjPna2cSI8BL1vimu"
type: "wxpay"
amount: "0.0"
oriAmount: "0.0"
ip: "58.252.5.75"
sign: "xof4N+5xtRgSPE2MA4QND/xbwSvd4YF2FkQo7gkCbPgR/qe7Vas8ajLu6Z08veNyHscuQGY7X5eHn/zV8GipBLBdANjRVnH9f4g4AHG7vxaPtdt1A8Ezn2AzUYb02RbRLzjuyQXT+u13Jrz+SqkoDWPHz3GikylVoufAEGHS3Ei78MhNhOgUGaGUXYYyObjmiReI6Fl/rKigtLGDgthUphqdctVJNcDHvahHPLlOiqJ0JXT/IpbIpVyggBQwYYSUoGRyUlpNRez9yzxLVlsoXPRvAQAJBiyyKOgyth2iwVicOgSbFqCz2v1div3/JHqenCMZpNwjaDiTHJGKNy+Tl587jrV3LJ4tDbOqIsbHthXd8FAS3LF22dt2PQv+QY0muuJYoEfbHZMqQb3cVY9VdwZZ7eJDd3WxDJZiMCCL3IShu3Okw1UcAAOP0EzYyPS3B7CAQrMHS81VWKlLQPOW1F7ofYIL9IvGdWVKcJ9WipgsRtIwuLJYlvlZKOpcNT4m"
signAgreementNotifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
appId: ""
isNeedExpend: "0"
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "ONLY_SIGN"
  productDesc: "ONLY_SIGN"
  partnercode: "2031"
  appversion: "260"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "WtwDHEeYxs0y6UlQjPna2cSI8BL1vimu"
}
screenInfo: "FULL"

2021-02-24 13:15:26,992-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "342d03e0dc49fb62b16aad59299481f16189aaae94f9d2546dc50ffe14be2a561614143729Sp9Lxmo6LWjYGESGDCzXZzabY8xKuW8j"
}
payrequestid: "SN202102241315298684707138467140"
transType: "SIGN"
signType: "APP"

2021-02-24 13:15:26,993-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT contract_code from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241315298684707138467140"
2021-02-24 13:15:26,996-INFO-wxpay-scarlet-96-回调参数：<xml><change_type>ADD</change_type>
<contract_code>SN202102241315294262766306218622</contract_code>
<contract_expired_time>2022-02-24 13:15:26</contract_expired_time>
<contract_id>2898010020</contract_id>
<mch_id>1259634601</mch_id>
<openid>oCg6Xt8NvRi7jGuap_5B6XdY4oYk</openid>
<operate_time>2021-02-24 13:15:26</operate_time>
<plan_id>120877</plan_id>
<request_serial>794734879342099601</request_serial>
<result_code>SUCCESS</result_code>
<return_code>SUCCESS</return_code>
<return_msg>OK</return_msg>
<sign>E4AC3A83B928075B646AE951A57669F1</sign>
</xml>
2021-02-24 13:15:27,089-INFO-wxpay-scarlet-100-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:15:27,089-INFO-wxpay-scarlet-102-回调解析成功
2021-02-24 13:15:27,097-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:27,097-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "39260921049477"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "kVDQA2FMgxHiIrLOGECvmThs86wBWfPZ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:15:27,175-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b923b93028fa4b3386175c36c5c47acc"
s_p: "V0FyTEhCNGtFaE1sb2FNOW9kV28zcWpXdlNWOGdJZEtKWGhwRHYyb3BGMHFXNGs4YTVzZHdSaGRyNlVlUFZZQXVveGJXTmhjZktMWENFVXM3U2NZbndFd3Zza2tWdlRCTkRvckxhejUzWE5BejVYWUhwZTlvTFNJeGVrQmhtV3JrMUFZQUZBOXNMWFJ4c056SDRaU2pKZE5yeFpEb05VZzRkWGI3M05TZEVpS055NVlGaVdpb2pvNko5endSd2x5ZURjUElIc3hodkVUTXVaaVhpcmlCY1BTeTdWWnUyRmxubjdFY0xGb2RNUW1xeDVEZ3dEWXlrT29iMllYS2J0RUY3WlF5NHFKRlJZaVpWMnR3NGdqRmRIUzk0QkFVOHVTc05oOTE4ZktQOHZBYlM0cEY4REdGUUFPcU9yeDJHdVNrdlJYTlM5dEV4anljcDJ0eUdHRmpubTBHWllkaElPSjBIMk9nQkM4WXFKZTNDZEhCZDFJRnE3NkZ2VmtTZFllWlV5ajF5TVJNanNZcHZhcVVLWlNzOU5UUk9CcTNxMGQ4SmQ2YUhETFNFcW9idVNZV05RQ1lPd1g1c3ZPYnFscUJpcGV4bHRkWXp5MEpnWEJCdFhBYW9PZHY1YXJ6U1g4NjRtUTRIaVdnTWxaTXpvaVRYNHZiekdMdmdhNXRsZUlyV2gyam1temc3S2toZGhPaExFODR0RXpTMmVGTXhhSWZRZ2ZXTjJGYkNxTENGUzU3cWNYNmp3QWV4dnVabjl1V0pVdmxEdTJtNXRFT3dYcGIwQW9abTR6ZUdjY1FUOTc2SlVzb2RDYkQxR3lpYmpSZDdMSVZZeXFrbTJkNE1xcGEwaGk3d2JHR2tWYWpseWlrRlcweDRiZHVScVM2NE40WUtBYkdOVlpSZGtCblYxSUM1d2N5bXNGWnVib0dhaXBhQnpOaGhLQnNTejdVQ2JoSnJncnBxOXVyZlRkcGtuTG91ZnJjSmdPc3VVaTRSM0FxTXFReDVwVTRnaGprbXhJN1haNlA0YmJyTmN4ME5XRDdBNVRFWXpnUVJLVHNudVc="
m_p: "uhfI688E4x88818QNWBzhy22D6AH7jxi396j9l2fBjj3SR42Y25rDS5xInh83igW"
e_t: "1614251729730"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:15:27,179-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:27,179-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "b923b93028fa4b3386175c36c5c47acc"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Hpe9oLSI"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "SN202102241315298684707138467140"
version: "260"
queryType: "SIGN"

2021-02-24 13:15:27,204-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "succ"
}

2021-02-24 13:15:27,205-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from  `db_order_0`.`autorenew_sign_info` where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 13:15:27,208-INFO-lib.common_biz.fiz_assert-139-签约信息表记录正确
2021-02-24 13:15:27,209-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241315298684707138467140"
2021-02-24 13:15:27,211-INFO-lib.common_biz.fiz_assert-154-签约记录表记录正确
2021-02-24 13:15:27,212-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "WtwDHEeYxs0y6UlQjPna2cSI8BL1vimu"
2021-02-24 13:15:27,216-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148865, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '41b412dedd8141258da99191400ffd01', 'request_id': 'WtwDHEeYxs0y6UlQjPna2cSI8BL1vimu', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"ssoid\\":\\"2076075925\\",\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"WtwDHEeYxs0y6UlQjPna2cSI8BL1vimu\\",\\"notifyType\\":\\"SIGN\\",\\"payType\\":\\"wxpay\\",\\"agreementNo\\":\\"2898010020\\",\\"sign\\":\\"ATMWFXgKQUOLXQm1H/6NJUU5i5OiBPzVf0foC5c8nZeMLvjrPrU/O3HGfH8G2kpRPmCLptJIgWOwsm9Vp1aHOtqhmSwu9XmDLiNd1a5SKcPHJqAZDD2RxhQfdNGY7572fyKggYXyaRdWE+4xmyLhid7t0NNGuHhLlGbmSPvSeIo=\\",\\"notifyId\\":\\"IM20210224131529735\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"renewProductCode\\":\\"20310001\\",\\"status\\":\\"OK\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"WtwDHEeYxs0y6UlQjPna2cSI8BL1vimu","signType":"MD5","successResult":"OK","timeStamp":1614143729657,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 13, 15, 30), 'insert_time': datetime.datetime(2021, 2, 24, 13, 15, 30), 'update_time': datetime.datetime(2021, 2, 24, 13, 15, 30), 'extra_json': None, 'remark': None}
2021-02-24 13:15:27,216-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:15:32,407-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:15:32,684-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:15:32,724-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:15:32,725-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:15:32,744-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:15:32,747-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:15:32,748-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:15:32,751-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:15:32,752-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:15:32,755-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:15:32,755-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:15:32,758-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:15:33,134-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 13:15:33,145-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:33,145-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "47671662208733"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "5hZ4oLmqye0jA7sHVwp2IbSBENgMiJXu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:15:33,195-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "659f94efe1764f4db041aabd1f6e2c1e"
s_p: "QUJTSTNSNFo2TlQ5cE1URnh5ZHU5Mmp1REdIZHdrWkUyaFMyTFJYQnhFUjNlc2pWYWttb0xwblpmWURockFPMDVlSUhWNE1sZFVkbmJxV1ZGU1ZBYm8zbGRRM1o3Y1o0b1ZpTHUzN1JrUG9QTnJ1a1d4S0tTenF2TElMU3IxUzVod3ZoVzl6WmJLTFNITDd2NFZYcEd4eXdwQ2lrZ0tMQXdnTTV2U0dMOXlHYm5sbHBsSmJjU1NYVjZCU0FPU2VzZmkyZEllMnFRTkh5RkFmV0xmdXRQMkxsQTNYMTY1YXFpQTBrSUt3SVNZZ2xRRjlVTnNZS0JRVmdQVHlyZlM5UkVKRHJTVkNSTkZnOE12VnIxWHg0cEEzenQ5N0dVSWJEbXczYnRWWndKMjZUZmFwRjQwRkdLNXJ6RU1rYnI2ZWhxdkZZbFlTblJHZ0l0VDNrOFhodXZXdDFIR2tYOXEwbm1teUlMOVdTOG5zQ1hLVGUzd0ZSMmNyUWwyR3d2U201RTVkVmJuV2xyT0E0c0tKU05ucTB2VUtGR1g2MWx2MFpHbUZCazdLSTJuN0M3RWtLRUdyUlUzdFJ1OU9MTjQwY1JuSzZkcmYzQVFPcVViazJEOVpDNkc0VEpjdm1BUXV6M09ORGN3QjlrZlB3Z1hUUFB6TElqOFVPNUcxS01HUzZrQ3hBbXNxS1VHcWFLUFdOTzdhb1p3QlFEWlJJM0xTS05FbEV3VmFBdVBTNGsyc2UxdGlDTmxrT0tTMFpqa3duU29PRVZ3ekQ3NFpyZERaRWI2dVRtcU5nN1FZbFVQOUpWM0JtdHZpS0ozMDJJR0UxSnlsZU5RZE1Rak9YY296M05idVFuZ0ZzcXpNM3ZWWjluZ25YMmlsclJseEVzTUd0WUQyUENva3QyZ0Q2TjlwT3IyNkljbU5xYW1DS0poVllVUDR5WW9qNnB2dU0zTks0clhOeXVmWHRBbHlGcGNRa3lzVVFtSDhySWVrcXhBUHZHaktNZXQ4UXdhWjBYSG5uYXVGdDk0SXdrQ2tGQXBIcEJBODhyNDBNemVtb3hMd0U="
m_p: "5G2nPWu15f5a5I2I3omA18K9zx5Z05y16i6tsGt1ys3BJFS9aNm492z184h096S0"
e_t: "1614251735786"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 13:15:33,198-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:33,198-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "1.0"
  t_p: "659f94efe1764f4db041aabd1f6e2c1e"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "O05eIHV4"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
transType: "SIGN"
renewProductCode: "20310001"
signPartnerOrder: "FMPblmIrKT80h5XLqyGESA9C4oQNjn21"
type: "wxpay"
amount: "0.0"
oriAmount: "0.0"
ip: "58.252.5.75"
sign: "YDzAS6MJH7T49o1YxNm3SCRvA4folb9GSnKRtEzPlA+Ns0p1rTqkd+YrGe3qxEnJT/9DmWDYNQvLjtvkmqupfmQ7N7JBgctkezIuyOCr8xdlQiWvZCWkF0oSK+28zGT5kliZJQWsMzFEbaBMtdPI6D+IIUF7ojTi+Hq+TKrFZ/ZFXSEgHB3KYLezto55ALqeBVYca9ORIY3oD0JeyEphU2MaZxDMRFbfXfbd1Hsx++IUnqrKlA+v7toXHH74f2XmDsCP47e7RzhKx1b01AW8dL4I3c1Fn175TGFWYDZv6GdQw7Tl3YB1pAKRWalS5YHhuGP5B7jfj0/hipVhHdOi/Mb5LVeUPESOdT6b6F8JXW9pfIZ0oKvAPciHZA5J28T+V5Zr7z9yC2TwbtWDSRqD108sZbSnDrrEbk5BGIBKpQtEEjqypgi5M65ySQFLNM3yatcT/4kkZQTxoCaoTXaBaiCcMwXDwvHbWfb4HOX3/xnJdaJJinnl3RWlbT0IFLvv"
signAgreementNotifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
appId: ""
isNeedExpend: "0"
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "ONLY_SIGN"
  productDesc: "ONLY_SIGN"
  partnercode: "2031"
  appversion: "260"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "FMPblmIrKT80h5XLqyGESA9C4oQNjn21"
}
screenInfo: "FULL"

2021-02-24 13:15:33,459-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "9692dd16ab9b3a5c98ec97fb7906f150afd815d512e4cfc41efa9cac0a0d22ad1614143735w084MIzs7LCoSZvQKaFo0BFO9hyEu59T"
}
payrequestid: "SN202102241315355434320178887047"
transType: "SIGN"
signType: "APP"

2021-02-24 13:15:33,460-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT contract_code from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241315355434320178887047"
2021-02-24 13:15:33,464-INFO-wxpay-scarlet-96-回调参数：<xml><change_type>ADD</change_type>
<contract_code>SN202102241315353170617323037140</contract_code>
<contract_expired_time>2022-02-24 13:15:33</contract_expired_time>
<contract_id>0908983269</contract_id>
<mch_id>1259634601</mch_id>
<openid>oCg6Xt8NvRi7jGuap_5B6XdY4oYk</openid>
<operate_time>2021-02-24 13:15:33</operate_time>
<plan_id>120877</plan_id>
<request_serial>964947566709003935</request_serial>
<result_code>SUCCESS</result_code>
<return_code>SUCCESS</return_code>
<return_msg>OK</return_msg>
<sign>E0A879AC75041D877B58C4F4940BF920</sign>
</xml>
2021-02-24 13:15:33,549-INFO-wxpay-scarlet-100-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:15:33,549-INFO-wxpay-scarlet-102-回调解析成功
2021-02-24 13:15:33,556-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:33,557-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "34118748008560"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "gb81POyMxT4dhwlfqIorN5eYBjzC2FiS"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:15:33,636-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2d42397e8b2d4cf6a94c0ef7419559bb"
s_p: "NkQxVnd2VW5QOFJFNFVHNUtKY0c0WVBxZVJXYzNlVjdqUVRRREZRbXB5dXdMQUMwdUVzeU9FT0RkbU5Qa2F6eXd0RlBnUmNaRWpBUjdUYWRhMG5DSTNwWnkxYmR4bGxBa3BUTG5PZG9qbzdoaXZvVU1rMklHaEhDWlBxYmJmcEU4MzNEelVxeFBKRnZFMzVFMTNBU0FpSDdKbG1oTGZUR0RNRmFSbnBGSlJLR2xJejZPN240ZWNsYnh1ajlqMWZLRDdnWG0xTGwxbTRicXNUM09Ia0hVQm1DT0tFWWhaR2liUHd3dzFtckh2YWwxSkdLa1R0eXIzZGVnakYyNzVZV3V6VldmbFYwZHVNZGFGWkprc0diR0FhR1F6SWdCTGltYVFocE51VXRnMkk3V083NUFVVEFCd0F2WE9GN0dsbjNDNzg5bnlNaXFucUwxZ2sybGFiTldsR2IxNTRhN251UXhsYnZFSGtQMVhnRHp2dDNNTXVsYkU1WnIxY2d1SmNRNVgwcVA5QWhRNzNYRHp4aFdRYVBtNVFoT3ZQc2llRGJoU1pNR2RQZnFGTHhQSTRrVWg5dDgxV3d5dmQ1aWdBemk2bW5iMzBsUUZnQnBKTkVVVzdqanJpbEtndTB2YTIxbW81TThFcWsxRTRlVUVLa1NRMTBuTEVVckFtWWg2Rk5reURIamZLMExydlVTV0FOaEdCWE5pdlY5a2JZcTRRT3BGYWp4U2NpbTNDTGxuUFBNWkpLemIyM1I2d093Zm5uQTE0MnRMaHh6SERBczRaNXNPN0JSMm85YTFYd21wTGNoMTdtYUl3WHJuV1p2cHZDZzc5emFkb3UwMThxd1h1eUJJNVl1MVFWSEdSNHNnVHlnc2hRZ0dja2VTdnppUXhqZmpSYWJHUUpxdVU1V0RtanpBYjZ0QlY1akw4U2hXNUVkb1psQmJMcEd3RzRoM1kyaWd3RW1xdVF0UjAwRkJjalY5UEtEbXFhcVZ2NW5tM0l2MVFKaEhvV1JkSHNndDVKUVZaRFUxTExqTm9yS05hbkpWRkY4eHdiQ09uVlhDM3A="
m_p: "KC3C1Wpg8GfjKFaF3Q48Rsw86irBYxkzIn6UAxdif6UjrJ9PR1Fik7Kxjn3Hvnbk"
e_t: "1614251736190"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:15:33,642-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:33,642-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "2d42397e8b2d4cf6a94c0ef7419559bb"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "kazywtFP"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "SN202102241315355434320178887047"
version: "260"
queryType: "SIGN"

2021-02-24 13:15:33,666-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "succ"
}

2021-02-24 13:15:33,667-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from  `db_order_0`.`autorenew_sign_info` where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 13:15:33,670-INFO-lib.common_biz.fiz_assert-139-签约信息表记录正确
2021-02-24 13:15:33,671-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from `db_order_0`.`autorenew_sign_record` where pay_req_id = "SN202102241315355434320178887047"
2021-02-24 13:15:33,674-INFO-lib.common_biz.fiz_assert-154-签约记录表记录正确
2021-02-24 13:15:33,674-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "FMPblmIrKT80h5XLqyGESA9C4oQNjn21"
2021-02-24 13:15:33,678-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148866, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': 'c579d9f556ca4144930662f998414f28', 'request_id': 'FMPblmIrKT80h5XLqyGESA9C4oQNjn21', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"ssoid\\":\\"2076075925\\",\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"FMPblmIrKT80h5XLqyGESA9C4oQNjn21\\",\\"notifyType\\":\\"SIGN\\",\\"payType\\":\\"wxpay\\",\\"agreementNo\\":\\"0908983269\\",\\"sign\\":\\"TLR+CmuO68x+/Lfhit1HofWGqjPKwTQZPvqEfFOLkHAG8uoFigHVT3N/AkVwADiP5XZMeIMPrP303MDK/GNoAoOY7q0zbOEbMMKEMRg4/4orLAZV87nZt9AaPGCo0dVB1QQ1/f6UbGyyOibKtgN/hYj5aM5RmaakTaFmQXyqcaA=\\",\\"notifyId\\":\\"IM20210224131536259\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"renewProductCode\\":\\"20310001\\",\\"status\\":\\"OK\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"FMPblmIrKT80h5XLqyGESA9C4oQNjn21","signType":"MD5","successResult":"OK","timeStamp":1614143736121,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 13, 15, 36), 'insert_time': datetime.datetime(2021, 2, 24, 13, 15, 36), 'update_time': datetime.datetime(2021, 2, 24, 13, 15, 36), 'extra_json': None, 'remark': None}
2021-02-24 13:15:33,678-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:15:39,246-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:15:39,484-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:15:39,525-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:15:39,526-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:15:39,540-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:15:39,543-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:15:39,544-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:15:39,547-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:15:39,548-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:15:39,551-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:15:39,551-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:15:39,554-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:15:39,896-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:15:39,897-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:15:39,900-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:15:39,908-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:39,909-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "31435109604847"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:15:39,993-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5101acc1fed649eea6352ee0e960f11f"
s_p: "Y1RheHk1QkVGTmhnQ0F4U3dhZTg1Y3Z2UVI3bGs5TkZHalJBWm1taFg2TnJiTVJSV004NVhUOVExdHduUkRSVFppWGJ0Z3FmNWNsWW9uS3hRSUxIenBWQU1JMHRZbnI1MEthWHdHU054UTRvWlV6V0QyRktUbHNYNGp5RnV5eHVyMm03NHM5ejNzaXVBRkpOSlBXYWNtUG5UZ0NZOHZLRUFhZnJKRG9hb2tWVDdkcTBJSnA1dkEzWnpqR2dLZExUTkd6S0JRclp6YnJHaWhaNVpvWWZBOEhQN0gyQ2NvSmpGZXVvaXg3a2lYbVNDeUFYU2ZlNXFoWUxUNFFoVERCZVhZeDlkRGhkTjhhNUQ3WDY0UVB0M0hCd1B3Z3dHejc5N0pHQmQyS0Yzc1BHMEkxRFhIcFVwOWp1d1FhMDRXdGdEWThHZTVnNGdWSWNxblFYRkt0YjJ1N2l6UU5QaERramV0YmVPSnBtTnE4eHJoeXlCYTdKWVlka1FNUm1KQlhhc0lHd2RMcUpyb2ZnbE4wTW9MdXNQUUM3YjFQQ0RWTnhubkhuaGNZM1RoQXRIRWJpZzVTZHFCa0V6UnRxdEhtdkIwSjV3MEtTRTE0MWF0Mm0xSFlBMFZDaGdtQjllTGpzczgzb2Y5clV2Z3BlSWtHRW9kQ3gyRGlYM3FraFpDZGtzd1ROZU1Sa1hDYzJvS0ZhUlNrcXFDeEpFNzJwd2dUQlZHbGFFd1NFOUtseWh5ZG1UcVl5cTJBUDdNZ2FpUjdCUFdqVzRDSFlzbjhZMW1CQTNOT3BaNkdObk9uSGZqRGpRZWpVMHRsZ1FZQlRPVXpQUTFxZ3Zad2dYNUJQZTcwUlVNWmFGWlZNNFZPbkRUSnRMWVl2dmRqMEZQdU0zUVU3bHRUTE83NXhVTVpYVHppc25oaW9pZkk5dnVpWGpIaGY0WnpSOUE0MzIzV29Ha3NLMTV3d0lxZWZ1VzVWdjY1amJTZGNZQTYwUkJoUWp1a1BZNnR6NHJ3NFFDdGx4NHVEdzdxVVVvaWM4NUFnOWJ0eTVta1NHUWxpWUxrdTBNWkE="
m_p: "Wtn9C2Qbqn8xkO3t51P09meGdr8Z70T90z8ZeKlo8wSat9FlJrxyh2C1jd396wu7"
e_t: "1614251742549"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:15:39,997-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:39,997-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "5101acc1fed649eea6352ee0e960f11f"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "7lk9NFGj"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "0.05"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "pdiQAWDph6FPyGlHKAE5pTKjqmNcG7P/w3OnCtmytonzmm96xyHNmIwSbTaVy1YnZ9TMqso8hWOdM8z/A/ONorotnjTXEnVpCG/BGTczpdoU0G51Ij0t0CtxoHcPou23V9P+YdqsQG7CKnNeuCyUP7fKtsmx5771H7puu1JV39OUo5/FMJXbQuMQqwZkhJqjgshQ0/74irTEwjmAn9qe4ZoMMx+9LUPVUjYPPmA1o231w36/njAO9JqmYQYYP3cX31SORVh4Yn2nG59vGVsiGP47Er9Kk9fRfyd61tYSqWXfY4pDAbgug4yP2WA/Jh80j6y8agxKOtNpgwgX2Sytew=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:15:40,078-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102241315422076075925506572"
model: ""

2021-02-24 13:15:41,085-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102241315422076075925506572&jnet_bill_no=9136830270976932409574888583&card_settle_amt=0.00&card_real_amt=0.05&card_detail_data=&ext_param=&sign=7a6f143412a677ab088fc4d252067776
2021-02-24 13:15:41,162-INFO-heepay-scarlet-53-返回结果：
2021-02-24 13:15:41,170-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:41,170-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "77695390420708"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "IeXFYx0oLvAVn5C9zctPqH13jsTwrDZM"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:15:41,248-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f0c7822eb106404fb4518255b1164de0"
s_p: "aE5EQWNtMkFKb2NkNWVTWkU5TTRlZlVBR1JKVmppdnF0OWxnd3V5cFhOaG42YmZoYkVTVnZ6QzE3M3VVSGFjbmdya3Yxc0dlc0o3cVRmYnZXWnVOZmttZFF4ejJvY0NxNDhLSm9JZVZiUUVTTVB2ZGpKV1Z4U1RTb2ZvUXp4bUxjRHhkMm9MdzBKMldES3NSYUc0VU5Bb1gyOHFKa2RFQ1YzNWg3ZDdURTI3MnpnemNjRzRvcmxzd2s2VlhiTW5jMURxbmVBU1Q1NVFGaHFJNHBEWTROTnhMNkhoMERqcUxpSTZnY2NOdzFWSFlMUzlJeHkyeVlId01wRVZaMWZLRjRaZFRCaUh1bDBQSVlYalNMSXpXMjZQTlZUYk9KSnZNZVRna3NHWFNNd0EwZjRXY2k4WlZtQXpJY0s2NEltWEFET2lKcEdvZDZNSGFhcGsycTY5R1RvZXJJQzVLZk1FWkRvTlFrOVpCSEllUmc0MGw3T1B0MXpEaEh2Y1NVRFdEOHRLWXA2VjlLcTdTSHU0bmw0Q1FjVzZxN2hSSlZta0wzNXRxb2d2TFB3Y201NXZoVHRPbFRsODZzVEs2WmFKWlpmUThESzZZWE01S21yUXpRa1luSGRkY1cxcTJKNElkZUo5MmJrbGdiRnU0c3pJakVZamZDOVd0Qk5NU243R09nSjdBdmpsY0NLbDd2UTZ3SDV4OXAzR0xyYnR2VHJTeHZnV1pucUtmTHZpeXNTN1VFcFlKaEZrRms2ZVJXTHkwZ0lsc0QzZk5GRzV3Y1dJWGNhVW9zUXR0WmpYMUx5VjJ3OHFyUm5HVWg3dUF4UlNGSWE1Y2dNTUVvYlNjekM1M3BrWkNIYlQwa2dOQWRXQTRWc0R6MGxTOFAyaHJlRFNUejhlMnpuRmpMT1pIMmp6U1dLNnZsNXFFNXp0NTRHSmp2aTJYT2dNSXlzd2dJT3VCYnNNenh1dkpWeG1pNDdxMUJxSk44bnFQMHZONHZWOTByYm5CNTJoanRTNTlyZUp0N0Z3V0NhUW1IRmNjT2QyM2FkVVdsbmJJblVrcjgzNzM="
m_p: "C5aEFgiD4pU1QW660tT456QOXUz1i7f7858VMkd3ZbS8MmRIR2LN8P6D5cT53F2j"
e_t: "1614251743803"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.05"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:15:41,253-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:41,253-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "f0c7822eb106404fb4518255b1164de0"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "kv1sGesJ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241315422076075925506572"
version: "260"
queryType: "PAY"

2021-02-24 13:15:41,291-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.05"

2021-02-24 13:15:41,292-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:15:41,292-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:15:41,295-INFO-fiz_db_operate-26-可币余额：0.0500
2021-02-24 13:15:41,295-INFO-recharge-49-可币充值成功
2021-02-24 13:15:41,296-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241315422076075925506572"
2021-02-24 13:15:41,300-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15117, 'pay_req_id': 'KB202102241315422076075925506572', 'notify_id': '9136830270976932409574888583', 'partner_order': 'NV203113782656752021022413154261340593248541782052', 'amount': 5, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 5, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 13, 15, 43), 'success_time': datetime.datetime(2021, 2, 24, 13, 15, 44), 'modify_time': datetime.datetime(2021, 2, 24, 13, 15, 44), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:15:41,300-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:15:41,301-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241315422076075925506572"
2021-02-24 13:15:41,305-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7803, 'pay_req_id': 'KB202102241315422076075925506572', 'partner_order': 'NV203113782656752021022413154261340593248541782052', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 5, 'amount': 5, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 15, 43), 'success_time': datetime.datetime(2021, 2, 24, 13, 15, 44), 'modify_time': datetime.datetime(2021, 2, 24, 13, 15, 43)}
2021-02-24 13:15:41,305-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:15:41,306-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241315422076075925506572"
2021-02-24 13:15:41,309-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：{'id': 28, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 24, 13, 15, 44), 'amount': 5, 'status': 'OK', 'rechargeOrder': 'KB202102241315422076075925506572', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 24, 13, 15, 44)}
2021-02-24 13:15:41,309-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 13:15:45,888-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:15:46,125-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:15:46,168-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:15:46,169-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:15:46,177-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:15:46,181-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:15:46,181-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:15:46,184-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:15:46,185-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:15:46,188-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:15:46,189-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:15:46,192-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:15:46,548-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:15:46,550-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:15:46,553-INFO-fiz_db_operate-26-可币余额：0.0500
2021-02-24 13:15:46,561-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:46,561-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "55609514365971"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "j7WKuUVfCXkyot4ldewTnEJ3GxMN1ZB6"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:15:46,650-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "7920cba6f54e48ef920dd3810534b11c"
s_p: "Z0gxU2xNR0JHQkRITkxZS0h6RXR5aHVPaHR1dDNOSUhZYlk1UDJ6aHJDbTQ1cUU4aUVYbzN6WVByRnlyQnpnZEJFamNLaGZJUExyYTNmc09VYjl6emNCalVyelpYRGZ5VFZSUU1mZlV2eXFmVzU2Mmg3UFZmaTJ5VU5XWk5oWTRTWmFhcVJ0c1FvUG1oVWxhMXFIWFFyb1pvbjBVN3VkNmszeUNOUnY0WW1JWGIzZlpRT2FNWFZqSWtlQVJTOE84bG5IcHFzQTJaVEwxMm9Pbkp2NW1GbGhaZVE4OUxoN0d4RzVRWGp6ajdxNG5OVjdLZVhvaTd4MWRRa0NlbGRqVXFLbUJ2Y0FMYVFXZ1NCT0pXUk1OeU5YQ2l4WjN4NjVTcmxsOUpwTmFpWmpQRnFtQWhMdFRmS0pzaVFnWnBGdDFReFJFTXh2YU40R2dqdm43Vm03aFo4MDZJb3E2YlMxRU04aTdhNlU1TTAyTHlOUldaN3lnbnc5cWhyVjNXTFU1VnNjQlJHSklJdkxWQ0twc0xIdVlGQzhtRlNGNVJVTU9ZS2hCT0RGT3pxeGhhZ3NoV0tINm1UcmxST1g3UGhiWGxkbGs0ckxGOEpMMGhZdzVXZE0zQ0dkZkRHWHZrTkoycGJtbTZNd0I0eG9SQ0diZjZzYVZjaGtnbFJFUnAwbTRSS0JSVjA1Nmg0aW91NnF6cUIydjJYTldZdEoyeEd5UUxya0c3dVA4YXdNYTlFdjJXSXcwTkhXbHU3NEs1eDlpQkFHeVVpbGdSU1B5VlNkQ0lrRUFNNVh5czRJdEREYks3dUVxaElTdG95cmdSRVJYQ0JyT1F6cllEeEhYcGhRRWRxS1J6a09hMzlDeVBUZW5tMDlSSWM1N2xQdVhXajY4cnVEbkh1TTNDVEY3OXp6cUdEcHpieW5qeW1WTWlWTkRGNzJiQlYyeUJmUk5jQ0xYQVlrblNmcEVBNWYzblhRTmx0OUVvaDR2eWVDMlN1VFZPZ1UyWURTNFZ6MVN6TFhFWkljNndRSkhqUTdFc0h5Y2hwYzk4U2FBaDVMQ1d0VTU="
m_p: "i9LT23Xun397xM025l4m3z48e49t1kr56Cty3Iu2G104x9a2O34Q95866A9K4m96"
e_t: "1614251749201"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.05"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:15:46,672-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:46,672-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "7920cba6f54e48ef920dd3810534b11c"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Xo3zYPrF"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 5
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "LmP3wgbkazHZRiInNA1xoVl8EcBt9M0U"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "QxU7IMzos1UZUF0LwWLW45Aqs5Uq2MCrOIUP7NFkTpm9YMXgz3WA9Jg1R/QTXM7QX7JjrYZI8SisXRNy5Mj+twb8FedDza8DHkWLCBlDD3FFpsgjSOz+waGRSKkF41wJ8mBTp7dIFxOX6MoCLa/cVKyIf+DoPBnm5KHG5aBBces="
order: "7743438503852"
ip: "120.197.152.211"
factor: ""

2021-02-24 13:15:46,813-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-24 13:15:46,821-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:46,821-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "43410720375892"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Wp7AQ1ub4YMtahlLXzRnTcNBoHSmPiF6"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:15:46,915-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "336a0a318d87436d9883bbfa2679d0a0"
s_p: "RTJucGpxRGFCeFcwb2NIVksybUlLYng2cGZMeW9tSGMzcVkya2RCa09XV0ZuRnU4RHF4aFVwWWJSNnV3aE11clhjQUdyWnU4N2lpcEM4a2l4cE91UlN2NUw1S2hNUWR4TlZ5bzhDQlphNkFIYXoydktIM0dxVGZVelhGOVVNc0VKc04ya1RqVktWQU5LSno1MEh0dUdjcENqR2xmUW5mOVI4WDlOdDZVbWs1ZHZ1VXJiNjFDS2ZmS2NhbU42ZE5FVkxuTWdmRXc2dFVQa3VpekxCUmJaM3dFRjRNRFRkcjVqd01GNXpLbmI3RDBLa3luMFJYSWtNNE1TN0hCZ2podFNINnhzYmtOV2tWa1MyZ0VXQUk1a3N0aW9kbGJhNHBOV3c1TFkzcjgxeTVwR1Z2bTdQMXpacjhXdkxpZkd0d3k0UFdaZkI5SGp2QmE1RzczNWxoTG5qeGhDOHdCUDJXbGNDRWV6NW00dW5MQVAzeXR4bkFuZDh2WWx6RVhLRkNwa0NyWHBsUFNremFxVkdBZHBtY2M1bzZISnJPUHEzNFRGSDZ1eXdTcGNoQkRUdTRIeVI0UkVlb1VVeEJ2Q0o0WmZrWkV5c2dqMGhxVnNiM1hnTHh2cHF5ZG01aTFCejVqaE12dVhOWWFOend5bXJCWXNJYkdJdWZRM0F0QlNrVElIcEJqMFZZa0o4WlJvYWRTTXBUTTZCOW1GcE12U2FGbHNTZlRYcVNEZ1MwekFnTm9rdjdMUFZNTG1mOEZ3c2RpMDVOU1N0S1ppc21SdEo5cTBnNVdTZHBUTWwyV09JRkFQZzZzODZGaHhoUENTZG9PMk5wOWtnbVBKdG9DaGxGc05YUDhqSkFnV213MHVEczBRMUh5SXl1VkZValpwU0g5R01xT09VRDJmQWprMEZJc09oelM5dEpLaVJDMDU5RzV5Y2FZWHgwYlZ4cXA1MU9uTU9rWXE4N0dUNTlZTHVqZ25yUmRMVW5xTVdHM1FBZWh3cHA5d3ZQcHVYS3BRZ2h1aE8wUVl3cnk0em1abndBaHV0end6OHVaMkRtVVBuZGk="
m_p: "WNHLX2AOcEstb0S6o4LjK9vQTte8jlaxFHK3p1Fu8AjRRT6199znKGdrMuP97KZH"
e_t: "1614251749454"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:15:46,940-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:46,940-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "336a0a318d87436d9883bbfa2679d0a0"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "yo8CBZa6"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "0qKXJE8xY1vhmI4TdWaybepnQfCwcGg2"
}
sign: "SYgK6IoumWfi5lrj8XATDBaKHs4AblTcw3iVZFoJjZIhJ0dIg/M2UmKsmtHYYL+u0Y7UlZp2NUkkSaC4rnna0Ynbu4WFWlNtT2omGE6yLdO7ueO+2vZH9hYNkxr5YMk/Qh+pztsfg9z/ZtjSQCMdJ53iXuXsGQFRwaFAgIqDD1hWe6OE3A2CAWYgQILYgf06BRHuyTVHbK1gRDouaMSQHQyesPkvT4YhGAI5gJ5WYCKuOISoCKz2xcZT/AG96qo5LX7Br24EOQD4sx+H+ljfaHbfXjXUzjHlwcYae1FduIAA13F6qG4TJ00AAu1EVRdZ5T+8PSu35gLZcKOGy0pB4Q=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "336a0a318d87436d9883bbfa2679d0a0"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "yo8CBZa6"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1
  count: 1
  productname: "RECHARGE_SPEND_PRICE=AMOUNT"
  productdesc: "RECHARGE_SPEND_PRICE=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "0qKXJE8xY1vhmI4TdWaybepnQfCwcGg2"
  channelId: ""
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "MXfiGqEgS+9T16GpkJl7s+8MSiCzpGUGswxN+zXPH4dEnPNGAzPt0Z4xXIc8hPSvd82TBOntctQzMAKhzu96vBtbzJXwLM0OBzOSOCytfMqtFohvXVI2tLxtWa+toxQ1115nshZoxtHDq+vF8eSy8fIx1vZgngSJwwW6jYX9jEo="
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:15:47,313-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"51f648bdbe164b4da1e913fe484b7173\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241315498368434fb477ba258b7cd00000\",\"sign\":\"D693B11107A599440D761563A4207EEA\",\"timestamp\":\"1614143749\"}"
}
payrequestid: "KB202102241315492076075925233082"
model: ""

2021-02-24 13:15:47,313-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2872108835311704522690852050]]></transaction_id>
<nonce_str><![CDATA[1t5UnWpriAoT0zlDGLCfYkgyJsVwm4v6]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[E7E713C94244BF34185BD5A984F07350]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241315492076075925233082]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224131547]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 13:15:47,421-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:15:47,421-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 13:15:47,429-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:47,429-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "90990275537672"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "dz6ebiJHs0ByTG8I27art4m5jZUpMuXL"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:15:47,505-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ed8c6fb698554dc9a01bf187cdb24cd3"
s_p: "U0pYYmozNEU3SzlxMGxvS1RYZ3BHazhUSjh1ZFBsbDZnZXQ5WXNrTWJDVkZNUU1GdGFsUTZ5aHFHUDlNQ2hwMGs2N3ZPRzdQMENqcU5WUUtzNjZlYjB4cmxheGlZUUFPTTkxTU5Db202U25CU0h5dkJyc0ZNN0R5dVpjNEtPWmJ1OVA3YlJBOHdiVXFpejNuanNCSzhRd1lBSTlyNm1sZzlHNUJyV1g5RHFLVWZEd0pSRkpBd1FYUE1QcXcyRmJSeWxGVzZMOXlsanlmM2NFWDFvaUpJbTd0UzlXVVQ1YlhwTUs5MUVwR2VvU08waGhLM1ZOaUlJam1vaWhJYnBLeVNoeXp3T3hOMTVIb1llNXI0MFByMnJJWWpnS2U1TzBUQTkwU1o5Ujh5QWt5aHdCRUFVNHhicWQ0OHlqNWlNQ2dsdVl4dkpWR3Jhem9BdWFBSmpodUpycDRMMGc4S3cyd2tQZjRweU9sdkd0VmtrTVl1Q2dJTnVuT2E3M3drUFBXMG16T3ROS2ZWd2gyZk5KU3BuVmtGVVdzdHpvT0sxaXN5TFhKVHpYaTNxSkFqRUN1S3E5V2dienpyS3A0dGplNFVDYW54OUtxYmczNDN0SWtPNDBKSGpGTEJvS2JxTU9acUxFNWhCZ1FDZVY3TVZNZVE1eDNpOE0xRjdkNGI3UENjSnpsVk0yQ1Q1NVl4YnFQVE4yczYzVE9uWTZTQ21ZeEdCN2NxNW5DdFhldjBlUFB5dUg1SFRJN2U2M3VnZmc3dEhhOGRpRWFka2ZmWmtWc3lENHVLUmlQM255UVVFMGoxdVdLWThjNUMzWTNSczRjMDRIWWRWbGdJMWVwNkluNXJaalg5ZWtiSTBjRkY3WHFWTHJiMGNVNUJtdk1YSlNDUEYxN1ZvTGRMTDNhWFRvZzBaaW01SlVta2thMHEzZ0lONGl4ZHhud3pCUTBKblREUVN6UUZlWVJldWh1bEhrTWVpTFFVMmhUeU1qVEtTcDZ0Z1NUaGczd09zWG9TT29IY0ZwMzhuMTdLOFZOUHVWbWthZHNXQ29vcVJDQndWZlE="
m_p: "vg5kqcf0Q0L3kSueheT0FW94ZBLTQ6LFj0k6y38ItpbdOEZuah6e71AE9M036rYO"
e_t: "1614251750065"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:15:47,509-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:15:47,509-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "ed8c6fb698554dc9a01bf187cdb24cd3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "5BrWX9Dq"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241315492076075925233082"
version: "260"
queryType: "PAY"

2021-02-24 13:15:47,552-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 13:15:47,552-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:15:47,552-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:15:47,556-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:15:47,556-INFO-recharge_spend-51-可币余额正常
2021-02-24 13:15:47,558-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241315492076075925233082"
2021-02-24 13:15:47,562-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15119, 'pay_req_id': 'KB202102241315492076075925233082', 'notify_id': '2872108835311704522690852050', 'partner_order': '0qKXJE8xY1vhmI4TdWaybepnQfCwcGg2', 'amount': 1, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 13, 15, 49), 'success_time': datetime.datetime(2021, 2, 24, 13, 15, 47), 'modify_time': datetime.datetime(2021, 2, 24, 13, 15, 50), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '{"cutAmount":"0","id":"0","type":"0"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '0', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:15:47,563-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:15:47,563-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241315492076075925233082"
2021-02-24 13:15:47,568-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7805, 'pay_req_id': 'KB202102241315492076075925233082', 'partner_order': '0qKXJE8xY1vhmI4TdWaybepnQfCwcGg2', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1, 'amount': 1, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 15, 50), 'success_time': datetime.datetime(2021, 2, 24, 13, 15, 50), 'modify_time': datetime.datetime(2021, 2, 24, 13, 15, 49)}
2021-02-24 13:15:47,568-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:15:47,569-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241315492076075925233082"
2021-02-24 13:15:47,573-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 13:15:47,573-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 13:15:47,573-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 13:15:47,574-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "0qKXJE8xY1vhmI4TdWaybepnQfCwcGg2"
2021-02-24 13:15:47,578-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 13:15:47,578-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：None
2021-02-24 13:15:47,578-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 13:15:47,579-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "0qKXJE8xY1vhmI4TdWaybepnQfCwcGg2"
2021-02-24 13:15:47,583-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148868, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': 'd3efdcb6e5b14d7e9a8f43e89b3e916e', 'request_id': '0qKXJE8xY1vhmI4TdWaybepnQfCwcGg2', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVouAmount\\":0,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"0qKXJE8xY1vhmI4TdWaybepnQfCwcGg2\\",\\"paySuccessTime\\":\\"2021-02-24 13:15:50\\",\\"price\\":1,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"JsSg5Ot9IjNSPTMCNhScd9rqCBtF39z/hzbWWbx+mmePtKTGNK8f9KPDbDTEq3qGGRSA5JfJHEDxID8Io4Z8OMdHo6ticQPY00Xl8L32QwUZUwQcNCe3RXMFzrdBWMZ0PgrsB/D5t/y8EjzUkfcW4fLgUmkuqtOvbB06pmeq9D8=\\",\\"spendType\\":0,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"0qKXJE8xY1vhmI4TdWaybepnQfCwcGg2","sign":"8F0B892F393EDA0D35A462E2A8821C0B","signType":"MD5","successResult":"OK","timeStamp":1614143750000,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 13, 15, 50), 'insert_time': datetime.datetime(2021, 2, 24, 13, 15, 50), 'update_time': datetime.datetime(2021, 2, 24, 13, 15, 50), 'extra_json': None, 'remark': None}
2021-02-24 13:15:47,583-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:16:02,242-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:16:02,515-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:16:02,558-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:16:02,558-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:16:02,567-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:16:02,571-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:16:02,572-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:16:02,575-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:16:02,576-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:16:02,579-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:16:02,580-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:16:02,583-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:16:02,953-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:16:02,954-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:16:02,957-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:16:02,970-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.07', 'batchId': '15210497151882280698543939416121', 'bizNo': 'wq4FPrd0agCVcvLpA3h6NxORTGzWX5Ke', 'operateType': 'PRESENT', 'requestId': '23066700527563483549238026676557', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614143762968})
2021-02-24 13:16:03,010-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.07, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:16:03,023-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614143763021', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 6.779999999999999, 'cutAmount': '6.77', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 13:16:03,043-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299751'}], 'vouIdList': None, 'batchId': 'dc87cfe8130c454680fcbd995828f9e9'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:16:03,057-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'dc87cfe8130c454680fcbd995828f9e9', 'batchOperateType': 'PASS'})
2021-02-24 13:16:08,100-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:16:08,108-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:16:08,108-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "41727798018847"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "qYXf7Sndbh6JKB5HQxoja8ecAUTuFEkN"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:16:08,200-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "02ab564120724e49b72e14787abe449e"
s_p: "dWNvWFNhd3RaWEFkdVZtdXVPOHFQY3hpdlFaOWJvN3pxUVBxbDRBc3Y0cWdCQTA2Y2U3RGFEYkpDdU1KRGxWZmh0MUt0NXZaV1U5bzdLT2hwcUc1bVZ0c2hWNzUyb05nTk5qeDAxTFlsSzhHbW9hdTFZcTA5WE85WGJGY0pHZWJwSDRwSFYxazBva2tCVG1mbmpSTlRZdUl5RVN6YVpOOXF4dTNFVlBldlpTbE42VkVXOWd5RFJoeE9jbXFjVzhtSDYwbW51UFFPWEs0ME0xNFZadVluRGRKa0Q3MGloQ3lpc2VXYlVMNDNHN3ZiSll3MnNIQXZJWXZLMEpCempkSDZpTXlsMEhIMTJjbUwxTVh6UTJtRU1SajZrTmV6RENHV2dSTzVwRXltVkFXRzkxNllrY1VyMkwyWThod1k4Wmd1MDQwTVVjYk94Q1FYU3lVV1RXVFFhSWNPcllyN1JOVEdVdmlYa1NvV0NjaTVyQlJ5NXQwY081OTlKWHRldGJMU3VYeWpzRmxNd1J4SGtGWGpnUzk0SlQ4VVc4ZlJCUjBDV2I2RHhDQjlnNkk1aVZUWGlrcEo5aW5RSVlLc3lKUFZTSVJQNmd6VGVnTDNXaU1pRnBTa2hwYkhUUjRDNVBUdGlmYXhHWmRLNWFTek5iV1dzNnZUT2gxTk41S3V6RE1sV1hBZXl3SlhoTTJTRnVoUTgyTk9wZXE0WnJBcjNBbzVPYVRSM0JHUHp0MGd3VVVFUGVtY3RnWlRWMFpiVGdHMVkxMXpOMGxYamFzalQxM20yZkMySFZ4ZFU0TzkyRmxFQnRMdlBpNzZPaXBLRE5zZEtUWUowN0kxMTJUa2NYejZickxwbjVmNXR3NjIxVjZoblpySzduYVJlZlZhQXgyTmQwczdDdVVkRWVaa3l4MjBRNkhCUHJoblA4NmVlRlNsV1VIbTRtY0NFWDBkV1UySm5lbE5CSjFEdThTRGYwS3JpaUk0NldHcXd2a0pEOVlXTTdXcFNyWVFhWVZxdzViVHlqZzNQVFlxQU0yclVtZHY4MDJoM0JHR3N5TkhpSEY="
m_p: "11Mj5bGTqg708h9Za9aZg0U10c97gT61c7IMX9s7iS2BtpbEaOjT34KXzgQO7673"
e_t: "1614251770749"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.07"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299751
    type: 2
    minCousume: 678
    vouCount: 677
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 13:16:08,241-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:16:08,241-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "02ab564120724e49b72e14787abe449e"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "vZWU9o7K"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "UMkdxRszCOrb0LQW5gJnavXfSKDGje3Y"
}
sign: "0dQfVSsIcrAuTSZxfgIsMJmGNZo14ElGa8KxHWbykwTE6Udn97UibQ+IAjR9NsqY4R46CmGz9OCtjzAIOuQv8ayRl45pNOAem5qEq0wBFi7OkvSIVzgWfYK3xl8OUJb6ezsLs0mkKwh2Ckuy6V6Kuz02p7+/3NJAnPPaDNaL8kDNnS52xQenALI9e54DImlSSQyQdMYzshTm/4bQrQJyXZe/lXpYWmVE1mRyu7MLyHyXMjPq3oYVgAXu/yGrPi8DDX1RFYnIsybw5apJoFjnwNKTUHeh9WRHT3HIg+fW6P+oz8mN9CQREwWFq9nvQzu1IakkCL1e4LJ7VEaCbNHV4g=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "02ab564120724e49b72e14787abe449e"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "vZWU9o7K"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 685
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "UMkdxRszCOrb0LQW5gJnavXfSKDGje3Y"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "bWdfZvKPZpgyHpP0vSed0tTmF3ofej1pGOJ6apiCUioRXGKba8x/5XmgGmk3bIrhOQUZGIfnhooTLOO5aYFKPoKOM4bQoEoEwWUVVHk2x9vHGWfzPdjHa5RmxSJ3+B8M9sGW0A761Am/vT4BZY95Ned2Ei15+DZ3/Kri1bja6Vk="
  appKey: "1234"
  voucherId: 62299751
  voucherType: 2
  voucherCount: 677
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 13:16:08,636-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"b6bb24c273a0435b9858414eba0f416d\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24131611160214386622944644e3de0000\",\"sign\":\"B27C0E88C384400682B10FB39207E7F2\",\"timestamp\":\"1614143771\"}"
}
payrequestid: "KB202102241316102076075925123862"
model: ""

2021-02-24 13:16:08,636-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9784874350611639795916369441]]></transaction_id>
<nonce_str><![CDATA[lCVdxiz8ft1ZwTnJIHouy9cOMpUAa2LW]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[815480FC81092F8EECBD4A879399999C]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102241316102076075925123862]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224131608]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 13:16:08,748-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:16:08,748-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 13:16:08,756-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:16:08,756-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "41885926713674"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "PIz6BDXRfl2pnke4MaZ0chbKOLx1CoFs"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:16:08,830-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "177cb6760e1048bb94ec475d1e3960cf"
s_p: "UTZaOVlnbjA3QXdacFlDRXc5YWFsRlRsdVZvUGk4VnU1RFdLYjFOYzB5d3Z5S0FTckVrYVVreG44Rkt2eXRLaFd4dVZYUHppOTRhN1FielByRmd5VW9maEpLUFhLWFFJcXVPVVBPOEFteDdvUldNNWZxRlBoYVR2MEdSZGhFT2Q2MzB2S3VQQURRVTNiTjZEWk1naUJlYlc2OGhXTmdxUnVNckt6a1h4NHlIaWZFUHJRRXh3bENLOGY1U3QxTGlJOUc5aGZHNFVCSm1Xc1hyTHNtV3hnZzdVcUtNbVBSSFNQVU9ndkNyeFQyWWM1ZGZWM2ZHUDBBVUdJTVA0UXNKa2lSdzNJN2k4U2hFOUhDbXk5WU1qUVpYdXZ1V1NRM2lxbXdyOHIxVDVUdTEzM2hZa0xraTBTOEpGOHpLa2VvVm9mNWhUaHN0TWdqTjhJaHZuRHliRjBYQVRQemRMMnZkcXVYajJuYzJjZ1U2b1psTTZtZUVack5BbUk5TjZXRFl2aFh1Ylk1UjFIMkxLUnExcDRYYjBhOUljaEM5NlZhOGNJUzF1TkhoMDczemFVSTZHUjVNNFNCWko0RU9aMHBvV1pwNklLNkJSNlVtdWpRa2dEcWVFRWFaZWxtNUdzREN0TDgzRE9EQ3VHQzJIYXFRNVBtbWNyUFV3dzgyc2NTTHpLZUNyVFNyeUJtQ2tzd2VscHhrQzgyczNsNFZWQktWWVVVRWp5RHFESFFUMmpOTW42WVl3YUIySENrZEd5b3VOVlBZMEpvUnJjZG12c3hkN3FaaklrVlphNU9yYlpnTFhWNkR3ZjdBTTRiTnV3M1BaZGxHV3hUTDZHVkRma1dGMVpkbFV0ZGhKcE1XUW9pNEVZaHhZMnpvS0hyczBVMkFkcFJxNU9DV2NIeVFsVFlOS0RTQjdCWVhrUUxSZ1lRQVoyaEdLZENIVG5Vb1lhOUhGN1hIMjlrZDZIZ0JmQmlNbHBHSnN0QjNUTWlBNnljcXN0R1hJaUprVmpCalN4QzBURWZWRHpOczY2bUthNFZhdnhJTzZoOHN6aXhhQ0Q5dTA="
m_p: "x5nrxY0vo9y56sshH3F2ECQCP59QF70zr97f17A1iQjducJv7gZJVhUzsNjcE1SX"
e_t: "1614251771389"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:16:08,831-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:16:08,831-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "177cb6760e1048bb94ec475d1e3960cf"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "U3bN6DZM"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102241316102076075925123862"
version: "260"
queryType: "PAY"

2021-02-24 13:16:08,879-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 13:16:10,879-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:16:10,879-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:16:10,882-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:16:10,883-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241316102076075925123862"
2021-02-24 13:16:10,887-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15120, 'pay_req_id': 'KB202102241316102076075925123862', 'notify_id': '9784874350611639795916369441', 'partner_order': 'UMkdxRszCOrb0LQW5gJnavXfSKDGje3Y', 'amount': 1, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 685, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 24, 13, 16, 11), 'success_time': datetime.datetime(2021, 2, 24, 13, 16, 8), 'modify_time': datetime.datetime(2021, 2, 24, 13, 16, 11), 'trade_type': 'PAY', 'kebi_spent': 7, 'voucher_amount': 677, 'voucher_info': '{"cutAmount":"677","id":"62299751","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299751', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:16:10,887-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:16:10,888-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241316102076075925123862"
2021-02-24 13:16:10,892-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7806, 'pay_req_id': 'KB202102241316102076075925123862', 'partner_order': 'UMkdxRszCOrb0LQW5gJnavXfSKDGje3Y', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 685, 'amount': 1, 'kb_amount': 7, 'voucher_amount': 677, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 16, 11), 'success_time': datetime.datetime(2021, 2, 24, 13, 16, 11), 'modify_time': datetime.datetime(2021, 2, 24, 13, 16, 10)}
2021-02-24 13:16:10,892-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:16:10,892-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102241316102076075925123862"
2021-02-24 13:16:10,895-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-24 13:16:10,896-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-24 13:16:10,896-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-24 13:16:10,896-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "UMkdxRszCOrb0LQW5gJnavXfSKDGje3Y"
2021-02-24 13:16:10,899-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 226, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_UMkdxRszCOrb0LQW5gJnavXfSKDGje3Y', 'partnerOrder': 'UMkdxRszCOrb0LQW5gJnavXfSKDGje3Y', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 7, 'count': 1, 'r_cost': 7, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 24, 13, 16, 11), 'updateTime': datetime.datetime(2021, 2, 24, 13, 16, 11)}
2021-02-24 13:16:10,900-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-24 13:16:10,900-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "UMkdxRszCOrb0LQW5gJnavXfSKDGje3Y"
2021-02-24 13:16:10,903-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148869, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '47aa25f5a8554dbdbbbde86e5184e44c', 'request_id': 'UMkdxRszCOrb0LQW5gJnavXfSKDGje3Y', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":677,\\"notClearCount\\":677,\\"orderAmt\\":685,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299751:677;\\"},\\"kbVouAmount\\":677,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"UMkdxRszCOrb0LQW5gJnavXfSKDGje3Y\\",\\"paySuccessTime\\":\\"2021-02-24 13:16:11\\",\\"price\\":685,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"crJODRdGxLnHqrDbnLmk6oLtL0/k3ImFsfr+HdehzRE4aWOFlWJaZlvso/GveVGvNk7OfG06wSbOcpjDOo3FdF+kaLh4dj9emuyjiHCel9szUN7nsxhkhelJHpCdnXjxK9Z3qFddgUAIL2omHWOGwvlDXUlgUERGG1FMevlC4vA=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"UMkdxRszCOrb0LQW5gJnavXfSKDGje3Y","sign":"32845C5ECD9380DE22D2C0545E2F5330","signType":"MD5","successResult":"OK","timeStamp":1614143771406,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 13, 16, 11), 'update_time': datetime.datetime(2021, 2, 24, 13, 16, 11), 'extra_json': None, 'remark': None}
2021-02-24 13:16:10,903-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:16:10,904-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299751'
2021-02-24 13:16:10,907-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 13:16:10,907-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 13:16:13,790-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:16:14,063-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:16:14,103-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:16:14,103-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:16:14,112-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 13:16:14,115-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 13:16:14,116-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:16:14,119-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:16:14,119-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:16:14,122-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:16:14,123-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:16:14,126-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:16:14,487-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 13:16:14,490-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 13:16:14,491-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 13:16:14,493-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 13:16:14,499-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 13:16:14,509-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:16:14,509-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "92987021976836"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "bBYX5TqSlZv7Voup1OPkCAsRIghLtJw8"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:16:14,559-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "7278e8e23bf647dfae69cc2298731e10"
s_p: "d0RHclhlVDN5cjRyR2t4M0ZxSXpESDh5STlNcVBqMDFMOHB6ZFBoT3JwZDVYU01VMTF1M1NiaWFreHhTMDUxTlRrNlNnQVdhenIyd1ZNU2JVcVpKMUFEYWxnNnFPNFU4cVJscUtWTk1yeUVrWVlEN3pGZVowQlFMZDB6VFJ0QmlSWmo1dHNxMmR6a2pBclBQVVBVcXBCVFVvR1BXeHlXRVRVUU9TNGFkRDgwVERZOFNEWlVlelZ6S3NmN0ZkN0o5QUlWaHBDd0dOY2Y2cWU1bGkxUE1DOEpGelJDNzBsbThvNVJJR2VxbTA0YkRrVHg2enVkWk81MWM3dlJYdzhGUTBIVFQyT1ZVTmFURVBWZVdJcnY4ZlB3R1FHMXJsS0tRamVHdXlxTGdUUkFqcDRGNmVjVFFEUGdNWFd0NXQwRW9aaVJ6dTBtMzAyekJScDc4QjJjNWlDVExZU0swdHdmWmlKRHBtRXQ2OGpFdG4zY3dhTTY4dElCS2NONVZLTzZpRGFGQWJwQ1l0enFqVjFmTmdIQXhPQk5oa05qa2VuN0NWeEFXR3VVQ3hCa1lHbm9Qcko2VzFkSnRtSjc4bHB0TTcyOXNtZko1Z3I1U3RldjVVbW9iVnVPM09vV1R6V21rcGdUSHdzUjVoQWdGc2JNZWFPbDFybzgybkNiQ1Y4V254a2dURDlrWlk1WWdUQThTdFF2Y2Izd3ptQU1wY2FWeU9DejVaNzBrVXJQOUpyanUzUUFjTmVHMjVkb2hveklNYmZhSjhBczVROGo1UU1Vb1pxdjkzMWZDOUIxN29DV1lmOEU1dTBTM2twSzVGVEw5cUR4TkNVdE9YdlNONEZySlU0M3JCQWpzUnY0NEg1RlRVazQ5ejI4VEhXVmxVaDcxcTI0NFZhSmxoWXV2aTJhMjdpbnlNRzBNSFZCNEJiSHRRSUNLUU9BOWh3cnFpMVZaZUNVaXo3bTdHZG5pcnBFMEZvY2RwRTF4TTZ5bWZxTzY0RU9FSkZzWkw4ZXZ6MTI3anpubHNKUUVucThOVWpUUFhpT3BJM0JqbXc5aDNVaTg="
m_p: "ZhiL5IkFBq81cevTZ6zYuy8iJKme7H716ODB6Fx8SWQ130N53512gz3eAXUJ68e3"
e_t: "1614251777150"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 13:16:14,562-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:16:14,562-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "1.0"
  t_p: "7278e8e23bf647dfae69cc2298731e10"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "PWxyWETU"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
transType: "SIGNANDPAY"
renewProductCode: "20310001"
signPartnerOrder: "U5lR1CY3PL2fTosEwgjD4Wymnh8KvqNJ"
type: "wxpay"
amount: "0.01"
oriAmount: "0.01"
ip: "58.252.5.75"
sign: "1fYJ8A9G91bXVevzrBN30+kLERIjG5grfAHpAdlvP+Kp5zLfDhietQV1VKvifa+OAg1C7WLJsp6ZGpT1CzDv11dY5T1BsRXi0c32Wo6gV3FI3NP0nU7giWuhOWw6TytTfPLlJ6UkViGyxTVQ1oiEx/RGVnZYJxZrBCz5aAEXNniikmWt3LqCV36spwXhEjnjJ+tIq3y6vJDqPEL7Vrs4HzAKpQCCUuvhf5xkO21ClKW8ZQ2KNkWqra7MDJJq8ADXoF4t0pyaJdp8Ju+zlhzB9WjwtUtHTTqZUljneaRgrKhNNfzQTnhlIDKXlrW1hXUfjIglwAHLhJ1AGrrgv/iIzRh70IXyNBAFMko7eATq9PANgFdWcPuORE/Aqo1llkM/t8vUapBeqZkKedUWsXqlLYTQlL2pLsT65oJ/KCqmGvM5bJddsqBR46cMfcTPCqzsdzk0MPuGIjkRSlGNDxt5ew7juSxAdr/5TNnBvPUv/KiB46LOKop69QYe8svlsF2v"
signAgreementNotifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
appId: ""
isNeedExpend: "0"
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "SIGN_PAY"
  productDesc: "SIGN_PAY"
  partnercode: "2031"
  appversion: "260"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "U5lR1CY3PL2fTosEwgjD4Wymnh8KvqNJ"
}
screenInfo: "FULL"

2021-02-24 13:16:14,871-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"869e21d8b68c43f99888cefcb99062da\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24131617393021c0a358dfacd4e1f30000\",\"sign\":\"0ECD0713FB8061900F32A95E3E6B2D6E\",\"timestamp\":\"1614143777\"}"
}
payrequestid: "RM202102241316172076075925012752"
transType: "SIGNANDPAY"
signType: "APP"

2021-02-24 13:16:14,872-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT contract_code from `db_order_0`.`autorenew_sign_record` where pay_req_id = "RM202102241316172076075925012752"
2021-02-24 13:16:14,875-INFO-wxpay-scarlet-96-回调参数：<xml><change_type>ADD</change_type>
<contract_code>SN202102241316176533533624575342</contract_code>
<contract_expired_time>2022-02-24 13:16:14</contract_expired_time>
<contract_id>8431950641</contract_id>
<mch_id>1259634601</mch_id>
<openid>oCg6Xt8NvRi7jGuap_5B6XdY4oYk</openid>
<operate_time>2021-02-24 13:16:14</operate_time>
<plan_id>120877</plan_id>
<request_serial>601561948330352568</request_serial>
<result_code>SUCCESS</result_code>
<return_code>SUCCESS</return_code>
<return_msg>OK</return_msg>
<sign>74ABF054159369CC9230B43B7FB72BB1</sign>
</xml>
2021-02-24 13:16:14,958-INFO-wxpay-scarlet-100-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:16:14,958-INFO-wxpay-scarlet-102-回调解析成功
2021-02-24 13:16:14,958-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[5878985130064025279232560910]]></transaction_id>
<nonce_str><![CDATA[P2Ukyr0jEt7Mlb6qh4NJKBpgamSwvcOT]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[D4B51CE2A904813BAC0B3FF7ED923848]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241316172076075925012752]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224131614]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 13:16:15,040-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 13:16:15,040-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 13:16:15,049-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:16:15,049-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "36589347736810"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "aAIFeUCxhlb4mTWVRMqfN7dvDpOQ0ks2"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:16:15,127-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8ea3f203971d48b78b0223c514cc7bef"
s_p: "MnM2dVpvdlUyclFSWlZHc2cydkZKbFROUWwwUk9qR2J2UGsyalBJMWdYbHB6RVlzSzRTc1UzUXZvdUpNRFJ4cGN6SWNiaXhuaGZoOENlaUtjZXZBeGhHV2FETTJmQW5xODVSeWtzbXJYNExveVlyQVU1bUVndUNrQ3NIejNKZXhXYWZwSVk4cXZOWkF2TXNNMkFaNlRwNnZPb1llTEkxWEl0V0k1RTFDUFBhUWtTenlMNEtqa3l0YmN0VjJUeVBNTWVsUjZDSGZaajNPV002eEQ0ZjRrSGpVMnhrYmw3OThCcTFhb1NzRUZEaDJhOTBvZ3ZmZUlDZFVRbDByaDN1dHoxY1c3dzZtR1pZQ0tIUHZZSkVrV0g5SXdzY3BRcWM2RUtIelFZR1lSQ2g0MjFkTTFGT2hzNXYxcHJRY3JpOHk2Y281dVMwV0JzYVBNdHJUSDdQSW9sdUpockhHSVBWRzlaNnRDYjNTUTZuTkJmVktPNHhNTzM2QUdycHYwZmNoeno3STZJUVZMbmtxRTN3M2Yyam12UU9xTnFielVHUXFjOVNVUTdGeTdoZzJFNjBiVnNsU2ZORVJCNkwzSnNNeXdYQWY4OUJIMG5yR0I0ZURQalpsSWFYeGQxS2lyb0oyM1AxUUxpNDJidnFaeFdqUDhBRGZGVXVYSGNoVW1SMXdUY05jUlRkRWxhSFBTWUhoVTJwdzB4ak80cmNSeXBTWlVpbmpLeVlVa2RZUmFDaG16TUI5VTc1T1Y5aFFLZkVpb0NrUGJZWkN4VDJQNG5nZFgzSXJYZFpiWWVkdFRBZXJVWTRoTzd0RkRCdVIxUDU3Y2V1cXJmNnVraENTb3dRTTV2dVRSTnVBTVBBb1NuZEFidXRZakF2OEtPSTQ3UUppbGhtamdBc1BCcmpndHhScTdZbGN4a0V1Qk9YT1J3a2VsNVhHT2VpUkg2c2k0d0V3WUg0Q2h0QWdOcXZheFdlRjV3RlVLamQwQ1lWWnZpZVBEUEZvZjN2RWVUS3FaVUt0UXhqYkJsemNEM1pWRkJJVll6V3JKQzUxenNkM3R3bGs="
m_p: "5i60uSMiWKkwdQKG8Q2GOdL7X3f4D696Rx2EN81I2nPspzy96K0z8D6VpFl8X5L3"
e_t: "1614251777680"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 13:16:15,129-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:16:15,129-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "8ea3f203971d48b78b0223c514cc7bef"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "K4SsU3Qv"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241316172076075925012752"
version: "260"
queryType: "PAY"

2021-02-24 13:16:15,171-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 13:16:15,172-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241316172076075925012752"
2021-02-24 13:16:15,177-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15121, 'pay_req_id': 'RM202102241316172076075925012752', 'notify_id': '5878985130064025279232560910', 'partner_order': 'U5lR1CY3PL2fTosEwgjD4Wymnh8KvqNJ', 'amount': 1, 'refund': 0, 'contents': 'SIGN_PAY', 'products_name': 'SIGN_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '260', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 16, 17), 'success_time': datetime.datetime(2021, 2, 24, 13, 16, 14), 'modify_time': datetime.datetime(2021, 2, 24, 13, 16, 14), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': None, 'platform': None, 'screen_info': None, 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 13:16:15,177-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:16:15,178-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241316172076075925012752"
2021-02-24 13:16:15,182-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7807, 'pay_req_id': 'RM202102241316172076075925012752', 'partner_order': 'U5lR1CY3PL2fTosEwgjD4Wymnh8KvqNJ', 'partner_code': '2031', 'products_name': 'SIGN_PAY', 'ssoid': '2076075925', 'origin_amount': 1, 'amount': 1, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '260', 'sdk_ver': '1.0', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 16, 17), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 13, 16, 17)}
2021-02-24 13:16:15,182-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:16:15,182-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from  `db_order_0`.`autorenew_sign_info` where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-24 13:16:15,185-INFO-lib.common_biz.fiz_assert-139-签约信息表记录正确
2021-02-24 13:16:15,186-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from `db_order_0`.`autorenew_sign_record` where pay_req_id = "RM202102241316172076075925012752"
2021-02-24 13:16:15,188-INFO-lib.common_biz.fiz_assert-154-签约记录表记录正确
2021-02-24 13:16:15,189-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "U5lR1CY3PL2fTosEwgjD4Wymnh8KvqNJ"
2021-02-24 13:16:15,192-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148870, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': 'c5c03cc5ce764687a4e227179a3c55ae', 'request_id': 'U5lR1CY3PL2fTosEwgjD4Wymnh8KvqNJ', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"ssoid\\":\\"2076075925\\",\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"U5lR1CY3PL2fTosEwgjD4Wymnh8KvqNJ\\",\\"notifyType\\":\\"SIGN\\",\\"payType\\":\\"wxpay\\",\\"agreementNo\\":\\"8431950641\\",\\"sign\\":\\"IN6KHZB694McT+TaN/cr8J5d7K7VQDSTxWLZOHZr1pxg04HyVMHGZeIPc/ehHUyNOeJI3RqFKdAzrhoOYKn2vCTT9PvYusQxtpXNpbvolewcShR6cC/cVUgFnsGKU926QigpAzO2bgYdU+ywU8f0B3CC+lYU4byo6foZt+HIu1Q=\\",\\"notifyId\\":\\"IM20210224131617329\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"renewProductCode\\":\\"20310001\\",\\"status\\":\\"OK\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"U5lR1CY3PL2fTosEwgjD4Wymnh8KvqNJ","signType":"MD5","successResult":"OK","timeStamp":1614143777542,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 13, 16, 18), 'insert_time': datetime.datetime(2021, 2, 24, 13, 16, 18), 'update_time': datetime.datetime(2021, 2, 24, 13, 16, 18), 'extra_json': None, 'remark': None}
2021-02-24 13:16:15,193-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:16:18,439-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 13:16:18,714-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 13:16:18,755-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 13:16:18,755-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 13:16:19,099-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 13:16:19,100-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-24 13:16:19,103-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-24 13:16:19,119-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.01', 'batchId': '18672296003512805840620418536791', 'bizNo': '9uIxFEUj5SvKaQOy0lhb8qnCczwdLp3g', 'operateType': 'PRESENT', 'requestId': '90808200446656496095000599021242', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614143779117})
2021-02-24 13:16:19,147-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.01, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:16:19,160-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614143779158', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 7.55, 'cutAmount': 7.54, 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-24 13:16:19,178-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299752'}], 'vouIdList': None, 'batchId': 'aa86f44bd49d4bc2af8c2d5562f164a9'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:16:19,190-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'aa86f44bd49d4bc2af8c2d5562f164a9', 'batchOperateType': 'PASS'})
2021-02-24 13:16:24,220-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 13:16:24,232-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:16:24,232-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "96454620690124"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "BA32EFXecZnpKlh5saST8bPNW6J49yGg"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 13:16:24,328-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e52c32b505764aa791a436d25282b226"
s_p: "cnJZUFFzWFlvUmpBV1ZlR3phdlRhZFFTS1dIVGliWnpPZzBLZG1vTEdES2ZpSkJKQnNTN0ZVVmlzUGNJM0R0NkN6TEZhR1hmNEpzanNtVFFkczUyOEVocFVQTTEyaEgzOXlpbFZDaWJvV1l1QlJzOEJMREtRVVFLd1lHQ3hSOHNmbDBHZnJPTXE1bFdJZnlNS1dZVnJpUjF6eEF2b1VHcVhNUUsxWGp3UXVXVHBPakVmd1R4bjMyMGt1MHFLYXhpbTlNM0RxQ1l1MjBEUXA1Sm05Q3lkeXo1dXgzT1NuRFZUZ0haYkU0czhZbEZ0VklMUDhxaTY3d3l0QkM3cTJpZzB1M2l1QTNLdWxjclR5VXExbm9Ua0V0a2xId0tHTmliTE50cGNsSnpRaTl4Sm01c0h2N3UxWHNOaG15bWFPcVY2VmZDanNxMFlYVDk1ck5YbHQwZE15WlVNdWRPbHpjZGNMV3AwVnM3djBvUkZMUGc5cm9jRmFDYUVvZ3hXUWh3OEFDR1lacDlCMlJrM2RYRDhWYWs0WHI4bFg3YkgyUk5MeEJGUDMxSGZFVENHcmdoaHRnVlFxNlRvdGFoa0tRNDZna2I5bkQ4SzNEcGw2Z1BQaEJpaUJWVFl2TURRczc4UGRYS0NCTXJNRzhWT3VnS29GYjFHd2lESlMyNUpTaXdXRXE2Sm5TekhmQmtwN1VQbXQ5Z2NHcVVDbkRVTDJNUDVlQ0JEekkwdUFQbEZnTEM2WHYxTno5UzBFN2tHZXVpUlZxVkNNOTVTaUJhRHI4Z3BYa05ySjhJMUxyZUdEc01wUU5Gd2RQdDFZZ2tEY1BHRHgwSVJtcllKOVVqMUNqWHFwSWxVNHQ3d2JqY3p4a0t1RFNaakZaclhYNzRoYktPcWY5N2pmVk1TYzd2ckxMejZ2SU9oV0kxTVlRTXRHRHFmQkgzMXFuSW5wcjZFV21ETjVSbHcxejR6VHVuQUpzOVNuRTkwem44amp5VERLQmpuVTJ0N0Y3b1U2ekFkRVkxd3lCS29UN0hOdEtuVTQwMVJsT3lxcThXWlVPRHZLb2w="
m_p: "082iM8q40r7485NWX55e4nQT31F3u8IZ4ge53g6995s8136MkYx88Iy1F5FpVGy0"
e_t: "1614251786872"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.01"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299752
    type: 2
    minCousume: 755
    vouCount: 754
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-24 13:16:24,359-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 13:16:24,359-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "e52c32b505764aa791a436d25282b226"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "S7FUVisP"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 755
count: 1
productname: "KB_AND_VOU_SPEND"
productdesc: "KB_AND_VOU_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "jxA8kQ2tlBsUZdTK4wp3DOqM7bXevLGn"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "MX0qyJ5+Zfx1pC6Ccaihhj9yk9b6EnSCLHZcVREIrnDASqsAIyRg0BBnCtLwZ6PHUrHF+ifV34rkc7f+XnArjq8h6h6gK7jM/iky/kL00ktcNuDYC2IioFUpH91TynVEpU0t/PxiMewyK5FSxdwRxXHzEcGIKxa9A5upn9QsUvk="
appKey: "1234"
voucherId: 62299752
voucherType: 2
voucherCount: 754
order: "7557659123903"
ip: "120.197.152.211"
factor: ""
screenInfo: "FULL"

2021-02-24 13:16:24,507-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-24 13:16:24,508-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT pay_req_id FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and partner_order = "jxA8kQ2tlBsUZdTK4wp3DOqM7bXevLGn"
2021-02-24 13:16:24,511-INFO-fiz_db_operate-38-查询到partnerOrder：jxA8kQ2tlBsUZdTK4wp3DOqM7bXevLGn， 对应支付订单号：{'pay_req_id': 'KB202102241316262076075925420602'}
2021-02-24 13:16:24,512-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241316262076075925420602"
2021-02-24 13:16:24,516-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15122, 'pay_req_id': 'KB202102241316262076075925420602', 'notify_id': None, 'partner_order': 'jxA8kQ2tlBsUZdTK4wp3DOqM7bXevLGn', 'amount': 0, 'refund': 0, 'contents': 'KB_AND_VOU_SPEND', 'products_name': 'KB_AND_VOU_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '', 'sdk_ver': '', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'KEBI', 'direct_pay': 'KEBI', 'game_type': None, 'present_amount': 0, 'original_amount': 755, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 16, 27), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 13, 16, 27), 'trade_type': 'PAY', 'kebi_spent': 1, 'voucher_amount': 754, 'voucher_info': '{"cutAmount":"754","id":"62299752","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': None, 'mobile_os_ver': None, 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299752', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': None}
2021-02-24 13:16:24,516-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 13:16:24,516-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102241316262076075925420602"
2021-02-24 13:16:24,520-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7808, 'pay_req_id': 'KB202102241316262076075925420602', 'partner_order': 'jxA8kQ2tlBsUZdTK4wp3DOqM7bXevLGn', 'partner_code': '2031', 'products_name': 'KB_AND_VOU_SPEND', 'ssoid': '2076075925', 'origin_amount': 755, 'amount': 0, 'kb_amount': 1, 'voucher_amount': 754, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'KEBI', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': None, 'app_package': 'com.example.pay_demo', 'app_ver': '', 'sdk_ver': '', 'mobile_os_ver': '', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 13, 16, 27), 'success_time': datetime.datetime(2021, 2, 24, 13, 16, 27), 'modify_time': datetime.datetime(2021, 2, 24, 13, 16, 27)}
2021-02-24 13:16:24,521-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 13:16:24,521-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "jxA8kQ2tlBsUZdTK4wp3DOqM7bXevLGn"
2021-02-24 13:16:24,525-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148872, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '2f732f4658fb4986ac280e66ed71dabe', 'request_id': 'jxA8kQ2tlBsUZdTK4wp3DOqM7bXevLGn', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210224\\",\\"kbVou\\":{\\"kbVouAmount\\":754,\\"notClearCount\\":754,\\"orderAmt\\":755,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299752:754;\\"},\\"kbVouAmount\\":754,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"jxA8kQ2tlBsUZdTK4wp3DOqM7bXevLGn\\",\\"paySuccessTime\\":\\"2021-02-24 13:16:27\\",\\"price\\":755,\\"productDesc\\":\\"KB_AND_VOU_SPEND\\",\\"productName\\":\\"KB_AND_VOU_SPEND\\",\\"sign\\":\\"d+FUtdXs5Pr951fTh0nH0BE08dMrYskNLD8hLVR7lT/4Iwc+0ZIUdAtfympyP2SNG6zGfTO4j3yG+VeaCR3tHgjAvWVlDJSC198xDz5eqtDH787iOGGAGTVvw9NvS26aNUgup9FhTl6vVlWhWIJROFpMAtaxdtOZmJ3fCGwqL6I=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"jxA8kQ2tlBsUZdTK4wp3DOqM7bXevLGn","sign":"2989352E13A6557F6B946AC2436CE1F7","signType":"MD5","successResult":"OK","timeStamp":1614143787083,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 24, 13, 16, 27), 'update_time': datetime.datetime(2021, 2, 24, 13, 16, 27), 'extra_json': None, 'remark': None}
2021-02-24 13:16:24,525-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 13:16:24,525-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='62299752'
2021-02-24 13:16:24,529-INFO-lib.common_biz.fiz_assert-167-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-24 13:16:24,529-INFO-lib.common_biz.fiz_assert-171-优惠券表记录正确
2021-02-24 15:39:24,633-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 15:39:24,932-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 15:39:24,990-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 15:39:24,990-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 16:13:35,635-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 16:13:35,881-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 16:13:35,929-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 16:13:35,930-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 16:13:35,998-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:13:36,018-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 16:13:36,018-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:13:36,021-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:13:36,022-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 16:13:36,025-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 16:13:36,026-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:13:36,029-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:13:36,523-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:13:36,528-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "72450999781138"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "SHchTlbyuDjBOXP9fk0QetUCN67FMY31"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:13:36,708-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "32b1bbffb2f9415596b4451ba62529b4"
s_p: "a1h0RWhmbk51MzBvOFJVREdCdGFzQm5ZbzJSdEFxaHRzWTQ3ZnA4NmpwbXZRaGF5RlY0VnZrRHV6VXh1ZzAySjdwZDZSY2IxZmFESEFQVmdRS2dnSFVLcUxoSjNNeFVwQTIwcGphRld5YUxyWnVoZW1JUlhGRnB2eHJEMTJBTXJ0UjI3QXBiekZXM3l5S2Q2MVJuc0ZPNzREVDJtOHFQZ1dmVDlMQUpkSWFYajdYSnlyYUEycTQ1UnRaeVhpOU1PRXdwQUNqZTJqQ2U2YVZsNmxOa2o3em16dzdLTk5wUW43a205V0VaVGZSMEV4anc0aTdGM0lFTktwa25VRDA1aTcyYU01bkJodnJrYTg5aTZtbXRwdDRZaVUxdHJoMUFrcGtEZ0U3RWQ5MVlSMzU1YWJvb2VaTVUzVHdIYmFRMXhZRzFQTTVhQ3B6c3VsUVFkZ0tnVTlpOWNQRW1Ca0RQc3lMMEo1NkVVMDk4OUVwSTdyMkhmSFM4N0NRS2lFTFNqNTU2azJZTmtiOVdobm9FNnJ3ZlRXS2hjRUZoUm1SUkFTc0xxVFkyNnFwMkxyNlZRY1FRMUxEYkprTE45Mnc0VmVIM3NhY0lzek9RZU9NNFJrdE04Vzl5VTEwQVkwSzJaeDJiZXlyTkhGQ2t4RUpleWdOSnFGcXA4MWlNajY4ZFlEWDlaRWd2UXVrQXBjcU5CYzZ5YnhCUWVrR0JIUUxTSzdBS2FTSnpmcW91cTduYVVsaDVJeE5XTWlHbXZoRjAxenl5TzdTNGphbVlQTWo3NUNhTnZGRklIOGlVMENmNjNCd1dlV2o5Q1VQWk5SNGxpaDFkd3d4Sks5OU51NGN2VmlSa0FiYzhqZVJwUDRuZ0VXbGo3bjQwdjFkdW9uYjYzYnhLTGJESWNrZ3ZnV1RiaE5LT1J1RG1WT1dCMWhnT1ZxRDZNQWt3RWtnaDJXVVVyMXFmYXpna3JIdWNDN1h5UlJlWDNDbXhxdWFBdUNmcUFuRTREUlN3M1RPMDRQZEp2YzhtTFRVOXNOZ012VUw3R2RDdGI1QzRyNkhIRENFb04="
m_p: "9D5s4peE6JBW36456feg6982Y564y6XDT8m2kd8ExmYW6wL82o8S83Y90MCKwDtU"
e_t: "1614262419308"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 16:13:36,752-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:13:36,752-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "32b1bbffb2f9415596b4451ba62529b4"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "APVgQKgg"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "zHAka3xGdCh1vwtSRgr2JYjfToQXKW7L"
}
sign: "eT36AqrpkAMV8vXtfj0b8pVMQc6F0nCDqWJfJxiWrP5IjMJwnJYFt+27yYUEDHWz540b7byFQzifiow2hCtXNOndOFtS+51SCTroTUY/dbXdX48kiEZ9snHp+oMy7myBai11LMXYZI20vEVEq0KKSi4NpNr9rUGMB2d7t7cORIhPKpeV1S3a5vyu5yuO0G7ampxjkUPswFYzEplP7EZlAWC+9ryW3ZRLCPkdUMbq29BuFZ/xZP7qHhT6wmkvcLrg3dSQZLES3GmlvBqVhQbLfvW1lxJ34ivB3MESfSzDvI0P4s42SSpbRCNm7aWk4ON2DdYKgmCIdcDiTdg8CZPeGA=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 16:13:37,156-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"07938de61d9f4b43b93bdc77a7914e77\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2416133970727145370b28facbc2630000\",\"sign\":\"62B8CADA3F13417CDADDAB187188E330\",\"timestamp\":\"1614154419\"}"
}
payrequestid: "RM202102241613392076075925451272"
model: ""

2021-02-24 16:13:38,171-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1336653242132671923986648607]]></transaction_id>
<nonce_str><![CDATA[XdUh1NvxV92a4BtECci7TgqoDz0FQMrZ]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[F3CF588BF3B6C25EF11FA9644159963C]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241613392076075925451272]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>2</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224161338]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 16:13:38,404-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 16:13:38,404-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 16:13:38,412-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:13:38,412-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "87182198863019"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "9QcMdtwI3GBLpTrjZ1eSoFU0yzqxACHX"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:13:38,507-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4d0116e4d6e84b5480ffd68a8e34328a"
s_p: "R055NGtMbTVrZ2xWazRJT2t0Y2hoVG5CRnZhOUhZYU05bW0zREpKQ2FmQ21YdVVRbDFiQ2hPR2lNTVVQRkhNanU3N2YxaXA1dElqa3M4YTZnVjVSb3lPS1d6bWhVOHQ3RlByRWloNHNQYm00c2tKdE54Z3BRcFV3b1dCbEpNaDFIYzh0MGtrWWxGYVN0V0lyc05NMDVIUE14SUExc2gzTGZNbW1qS1pPdlhFOGRlaVhTMUNLQk9jc3dhNEVaOEp3SW5KQ3BtclVnWkNud05ONDk3WFN5cG1zMEJpOFM4Y3ZyUjJIYVRsTFk5dTN1clBpQVhsUzJLREIwcTVsYmpScENyUFhqeXNwak9mQ3pSMUFlNE9xWTJ3cW1wTExiNEVQVkh1TVdWNm5ZYzNSenMzOUV3NWt1SUJNRkh1ZE1oZ0xkRGpRZWZ2VUJQTlcxUGVQQlpHSDdWZmxkS2JBRkg1VkZGWlFWUExYa0ZvclVsYmhROVZTeFh0S3RZZlhlQTYwZ1RmOUdZSUZzVzRiNkF1UWFvNXVYWHRXYnRJS2RpVTBvTUo3bFZHeWFzaDJpVjQ4ZWxuQjE1UFBlazBYZnNaQld3U282cUlZUHRIQWNyQmVGbVZPekI0dWdkZndNTWIzUkx3SWxzWUdJcVpRd0RRUjJ2TGtQZFBlWWpxOGxyNUJ5VjlIUDNCbmQ1anFsY09JY2lSN24yQkFTQlFJWEJZdTVLUWFiTkFvYmdSYTNvVG5taVFieGFNYTdDaHRLVXFackY0QklvYnVzcTJmclFOUnR0NXZ6R0syS25USDNsS3NjeTVSTnl0ekx3RnAzRkRWeDZzdUJpVXdFWXBndGVIbXBMM2VzZ2ZNZU0zWTdlRzladWY0TEVCM20yaXltZWg2VjAzTXRjOWtjVkRLSjA4QWpIUlhyVnZIcGRjYkNSVTBZaHhNR0ZmSHQzSlViYkloeXBJUlI1eU1xdDNzdlFyNzRRTEdXR0FPYzI5R1BBb2tPalFTb1JtSldVNTVaVUg0ZzVRYTBqamExUnoyck9KSzh0VElxWDVOTzVQZzlyR0w="
m_p: "c0EN5T5PuRbeiZ0652y0WB18b311712255C4XG287yr8ofiP6MmOiN44XBN2D168"
e_t: "1614262421062"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 16:13:38,509-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:13:38,509-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "4d0116e4d6e84b5480ffd68a8e34328a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "WzmhU8t7"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241613392076075925451272"
version: "260"
queryType: "direct"

2021-02-24 16:13:38,575-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.02"

2021-02-24 16:13:38,576-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241613392076075925451272"
2021-02-24 16:13:38,581-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15123, 'pay_req_id': 'RM202102241613392076075925451272', 'notify_id': '1336653242132671923986648607', 'partner_order': 'zHAka3xGdCh1vwtSRgr2JYjfToQXKW7L', 'amount': 2, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 16, 13, 40), 'success_time': datetime.datetime(2021, 2, 24, 16, 13, 38), 'modify_time': datetime.datetime(2021, 2, 24, 16, 13, 38), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 16:13:38,581-INFO-lib.common_biz.fiz_assert-37-订单表信息记录异常
2021-02-24 16:16:28,724-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 16:16:29,004-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 16:16:29,055-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 16:16:29,055-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 16:16:29,063-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:16:29,066-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 16:16:29,067-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:16:29,070-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:16:29,071-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 16:16:29,074-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 16:16:29,074-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:16:29,078-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:16:29,445-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:16:29,446-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "99398189592757"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "yNFBhLkHmR75bY1T26UVGtiwKzQxPMpe"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:16:29,578-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "252e4081a88a483990d3aa8e241dd836"
s_p: "Nk1JRkRnb0hpdUQ1ZVNoOU1aSEkzQm9OZ0Zkdm8xbTVacFlWVks0WkhTaGY0ZEdzbE5SWVEwam5FeWxIWHlMODYzOENtNGwyVldxWWRXd1VITDFVNVlvSUtjeWF1eDZ4N1V0NTBLR0VsdUVzcGh3TmVnTEkydWVJUDVHbjAzd0txc042MHBydnhPSFc5SHlmekRsMEhWbmVXSnZUVzFnRGxaZkN6NnFzNEVCR29YNW9hTlZxejVvUWI3RHRDejR6WEV1V0xTQUxjSTJSd2VNTHY1ZFhFbDhoQThhZlVCSmMySmV6WEZQRXRQWHlkTWk4S1E1WFBzZTJOSGt1NGR4RkFvSjhFbUNkaWdTUm9RYUxqSEREVE81R0h2WmJqQ0RKbVdkNkkwNW1IMVlYOFU0VUVFdnNtVTV4alBRdjB3bDNiYmt6WGRSNkhreGFNYjBKNGpwOUpLNFVOT1A1T2RtRGR4RU9uVzBiMEhsaVFLWkZ6a1JmTTlmUFpGYlp1Z1htV2Y1V2hjOUJvS3RGZXhIV1g3ZEM3MGc4TUtxRUZJZEMwOXVpdmxMMGo2TkxkNnNHWm0zaEV3UmgwNTloZ1MxNVlQU1VsNDFxaGQwOUhyOWpxZHlmdHV2c3IyVUR5STJ0WFlqUEJjc2NqQkJibGVTOXkxcUxRaXdhWHZJWHBQTktYd1VybzlacmtuWXFJcjRDdEFZb2tiRHg2VEk3UzRyV2lMTHlRV3oxeERFWEVpcEpCeWtRVWdDTUNaaXVZeEpBcDhhQVFnbE1PYU85dWhFU2pRWmFDdG5xdHVHRVJwSVdoaGVBeVFDMlVDQTdvMEhURzZKWjBFbFVYdE96N2JycU15bGtaVzIyVXJVcEwwSFVlR3o0WXFheVFkdzlEQ0s3S1FHUmdadWFwNThRdVJQVlBsZTBDOU1wbW5rMmtjSUI3VkpIN01LSkVVODF2UkNuR251MXFKdzNydmlCSFludkM5T3JUaG5KMG5aaGVWVnl3TWhXaG05aWVzQ3UwejB4TWl6a09mdDRRYkN6NE9YT0ZCdHk4dW9lMUJpY3ZaUG8="
m_p: "8ZS4q891sNm5Y1LVy5XJLBi20DT4049AiO9CV14FN6T7KX05TB046Re06g9GZ210"
e_t: "1614262592181"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 16:16:29,581-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:16:29,581-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "252e4081a88a483990d3aa8e241dd836"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "dWwUHL1U"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.02"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "JZgpx6y2ULm4VCvRtkh8jzi1f0FPN7d9"
}
sign: "U7q8GRt+eWAp8QUW3YHilfaZchWAC2z65rihu3sK9u9EkVZl73sLjrE7jJiUTqI8Azkd0S9lzvk/suAZdTDythScnfgkPI/6RnshpsB77xQvNnR9a6u90cmfavHmGbXGBA12Gcp/mUutcQ2m+uNB1YWiwVmQNtjVjEZEksaclTNUKLXvsjJCGwaW+U6QnyWCnrVL5WNQWwmf9onvyrv/sQplNtZw/p+RiSWdPvAZxjx4qV4qWU98xW6K/4UQfdKa3Wg5WtxBm9R0MeVnQD9tlnSgcq2SocNHpW9NKCGo56w8gPPxHUxADvom4OIZJaRGcG+K2dImE5Se12z6gOjRGg=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 16:16:29,958-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"82ed7a2b991f4e9280532c0f7ae48a96\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2416163250738834325a5192301d320000\",\"sign\":\"6099AB1197019B30AFEF713D09CB22E9\",\"timestamp\":\"1614154592\"}"
}
payrequestid: "RM202102241616322076075925082432"
model: ""

2021-02-24 16:16:30,958-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7357033569995205220809317768]]></transaction_id>
<nonce_str><![CDATA[OtfXuAGrxKb9akm51hYCdoPWVjDpNnSR]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[66D8FA9BB3FB96AE38DF8462962A5D13]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241616322076075925082432]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224161630]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 16:16:31,065-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 16:16:31,065-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 16:16:31,072-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:16:31,072-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "23162538862671"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ft8hnJ1egTmOIEYQjPkSv3DrbAHXxd7K"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:16:31,175-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "48d80568da1348fab203c4c433813e2a"
s_p: "aDRGTkpBdG1rMksyS2lYazF4SzMzQVI4NlAwTmcyU0M1ZVdSNWR5TVdNY25LT0thQWJBVU1ncndpVXFJNGFadTRkcXJlUHVSUDBmNFF4TXdEcUFUVEZZZ3FBeGtSdHZtVjlVSDlIMXkxTTRNZWxOem56SmJBOGIyVWhBbjczT2YyakY2QTFFdFhpWXIyVG55QllUS2w5UTBYUnpndXJvV1lnR21YWHBZU2pweWtpOEF4d1JIQmlFVG1vbE5PU2pKUXdRV3JRSHR5T3ZhckJVMDR5cGVVY1BiZUNVZXJ3Um5xVTA5SE80dWxYZEkyd1prT09LV0VEb3JPdWZhb2tXbGpuWVd0UFhDVVpSbmRMSkhuNTVxdzJ0V0NOZHJtSkFndm56ZzVkTkIyTG5oRDAwUHBRcmduSldtSHhUV2EyVlgyM3YxS3BtOFY0Z0R1YldJWXN2Zk5Jbk1SZmdJb0x2cWNFaEZRZGFFam9LYkNuUkNNSFFjbTk4eXhCOUQ5azRzSlNabEZyTGNmUVVQbXI3TnZxYjlmRUpPMHV0bjNmd2NIQVlTR1dYVDJoU0VNQmlHWlEzb0dPQUhRdlA5R2RCcDU5eVpVV29GV0JsMGhqb05XSmxOVFJONm8zdUhSRUVFcW1Nb0IyRUZZaEpZTVZlTjN5a3NEQXFyc0Z0MXpHSDdNNE1BSjJLUWo4SFB5cE9EeWtOQ2g3THhjMWhmSTBscDUzdlhhNm42VGtHYlVlYktLN2VqRmdjVDJiQWxtcURUTDFZSEY4dE1UbXRNZjBRZHNZZ0hwd1NNWUFyMTZnaG1pdkttOUlkTUpGUmROdFhhQU9ESUlINVpNYU9ySXZLQks2a1E4ckxGTlZqYWljOVdNN0VYYWRDbnpkbzJSRDNUUXhsbEVxa04xMUtyU3ZGd1p3RDZBOHB5b3JGZWxxc2UyVk1peUZPa2wwbldIZ0gwNllUeFl6eGg5THFiNmhqaDNlYVAzNVMzdGJMMUhVTDdKamZzSzBrZnFnb3lWdWs5Q3hJUUpYQ21PQ3cwZWU3eFZNS2xEZFVMTFpzYzhoZmE="
m_p: "n300q250ac4Yd9vEyA30su961fkW8K6KdPNB28Zr5b88uf0RM88D38T7rvjL991P"
e_t: "1614262593731"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 16:16:31,180-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:16:31,180-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "48d80568da1348fab203c4c433813e2a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "V9UH9H1y"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241616322076075925082432"
version: "260"
queryType: "direct"

2021-02-24 16:16:31,237-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 16:16:31,238-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241616322076075925082432"
2021-02-24 16:16:31,242-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15124, 'pay_req_id': 'RM202102241616322076075925082432', 'notify_id': '7357033569995205220809317768', 'partner_order': 'JZgpx6y2ULm4VCvRtkh8jzi1f0FPN7d9', 'amount': 1, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 2, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 16, 16, 33), 'success_time': datetime.datetime(2021, 2, 24, 16, 16, 30), 'modify_time': datetime.datetime(2021, 2, 24, 16, 16, 30), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 16:16:31,242-INFO-lib.common_biz.fiz_assert-37-订单表信息记录异常
2021-02-24 16:19:11,751-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 16:19:11,988-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 16:19:12,034-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 16:19:12,160-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 16:19:12,169-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:19:12,172-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 16:19:12,173-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:19:12,176-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:19:12,177-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 16:19:12,180-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 16:19:12,180-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:19:12,183-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:19:12,419-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:19:12,419-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "94300478974642"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "c69HuRzeqY8paPMEsNSQvVfokr0xK57F"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:19:12,476-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8bf5b0951f4a49d9b95bdea222f7838d"
s_p: "OW9uOUtJVGF6QTNvWlJCRjQ1c1RIanlkZmxvTEVDWXNNZWRUVWhoN1FMTlk5VnhCem04NDNJZmNQRVlhZWU3SmlybDUyTFhRNlV1dHBndmNrZVBXUzl2Wm9LMWpGZWNqazRIZDhURFJtbk5veURIZW1ReXZhalF4Ukw0M2Z3YzBWTUdHUUR4MVJQdmNsVkhlSGNnUkhnU0VpU1ltRXZKVDkwRkd0ZkJUcVhPT0g4eW8yUVlkT2FuZm0ySDdlTGRXNzVYWWJkU0pDTFFkSW1hMU04cVV6QXJJMkw4eXN0c1cxUWR3RkFhenpWMk9ibWFwdXlId1dndWxoZ0lDMHQyQm9Pcjl1dFo5MEtUU1luMDFYV2kycjl6Y0Y3VlUwSmU2eXZjblJXT0R3UnEyQm5NRmh4NzBVaGx6bEJtaEtBSk9tQnpURUp4YmZNY2tRd1p2MTYxWHdJdmNGaGM5R3BGM0xHaWVxR2JGRnRYeEY2OXBVTDdFNWxGWmR0SUNWZ1d2WFJJdGZTMFRUN0N4VklzUlhXUndySlRxQjF5WlByZ3lwekFUSkVLWmZyYzNBWFdkNTFKZHM0REpEQ0hwcXRUMG1MOGQyNmV3MDAzNUc5a1ZVMEU4RUduajhOQ0V5V1kzNU9SRXZqNnR2MFhFRFd3cnJoNFlLMHViYW1WZ1p2b3ZKYWc5V0oycUJyZk95eHdGeU41eVVnT1Y4bVhHeTZFaTRESFg4eTJXbjZselAyTFZ4THpzQzZUYVhzZ0hOVlUySDk1Z1p2OEU5dzVJenR4OXdGTTBvbm1JZWVONEkzNmlYQnZEaldmdVF5OXVsQ3E3UlA5VjhFN3RGeWJqcHlrdHhHWG1CT21wektKbVczakFqNjh1dVZaU25ScEJtOWRCWWZRZTNqNXJ5RWJKdG9BbW1sam92Y1NQM0VNNFFSQ1RqbUJOZWw2Mm1GRm02MTlJZlpKNnQwa3pRUHNkNnVpTDFYNkNUeHo2clY1NHNnaGozZURHNjBRT2xlTmk2RVI4Y3ZjOTE4V1hSTjA3TkRreEt1UmNVc3dTdmNJY1J6TFk="
m_p: "70V0dF1zV5doY86uAy4H0rE82N1AEWLDY02u7o0RKR4D9169iMCdYJ83QaFQ5kg6"
e_t: "1614262755080"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 16:19:12,480-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:19:12,480-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "8bf5b0951f4a49d9b95bdea222f7838d"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "GGQDx1RP"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "Tch9K0e2FImH8pVPoOb7ufx5zaRQG6CE"
}
sign: "rCAuCyxVyx+v1Gqyl1LIy8Rtv3I+DMAtjX0n1vV1MSNhogNHn5BKKYNy88WTO2QlFeKmd1gP6cATCPgjXphl86LueIRWdGBRrG0EBULhYf0zqkhsHfpU9DSjUPNSNrCGIvyCTptd43Zxvea1YmfJ6ervg3SW7WHvVnKbQPhUGIC5W9g+/CLTrVN2xyWxs+NGr9kczrc/PDKP11Qc0FU4LHU1TwVi9ox2tculJP9Rib0lsHSpe8vCkORHBOFn5l6q9liWJ3NIJNFvRcH0SyWe2uWdCWT3szpkC+gVGpZlICy7kz2r7xRPq47tZz8dg4X5cyckXQjeRutp5hj008UmZA=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 16:19:12,842-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"39ee6e57e00a40ea806747b7bad106b8\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24161915392376fb5de9425ea2584e0000\",\"sign\":\"BF25ED72B804CEB9328D7ABAF98ECDE3\",\"timestamp\":\"1614154755\"}"
}
payrequestid: "RM202102241619152076075925488752"
model: ""

2021-02-24 16:19:13,842-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8647986938289032415788718352]]></transaction_id>
<nonce_str><![CDATA[OYobUiALnu6qG28dJT5KM4XVg1DFxZPl]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[F010B06ED0372F64F786A09CBDBE1F00]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241619152076075925488752]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224161913]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 16:19:13,954-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 16:19:13,954-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 16:19:13,962-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:19:13,962-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "88192631490757"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "BpYFC8OEd2ANRIiQo1kc0mLDrw469fTq"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:19:14,055-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ca7417b20a904bc69be689e8473e2ca8"
s_p: "dWNSQkZuUE5ESVd6T3h0eEpCS2JnUXNnZHBmQjZCTXQxQVd3NHZJMkg3OVRZYU1vdEhhYWRQanljWHJsbml4V2FuMGRNeVBza1ZtTk5uZHp2RUxWdTBYWXBiS0pXWnRreGZMd3FFaWs5Y3ZjQU1Mcm52dVFmSlBJd2Exd3c5VVhsQnZaM2M0dW9xa2V4bUlZcHE5bDJ6RnBjSHRDQUFRQXNJR3JFb0Y5OHp6cG9IMnBIeDVQRmJKdm45azdDOHA0SmV3RzJCalRJS0FDNzdxQ205VnhNcjk0azZVUXFDU2picHFacGtiZ3pSTGNHejZQSXRKaTJkNGExZzZIcEl0NFdhZWc4YTVra1RhWDJNVzVhd1VGZnJXVnI3UkJ0NklGSkFZNnhVZjdkZGZWNXc3RzdTWFBaMlZrUFZFaldFc3AxN0xKbWJyNUxoSG5IckI1VGhSSmJMZXJodWt5b0dyd1pGc0NINHM2UHhhc2VtMDV2YWNsbVdqdDQ3anE5Y01qMFRIMnJZSktPU2c1Q3JNRW5nS0ZzQW9kaXlnUFJDTHNYSWZvMFFoWmxORW9aaUVtVEZkaUtUT245NlFhTFl6TDFaWm4ybVVyYUM1Q2EwUTMzdGt3NmRsbTFzWm0xV3BXc2FnT1RITUVva3puekVnblRMTDJlSE5PSU9uSXZtcU54dkxBbmNaMk80Sm9JZWprVUtPNEU3bEZuNXJ2YjZrS1RSRzhqc001WlE2TG9TOVlxSEFyaG9UUmdXbjVwOXBkSWpEWDZvQzFhbXp0QWo5Uk84Y0ZUdFJHQVJaUTB4dU1uaEhDZTEySkpwU3ZJVkxOSmRuMWFJb1g4eTlUdXVqZ2VwOTg2UzgxVGdpcUpOZGo4MzQ0RU4yZ0Y2bmRESEkxYzVDcmQyV0lQRGFlTEVOa3FIck5oMGZBbjdiTkRKZ09idHhvM2FDbklGU1BpdG5Lam5PM08wMFlqaVg5aWtQRDVGazNwMmMwSmxySzVWRzZVcGVYVmhoODdzOU1RNnBLblFMN1dUclV3Ykd5QzNuOGMxSEFXektveGJaZjFaNHM="
m_p: "JC58i66rSR17XGKj8N116DtWqgo6cK8TC4z0q7DhZKVU0Q6r38G7i0NgOQ1jvL9f"
e_t: "1614262756615"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 16:19:14,056-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:19:14,056-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "ca7417b20a904bc69be689e8473e2ca8"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "0dMyPskV"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241619152076075925488752"
version: "260"
queryType: "direct"

2021-02-24 16:19:14,105-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 16:19:14,106-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241619152076075925488752"
2021-02-24 16:19:14,110-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15125, 'pay_req_id': 'RM202102241619152076075925488752', 'notify_id': '8647986938289032415788718352', 'partner_order': 'Tch9K0e2FImH8pVPoOb7ufx5zaRQG6CE', 'amount': 1, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 16, 19, 16), 'success_time': datetime.datetime(2021, 2, 24, 16, 19, 13), 'modify_time': datetime.datetime(2021, 2, 24, 16, 19, 13), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 16:19:14,110-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 16:19:14,111-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241619152076075925488752"
2021-02-24 16:19:14,115-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7811, 'pay_req_id': 'RM202102241619152076075925488752', 'partner_order': 'Tch9K0e2FImH8pVPoOb7ufx5zaRQG6CE', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 1, 'amount': 1, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 16, 19, 15), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 16, 19, 16)}
2021-02-24 16:19:14,115-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 16:19:14,116-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "Tch9K0e2FImH8pVPoOb7ufx5zaRQG6CE"
2021-02-24 16:19:14,119-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148924, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '86070747baa4419f98c7a4b5485bb251', 'request_id': 'Tch9K0e2FImH8pVPoOb7ufx5zaRQG6CE', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"Tch9K0e2FImH8pVPoOb7ufx5zaRQG6CE\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241619152076075925488752\\",\\"sign\\":\\"U45DlWa+xBpWt3Ciquy0X80f7vDStuQHfnE9Hwf+ahgh/swyMaApfD8Z/qQMRiXQmY6TN8n1hqKE6Hltv6MyFf7wmfBJYfdNbIzfNhlvpnpRzWPKGYdWc4HE9gWIAhmGwfOsRAIcBz2DJ0/6gdB9vNuE+uNFOqYMa9ErK2tzJK4=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614154756539\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM20210224161916898\\",\\"orders\\":\\"DIRECT_PAY0.012031Tch9K0e2FImH8pVPoOb7ufx5zaRQG6CE\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 16:19:13\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"Tch9K0e2FImH8pVPoOb7ufx5zaRQG6CE","signType":"MD5","successResult":"OK","timeStamp":1614154756540,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 16, 19, 17), 'insert_time': datetime.datetime(2021, 2, 24, 16, 19, 17), 'update_time': datetime.datetime(2021, 2, 24, 16, 19, 17), 'extra_json': None, 'remark': None}
2021-02-24 16:19:14,120-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 16:20:43,056-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 16:20:43,329-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 16:20:43,378-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 16:20:43,379-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 16:20:43,387-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:20:43,390-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 16:20:43,391-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:20:43,394-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:20:43,394-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 16:20:43,397-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 16:20:43,398-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:20:43,401-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:20:43,597-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:20:43,598-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "52326782741677"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "HUnzbfB1S0xKQludJAOvrFNLo3P6jGhe"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:20:43,654-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0219fafc343f493ba5b511d91d2ca41c"
s_p: "Mk9TYXIzSU1KUVExRVZyczB2UG1RVkxHbkk3b0U4ZGQ2S29OaDBMazNpQjNZS3VrODNZdU5IZGFQZDVQRFhIZElYUnQxZWtkSWtrQmxsb2o1UUN6YkV0QXJZNDdHQTdTc1Y5R25jejJ2OUV4T2RGb0FHTGtJdlhkV3RTUjA5eVMzc29iZlNNTGdSaVUxY1ZWa2RQUmVYOVlMbzJwQmdaeTJXVFhQZGs5clhFM3R2R05jTnA2VGlOVnI0NXZxS3FZb3NrT2prNGJwQjdEaXJHUWlQZVVCOXJKZWg4aWQ2amNnYWptM0ZhN2dqelNGRUF6bHhvelhuTjVZTHU2cFAxZ2JNamI5YWcwaVZNc1NRaWo5VmZpVWxFNm9aRG5HeVhRTTBYRUlhOWhLS0hMNmMzRHpoUzFnWUlFeXRyWUc0cnEwaUJSd3hNUkIyVFl0Z3MyYlhqNll6RUZQRnBsZ1NBU0lEaHE4b0kycnNVb25oTGd5cTJDODlmajBmekc4T04yQnI0V0wwWE9nM2drR29ib3EwdDVDc1ZwUlRad0JwUWxJc0hGM3JmcHp1NkFlUFJXc3RNYkhWNXBYSjBqN1VqenE2eVJsaUw4aWM2d3JwdEJFdG1NakxZdklQeVBTa2JDR243YWtkYVoxM1dxWlJyNHI1U1lSdXFVVlF0M1cwSHRZQnBOOHM0NDNlZEJBY2duQ1A3ZWxwWEh2c3A1R21CZGh4c0FkaDNJS2ZPTjZsUmxJVTBUcjZRV0JOTVJBM3lXNWRlM3BvT2VEZ1B3dnhlSm9YUkM5SEF3VTlLakI4MTFkbk1oTTI0cjJFVWRkMUhjYjZxV0JBZGV2OE1GRDRjbkR6WEdBcnlKbUwyR21EdjhhbmlpWFRkdEx2ZW9BbXBGY0pmTXJLRWRGV1J6bENub2R0dEpMRlphT2VjSkc4SExseWFHVmVtYTRJbndrOTBINVlCY3VJZXQ1bHJlZXZOOE5rS3hZZXhtRXhoS2NtSTNTSVJ6a2JFRHEwWFhJRWJ4WnJFV3YxUWFVZENqYTRmUHpSdGNhekdBazc4QWpNS0M="
m_p: "490GDCrbNmr5po25nwWTj4Tgp604B84MC54I19sGESE525Vx33580Sm4n1LsVgPC"
e_t: "1614262846258"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 16:20:43,657-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:20:43,657-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "0219fafc343f493ba5b511d91d2ca41c"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "2pBgZy2W"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "bwhScvKMj4q2t8YEDufVOW5nBL0C9aNz"
}
sign: "2vcuTPj/1klhLD8eD2mRRz1mPWEq/8GyKgqnBoR1nOgKOfIzVHj31aXnWhsARXLaDQtjCDLHNm3zo65StXmfPzAh/YFb7bPDkT9xml+WlxHoaJoRp0TTyOQEXqG+tQRgR/vYTowFDa1KTZ51oz1auEQB/S6g4VG6TjumE3zWaz86sUe22Wjx8bq7nnJeU/0tboZjP0DeTcS6b9U8cZbcgFiGiwofYMKMAMza7f/RUHcCknvCdwuapkO7BwDZ4WtEc9L8B1Vk+u/+tUQYuHyKeFMEmJP8RxoZ7Le5UCqlOK5k+XaH/9l6flJOezbNhGSFJbxRkjNaq56xcfZfG78itQ=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 16:20:44,029-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"f6d2d76d086f44eabae321a12ff4046d\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24162046570750c83452641add2bea0000\",\"sign\":\"58BFC023E898923B55837904D20C31A2\",\"timestamp\":\"1614154846\"}"
}
payrequestid: "RM202102241620462076075925714102"
model: ""

2021-02-24 16:20:45,030-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7463186477283575658704598605]]></transaction_id>
<nonce_str><![CDATA[Gjb0mVFSp5hqvfkeZiYCtolMWR4zOTJN]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[9540631B485524AC6C68A60296FF8120]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241620462076075925714102]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224162045]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 16:20:45,209-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 16:20:45,209-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 16:20:45,216-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:20:45,216-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "21905984169470"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ronBNtaHVYdJpXybqe6WE8f1RPilFxL7"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:20:45,317-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "79e1ed9285ca48bb96c17ce54e35fd39"
s_p: "WWY1M3cwd1RGZ0ZpcjZBQ0ZsZ1AzVzVnQnJpeXVZTFF1QUFTOGJza3E1QklnOUdmWUd0eHF2MWlYR0liUDVtRXpNWFRGVzl2d0ljQzBpWWdXNXVuNWx4T3VMQ2hTUFAxS2dvN3Bra3pzYVZ0eEJFUHIzdTJ6S09uZmo4QVB6SUlQNnBCRG55WWRYbEdjTlU4Wm9RZ2ZRaURHNHFsOFRBQTRxV0EyczI4aXowUllOZHA5UW1LRndZSXZqQWxObVB5V09iUFdZcmJXamdCT3B1a2pJTWJyOEt3UlFvU1F0a1ZBMjFRUmdXcDlSeFhWTzFUOTY4QWFDeGhZM3dISFFwTG9qWGNOTEV3WXhMQnhuV1BhZU5ZQjhHM0xCMkp0b1ZCbTUxVVFMVzZUbWZOc1FhdXI0em9teVV4bnFPVlA4VXRJc0dWRWdib2Vha0ljNm9nRTZGNkRpdFR3Y05RckUxMTVSaUNXZEVBTWhZTVNrenBqSnRocE9iQnUxRG94cHRWYXk2OTk5cGlxUll3eEVycGFxZUVUR2hCblBYY2N3aENWbVdsWDdKdVdMUDl3ZlhSUUZDWDFvc3RLSFA4Tnp5ODBkejM4V29TRWtIRlpTakhRSTlqT2VBQXk4ZUdUTlJpVzNEMlRTcG5GbkhYR09NN0EzQlFkd3hJdmJta0NkeFpCNTh4MW5LakZrZmFPdktUS0U2VldPVWh6cWdBRW1pU2pVT2Rmc21JZUNYOVloUzVMMmVBY09HaGU1OW4wS0JpYjVQU3BrczRWWXpidE9WbksxNTFSNlFHdnNMVloxc2RhTGZ4VGVMa1AwalBEWkNPbmhUSlJmU3kxNDBYUlBTeXl6YTNVSmFBSzZjWWljT2E2TDBHUXJsU0swaW9BclNWQnV1dlhoeUpXMjhZdlhpeExIaTFjMDlHeHQyc3AxWG1lcDVRZWJBR3ppejhsZnJKWEFKS2xaOWFRZDNnNURqZUU3MG02TzNaQ05aOVM3R1FsRUJiOFpmY1RPNElIT3RGUDhUdXpjNkt5SG4xc1FNRGx4WDdZV0drUk9lUnRmdzg="
m_p: "OyR4bc18ykRjeppRyO64kdds7DL316vVzmxARj12lAKC3PjJu4oR3k5dvRBB5H02"
e_t: "1614262847873"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 16:20:45,317-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:20:45,318-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "79e1ed9285ca48bb96c17ce54e35fd39"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "YgW5un5l"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241620462076075925714102"
version: "260"
queryType: "direct"

2021-02-24 16:20:45,371-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 16:20:45,372-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241620462076075925714102"
2021-02-24 16:20:45,376-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15126, 'pay_req_id': 'RM202102241620462076075925714102', 'notify_id': '7463186477283575658704598605', 'partner_order': 'bwhScvKMj4q2t8YEDufVOW5nBL0C9aNz', 'amount': 1, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 16, 20, 47), 'success_time': datetime.datetime(2021, 2, 24, 16, 20, 45), 'modify_time': datetime.datetime(2021, 2, 24, 16, 20, 45), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 16:20:45,376-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 16:20:45,376-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241620462076075925714102"
2021-02-24 16:20:45,380-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7812, 'pay_req_id': 'RM202102241620462076075925714102', 'partner_order': 'bwhScvKMj4q2t8YEDufVOW5nBL0C9aNz', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 1, 'amount': 1, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 16, 20, 46), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 16, 20, 47)}
2021-02-24 16:20:45,380-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 16:20:45,381-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "bwhScvKMj4q2t8YEDufVOW5nBL0C9aNz"
2021-02-24 16:20:45,384-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148927, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '6236821defce470688ac7b65ac216ffe', 'request_id': 'bwhScvKMj4q2t8YEDufVOW5nBL0C9aNz', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"bwhScvKMj4q2t8YEDufVOW5nBL0C9aNz\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241620462076075925714102\\",\\"sign\\":\\"X0gSUkP7wNIqn3WDbK8lZNvWR7Lt6iFcAsDjYrmy6XIPysvlQT96ACdI2tpdviYNS+jlkKH3+rRF7hP1rUBsQcpwGM57a8fuiT1/7IL7NVGBVe5ktPKArXF33NgutZrF4WYu2JhwxVvUT9LnejPAu1z2beb3Waso+mjSh7pzIC0=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614154847742\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM20210224162047870\\",\\"orders\\":\\"DIRECT_PAY0.012031bwhScvKMj4q2t8YEDufVOW5nBL0C9aNz\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 16:20:45\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"bwhScvKMj4q2t8YEDufVOW5nBL0C9aNz","signType":"MD5","successResult":"OK","timeStamp":1614154847742,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 16, 20, 48), 'insert_time': datetime.datetime(2021, 2, 24, 16, 20, 48), 'update_time': datetime.datetime(2021, 2, 24, 16, 20, 48), 'extra_json': None, 'remark': None}
2021-02-24 16:20:45,385-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 16:21:03,808-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 16:21:04,082-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 16:21:04,123-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 16:21:04,123-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 16:21:04,131-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:21:04,135-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 16:21:04,135-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:21:04,138-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:21:04,139-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 16:21:04,142-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 16:21:04,143-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:21:04,146-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:21:04,353-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:21:04,353-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "08654494420229"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "KWG4xqkcL35mBMhYoaigpf17HzZJyuR9"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:21:04,417-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "fcf34d4cbc2b44aea0ce5a59540e2e29"
s_p: "eWZDMEs1OG0xT2V3MjJhTWJTWkhqRURDcGMwVGlBTE1nbEYwSlJPelJqR2FZS1lFYm4zMnRhcGV1QVJhVlBsR3hpSk9yNjBVbmNLWUdKY3pDaDBOVGZDQjFJUDh1OFVINjRFV2V3eFVPbVBZeWNEZWJTdGlkUU5kckw3alZ5MFU0cnVvNjJ2WFBwdHdEQ09RS0xkZkpRTk9CeDU1YmNET1lJd2JWa29WMzRBVTRlSmZPcTlpcENaQTNac01HVkR1UXRYNVJ4eUJzUzNxTElBWWdlOFBKM2RqTjFTSDdHeE52TWRFOW5NZnZVbTloeDh1SDRHa0VLWFpNODdrYWZFWmpEMGMwOTFKOGp5T3NXSUQ4TG9lcVIxZkxZTW9xdGNBTjh4NDI0ZzJBTnE1Y1lsVzRXdUlFbG55VGdlMXZrQkxydVVXc0l6ejVwUzB6YXBhZUJPd2F2VDRMUmpWZmF0TDYwems2T2lrMlhDSHI2Y05uOVh3VjdZMjZwaHkyUlNaNEVKamNTQ2N4QlNrcEg3TTJrbGhYUldlWndobWNsS2FKU2piUGdPNG90dEFma1RjYW9CdG5leUhBNXZXRnYwMjY0anZkeTNZUTZmWGxQb2RHbEdkaVVsS3ZXcGxEMVUwWFBYM0hBbmJyMm9MMzVnS2NhS2Z5dVRYVkJTam9BeFZDZm1lemZ5Y3hmYTcyTXRHYnhWMzlCUHZJcXJ5bXA0WnVaT2hyMWhRckw3bGNucE9QNDlTSEc3Uk5QYzI3TWhtaWJJUEgxejhRME5BTElXMFpsbndJT1JrQ1dkckZJWkpZalh5bFNlaUFwQ0MxdWhyTG9ocG1samJzaGdlSnR5eWNPOVlaN3dveE45ZGNrdFlFT1RSRkV4R1hOYWtqcHF0TEgycWFyU3I2UTVsWDJVbkxRajNleWZ6R2FBYmlBTE96TTQ2SXczMkx4ajJXZmVaVmUzZm8xbXBTazZzOElWMzg2MmtVdjU2YUJhbDZjQjhSTjVmNWd2S1k1OWlNS2VTOTNJWDI5TEdtWVJyMjI1VDBBOElVcnhLemYxTUc4Rjk="
m_p: "Y7YiRt23495X2phGrEJX4p753460aj2I21bAgwWj0x8I7iB46J75x7dy7tRT3GJm"
e_t: "1614262867017"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 16:21:04,420-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:21:04,420-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "fcf34d4cbc2b44aea0ce5a59540e2e29"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "OQKLdfJQ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "6Ety1e8bQF9iNoYKGcUR4Mwzv0CXOrDP"
}
sign: "JqusqvrkXXjPOVfA+GUq7ZRDrE6WKhnWCb2Bo/glw0Gl+Wu/NMQ5iV7rHR95SkYVhC/CU4O8kqJUwiUqmF2SCKNTfbLK+muYI1EzbID1nKPZk3kBpm+sbW6ehn/X3SFGaKZ002v3oxkwBZzpdkC4G54dl3A80pEtnX46VPI7mz8f51qCUzQbsu4EtnKhcy/eqD8cNfuTVhYVQQHDJW72YAgg3h2QwUw0MY4J6m25aBBLZkq3C2xHvyKR7SSCGhDRVORrOaxTKNcrTRh6AbGR3Bij3Z6Jo3RmZbnI1SFw15z+eIJ0ldFwGZ2TFE+MAltjeUmwfZ2lnCHEn/CWHIPK+g=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 16:21:04,826-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"c33576a5589a491f9bc78cfd58799984\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241621073626633559681c7f86ab7a0000\",\"sign\":\"66821E83B06AF478C6E3585D22D6BFA6\",\"timestamp\":\"1614154867\"}"
}
payrequestid: "RM202102241621072076075925856142"
model: ""

2021-02-24 16:21:05,826-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[5046229891921273748937985383]]></transaction_id>
<nonce_str><![CDATA[DkErfp6tUn4ZdQuqNxR8OLP3T7cjMGwa]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[1F25B9365A8F38C034F09E51BF683CF8]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241621072076075925856142]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224162105]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 16:21:05,920-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 16:21:05,920-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 16:21:05,928-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:21:05,928-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "49821490621577"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "aHvhx4nAXymNRcGlS2z19DOBZKj7eYrT"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:21:06,021-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c8a61cbf5ee440aeaa42a2c9e44a28c1"
s_p: "VkR3TEJrV0kwYUxnYkZtT05hV2tMRE9nb1lJcmYwcWRTNmxaY3g1WTE2Z0JXak5PUm94UUtTRVJDUDZtZjZPdE9BYzVhT1FsdHNQY1Aydld3S25GNURLeUo4aVVGOUphV0hRVFpTOFk3SUo5UjlqTnd5WU4wUW5BcUVNeEYxNkdDejlDUGVKNGJzTjJFOFdBMzFNUUNBRDVwRW1YVlpmcXdGbDRJQURLZllpM3ZKM2MzMnhBZ0dIUTJTUk82NEdLQXh6VkZCWnpkYXdvbFBncTFpTUJ6Yzhyc0FkY2FMODlKdWhsNmtwRDVqVFRnWjdGQ2dLdmN3cFh1YmJsQ2tXaDlkUm8wZHBFTXZTVzVENVUyMTg5QnZnVFFqOTNKZnQ3dXNXMXlrYnZta2hHMFRwNFNHUVZ4YXlRbkpCekVqVW1LRjJ5OXk1dEh2QXBrYjZ4am02dTdmSW1yaUpPb1IxRFBzOWdoWlJqQlhzOFZkejA3a09YYXpBanNKTmtSVG1aWWtjVU42TFBVc25IMTFFWkhxaWdMZGpTdFRtS0tWQWJMMURpRGF4aXFXdE9aaVo3WXJaZWFuZUFPdnRvY1hWdVliOEVkQmJ6MW5xQUhCNTRHOU9HNDlTZjJhT1JRZjdYZEU5NnZxdk5Ta3hYb2JLUjFjdzg3VTdaTUJBUDkxV24yOHk3a3pIR3pPVzJ1c09mWmx0T0RMZFJZcm90YjBQTWZuaU11RHczMmw3MDE2dnZZMHgyUW1mWUtjWmQ5NVRucVFhNGNacWNlTmJEdVJnUTlVcTRlMWdWWEZYaktHRGtBTGttc054SVpCSVpMWVVwWVU3NWc1VHl0S2VCQlpIR3JHY2l5ZGl1aDFzb25va3R4a1JTbURKR01ueVR4c010bEVhaW5la1JVam5HeW9JajY2Vk5ub1V4czFNVktIVEFYTGVJNWhCV29uR3Y5N1pDb3dmUzJVTmYxdjJMN09LM1hWWEh6UU81dDEwZFBBMmY5VEp4VmZScEw3NkgzNmc5V3k2cWRtd0pITFZNbUU1bm1NcFJORWVsSjEzRkZldUU="
m_p: "880D8RhB05C1Rn8Sb8zHu2M94FGx4Rl412iW38eRX1n7s1AlCu78dxI92Hf5g5a3"
e_t: "1614262868584"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 16:21:06,022-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:21:06,022-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "c8a61cbf5ee440aeaa42a2c9e44a28c1"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "wyYN0QnA"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241621072076075925856142"
version: "260"
queryType: "direct"

2021-02-24 16:21:06,073-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 16:21:06,074-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241621072076075925856142"
2021-02-24 16:21:06,078-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15127, 'pay_req_id': 'RM202102241621072076075925856142', 'notify_id': '5046229891921273748937985383', 'partner_order': '6Ety1e8bQF9iNoYKGcUR4Mwzv0CXOrDP', 'amount': 1, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 16, 21, 8), 'success_time': datetime.datetime(2021, 2, 24, 16, 21, 5), 'modify_time': datetime.datetime(2021, 2, 24, 16, 21, 5), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 16:21:06,079-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 16:21:06,079-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241621072076075925856142"
2021-02-24 16:21:06,083-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7813, 'pay_req_id': 'RM202102241621072076075925856142', 'partner_order': '6Ety1e8bQF9iNoYKGcUR4Mwzv0CXOrDP', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 1, 'amount': 1, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 16, 21, 7), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 16, 21, 8)}
2021-02-24 16:21:06,083-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 16:21:06,084-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "6Ety1e8bQF9iNoYKGcUR4Mwzv0CXOrDP"
2021-02-24 16:21:06,087-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148928, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '74d587b82b2346de90fce91f26fb795f', 'request_id': '6Ety1e8bQF9iNoYKGcUR4Mwzv0CXOrDP', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"6Ety1e8bQF9iNoYKGcUR4Mwzv0CXOrDP\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241621072076075925856142\\",\\"sign\\":\\"OM3q6g+AXwySxUw/lFuXy23ZlzMAabDa6EYboPd5o9iTI62DcjGIfkHo16ILWYZT6u558HDfOCc+0iQWGoLtFNhpBsijUpJhRrQeHJF7ls3U01yjaFpo6WbAXYB3qn8KdUmjV4ZDOraA2DJoy1MVhqDGqy9qfBcVDQr3uzdgfAI=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614154868520\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM2021022416210890\\",\\"orders\\":\\"DIRECT_PAY0.0120316Ety1e8bQF9iNoYKGcUR4Mwzv0CXOrDP\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 16:21:05\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"6Ety1e8bQF9iNoYKGcUR4Mwzv0CXOrDP","signType":"MD5","successResult":"OK","timeStamp":1614154868520,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 16, 21, 9), 'insert_time': datetime.datetime(2021, 2, 24, 16, 21, 9), 'update_time': datetime.datetime(2021, 2, 24, 16, 21, 9), 'extra_json': None, 'remark': None}
2021-02-24 16:21:06,087-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 16:21:17,658-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 16:21:17,898-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 16:21:17,938-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 16:21:17,939-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 16:21:17,947-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:21:17,950-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 16:21:17,951-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:21:17,958-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:21:17,959-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 16:21:17,962-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 16:21:17,963-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:21:17,966-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:21:18,171-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:21:18,172-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "76230389047903"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "I0Qo4axmjeRTbLWFNhJOyzGV1trEZnfg"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:21:18,233-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b87461d08c524b40bc7c95c83eeb78ec"
s_p: "dUxWSUgyYzRqNWNxVVJ6alFnMTdoVk1KQ1dsQTZnQlFlU2pxT2NJNGoxY2lEVXZQQkp0SjB3cUFpSk5TdUVSV2JqSVlpRDRYV3Zkb3g0ZXV1NzUwME51Qng3WUJNbXpxSEtDdUVTWFU4SGw3UDJWQ3RlcjBaNXhRbjBZSDhiVXlpZmVuTEVmTUh2VmdPaU1XOVEyZ0pHdzdKWkFIU0NwTXZ5Q0ZCbWhhRkFRRkx2U1g4M2tsNDNXREJlOE1zN3haUTRwVFFMaHN0UFl1UU9EQmV5elJ3eHNFamxydjZQRnBnNXBzSWJPVElMMkt4Mm1SOHRGVVZMVEhFVEpSbjdSNHEzQUpsTVg1aWdvclFacmlkcjJtR3RLYUlXQkRKVVptWUZJdzF0UE9za0FtUHR5eUpLVTBVMTNKR3VZcTFFQTVLN1RjclJpc2NadWt3QWVZUVUzejVwSUFxTlVXQ1BiYVlwZmY3UFVua3Fwc3FOWTJwQ1ZmOTV1d1VDS01RdmZ0cndRREc4TzJqOVBTTk1yVHVFMHN1WVZKdWdaejZuQ1NJTXdtZkdmbGhtUmhNRFdWb2tNWW9yZDRjQTd6U3REeDk1N1dZRU9hYndEUkVMd2NMNFJnNUNvM3VXT05LTkN1OGlFWW9CZ0RhVGJtak5ZUjlySDlzb0hvbVhEbmtramtWdEJRM2hma3p6b2s3a0VNcjNzUkcxSTBLYWZyVTdqdFZxeHpVN3BnRDRpdXIxU0xLa25pdmNOYmlEYXhtTEk1elRDNjAyeFJYTkFvUThEZXlQRXV6S1JyRXNXbEJUR09wM3JJNHU2RDRZQTg3bkN2VENtS2M4VDRFMVhDYzFjcVJWR2c5T1BTM2ZZbEN6aWdTYjZ2ODV1aXJzeThNdFJTbU1zd2Q3bTRGWm84RmhSVXY3TzdkaGhQcEFWcXBBQW5kRTZaMjdxblVjSkZmd003dFEzd29lbnYyNDlqTDhFWm1ORU9NUFpBZjdia0hocVl3SUVkOTNKVmZtOFN0VnpkbDM3VFc0ekJ6azVCSFlrd0VlelFaRGtqZ0FIQVZCZlc="
m_p: "L6y3Z5rwAX6pxqb3vbbHxHJ6QjMis93z9Sqr8c04bXz6hlj85rI9nJ57114zn5cW"
e_t: "1614262880835"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-24 16:21:18,236-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:21:18,237-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "b87461d08c524b40bc7c95c83eeb78ec"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "4XWvdox4"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "TJaPNpH80RkqsW2X4hKfoidv6GlrtyeQ"
}
sign: "iXq/222MmTu2keDDs3e8d7VMtWMSMI7/kD0G8IotyNDMbqd7u2HNwjNrGAIxL+PeMJOsGZXwEL5UYkiH7k+V46smuCG1GuAKyYn9oDpMxkUB/gKYTo7B/CkXDevlnzpqIclmAVtlvlMKfnoURcD/vlk1qdHsjPQ24sYWOgnPXdWO3dvnje8uTbTQI62K+x8gJeJiTXQbgMwBi+AI70WA0l0RMFsBewumZm1aP9PNEh6AWV654eYXovJxXnUO87fDobpHeX46N8zaIAejSPGlPdlXMzxU93sHoV17Lx09QSztr5Yepr1j3Z2ek1d9UoqZWEBtSV/gNt78ef91UAeBlA=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-24 16:21:18,615-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"b825b58cf5ee4fdfabc0fdd4fb2b344f\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241621211615834846d4cc3d2402a50000\",\"sign\":\"10D828EBE1CE81A5B29ADC6B46C574A8\",\"timestamp\":\"1614154881\"}"
}
payrequestid: "RM202102241621202076075925615832"
model: ""

2021-02-24 16:21:19,616-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7212681820964163610861103139]]></transaction_id>
<nonce_str><![CDATA[m18prLhWSIf4BHPstnZgiK6AjOQcyvwU]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[B9E85E532E422C8F71F69D0248703DB8]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241621202076075925615832]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224162119]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 16:21:19,710-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 16:21:19,710-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 16:21:19,718-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:21:19,718-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "50092719998409"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "NFa7QmT9lbGqX32f5JHunvpYWgVCKS1U"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:21:19,804-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "97a163f2f1464b9a8c61130385f06895"
s_p: "Ym00QUl0ZEhIM0E1aXpucFdBc0M4WVE3TGU3VHFlbG1kMmlCcFYyOFJnQm41cHphWHhQNDJTWm1QdVlmUm50bWk0ZDhxZzEyeVdMaExJQWpKaERXUWZ1UmJpcTlSbnQ1a1p2V01Hd25zdU4ybTAyYjYyOGdnbzdxdlVLa2tMa2d2UmY1TTZCcTJOU2o1NmNNdkRjY3dTUDdQMDRuQ0dNcEtxZnVYY3ZhZUJ3RUs2UTB5Mm80NmN6U2xaeUJDN3p2YUdxYnZUQ2o4UG1aalY4MGY0TTd5YnZFdFZzVXlabnRpZmxVUVJHRjN4bTNqM21SMkJyN3dDZU11MTB5cWxpSEtqTXlOcXRzakpPbG54STlzYk15d3VlSmlBcE9oQ2h2eWdpTUpkSFhFTmEwdm84aU8yVzBlQWVjVW1GQmNhYkZPU1F4bkN3VHBMZVVxbDN2c2l3UXR1VUNZRGhaSnFFSTIzckZLVlprMnJkWlRQZHdQUHVVeDV6Ujh2WXNuRUJ0THYyQXdUeWNOVkJDWmhnMm9nSmJ3dFV0aDBucnpmR202QWFYSXAwdm5yaDhiUUhaZW53VHpuNzF4c2hudUIySGxlUXRIeEdZUW5RRkxscmRrZHVGeFpJY0N2d1huQnY0cWZzdG5ucm9Rbjk3eHRBblg0T2F1NFNHc3RYMVN1R0VMZ1BQNUNqenc5UlhteDlXcWFXMmRQSFpkdzlISnp3b0NuVU5xTzhQNDNtTU5hS0VOSzdZZlRyMllUY2FwZ2FtWWhkTUc5aTVjZlBxcFFkVHNnUGFoMWVGZTVsdnZYUE0zdHpsbWVOR0VQZkV2Nmh3bGZZOHMyeTBCZ0Njd1pabDlmeVluaEZ5NEVTTjNJbVhTd094MmozQTdkZzNKTlZrNWtxZmI3NGpTTVZKRnozNU1wUklCRGhvd1Fqa3UzdFBqZENMdlVlemlTMEtreEoyQ1drMjZITkd1Z050bVBOQWlVTjFxeGM5Rmk4UjhScUM5VkJUZEMzUU1iZGcyNEprd0R4SHdDRU1JTFZaYkM2YXRGdFJ1dExKNlV4YUFEM0Y="
m_p: "Mdd3j0KtQG2E5NqgxgeU9n4p2V71Q3Neg9E9nHUn4C7M3x5GR454edBZE2w73j40"
e_t: "1614262882375"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 16:21:19,805-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:21:19,805-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "97a163f2f1464b9a8c61130385f06895"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "P42SZmPu"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241621202076075925615832"
version: "260"
queryType: "direct"

2021-02-24 16:21:19,856-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 16:21:19,857-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241621202076075925615832"
2021-02-24 16:21:19,861-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 15128, 'pay_req_id': 'RM202102241621202076075925615832', 'notify_id': '7212681820964163610861103139', 'partner_order': 'TJaPNpH80RkqsW2X4hKfoidv6GlrtyeQ', 'amount': 1, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 16, 21, 22), 'success_time': datetime.datetime(2021, 2, 24, 16, 21, 19), 'modify_time': datetime.datetime(2021, 2, 24, 16, 21, 19), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-24 16:21:19,861-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-24 16:21:19,862-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102241621202076075925615832"
2021-02-24 16:21:19,866-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 7814, 'pay_req_id': 'RM202102241621202076075925615832', 'partner_order': 'TJaPNpH80RkqsW2X4hKfoidv6GlrtyeQ', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 1, 'amount': 1, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 24, 16, 21, 21), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 24, 16, 21, 22)}
2021-02-24 16:21:19,866-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-24 16:21:19,866-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "TJaPNpH80RkqsW2X4hKfoidv6GlrtyeQ"
2021-02-24 16:21:19,870-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148929, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '1fad434e234c4de0bf9397c6fb422396', 'request_id': 'TJaPNpH80RkqsW2X4hKfoidv6GlrtyeQ', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"TJaPNpH80RkqsW2X4hKfoidv6GlrtyeQ\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241621202076075925615832\\",\\"sign\\":\\"DXns+MB0svR/CRSAqZpCW3vbFe2UAjazTWejLS3WOwsi7onPu82yYHX+5laoMxK1hG6UBJKhIAL1YFozKYnV8HakjhzvjBqwHl0W8fkXKT1UzyUt0yJccXzRpseqJinosdXgcKSxM3T+iMMCNJd802Iv8X8C5HGzSk/d8gG/iwY=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614154882306\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM20210224162122269\\",\\"orders\\":\\"DIRECT_PAY0.012031TJaPNpH80RkqsW2X4hKfoidv6GlrtyeQ\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-24 16:21:19\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"TJaPNpH80RkqsW2X4hKfoidv6GlrtyeQ","signType":"MD5","successResult":"OK","timeStamp":1614154882306,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 16, 21, 22), 'insert_time': datetime.datetime(2021, 2, 24, 16, 21, 22), 'update_time': datetime.datetime(2021, 2, 24, 16, 21, 22), 'extra_json': None, 'remark': None}
2021-02-24 16:21:19,870-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 16:24:21,004-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 16:24:21,303-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 16:24:21,344-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 16:24:21,344-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 16:24:21,352-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:24:21,355-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 16:24:21,356-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:24:21,359-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:24:21,360-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 16:24:21,363-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 16:24:21,363-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:24:21,366-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:24:22,276-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:24:22,279-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 16:24:22,280-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:24:22,283-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:24:22,284-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 16:24:22,284-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "v2IBofRswGlacFdZH8YEVySqbteKjU4Q"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "0.01"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "0.01"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-24 16:24:22,706-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"7e4202b8e3a6485e826f7034d4d035a2\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx241624252374767f7e1cf83124aa970000\",\"sign\":\"AE765778498DFD068F0C1ED65CEBE436\",\"timestamp\":\"1614155065\"}"
data {
  payRequestId: "RM202102241624249LELE7NJTY384372"
  payUrl: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"7e4202b8e3a6485e826f7034d4d035a2\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx241624252374767f7e1cf83124aa970000\",\"sign\":\"AE765778498DFD068F0C1ED65CEBE436\",\"timestamp\":\"1614155065\"}"
  parameters: "0000"
}

2021-02-24 16:24:22,707-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9229468451764804216793306198]]></transaction_id>
<nonce_str><![CDATA[Wtqzrvg7OaY3l4PkK16wsbHRIUdiCLuT]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[046C1A38AD1F2E3862C50E2F84858ABA]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102241624249LELE7NJTY384372]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224162422]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 16:24:22,925-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 16:24:22,925-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 16:24:22,933-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:24:22,933-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "62935108836731"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Zhtw68PSU1CYJ4395QTDfs2MBVdqFmpc"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:24:23,024-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bca729d7938e4ac69a2f6897182744a2"
s_p: "ZGM0d0hxTWVUR2tGdFNIT0JCUXM5ektYenBydGtKUzN1NUJjZEtVcGl2ZnRMc1dGMkZXeG9TTGFEcGxrUmdTV1dDaVlINlhReU40TEcxa2tVaHNRdXozY1V1YXd3YWY0NTB1MWhkSWF1RmNtaklJWXhwejE0S3BBR1pZV2YzeWgwRU5GWUdWZzNOUk5pWE1hbVlFMDdUTkpwNWhTYVliNHBndXdaU3VvZHNUS2hUa1g0cEcxM21ob3BveVdrZEhTU1hZbEdwWHJNTFJyckRhNVBtZFV5ZXp4WTVsWVBpRTBoaUlibGxreVlKd3lNQ3JONW5Rd0JDMW5tZmVZREl3NTRuMjh0NnQ1SDBWTGJHSjJQM3RMNlF6UFd2MkRQalJqcEg2dmFuS05MTUNQeTk1MzRrUmJYTTNPMWJzVkp6Tm5GZTl3T3pValBJTXlyUGh0VVdXR0tTbTNlcnJxcFlFWUM5MnVQZkUyUmVsTVZKVkwwM3ZDeUNQY0I5bUNJejRidlZkdlYxcWIyd01SWFJCM2RmTU1HRlVPSVVMWGxUM2JETVF1YXZyanpPbk5WTDZFM0E2YXFnS0FWZ0tTVEV4MnNRdzBNMW9UYUlKVEZnbXZjT0xrSG9WdEpya3paUTVURnlVYnpRaHJ0R1g3S3dXSXgxSUdUbENXVnc1TFBWVVRKdzN6ZnFOUzlvNDNjR1VQSmh1Z2VUcGgyd05kZDVZUjAyUFhralNYUnUxcnBRZzUyeWlBREl6VEFnTDh2TkNFT05KZ0tTWXFLMDlqRWhSSXpXTlRiTnFGSGpEek5qaFhRbVptb0xkNmdvUFNFb0pWV01vbk9WSUFqclVxV3JuOXJGMlVZNHlyNzQwSUp3ajdCd2lZeVpiVEsyenc0dUhzcnRhNGN0Smt5eUY3OVJzSzRjTjZzdm5aZ3BQek5pUDlMVE9wVFZWalllY2xYMU9qMXp1VEc1a0p3VlNJT25OWHRCREpOZElTVEdRNlhGVTZBNEhpa1pHaGFOb3BtY3BHUmt1QjJlcmlUeFJkZlRuWDV6TjVwcnpFejJveGJONTk="
m_p: "RIqyJ6dGI845k30jFC7Vn3t7g4593V1y65z67A9GwsA218T2EQklR71gk66rUi4H"
e_t: "1614263065587"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 16:24:23,026-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:24:23,026-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "bca729d7938e4ac69a2f6897182744a2"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "WCiYH6XQ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102241624249LELE7NJTY384372"
version: "260"
queryType: "no_login"

2021-02-24 16:24:23,066-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 16:24:23,067-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "v2IBofRswGlacFdZH8YEVySqbteKjU4Q"
2021-02-24 16:24:23,071-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148930, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '72724313', 'notify_id': 'a399af4d9f7a44fe9b4f9024192b4c4f', 'request_id': 'v2IBofRswGlacFdZH8YEVySqbteKjU4Q', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"72724313","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"v2IBofRswGlacFdZH8YEVySqbteKjU4Q\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102241624249LELE7NJTY384372\\",\\"sign\\":\\"REbaCj2jsSfLmlYX/loh27j4YX8HCHiw3thtfo1B/czHpGO1O2MLw+UcR1tEBRW88/bZsY40l0OixeUkaMt8At1Y0EJN7Ub43NTRR7UwF3wsH1r6wmYvhP4e7k5yCweW4vJtZs0A7gngrfjqL5iPwRVJvylUkJyiRl1waTU5GXg=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"NO_LOGIN_PAY\\",\\"sendTime\\":\\"1614155065514\\",\\"productDesc\\":\\"话费充值\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM20210224162425108\\",\\"orders\\":\\"NO_LOGIN_PAY0.0172724313v2IBofRswGlacFdZH8YEVySqbteKjU4Q\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"72724313\\",\\"paySuccessTime\\":\\"2021-02-24 16:24:22\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"v2IBofRswGlacFdZH8YEVySqbteKjU4Q","signType":"MD5","successResult":"OK","timeStamp":1614155065514,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 16, 24, 26), 'insert_time': datetime.datetime(2021, 2, 24, 16, 24, 26), 'update_time': datetime.datetime(2021, 2, 24, 16, 24, 26), 'extra_json': None, 'remark': None}
2021-02-24 16:24:23,071-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 16:25:37,727-INFO-root-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-24 16:27:24,836-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 16:27:25,280-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 16:27:25,323-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-24 16:27:25,323-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-24 16:27:25,349-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:27:25,352-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 16:27:25,353-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:27:25,356-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:27:25,357-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 16:27:25,360-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 16:27:25,361-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:27:25,364-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:27:25,720-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:27:25,724-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-24 16:27:25,724-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-24 16:27:25,727-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-24 16:27:25,728-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 16:27:25,728-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "u1zHsyBoYMN63n5CrL9OTwJkXQRKS7vi"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "0.01"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "0.01"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-24 16:27:26,220-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"78010393eef341a88da977fa303a54e8\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx24162728767260df292afdc37726e10000\",\"sign\":\"0C10E2CB1BF9B334A27F4375367A8435\",\"timestamp\":\"1614155248\"}"
data {
  payRequestId: "RM20210224162728CMQ02MACQ8246442"
  payUrl: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"78010393eef341a88da977fa303a54e8\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx24162728767260df292afdc37726e10000\",\"sign\":\"0C10E2CB1BF9B334A27F4375367A8435\",\"timestamp\":\"1614155248\"}"
  parameters: "0000"
}

2021-02-24 16:27:26,220-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7555790473615568379587919056]]></transaction_id>
<nonce_str><![CDATA[w85Zc2jDiLoh1dGyYXJnkIMlCVKzqemB]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[ABFD6A83A29CE4AAA904519E6C14D061]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210224162728CMQ02MACQ8246442]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224162726]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 16:27:26,347-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 16:27:26,347-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 16:27:26,354-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:27:26,355-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "91876802540992"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "gbfOIxEMHkqj36hKQrtU2mLcoSipXAsP"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:27:26,457-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4a31b812456746da9f3168286b94847a"
s_p: "TXB0bHNPbTZOdVNmd3NSRGNhQ1ZGa1pxVXpzeTYzMllsSTV6VVZCVTBJMGlpSDNjdXhWNWhRa0x0VXd5RVB1VHFaZE9oYWRUYjd2RFhIWVJxWmh0QVdXeTM1QTdnckl6dmNZQUlUSzI2SDJVREloS0VEc3JybGswcWVVY05wUk5WSDV0N1ZRQ1ZGRUlKRXhFREM2anRaSkJvSXMxRWd4R3dUZXJsT1JtYU4wQXNwMFZydWpuc3JNbVdXZWxGZklwMFViR2JqeGxhdjhPTGZCZ0x6Y0YzY1RtWUxUSFJzNVB3ZHN5NVBrS1RFODF2RVhqWjJZWkhTaGFBWWFYZkN0ekVLVEl4czhvcDVxSVJqb2pvV3pIOXpaNnVNQUEwbTBkSnhuQld2TFpJV1hSN3phSnJYQk5BQTVjS2JWR2ZXM3d1N1Nwd1hibzZyN1hRUkFFcTNzRUVDY3JDazN1NEVsNmhpcEZ1bTRGMU1zczlUeXJMNmM0d0Q3VU0zNnlPSGhhZUxlTWpBYUZ2cVhFb3ZJUlI3RTRUeUw0STBGRFlzS2ltZG5vZFVuVVJtdUw2QWZISkJIME1WZzRsN1pYQkhlTnZVUmNQZmhOMUtCeHRwNlExc25qc01hZVVON3drSGFIUDh6TTB6NzJ2TXNpd1lYejAwNEJZTFprNmgzRVF3VUVPVjI2Tm1ieHdMYWF0OUhKQ0Y4cTFVMnhsSFpwNXdwanVJOVBKakhyT2tpSnd6d1JLQTdxbEw1d3d3SHBNbGVrWGtyYjNkNk0yWEpsdzl4NUc4WTJySU11RHdER0tzRnJsRGxSbTExWWhJRGlMSlZrbGJkSk01RUowMWd5d0FoTGhYbW5jUGQ3RGYyV1dhMDIyNVVIaWs0QXhXak5GYWJkclNGejh0R2hFUGNMemhqaTdYdzJFUXYxZzNpVkpESTdIRFFwdlFraExUSVhRV1BpS2dIcXMxVjAzUnhsdjVBNXdsQlJaRDNCT3p2eWlocHBPSTd2a1NEMlBMUTcyTm9lRUNDdU5Yd1p0dnNEcnJZSTF6UHEzVU9IQ1pGZTlMNTQ="
m_p: "yum2jwdVlK9La42d9GK4mGqF06Kw1Q145y85DA9sX6cehvfexGC0whb2YfH9V319"
e_t: "1614263249013"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-24 16:27:26,462-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:27:26,462-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "4a31b812456746da9f3168286b94847a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "vcYAITK2"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210224162728CMQ02MACQ8246442"
version: "260"
queryType: "no_login"

2021-02-24 16:27:26,511-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 16:27:26,512-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "u1zHsyBoYMN63n5CrL9OTwJkXQRKS7vi"
2021-02-24 16:27:26,516-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 148932, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '72724313', 'notify_id': '3bc2585e53c049b8b52237aad6ed4dcf', 'request_id': 'u1zHsyBoYMN63n5CrL9OTwJkXQRKS7vi', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"72724313","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"u1zHsyBoYMN63n5CrL9OTwJkXQRKS7vi\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM20210224162728CMQ02MACQ8246442\\",\\"sign\\":\\"asJdXKh90KcU/nVqpnRpFNjY4c/guDMEZY77XTe4ZVWqSJzb2b30gEcHcfvCgOd9XSWyyeM3pwghX/OsCuJLtnDUJt9hYklN2bJ9ven9YXf8yNOWrgrywrG7ZCl7TxKmRwvfg9cpvZaWM111iIpYNdPgBn3CNyywZFCLv3cpL7k=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"NO_LOGIN_PAY\\",\\"sendTime\\":\\"1614155248926\\",\\"productDesc\\":\\"话费充值\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM20210224162728389\\",\\"orders\\":\\"NO_LOGIN_PAY0.0172724313u1zHsyBoYMN63n5CrL9OTwJkXQRKS7vi\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"72724313\\",\\"paySuccessTime\\":\\"2021-02-24 16:27:26\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"u1zHsyBoYMN63n5CrL9OTwJkXQRKS7vi","signType":"MD5","successResult":"OK","timeStamp":1614155248927,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 16, 27, 29), 'insert_time': datetime.datetime(2021, 2, 24, 16, 27, 29), 'update_time': datetime.datetime(2021, 2, 24, 16, 27, 29), 'extra_json': None, 'remark': None}
2021-02-24 16:27:26,516-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 16:28:40,605-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 16:28:40,893-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 16:28:40,936-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 16:28:40,936-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 16:28:40,944-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:28:40,948-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-24 16:28:40,949-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-24 16:28:40,952-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-24 16:28:40,952-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 16:28:40,955-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 16:28:40,956-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-24 16:28:40,959-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-24 16:28:41,930-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:28:41,934-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-24 16:28:41,934-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-24 16:28:41,938-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-24 16:28:41,938-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 16:28:41,939-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "iEeJ1yYhacT7pKdzI9CMgqo6xktQO8HU"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "0.01"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "0.01"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-24 16:28:42,506-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"aa7b6e9061394057ae277b871712f8a8\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241628450420407ea316757634ba870000\",\"sign\":\"3C9C9DE24E05462D07AE25E49A6FA84B\",\"timestamp\":\"1614155325\"}"
data {
  payRequestId: "RM20210224162844QAIZDDP2NA260622"
  payUrl: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"aa7b6e9061394057ae277b871712f8a8\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx241628450420407ea316757634ba870000\",\"sign\":\"3C9C9DE24E05462D07AE25E49A6FA84B\",\"timestamp\":\"1614155325\"}"
  parameters: "0000"
}

2021-02-24 16:28:42,507-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2134757935104154825107766940]]></transaction_id>
<nonce_str><![CDATA[7DYi2GuFpJQnWMsXqy19gIwP4E0a83rN]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[FAA0B6802A243121800FD63117A4B290]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210224162844QAIZDDP2NA260622]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224162842]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 16:28:46,405-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 16:28:46,405-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 16:28:46,413-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:28:46,413-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "16282399562518"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "lHzjIMceTsfaUL2hSv4rPud5BQtYqmV8"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:28:46,538-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "6487912f6d0542b3a59e4674d5711612"
s_p: "TUZhVFBHbkpwb014OVJKM0JaYTBsMUp6a25Qb0pENGtvTlFSSkRrcWs2U2d4bllSa0ROQ2RHRktTRGN0MnYxSTQ5elZCYVhrWlgxSWVoUElibUJKTk5yTUVUejNSeThBcnZBeWMydGtmVm5ybHNGOUxGVlhSakgxeEcwSlJvTmlvd2I3QzdKYWk2endMYTd1ZnFYNnVlbW5iZ2d2MHBCck1xRkFTRjJUOElqZ1d5SXgxRkx2Z2JCaEpIcDNVdGt0OW52UVg1clZLZjI0WHRyaTM2MU5ackpqelFrSnVETlVJRVJhWjhsUmxtQ1hQaW43bU1yQ0hUbVI3dk9rekVSYkhEVjNNNXhDNVBJbHk5dVN3Sk55dUxZbk8wRmhUQk5OS0NYa0gzWXo2Y01yZWRoQVJKQnhRbGFSMXVjVTF1SVNGOWxBRDhuTVVBbUdPbFFiNFZqa2lkTU9rSFM1R3VSTjl4QU92MzhzMlpXN2ROQ3BremZPMVNHd0JMZnNXRXZtaEFSeVJ2Q3psWXVQSmV2ZUxIOXpmb01EbjdqT1g2Vm90RzA5VlEyZDlOZVc3UlFhQjhwbmdORWRpRE1BdXZTMXFnS2lDREhFaVM0VklTdDJ6UUlLUXVUMkFOWWtNZWZnQWFtNXB6RlNaRXVCbTBjMlhiekpaNlBtRWNBMERSZGV0S0tiSTRYTUFHNGRubUlPWnNtaFJId1lQVTdwczdyRElQUmdyc1hlM0xiYWdzN1dPTFltcGdQRWRoZlhFaFMzQmR4MFhLQTR3b0ZjeWxmeU5VOXNrRUgwc0h2Qjc3R3BObXhaM01KRXRHdk9oNjlvQ3BqeUtDR0JUQm9NUGN1Y2VsbnBGcjU4TzJwZ0V4Q0hoM29TcnJ2Q3RyQUVGTDdRZ1UwdGtUeDFYaUpTbk5PVmRhSTVvSmF0ZjVpRW9NdTRZaGtIdk1XUnN3UTBhTEY2bGswWTh6THJnY2VQUVNMYU56SjR1SmZVVFoyYVJWNFNhc09IbTVWMG5Hb1FaczdqcDRqTnNSbTY4QTl4RTZkcHBFek5vZTMycXFzSUVmbVA="
m_p: "R20t0z8X58pqy73g74PX41p37X522S40P70lf6jQ20fR7lTthmSk03wT10RelE55"
e_t: "1614263329074"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 16:28:46,538-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:28:46,539-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "6487912f6d0542b3a59e4674d5711612"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "2v1I49zV"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210224162844QAIZDDP2NA260622"
version: "260"
queryType: "no_login"

2021-02-24 16:28:46,627-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 16:28:46,629-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "iEeJ1yYhacT7pKdzI9CMgqo6xktQO8HU"
2021-02-24 16:28:46,632-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 141035, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '72724313', 'notify_id': 'a79f4b5809a14cf7b95e3a4601deadde', 'request_id': 'iEeJ1yYhacT7pKdzI9CMgqo6xktQO8HU', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"72724313","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"iEeJ1yYhacT7pKdzI9CMgqo6xktQO8HU\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM20210224162844QAIZDDP2NA260622\\",\\"sign\\":\\"YFbKSNqVD66B9LRqdygG81RjgOIIqgMmjcE7crgJ21fvukUFXdDhBHbC1RE6ZrXeOkm7kL7S6qONCIwielp86sofOOgKNP/gIAc0cfIn8m9IByHhbGDRoBqYQllfUiNe/QmeJ8CPj1e1itsxQSKvR/71IDWNeJvZ10DjIOXlrrw=\\",\\"notify_url\\":\\"http://secure.pay-test3.wanyol.com/notify/receiver\\",\\"productName\\":\\"NO_LOGIN_PAY\\",\\"sendTime\\":\\"1614155328991\\",\\"productDesc\\":\\"话费充值\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM20210224162848632\\",\\"orders\\":\\"NO_LOGIN_PAY0.0172724313iEeJ1yYhacT7pKdzI9CMgqo6xktQO8HU\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"72724313\\",\\"paySuccessTime\\":\\"2021-02-24 16:28:42\\"}","reqUrl":"http://secure.pay-test3.wanyol.com/notify/receiver","requestId":"iEeJ1yYhacT7pKdzI9CMgqo6xktQO8HU","signType":"MD5","successResult":"OK","timeStamp":1614155328992,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 16, 28, 49), 'insert_time': datetime.datetime(2021, 2, 24, 16, 28, 49), 'update_time': datetime.datetime(2021, 2, 24, 16, 28, 49), 'extra_json': None, 'remark': None}
2021-02-24 16:28:46,632-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 16:31:00,362-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 16:31:00,637-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 16:31:00,680-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 16:31:00,680-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 16:31:00,689-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:31:00,692-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-24 16:31:00,694-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-24 16:31:00,696-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-24 16:31:00,697-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 16:31:00,700-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 16:31:00,701-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-24 16:31:00,704-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-24 16:31:01,502-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:31:01,505-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-24 16:31:01,505-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-24 16:31:01,508-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-24 16:31:01,509-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 16:31:01,509-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "KWehLEgJmOd0w7I2CviGl96q8BMsycHD"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "0.01"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "0.01"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-24 16:31:02,044-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"1ab111d659284d3e90b00636791ec22e\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24163104590161674e5d3a23afc7a90000\",\"sign\":\"C4DC8EBF1D8834EBD8CAD2C8B8D96BB0\",\"timestamp\":\"1614155464\"}"
data {
  payRequestId: "RM20210224163104IYCU91DCTK887112"
  payUrl: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"1ab111d659284d3e90b00636791ec22e\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24163104590161674e5d3a23afc7a90000\",\"sign\":\"C4DC8EBF1D8834EBD8CAD2C8B8D96BB0\",\"timestamp\":\"1614155464\"}"
  parameters: "0000"
}

2021-02-24 16:31:02,045-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[0050747300981547226192365484]]></transaction_id>
<nonce_str><![CDATA[dsC6t5F4IW78h1vrjZLNmpbeVSnfyOlX]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[37C5981F8D43E92D4CF517746C4086C3]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210224163104IYCU91DCTK887112]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224163102]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 16:31:02,142-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 16:31:02,142-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 16:31:02,150-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:31:02,150-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "43000056604485"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "keWL3Dbcnh5yoYxP10Tj2plRM6HZa4mI"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:31:02,239-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "74a59eb2af5a42bbbdec8e80b29f6fba"
s_p: "UXN4RWlRangwSEZibHpRVGlmSGx2TlBCS20yUnNTS0FkaGE3dU40ZnBVY0FOVE84TlFXaXE5WUJFQ0Fqd1BNYW5hNUd3R3N6QkRNR0Q4T3pKZnFZcndCZ1VhV0J0eWVocmpGU3V2RFl4bmVzSmttU1RodFROZmZaWktRSTNYV25vVTdvY05lWmJwMW84VTVaMEFqWUkwTFUyTmhKbWc4S1FYOTdQeEFpNkJ0RGlxZUc5RzJ1Und3WTg4UHBscGJxWXNxblg3alNzZzVnQVUyWlBzYW9hM01obXZ6dkVRekJubnJqU1Y1TDdrU2lXN0FTQUpicFFaQnNTb2d0TmJwZUtqQ1ZMTEc0YWJTWWtTZkdMWGRFUGJscmZLNWdIa25UT0g2ZzRJa3RNOXd6Tk5xSFRxY0c0RlJQektoRUhidlRtRDBLcjFjWmJNeEFhaXZNbkg3aXNPU1lXeUMxRFBBR0RMVjRleXBlY2VsbWZlRU1PUGVQTFozT0VsSmdFSThwSGM3b3BaMVNVWTFlSnFlaHJuUk1UR0VYTlc4NTZVNVFkSlVJV1BGSnlENDRJNEpXZkhmQ3BmelZ5Vmk2M3M1clUzUXZMVlFaVmp1OU5TVWt1SG5uOUlZdU55c3FPUHdRMGs2OTdWajIwY0FKTWJkZm5PenFoeXYwRkdjdWR2VnAwT3FVQXBTcU5pbFI2MzJ0Rkh5dHBHTmY5TVJKVkVyOGlFb1ZjRmRwenJtQkFHVWMyMXZwNVFOWExjWVNsTHlOb05qNXhla01qWG9PZWxoU0ZZemtwSWpIZ1VlNk1LS3FZYkNzWjlTN0U1bnNjRkxwcVVodFplclJ1WkJ5MXhyUGcwcVV6NDduTjI5Mkw2QzlhQXh6NEI1UzF3VVc2dmJDRDdPNmxOUFU3Y1JPRlNOY1ZGalJRQWppZFpJb01sSmZkQkNJNU5OR0lMd2IwZGNhNVJhdGhyYWUybHhMMXJ0eVZHY2FMcmRreHRMTzBXbkluNGxCTGpTTTVwaW41N1ZubXRwcDlMSlFCR0VNanlUZUxCTDRnT0pUeTVrU09la3A="
m_p: "O85Q4A7088vy41H332K7c0QBaTY03vCWH1fFhfkJ0jW2ULO31ghW08VL7mgW0nhn"
e_t: "1614263464803"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 16:31:02,240-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:31:02,240-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "74a59eb2af5a42bbbdec8e80b29f6fba"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "D8OzJfqY"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210224163104IYCU91DCTK887112"
version: "260"
queryType: "no_login"

2021-02-24 16:31:02,298-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 16:31:02,299-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "KWehLEgJmOd0w7I2CviGl96q8BMsycHD"
2021-02-24 16:31:02,303-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 141037, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '72724313', 'notify_id': '6fb31bf3081449d6bd4391f63f24d356', 'request_id': 'KWehLEgJmOd0w7I2CviGl96q8BMsycHD', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"72724313","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"KWehLEgJmOd0w7I2CviGl96q8BMsycHD\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM20210224163104IYCU91DCTK887112\\",\\"sign\\":\\"FTjSaG+ObLrK+2p7/Dm6gAyCLhSxbrS4zDdWM+v4/DBCFuM/1sImpF6nYBVIfU9xbMzThIhOv5irdRXdfv2m3sDmmv+Ut84gY7BkezeI2SRymmFnXsJnAxpeH6TAjauB4pBAGrW77wx84o64NR2KTzwoeKHWL93zPzuFThsqwyY=\\",\\"notify_url\\":\\"http://secure.pay-test3.wanyol.com/notify/receiver\\",\\"productName\\":\\"NO_LOGIN_PAY\\",\\"sendTime\\":\\"1614155464739\\",\\"productDesc\\":\\"话费充值\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM20210224163104679\\",\\"orders\\":\\"NO_LOGIN_PAY0.0172724313KWehLEgJmOd0w7I2CviGl96q8BMsycHD\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"72724313\\",\\"paySuccessTime\\":\\"2021-02-24 16:31:02\\"}","reqUrl":"http://secure.pay-test3.wanyol.com/notify/receiver","requestId":"KWehLEgJmOd0w7I2CviGl96q8BMsycHD","signType":"MD5","successResult":"OK","timeStamp":1614155464739,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 16, 31, 5), 'insert_time': datetime.datetime(2021, 2, 24, 16, 31, 5), 'update_time': datetime.datetime(2021, 2, 24, 16, 31, 5), 'extra_json': None, 'remark': None}
2021-02-24 16:31:02,303-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 16:31:16,729-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 16:31:17,009-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 16:31:17,050-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 16:31:17,050-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 16:31:17,058-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:31:17,061-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-24 16:31:17,062-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-24 16:31:17,065-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-24 16:31:17,066-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-24 16:31:17,069-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-24 16:31:17,070-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-24 16:31:17,073-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-24 16:31:17,428-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-24 16:31:17,432-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-24 16:31:17,432-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-24 16:31:17,435-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-24 16:31:17,437-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 16:31:17,437-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "dMTqtpCV9YxnuQP4BUaF7j2gR8KWLADI"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "0.01"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "0.01"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-24 16:31:17,815-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"601131939f9c42628489ca0eccf35a94\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24163120365480f64d7df39a01556f0000\",\"sign\":\"8A6FDF4238FCCD310A3F7F94725F3304\",\"timestamp\":\"1614155480\"}"
data {
  payRequestId: "RM20210224163120V2G35CSFAD751722"
  payUrl: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"601131939f9c42628489ca0eccf35a94\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx24163120365480f64d7df39a01556f0000\",\"sign\":\"8A6FDF4238FCCD310A3F7F94725F3304\",\"timestamp\":\"1614155480\"}"
  parameters: "0000"
}

2021-02-24 16:31:17,816-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4844956625890518152330073580]]></transaction_id>
<nonce_str><![CDATA[qSVMDFytc0uLxXCBlK9gwP4mAW6QdnpR]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[608D510C54F975F5C41DF29A605A4076]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210224163120V2G35CSFAD751722]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210224163117]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-24 16:31:17,920-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-24 16:31:17,920-INFO-wxpay-scarlet-57-回调解析成功
2021-02-24 16:31:17,928-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:31:17,928-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "71027966318932"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "PpWGvrO0yu8gC7co5xkXVDzH2T1jURmE"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 16:31:18,027-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0ae45c9572e94e4b9641a0321df10dd0"
s_p: "dDdIUHNBN2taR2VZMjhySVQ3anhkSlU0RDBRQ3hHekpSNXQ5d2owSnJSYmJYR1pMTEZDV2VDNmNtaEg0VjBsclNkVmhIRU8yenZKSmtXQk91dkFNZVA3alI4dFFYcU9RSDZsSmd4YnAxTzczaXFFbjFNMkpLZFhIYnQzTWw1WHpabHFMdDNRNEJVY00wbzRyRXJJbG5kQ05qMDA1UTJHQ1FtTGI1RzFudG5LNElsdTF4V25QZHUzN2hWUkJsM1QyZ1V2U0R1Qkx5RU1jVHFCelJHYktUSDJsTW1GMWdjU3AwVk5EREliMjYwOTZvUXFUNnZxQm83alhYMFFZMHlObGtsRkJtbTlFcURreGhacWZ3M3YyUWJFOU9ySjI2aXUzRG55a1gxaFpDMmlJVGFKSTJMZDNNNGpaVzhrR0toc0tmRDhlUTV5WUV0R1BMRHd0aWhtRjViajFHdHZSeGVkOG9nOVBlUkN3bzVYN3hWWE84MEtKZnAyaHJIUWJtQkZMS0VmMXMxYmgyTTFBQ2tFU1plOWZIREluTmV6MnNVWnN0Tld5Y2lqbWtSTHVoWnoxM0Y1RjRXdHBLcDlEMEN5QlhkcnA5OXFkY2tPaTc5bDFlOW9NS1RQSGxYazFpeTJBR0NRa2M1cUN4M0F2WUZvWE5ZdkZlQVVjS0NqUU85MjI5UzRhTXRxR1VNd1hxUzZKU2lHMlpXdmVYQVBpWFJJMlJmOHl2ZXk1RXhjWnpWTnZEczBVUnhhbmpuOENxcEF3NHU0a2dqcmFZazIwc2I1RWlVWmk3U0JTNDVOVGt2MGtTZm5oQXJHQmFWVVlMNUhCMGZiQzQ1OXdTYU1sM2g5djR0ZERsOTZxZWEyb2NxU2tiOUkyYlJicFowVVpFMDlybGFDTVFTWlc4YlZZV0Y0cDEyNmZWblBEeHlOSW9Dd1lYVzIyNnIzY1JlTDA2TnE5bkhCcTZTS1FERGhRcExBQjM2SGJIcW1LWXp4cTV1dGRQS0NCTXo0dGs3N1VvZUZsQ3EyeHlZWXVTeFdrU2x2VDc4dWxHOWQ3c1ZsMmNpTzY="
m_p: "3093BypuTn930WQYN68XHO9l5CGUt55Z4nUEG9Gj1D517ndh6Znc9aoqgCbG94fb"
e_t: "1614263480593"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 16:31:18,027-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 16:31:18,028-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "0ae45c9572e94e4b9641a0321df10dd0"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "VhHEO2zv"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210224163120V2G35CSFAD751722"
version: "260"
queryType: "no_login"

2021-02-24 16:31:18,101-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-24 16:31:18,102-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "dMTqtpCV9YxnuQP4BUaF7j2gR8KWLADI"
2021-02-24 16:31:18,106-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 141038, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '72724313', 'notify_id': 'e06e20bbad3f40dc9f523e578ae6eb54', 'request_id': 'dMTqtpCV9YxnuQP4BUaF7j2gR8KWLADI', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"72724313","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"dMTqtpCV9YxnuQP4BUaF7j2gR8KWLADI\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM20210224163120V2G35CSFAD751722\\",\\"sign\\":\\"Byi1cNnMLlg6Kzu/2uLaBCGXG7RnFzojDFpgT8R5V7AQxSIm5ETLDScPlBpxidXp0nWyByFz7KNn2HK/FykxRyeSYJrgvRirSylyMVmDoJq11aAi88tArt0ZYAsziHW8IKi7Ap3LZljdixVEzYCFCZROkUTZg6ka47gWCkQBVZg=\\",\\"notify_url\\":\\"http://secure.pay-test3.wanyol.com/notify/receiver\\",\\"productName\\":\\"NO_LOGIN_PAY\\",\\"sendTime\\":\\"1614155480520\\",\\"productDesc\\":\\"话费充值\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM2021022416312059\\",\\"orders\\":\\"NO_LOGIN_PAY0.0172724313dMTqtpCV9YxnuQP4BUaF7j2gR8KWLADI\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"72724313\\",\\"paySuccessTime\\":\\"2021-02-24 16:31:17\\"}","reqUrl":"http://secure.pay-test3.wanyol.com/notify/receiver","requestId":"dMTqtpCV9YxnuQP4BUaF7j2gR8KWLADI","signType":"MD5","successResult":"OK","timeStamp":1614155480520,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 24, 16, 31, 21), 'insert_time': datetime.datetime(2021, 2, 24, 16, 31, 21), 'update_time': datetime.datetime(2021, 2, 24, 16, 31, 21), 'extra_json': None, 'remark': None}
2021-02-24 16:31:18,106-INFO-lib.common_biz.fiz_assert-119-通知成功
2021-02-24 17:12:38,817-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 17:12:39,100-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 17:12:39,156-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 17:12:39,156-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 17:12:39,203-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101241407088040100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:12:39,236-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '请求参数不全', 'codeUrl': None, 'dnaChannel': '', 'code': '100001', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:02,200-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 17:17:02,439-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 17:17:02,480-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 17:17:02,480-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 17:17:02,506-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT pay_req_id, amount, partner_order, partner_code, pay_type FROM db_order_4.order_info_75 WHERE ssoid = '2076075925' AND STATUS = 'OK' AND refund=0 AND amount!="0" AND request_time > "2021-01-01 00:00:00"
2021-02-24 17:17:02,547-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '79638064924517716395919015949601', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '7f3d55f4fb36408d85b8145f42e94457', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101061818232076075925278842', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:02,566-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:02,571-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101061818232076075925278842"
2021-02-24 17:17:02,574-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '7f3d55f4fb36408d85b8145f42e94457', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:02,598-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'codeUrl': None, 'dnaChannel': '', 'code': '800011', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:02,611-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '02730433883715861393634487343860', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'ccaf74f496c2448f8bb54b2c80315b7e', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101141411522076075925377362', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:02,622-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:02,627-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101141411522076075925377362"
2021-02-24 17:17:02,630-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'ccaf74f496c2448f8bb54b2c80315b7e', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:02,662-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'codeUrl': None, 'dnaChannel': '', 'code': '800011', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:02,674-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '07607935102191184337894699632958', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '76de6a1966cd4ddcb723218912f38159', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101141446582076075925228132', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:02,685-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:02,690-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101141446582076075925228132"
2021-02-24 17:17:02,693-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '76de6a1966cd4ddcb723218912f38159', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:02,713-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'codeUrl': None, 'dnaChannel': '', 'code': '800011', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:02,726-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '58860306217669832919312443917314', 'partnerId': '2031', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '346aa15962b74f5287d272a6e2477761', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101141724392076075925206212', 'refundAmount': '300.0', 'refundReason': 'AUTO_TEST', 'payType': 'heepay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:02,737-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:02,742-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101141724392076075925206212"
2021-02-24 17:17:02,745-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '346aa15962b74f5287d272a6e2477761', 'notifyUrl': 'www.baidu.com', 'partnerCode': '2031', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '300.0', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:02,763-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'codeUrl': None, 'dnaChannel': '', 'code': '800011', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:02,776-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '60074091094224080887311972353034', 'partnerId': '2031', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'd154b30c28fe494e82f0a05b2222', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101151743402076075925825662', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:02,787-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:02,792-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101151743402076075925825662"
2021-02-24 17:17:02,795-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'd154b30c28fe494e82f0a05b2222', 'notifyUrl': 'www.baidu.com', 'partnerCode': '2031', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:02,802-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '请求参数不全', 'codeUrl': None, 'dnaChannel': '', 'code': '100001', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:02,815-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '52912471463762114915027487229598', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101151813198140100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101151813512076075925275362', 'refundAmount': '1000.0', 'refundReason': 'AUTO_TEST', 'payType': 'heepay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:02,827-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:02,831-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101151813512076075925275362"
2021-02-24 17:17:02,834-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101151813198140100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '1000.0', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:02,863-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'codeUrl': None, 'dnaChannel': '', 'code': '800011', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:02,877-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '45488213655064302517602299735578', 'partnerId': '2031', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '511f68f3112d4846a425a4bbb8c2a996', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101181151222076075925074752', 'refundAmount': '1000.0', 'refundReason': 'AUTO_TEST', 'payType': 'heepay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:02,888-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:02,893-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101181151222076075925074752"
2021-02-24 17:17:02,897-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '511f68f3112d4846a425a4bbb8c2a996', 'notifyUrl': 'www.baidu.com', 'partnerCode': '2031', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '1000.0', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:02,917-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'codeUrl': None, 'dnaChannel': '', 'code': '800011', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:02,930-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '05848253593070511319648904220202', 'partnerId': '2031', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'NV203113782656752021011812594366501018462507562050', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'RM202101181259432076075925748372', 'refundAmount': '20.0', 'refundReason': 'AUTO_TEST', 'payType': 'wxpay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:02,941-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:02,946-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "RM202101181259432076075925748372"
2021-02-24 17:17:02,956-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'NV203113782656752021011812594366501018462507562050', 'notifyUrl': 'www.baidu.com', 'partnerCode': '2031', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '20.0', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:03,191-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '微信订单号非法', 'codeUrl': None, 'dnaChannel': '', 'code': '1801', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:03,205-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '39422430772088478669625285236398', 'partnerId': '2031', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '0a313c804ff0401a80ab7d3e8fc3733', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'RM202101181528212076075925465322', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:03,215-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:03,220-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "RM202101181528212076075925465322"
2021-02-24 17:17:03,223-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '0a313c804ff0401a80ab7d3e8fc3733', 'notifyUrl': 'www.baidu.com', 'partnerCode': '2031', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:03,231-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '请求参数不全', 'codeUrl': None, 'dnaChannel': '', 'code': '100001', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:03,244-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '98325364320070443234239987257877', 'partnerId': '72724314', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '39c2356bc80e44d7b1ab6a6573156dae', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'RM202101181539002076075925637462', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:03,254-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:03,258-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "RM202101181539002076075925637462"
2021-02-24 17:17:03,261-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '39c2356bc80e44d7b1ab6a6573156dae', 'notifyUrl': 'www.baidu.com', 'partnerCode': '72724314', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:03,270-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '请求参数不全', 'codeUrl': None, 'dnaChannel': '', 'code': '100001', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:03,283-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '36885507504053615861704904860729', 'partnerId': '72724314', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '9e268d3bc85242bf86d3d3e1b943a5c5', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'RM202101181558212076075925007372', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:03,294-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:03,298-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "RM202101181558212076075925007372"
2021-02-24 17:17:03,301-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '9e268d3bc85242bf86d3d3e1b943a5c5', 'notifyUrl': 'www.baidu.com', 'partnerCode': '72724314', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:03,310-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '请求参数不全', 'codeUrl': None, 'dnaChannel': '', 'code': '100001', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:03,323-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '88174152940002675511492889918585', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '712561c34a814eb4aacc0b5f6b2c0d89', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101181745172076075925004082', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:03,335-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:03,340-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101181745172076075925004082"
2021-02-24 17:17:03,343-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '712561c34a814eb4aacc0b5f6b2c0d89', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:03,362-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'codeUrl': None, 'dnaChannel': '', 'code': '800011', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:03,375-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '07823159670302454932450028876894', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'b1150bfeb7a74344b87a64f850d093b9', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101211010512076075925380782', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:03,388-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:03,393-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101211010512076075925380782"
2021-02-24 17:17:03,395-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'b1150bfeb7a74344b87a64f850d093b9', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:03,413-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'codeUrl': None, 'dnaChannel': '', 'code': '800011', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:03,427-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '16150149501402141205691664524655', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'f06e2332cfe14320bd2c27c8647fe3ff', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101211125272076075925880872', 'refundAmount': '0.01', 'refundReason': 'AUTO_TEST', 'payType': 'alipay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:03,441-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:03,446-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101211125272076075925880872"
2021-02-24 17:17:03,449-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'f06e2332cfe14320bd2c27c8647fe3ff', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '0.01', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:03,469-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'codeUrl': None, 'dnaChannel': '', 'code': '800011', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:03,483-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '05064825666185594269287966203328', 'partnerId': '2031', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '59b626ab50714c97945b7c5588d99349', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101211448552076075925063112', 'refundAmount': '10.0', 'refundReason': 'AUTO_TEST', 'payType': 'heepay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:03,494-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:03,499-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101211448552076075925063112"
2021-02-24 17:17:03,502-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '59b626ab50714c97945b7c5588d99349', 'notifyUrl': 'www.baidu.com', 'partnerCode': '2031', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '10.0', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:03,553-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '', 'codeUrl': None, 'dnaChannel': '', 'code': '1801', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:03,566-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '79118291128993078290846868116208', 'partnerId': '2031', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '5dd7414896914e94a736a0e9724ae208', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101211516162076075925602282', 'refundAmount': '100.0', 'refundReason': 'AUTO_TEST', 'payType': 'heepay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:03,576-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:03,581-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101211516162076075925602282"
2021-02-24 17:17:03,584-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '5dd7414896914e94a736a0e9724ae208', 'notifyUrl': 'www.baidu.com', 'partnerCode': '2031', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '100.0', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:03,618-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': "fail to substract user's cocoin", 'codeUrl': None, 'dnaChannel': '', 'code': '2018', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:03,634-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '97521097943067539604654514873730', 'partnerId': '2031', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '7ff43a0bfd7e4bbdaf02749ae099c42b', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101211615252076075925318142', 'refundAmount': '100.0', 'refundReason': 'AUTO_TEST', 'payType': 'heepay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:03,644-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:03,649-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101211615252076075925318142"
2021-02-24 17:17:03,652-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '7ff43a0bfd7e4bbdaf02749ae099c42b', 'notifyUrl': 'www.baidu.com', 'partnerCode': '2031', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '100.0', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:03,685-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': "fail to substract user's cocoin", 'codeUrl': None, 'dnaChannel': '', 'code': '2018', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:03,699-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '11847842873341720750235340603413', 'partnerId': '2031', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': '72c6e0481feb4fc09a6d082aeb173798', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101211950302076075925881452', 'refundAmount': '50.0', 'refundReason': 'AUTO_TEST', 'payType': 'heepay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:03,709-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:03,713-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101211950302076075925881452"
2021-02-24 17:17:03,716-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': '72c6e0481feb4fc09a6d082aeb173798', 'notifyUrl': 'www.baidu.com', 'partnerCode': '2031', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '50.0', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:03,752-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '', 'codeUrl': None, 'dnaChannel': '', 'code': '1801', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:03,766-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '79796371159012736150643645797875', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101212001489140100320000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101212002262076075925477822', 'refundAmount': '50.0', 'refundReason': 'AUTO_TEST', 'payType': 'heepay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:03,776-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:03,781-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101212002262076075925477822"
2021-02-24 17:17:03,784-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101212001489140100320000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '50.0', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:03,818-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '', 'codeUrl': None, 'dnaChannel': '', 'code': '1801', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:03,832-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '58036437819554890757289037099588', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101221440277070100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101221443532076075925485642', 'refundAmount': '50.0', 'refundReason': 'AUTO_TEST', 'payType': 'heepay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:03,841-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:03,846-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101221443532076075925485642"
2021-02-24 17:17:03,849-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101221440277070100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '50.0', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:03,875-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '退款失败', 'codeUrl': None, 'dnaChannel': '', 'code': '800011', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:03,889-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '42252314820371926025451411424122', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101221510500410100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101221511052076075925464312', 'refundAmount': '50.0', 'refundReason': 'AUTO_TEST', 'payType': 'heepay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:03,900-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:03,904-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101221511052076075925464312"
2021-02-24 17:17:03,907-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101221510500410100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '50.0', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 17:17:03,942-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'msg': '', 'codeUrl': None, 'dnaChannel': '', 'code': '1801', 'mobile': '', 'queryResultJsonString': None, 'discountAmount': '', 'payrequestid': '', 'discountInfo': None, 'transType': None, 'origAmount': None, 'signType': None, 'model': '', 'paytype': '', 'qrcodeUrl': None}
2021-02-24 17:17:03,956-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke RefundLogic.approvalRefund({'fileUrl': '', 'applyAccount': '80264408', 'batchNo': '09486532674215522821710777186668', 'partnerId': '5456925', 'approveType': 'CASH', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundCommonInfo'},[{'partnerOrder': 'GC202101221537409580100330000', 'notifyUrl': 'wwww.baidu.com', 'payReqId': 'KB202101221537562076075925404452', 'refundAmount': '50.0', 'refundReason': 'AUTO_TEST', 'payType': 'heepay', 'class': 'com.oppo.pay.order.facade.dto.BatchRefundRecord'}])
2021-02-24 17:17:03,967-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': None, 'success': True, 'errorDetail': None, 'resCode': '000000', 'resMsg': '成功'}
2021-02-24 17:17:03,971-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：UPDATE `db_order_0`.`refund_record` SET audit_status = 2 ,finance_status = 2 WHERE pay_req_id = "KB202101221537562076075925404452"
2021-02-24 17:17:03,974-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke IFacade.simpleRefund({'partnerOrderId': 'GC202101221537409580100330000', 'notifyUrl': 'www.baidu.com', 'partnerCode': '5456925', 'refundType': 'APPROVE_PROCESS', 'payReqId': '', 'payType': '', 'refundAmount': '50.0', 'refundId': '', 'class': 'com.keke.dispatcher.inative.entity.SimpleRefundEntity'})
2021-02-24 20:03:09,876-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 20:03:10,192-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 20:03:10,234-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 20:03:10,234-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 20:03:18,008-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 20:03:18,009-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "29459543333389"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "dIDSGU1LuQNg4a8FfmkZBVcbECs9HepX"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 20:03:19,467-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d5d05b6c02724d46820369b3049cf1ae"
s_p: "SjV3WWNwc2VTOXptTlh3Rno1b3BnNGJjUGlOQTZvV1BiR1pyYVYxNHl0Q1JpbDJzeVl4Q0U0c0dBUmd2akZWckJ3ZjNLRkJTcVF5Yzl6V0lNeUZsc2lhUTBUOG1BWE4yMUZNQVFLMGdFSzNEM21qZWxLc2Nvc0tIUXJvbmZVMkdkVVVHNXJ1RGdMODVjeXZTWVRLYkZEZVREZnIzY2ZJOTBKaHF2TDlSelNtT015U0hWOWdMQnNUdnp5ZjZocHdaZ0lwOHYzU1ZCSFZNWkZsNFZFd2FaWUpTMGpTYWF1WEl2M2dZRHhKc0lZM3hRY256dkxKU3p1S3k1aHNncUpmS01mRE9JZzczeFhoVVUyUFpNZGh3MFhha2ZqaXF2NXBod2tOWllGMWwyd1QxejNubGtzWVU4QTN2SkxCTzBUTlJEWUoxdHZwV0M0RnFjNHhGQ0pic0pIN1BZOGxmdDhkYmpYRXdyeHlvTUxtbTFIc090bWxLQlY3WFN3d2RCTmR1bDVyWllLakN6UHo5RUFyamNNdXpZTjZLOXRPVWdsTkdiWlF3QVlJd3R5QU9EdEg5S1J1T2dxZk1DTnVlRUVSV2J1WTBkY2hjdXNqSHU2dXJpU0tnQkZVSWdCWENibER1UVVyQjFuRGE1V3BxemthMTVRVzNWd1g3b2o3SUxKTHRrUVAwRU9SYjNnbkpLdG9kTXRkTHdTZllHVkQ0S1dIa0c2SGNpNGZjdkdSS05ZUGdPbnZ5T3NJQ2RmYkI2ek1NeVIzb2RwSk9jb1ZheU12MXE1UVJBN21sZ3I5NW5TNFN4NWkyWVFDVDhpQU5Qd0toemxuN0V3VEZ1b01uMTd5cVg3R09sR2ZLVEpvMllqNXFDUDNGTDNlWmp6d0Y2RUY2dEE1RFBJRm9XVlR6cjdueDZENmg1UEw0N0NLeFVoakZXQ3JGQU5lZGFrQ2dTWlk5RlhjSEx6QVJCbTQ1d1Brbzc1R2d2Nkk4RTZIZ1pTZmNHcDhyaDIzMkdFc0JwSTd5RGdMamFWTVN3UDJUZjM1eFJSVTNHckw4UkdseWJmOXE="
m_p: "6923233f3zY1e4yi9sdS74BJQ09jhcYkJ8mM3sSv9Br0b2S032Q1HsDK0D37ND2r"
e_t: "1614276202014"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 20:03:19,474-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 20:03:19,474-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "2GdUUG5r"
  sign: "65BBC202189FA6B11849A0780DED734F"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "HLKnpQhNdPvX4UVW6AEBqeg1b5OjcwJf"
partnerId: "9809089"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100.0"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "\345\205\205\345\200\274\345\271\266\346\266\210\350\264\271"
  desc: "\345\205\205\345\200\274\345\271\266\346\266\210\350\264\271"
  priceLocal: "100.0"
}
notifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 20:03:21,144-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
data {
  payRequestId: "VN202102241203232076075925154313"
  payUrl: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241203232076075925154313&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
  parameters: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241203232076075925154313&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
}

2021-02-24 20:11:43,507-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 20:11:43,781-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 20:11:43,824-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 20:11:43,824-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 20:11:44,022-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 20:11:44,022-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 20:11:44,022-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "27567173148146"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "P0RcJX1mYqKzNsdw7LyS6Hj8QD9BrbUu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 20:11:44,022-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "27567173148146"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "P0RcJX1mYqKzNsdw7LyS6Hj8QD9BrbUu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 20:11:44,025-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): secure.pay-test3.wanyol.com:80
2021-02-24 20:11:44,161-DEBUG-urllib3.connectionpool-393-http://secure.pay-test3.wanyol.com:80 "POST /tksv/post/pass HTTP/1.1" 200 1500
2021-02-24 20:11:44,162-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5997c16aa49c4565a1034da62711c792"
s_p: "R0ZBcG5rTUY3RVRaTm9tbmRHUmVKeTJ0enVaZzJGVFM0Zk9vSVIzZnF2OTZVM2gxZ2hTeFowNzVqMEtPbFNQdUpQZXJONG04SlMxNzVxdmtvZ3RuN1ZJOUR5Y0RJWWpMMHVNcll4MjA3aVZnVnJxTkVVUTB4QTBKZ0lnNnVFcW5Bdkc2OWVSVFF4b1FZWGZjUXllSlVnWVQzczF5Ynk5NE01ZWJWS1NBek90ZlphT29Ib3VmQ2ZKOXBZNDNVczduNWFuaVlWaEdOQ2p3dEk2WkttNzdFZ1ViZzdwa3R1SXdQT3hTbXMwM1V6WkF3YVR6blR4cllMVDdYRnVSQ04xT0JkYVdaeHhHQmh6U3lSdERYVlB6UW1Ld3pUNEQ0YXpzcVBWUnAwa2lNMW52T3hsWDBKR3NtdU1hOWNnUVI3U0NJNnA2a0VjcEFnZ2tDMlBSalVLQWJaekltYWozaVhGUDNacllDYUJBdGRzYWdOWFRpdWdFSlNWVTZwb1FnczdhT2wwVzg0MERUZ3JTSUkxZzlNMVpUamhKd09wdzlhaDl4V0F3MGlGWmRqSko0aUFMdENNelJnS1pYUUpoZEFiSTl3a251WFVRclh2TklIWXlrcE5PcllWZWdkWENwMUhYUmdFNURGUXRJSlNjNVBwaFNhV1pPR2lLY21wOEY5OE81dnBmcURoczZaQlJGN3U5WVRQcnFnZVFaaU15UGdDdFdNUVdsYjlaVDUwT1NLbmZ0QUpqdGdEQmVGUGhWZmxZRDFGUDlkazA5ODhTS21vWDNHa2FGeGtyQ1ZLT1R5cGtMZ2pzd28xTFZQV3ViNTN0TzY4N2dGMXdpeEQ4VmhDTWJxbmlVQllJTGJVYTRvVnRWUzJQR0tRSlh1MU1pQldRVXNDVXd5VDlDVUZIbFh4V205dFk5UEtEdFdjQkFIRDV4S1VKd1p4ZGJtNEY4cmk0VlV3SWFiYjR2MEJMbGJzZlVZZW8yM0ltTkFienJxRWdQNUh1VFFWbGFBNFp2RGV3NFhUYUdjZ3pDTkpTMFFKdU1nTlM4VzB6bEk3ZDB4R3A="
m_p: "75AcK228F39aTChiM5s0ECI0bw3aU5XoK5B95398si9T1wVon64au0H2nS9lMG48"
e_t: "1614276706714"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 20:11:44,162-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5997c16aa49c4565a1034da62711c792"
s_p: "R0ZBcG5rTUY3RVRaTm9tbmRHUmVKeTJ0enVaZzJGVFM0Zk9vSVIzZnF2OTZVM2gxZ2hTeFowNzVqMEtPbFNQdUpQZXJONG04SlMxNzVxdmtvZ3RuN1ZJOUR5Y0RJWWpMMHVNcll4MjA3aVZnVnJxTkVVUTB4QTBKZ0lnNnVFcW5Bdkc2OWVSVFF4b1FZWGZjUXllSlVnWVQzczF5Ynk5NE01ZWJWS1NBek90ZlphT29Ib3VmQ2ZKOXBZNDNVczduNWFuaVlWaEdOQ2p3dEk2WkttNzdFZ1ViZzdwa3R1SXdQT3hTbXMwM1V6WkF3YVR6blR4cllMVDdYRnVSQ04xT0JkYVdaeHhHQmh6U3lSdERYVlB6UW1Ld3pUNEQ0YXpzcVBWUnAwa2lNMW52T3hsWDBKR3NtdU1hOWNnUVI3U0NJNnA2a0VjcEFnZ2tDMlBSalVLQWJaekltYWozaVhGUDNacllDYUJBdGRzYWdOWFRpdWdFSlNWVTZwb1FnczdhT2wwVzg0MERUZ3JTSUkxZzlNMVpUamhKd09wdzlhaDl4V0F3MGlGWmRqSko0aUFMdENNelJnS1pYUUpoZEFiSTl3a251WFVRclh2TklIWXlrcE5PcllWZWdkWENwMUhYUmdFNURGUXRJSlNjNVBwaFNhV1pPR2lLY21wOEY5OE81dnBmcURoczZaQlJGN3U5WVRQcnFnZVFaaU15UGdDdFdNUVdsYjlaVDUwT1NLbmZ0QUpqdGdEQmVGUGhWZmxZRDFGUDlkazA5ODhTS21vWDNHa2FGeGtyQ1ZLT1R5cGtMZ2pzd28xTFZQV3ViNTN0TzY4N2dGMXdpeEQ4VmhDTWJxbmlVQllJTGJVYTRvVnRWUzJQR0tRSlh1MU1pQldRVXNDVXd5VDlDVUZIbFh4V205dFk5UEtEdFdjQkFIRDV4S1VKd1p4ZGJtNEY4cmk0VlV3SWFiYjR2MEJMbGJzZlVZZW8yM0ltTkFienJxRWdQNUh1VFFWbGFBNFp2RGV3NFhUYUdjZ3pDTkpTMFFKdU1nTlM4VzB6bEk3ZDB4R3A="
m_p: "75AcK228F39aTChiM5s0ECI0bw3aU5XoK5B95398si9T1wVon64au0H2nS9lMG48"
e_t: "1614276706714"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 20:11:56,615-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 20:11:56,916-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 20:11:56,960-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 20:11:56,960-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 20:11:57,137-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 20:11:57,137-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 20:11:57,137-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "30961815555086"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "VAlNauwB3tTvKnPjL1xZmqWFb9eEsGcY"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 20:11:57,137-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "30961815555086"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "VAlNauwB3tTvKnPjL1xZmqWFb9eEsGcY"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 20:11:57,140-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): secure.pay-test3.wanyol.com:80
2021-02-24 20:11:57,222-DEBUG-urllib3.connectionpool-393-http://secure.pay-test3.wanyol.com:80 "POST /tksv/post/pass HTTP/1.1" 200 1500
2021-02-24 20:11:57,222-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d1f73c63601140ccaa7ec4f296b6e5f8"
s_p: "aXhlb3UxYmpCWUg3V2tJTVZESUxxbmtYekFFRWRKYVJXTEZaNXBoQjFTOTdiSG1FaDB4RXpCaVVadjNhYWp3Y2Q0UzFSMk5CRm5GMTRIYllwVkVtcGRHSWg1dENNc2tSVFJpMjFnQmE3SE9IbVkxazVla21IRjRGNGM0VDVIR3BxY0QyZGxiVVZhZEZLcGRxZlJpU1c4aUZNQlpzdHJZUkpmZWRTRW03V1dGckVmVHpqQUFxS0dFc2wyZlZnaUxIUmNKcWk5bjZrQVdQQlhOOVl4ZFB3SHh6MUhUeEdIMVA5QkNrb1E4eGxCcnc2S0hrWXVoQVo2MXZRYUttMXltc01QR3REejRTQzVkdFA1WDlsb3d1WnRJczI3c1NQVFI5UnROUHIyZVQzNjUyajE5QlVlMWRjZnVVeWM2VXN2QUFmZENVSldTcXNMUURmZnZlVG1iVFpOdWE1QjFWUzIycnNzZmVVbDNQV1hPOTFZcXkyYmU3cWdrR3A4ZVF0dzdhR2liRmQ3OWlCZXlYVUsxOFFkQjBwTGJva0VnZmZFWlNLQTNTcE45OGZNdUN0UUJFMXJoWHcxOHh5ZG5ZYXhJNFVlRElDcU91c1A2aU1PYzFyZEQ2dnR6R0RDZTFJV2ptOWRJTElIUFJ4bzRCRXhWZ1pxY0pvS090RW5QMnpxNGVYbDlaMGl3UVFQeXlLaHdZZFl0blZES2FLbGNiTHEwSHlFWDEzZVFZN21KQ1FwSHVEVjhDV3h2Mk5JZGRESkhWTDZsMDhLVkI1MEJSTDdPWk9Ca1YxZHRLeHoya2dHOVlmeFo3Tzd6WlNISEdDUlQyc3FBVlhlY3FnN01YYUNiaHpyOGVSQXlqYUVvVHV3dTRQV1BTRHR3Q0NZTnhZcEpsZWNZSENTNDBVUk0wT0RJd3FuRXR4QVFiMHlpNHdTSGNUZ1AxeW53V3FtdUJVN1BFMWwxTVVncVRlaG1EVERQWXhwREJuNU1WUVRVRzY3eDVNY2pZb0ROV08yeVc0dExtQ2xrSDU0SzhkSTZSanNzY051cmxvc29waEFEeGtvUGE="
m_p: "760k5lTx1C51gro0O0MHGu9AGm4mO6xE8zF12054H64e003lapw4hFj3uh1s8Box"
e_t: "1614276719818"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 20:11:57,222-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d1f73c63601140ccaa7ec4f296b6e5f8"
s_p: "aXhlb3UxYmpCWUg3V2tJTVZESUxxbmtYekFFRWRKYVJXTEZaNXBoQjFTOTdiSG1FaDB4RXpCaVVadjNhYWp3Y2Q0UzFSMk5CRm5GMTRIYllwVkVtcGRHSWg1dENNc2tSVFJpMjFnQmE3SE9IbVkxazVla21IRjRGNGM0VDVIR3BxY0QyZGxiVVZhZEZLcGRxZlJpU1c4aUZNQlpzdHJZUkpmZWRTRW03V1dGckVmVHpqQUFxS0dFc2wyZlZnaUxIUmNKcWk5bjZrQVdQQlhOOVl4ZFB3SHh6MUhUeEdIMVA5QkNrb1E4eGxCcnc2S0hrWXVoQVo2MXZRYUttMXltc01QR3REejRTQzVkdFA1WDlsb3d1WnRJczI3c1NQVFI5UnROUHIyZVQzNjUyajE5QlVlMWRjZnVVeWM2VXN2QUFmZENVSldTcXNMUURmZnZlVG1iVFpOdWE1QjFWUzIycnNzZmVVbDNQV1hPOTFZcXkyYmU3cWdrR3A4ZVF0dzdhR2liRmQ3OWlCZXlYVUsxOFFkQjBwTGJva0VnZmZFWlNLQTNTcE45OGZNdUN0UUJFMXJoWHcxOHh5ZG5ZYXhJNFVlRElDcU91c1A2aU1PYzFyZEQ2dnR6R0RDZTFJV2ptOWRJTElIUFJ4bzRCRXhWZ1pxY0pvS090RW5QMnpxNGVYbDlaMGl3UVFQeXlLaHdZZFl0blZES2FLbGNiTHEwSHlFWDEzZVFZN21KQ1FwSHVEVjhDV3h2Mk5JZGRESkhWTDZsMDhLVkI1MEJSTDdPWk9Ca1YxZHRLeHoya2dHOVlmeFo3Tzd6WlNISEdDUlQyc3FBVlhlY3FnN01YYUNiaHpyOGVSQXlqYUVvVHV3dTRQV1BTRHR3Q0NZTnhZcEpsZWNZSENTNDBVUk0wT0RJd3FuRXR4QVFiMHlpNHdTSGNUZ1AxeW53V3FtdUJVN1BFMWwxTVVncVRlaG1EVERQWXhwREJuNU1WUVRVRzY3eDVNY2pZb0ROV08yeVc0dExtQ2xrSDU0SzhkSTZSanNzY051cmxvc29waEFEeGtvUGE="
m_p: "760k5lTx1C51gro0O0MHGu9AGm4mO6xE8zF12054H64e003lapw4hFj3uh1s8Box"
e_t: "1614276719818"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 20:11:57,227-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 20:11:57,227-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 20:11:57,227-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "h5tCMskR"
  sign: "DBBEEE165F65CF9D6C26AF516D10DAF2"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "Q16ukMXP4wI35jdBEFbrU0zmt7iOxJln"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 20:11:57,227-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "h5tCMskR"
  sign: "DBBEEE165F65CF9D6C26AF516D10DAF2"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "Q16ukMXP4wI35jdBEFbrU0zmt7iOxJln"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 20:11:57,228-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): pay.pay-overseas-test.wanyol.com:80
2021-02-24 20:11:57,831-DEBUG-urllib3.connectionpool-393-http://pay.pay-overseas-test.wanyol.com:80 "POST /plugin/cocoin/recharge/spend HTTP/1.1" 200 545
2021-02-24 20:11:57,832-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
data {
  payRequestId: "VN202102241212002076075925044143"
  payUrl: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241212002076075925044143&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
  parameters: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241212002076075925044143&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
}

2021-02-24 20:11:57,832-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
data {
  payRequestId: "VN202102241212002076075925044143"
  payUrl: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241212002076075925044143&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
  parameters: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241212002076075925044143&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
}

2021-02-24 20:23:44,390-INFO-upay-scarlet-58-<!doctype html><html lang="en"><head><title>HTTP Status 405 – Method Not Allowed</title><style type="text/css">h1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} h2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} h3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} body {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} b {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} p {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;} a {color:black;} a.name {color:black;} .line {height:1px;background-color:#525D76;border:none;}</style></head><body><h1>HTTP Status 405 – Method Not Allowed</h1><hr class="line" /><p><b>Type</b> Status Report</p><p><b>Message</b> Request method 'POST' not supported</p><p><b>Description</b> The method received in the request-line is known by the origin server but not supported by the target resource.</p><hr class="line" /><h3>Apache Tomcat/8.5.23</h3></body></html>
2021-02-24 20:23:55,032-INFO-upay-scarlet-58-{"msg":"SUCCESS","code":"200"}
2021-02-24 20:25:25,098-INFO-upay-scarlet-58-<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" isELIgnored="false"%>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
	<h2>404! 您试图访问的页面未找到.</h2>
</body>
</html>

2021-02-24 20:26:03,777-INFO-upay-scarlet-59-{"msg":"SUCCESS","code":"200"}
2021-02-24 20:26:35,529-INFO-upay-scarlet-59-{"msg":"SUCCESS","code":"200"}
2021-02-24 20:26:58,692-INFO-upay-scarlet-59-{"msg":"SUCCESS","code":"200"}
2021-02-24 20:27:22,961-INFO-upay-scarlet-59-{"msg":"SUCCESS","code":"200"}
2021-02-24 20:32:51,055-INFO-upay-scarlet-59-{"msg":"SUCCESS","code":"200"}
2021-02-24 20:34:33,356-INFO-upay-scarlet-59-{"msg":"SUCCESS","code":"200"}
2021-02-24 20:35:13,900-INFO-upay-scarlet-59-<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" isELIgnored="false"%>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
	<h2>404! 您试图访问的页面未找到.</h2>
</body>
</html>

2021-02-24 20:35:27,890-INFO-upay-scarlet-59-{"msg":"SUCCESS","code":"200"}
2021-02-24 22:51:47,102-INFO-upay-scarlet-59-{"msg":"SUCCESS","code":"200"}
2021-02-24 22:52:02,626-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 22:52:02,899-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 22:52:02,953-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 22:52:02,953-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 22:52:04,118-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 22:52:04,118-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 22:52:04,118-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "06315604406235"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ecWCxngvwQZHkA5Vm8E1fFRMabKuXzij"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 22:52:04,118-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "06315604406235"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ecWCxngvwQZHkA5Vm8E1fFRMabKuXzij"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 22:52:04,121-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): secure.pay-test3.wanyol.com:80
2021-02-24 22:52:04,362-DEBUG-urllib3.connectionpool-393-http://secure.pay-test3.wanyol.com:80 "POST /tksv/post/pass HTTP/1.1" 200 1500
2021-02-24 22:52:04,362-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "59f5e6e61555403f849a1222e16b8204"
s_p: "SlV2UDBvUzRkangxa0NxMVIyZnRzZVU2WFRjb05TZWlEYXBGM2VQSlN5NDVjcjhDdnRYdzd0aTlBeTdIRWI1UUFLMWlJb2tSaEY0NUw1OFRJYVVnbzlHbGp2S1dnT2o4VFJ3MEJPZDY1MEVDYm1HcFRsdTRwZkNLVXY5a0szYUc0WmppeEkzYTRVNTNYcWE0Z1pQZm5Wd2N0enNQM3VTMHlxbnZlUXB0MUdUZ1pKMnNnRFVYcHRlR09tR2pXUHllNVRxVzVVaTJocklPR28zU0pQUGRRT3FNODBJZ0tRblp0cWU4ZUJycThhdk9xblFpVkF4YU5POGdmazVtdUk3NG1lUlBVUzdRWDVUS2lJTk91eXQyc1ZHNUd6SnRMdUFta2tiSkpwQUE4MUlsenpHYm1PMUVCejJGS3RHRFpQWEZGSTRadVIzN3I3Q3FBeThQaElQekxjbVluTnZEaVhhdVg3VjNOMXNZTkNXQTNSV1d6eXlOd1FZa3dtUmxkMWRVNmU0QmZOamI2THhaSWZHVnlIVjF3bExxWWZRQnNodHYyd29OeFNabWQ1OVE2c0E2T1g4cVNpTFZ6UGMySDNYajFFQ2lTSEt2RUN4Z1E2eVB0bGtsV2hnNGJORWxKeEJ5Smw0WHpTVmlWeFlIM1Z2c2hYc1d0YzFsWVlQejZYcldHTTlCUkJ3NkdEUXdzSlVkRXZHOHBIZkxlaXdSQjFOYUtSNWdMNGpSRHN5czlIdkhwR0FBMEFvZEdxZloxQXdtR3J2Rm5ySjZkOWdicWhlMUFpMUFqTUVGdEJ3enpxWkxPTjZoNjdqOVlFZXdtcHVkMmNlaGdIUGZsMjg0WXhvVjkxdGVrb3hFSmRNNjBuc04wOFZIYnZlakJFaXQ1Z0FDMnFUNVlpdktDVldmTjJNeGloOWhyS29mcXBFeFBldjdEYVdEQ2pjOXZqME1oS3VMSHNaUjdNemdPU2tYZEpIMk5GeTZ2QzhyRnZkSzV1UUFheE50dEk3YktlT2JnaVB6VHlQelBETXlRNUMyeUZYSHpmSEJwNFhNbVFBS2JCZnk="
m_p: "qir32jSbo339X5443Y2525jLwug05r31f0E6E2YAyYPmFFB7kz1XNgX6os0usYvL"
e_t: "1614286326921"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 22:52:04,362-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "59f5e6e61555403f849a1222e16b8204"
s_p: "SlV2UDBvUzRkangxa0NxMVIyZnRzZVU2WFRjb05TZWlEYXBGM2VQSlN5NDVjcjhDdnRYdzd0aTlBeTdIRWI1UUFLMWlJb2tSaEY0NUw1OFRJYVVnbzlHbGp2S1dnT2o4VFJ3MEJPZDY1MEVDYm1HcFRsdTRwZkNLVXY5a0szYUc0WmppeEkzYTRVNTNYcWE0Z1pQZm5Wd2N0enNQM3VTMHlxbnZlUXB0MUdUZ1pKMnNnRFVYcHRlR09tR2pXUHllNVRxVzVVaTJocklPR28zU0pQUGRRT3FNODBJZ0tRblp0cWU4ZUJycThhdk9xblFpVkF4YU5POGdmazVtdUk3NG1lUlBVUzdRWDVUS2lJTk91eXQyc1ZHNUd6SnRMdUFta2tiSkpwQUE4MUlsenpHYm1PMUVCejJGS3RHRFpQWEZGSTRadVIzN3I3Q3FBeThQaElQekxjbVluTnZEaVhhdVg3VjNOMXNZTkNXQTNSV1d6eXlOd1FZa3dtUmxkMWRVNmU0QmZOamI2THhaSWZHVnlIVjF3bExxWWZRQnNodHYyd29OeFNabWQ1OVE2c0E2T1g4cVNpTFZ6UGMySDNYajFFQ2lTSEt2RUN4Z1E2eVB0bGtsV2hnNGJORWxKeEJ5Smw0WHpTVmlWeFlIM1Z2c2hYc1d0YzFsWVlQejZYcldHTTlCUkJ3NkdEUXdzSlVkRXZHOHBIZkxlaXdSQjFOYUtSNWdMNGpSRHN5czlIdkhwR0FBMEFvZEdxZloxQXdtR3J2Rm5ySjZkOWdicWhlMUFpMUFqTUVGdEJ3enpxWkxPTjZoNjdqOVlFZXdtcHVkMmNlaGdIUGZsMjg0WXhvVjkxdGVrb3hFSmRNNjBuc04wOFZIYnZlakJFaXQ1Z0FDMnFUNVlpdktDVldmTjJNeGloOWhyS29mcXBFeFBldjdEYVdEQ2pjOXZqME1oS3VMSHNaUjdNemdPU2tYZEpIMk5GeTZ2QzhyRnZkSzV1UUFheE50dEk3YktlT2JnaVB6VHlQelBETXlRNUMyeUZYSHpmSEJwNFhNbVFBS2JCZnk="
m_p: "qir32jSbo339X5443Y2525jLwug05r31f0E6E2YAyYPmFFB7kz1XNgX6os0usYvL"
e_t: "1614286326921"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 22:52:04,365-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 22:52:04,365-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 22:52:04,365-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "u4pfCKUv"
  sign: "A3BA58992D9D3F1FA37937D7809BBADB"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "5FJvilzKTkudZx1pCD7aNnSAYM8EyGXr"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 22:52:04,365-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "u4pfCKUv"
  sign: "A3BA58992D9D3F1FA37937D7809BBADB"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "5FJvilzKTkudZx1pCD7aNnSAYM8EyGXr"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 22:52:04,366-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): pay.pay-overseas-test.wanyol.com:80
2021-02-24 22:52:04,839-DEBUG-urllib3.connectionpool-393-http://pay.pay-overseas-test.wanyol.com:80 "POST /plugin/cocoin/recharge/spend HTTP/1.1" 200 545
2021-02-24 22:52:04,839-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
data {
  payRequestId: "VN202102241452072076075925385553"
  payUrl: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241452072076075925385553&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
  parameters: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241452072076075925385553&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
}

2021-02-24 22:52:04,839-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
data {
  payRequestId: "VN202102241452072076075925385553"
  payUrl: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241452072076075925385553&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
  parameters: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241452072076075925385553&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
}

2021-02-24 22:52:23,174-INFO-upay-scarlet-59-{"msg":"SUCCESS","code":"200"}
2021-02-24 22:53:12,521-INFO-upay-scarlet-59-{"msg":"SUCCESS","code":"200"}
2021-02-24 22:55:00,982-INFO-upay-scarlet-59-{"msg":"SUCCESS","code":"200"}
2021-02-24 22:57:35,412-INFO-upay-scarlet-59-SUCCESS
2021-02-24 23:01:41,011-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 23:01:41,249-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 23:01:41,289-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 23:01:41,289-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 23:01:41,560-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 23:01:41,560-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 23:01:41,560-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "68697872840240"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Z1xwiMhBz2VDrSGa4WTKRAt65Nuqv9jl"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 23:01:41,560-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "68697872840240"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Z1xwiMhBz2VDrSGa4WTKRAt65Nuqv9jl"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 23:01:41,563-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): secure.pay-test3.wanyol.com:80
2021-02-24 23:01:41,701-DEBUG-urllib3.connectionpool-393-http://secure.pay-test3.wanyol.com:80 "POST /tksv/post/pass HTTP/1.1" 200 1500
2021-02-24 23:01:41,702-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "37cd79d5fc4943efa8a66638a690c6f6"
s_p: "allacVhjaU1JaWFmWDJKZGw4dXhjVmF1WjNqcjR5RGVNYlZMR0xERlBFazZXMDR6YjYzWVV2b3ZiTVdya1NPODM2M1hQcmJQUHg3b3pJTE5QUk82YWJEZzBRSWhMVkdJdEUxUGJic0ZxRVp3S2VYaFhDc0V5SlNBQmUzeVY4ZDZ1VEVneDRCaHZxT09uUE1tZXp2NEMxWHRmcnZvWUx5Y2lZeEdLMjZadUhOODlTTzVlcnNENG1RMEJiSVlYMnRxSFpkdm5wZkR3RnJyNDR6dENydUlTekVBd2QzRjRJRENseWdRVzdCVlJwZGFFdUxKY05pcTNLaGpxY3hTTHpHSjFjbkpVaDZYRkNCaTdWMU44WHdnQjlOTnlPYldZclVhSHVLQjlZQnZ2WWFEUnlhRjkwYVRXbGZXQjk3QWxhWW5pWmV5MWdzclRHbjJlZVFoUjVFdUNxdG95NEV0Z2UwNWY3WUJjMVo1cUVNWXV3VjRaTzVJdGMxSnFLbmU4UjJ0NXdFUzB5NE51WGFLVXNqNVpLVHdWd3F4d3BhS3hmdTl1bmtJZ1oxOThDdTh1SGNZYVp5eTdQa1hGcTJMYmNhZXJGWVE0RTd0RjlnV2tuVmFwQ2IzUkpaZ3o3a0llQXJXVU82ZE9jbGRmWkhCTVVpOXlnTjNocVJheWpnN2dGdXlGeFFjNEtGcnJVVVdyNXdWY1R6cktQYkNvbjdYc1JmSXVkR2MyQ3pjRWNkU0xEQkMyaU90OTQxSzQzS01DdmM1QTd1SXIyM1d2NEppbWlmOE5OTXFBRjc3ZVl1eGUzSHB0dXcxbkoxVzl4ZjJtaWdVTTJuaWlvOGpmTVJ1Q3BzMlBiT1lxcTJSenc4R1h5dzJUS0dWN0hNeFlOOEJRcWtLZHQ3dnVWeVhBUkVQbVN3YmhzaDZieXJIOENhN1NLZlBxam9vcmt1TjAwZVNNYWZZZ2xzNDNiR0xzOEpEeExMVEd2ZEk3MDBzSVNoRU5ITDNpYjdXZGNUM3hqYzR6VHRBTng3clpmYWFycUw3MDRnUDE4SEJJZmc5M0M3SnUwUjg="
m_p: "3ptc7rn2wv8J430wFKBT1VSmkHuw062RbM3jos59tQn53zW74ETEqNJY3y5c4cq8"
e_t: "1614286904266"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 23:01:41,702-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "37cd79d5fc4943efa8a66638a690c6f6"
s_p: "allacVhjaU1JaWFmWDJKZGw4dXhjVmF1WjNqcjR5RGVNYlZMR0xERlBFazZXMDR6YjYzWVV2b3ZiTVdya1NPODM2M1hQcmJQUHg3b3pJTE5QUk82YWJEZzBRSWhMVkdJdEUxUGJic0ZxRVp3S2VYaFhDc0V5SlNBQmUzeVY4ZDZ1VEVneDRCaHZxT09uUE1tZXp2NEMxWHRmcnZvWUx5Y2lZeEdLMjZadUhOODlTTzVlcnNENG1RMEJiSVlYMnRxSFpkdm5wZkR3RnJyNDR6dENydUlTekVBd2QzRjRJRENseWdRVzdCVlJwZGFFdUxKY05pcTNLaGpxY3hTTHpHSjFjbkpVaDZYRkNCaTdWMU44WHdnQjlOTnlPYldZclVhSHVLQjlZQnZ2WWFEUnlhRjkwYVRXbGZXQjk3QWxhWW5pWmV5MWdzclRHbjJlZVFoUjVFdUNxdG95NEV0Z2UwNWY3WUJjMVo1cUVNWXV3VjRaTzVJdGMxSnFLbmU4UjJ0NXdFUzB5NE51WGFLVXNqNVpLVHdWd3F4d3BhS3hmdTl1bmtJZ1oxOThDdTh1SGNZYVp5eTdQa1hGcTJMYmNhZXJGWVE0RTd0RjlnV2tuVmFwQ2IzUkpaZ3o3a0llQXJXVU82ZE9jbGRmWkhCTVVpOXlnTjNocVJheWpnN2dGdXlGeFFjNEtGcnJVVVdyNXdWY1R6cktQYkNvbjdYc1JmSXVkR2MyQ3pjRWNkU0xEQkMyaU90OTQxSzQzS01DdmM1QTd1SXIyM1d2NEppbWlmOE5OTXFBRjc3ZVl1eGUzSHB0dXcxbkoxVzl4ZjJtaWdVTTJuaWlvOGpmTVJ1Q3BzMlBiT1lxcTJSenc4R1h5dzJUS0dWN0hNeFlOOEJRcWtLZHQ3dnVWeVhBUkVQbVN3YmhzaDZieXJIOENhN1NLZlBxam9vcmt1TjAwZVNNYWZZZ2xzNDNiR0xzOEpEeExMVEd2ZEk3MDBzSVNoRU5ITDNpYjdXZGNUM3hqYzR6VHRBTng3clpmYWFycUw3MDRnUDE4SEJJZmc5M0M3SnUwUjg="
m_p: "3ptc7rn2wv8J430wFKBT1VSmkHuw062RbM3jos59tQn53zW74ETEqNJY3y5c4cq8"
e_t: "1614286904266"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 23:01:41,704-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 23:01:41,704-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 23:01:41,704-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "OOnPMmez"
  sign: "D4341EEAFE24C5C239DD7E48D8A45044"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "r1vSutepcDFhW3kNBxqyOUG67w9dH2ga"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 23:01:41,704-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "OOnPMmez"
  sign: "D4341EEAFE24C5C239DD7E48D8A45044"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "r1vSutepcDFhW3kNBxqyOUG67w9dH2ga"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 23:01:41,706-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): pay.pay-overseas-test.wanyol.com:80
2021-02-24 23:01:42,299-DEBUG-urllib3.connectionpool-393-http://pay.pay-overseas-test.wanyol.com:80 "POST /plugin/cocoin/recharge/spend HTTP/1.1" 200 545
2021-02-24 23:01:42,300-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
data {
  payRequestId: "VN202102241501442076075925274243"
  payUrl: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241501442076075925274243&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
  parameters: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241501442076075925274243&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
}

2021-02-24 23:01:42,300-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
data {
  payRequestId: "VN202102241501442076075925274243"
  payUrl: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241501442076075925274243&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
  parameters: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241501442076075925274243&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
}

2021-02-24 23:04:54,888-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 23:04:55,218-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 23:04:55,276-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 23:04:55,276-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 23:04:55,528-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 23:04:55,528-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 23:04:55,528-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "12394915372354"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "EFCwX0huH1BlI7LAOMQDSKY49W3kPNdt"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 23:04:55,528-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "12394915372354"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "EFCwX0huH1BlI7LAOMQDSKY49W3kPNdt"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 23:04:55,531-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): secure.pay-test3.wanyol.com:80
2021-02-24 23:04:55,679-DEBUG-urllib3.connectionpool-393-http://secure.pay-test3.wanyol.com:80 "POST /tksv/post/pass HTTP/1.1" 200 1500
2021-02-24 23:04:55,680-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0ad897636bee45a9a78093874cd6ba1d"
s_p: "VUhvUnBqOFMyakU1TG1PeWo4S3RyeExoMGR3b2x5R2RSMGtVdWY4M1Q2SkhOdVV2Y01oMkhmcHdTU2NZb2RnUFVpcmw5ZzJhaWZhOU1ON1dzMTMyZFJQQmRBQmlUaURmN3VsYjBtZFBNWkJNazBNYVNCVjBnc3BhcjFWc0dsN0xOS2RkRUx6SllkTUxRazNwMXN2em96Z3ZoZ291bE5XeXpxT0FqdHNnNlZzUDl5aTlYVE1TZE9KT21zVWpsWlllY0hTOThMY3dEbk9tcHBUTzVJWHNpdElXMmhDbEl4NVVoZzY4bkNVMWs4V2xyOUhvTUl0MXh6dGJtM1lPMjFxbWt6SmVMRUp3WTlwQTkyTW96RXNWUHk2dVFOdVZsTnBUc1ZSOU5vbVdhTnNRWjBhRURHRDY5bEJMNWVQM1RTcXBZbjVBejJmM1J3TzdoTnNCOE5uVTB4UEZYbWFvNXRrU3ZyWUw5MFR0N01jS1lUdXI1M2NDbHVLa3FWc0pxZ1FhYXhQN0dURnR2R084bW9jb3A1cXptRURIMzRDVVlmcmlCYXZUWXQxQ3dyOFVuUmtwNXV1MnFaRVFrZUU0QXZyNHYzNHdQZDcwNTVKRFJnZHltbGlFSnVsQmwzTU9yRWYzaFVZaFJkTUtFQ3hha05yVVBOMFNGSHpBRkt4NTVROFZnMFN0Mm5WM0F6Z3h6RFlxWXNhQ2dxOGZkZVFYTkpXalB6UlhJV2cxOTFJdzBKek1hNjY5bng4cHhKTzNRM2tObjB3Z3RoQnZGUVNwSkQyTmluUmNRU1JROGpXOVVLbHhYUWlSbXVpVHlKSlFzNVNvN2M5NmlibWxOWE1iWmtJM1RuUnBSdGhmNzdvV1BSN2RDSlFsY2ZISkQ4WGlaZGxEWGtqSG9ucU93NExVV2d4WUgxTjdqWVNzRGlTR0N4Mk5EM1hPR3dmZ20ySnBoWmNkTEJWZmtPYWdTV0RiWjZxeFFLSjVpZDdrQkNwcHJzSTY3QkMxZlV2WkRmdlNtdXJ0V2FYWWFJTU80WFJCS0o0ZVloekRMVTcxV3BWOEx1dlY="
m_p: "25r9bvToJ0lw2QMRL85Fd42s9lch8309a1O5HyT4010053MPxbRjAH0Bz178lkE1"
e_t: "1614287098260"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 23:04:55,680-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0ad897636bee45a9a78093874cd6ba1d"
s_p: "VUhvUnBqOFMyakU1TG1PeWo4S3RyeExoMGR3b2x5R2RSMGtVdWY4M1Q2SkhOdVV2Y01oMkhmcHdTU2NZb2RnUFVpcmw5ZzJhaWZhOU1ON1dzMTMyZFJQQmRBQmlUaURmN3VsYjBtZFBNWkJNazBNYVNCVjBnc3BhcjFWc0dsN0xOS2RkRUx6SllkTUxRazNwMXN2em96Z3ZoZ291bE5XeXpxT0FqdHNnNlZzUDl5aTlYVE1TZE9KT21zVWpsWlllY0hTOThMY3dEbk9tcHBUTzVJWHNpdElXMmhDbEl4NVVoZzY4bkNVMWs4V2xyOUhvTUl0MXh6dGJtM1lPMjFxbWt6SmVMRUp3WTlwQTkyTW96RXNWUHk2dVFOdVZsTnBUc1ZSOU5vbVdhTnNRWjBhRURHRDY5bEJMNWVQM1RTcXBZbjVBejJmM1J3TzdoTnNCOE5uVTB4UEZYbWFvNXRrU3ZyWUw5MFR0N01jS1lUdXI1M2NDbHVLa3FWc0pxZ1FhYXhQN0dURnR2R084bW9jb3A1cXptRURIMzRDVVlmcmlCYXZUWXQxQ3dyOFVuUmtwNXV1MnFaRVFrZUU0QXZyNHYzNHdQZDcwNTVKRFJnZHltbGlFSnVsQmwzTU9yRWYzaFVZaFJkTUtFQ3hha05yVVBOMFNGSHpBRkt4NTVROFZnMFN0Mm5WM0F6Z3h6RFlxWXNhQ2dxOGZkZVFYTkpXalB6UlhJV2cxOTFJdzBKek1hNjY5bng4cHhKTzNRM2tObjB3Z3RoQnZGUVNwSkQyTmluUmNRU1JROGpXOVVLbHhYUWlSbXVpVHlKSlFzNVNvN2M5NmlibWxOWE1iWmtJM1RuUnBSdGhmNzdvV1BSN2RDSlFsY2ZISkQ4WGlaZGxEWGtqSG9ucU93NExVV2d4WUgxTjdqWVNzRGlTR0N4Mk5EM1hPR3dmZ20ySnBoWmNkTEJWZmtPYWdTV0RiWjZxeFFLSjVpZDdrQkNwcHJzSTY3QkMxZlV2WkRmdlNtdXJ0V2FYWWFJTU80WFJCS0o0ZVloekRMVTcxV3BWOEx1dlY="
m_p: "25r9bvToJ0lw2QMRL85Fd42s9lch8309a1O5HyT4010053MPxbRjAH0Bz178lkE1"
e_t: "1614287098260"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 23:04:55,686-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 23:04:55,686-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 23:04:55,687-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "h2HfpwSS"
  sign: "843AFB9F39723CCB6D7CCE96CDAD0FDC"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "xvm6uLqzNkM0wcTjERHZtg98onA5F4Di"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 23:04:55,687-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "h2HfpwSS"
  sign: "843AFB9F39723CCB6D7CCE96CDAD0FDC"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "xvm6uLqzNkM0wcTjERHZtg98onA5F4Di"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 23:04:55,689-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): pay.pay-overseas-test.wanyol.com:80
2021-02-24 23:04:58,463-DEBUG-urllib3.connectionpool-393-http://pay.pay-overseas-test.wanyol.com:80 "POST /plugin/cocoin/recharge/spend HTTP/1.1" 200 46
2021-02-24 23:04:58,464-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: false
code: "5005"
msg: "Sign-in failed. Please sign in again"

2021-02-24 23:04:58,464-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: false
code: "5005"
msg: "Sign-in failed. Please sign in again"

2021-02-24 23:04:58,473-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): opaycenter.pay-overseas-test.wanyol.com:80
2021-02-24 23:04:58,959-DEBUG-urllib3.connectionpool-393-http://opaycenter.pay-overseas-test.wanyol.com:80 "GET /opaycenter/upaynotify?amount=10000&appKey=10000096&area=&chKey=default&cpOrderId=&extra=&goodsKey=GSK182&hash=85238588E261A537E855FF9740A5BDE7&op=92&result=200&test=true&tradeId=210224182311113568&ts=1614165820000&uid=ZING HTTP/1.1" 200 30
2021-02-24 23:04:58,960-INFO-upay-scarlet-55-{"msg":"SUCCESS","code":"200"}
2021-02-24 23:04:58,960-INFO-upay-scarlet-55-{"msg":"SUCCESS","code":"200"}
2021-02-24 23:05:12,840-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 23:05:13,117-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 23:05:13,158-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 23:05:13,158-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 23:05:13,350-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 23:05:13,350-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 23:05:13,350-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "53821325021823"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "9WsEzQixBYorVAgy2vdMhbXDwSIUc7Rl"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 23:05:13,350-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "53821325021823"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "9WsEzQixBYorVAgy2vdMhbXDwSIUc7Rl"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 23:05:13,353-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): secure.pay-test3.wanyol.com:80
2021-02-24 23:05:13,439-DEBUG-urllib3.connectionpool-393-http://secure.pay-test3.wanyol.com:80 "POST /tksv/post/pass HTTP/1.1" 200 1500
2021-02-24 23:05:13,439-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2cb2433bf5d140da9f8e9679cf60e446"
s_p: "ZjFRU3lxVzRNMnRwczdWNDZDTmxleHFxeFFkZUcxN3lKZjdJZDM0VEI5SVFiTmxvUEtlbE9MRWpRUlFTR0pZU3hxZ2lXeEZCZ0I2ZERLZnNtZ1pJNTVKU3hQeGxNN3B4QlhaN1JUQWVrUVhRV1Rhb0tSYWZBTWVLeDl3c0FVYXBRQzQ1bnVpMDlTRlNLOFZDdUlyaHQydnI0SHBab0cyZ2RvZnFsdmVsVHkyY2thUGtWZjZMNUN4d3N0bzcwWERKc2hCWXZzRm53Um1SOUFMVnZ5YVVkM2lyd3N4dTV0Z2VidnVvS2dlS25vanh2eWNGd0RmVnhmQ3ozZDR4Mm1Hams1bkJCcXJUYjl3OWgxUjJXeHNvcUoydlR2UGQ3YWdpbTM2VndPakFHOEtFUTJibXhZWGtFTVRsWXRia1lpSjNJbk9LcnptUFl2cmRnVVFkYldGcTN1NDVrb0tkTXF1WU1UbkpocVBnb3IyNXRITFNtOHV6UjhFbElyakJzb0Frc3FSQ25oSUgwejJoTTVqVDFTU0lDeE9EYjh1cEgzOEhSTTRtOWpBYkFnNVJvQ1BveTZUWml2cEFGN01vMUFqUDdOYWlJNVp5bjRnTWRXenpOWWhmUW56dzRqVEpBSFl1T3NIZ2lweE9pdk5JSndTNkxkcUpMQzZCeW5jRjNsVU9JVmhOZTROSlZQVTc1M0VFOW9nNzl3aE9tSjJNZHRwS3BMMm9wak5TSVVacGVaZzVkSVRZWVVYbE5ZUHpJMklFelltU2JsOUxtdk92dlB4MFJWZmlNOTdOTnBEendjSHFVZ0xJVnEyVGZmdmdZTm8wMUJzdWRaNURyaG9Lb0V6d2cxUHZiMVBwTWk0bGZBd2U2d29FenpNVHJva3g3dHlxaFBrazV2OFphRVI1bnB1dlhERmJWdVZIYlEzMjRGSmxWbnduSWE1OTFaS0ZMeDdMQVJVd1lkYjRXcGhQWnBVOUVUZ3Z4bExTZGpSaXQ1anJERkRyVTNlV0VpUmhtZUJlWmVVTkc5RU1JYnlPekJWSHpwYmpYR0s0S2RnVmdvWms="
m_p: "D4u3fD9LjBt0Yudm54S41r48Mwz211g6LgqiUqN5102HUe3x48Ttk07ql4XR3x81"
e_t: "1614287116048"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 23:05:13,439-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2cb2433bf5d140da9f8e9679cf60e446"
s_p: "ZjFRU3lxVzRNMnRwczdWNDZDTmxleHFxeFFkZUcxN3lKZjdJZDM0VEI5SVFiTmxvUEtlbE9MRWpRUlFTR0pZU3hxZ2lXeEZCZ0I2ZERLZnNtZ1pJNTVKU3hQeGxNN3B4QlhaN1JUQWVrUVhRV1Rhb0tSYWZBTWVLeDl3c0FVYXBRQzQ1bnVpMDlTRlNLOFZDdUlyaHQydnI0SHBab0cyZ2RvZnFsdmVsVHkyY2thUGtWZjZMNUN4d3N0bzcwWERKc2hCWXZzRm53Um1SOUFMVnZ5YVVkM2lyd3N4dTV0Z2VidnVvS2dlS25vanh2eWNGd0RmVnhmQ3ozZDR4Mm1Hams1bkJCcXJUYjl3OWgxUjJXeHNvcUoydlR2UGQ3YWdpbTM2VndPakFHOEtFUTJibXhZWGtFTVRsWXRia1lpSjNJbk9LcnptUFl2cmRnVVFkYldGcTN1NDVrb0tkTXF1WU1UbkpocVBnb3IyNXRITFNtOHV6UjhFbElyakJzb0Frc3FSQ25oSUgwejJoTTVqVDFTU0lDeE9EYjh1cEgzOEhSTTRtOWpBYkFnNVJvQ1BveTZUWml2cEFGN01vMUFqUDdOYWlJNVp5bjRnTWRXenpOWWhmUW56dzRqVEpBSFl1T3NIZ2lweE9pdk5JSndTNkxkcUpMQzZCeW5jRjNsVU9JVmhOZTROSlZQVTc1M0VFOW9nNzl3aE9tSjJNZHRwS3BMMm9wak5TSVVacGVaZzVkSVRZWVVYbE5ZUHpJMklFelltU2JsOUxtdk92dlB4MFJWZmlNOTdOTnBEendjSHFVZ0xJVnEyVGZmdmdZTm8wMUJzdWRaNURyaG9Lb0V6d2cxUHZiMVBwTWk0bGZBd2U2d29FenpNVHJva3g3dHlxaFBrazV2OFphRVI1bnB1dlhERmJWdVZIYlEzMjRGSmxWbnduSWE1OTFaS0ZMeDdMQVJVd1lkYjRXcGhQWnBVOUVUZ3Z4bExTZGpSaXQ1anJERkRyVTNlV0VpUmhtZUJlWmVVTkc5RU1JYnlPekJWSHpwYmpYR0s0S2RnVmdvWms="
m_p: "D4u3fD9LjBt0Yudm54S41r48Mwz211g6LgqiUqN5102HUe3x48Ttk07ql4XR3x81"
e_t: "1614287116048"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 23:05:13,444-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 23:05:13,444-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 23:05:13,444-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "QSGJYSxq"
  sign: "BBE6EB85DCBCFF98C6919F090C9C9D13"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "QUEzCHk3unirZFVxgjsPaq4X2OY6W5fK"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 23:05:13,444-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "QSGJYSxq"
  sign: "BBE6EB85DCBCFF98C6919F090C9C9D13"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "QUEzCHk3unirZFVxgjsPaq4X2OY6W5fK"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 23:05:13,445-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): pay.pay-overseas-test.wanyol.com:80
2021-02-24 23:05:17,128-DEBUG-urllib3.connectionpool-393-http://pay.pay-overseas-test.wanyol.com:80 "POST /plugin/cocoin/recharge/spend HTTP/1.1" 200 46
2021-02-24 23:05:17,129-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: false
code: "5005"
msg: "Sign-in failed. Please sign in again"

2021-02-24 23:05:17,129-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: false
code: "5005"
msg: "Sign-in failed. Please sign in again"

2021-02-24 23:05:17,137-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): opaycenter.pay-overseas-test.wanyol.com:80
2021-02-24 23:05:17,263-DEBUG-urllib3.connectionpool-393-http://opaycenter.pay-overseas-test.wanyol.com:80 "GET /opaycenter/upaynotify?amount=10000&appKey=10000096&area=&chKey=default&cpOrderId=&extra=&goodsKey=GSK182&hash=85238588E261A537E855FF9740A5BDE7&op=92&result=200&test=true&tradeId=210224182311113568&ts=1614165820000&uid=ZING HTTP/1.1" 200 30
2021-02-24 23:05:17,264-INFO-upay-scarlet-55-{"msg":"SUCCESS","code":"200"}
2021-02-24 23:05:17,264-INFO-upay-scarlet-55-{"msg":"SUCCESS","code":"200"}
2021-02-24 23:05:37,953-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 23:05:38,227-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 23:05:38,268-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 23:05:38,268-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 23:05:38,455-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 23:05:38,455-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 23:05:38,455-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "69471768701049"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "8X4qDzrn67GmlLfIkvCMydNJc5WtpSVh"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 23:05:38,455-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "69471768701049"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "8X4qDzrn67GmlLfIkvCMydNJc5WtpSVh"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 23:05:38,457-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): secure.pay-test3.wanyol.com:80
2021-02-24 23:05:38,645-DEBUG-urllib3.connectionpool-393-http://secure.pay-test3.wanyol.com:80 "POST /tksv/post/pass HTTP/1.1" 200 1500
2021-02-24 23:05:38,646-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "01b728db49454e658740120ff9125faf"
s_p: "YzlEb2d5SzlKWURmemZTbXNZalJ6YXk3MmtDMm43RHI3S0JNallxa0ZJeGJpZ3RuRmZvQkQ2c3dWRHVZUmszY2xSbjBhZ0ZzdzVnVUFEOTZjZlRnalVNSHhNQ1lGTGY2YzJyNkV2T0U0V2hRaURURUY5SmxwU21GeVJtRVBLaTd1cWRxVEhXRE5LVWZOeGJtUUhobTJZTmdZWGo0UmRoc1FXeEVIMldjSko1TkVEa2haREpLMUZ1Ylh5a01PS2djN2FpckR1dTVxYUFPcTVuY1hpNXFzZ3FtYXg4cTRZT3U3a1JuSDFUT3pOUjJaRmlNaWw5R1N2dk1GbnA0M3Nza0JnRlp2clk4TWN4RUl0R3htTTg1anF1V0RBYkdYOHNPbm5ZMzJGalhIbUdyTGpXY3piV2hab3N6aFFHdWhXUjlNdzhLVXFMbkdreGwwQzJ0aDNESmZ5UEcyM3F0dFZ1V29SQmFhVXhYRDhZNXozbmo3QzJodUFheUY2UUJlT0JtS0NnUkdsbjVuZ0hqMDBBUVhFRndZRmtvbU1ydlpXNUdING14ZEs4RWgxU0VnZGp2UkNlZ2tDZmh3M1ROZnpMc0ZiV1dJQ05SYmhEb2JSTkhwUk52SkZvT1RMNHd6TlZjaXJJS3RHQzlVTTA4U2hMbnZ0TkxrNU9MckIwdTd4T0ZkQkl6TEdNd1RoQk91c1N2eUlaU013d0ZRckhWb2VUT2lnY3BKZ2lVb1g5VTFlcTNxaktTcThZc0Y5U0pyUUQ0VUkySXVQanlTTzcyb1BHZ3VzT0hrRGtQMnNyNUZkYnBrdjEwWGt6NU1jRkt6eUpseG9WUjdSZU9OdDhNUFF4V1QwOHZUbnZjWXFEbTRDejVXNTFOR3VwWU1zU01EaUZXRzZMSGIyazRZRUlzbzVMcnIxTGhvYmpQWk41eEVBNEMxTGttSFlHcmFvSGdRN0VMZnBZSUNHMjg3dkhHTnFoZVh0anZPb0RuU05Xd3FkUVBRdFA4eE83WDUwemUxQzE5WVJVa2xkS1A1bTRzWEtnU2IwTWszVUJYcmI1bEJSVjE="
m_p: "8T112YG8d0P90s8F03BZ4Dij3T1q4ZpPn794Y9Y966G1N50zjB49r2mVJ698F0U0"
e_t: "1614287141249"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 23:05:38,646-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "01b728db49454e658740120ff9125faf"
s_p: "YzlEb2d5SzlKWURmemZTbXNZalJ6YXk3MmtDMm43RHI3S0JNallxa0ZJeGJpZ3RuRmZvQkQ2c3dWRHVZUmszY2xSbjBhZ0ZzdzVnVUFEOTZjZlRnalVNSHhNQ1lGTGY2YzJyNkV2T0U0V2hRaURURUY5SmxwU21GeVJtRVBLaTd1cWRxVEhXRE5LVWZOeGJtUUhobTJZTmdZWGo0UmRoc1FXeEVIMldjSko1TkVEa2haREpLMUZ1Ylh5a01PS2djN2FpckR1dTVxYUFPcTVuY1hpNXFzZ3FtYXg4cTRZT3U3a1JuSDFUT3pOUjJaRmlNaWw5R1N2dk1GbnA0M3Nza0JnRlp2clk4TWN4RUl0R3htTTg1anF1V0RBYkdYOHNPbm5ZMzJGalhIbUdyTGpXY3piV2hab3N6aFFHdWhXUjlNdzhLVXFMbkdreGwwQzJ0aDNESmZ5UEcyM3F0dFZ1V29SQmFhVXhYRDhZNXozbmo3QzJodUFheUY2UUJlT0JtS0NnUkdsbjVuZ0hqMDBBUVhFRndZRmtvbU1ydlpXNUdING14ZEs4RWgxU0VnZGp2UkNlZ2tDZmh3M1ROZnpMc0ZiV1dJQ05SYmhEb2JSTkhwUk52SkZvT1RMNHd6TlZjaXJJS3RHQzlVTTA4U2hMbnZ0TkxrNU9MckIwdTd4T0ZkQkl6TEdNd1RoQk91c1N2eUlaU013d0ZRckhWb2VUT2lnY3BKZ2lVb1g5VTFlcTNxaktTcThZc0Y5U0pyUUQ0VUkySXVQanlTTzcyb1BHZ3VzT0hrRGtQMnNyNUZkYnBrdjEwWGt6NU1jRkt6eUpseG9WUjdSZU9OdDhNUFF4V1QwOHZUbnZjWXFEbTRDejVXNTFOR3VwWU1zU01EaUZXRzZMSGIyazRZRUlzbzVMcnIxTGhvYmpQWk41eEVBNEMxTGttSFlHcmFvSGdRN0VMZnBZSUNHMjg3dkhHTnFoZVh0anZPb0RuU05Xd3FkUVBRdFA4eE83WDUwemUxQzE5WVJVa2xkS1A1bTRzWEtnU2IwTWszVUJYcmI1bEJSVjE="
m_p: "8T112YG8d0P90s8F03BZ4Dij3T1q4ZpPn794Y9Y966G1N50zjB49r2mVJ698F0U0"
e_t: "1614287141249"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 23:05:38,648-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 23:05:38,648-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 23:05:38,648-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "cfTgjUMH"
  sign: "DFA5820934ADDFDA3395B39274ADCC20"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "yulUgmAtXdif0MPrs6oT2G3cBkHSC4a8"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 23:05:38,648-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "cfTgjUMH"
  sign: "DFA5820934ADDFDA3395B39274ADCC20"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "yulUgmAtXdif0MPrs6oT2G3cBkHSC4a8"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 23:05:38,650-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): pay.pay-overseas-test.wanyol.com:80
2021-02-24 23:05:41,275-DEBUG-urllib3.connectionpool-393-http://pay.pay-overseas-test.wanyol.com:80 "POST /plugin/cocoin/recharge/spend HTTP/1.1" 200 46
2021-02-24 23:05:41,276-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: false
code: "5005"
msg: "Sign-in failed. Please sign in again"

2021-02-24 23:05:41,276-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: false
code: "5005"
msg: "Sign-in failed. Please sign in again"

2021-02-24 23:07:08,213-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 23:07:08,488-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 23:07:08,531-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 23:07:08,532-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 23:07:08,896-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 23:07:08,896-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 23:07:08,896-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "46729934168022"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "IWt3bX2rk8xvQVKCOYoi0qzZlR79fHTU"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 23:07:08,896-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "46729934168022"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "IWt3bX2rk8xvQVKCOYoi0qzZlR79fHTU"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 23:07:08,899-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): secure.pay-test3.wanyol.com:80
2021-02-24 23:07:09,012-DEBUG-urllib3.connectionpool-393-http://secure.pay-test3.wanyol.com:80 "POST /tksv/post/pass HTTP/1.1" 200 1500
2021-02-24 23:07:09,012-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c4ecc7f548c64b40bebace878097a9f3"
s_p: "SlI5VExCZFJXcHBRZUdaS2czY2dtUFoyNnM3UGV1YmNKUTg4Zm5lakZTQmZ0TUdBZk9BR2JEY1loZVZJZnpDYUlmMFNBcGVRMVVDQVl3dUVQUjJkNzB5bExGUXhFNmw1RXQ4eDBDaXFuNEdtT0ZXUmlKa1VUUEExOFlTQWVJTDVaN0xRTWViMUhvcnpjZEtFYlJrME5IMU5Fa0pMWVJUZXdvNUxGS1BFYjBUT2RwaHpKTjFQU2NFNVhROXBxWXRiNk50OER2TGx1dnVxaHdBUE9QUnNmZG9POFFJODJRaVVmYUt4NDV6d2p6bU1TaTR6a3ZqQmltdTFPSVVuT0VveWlqY01qZHF2RXlCQmhEYVp2cmxPQk1mTEN1d096Rzg4Wk43a0RQUW1kVlJiOXdoQnVhUE5sTzJDWGJBeFN2aTFpaUM1dzA2VUFXT1hsbE9aT2Z3WXRGc3p3M3o1MlMxR3VjZXFIRmsxUWoyTU5LeEJib1FXQk9ZSVNBMzZDWE9kTk1OSTU3MDFvSklCZmxWczZTb3JpTFhQaVp4WlF0c0JnQ1Z3RUgzQUN5UUw0ZVlFVDBlc3VrTGFCTzVpTzlHb1pzOEpoM01FSHUzVmZEMUh1SjRhV2dqNU9oTzB5VDkyeXozQmFhTUNkaWNqZ1NNTktsS3dadlpCOTFiZUR5MFdlZktYVDM2UE90cFU5QnVQbHliSnZIUW03YXNtTzdDMldZU1NzNG5uTFlVRmxJenZlcW5SSWkyTGVFd3BvSzBYZ1BYTjE5NE9RWW5QTlpZNU5JelZENUMzZUlndTk0SFNTbUc3MnZMQXFHVGQ1R2ozQVU2TTliUERxUThVdm9PV3BMMzJHZW9leFpMTHM2eERDYVV2S3ZrVGtJZWtaYlJvSkJJOU95U2VWcUFVWHZwcDlEVEIzdjV4bE95dFN2SDI5RWQxNHpuSFhWaDNLekdqbWxYV0hLc2s0UjJCanNjTkxBaUhZZTJGRUd5OTVUVjBrNlNia3h3RGJUcjdvWGhqWngzNkdtbm1BWGJqTjRaT0pCUVhHbVNYbWswQjVtY0U="
m_p: "QFCfP4uca18TQWfq58iANilSJ0l5KM2f1T2rS37YVF9U8O5agTOjOnZUp3JytKZ1"
e_t: "1614287231601"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 23:07:09,012-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c4ecc7f548c64b40bebace878097a9f3"
s_p: "SlI5VExCZFJXcHBRZUdaS2czY2dtUFoyNnM3UGV1YmNKUTg4Zm5lakZTQmZ0TUdBZk9BR2JEY1loZVZJZnpDYUlmMFNBcGVRMVVDQVl3dUVQUjJkNzB5bExGUXhFNmw1RXQ4eDBDaXFuNEdtT0ZXUmlKa1VUUEExOFlTQWVJTDVaN0xRTWViMUhvcnpjZEtFYlJrME5IMU5Fa0pMWVJUZXdvNUxGS1BFYjBUT2RwaHpKTjFQU2NFNVhROXBxWXRiNk50OER2TGx1dnVxaHdBUE9QUnNmZG9POFFJODJRaVVmYUt4NDV6d2p6bU1TaTR6a3ZqQmltdTFPSVVuT0VveWlqY01qZHF2RXlCQmhEYVp2cmxPQk1mTEN1d096Rzg4Wk43a0RQUW1kVlJiOXdoQnVhUE5sTzJDWGJBeFN2aTFpaUM1dzA2VUFXT1hsbE9aT2Z3WXRGc3p3M3o1MlMxR3VjZXFIRmsxUWoyTU5LeEJib1FXQk9ZSVNBMzZDWE9kTk1OSTU3MDFvSklCZmxWczZTb3JpTFhQaVp4WlF0c0JnQ1Z3RUgzQUN5UUw0ZVlFVDBlc3VrTGFCTzVpTzlHb1pzOEpoM01FSHUzVmZEMUh1SjRhV2dqNU9oTzB5VDkyeXozQmFhTUNkaWNqZ1NNTktsS3dadlpCOTFiZUR5MFdlZktYVDM2UE90cFU5QnVQbHliSnZIUW03YXNtTzdDMldZU1NzNG5uTFlVRmxJenZlcW5SSWkyTGVFd3BvSzBYZ1BYTjE5NE9RWW5QTlpZNU5JelZENUMzZUlndTk0SFNTbUc3MnZMQXFHVGQ1R2ozQVU2TTliUERxUThVdm9PV3BMMzJHZW9leFpMTHM2eERDYVV2S3ZrVGtJZWtaYlJvSkJJOU95U2VWcUFVWHZwcDlEVEIzdjV4bE95dFN2SDI5RWQxNHpuSFhWaDNLekdqbWxYV0hLc2s0UjJCanNjTkxBaUhZZTJGRUd5OTVUVjBrNlNia3h3RGJUcjdvWGhqWngzNkdtbm1BWGJqTjRaT0pCUVhHbVNYbWswQjVtY0U="
m_p: "QFCfP4uca18TQWfq58iANilSJ0l5KM2f1T2rS37YVF9U8O5agTOjOnZUp3JytKZ1"
e_t: "1614287231601"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 23:07:09,017-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 23:07:09,017-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 23:07:09,018-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Meb1Horz"
  sign: "B215CD9D8CF74A67D393C3E9525B85E3"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "PoDYzbriNyIGTvel37WFfUEZQwKckB91"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 23:07:09,018-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Meb1Horz"
  sign: "B215CD9D8CF74A67D393C3E9525B85E3"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "PoDYzbriNyIGTvel37WFfUEZQwKckB91"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 23:07:09,019-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): pay.pay-overseas-test.wanyol.com:80
2021-02-24 23:07:09,705-DEBUG-urllib3.connectionpool-393-http://pay.pay-overseas-test.wanyol.com:80 "POST /plugin/cocoin/recharge/spend HTTP/1.1" 200 545
2021-02-24 23:07:09,706-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
data {
  payRequestId: "VN202102241507122076075925086083"
  payUrl: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241507122076075925086083&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
  parameters: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241507122076075925086083&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
}

2021-02-24 23:07:09,706-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
data {
  payRequestId: "VN202102241507122076075925086083"
  payUrl: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241507122076075925086083&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
  parameters: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241507122076075925086083&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
}

2021-02-24 23:07:43,598-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-24 23:07:43,884-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-24 23:07:43,924-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-24 23:07:43,925-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-24 23:07:44,119-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 23:07:44,119-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-24 23:07:44,119-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "97985637705158"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "skWJ7nd4X2a8pKDrROCvxcQm0hUl3gyA"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 23:07:44,119-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "97985637705158"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "skWJ7nd4X2a8pKDrROCvxcQm0hUl3gyA"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-24 23:07:44,122-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): secure.pay-test3.wanyol.com:80
2021-02-24 23:07:44,211-DEBUG-urllib3.connectionpool-393-http://secure.pay-test3.wanyol.com:80 "POST /tksv/post/pass HTTP/1.1" 200 1500
2021-02-24 23:07:44,211-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "be0977baa7fe4d258dc77579bf9770fa"
s_p: "UlJWT2kzVmNqVkpVV3N0emJ1ZU41SUhka2w4M096c2Zsc3Azb1RsVXdSZEFnU2NLZXNxRjlTblhBRFdYZHc3SU82VEJ0OTVCeW5nSG9HU0drQnNvMWJKdTBsRXF3M0lhZkpmS0RWT2RIN3JBYnU0NWpMZ1lobmZlZlpvTWd2SXY0VW1sMFQySjBmOGRmcDZHNWpZTU1sTkxOQmR2SW03NkRuRlB6Y0JtSFlCbzE4dHhFMlJEcFNwMHdlbm1OemhTZUUwS1I0bEs2Ykt5WUk5WXVhTHNVdDFoRHhheGZXVXZNejVqZllPNVVxMDJmWXk5MFBjdkFSbFdTY1BEZkVhYnVBM05ac3RlM3VsTWpPRWc5eTlzWW1FVTFlTlowc1h0YkJVV01xNlZqTWNYeUtNNzk2QVp3UnVJQzRzdkMzZUxSaFdlclg3SjVpRXd1Um9FdUR5VTE2cnNaTVJ6eTd0WFVJWjhRUkdjWFpvVFFId0NTWTNydWdSa3hMM2NWQzhwZ1RHVk1HeEd6YjBLSGtrdXRnc3RoRUkwbFJ2TFpKenh2Z3g5SzVxQ2ZlOUdjWms3YlZPNFQyNXpLSVdCRDV5aFloOVlQanFoWTRJMmFpeFNkeXhoYlo0c1ZHbms0cGtwZzMzelpHM1BTNG1BQmtISUNyOE5OVm5MRFZHOHFLRlJxR09sc1dSOG40QUYxZVNoOGJoOHcwMnl0NTZxQzhUcGk1RzFxNDBIR3BzSnRGb2FYd0N6Rkg3T2VhaVJibGM5Y2xBSE9Nd3daM0p2R1RuajN0eko1dGpZd1VKemRRMHppb0dUbW04WFcyTEtGcWp5NU1pTUVWeXNOdGdFamJyeTRBNG9RcGNwMlhFeXh6aVlYbk1vZGNQSXd4UjhVTEtDa2RoVHRMUWZYb2ZWSUJoTmR5bmNSeEJVQlE3UGJvbmxBOVFUS2p3dFpLeGd4dmNTRVBXWVN4eEZoU3QxQUxtYVRvRDg0NXdyQmJ3YzlBTFJhdTJMWGo2aTBqaVBYUXpRUEdoZTdnWnNMcFRSeUFsU0hmY1dXYzRIS3BEdWNpeUY="
m_p: "5XQ6E11j8Op384v04g66Vm8Z9ozmv98dux9u4e0bN08aGt3jCMpPC2FlPYCgEP12"
e_t: "1614287266814"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 23:07:44,211-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "be0977baa7fe4d258dc77579bf9770fa"
s_p: "UlJWT2kzVmNqVkpVV3N0emJ1ZU41SUhka2w4M096c2Zsc3Azb1RsVXdSZEFnU2NLZXNxRjlTblhBRFdYZHc3SU82VEJ0OTVCeW5nSG9HU0drQnNvMWJKdTBsRXF3M0lhZkpmS0RWT2RIN3JBYnU0NWpMZ1lobmZlZlpvTWd2SXY0VW1sMFQySjBmOGRmcDZHNWpZTU1sTkxOQmR2SW03NkRuRlB6Y0JtSFlCbzE4dHhFMlJEcFNwMHdlbm1OemhTZUUwS1I0bEs2Ykt5WUk5WXVhTHNVdDFoRHhheGZXVXZNejVqZllPNVVxMDJmWXk5MFBjdkFSbFdTY1BEZkVhYnVBM05ac3RlM3VsTWpPRWc5eTlzWW1FVTFlTlowc1h0YkJVV01xNlZqTWNYeUtNNzk2QVp3UnVJQzRzdkMzZUxSaFdlclg3SjVpRXd1Um9FdUR5VTE2cnNaTVJ6eTd0WFVJWjhRUkdjWFpvVFFId0NTWTNydWdSa3hMM2NWQzhwZ1RHVk1HeEd6YjBLSGtrdXRnc3RoRUkwbFJ2TFpKenh2Z3g5SzVxQ2ZlOUdjWms3YlZPNFQyNXpLSVdCRDV5aFloOVlQanFoWTRJMmFpeFNkeXhoYlo0c1ZHbms0cGtwZzMzelpHM1BTNG1BQmtISUNyOE5OVm5MRFZHOHFLRlJxR09sc1dSOG40QUYxZVNoOGJoOHcwMnl0NTZxQzhUcGk1RzFxNDBIR3BzSnRGb2FYd0N6Rkg3T2VhaVJibGM5Y2xBSE9Nd3daM0p2R1RuajN0eko1dGpZd1VKemRRMHppb0dUbW04WFcyTEtGcWp5NU1pTUVWeXNOdGdFamJyeTRBNG9RcGNwMlhFeXh6aVlYbk1vZGNQSXd4UjhVTEtDa2RoVHRMUWZYb2ZWSUJoTmR5bmNSeEJVQlE3UGJvbmxBOVFUS2p3dFpLeGd4dmNTRVBXWVN4eEZoU3QxQUxtYVRvRDg0NXdyQmJ3YzlBTFJhdTJMWGo2aTBqaVBYUXpRUEdoZTdnWnNMcFRSeUFsU0hmY1dXYzRIS3BEdWNpeUY="
m_p: "5XQ6E11j8Op384v04g66Vm8Z9ozmv98dux9u4e0bN08aGt3jCMpPC2FlPYCgEP12"
e_t: "1614287266814"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-24 23:07:44,215-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 23:07:44,215-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-24 23:07:44,215-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "wRdAgScK"
  sign: "5720F003A8E041050F8332C961B4D124"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "nBYtPKvc4qCFjzgIpDJMN9rx5y8kEA3Z"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 23:07:44,215-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "15.0"
  token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
  imei: ""
  model: "A001OP"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "wRdAgScK"
  sign: "5720F003A8E041050F8332C961B4D124"
  sdkVer: "12.0"
  appVerison: "250"
  ip: "0.0.0.0"
  openId: "FBC4E853B36C40C8A2AC61D127D85C9E23fe8cbbef964f0009fa0ac296d07836"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
partnerOrder: "nBYtPKvc4qCFjzgIpDJMN9rx5y8kEA3Z"
partnerId: "2031"
country: "VN"
payType: "upay_gamecard"
channel: "upay_gamecard"
payAmount: "100"
currency: "VND"
cocoinRechargeAmount: ""
cocoinPayAmount: "0.0"
product {
  name: "RECHARGE_SPEND"
  desc: "RECHARGE_SPEND"
  priceLocal: "100"
}
notifyUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerParams: ""
businessChannelId: ""
factor: ""

2021-02-24 23:07:44,217-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): pay.pay-overseas-test.wanyol.com:80
2021-02-24 23:07:46,253-DEBUG-urllib3.connectionpool-393-http://pay.pay-overseas-test.wanyol.com:80 "POST /plugin/cocoin/recharge/spend HTTP/1.1" 200 545
2021-02-24 23:07:46,253-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
data {
  payRequestId: "VN202102241507482076075925324163"
  payUrl: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241507482076075925324163&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
  parameters: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241507482076075925324163&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
}

2021-02-24 23:07:46,253-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
data {
  payRequestId: "VN202102241507482076075925324163"
  payUrl: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241507482076075925324163&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
  parameters: "https://pay.upay365.com/toDiffCountry/cashCard?appKey=10000096&appGoodsKey=GSK182&cpOrderId=VN202102241507482076075925324163&chKey=&uid=2076075925&vendor=null&equipmentType=1&countryName=vietnam&cpInquiryUrl=https://nearme.atlas.com?operation=confirm"
}

2021-02-24 23:07:46,262-DEBUG-urllib3.connectionpool-205-Starting new HTTP connection (1): opaycenter.pay-overseas-test.wanyol.com:80
2021-02-24 23:07:46,556-DEBUG-urllib3.connectionpool-393-http://opaycenter.pay-overseas-test.wanyol.com:80 "GET /opaycenter/upaynotify?amount=10000&appKey=10000096&area=&chKey=default&cpOrderId=VN202102241507482076075925324163&extra=&goodsKey=GSK182&hash=85238588E261A537E855FF9740A5BDE7&op=92&result=200&test=true&tradeId=210224182311113568&ts=1614165820000&uid=ZING HTTP/1.1" 200 7
2021-02-24 23:07:46,556-INFO-upay-scarlet-55-SUCCESS
2021-02-24 23:07:46,556-INFO-upay-scarlet-55-SUCCESS
2021-02-24 23:09:26,474-INFO-upay-scarlet-55-SUCCESS
