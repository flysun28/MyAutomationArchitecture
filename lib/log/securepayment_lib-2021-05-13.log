2021-05-13 10:05:50,766-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 10:05:51,048-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 10:05:51,210-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 10:05:51,232-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 10:05:51,232-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 10:05:51,522-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 10:05:51,522-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 10:05:51,523-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 10:05:51,602-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 10:05:51,630-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 10:05:51,654-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 10:05:52,042-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 10:05:52,042-INFO-lib.common.case_processor.entry-72-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'G8pghC4KIamDQk3fs1iySqOAudX6EVzM', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '109.31.147.194', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx122035102326686b92d46cb928b06b0000&package=1014012589", "payReqId": "RM20210512203509208677696952786t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-13 10:05:52,042-INFO-lib.common.case_processor.entry-72-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'jHQlcB5uLz7eqVoTmOJhN6nXGCF8tswi', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '36.168.157.3', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx12174902371665b166d260a820e5580000&package=815192712", "payReqId": "RM20210512174902208677696903048t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 10:05:52,043-INFO-lib.common.case_processor.entry-72-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '+', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 10:05:52,076-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 10:05:52,076-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 10:05:52,086-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 10:05:52,133-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'X81S5h6CEQtKLoPMf2uxkHdbwJqnDUTr', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-13 10:05:52,201-INFO-lib.common.session.dubbo.dubbo-56-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210513100552208677696944006t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22K%252FupA7%252B%252BGB6I321k89D%252F5gmeMWAOQSAkZHoldVZxGN4%252FVQchqxsDb8mW5gK%252F6bDLNoUnHDWkca0%252FmJtRN%252FvlK8L0m0%252F6JhcwozHMdBV3SF3Gyr5CNZNPiFJfEHF%252BxFt%252BDfoZwJTAEE7cYoVh7qnNh93JbFp18qEDxOQ6MzJL%252Brk%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210513100552208677696944006t\"}","payReqId":"RM20210513100552208677696944006t","status":"AUTH_NEEDED"}

2021-05-13 10:05:52,202-INFO-lib.common.session.dubbo.dubbo-69-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210513100552208677696944006t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="K%2FupA7%2B%2BGB6I321k89D%2F5gmeMWAOQSAkZHoldVZxGN4%2FVQchqxsDb8mW5gK%2F6bDLNoUnHDWkca0%2FmJtRN%2FvlK8L0m0%2F6JhcwozHMdBV3SF3Gyr5CNZNPiFJfEHF%2BxFt%2BDfoZwJTAEE7cYoVh7qnNh93JbFp18qEDxOQ6MzJL%2Brk="&sign_type="RSA"', 'system_order': 'RM20210513100552208677696944006t'}, 'payReqId': 'RM20210513100552208677696944006t', 'status': 'AUTH_NEEDED'}
2021-05-13 10:05:52,357-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'isdtX24uRO8g9D0VJFWGLKQ5mThxrkay', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '3.40.207.166', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-13 10:05:52,715-INFO-lib.common.session.dubbo.dubbo-56-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1310055276043183f7493958fede1e0000&package=2696290422","payReqId":"RM20210513100552208677696976642t","status":"AUTH_NEEDED"}

2021-05-13 10:05:52,715-INFO-lib.common.session.dubbo.dubbo-69-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1310055276043183f7493958fede1e0000&package=2696290422', 'payReqId': 'RM20210513100552208677696976642t', 'status': 'AUTH_NEEDED'}
2021-05-13 10:05:52,716-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-13 10:05:52,728-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-13 10:05:52,759-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[7484951109915043808197344057]]></transaction_id>
<nonce_str><![CDATA[ksE2NLeKnbQUtyr73pMmd4vAfhPjC6I8]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[23CAD9E516B9366398E7C8A46CA92D92]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210513100552208677696976642t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210513100552]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-13 10:05:54,255-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-13 10:05:54,256-INFO-wxpay-scarlet-60-回调解析成功
2021-05-13 10:05:54,271-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 10:05:54,271-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 10:05:54,272-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "79536448019277"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "jRLlNMYsvF013PZKoA2EnzcgVXrIbTmu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 10:05:54,373-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "7ce9a2bf817e453a8899eb0b8bc3b61e"
s_p: "VVphMllMZGdjcjNQcFZVSDlnVDZVMWJYTjluVkt1Y2lQTHNXTjhaOWZKdjk1SXQxeWJWS1d3ZE5VWlM4V1cyUDFkQjJwZU9GOWVOSXowM0lNWmNBVFRvYTU0UlY3RWFuanpDSHB1T3Q0VXE1R05MS3NwN0NMemJTcU9ZWk1SZGU4czlXbEJXUGREOWZBWmJLc1JySm44U3RmTmVtM290Nlo3UE9zUzM1c3FZRDd5UENiMGV0NXVMWncwMnRZemNaMzh0SVJaRWJoeVFzenNIMUt4NzU3SVQyOEdwU1lxWEhGRjY1bXd1ak1sMnpNZzVOTzRwNU43WUMza2xrSkNPUzMzR2tQNGczMXh0clRBVzJvRnRhOU5XbHdvRHplTFhONmxRTDlORnpoajR1SzY1cW9qOVY4NkM3YTRDRVExT0VOUXRQa1R3ZU1hN0RibjZZVlphcHdjZGtRUGtNN3ZHQ3NJUkNRaExtbDJkQUd0YjZvQkZEeDR5REQyRVU5WVR5Z0pabk45ZWVwSVlNQjJzYnlLMG1QVnZlSGYxdlRRQllkUXFxTlpJdTczeGpGdHBzMmhpYmVMNXUxUVF1YjFOaDlVa1cwbFp3QVZweW94SGJkc2lqZG9taDhUSllmMGQwTHdTbnpWdnZtRUtKb01ubTg3aEJFVEhFREVla25yeTF1RVRJd3poYmNmOWRMRU5IM3gzMERmaTlQcHVoVDU2bVFDYjFWRzFyQmZaQ3ZzSDI1YlNObXU5eWFIdlA5Q2Z6bFN4aG1neEljYVJIUFRIMzVQSENmMHQxQlo3QmZvMUtUWFdmNXhRTXFOMWhyckJBN2dwSjF0czJaQkNYbzZNN1hnZEVUa1kzcFBJRlpjSVBVSzEzNkl1dWZyam1TRERzUWNJQmdGcEIyQXQ4ZlRBSVBqNFdVc3pIQ0JsS2ZCYlM0NE5UU3lhMlVVczl2ZVJJMVhhcGhOdWpBTlBTeTQ0cVQ0Y1hyQnQ2YWN5aEw3QU9WaXFQaEpYc2MzN1U1YkZpdHc4QTE4OFhySEdiOHh4czRxOU1NZnlIRk1hMTRTVHA="
m_p: "5P39qmuP8EOiJX7m41B1Bj8C0N73S7fN0x4dr2ahq84hQDTTHyX0viMif20F3sUs"
e_t: "1620979554465"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 10:05:54,374-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 10:05:54,374-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 10:05:54,374-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "7ce9a2bf817e453a8899eb0b8bc3b61e"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "WPdD9fAZ"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210513100552208677696976642t"
version: "265"
queryType: "PAY"

2021-05-13 10:05:54,469-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-13 10:05:54,470-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210513100552208677696976642t"
2021-05-13 10:05:54,497-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 3299, 'pay_req_id': 'RM20210513100552208677696976642t', 'notify_id': '7484951109915043808197344057', 'partner_order': 'isdtX24uRO8g9D0VJFWGLKQ5mThxrkay', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '3.40.207.166', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 10, 5, 54), 'success_time': datetime.datetime(2021, 5, 13, 10, 5, 52), 'modify_time': datetime.datetime(2021, 5, 13, 10, 5, 54), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 10:05:54,497-INFO-FizAssert-31-订单详情：{'id': 3299, 'pay_req_id': 'RM20210513100552208677696976642t', 'notify_id': '7484951109915043808197344057', 'partner_order': 'isdtX24uRO8g9D0VJFWGLKQ5mThxrkay', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '3.40.207.166', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 10, 5, 54), 'success_time': datetime.datetime(2021, 5, 13, 10, 5, 52), 'modify_time': datetime.datetime(2021, 5, 13, 10, 5, 54), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 10:05:54,497-INFO-FizAssert-42-订单表信息记录正确
2021-05-13 10:05:54,727-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'K3eGaTuQ7gYFmB6xywCpslHAc4M9ISvD', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 10:05:54,745-INFO-lib.common.session.dubbo.dubbo-56-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 15:57:52,455-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 15:57:52,749-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 15:57:52,853-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 15:57:52,853-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 15:57:52,853-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 15:57:53,111-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 15:57:53,111-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 15:57:53,111-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 15:57:53,160-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 15:57:53,162-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 15:57:53,172-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 15:57:53,567-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 15:57:53,567-INFO-lib.common.case_processor.entry-72-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'isdtX24uRO8g9D0VJFWGLKQ5mThxrkay', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '3.40.207.166', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1310055276043183f7493958fede1e0000&package=2696290422", "payReqId": "RM20210513100552208677696976642t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-13 15:57:53,568-INFO-lib.common.case_processor.entry-72-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'jHQlcB5uLz7eqVoTmOJhN6nXGCF8tswi', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '36.168.157.3', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx12174902371665b166d260a820e5580000&package=815192712", "payReqId": "RM20210512174902208677696903048t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 15:57:53,568-INFO-lib.common.case_processor.entry-72-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '+', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 15:57:53,568-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 15:57:53,568-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 15:57:53,577-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 15:57:53,620-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'VctOmoB8IPXUdRMwWAJKCaiT7hLyzb5F', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-13 15:57:53,714-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210513155753208677696923304t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22qulcKeINEd5Gux2D%252FYyDJ3uv1v7QmvztEvkPy1hANje7t8iG4JhRsG4qyxBxBPpBVdihg%252ByntJz1aXE6zG8Nr9Ieuo813QxDLh6LHULaDk8K1vLj4V5jvZbPoVCi6maz74Dx%252B3G4ncGMczeilYju4Sxjyi0H3trU1Yu9W488%252BV8%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210513155753208677696923304t\"}","payReqId":"RM20210513155753208677696923304t","status":"AUTH_NEEDED"}

2021-05-13 15:57:53,714-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210513155753208677696923304t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="qulcKeINEd5Gux2D%2FYyDJ3uv1v7QmvztEvkPy1hANje7t8iG4JhRsG4qyxBxBPpBVdihg%2ByntJz1aXE6zG8Nr9Ieuo813QxDLh6LHULaDk8K1vLj4V5jvZbPoVCi6maz74Dx%2B3G4ncGMczeilYju4Sxjyi0H3trU1Yu9W488%2BV8="&sign_type="RSA"', 'system_order': 'RM20210513155753208677696923304t'}, 'payReqId': 'RM20210513155753208677696923304t', 'status': 'AUTH_NEEDED'}
2021-05-13 15:57:53,866-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'RITM1bKgWJGtEjSi0eAy8DXPsp2kVOq4', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '171.28.208.166', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-13 15:57:54,161-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13155754111754d6e13f418441ee3a0000&package=3556265011","payReqId":"RM20210513155753208677696956051t","status":"AUTH_NEEDED"}

2021-05-13 15:57:54,161-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13155754111754d6e13f418441ee3a0000&package=3556265011', 'payReqId': 'RM20210513155753208677696956051t', 'status': 'AUTH_NEEDED'}
2021-05-13 15:57:54,163-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-13 15:57:54,178-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-13 15:57:54,179-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[3883370709323392648620159999]]></transaction_id>
<nonce_str><![CDATA[duapMUxk82PnVEfJWQYRrgh4S0o5B3Xl]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[8CEF28FF34BF4D6E7A5C95534D2E1B5D]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210513155753208677696956051t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210513155754]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-13 15:57:58,078-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-13 15:57:58,078-INFO-wxpay-scarlet-60-回调解析成功
2021-05-13 15:57:58,094-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 15:57:58,094-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 15:57:58,094-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "40984676417211"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "tP10verOLWuYVnUEjSKX8wzaMFsp6hIf"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 15:57:58,174-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bb4fba1ea7f54f8684ac12250f3ae1cc"
s_p: "Zkdkd3BqS2xpOTZXc0tCTmt6QWpNSHdSZTU2OTR1a2daVUFlMGhoYXh5QzUxdm10MlFzNE1iWTQ0bGRLV2NURHRuWEhzQURwZndyZWZSdG4zT1VWell0eEFtQmZNdVhzbUJVQXhLSkUwT0plRGNVMlZnNnZ4RWtqSzJ0a1JYb1FrRkYxQVExaGljV1AyeFRjaExMYmE1TWhYQncxUFhrYThMYWhoSFJKMXJyMnRZS0R5TWRUVGhhZjFySVNORXJoS3RMRGZUY210eTdjRmZQOTZSdnk4Mm9wa1A4Q3AyMlE2SFFJb0w1QWVLTHFQeUtxV0xVaGxiSmRRM0w2aVRCMnduT201blcwMjZsVTVxb0gxcjBkblF0M0g4bHZIbzJpNHNSV2ZLejlENk51WXZCa0pPNmN1MUNjeVJnWmRKZlR5Z3MxNXZPazc1TjRRT05uaVZWUlJtcnAzV3h0QnVTb2VPaUhTaldBRzhreG1RRFhvdjFSRWg2UU5ZUDVmOVR0b2ZoN2VvVW1Ia1o3RVlhd3BNZW9XN2FUMkZmeWJXcmtFU0NGRFBhUmMyVkFGRTgyNVpTTkZRajZLWnpqUWNTM1NHOXdrazhpTzJUTmlkWmFVNzZsRUdGVkdxbHdJNUd1OE5XTmxoSE5SZE1WQWZIMnhmUXlRN2lMQ29NUGRseXg2dUhMYUE5NjhnYm5NQUJrbDVXN3U3UUtKaWNnU1lMcXBLTTlvRlViSmNyM2hZU1RZYTZMbkpLTzhlV2xETWxxRk9aaFRqMmdEbU9tR2YyckRjRkk4R0p3dGpITWZ4d2hqNVIyZ3l4YWhJYk5HZjlhTWhyQk1rY2FEOFBwNG9pajdWSDV2RDVRSnpKMlE3MDd2WmxEV1J6TE5veGVSUFczd1ZmUWNQVTdoZGFFckI0czNqUlhIUERSZm9iZllHTkRDODl4S2RRVWhnMHc4emZaa1RRN1ZERlN6UU05bVIzSmNKTFhmTExtbmNxeE5rSFR0QXhHNXowVzd0ZEltNkNtWm5ad2pRZFFoMzFiTEE2NmF1Y3JUUVg3N0dPYVpvNVc="
m_p: "5WdR217j2eJ25wV96FNC2U7pRg665o4nk07r64wClJF3HZQx4NT9mo9qdmIlzrwi"
e_t: "1621000678163"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 15:57:58,175-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 15:57:58,175-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 15:57:58,175-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "bb4fba1ea7f54f8684ac12250f3ae1cc"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "i96WsKBN"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210513155753208677696956051t"
version: "265"
queryType: "PAY"

2021-05-13 15:57:58,244-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-13 15:57:58,246-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210513155753208677696956051t"
2021-05-13 15:57:58,255-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 3346, 'pay_req_id': 'RM20210513155753208677696956051t', 'notify_id': '3883370709323392648620159999', 'partner_order': 'RITM1bKgWJGtEjSi0eAy8DXPsp2kVOq4', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '171.28.208.166', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 15, 57, 58), 'success_time': datetime.datetime(2021, 5, 13, 15, 57, 54), 'modify_time': datetime.datetime(2021, 5, 13, 15, 57, 58), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 15:57:58,256-INFO-FizAssert-31-订单详情：{'id': 3346, 'pay_req_id': 'RM20210513155753208677696956051t', 'notify_id': '3883370709323392648620159999', 'partner_order': 'RITM1bKgWJGtEjSi0eAy8DXPsp2kVOq4', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '171.28.208.166', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 15, 57, 58), 'success_time': datetime.datetime(2021, 5, 13, 15, 57, 54), 'modify_time': datetime.datetime(2021, 5, 13, 15, 57, 58), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 15:57:58,256-INFO-FizAssert-42-订单表信息记录正确
2021-05-13 15:57:58,391-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'uMDz8SvpXRKNIZew0mr1xldBbyWk5iFn', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 15:57:58,405-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 15:59:32,531-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 15:59:32,819-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 15:59:32,942-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 15:59:32,943-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 15:59:32,943-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 15:59:33,217-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 15:59:33,217-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 15:59:33,217-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 15:59:33,261-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 15:59:33,262-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 15:59:33,274-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 15:59:33,609-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 15:59:33,609-INFO-lib.common.case_processor.entry-72-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'RITM1bKgWJGtEjSi0eAy8DXPsp2kVOq4', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '171.28.208.166', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13155754111754d6e13f418441ee3a0000&package=3556265011", "payReqId": "RM20210513155753208677696956051t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-13 15:59:33,609-INFO-lib.common.case_processor.entry-72-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'jHQlcB5uLz7eqVoTmOJhN6nXGCF8tswi', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '36.168.157.3', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx12174902371665b166d260a820e5580000&package=815192712", "payReqId": "RM20210512174902208677696903048t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 15:59:33,610-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 15:59:33,610-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 15:59:33,610-INFO-lib.common.case_processor.entry-82-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 15:59:33,618-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 15:59:33,664-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'q425afsQT6gFXitOAVRD1YIzZcBn7Ju9', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-13 15:59:33,709-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210513155933208677696905047t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22nyFkmjuJ3x2oHyop1GNBE2gVhTdPD%252FQrYGRlXIyyYslelm%252FJJSsgiCN%252B9CgpLD%252BfG3u9g2xbwWrF9orK7zE6abOmy5tSxHumUtz%252Bc3%252B9zJqrwxypFgVHVwQQJ4mZLU6pCW4or2cMenLL1lOMDZetqEkQFf7XO%252FbmQEMsx0iNJto%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210513155933208677696905047t\"}","payReqId":"RM20210513155933208677696905047t","status":"AUTH_NEEDED"}

2021-05-13 15:59:33,710-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210513155933208677696905047t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="nyFkmjuJ3x2oHyop1GNBE2gVhTdPD%2FQrYGRlXIyyYslelm%2FJJSsgiCN%2B9CgpLD%2BfG3u9g2xbwWrF9orK7zE6abOmy5tSxHumUtz%2Bc3%2B9zJqrwxypFgVHVwQQJ4mZLU6pCW4or2cMenLL1lOMDZetqEkQFf7XO%2FbmQEMsx0iNJto="&sign_type="RSA"', 'system_order': 'RM20210513155933208677696905047t'}, 'payReqId': 'RM20210513155933208677696905047t', 'status': 'AUTH_NEEDED'}
2021-05-13 15:59:33,835-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'MlTumXB9p3Cy1UoKLnIeSaDtwPsfiqZg', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '138.104.162.125', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-13 15:59:34,175-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx131559341158464b306aabfaacd2550000&package=810846391","payReqId":"RM20210513155933208677696930681t","status":"AUTH_NEEDED"}

2021-05-13 15:59:34,175-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx131559341158464b306aabfaacd2550000&package=810846391', 'payReqId': 'RM20210513155933208677696930681t', 'status': 'AUTH_NEEDED'}
2021-05-13 15:59:34,176-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-13 15:59:34,186-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-13 15:59:34,189-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[8878203422314129487081894019]]></transaction_id>
<nonce_str><![CDATA[mK0hPAuDV7gyHCv1U6G5TwbjIfJBZN8k]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[C0FBC4BF33B587685F6981658E980296]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210513155933208677696930681t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210513155934]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-13 15:59:34,321-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-13 15:59:34,322-INFO-wxpay-scarlet-60-回调解析成功
2021-05-13 15:59:34,338-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 15:59:34,338-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 15:59:34,339-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "81656319123317"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "bpwc0XEHNf9lj5YJhOrvnFWG2tkAdMqU"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 15:59:34,406-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c821addc16e64b7fab702042a93aee5a"
s_p: "ckhpdDdKaDF2YjVoQW1KMU9uVVZSMmd2RWVKRHhzYmlvVmdUVG9zRXc3UklOMFNxRjZHa252djJDa3BsQ0ViR0lHbVlJZ0xTZ0Jkb0dibk9lZmxPeFh1S0N2MW0wRHdHTkN6b014MU9FZE5rY3ZzWEpUV2lmejI2aW9hU2RwSVdMc1hiRVFPOVA0Q0RTUjNrQUpVdmlRQ3B2MFlhWnVHN0RHeE01TWRUalVIT3VUQkRRUHVZQXpEOXJuS3hrOHFtdkVNU3pMd0V3c2tTMXlFcEhBOGpLN0hHY29obHhmaTlUa3B3SEl3T2FRWjhyZ3k4YmJ0WVl2M3hOcm0zRDZ3R1RCaDB3clE4Y0I0SnYwWGFsY2pPcHFsRG1kUU1SVk9EckU5Y3NXbU5tdmNydWFEaXhYOHVlYjdzM3U5cUQwZ3RFVnhta0NZcHk0NlFRaUpjNU9VTXBIelExUGNUZW1CZjc4T3habUxnejZzb1BCTGozbjFwRGpKSjBpdTZqV3BUNkU5dTM5eG5GazRNaGdSU3dtR1ByeGFTaXJlVzB6VkxiaXY4M21IN1NSMGhTdXpnVEZ0U2tRbWdYR2JiR1hPV2dtSkNXUXdrSDFoQ1hNN2NEN3ZXVXJOcEd4c21PYmpUZndYS1J3UGV5czZFSmdsUmsxcGJjSHRwQjJqOE1BQ0NmNnE2blhORlp4N2daRU1yRFQzcDdTZGJjSFZwZmxsNzZsNUlVZ3lhbkowSDd6RXc3TWlJUHZ0Mk9iWm5FS3FDUU5INW83RkNpUVVJV0FOb0d5ZVlmMktDOWU5aERIZDQ0UmRTSzNtZElGdlZ0QVR6VzJ0YklXSGZWaEh3MzdJNnVCa2MxR1J4cEZLSEhqNE5maThpUWtQcFJ1RzhWSGJDcHFNaHFEZXhDdWtEa2doT3BoQWZZVk4xZGR5RFJrSEtmWVdKZzBCM0xOTEZtNVlWclQ3dmpDZnNIZjh5ZTdBYjhybHdIR3ZMZ2thNVBUNWVTdWxsTmptcUM2MVE3TWFibHZsMjlmMlFDdUNNbXU4dk9BaTk3ZTJYQ2p2bTZSTFc="
m_p: "0t1h81lgj739S5WX3dIV0U6N61z2z0Dpf44E4EDqzG3dGl72C62M1y177nNOUT63"
e_t: "1621000774398"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 15:59:34,407-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 15:59:34,407-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 15:59:34,407-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "c821addc16e64b7fab702042a93aee5a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "IGmYIgLS"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210513155933208677696930681t"
version: "265"
queryType: "PAY"

2021-05-13 15:59:34,472-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-13 15:59:34,475-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210513155933208677696930681t"
2021-05-13 15:59:34,486-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 3348, 'pay_req_id': 'RM20210513155933208677696930681t', 'notify_id': '8878203422314129487081894019', 'partner_order': 'MlTumXB9p3Cy1UoKLnIeSaDtwPsfiqZg', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '138.104.162.125', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 15, 59, 34), 'success_time': datetime.datetime(2021, 5, 13, 15, 59, 34), 'modify_time': datetime.datetime(2021, 5, 13, 15, 59, 34), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 15:59:34,486-INFO-FizAssert-31-订单详情：{'id': 3348, 'pay_req_id': 'RM20210513155933208677696930681t', 'notify_id': '8878203422314129487081894019', 'partner_order': 'MlTumXB9p3Cy1UoKLnIeSaDtwPsfiqZg', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '138.104.162.125', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 15, 59, 34), 'success_time': datetime.datetime(2021, 5, 13, 15, 59, 34), 'modify_time': datetime.datetime(2021, 5, 13, 15, 59, 34), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 15:59:34,487-INFO-FizAssert-42-订单表信息记录正确
2021-05-13 16:24:17,892-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 16:24:18,212-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 16:24:18,324-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 16:24:18,324-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 16:24:18,324-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 16:24:18,605-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 16:24:18,605-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 16:24:18,606-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 16:24:18,684-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 16:24:18,685-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 16:24:18,691-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 16:24:18,992-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 16:24:18,992-INFO-lib.common.case_processor.entry-72-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'MlTumXB9p3Cy1UoKLnIeSaDtwPsfiqZg', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '138.104.162.125', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx131559341158464b306aabfaacd2550000&package=810846391", "payReqId": "RM20210513155933208677696930681t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 16:24:18,992-INFO-lib.common.case_processor.entry-72-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'jHQlcB5uLz7eqVoTmOJhN6nXGCF8tswi', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '36.168.157.3', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx12174902371665b166d260a820e5580000&package=815192712", "payReqId": "RM20210512174902208677696903048t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 16:24:18,992-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 16:24:18,992-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 16:24:18,993-INFO-lib.common.case_processor.entry-82-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 16:24:19,001-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 16:24:19,048-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'e379YohtxwI4a2glJA6OPicrk1vCSudb', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-13 16:24:19,101-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210513162419208677696915380t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22TeeQXvKw8vPcEyZT6qwmvBRIBJhGIYFfpXlemTIsOO2ZWpGpC0P5tQ0lUnMImrRzHmq7Qz3ZaGtLLj93ppzKDqdTOYLPs02IhOs5BUR%252BAzzywfMxQI4TQzwhx20cd3a4dTRqyIcJfbhN6%252Bqq6%252F1er3hEa6nCTzC08%252Fd2Pt3o6UM%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210513162419208677696915380t\"}","payReqId":"RM20210513162419208677696915380t","status":"AUTH_NEEDED"}

2021-05-13 16:24:19,102-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210513162419208677696915380t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="TeeQXvKw8vPcEyZT6qwmvBRIBJhGIYFfpXlemTIsOO2ZWpGpC0P5tQ0lUnMImrRzHmq7Qz3ZaGtLLj93ppzKDqdTOYLPs02IhOs5BUR%2BAzzywfMxQI4TQzwhx20cd3a4dTRqyIcJfbhN6%2Bqq6%2F1er3hEa6nCTzC08%2Fd2Pt3o6UM="&sign_type="RSA"', 'system_order': 'RM20210513162419208677696915380t'}, 'payReqId': 'RM20210513162419208677696915380t', 'status': 'AUTH_NEEDED'}
2021-05-13 16:24:25,852-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 16:24:26,149-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 16:24:26,295-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 16:24:26,295-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 16:24:26,295-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 16:24:26,572-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 16:24:26,573-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 16:24:26,573-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 16:24:26,635-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 16:24:26,637-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 16:24:26,656-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 16:24:26,947-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 16:24:26,947-INFO-lib.common.case_processor.entry-72-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'MlTumXB9p3Cy1UoKLnIeSaDtwPsfiqZg', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '138.104.162.125', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx131559341158464b306aabfaacd2550000&package=810846391", "payReqId": "RM20210513155933208677696930681t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 16:24:26,947-INFO-lib.common.case_processor.entry-72-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'jHQlcB5uLz7eqVoTmOJhN6nXGCF8tswi', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '36.168.157.3', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx12174902371665b166d260a820e5580000&package=815192712", "payReqId": "RM20210512174902208677696903048t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 16:24:26,948-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 16:24:26,948-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 16:24:26,948-INFO-lib.common.case_processor.entry-82-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 16:24:26,955-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 16:24:26,996-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'zcVMbrWdHDAJl3GnR0FC7iTmB5sea8U9', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-13 16:24:27,129-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210513162427208677696982188t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22tzLIKXse7b2mPVRC7agvxIdvwnZcK2eU7sMDxco5iCJZqmzFe5W60aGWOQ3MJQm9lN2v7lqLlt58OhrK%252ForW8WVUV4KWMZntKhhWhNmvhdvxbddMuroAplFaHPnVW58CSp29AOL1S0oDgTeqA0bS5hxwVX61zT8kiNyc%252F5ao65Y%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210513162427208677696982188t\"}","payReqId":"RM20210513162427208677696982188t","status":"AUTH_NEEDED"}

2021-05-13 16:24:27,130-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210513162427208677696982188t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="tzLIKXse7b2mPVRC7agvxIdvwnZcK2eU7sMDxco5iCJZqmzFe5W60aGWOQ3MJQm9lN2v7lqLlt58OhrK%2ForW8WVUV4KWMZntKhhWhNmvhdvxbddMuroAplFaHPnVW58CSp29AOL1S0oDgTeqA0bS5hxwVX61zT8kiNyc%2F5ao65Y="&sign_type="RSA"', 'system_order': 'RM20210513162427208677696982188t'}, 'payReqId': 'RM20210513162427208677696982188t', 'status': 'AUTH_NEEDED'}
2021-05-13 16:24:27,283-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Vop6fdmxKytqes9AgcnzuPCTQJOGS5Uk', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '51.104.88.197', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-13 16:24:27,623-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13162427587182fb6e857668f6203c0000&package=4091336208","payReqId":"RM20210513162427208677696906344t","status":"AUTH_NEEDED"}

2021-05-13 16:24:27,623-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13162427587182fb6e857668f6203c0000&package=4091336208', 'payReqId': 'RM20210513162427208677696906344t', 'status': 'AUTH_NEEDED'}
2021-05-13 16:24:27,624-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-13 16:24:27,633-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-13 16:24:27,635-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[8795603116091342671449394026]]></transaction_id>
<nonce_str><![CDATA[a5L43u8xWt2VJwDnMghNycPpR6jUrqAl]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[1974B9E40E50E6A1A693E0B88EFF72FD]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210513162427208677696906344t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210513162427]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-13 16:24:27,944-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-13 16:24:27,944-INFO-wxpay-scarlet-60-回调解析成功
2021-05-13 16:24:27,960-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 16:24:27,961-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 16:24:27,961-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "35433442233331"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "GkEqNF4e1pmTgC3KtUQurvAlR0XLzVwd"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 16:24:29,884-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5294ae16012e4aa1b291dc3e761fa729"
s_p: "Wk9LOGw1Tmd5SnVYQ0txWXRyQ2dGMmJYMk01RmJ6MHZUYkE5QzlOZExDaks0R2t5M2M0N1Zva0JuRGNNN2ZkVHhlOXVOSmlQUGM4dmxPUVVVbXZPRG5RaWRlRk43QWxLZEhMbW9BS2NSaUdjWVZ0UVd2ZTNESlRYTHpuNHRPeTYxblVYVDZ6bFNQeFhtT0pYMGlYSVJxZXFYeGVObENtUkE4bEhzdFhMWllKTEwxcnpGNzlETFNTMndCaFJ4NVdCWGJRamRtMzRKbGxXcjJ3TTRpbkpWTVVXa3hTNjF5QjZ0eDdkOU9TWnQxamU2OFFtZ0xXMmIwS0FzTzlkSndSR1NOeHh4dEFIVXczaUdWanpFZ0ZBTTd3aWNvN3FYOVRSM2UwRXRqREZmZUZtaktXaGJaYjB2R05hMTRScm5hZ21KTXlhMlJUcFJ3RlVybWVrY0xZRUFCRW1JWTlXZGNlMlpJaXRwcFE2UEVmeGlQSkltRzg4b1ZaclVKcDl0eWxzN2FYVW0zWTU0SHQ3TXNFNzdhVkxoSTZNbGs0YlpmQTN0Z0M5bTIwWWI0d0lpNEVCYUhUeldzdTZoSGlwSU9FZGc0a3lwVWJXOGpiZVZzVjhOUFl1N0thM2xtTkJPYjFPRGJIenoyRHdla2p3OUY5eUxQVUx6N1hJY0txN005ZUl0bEI3WE8ycWxPbmdsMzd3bUwwQ0FqbEMxS0tOUWxuVFJmQ1dwZEE1Z2hpQVZYUURSWk9yUUxvaGRlOVRSdXMwUEdDOFNpVGFmOTIxclJvdmRqbU50d2RnQzdkT0haSmVSM2l5aXpkSFJFSHBrQnpoanhuNFBkamNjUHhTbGlFOTBMeWtqUmZuSnNtZ21YNDM1bk9rZ0ZHS2dGSE1jcW5XcGM5Z2hFcDlXcGkxVzFhYXQ2SmlBdE9LRkJUNDJVZUp6SlJ0aTJLbzVWMXE2YXN0Y3U0Q0ozaEJpS0FFeGg3YlU4Nk5CaG44MWhGaGlRVUpsbjFLUGFmcVZuRE5iUVVualo5d0NIaUF2WGxiU1lHd1BCbHFPZVF2SE0wckk2Q0E="
m_p: "2l7rN9wUSDN995V5HGQXEyrbh8NFFYE90BvnLnfnvxq3qQ4SL2sNAh88B6372st9"
e_t: "1621002269871"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 16:24:29,885-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 16:24:29,885-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 16:24:29,885-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "5294ae16012e4aa1b291dc3e761fa729"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "LmoAKcRi"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210513162427208677696906344t"
version: "265"
queryType: "PAY"

2021-05-13 16:24:29,962-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-13 16:24:29,964-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210513162427208677696906344t"
2021-05-13 16:24:29,971-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 3360, 'pay_req_id': 'RM20210513162427208677696906344t', 'notify_id': '8795603116091342671449394026', 'partner_order': 'Vop6fdmxKytqes9AgcnzuPCTQJOGS5Uk', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '51.104.88.197', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 16, 24, 27), 'success_time': datetime.datetime(2021, 5, 13, 16, 24, 27), 'modify_time': datetime.datetime(2021, 5, 13, 16, 24, 28), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 16:24:29,972-INFO-FizAssert-31-订单详情：{'id': 3360, 'pay_req_id': 'RM20210513162427208677696906344t', 'notify_id': '8795603116091342671449394026', 'partner_order': 'Vop6fdmxKytqes9AgcnzuPCTQJOGS5Uk', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '51.104.88.197', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 16, 24, 27), 'success_time': datetime.datetime(2021, 5, 13, 16, 24, 27), 'modify_time': datetime.datetime(2021, 5, 13, 16, 24, 28), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 16:24:29,972-INFO-FizAssert-42-订单表信息记录正确
2021-05-13 16:33:52,533-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 16:33:52,853-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 16:33:52,965-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 16:33:52,965-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 16:33:52,965-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 16:33:53,266-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 16:33:53,266-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 16:33:53,267-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 16:33:53,341-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 16:33:53,342-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 16:33:53,347-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 16:33:53,636-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 16:33:53,636-INFO-lib.common.case_processor.entry-72-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'Vop6fdmxKytqes9AgcnzuPCTQJOGS5Uk', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '51.104.88.197', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13162427587182fb6e857668f6203c0000&package=4091336208", "payReqId": "RM20210513162427208677696906344t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-13 16:33:53,636-INFO-lib.common.case_processor.entry-72-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'jHQlcB5uLz7eqVoTmOJhN6nXGCF8tswi', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '36.168.157.3', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx12174902371665b166d260a820e5580000&package=815192712", "payReqId": "RM20210512174902208677696903048t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 16:33:53,637-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 16:33:53,637-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 16:33:53,637-INFO-lib.common.case_processor.entry-82-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 16:33:53,644-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 16:33:53,698-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '5eXyiCGHhKbuLAcxoDdjQfIEvZ0pR27z', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-13 16:33:53,744-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210513163353208677696966051t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22OBr8fOH4Uf74cLiNvsZkG9iEiQ7%252BpgGsM7kjEGgjeRgbwoCVXg0lvySXjsyFf4%252FfXFhGZQVyFMV5%252Byy7kSVyY0wYIFzcOuYf4HNn6uZdV5f%252BuB%252FFvSQrrNMbVE5Z25YtJIrjZPWrWqWkwrwv1UI8Kvv1emGek83O7G0Mw6NgV7g%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210513163353208677696966051t\"}","payReqId":"RM20210513163353208677696966051t","status":"AUTH_NEEDED"}

2021-05-13 16:33:53,745-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210513163353208677696966051t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="OBr8fOH4Uf74cLiNvsZkG9iEiQ7%2BpgGsM7kjEGgjeRgbwoCVXg0lvySXjsyFf4%2FfXFhGZQVyFMV5%2Byy7kSVyY0wYIFzcOuYf4HNn6uZdV5f%2BuB%2FFvSQrrNMbVE5Z25YtJIrjZPWrWqWkwrwv1UI8Kvv1emGek83O7G0Mw6NgV7g="&sign_type="RSA"', 'system_order': 'RM20210513163353208677696966051t'}, 'payReqId': 'RM20210513163353208677696966051t', 'status': 'AUTH_NEEDED'}
2021-05-13 16:33:59,593-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 16:33:59,908-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 16:34:00,020-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 16:34:00,020-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 16:34:00,021-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 16:34:00,309-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 16:34:00,310-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 16:34:00,310-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 16:34:00,369-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 16:34:00,370-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 16:34:00,377-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 16:34:00,663-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 16:34:00,663-INFO-lib.common.case_processor.entry-72-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'Vop6fdmxKytqes9AgcnzuPCTQJOGS5Uk', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '51.104.88.197', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13162427587182fb6e857668f6203c0000&package=4091336208", "payReqId": "RM20210513162427208677696906344t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-13 16:34:00,663-INFO-lib.common.case_processor.entry-72-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'jHQlcB5uLz7eqVoTmOJhN6nXGCF8tswi', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '36.168.157.3', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx12174902371665b166d260a820e5580000&package=815192712", "payReqId": "RM20210512174902208677696903048t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 16:34:00,663-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 16:34:00,664-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 16:34:00,664-INFO-lib.common.case_processor.entry-82-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 16:34:00,673-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 16:34:00,728-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'BH9DLloKVyMeW67njI5JEwkTRObiXASP', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-13 16:34:00,775-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210513163400208677696937030t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22hmRVGhi4iAKTm2mthcasru3cvO%252Fk1jtfCUcHCgDOEQHwY5OaspNbrdujZGACdMsPIff73tuc01BtDQ6%252F9bYT75Pjm25%252FYyu%252FKU86yL5amKk6p7pp%252F2ZN9ejvMzsTmx05lQvNQzNy7BS%252BOV9vTVZj1%252BLOEN0%252Bj30mAntk5NCrQko%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210513163400208677696937030t\"}","payReqId":"RM20210513163400208677696937030t","status":"AUTH_NEEDED"}

2021-05-13 16:34:00,776-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210513163400208677696937030t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="hmRVGhi4iAKTm2mthcasru3cvO%2Fk1jtfCUcHCgDOEQHwY5OaspNbrdujZGACdMsPIff73tuc01BtDQ6%2F9bYT75Pjm25%2FYyu%2FKU86yL5amKk6p7pp%2F2ZN9ejvMzsTmx05lQvNQzNy7BS%2BOV9vTVZj1%2BLOEN0%2Bj30mAntk5NCrQko="&sign_type="RSA"', 'system_order': 'RM20210513163400208677696937030t'}, 'payReqId': 'RM20210513163400208677696937030t', 'status': 'AUTH_NEEDED'}
2021-05-13 16:34:00,935-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'wxPaRih4Qz6ElevFcASXyG0M2gLn9Bdo', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '214.10.27.88', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-13 16:34:01,324-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13163401252464abdd0e3ba03458650000&package=1587421546","payReqId":"RM20210513163400208677696927750t","status":"AUTH_NEEDED"}

2021-05-13 16:34:01,325-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13163401252464abdd0e3ba03458650000&package=1587421546', 'payReqId': 'RM20210513163400208677696927750t', 'status': 'AUTH_NEEDED'}
2021-05-13 16:34:01,326-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-13 16:34:01,338-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-13 16:34:01,339-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[2501061009847842220940038327]]></transaction_id>
<nonce_str><![CDATA[Gwyt8Q6N7hX0r3bgFAvSL1pJ95kWzRoe]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[82DBAB41B325F5693CC0EBE56D7F6430]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210513163400208677696927750t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210513163401]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-13 16:34:01,492-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-13 16:34:01,493-INFO-wxpay-scarlet-60-回调解析成功
2021-05-13 16:34:01,508-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 16:34:01,509-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 16:34:01,509-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "82170909025745"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "MH8U2JKN5OjhdXDESW1ReCwqr3cZmu7F"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 16:34:01,614-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "cfc40a5c3b5c4750ae0c378b228ef0fb"
s_p: "NklmRksxa2t4djF3OHdSdlZhcVVaREpTdFN0QnhvMTYwZUppeG1tTUV2d1lEVlowbjJORWN1WXBJbXdVS1NhOUZnYXVzMElBZjZCeWZkSVRrUTJPcFhuTG8xTVhyeTNqTExPa0c0UTNpbnZCT2tPVDBodUJnaE5PR1FFUVBadWhldkxmcklzRUI5ZmRRTmh2akRJdWRmTnRIcEF0ejR6UjRlSTNqWnV0TmV2OEZpa0VSU1doaXlZY1lTUkt0R0xsYU9QenRYRHFkN0xWMEtYVEhNdlB0dHVyQmdRZjRRZzZmQXJ6b1haYTJTeXBlQU1zNFBOUkU1cHpPNUVWSEZhUGdPWHJYVmh0RTZVNFJvdFRHNXZqMkZyZ1NTZVFvcUY0RmZKa1g4ZWRUQjJJQ1BJeDBRN3h2WkMxZVcySnNPQnRXTmFGc1pKM0pHNXEzVEZIM2VCbTV6ZTl1ek5oUzVYY0pveEhkMUZ3VWo0bGh0SHA0TElSalFOZzkzMEk3a2I2dTM5T1QzUTZWMmRXQmtZZDl2ZUs2ZTJBdU9JWDRaMWFBS3ZhS0dKZk56N2ZnZGFsZ3NJNmFjZnIybUlVOTdkRTJPb2NLTldKa2VpbVNuV09wQXk2MGpvYTd4anBNMFRrRWpialFwSDFzM08yMHhMZGxIZWVCMVBicHhmcVV4VENRbFVtTXpiSXZPbndIUzU4NEJSUXVQd1A0V25MTThvVElPV3JleUYwVHIyblRHdnRhdGxQRExXVDNVcWFYYk9zNDdXd01mcHFQSUxIVFdMZllKZnlIb0hrOGdET3VSVFBqMEVlNkNNQzNjbWdFQUxvZW12bjNsdmoxdDk4cDc4Q0J3NUFHcU1ZMWhFOTdYRTJVdmc1NzkyTjNYRWJjaXNNV2doS2tuUVJXT3kyeXBTRHJzVFJNQmdlYzNEbkduSnM3dUMyS1M4cDJ6eWFIbmNSWFdtckh3b015YUpDM0pnYzRETkRLSDNQNGxuNjFWRDJjYWF0U1p1SVpVNlFmdE5HQkk1d3FmZ3ZRMkVZU2V4dWR5MndlVkNsR2lsV1lwZFM="
m_p: "N3lqNtOIrJjp2jTtbGrpYLJZI8xy85aaSpEEhF1glgPgS7C3QB6z1r9pQ5we7pCz"
e_t: "1621002841604"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 16:34:01,615-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 16:34:01,615-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 16:34:01,615-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "cfc40a5c3b5c4750ae0c378b228ef0fb"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "fdITkQ2O"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210513163400208677696927750t"
version: "265"
queryType: "PAY"

2021-05-13 16:34:01,721-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-13 16:34:01,723-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210513163400208677696927750t"
2021-05-13 16:34:01,744-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 3363, 'pay_req_id': 'RM20210513163400208677696927750t', 'notify_id': '2501061009847842220940038327', 'partner_order': 'wxPaRih4Qz6ElevFcASXyG0M2gLn9Bdo', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '214.10.27.88', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 16, 34, 1), 'success_time': datetime.datetime(2021, 5, 13, 16, 34, 1), 'modify_time': datetime.datetime(2021, 5, 13, 16, 34, 1), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 16:34:01,744-INFO-FizAssert-31-订单详情：{'id': 3363, 'pay_req_id': 'RM20210513163400208677696927750t', 'notify_id': '2501061009847842220940038327', 'partner_order': 'wxPaRih4Qz6ElevFcASXyG0M2gLn9Bdo', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '214.10.27.88', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 16, 34, 1), 'success_time': datetime.datetime(2021, 5, 13, 16, 34, 1), 'modify_time': datetime.datetime(2021, 5, 13, 16, 34, 1), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 16:34:01,744-INFO-FizAssert-42-订单表信息记录正确
2021-05-13 16:34:01,871-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '5MYsuHtoieT7L0QfC8bVjO23aGpyKnZv', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 16:34:01,890-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 16:34:02,019-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '1eBLXVOhrSak9WYbpqKfQjmDA30igI2E', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 16:34:02,032-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 18:24:27,746-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 18:24:28,065-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 18:24:28,176-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:24:28,176-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 18:24:28,176-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:24:28,478-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:24:28,478-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 18:24:28,478-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:24:28,518-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 18:24:28,520-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 18:24:28,527-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:24:28,885-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 18:24:28,885-INFO-lib.common.case_processor.entry-72-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': '1eBLXVOhrSak9WYbpqKfQjmDA30igI2E', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '"Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}"', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 18:24:28,885-INFO-lib.common.case_processor.entry-72-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'jHQlcB5uLz7eqVoTmOJhN6nXGCF8tswi', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '36.168.157.3', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx12174902371665b166d260a820e5580000&package=815192712", "payReqId": "RM20210512174902208677696903048t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 18:24:28,886-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 18:24:28,886-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 18:24:28,886-INFO-lib.common.case_processor.entry-82-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 18:24:28,894-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:24:28,934-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'NBM9zaEcSsyf1wW0JvFoeipYZIODhnH3', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-13 18:24:29,003-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210513182428208677696918778t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22Dz3xum0spVym474EmtW1YUh7wQ3t4%252FbIFJ8X1cCoYaIEMEmA87yrEnFaxiyqbIx3OCk%252BcyUetbK2yDxC1K9k0iAcENbubO2krc6tJFchNSPMErcwKYUhb%252FQzpmRzqw0yI%252FOrJEG1dxRucbQjSEzybjgdxvZj8d5VB8BhH9aYOb0%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210513182428208677696918778t\"}","payReqId":"RM20210513182428208677696918778t","status":"AUTH_NEEDED"}

2021-05-13 18:24:29,004-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210513182428208677696918778t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="Dz3xum0spVym474EmtW1YUh7wQ3t4%2FbIFJ8X1cCoYaIEMEmA87yrEnFaxiyqbIx3OCk%2BcyUetbK2yDxC1K9k0iAcENbubO2krc6tJFchNSPMErcwKYUhb%2FQzpmRzqw0yI%2FOrJEG1dxRucbQjSEzybjgdxvZj8d5VB8BhH9aYOb0="&sign_type="RSA"', 'system_order': 'RM20210513182428208677696918778t'}, 'payReqId': 'RM20210513182428208677696918778t', 'status': 'AUTH_NEEDED'}
2021-05-13 18:24:38,382-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 18:24:38,687-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 18:24:38,788-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:24:38,788-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 18:24:38,789-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:24:39,068-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:24:39,069-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 18:24:39,069-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:24:39,124-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 18:24:39,125-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 18:24:39,133-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:24:39,416-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 18:24:39,416-INFO-lib.common.case_processor.entry-72-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': '1eBLXVOhrSak9WYbpqKfQjmDA30igI2E', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '"Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}"', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 18:24:39,416-INFO-lib.common.case_processor.entry-72-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'jHQlcB5uLz7eqVoTmOJhN6nXGCF8tswi', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '36.168.157.3', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx12174902371665b166d260a820e5580000&package=815192712", "payReqId": "RM20210512174902208677696903048t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 18:24:39,416-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 18:24:39,417-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 18:24:39,417-INFO-lib.common.case_processor.entry-82-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 18:24:39,423-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:24:39,465-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'm8dCxnjPFK4WZN63BDYucUsMkGoT7vyg', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-13 18:24:39,509-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210513182439208677696905587t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22MsJgdgABBwI3YWAGQ3Cs9t38ZcOsidXfjSWdJzDxyqQW2YOS%252BpkEfNNGY5gFN62xgDteqbQQDe2rm5yeMdjIi7rRWmLHAT1KciPKSisN4q65nBPtNHVy2UyrGl2lDN0%252Bymz8q1TU2ckszURwpKcL8LasJ3gb6MeN17lcVjlZgsQ%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210513182439208677696905587t\"}","payReqId":"RM20210513182439208677696905587t","status":"AUTH_NEEDED"}

2021-05-13 18:24:39,510-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210513182439208677696905587t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="MsJgdgABBwI3YWAGQ3Cs9t38ZcOsidXfjSWdJzDxyqQW2YOS%2BpkEfNNGY5gFN62xgDteqbQQDe2rm5yeMdjIi7rRWmLHAT1KciPKSisN4q65nBPtNHVy2UyrGl2lDN0%2Bymz8q1TU2ckszURwpKcL8LasJ3gb6MeN17lcVjlZgsQ="&sign_type="RSA"', 'system_order': 'RM20210513182439208677696905587t'}, 'payReqId': 'RM20210513182439208677696905587t', 'status': 'AUTH_NEEDED'}
2021-05-13 18:24:39,636-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'obnDjdt6cqB8QZT2vR7UEu0hM9AsPSNa', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '218.223.204.49', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-13 18:24:39,964-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13182439904994c70aa0a97f4be9f00000&package=2045381601","payReqId":"RM20210513182439208677696968141t","status":"AUTH_NEEDED"}

2021-05-13 18:24:39,964-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13182439904994c70aa0a97f4be9f00000&package=2045381601', 'payReqId': 'RM20210513182439208677696968141t', 'status': 'AUTH_NEEDED'}
2021-05-13 18:24:39,965-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-13 18:24:39,979-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-13 18:24:39,981-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[8712228417183556695445229433]]></transaction_id>
<nonce_str><![CDATA[JFSfsp5CyQ8nUqaYGBWHRkIwP6vdNAX0]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[94B05B5320A7A023F5F9DB23A6548C80]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210513182439208677696968141t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210513182439]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-13 18:24:41,395-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-13 18:24:41,396-INFO-wxpay-scarlet-60-回调解析成功
2021-05-13 18:24:41,410-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 18:24:41,411-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 18:24:41,411-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "00096536442360"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "yOh89eBa5M1TtXGAswKZucrWqI2xmL4Q"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 18:24:41,519-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "93cc14b8ecfb4a34bdbf5956b8369a62"
s_p: "RVBkanM4VVdWZmxiendHc1FWbVZyQmFRTkdmTnpmZlpmY1Rwb3Y0a3ZFTzhiMnBoVVpJcW53TmloQXd0eExxZVJQbERYVEhxeUh2bnEwd0xCZG42alZOSWtVdkk3YkNidHFPcUcxWjlzcEtCaXQxTEp0bTJMMzJuV0VUMkFqWHgybjVCMGltQjE0R3ZQUXhUcFVMQ0FXNDFzdUVNN3ViWnlUajJtcnNzd1FROUJjTWR6alFGdlhKVUtrcGRxa3psREZjalF6RndYaUliS2tKVW5LdDYzY2FNcTRsejI2UFh0djVvUG55a21yT3d5c2ZyakFMdmdRSm9OOGhZcVQ5SHNnZHlzRmJQdVhqSm5Fa0U5WWR6QnUxbExndTNKNlZlZnFNVVZLdGhoTkY5M0hzbnNFVzQxcjVmSTZNVmxDNWJxRnNEbndaMk9BSkVTTjgwZDNsV1dZUjk3VFlDTW1wZ3V3d2o5YTh6ZFlzVVM3WEFPWFpSdmlsemE1VUZVVmNqRGRxc2ZDTUdRR21BemRkS2ZrVEZOU2t2ZjlLQXBVOG5YelpTNngyeG0wVVpqOFhjQ1NYVTRkMmNuYVNlVlF4SVU2ZzFacHc1bEJacFZ3dWZScFl4ajJIUHN3NFlpS3hTTWVCUGVLM25GdE1oVmdHSFBkdDV4NkgwbXk3MjdYU0VlekpQZ3hHN2NkeUQ5bjJLdWt2MHo2ZTc5cjFsaVhyWER2VjlJVVY5S3pZTktjY3BFdVZqeG1KdFdCbkxWbFFWTkM2TVJUemtTNTkzVFM3S0VmWHRISFN1SkVtVXJSYkVhd2h2RHhIMzlmaHh6ZWZPc0hXUDdaWXFpWThYUmc0MVNJQmtCMzltakhkdGlSVXRka3pZTVRrZUN2d2hpR1pQTnFUc0NocFBFSmNqRktudEhxZHJrbFo1RGppaURDUGl3UlRPdTVEeks5MDU5T2daa1FINXAyZVZBeVJOc2pDMElwU1lpdWZ5VmZXN3VldlprMHA4cTFqd2hTOXhkWXdDWFdYV1FrV0tpWm9FbkZLZTl4dTZjTnRVc3hpQ25oYkc="
m_p: "bd5IWRXl08nE3YEz8I172NbFwlY4Ex66B3r5v52HX2K0F3T6iEnoMjVZf62XEVtU"
e_t: "1621009481504"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 18:24:41,519-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 18:24:41,519-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 18:24:41,520-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "93cc14b8ecfb4a34bdbf5956b8369a62"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "HqyHvnq0"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210513182439208677696968141t"
version: "265"
queryType: "PAY"

2021-05-13 18:24:41,614-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-13 18:24:41,616-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210513182439208677696968141t"
2021-05-13 18:24:41,629-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 3384, 'pay_req_id': 'RM20210513182439208677696968141t', 'notify_id': '8712228417183556695445229433', 'partner_order': 'obnDjdt6cqB8QZT2vR7UEu0hM9AsPSNa', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '218.223.204.49', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 18, 24, 41), 'success_time': datetime.datetime(2021, 5, 13, 18, 24, 39), 'modify_time': datetime.datetime(2021, 5, 13, 18, 24, 41), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 18:24:41,630-INFO-FizAssert-31-订单详情：{'id': 3384, 'pay_req_id': 'RM20210513182439208677696968141t', 'notify_id': '8712228417183556695445229433', 'partner_order': 'obnDjdt6cqB8QZT2vR7UEu0hM9AsPSNa', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '218.223.204.49', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 18, 24, 41), 'success_time': datetime.datetime(2021, 5, 13, 18, 24, 39), 'modify_time': datetime.datetime(2021, 5, 13, 18, 24, 41), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 18:24:41,630-INFO-FizAssert-42-订单表信息记录正确
2021-05-13 18:24:41,754-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Ct4UL0Dv3rlshYBFIwuQA6b7RZHjK2Nz', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 18:24:41,771-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 18:24:41,885-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Pa0X2wNu9fAFyKo7kYm5V1pnJjBOGlcC', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 18:24:41,896-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 18:38:35,552-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 18:38:35,814-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 18:38:35,914-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:38:35,914-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 18:38:35,915-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:38:36,209-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:38:36,209-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 18:38:36,209-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:38:36,327-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 18:38:36,328-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 18:38:36,334-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:38:51,937-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 18:38:52,253-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 18:38:52,366-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:38:52,367-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 18:38:52,367-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:38:52,628-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:38:52,629-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 18:38:52,629-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:38:52,694-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 18:38:52,695-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 18:38:52,708-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:39:12,969-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 18:39:13,279-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 18:39:13,381-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:39:13,381-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 18:39:13,381-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:39:13,647-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:39:13,647-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 18:39:13,647-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:39:13,695-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 18:39:13,696-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 18:39:13,717-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:43:21,270-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 18:43:21,575-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 18:43:21,692-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:43:21,692-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 18:43:21,692-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:43:21,960-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:43:21,960-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 18:43:21,961-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:43:22,013-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 18:43:22,014-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 18:43:22,030-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:46:32,013-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 18:46:32,647-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 18:46:32,740-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:46:32,740-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 18:46:32,741-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:46:33,039-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:46:33,039-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 18:46:33,039-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:46:33,285-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 18:46:33,286-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 18:46:33,292-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:54:27,597-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 18:54:27,871-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 18:54:27,982-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:54:27,982-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 18:54:27,982-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:54:28,236-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:54:28,236-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 18:54:28,236-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:54:28,298-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 18:54:28,329-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 18:54:28,335-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:56:07,950-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 18:56:08,223-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 18:56:08,321-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:56:08,321-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 18:56:08,322-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:56:08,839-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:56:08,839-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 18:56:08,839-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:56:08,904-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 18:56:08,905-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 18:56:08,918-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:56:09,223-ERROR-lib.common.exception.intf_exception-44-
2021-05-13 18:56:09,223-ERROR-lib.common.exception.intf_exception-44-
2021-05-13 18:56:09,223-ERROR-lib.common.exception.intf_exception-44-
2021-05-13 18:57:39,153-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 18:57:39,438-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 18:57:39,546-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:57:39,546-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 18:57:39,546-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:57:39,845-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:57:39,845-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 18:57:39,846-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:57:39,911-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 18:57:39,912-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 18:57:39,918-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:57:40,200-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 18:57:40,200-INFO-lib.common.case_processor.entry-72-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'm8dCxnjPFK4WZN63BDYucUsMkGoT7vyg', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '{"authHint": {"payType": "AlipayPlugin", "mes": "partner=\\"2088311951685799\\"&seller_id=\\"kekezhifu@keke.cn\\"&out_trade_no=\\"RM20210513182439208677696905587t\\"&subject=\\"SecurityPayments+test\\"&body=\\"SecurityPayments+test\\"&total_fee=\\"0.01\\"&notify_url=\\"http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader\\"&service=\\"mobile.securitypay.pay\\"&payment_type=\\"1\\"&_input_charset=\\"utf-8\\"&it_b_pay=\\"30m\\"&sign=\\"MsJgdgABBwI3YWAGQ3Cs9t38ZcOsidXfjSWdJzDxyqQW2YOS%2BpkEfNNGY5gFN62xgDteqbQQDe2rm5yeMdjIi7rRWmLHAT1KciPKSisN4q65nBPtNHVy2UyrGl2lDN0%2Bymz8q1TU2ckszURwpKcL8LasJ3gb6MeN17lcVjlZgsQ=\\"&sign_type=\\"RSA\\"", "system_order": "RM20210513182439208677696905587t"}, "payReqId": "RM20210513182439208677696905587t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 18:57:40,201-INFO-lib.common.case_processor.entry-72-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'obnDjdt6cqB8QZT2vR7UEu0hM9AsPSNa', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '218.223.204.49', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13182439904994c70aa0a97f4be9f00000&package=2045381601", "payReqId": "RM20210513182439208677696968141t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 18:57:40,201-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 18:57:40,201-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'Ct4UL0Dv3rlshYBFIwuQA6b7RZHjK2Nz', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '"Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}"', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'passed', 'comments': None}
2021-05-13 18:57:40,202-INFO-lib.common.case_processor.entry-82-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': {'partnerOrder': 'Pa0X2wNu9fAFyKo7kYm5V1pnJjBOGlcC', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '"Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}"', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'passed', 'comments': None}
2021-05-13 18:57:40,209-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:57:40,281-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'x01eJjO2BXHfKMsgcZ3bSYaInyCqlLrN', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-13 18:57:40,346-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210513185740208677696971104t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22lUDblZVvr%252BmKZuJu9ZNLAfDAhajs0chnlcYRy7pMUoGJCbN5fEywwbNZVzNdwx0BhQn0a2yhRt7q4WY1%252FawDlxmfLps%252B9mCMTARblRRA7okths4fGW8siHwmPe8XIeHaZ7vuYWSpwE4bPn9YI5pAdoWXcDFvQfC%252FboOlwLQ%252F4d4%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210513185740208677696971104t\"}","payReqId":"RM20210513185740208677696971104t","status":"AUTH_NEEDED"}

2021-05-13 18:57:40,347-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210513185740208677696971104t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="lUDblZVvr%2BmKZuJu9ZNLAfDAhajs0chnlcYRy7pMUoGJCbN5fEywwbNZVzNdwx0BhQn0a2yhRt7q4WY1%2FawDlxmfLps%2B9mCMTARblRRA7okths4fGW8siHwmPe8XIeHaZ7vuYWSpwE4bPn9YI5pAdoWXcDFvQfC%2FboOlwLQ%2F4d4="&sign_type="RSA"', 'system_order': 'RM20210513185740208677696971104t'}, 'payReqId': 'RM20210513185740208677696971104t', 'status': 'AUTH_NEEDED'}
2021-05-13 18:57:48,545-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 18:57:48,814-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 18:57:48,908-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:57:48,909-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 18:57:48,909-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:57:49,208-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:57:49,208-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 18:57:49,208-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:57:49,255-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 18:57:49,256-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 18:57:49,265-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:57:49,547-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 18:57:49,547-INFO-lib.common.case_processor.entry-72-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'm8dCxnjPFK4WZN63BDYucUsMkGoT7vyg', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '{"authHint": {"payType": "AlipayPlugin", "mes": "partner=\\"2088311951685799\\"&seller_id=\\"kekezhifu@keke.cn\\"&out_trade_no=\\"RM20210513182439208677696905587t\\"&subject=\\"SecurityPayments+test\\"&body=\\"SecurityPayments+test\\"&total_fee=\\"0.01\\"&notify_url=\\"http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader\\"&service=\\"mobile.securitypay.pay\\"&payment_type=\\"1\\"&_input_charset=\\"utf-8\\"&it_b_pay=\\"30m\\"&sign=\\"MsJgdgABBwI3YWAGQ3Cs9t38ZcOsidXfjSWdJzDxyqQW2YOS%2BpkEfNNGY5gFN62xgDteqbQQDe2rm5yeMdjIi7rRWmLHAT1KciPKSisN4q65nBPtNHVy2UyrGl2lDN0%2Bymz8q1TU2ckszURwpKcL8LasJ3gb6MeN17lcVjlZgsQ=\\"&sign_type=\\"RSA\\"", "system_order": "RM20210513182439208677696905587t"}, "payReqId": "RM20210513182439208677696905587t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 18:57:49,547-INFO-lib.common.case_processor.entry-72-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'obnDjdt6cqB8QZT2vR7UEu0hM9AsPSNa', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '218.223.204.49', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13182439904994c70aa0a97f4be9f00000&package=2045381601", "payReqId": "RM20210513182439208677696968141t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-13 18:57:49,548-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 18:57:49,548-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'Ct4UL0Dv3rlshYBFIwuQA6b7RZHjK2Nz', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '"Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}"', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'passed', 'comments': None}
2021-05-13 18:57:49,549-INFO-lib.common.case_processor.entry-82-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': {'partnerOrder': 'Pa0X2wNu9fAFyKo7kYm5V1pnJjBOGlcC', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '"Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}"', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'passed', 'comments': None}
2021-05-13 18:57:49,555-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:57:49,581-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'TK3OpnvYg2cPAeHjLrJNai5SXqmz8xy4', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-13 18:57:49,619-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210513185749208677696923445t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22icFjLjqgnIh62ypZLx3fEdEaH1Z6EnpK0D%252BbgM3PY1QeY%252F4U8N6fIAZIL7hE%252FQFQCk9JuApRZZFWDARMxNnidCjH%252F%252FmKfhwUtrRcQi%252Fcr92iPGrGHwsx2UgK1VPRLc2VUXj68f4WHf7CyAth%252FjZRCM3NTxR8LFy6CGVfpLK%252BmuA%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210513185749208677696923445t\"}","payReqId":"RM20210513185749208677696923445t","status":"AUTH_NEEDED"}

2021-05-13 18:57:49,620-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210513185749208677696923445t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="icFjLjqgnIh62ypZLx3fEdEaH1Z6EnpK0D%2BbgM3PY1QeY%2F4U8N6fIAZIL7hE%2FQFQCk9JuApRZZFWDARMxNnidCjH%2F%2FmKfhwUtrRcQi%2Fcr92iPGrGHwsx2UgK1VPRLc2VUXj68f4WHf7CyAth%2FjZRCM3NTxR8LFy6CGVfpLK%2BmuA="&sign_type="RSA"', 'system_order': 'RM20210513185749208677696923445t'}, 'payReqId': 'RM20210513185749208677696923445t', 'status': 'AUTH_NEEDED'}
2021-05-13 18:57:49,748-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'A3duY8jJlwbXUK7cnH29xfGEOWs6tq0m', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '216.11.101.17', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-13 18:57:50,079-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1318575000682986f7d8cec59a5f830000&package=869708208","payReqId":"RM20210513185749208677696954287t","status":"AUTH_NEEDED"}

2021-05-13 18:57:50,079-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1318575000682986f7d8cec59a5f830000&package=869708208', 'payReqId': 'RM20210513185749208677696954287t', 'status': 'AUTH_NEEDED'}
2021-05-13 18:57:50,080-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-13 18:57:50,111-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-13 18:57:50,112-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[8205654716484620295884877374]]></transaction_id>
<nonce_str><![CDATA[nZwJ43PT6giuHECvGXWd7tobfmeqy02a]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[B70FF7460B3E6CB5682285E9C8377839]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210513185749208677696954287t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210513185750]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-13 18:57:50,365-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-13 18:57:50,366-INFO-wxpay-scarlet-60-回调解析成功
2021-05-13 18:57:50,380-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 18:57:50,381-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 18:57:50,381-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "31348128404913"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "elMhJESGb9HACayt8pkoOzRIvKwiNq5Y"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 18:57:50,478-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "39c4cbdc36b4415a980e3ee51f434698"
s_p: "dEI5Tzlhd0ZpTkMwVVBBdHRYdWZjOHBjN1IzZGIzS09vazc4NDBnbkdyTVlibUg4a0RobE81R1Btd0pHZGdPRHhBbGJ4cWZ6cGFpOEs4NDd4M3BGRUxORFNLc3J1NW40M3BSVDRWc09FZ3dwUDRSaE92Qlo2eWRxeUZZSTN2aUpsS1FOc2FkZ1IxcTh3R3ZLamYzWlNMVktnZmw4UGJDc2hvNzVpbVBqQ2JjdXBoZVlMWEpBeHJpSDBlZkJoRnVWRlFhVVZaZTNlZjRKYzR2azJMTkNhR0pCd2RzaUtRRlBCU2haSGlxZ296RWdqeFFNMk84ZTlUVUlBWHFPRGphQ3FRcXNDZ1NXc0xVT3gza1ZmOTNLUjFRRVFDbnRodW92TFM4aVRmWUFLc0NtM0x6WEx4Y2FqanBHaHV0MDFVbTVLTlRCZlltNG5pNjE5cmVxd200MjdpTTJqdmwwSHN2RnJ6YnhmczNVRlJWNDdRaUlxbUoxaDh5T201SDgwb3hFdTRudFZoU3lrY3ByRzNBWXF4bDdZZGk4Y2R3TmJ6UElnVHhvRHNtT3Zyek5CYWZnSDZXNXptOENHajZGT2daa0dJZUFDWTJsWG94TGIycTFHc3pLczBQamxKQ1ZMdVYwV0hTRjRSbHJJUXNNd3dLellVZUw3V3kzbFlRWnBKTUNHZXJWbUtJd0tUMHBPcmo2eU80TzNob1UzaWdYSlNVQzc0QjJOaWxpbzM0UUVsNkZHdUx5WFRJcXZ0YjNVZXR0WXMyT2ROM3pZbEpjUlZoRU5lVlZ5VEhDVnNqOVNiS05IUnF5eElnckVqdEtKNkxkdGVONTBVbDh5cnhBNTh5R1dKekFKRXpsTU5zNU1Va2FtUE5XUmFtVGVZVDh1ZGkwakEzMzJTcUR3TENxSFlGM1ppQWlqanFTcWdQNnNSUHRkb2JaeXdRTlJSWmdST0N1STdROGlnQkhldFBKZkZhNDdpalFVZFJiVzVSSmRKNHRrVXY4NlJPWWVuMXVkUzY5SnJBYXR3Y3BJM1lnRHl6cmNMVjU4NFVHMVlxMnRackM="
m_p: "5Qv1YjxReipdsM630Qx2U5t9xUh5Oxs0uzHXpC906m6c6BU3Tq3WA0OP9vx5djHW"
e_t: "1621011470467"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 18:57:50,478-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 18:57:50,479-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 18:57:50,479-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "39c4cbdc36b4415a980e3ee51f434698"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "mwJGdgOD"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210513185749208677696954287t"
version: "265"
queryType: "PAY"

2021-05-13 18:57:50,611-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-13 18:57:50,613-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210513185749208677696954287t"
2021-05-13 18:57:50,667-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 3387, 'pay_req_id': 'RM20210513185749208677696954287t', 'notify_id': '8205654716484620295884877374', 'partner_order': 'A3duY8jJlwbXUK7cnH29xfGEOWs6tq0m', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '216.11.101.17', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 18, 57, 50), 'success_time': datetime.datetime(2021, 5, 13, 18, 57, 50), 'modify_time': datetime.datetime(2021, 5, 13, 18, 57, 50), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 18:57:50,667-INFO-FizAssert-31-订单详情：{'id': 3387, 'pay_req_id': 'RM20210513185749208677696954287t', 'notify_id': '8205654716484620295884877374', 'partner_order': 'A3duY8jJlwbXUK7cnH29xfGEOWs6tq0m', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '216.11.101.17', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 18, 57, 50), 'success_time': datetime.datetime(2021, 5, 13, 18, 57, 50), 'modify_time': datetime.datetime(2021, 5, 13, 18, 57, 50), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 18:57:50,667-INFO-FizAssert-42-订单表信息记录正确
2021-05-13 18:57:50,804-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'NyRP2C9ovVt1UDI7e0rOZqj8KBMhWnup', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 18:57:50,826-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 18:57:50,949-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'QTajHRJoGWqn5gz4Sc3bK86eB0CUMhOV', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 18:57:51,004-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 18:58:20,583-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 18:58:20,928-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 18:58:21,030-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:58:21,030-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 18:58:21,030-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:58:21,321-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:58:21,321-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 18:58:21,322-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:58:21,425-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 18:58:21,426-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 18:58:21,438-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:58:21,720-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 18:58:21,720-INFO-lib.common.case_processor.entry-72-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 18:58:21,720-INFO-lib.common.case_processor.entry-72-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 18:58:21,720-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 18:58:21,721-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 18:58:21,721-INFO-lib.common.case_processor.entry-82-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 18:58:21,727-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:58:21,770-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'o0wQhE5Gk6S3pie1Wab7ICqglADFxMU2', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-13 18:58:21,821-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210513185821208677696983553t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22vkPS1LFbowZmx%252FocLB7jCH7fELAHWTz%252FaOLXvXMIjbJIVe%252FJGG%252BSdHuzigqkBciyX%252B0UwPktqWNVZhRbv3smUuTjTC64WHuLRig7DZVt2ivehWTAYRqR7w7lrm8YweTMsyuTH1X38sRc5M2VG19SKu5kKYF9U7lwegeif3p441I%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210513185821208677696983553t\"}","payReqId":"RM20210513185821208677696983553t","status":"AUTH_NEEDED"}

2021-05-13 18:58:21,822-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210513185821208677696983553t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="vkPS1LFbowZmx%2FocLB7jCH7fELAHWTz%2FaOLXvXMIjbJIVe%2FJGG%2BSdHuzigqkBciyX%2B0UwPktqWNVZhRbv3smUuTjTC64WHuLRig7DZVt2ivehWTAYRqR7w7lrm8YweTMsyuTH1X38sRc5M2VG19SKu5kKYF9U7lwegeif3p441I="&sign_type="RSA"', 'system_order': 'RM20210513185821208677696983553t'}, 'payReqId': 'RM20210513185821208677696983553t', 'status': 'AUTH_NEEDED'}
2021-05-13 18:58:21,978-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'VJIyxBX7r4dmeb9jahlQSWzMg80CUvcK', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '114.176.59.12', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-13 18:58:22,311-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1318582225868627929e37fe471eeb0000&package=4262187036","payReqId":"RM20210513185822208677696927700t","status":"AUTH_NEEDED"}

2021-05-13 18:58:22,312-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1318582225868627929e37fe471eeb0000&package=4262187036', 'payReqId': 'RM20210513185822208677696927700t', 'status': 'AUTH_NEEDED'}
2021-05-13 18:58:22,313-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-13 18:58:22,353-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-13 18:58:22,354-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[4073764639246567489948311827]]></transaction_id>
<nonce_str><![CDATA[nmNsqjXB2KuiVF31R8Cf5hQOGAtYEkSJ]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[72B79A10255076EC0231D9DF317517C6]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210513185822208677696927700t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210513185822]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-13 18:58:22,539-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-13 18:58:22,539-INFO-wxpay-scarlet-60-回调解析成功
2021-05-13 18:58:22,554-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 18:58:22,554-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 18:58:22,554-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "99837642707057"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "JxPFYjpAwiO8ChbqyWdu7fSHgZk6oNMc"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 18:58:22,653-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4cd76b77bf2d4f1b9e6e7110bd6ee5c1"
s_p: "bGEyQjN4a3REYVZES0NERHFRNHN6bmRkaXFVQm5YWmNuZWdXMDd0SnlYb2Jxcmthc3pkenhGdERpUTcxajRBdDdGNDZCejlXV0JhZ3pwazkzVm9FMXZaU2pYUzFSbnJSSGhialpJbkdmQ00xeEZpaEJ1MTI4VGVhdnpkZGRub2ZISUd2SmxuRFI2d0ptYnRraFBFaTgxRU9JcVhEbFRrQzQ2eDNhd1gwaHJaZFNXeGVGbnVCZjVXU25IR0w3QnhGdEJzaklJRXZWZWZrRVhBckFxS2VoVHdnRjhaR09leEZLbzVZSnVFUVB4dDRQTzVtQ09ZMWt3MWNFM1B4RzVYMkJaTzVHUTlSMVVWY081U2RSYTA3eUVvU3lOZTJZNmVkSEhKMmdSMm9qZVQzYXBoVnN4cmwwRkFONk9pYnVrWGtDZVNlZWtaSVpwdDhYZ25DZ0JJZXZLWTk3SW4xOExkRmk2bUNjQWZscm94eXhtNFFqeWJuck9GT1BxdDJRV0pJS0FhN1lod1h3bEZ6RVZEd3Q2OHNDMWNxVXM2NGZ3eXVOd1V1Tmd6azFvVGEzeE5KTnpiWXFxYTlRdzJVWlQ3dDcySHdzQ2F0dlRMWXRLcDU5UEhnemdpeTg1TFVRRHBZQ091eVpQcVFyT2RXMWlSMXd3Y2JkY0M1WGZMQmtaRVlMZXpha095RzhGcmRYbEhGQzFqbTFqTHd2dW5UMGw5QXVwVGxJY2ptOFFPcVhUY0ExQWszZVR0alVRRVhsQkFUV0VpR01IeTdXa092TnQ3NFF5ZWpHZXpLQmFLRUdvQ2JVOXNtenVxQWlHMlg3NnRxS2RQODlaeFdHa2UwYkJCVlcwVEs5R1l4cUlZamhlbkpCclB1bkRZU2pTMlEwc1daNmpSWW1YN1o1ZTNyTWVRQnBxZ1BtSENZZHpjQ1NLbnRPVVRqUjZjWXJqekxXRTNxWGNRZEF5N1VyZHBrbTQ2NVJXeGduU1NRUDN2a2diVUJGQUZ4b3d3VzVEZFlOV0FLRlpMdHdOa2xzRkk0Rm9EYzFMUGRhZ2huWngxeVhOajY="
m_p: "JXTZ7te56XEhL21ku3A1CZ4p083w6338442jXYULJeY5UxIe20s9xTwZQ31yG945"
e_t: "1621011502639"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 18:58:22,653-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 18:58:22,653-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 18:58:22,654-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "4cd76b77bf2d4f1b9e6e7110bd6ee5c1"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "71j4At7F"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210513185822208677696927700t"
version: "265"
queryType: "PAY"

2021-05-13 18:58:22,732-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-13 18:58:22,734-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210513185822208677696927700t"
2021-05-13 18:58:22,750-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 3389, 'pay_req_id': 'RM20210513185822208677696927700t', 'notify_id': '4073764639246567489948311827', 'partner_order': 'VJIyxBX7r4dmeb9jahlQSWzMg80CUvcK', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '114.176.59.12', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 18, 58, 22), 'success_time': datetime.datetime(2021, 5, 13, 18, 58, 22), 'modify_time': datetime.datetime(2021, 5, 13, 18, 58, 22), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 18:58:22,751-INFO-FizAssert-31-订单详情：{'id': 3389, 'pay_req_id': 'RM20210513185822208677696927700t', 'notify_id': '4073764639246567489948311827', 'partner_order': 'VJIyxBX7r4dmeb9jahlQSWzMg80CUvcK', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '114.176.59.12', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 18, 58, 22), 'success_time': datetime.datetime(2021, 5, 13, 18, 58, 22), 'modify_time': datetime.datetime(2021, 5, 13, 18, 58, 22), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 18:58:22,751-INFO-FizAssert-42-订单表信息记录正确
2021-05-13 18:58:22,882-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'sTHtd7KWJnE5oFYONreCSg8iPjb0ZUwB', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 18:58:22,899-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 18:58:22,998-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'kBv0SlYn79OD3zjGtwWrNKMQAbf8dg12', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 18:58:23,013-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 18:59:07,699-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 18:59:08,055-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 18:59:08,174-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:59:08,174-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 18:59:08,175-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 18:59:08,464-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:59:08,464-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 18:59:08,464-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 18:59:08,597-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 18:59:08,598-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 18:59:08,614-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:59:08,895-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 18:59:08,895-INFO-lib.common.case_processor.entry-72-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 18:59:08,895-INFO-lib.common.case_processor.entry-72-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 18:59:08,896-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 18:59:08,896-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-13 18:59:08,896-INFO-lib.common.case_processor.entry-82-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-13 18:59:08,902-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 18:59:09,059-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'QwJCf1sLRiAV87pWM9TZvmSYPjB6Nzco', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-13 18:59:09,096-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210513185909208677696926352t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22fAkU49pEGfHCKPwQ9DzyhLbqMicaJg3R%252BFl4j0ASeElt6ANW9qAwxjjLG4iTy7IFZ8Hj9dOF0ZJrWZiUPSXHTb30VRkDdCer4sO%252BfG2UDDg50wtxzVJZUUH6Ijpx2BxUYD2anDocVuqcu2vjqbSY4uNY9ElSPE94DtuxgypiqM0%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210513185909208677696926352t\"}","payReqId":"RM20210513185909208677696926352t","status":"AUTH_NEEDED"}

2021-05-13 18:59:09,097-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210513185909208677696926352t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="fAkU49pEGfHCKPwQ9DzyhLbqMicaJg3R%2BFl4j0ASeElt6ANW9qAwxjjLG4iTy7IFZ8Hj9dOF0ZJrWZiUPSXHTb30VRkDdCer4sO%2BfG2UDDg50wtxzVJZUUH6Ijpx2BxUYD2anDocVuqcu2vjqbSY4uNY9ElSPE94DtuxgypiqM0="&sign_type="RSA"', 'system_order': 'RM20210513185909208677696926352t'}, 'payReqId': 'RM20210513185909208677696926352t', 'status': 'AUTH_NEEDED'}
2021-05-13 18:59:09,236-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'pjOeZ4h0xET2gcUMvlQq9JV6fyCzuNLK', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '215.204.210.158', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-13 18:59:09,553-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13185909499005d2e6fb6ba058e98f0000&package=3768734855","payReqId":"RM20210513185909208677696977380t","status":"AUTH_NEEDED"}

2021-05-13 18:59:09,553-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx13185909499005d2e6fb6ba058e98f0000&package=3768734855', 'payReqId': 'RM20210513185909208677696977380t', 'status': 'AUTH_NEEDED'}
2021-05-13 18:59:09,554-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-13 18:59:09,575-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-13 18:59:09,576-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[9652412229699457678256331798]]></transaction_id>
<nonce_str><![CDATA[ezGBtAFKxM9Hu4V6a3jvmlCgwOYsN7hX]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[48A2E7D7424B09521FD7F3A12EF79541]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210513185909208677696977380t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210513185909]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-13 18:59:09,780-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-13 18:59:09,780-INFO-wxpay-scarlet-60-回调解析成功
2021-05-13 18:59:09,795-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 18:59:09,795-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 18:59:09,795-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "14658828839203"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "MxHuZT2UKqegaivjENJLwF9lG4yCcRdY"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 18:59:09,862-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "711066ba59d740d381783ec50100b72c"
s_p: "RXRnV0JxUm01aGtFbk8xR3BYMGtIVTNtMEd2RmViOU5lZ3Z1TmpaR1d1blprT294QmZBS0NYbzhmV2tlZ0lKVnplWmNjNHQ4VHo3S3NTRFJOcGZuRUxvTXcwd09UZVF3Yk1hbmdmd3hXR1czeW5UaThJUE1TRkVGWnl2Y2lnd3pLMkFXUFNGTG4zUnlkOUx4ZUNMU3VlV0NOUFlQRzh3QUhhRnJwM05rRjI2RmpjU3pabnZrMTUyWGNEQmJONUVEVHdnTHB1eHNvVzRJb3lQZmFHR29vM2ZOb0FtOWJhdzd5Qjd4YVpXVEJUM01acWRRMTFDejV5MHpPcUx3UENoMG1DZ0F2Z0ZoQnNiUk5vcWVLR1Rsa3VBWjVsRUdLanFsVzBaUnNLVzAzbDRFUTBKVWtZN1dzZTB3SE9SSTc2VW5xSGZ5eGZlUmVLTW1zcHdDQ2RMcVlralRZMnlnMnFDb2RUcXdPOWJtWk9Cc21paU1vZFpsNDJLcTQ1dk8zbjV3NTZpNEtic2xNVFZpZDI5SmU1WVFTQ3U5MkxRa2Q2SUVxakQ3ME03QTdKV1BNWk14dFIwRk5HNlYzU1JFUjMxZ0pKWGtQV3pGbXFPUmRXYUxialJoWWFGakxzZW4zZnVjbmpWWmhZVkpaeFpNWThLRzBFa05SNlFqQXFuTk9lQ3d1M0hMZWZFUTJJSEkwVGJ5M2tMcXB2MzZqVWEzQnEyZzRoZWRvZVRBVExkV29VR3JCUlByVE8xcXZnUG9aMUJxc2ZwNkJzWlJCWDYweUVXTWNDekVoY3lad05iTkg4WHNZMVVucHpETm1LVVN3VXdKNHo1QVdTaElXUlNyYUNiYndFa2tkSnN6bWE2OVl1Vmlha1VZNmFLUkY1aElkazhCWENHNGdyUEZnNVFPa2s4MUdOZDRKOEVPUURpZFBBRHkycmVmY3ByVXF5MGxPdlVJVmlhaDV1bGJXTEVMNnFzdGZPVTVSeDNSZU9TdzlUb0JRZ3JwcTZwNFRsYjN5N2c5Y0NJU3FKTGYyY2Yyb3lsbE1rVURVaXY0eEhIVTVkMW0="
m_p: "5J5f84DGR44RG4Wt3gaI1xjkdMYn6W9XUBm0p4Rh0n894bJh77B4PyHMAQ33HV68"
e_t: "1621011549854"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 18:59:09,862-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 18:59:09,862-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 18:59:09,863-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "711066ba59d740d381783ec50100b72c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "igwzK2AW"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210513185909208677696977380t"
version: "265"
queryType: "PAY"

2021-05-13 18:59:09,939-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-13 18:59:09,941-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210513185909208677696977380t"
2021-05-13 18:59:09,960-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 3391, 'pay_req_id': 'RM20210513185909208677696977380t', 'notify_id': '9652412229699457678256331798', 'partner_order': 'pjOeZ4h0xET2gcUMvlQq9JV6fyCzuNLK', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '215.204.210.158', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 18, 59, 9), 'success_time': datetime.datetime(2021, 5, 13, 18, 59, 9), 'modify_time': datetime.datetime(2021, 5, 13, 18, 59, 10), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 18:59:09,961-INFO-FizAssert-31-订单详情：{'id': 3391, 'pay_req_id': 'RM20210513185909208677696977380t', 'notify_id': '9652412229699457678256331798', 'partner_order': 'pjOeZ4h0xET2gcUMvlQq9JV6fyCzuNLK', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '215.204.210.158', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 13, 18, 59, 9), 'success_time': datetime.datetime(2021, 5, 13, 18, 59, 9), 'modify_time': datetime.datetime(2021, 5, 13, 18, 59, 10), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-13 18:59:09,961-INFO-FizAssert-42-订单表信息记录正确
2021-05-13 18:59:10,121-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '9GahoYCHE5ysdr4B2MbeunO0WPLgDtqw', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 18:59:10,139-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 18:59:10,260-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'xK9fnvzU63PEe4WQGXNdbtZwSkj5uIoy', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 18:59:10,296-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 19:58:08,160-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 19:58:08,440-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 19:58:08,533-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 19:58:08,533-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 19:58:08,533-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 19:58:08,845-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 19:58:08,845-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 19:58:08,845-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 19:58:08,900-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 19:58:08,901-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 19:58:08,914-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 19:58:09,202-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 19:58:09,202-INFO-lib.common.case_processor.entry-72-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 19:58:09,202-INFO-lib.common.case_processor.entry-72-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 19:58:09,203-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.03, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 19:58:09,203-INFO-lib.common.case_processor.entry-72-{'name': '红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 19:58:09,203-INFO-lib.common.case_processor.entry-72-{'name': '可币+红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 19:58:09,203-INFO-lib.common.case_processor.entry-72-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 19:58:09,203-INFO-lib.common.case_processor.entry-72-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 19:58:09,203-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 19:58:09,203-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 19:58:09,203-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 19:58:09,203-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 19:58:09,204-INFO-lib.common.case_processor.entry-82-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"2","id":"","type":"7"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 19:58:09,204-INFO-lib.common.case_processor.entry-82-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 19:58:09,204-INFO-lib.common.case_processor.entry-82-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"0","id":"","type":"8"}', 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 19:58:09,204-INFO-lib.common.case_processor.entry-82-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 19:58:09,212-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 19:58:09,263-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'coqYMVuKGrFWsbX4BRxZeyLN590n2pgE', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 19:58:09,277-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 19:58:09,603-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Nom8Y9DOkL2xJ756ejFXPQhv0nwBCIKH', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 19:58:09,641-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210513195809208677696981772t","status":"ACCEPTED"}

2021-05-13 19:58:09,641-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'payReqId': 'KB20210513195809208677696981772t', 'status': 'ACCEPTED'}
2021-05-13 19:58:09,656-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 19:58:09,656-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 19:58:09,657-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "90596874841737"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "DmCLOa6GZB01ncyA4Mxgj72tEk3uwU5l"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 19:58:09,743-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "cea3c9c4a3c44677843442f4b4cc2ccd"
s_p: "Wm9pSXQ3VkZkTFcxSjFZSEtTZ1VXR2NjMXczMVdVZ3NpakFhcE9abEJ4czF6YWZnRFBWQnJLcFhnTTE4TURVcW9LQlY5aVV4Mjgzb1VzY1g1QmFsME1qZ21Td1hpRGpCVDl3bHhMa0lDMWJCblZLU1BsVFRjb3hPbUxqOU5tdUdtUFFiOUpTaXJ3dVNBSUFKQUdJVXJ5MDdjVWQ3aGM2anU0QXRqa1M5SXF0dUx2WXJjUHZ5VElJbXlBRUxZc0NPUWFnRDN0cGtiTDc0a3pOMUFWdGRNeWF4M0JwTlQwVVVtZWw1WTdaN0xDZU96ZXFrdnBBN0R1cUlxNm9JT3BWMGRpcGJSc3FaazA4U2hkVDBaTmVuUlpQZmNQYkx6ZDR5d1FXanQ3cGZKU1Bpa3VSblhxelJoRnhzV0hSZXFGd1BqVkt1TnhhUjk3NXR1S1dna0VGZlZWQ24yQXdOMVBRT255THFRME5Tb3VUOTJDRTQ2VUtmMkhIdnJCWnk5OGhGdHlQRHQ1MzhGNmxBQ2NZSGlvWlAzRUlQS0FudWluU2VuNEw2WkdoeWplZkNRT2xISm55QkllSTlKTVIyNEU5UzQ2amo1cjVwWFpEUjlDZmd0ZjVjSHVYZGNiOGE2cGVFNzFweUxWbEpScDF2eER2ZW53a1NOSmR4Q0s0ODU0Tk9XWHFyZlVub2FWMkJxRUd2Y1REZExINURQcWtjaFBSa3M3SWFTQjQ3UFRtUHJ1SlVNSDNNNE9MZkRXUVBaNXNkcWhXQkFXVHBtZVRIZzZyRVFCSzFGTXc4a3JzQ0dMVHNkRUtoRU5BQ1lNM2F2aTNwTmNHYW5wMGZhNHlkMVQ3WXJ1RjhZb3J6VWVvU0JWMEpjNUxrSk4yWVoybEZrc3QzTFNTZ0NueGdVSXRMSU1xaWtYbkFIczdOclhIQXB6UVRTMDdoUWs0QTFOWTdDamVhZDRhaVRhUklBdG40dXNOUGU1WElzT2ZJbzlWZ0lCenRSQWZnb0RCOThuTWtxZW80aWlKcUpSeEd4Qm9xVWlYb1p3U3B1R2NPSkpmNHBuY0g="
m_p: "EsuiPa66Easwx7P2SB557M73qBedmA08kKpVuUP8E4IWSPXm1GoEbrM2u6sr1x3C"
e_t: "1621015089733"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 19:58:09,743-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 19:58:09,743-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 19:58:09,744-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "cea3c9c4a3c44677843442f4b4cc2ccd"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "jBT9wlxL"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513195809208677696981772t"
version: "265"
queryType: "PAY"

2021-05-13 19:58:09,841-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 19:58:10,854-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 19:58:10,855-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 19:58:10,855-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "11085147666945"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "QmW8FPaNvK01sGDp3AgicLYdybxBTlVj"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 19:58:10,929-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "eba652adb0ef45ada25100d54fce06ae"
s_p: "UXNyemFXb0xFSTNZcjloTXN6T3plYk9kUzRteUVHdndxNmpuUnpJZUZaTDVaU0h1Z1ZXSlVQZDVLTlhiSnlUdTNiTTJRZW9MRkZ2eGtYalJDeDdPZWJMZ0VMM2M4c2pkcTdPR3JzbmhEdlJ4WkdsTFhHV2pHQXRwaEluUmpZU2kxclZKenpPWWNRRW9Vc1Z2T1ozV0JOaDNnUnhMQkVCR1BiSUs0Z2xyelhGSlhQODJ1WU9oTmtsWUFGcWdkZHF0b2htckI0RXRTWEVVeWwzekFaNndEVEFqU01nUzVoSW1TRmpLbnM1VUZpek4xY0VSRTBWVEZ1TkJqdkpMbkppNG1wNzh1RGdlSlJXVFVDazB4Tnk1UlFXNVIzYzNlRlFzbnNkWGk3bkhxZ0FnWFdoUlgxN3MxZTloN0FFdkpKZ0tHQTE3OUxYcmVQd3d2U005SG9pbWZVUkExWVRNMDhaWDZWUERweWpKbDIyaFJkVU9iZUFjaEV4ak9ldmE3YW9heXZidnVmWFk1dDFwSml6dmtUUWpUMUlTQ0xOU1FranJ2d1hSd3RiUmozdG9pTEw0OGEyUW5Wd1lBalpUc1NySGhIUE9WdlBrNWVxUWRyNVVCcENITHh2aVRIUGNYOFJ5S2VGMHZQN3VSWU51SUFDNktWMVp2VTJjSzlVQjg0QnRqUzROenlQSzI1Q2xlQThDTmZ6SkN5V0h3QWRrUkpkek1DZjVvVHVsbTVBMjlHaXk2ME03bTBGRzR3Y3RIWnFwSXJwTGEySXprckZ3cGZ3UVE5WDdtZE9lUkV4VmVWTGlMUFJISWZTaWlKVmZTZjNpYWU1dm8yNGRxZFpKV084T3dmVU5VTkpRbnBKYktZVUNJUWc3eG90YklqN1dSRFNVWmRTWTJzakdmZjJlSTROSnMxa01KQ3Q4d3NhcUwwNDBSRWVBSlpWNkI1MHFXOUVMclhLazdBSjU5eEJrMFFJenZIVVBQSnBRS1lEcmhiMkM3STZtS0xXYVZUMTNXeGllRUl1Y0Z4dER0ZTByT0JpN2UxS1lDYk1wUHNHUDN4VE4="
m_p: "S9P3HYmNzM0Xo48k20zN30PEGW1g5Tt6OD6zkhy2fujb7N4P3380mZSeRM674Ed7"
e_t: "1621015090916"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 19:58:10,929-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 19:58:10,929-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 19:58:10,930-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "eba652adb0ef45ada25100d54fce06ae"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "7OebLgEL"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513195809208677696981772t"
version: "265"
queryType: "PAY"

2021-05-13 19:58:11,040-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 19:58:12,053-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 19:58:12,053-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 19:58:12,054-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "16610374249068"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "0bWcfUals9kJhPKBCj7g1RL3O8ISDNoM"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 19:58:12,152-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4b8c801fa5cd437baec08fe3162a31f4"
s_p: "aUlhU1BXT01zWlZVc3JidnJUUWoyeEdKTmVZeGxudHlad1cyN2Z0SEVCV2JYVXlGQ1pURU5QNHpKVzN0WnM4NjlEUVl1QkdxTm81VDJFS1g0UWw5Rmg1UzRBaHhZZmZDZFpDME16TmhtZ2QyYWxXOVFDeFpBd2kzbklyZGcxN0FNb2d5UXZNQW1wT1Y2Nk9SY1JFU2xkY0d5YlpmYWdkSno4bEIwcmlZRXdjUW1za1Rsb1lJeWxwWDhaeHdNZ1AwQnpNR1YwcFpGemlIdkNMSmxwRXo4MlpGem1TYkdzWnpYY0YzWFh3UE1tU3FTdGs5VE5sVVpiZkFVSUo3YU1NUlNqSUpYNFo2Nk5mVE5TclRMMWN2Mmo4b05GZUdFTkpQcWlXZE5IUGg4WHJwVzFuR1VvQ2NjVnNSWVliRU1xUTl2RURlNzE5SkpXT3B6SEZ3anJvMjN5RUd1RDF4aUh1Q3FzT0NMU0ZCSGxiYmFCSnp6V0pkdHM1TWd3bVlnZlByRHNYdkhVV2ZWamxGN1NwTVg4eUp1MnRTSEh3S3VzRVJkWjQ1bldLd2ZXbTNtekFRcXBRckNSaUdVMHVBdEcwSUs5NEx6NDhMQkVLRnM2UmZiYlZYZndEdlpsVkdJVlA3cDJGcVpaRWUyT01DdlNpT1hvNDdwVU5pUTh6Y3ROMzVNNW14UFQ2STZXTUpxMjBDWDVkZUVzcTlhQ3llekJQeVVzMml6SkdtUkdiZDlWNDR6S21Fc0lQak9ydlAyMWdiV1JGaUJNQkVta1RPYlllREVsSW5zOVd4dkgwdlRTMGozVUJBTE9URDJ3Y2FZc01wSXlvMWpPOTNKRm1TZTVRODBkMGFpRzBpNDY5N05qbnN3RHdCUEFLTzVSQURRckVOVzZGSTYzbWxYZmxvczIyank5ZUpSa01yVnRnRWJaSEhRTm4wVWFLUGMxbUdnQ1hSN09aUDdjV2hnRmlERmZZSTlwa3F4Y05wSUtvazd4RGpqR0pDSXBYazJaNlFtc2ZIYXM0Wk5RNm9RN0N3SFBENGlUcXNrUXFjSXJINDJoVVQ="
m_p: "n7KjpvLU7q4HX4I42TA5pr07RArgJf67bP6ibrX3RlIEX53B836aYDI49zZimxub"
e_t: "1621015092143"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 19:58:12,153-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 19:58:12,153-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 19:58:12,153-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "4b8c801fa5cd437baec08fe3162a31f4"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "rdg17AMo"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513195809208677696981772t"
version: "265"
queryType: "PAY"

2021-05-13 19:58:12,228-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 19:58:13,394-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'tGwn4pd8b6K0JROUcZfFl3q1DaXLmrBs', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 19:58:13,419-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 19:58:13,482-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '7HRo2rDAgU8O09mSiswb3L1yKPa5v6jn', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 19:58:13,493-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:01:38,929-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 21:01:39,276-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 21:01:39,396-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 21:01:39,396-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 21:01:39,397-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 21:01:39,659-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 21:01:39,659-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 21:01:39,659-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 21:01:39,739-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 21:01:39,740-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 21:01:39,748-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 21:01:40,080-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 21:01:40,080-INFO-lib.common.case_processor.entry-72-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:40,081-INFO-lib.common.case_processor.entry-72-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:40,081-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.03, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:40,081-INFO-lib.common.case_processor.entry-72-{'name': '红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:40,081-INFO-lib.common.case_processor.entry-72-{'name': '可币+红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:40,081-INFO-lib.common.case_processor.entry-72-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:40,081-INFO-lib.common.case_processor.entry-72-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:40,081-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:40,081-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 21:01:40,081-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:40,082-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:40,082-INFO-lib.common.case_processor.entry-82-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"2","id":"","type":"7"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:40,082-INFO-lib.common.case_processor.entry-82-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:40,082-INFO-lib.common.case_processor.entry-82-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"0","id":"","type":"8"}', 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:40,082-INFO-lib.common.case_processor.entry-82-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:56,699-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 21:01:56,969-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 21:01:57,164-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 21:01:57,164-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 21:01:57,164-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 21:01:57,429-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 21:01:57,429-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 21:01:57,429-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 21:01:57,497-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 21:01:57,498-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 21:01:57,508-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 21:01:57,799-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 21:01:57,800-INFO-lib.common.case_processor.entry-72-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,800-INFO-lib.common.case_processor.entry-72-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,800-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.03, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,800-INFO-lib.common.case_processor.entry-72-{'name': '红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,800-INFO-lib.common.case_processor.entry-72-{'name': '可币+红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,800-INFO-lib.common.case_processor.entry-72-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,800-INFO-lib.common.case_processor.entry-72-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,800-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,800-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 21:01:57,801-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,801-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,801-INFO-lib.common.case_processor.entry-82-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"2","id":"","type":"7"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,801-INFO-lib.common.case_processor.entry-82-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,802-INFO-lib.common.case_processor.entry-82-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"0","id":"","type":"8"}', 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,802-INFO-lib.common.case_processor.entry-82-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,802-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 21:01:57,802-INFO-lib.common.case_processor.entry-72-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,802-INFO-lib.common.case_processor.entry-72-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,802-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.03, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,803-INFO-lib.common.case_processor.entry-72-{'name': '红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,803-INFO-lib.common.case_processor.entry-72-{'name': '可币+红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,803-INFO-lib.common.case_processor.entry-72-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,803-INFO-lib.common.case_processor.entry-72-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,803-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,803-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 21:01:57,803-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,803-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,803-INFO-lib.common.case_processor.entry-82-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"2","id":"","type":"7"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,804-INFO-lib.common.case_processor.entry-82-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,804-INFO-lib.common.case_processor.entry-82-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"0","id":"","type":"8"}', 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,804-INFO-lib.common.case_processor.entry-82-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:01:57,827-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 21:01:57,830-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-13 21:01:57,831-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '2031'
2021-05-13 21:01:57,844-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-13 21:01:57,845-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-13 21:01:57,845-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-13 21:01:57,846-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 690.47, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 8, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-13 21:01:57', 'ext1': '', 'ext2': '', 'maxAmount': 767.19, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105132101575351421880139437823795752223', 'ratio': 0.88, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': 'CC25BF7283825276AA9822D35263741A', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 5, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-13 21:01:58,067-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-13 21:01:58,067-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62641476', '62641477', '62641478', '62641479', '62641480', '62641481', '62641482', '62641483'], 'batchId': ''}
2021-05-13 21:01:58,101-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ulMqH6LxyBUX9f13ADG8N2F7QdCkwjOP', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:01:58,111-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:04,559-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 21:02:04,842-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 21:02:05,002-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 21:02:05,002-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 21:02:05,002-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 21:02:05,284-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 21:02:05,284-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 21:02:05,284-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 21:02:05,329-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 21:02:05,330-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 21:02:05,339-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 21:02:05,624-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 21:02:05,625-INFO-lib.common.case_processor.entry-72-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,625-INFO-lib.common.case_processor.entry-72-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,625-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.03, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,625-INFO-lib.common.case_processor.entry-72-{'name': '红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,625-INFO-lib.common.case_processor.entry-72-{'name': '可币+红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,625-INFO-lib.common.case_processor.entry-72-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,625-INFO-lib.common.case_processor.entry-72-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,625-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,625-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 21:02:05,626-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,626-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,626-INFO-lib.common.case_processor.entry-82-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"2","id":"","type":"7"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,626-INFO-lib.common.case_processor.entry-82-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,627-INFO-lib.common.case_processor.entry-82-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"0","id":"","type":"8"}', 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,627-INFO-lib.common.case_processor.entry-82-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,627-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 21:02:05,627-INFO-lib.common.case_processor.entry-72-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,627-INFO-lib.common.case_processor.entry-72-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,627-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.03, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,628-INFO-lib.common.case_processor.entry-72-{'name': '红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,628-INFO-lib.common.case_processor.entry-72-{'name': '可币+红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,628-INFO-lib.common.case_processor.entry-72-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,628-INFO-lib.common.case_processor.entry-72-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,628-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,628-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 21:02:05,628-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,628-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,628-INFO-lib.common.case_processor.entry-82-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"2","id":"","type":"7"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,629-INFO-lib.common.case_processor.entry-82-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,629-INFO-lib.common.case_processor.entry-82-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"0","id":"","type":"8"}', 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,629-INFO-lib.common.case_processor.entry-82-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:02:05,652-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 21:02:05,654-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-13 21:02:05,656-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '2031'
2021-05-13 21:02:05,667-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-13 21:02:05,667-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-13 21:02:05,668-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-13 21:02:05,668-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 7.69, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 9, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-13 21:02:05', 'ext1': '', 'ext2': '', 'maxAmount': 72.7, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105132102054944077002064444204679077934', 'ratio': 0.75, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': '4A5BDD5F83AD09D83E0B336AD58C3A4D', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 1, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-13 21:02:05,779-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-13 21:02:05,779-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62641484', '62641485', '62641486', '62641487', '62641488', '62641489', '62641490', '62641491', '62641492'], 'batchId': ''}
2021-05-13 21:02:05,828-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'VgqTlcoIBPiGUx42nSZXW0adJKA3sv6Y', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:05,844-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:06,168-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Fbc09QSkpJeUMTXs3LBIY54qzv6PdNmy', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:06,190-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210513210206208677696950827t","status":"ACCEPTED"}

2021-05-13 21:02:06,191-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'payReqId': 'KB20210513210206208677696950827t', 'status': 'ACCEPTED'}
2021-05-13 21:02:06,204-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:06,205-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:06,205-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "83637725647118"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ZqKUpa5PFvIB8dHlxY4AsCO2En9yf3QJ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:06,281-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "14431525d7224f77a3dfca0510311ffe"
s_p: "Q25BejZIdURCSERpcWlCNGxVM2UxVzZ6akdBQk1QMGR1ZW5BYTFaTjFieDJYTlJjSXN1Q3JMbnBMNmU4U2tXVjNqTW5JRXpidVZDckhCRUNDTHo1YzVyMzMzckgyTmdGdGlXMmpFbTR1YzFic3plOUJvblBjaGF2WnRjaUgwTkNWcW5aQ1hzamhPdnRhMGl6azhOOG5CTXlVWWhIQzlySXZVTU9kNUhvWDBKRFc5VXBTQU9ZcGxTQjlYTDBUYmFNUnBuTHd1RldLaENCV210eUZVSVg1T0twVW5NZGtHeG9QTVo5c3hLWmlSUHNzUjVrZm03S3RQOXpyVVlMMDJySzNUaWduRXpCTWJMSmJnUklCWDBiRGhySmYxS3J0MFlKcEs5YUprWTl5YXBva3g1eVlTWHFta1pNTG5VN1lDVWNpVTFiWHZVNDdheDA5U044Q2FjZGloM0JwUlVZa0dGNTcwajlXeFBpUTIydmVWdlo4V28wNXg0WkljMXJVclVJOWo4cFl0eTBmUHU0aTF0c2owNzIwS3BMUW9FdTNMZnIyV3h2OWZWZnNoVXpEQ0MzTDB3SG94WXN1N3JXWUlkMW1MeHhhVmNPTWhJOVdLdXVuWGx0V2I4NkpBbTBHckUzWlh2eFJWTFFhZUpsaldNOVhsOTR4RlltSDFRS0FDTGR5cGFkTmhNVVBRSEZVT3ZEMXU4QU41UVhUS3hVbDVLdHFIb1BKV2ZJTGlDZmtrbHIzQVBFdWRBcHRMdHdSWnhmY042amk5T2JDUHZXc0ZhWGoyem9Hc0NhYlZMWVhteXluc2NJaEM5bTNuZjkwTlFGdmxWQWpNNkg0VnJaYll6Tkp3Sk9qWDBBSFhQb0NDcDQwcU1JV3hKeTFrY0hWTGtZT0pWVjU2VHdPUW1NcExid0VuaDBQRkFRZVk0MGFvdmY2N3BjU3prZzBGT3JCYUtCc0JGcVMySFM4MjRTZHBnUmltckhYWEtEYm9wTVQzazdKRlFTc3VQcG9IT0xZTWZTbllnZk9uNXZqU0t4QkxoSjFmSVRDbHVJQ2ZQcURNOEk="
m_p: "cK32x2FVq7cU0myFKqq43CF93s6MPCYCE24d13cp2Kg811S4iuI2866KNw4X1pE6"
e_t: "1621018926270"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:06,281-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:06,282-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:06,282-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "14431525d7224f77a3dfca0510311ffe"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "e8SkWV3j"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210206208677696950827t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:06,359-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:07,372-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:07,373-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:07,373-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "25295984151373"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "zQJ1iVD0lGCf7IYedvh6kScsPTEUBNaF"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:07,445-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8433dec1b4ea4da8a4919a27ab667822"
s_p: "emFhZERZd2JFaHJXVVJrTmdhSVdSSkM4VE9RSUNQdjBydEhZaFVkbXRsRmE3N1o3YUhtWjZ6Q09mWDVFamNsYjhRb2xZZExFMmJwNERRY3JESkhNQUtONFNJSTV2STNydVo2Vmo0emRJYTJTMENlWlRJSFRleDFoSnFSU0t3SDB2SUx4UFpUNnY0QmdBYkFXd21kR1lWekozM2o1WnNjMno5T2s1ZW1FVmp1Sk9zYTR3NmdQc0h1MFBwNTg3TElyeENYTXBNRGZ0NjRhWjNyZUFKMWZ4T3FXb3ZGNHdqN2UzZlkxMWFSZDNqR3RPc1pRVlgxQm16OVRRWkdXZERkWGZ0WWV3OWpONXRUVmZZUU1qYlVXa2JZc0xXY1UxeFMyNjZnYlhqUFBrdmlqZjA3UkNRRGF5NVJTR3J3R0V3V2h3cGcxbjdtVkFsYk5WNVNtVW1WcmdBYUlKeUVWaFNjQzhFR2JIbUFFYm5YSmRFSzV0bWZxRGpsY2doNEloa1dMbUFzcDdSZGQ0WHQybTlZd1FHb3pDMzJIeU9uTEN5QzNDQkowV2dBMEx2NERGUHlRQ002MWpsbDhmQjlkZmplbVFQUTYxSmFQaVRuYzlzZ0ZnbUFWWmlxcWxZRU5aYUNjUXVMd2s3VkpuZjlxQTkzQ0tjWGJXdTZHSHpYTEplQklaTHVZb3VRUzNWdmo3Mm5YMnVBbzNRN1JMV3RiWjg3NDRIQ3ZNS2xHa25sTkRNS0t5TXFtWkM3SW5ucUlIMVd5ZGlsVXVQSTVvRHNLb2hrY3pzYmY2emxrd1RzOXQ4dWRYY2pyZDVzblU1YmVNWUh3cWtBQTZWYmMyNVdnMGNwY0I0UUxNWFBHd0lrMVF6SFdzd2VhdEhmSXZEWW82OGR1a1hoT2g5NWdQb3VqazVwbW5VU2dqT3haMmFNaUgwaHk0ZHcybkwwdnZhbllDcmRaTlc3V2t6UHA1NEhTc2RyNlQ5R0d0YTJGSWdOS295WnptNHFrZlhyc2lQRjJBekg2WEM0alBTWG1HNUo4YUZuWWFOSEtTNzE1dE1qRjI1cUk="
m_p: "EmPQ3a67EnYi6sC6Vnk19U8Bgn4a5L5Hm8M226796e3TGB2Tb70U5X6MESOK1alp"
e_t: "1621018927431"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:07,445-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:07,445-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:07,446-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "8433dec1b4ea4da8a4919a27ab667822"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "2bp4DQcr"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210206208677696950827t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:07,522-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:08,536-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:08,536-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:08,536-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "37748603837894"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "2TCL0Ykf8hJX7vx4m91QwUNtjnFyiHWr"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:08,601-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f876ace9246c4bd7af9b8ed0a4b9f93c"
s_p: "bWFVa0VGbjhMcXRCVGtrcGFPbHI4MWRvalhQVjdEdEtGS0VtbEZNOXF2UlA1aU5oUE4zWGFCZUhZU1FqeElENkZEbklVaGFTTDBPeG9kdzZTOUxTUlZUaTVwMnp5WDZMRWJaRDlIR1NIS0dPNUo0Qm5mTE9XZnQ1cklmMkZJeUs0VnkwZktHb25RNTBlY3NpdkFKSEQ2NW5oT1RqMjVjelhPN0gybjF3ZG1mQzlDZlhSNThDOHBrTFNNa0tqNHJCcjFzcTBrSGoyTHBpcGRQSXZveXNmMnZmYWRUanZ4Mmhpbzc3TUFlU0tSWE9pT0hKWXpObXZpWVhHOE9GS3V3aldqT0QwbEFwVXhCcnVPYlF4ZGZKcXBTeWx1aFljS2tLdGZQN1VVdE12Z2o1eGhYdzBPNjk0VDh4cFF3cmloYTRaVllIOExra1k5WkRRaWZMVXByTVFGRXJ4TGpRczZOWDRJc0Z6RFJ3b0lhQ0RzTG04dUdOQTc1dVF1OVpvdGtneDloZTEyNll6b0tBVzEwYTd3dmNZNnpzYzIwRmpIT0NvQ0RHNHc1MUlRNVI4TU1EdG5lSDhNNFdxVUlRNXl3Nkx0T1gxcE5UN0ZwbDF2R3dNb1hYemJOQkQxUnZtWGdRdmxPT3VuZW9GNFNkSHk3enV1Q1llWlZiTWdIc29udnF6ZjRreG1mNDE0STgzVDVEQVllRzZPMG85bFlENEdJalAwdTdwc1BUVHZKOEQyckoyZDNSTktZZ09iNVNvbTY2V29reHM3WkpRSG9STHpkb09XemREamJGektpWGtyU0dGTzY3YWZhV2hHN0h5Szc1MU1Md01TOHR6bDNLN04zajFBS0VZTGNPUmdTamNwYU9RNGFqUmg0aGE2b2hWV2ZQOUdaa2VMU3Y4VWtVdjhGVkkzT0FINWhtVWdwcVh1dGxOZjU1cW9XZ0RSZTBrQjg2NGdBSHBTbFlzTzNCTlVXNXpqRHlOc0lEaHc2UmppQ29vczBERmxaTlRoT21sTm9vT0FJbkpvc0wyMnZpUXRTcll6dWtya1BUQW15QlpaWVo="
m_p: "hErzvhHr4wWyvd076oq128FRf96WCsvfVN0pxE1hlBBWB0AmKdkuADE3V4wh65bw"
e_t: "1621018928591"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:08,601-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:08,602-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:08,602-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "f876ace9246c4bd7af9b8ed0a4b9f93c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "GonQ50ec"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210206208677696950827t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:08,693-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:09,881-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '5WIuT8Fd1sCG7xpjK93VibRPzQnU0yMJ', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:09,897-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:09,996-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'etWRXBDNiuhEZaGjJ7qVfgd12FUzorkC', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:10,011-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:10,343-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-13 21:02:10,344-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-13 21:02:10,345-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 1.63, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 1, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-13 21:02:10', 'ext1': '', 'ext2': '', 'maxAmount': 27.27, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105132102103210364502017159397664428443', 'ratio': 0.58, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': 'ED646A87D51A869889160DF205AC5DDD', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 2, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-13 21:02:10,389-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-13 21:02:10,389-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62641493'], 'batchId': ''}
2021-05-13 21:02:10,419-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'vYH0hgL1RsXd8wEaitoAGrcxUuTjPp3k', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:10,432-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:10,718-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'aEgRVzc15Sb9AJCWfNDwLlPkTurjM6Fm', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:10,745-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210513210210208677696920777t","status":"ACCEPTED"}

2021-05-13 21:02:10,745-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'payReqId': 'KB20210513210210208677696920777t', 'status': 'ACCEPTED'}
2021-05-13 21:02:10,759-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:10,760-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:10,760-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "10101534271330"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "tHr9uUY8goFGcxmjw4yJCX0BM5QsvEVn"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:10,838-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "700e32025cbd412aaed999f6fd76dafc"
s_p: "a3dKTXRPTzRXSzBqVTJvT1RUaGRON3B3dzVtblNtdldlOGtEcGg2U0dVUnJJdGRXSExkNFFVdXpxTDZkNXRpYkNJN3dhRVNMaXNqRlowU2I3QVB3ZzRlWTg1d0lTdUFRRHV3Z0xOcTdWbEZqZlNESVZtTXVQU2dyN01EUmpadm5BYXNCTzh3b0p4dHlOUVFKNGd3SHNpZVVRU3lTdTdqNWlUUXhJWVB4aFJ5VDZRVzU0ejZDMWNETnNVZDE1Zzc2UXNHVEl6dFgycmh4NVFQQUIyMVFzTUFOQlp4YktxeGljQ1BOV3BKQ2pJaW9qTWZBRWo1UVRDNzJZSk5SVlNFaVo5YUk2Q1JsWmpNMTIzUE9LUUJsME8xN1poMVlQcnVPN25YbTlqM3FIcTh1Sk9YTXJTbzJxc1RnYTBHVFE5N0pHY3JhVHJ4RTQwV000WGx0djJZRzlTQ2VObUxrU203TFFHWnNrYTFka2RQZjVSdWpNS1dDbnlrcFdwSkhleE1XSmh2aFNOUmVJZmdRdUVHT1d1ZjM2NkhXMnMzWnRhSWtrbzQydkNKZHA3ZzJHRWRjYkxCaVVTeUtWdXZiRHJKUEJGNUtKTmtjeG9iRzNZRU5rUzlQZEgzQjR4N3NQbE1mdER2MHR2bEZkSWJKWmlGdmp4WXYwYmNmc1IwRU4xWWc1NUl0SDg3NDFPYXMyMjRSSmRLeXJVdWtSckZ5UjNmSkhOcnk2bjlqbjMzNjJEVmY0ZEFKR054UXVFOXU5engyZVdkNG5JNVVqOXlDYTJiT0lEUjBRUHBGWEVVU1NzRHNnVVk4RFJyUmpMdFBkcG1vVDdleTQwVWRYNmZSZ0tpWnpQakJBaExna3ZmU2xnS2Jsb3NHdVNTOTQxSFgzbFlQaGp4OHFKTVAyZHA4dGt5b0FoSHBQaGNDZ0JRUVZ3YXh3ZUlSUmxaVzhYUWI0a0VGdDhEZXBrUHNzTjFkSUtqSEhxcDlKWkpHMUI5Z3FpbURWcURRMDJGNjJQRkQ1WFFrNnhmdUtFZ25zZjI3dUlGVmN2ZUU1MXNMY1Z0dGdqZFg="
m_p: "S5xz2Fgm10i7Mtd64v8nBbX1A7pppX48y2sHvWr72c5MfBH41PPY337eYfr006B4"
e_t: "1621018930828"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:10,838-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:10,839-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:10,839-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "700e32025cbd412aaed999f6fd76dafc"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "VlFjfSDI"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210210208677696920777t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:10,919-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:11,932-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:11,932-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:11,933-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "26515365539285"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "d5j8pw2UXfuO3HTBYLPDWEtCaRZnG6my"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:12,001-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "875ff6e1bafb4f6cab4ce9028cb3c97d"
s_p: "WGx3aHJtYkpReUVQOFFhWTdyc2NjNzFTTk9sazBXNzRtaE11UElRUkVPdHNrQkRYWVdtQ28ydTlZYnJDV0pXNU1YZ3NBS2kwemlkcDdRcEdQMFd1RmhMRmF0V2lWMXhHUEFkWVAxWkQ3TDlrNFo1Vkd6SlhLd3lCMjF5SjBvcU9jMnJDcVhsaFBPVHhMOTdQUjA4b0I5TEtDQ0Jza0JiYnVHYjFIY0hHemZpMm9wWE1BU0xscUtoQWJVcVRpT0IxalpTaVhhaG9BZjhyVTVWcWJiU1pzVFA5djFUZGFQcjJBR3M5U3p5dkN0UXBLOXh5aTB2RHVldjNjQU5UZmJXdmlNdjlKUU5YWERCTHZTSEFpdUt5dEtKejNMdjNkWHR3ZGFPMWV6U3Qyc0FZVWpMdUJFSlNlaklFTW5qQU1CQmgyT0dCdzA5QXBHVXZjZUQzTVBGSHBqbVh5UmlyWkNHSFJQMzBKdE9lWkE2c1lVYmxheUdGV09EVVZ4TmZzMDk0STA2RmVJODZRS05ab2JyY1RVSGxzQ29URlE4Z2xEQU9sY3JoaXNuVGUwTWs1b3Q0dFgxN01RUWk0eGhNdndKc0ZjcVlNQm5hOVpmYTlaYW9PazhkcEFiRlM1QnNaUjNJTXluVWpTUTUwRm9QUnA0c1JpWk1mVVZUWVZGR1MzME1WSmFuSVVLWVpiZVpMTkhrSmJJdDdVRmx1WTVDTmp6RjJlNXdRU3pwem5GVll4OHY0b0xYRGltNUQ1ZFFkTVVKamd2ZENGa3BDN2NvaVRXSnNEbUtZVFEzbnVjanR6VG9kMDFNdGR2NkFmZVVBTUR2SUluaE9IaHJtd05NbHc5VHFQQXcyWGdvcU1uMnlJYnJiS085Nk9tSkg0bmd2bU5relBZR2c3TjZxZ0VMUFJZTGhLcXdsNFo4aW9NM3VOdEhxajVQRlE1ZzdFWFEyWnByeklTUGtsZVEyRkFZdUJuYnRRUXMyUUpZRmQybUNXcHBtMWx6R0lZbDUxUzRGb0N5bVpQRnZjYlJGNHlqQVNzeVVrdnZFalhJdzJCdnJxZ0c="
m_p: "493nrFLVecf722z0tpqdRYLX7gCamDJbq2WaZN0s5K4F182vRoN6Jq6m51jOZyv5"
e_t: "1621018931990"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:12,001-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:12,001-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:12,001-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "875ff6e1bafb4f6cab4ce9028cb3c97d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "LFatWiV1"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210210208677696920777t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:12,067-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:13,081-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:13,082-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:13,082-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "66372797092887"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "RlMgNiwc1BvP8xyuhfOzb90GWSnYoHmJ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:13,187-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d6f80027fc3844d48c51a3b076ac7e29"
s_p: "SjhDemFzWjZTaG1Fb1htbENIc2p6MXBBNFMwbndid2VFWG5yZWpEc0ZlbnpTWDV2YjhVVDZYbUhQUUhyZzFFcE1rNnJZNHpKRkp2dW9vTmp0elhwYWZNREpVR3Z1aFBtOVVNYUVXSE5ud2Nkakd4S2lvUEg4cUdwd3JkaDdZQ0RwTk1GampDMjNlUjIzTlFJbW14Q1d1bnB0VEFCZk5vYVdMZVhDekU1ZFQ3ZXJaMjFDakQ2RUtqTGZlOUxQb01EbVREYlRsYVdVVEEzVHVlclFoVUpKZmNEZXFRN0dFN3dCUmw3MktUbnJLdkNxbWVBdklJd1N2ckJYRmJrYW1hUmlJREt3cndJT25aOFpwYlRKOFRLOGxsOXdNMVVRSUNKWTJ0d296RDF6MHFkUW03S0FVc3hkRXNCdDJjZTdKVUdhUkc1aXN6enYzVndjMjVkRm12bzl3QXFMekJYQk9Yd0JVNFRMNkRXSzdvY1B6RDRIZkI4ZjJZQ0lUTlR5TDJic29OUTNBQVVBWXY4ZGFqSHNoZ2dpemZsbFNTaGpORWJkeUxaRWk0dE1lNkRscE80MGFzbllYQ2Q5dWpzZEx4UDE5cWU4MnZyeHVZMGNWaXUwSng4Tnp0bmVpTjEyVUdmQWs2a0pTTzc5MHhDU0JUSm9tRWY1MnY3eVVZck9odlI4Nmh5akZZTFl3YU5zYVV2NU5wZmdsbVZUc21WUUtYNUE2ZUtXV1NMcDNsb2xrU1Q5NlhSR3l4dEtQYld4ZlFqcWhmaDIwZDU0WEVNdjhiQVlZd2trZ1NQNE45V2ZSM1VCeFZYUmpaMVJha1I3ajVnTjdpRmZ3a09SNm5NTEIxU3pDdWNVaUFtbmxISWJqVld0bnhuSmt3ZXByNGY4MDU4WUk2OGp3SlVmeW9ydHZyZWdua2lBRDlFT2VDZVU3MUhPa1FObmJQcEpIOXJwb1hPY2x0M0VlekdOdGlnTUdMQ1paNmU5R3hKNXBBS2h6a3BpalJseFJhNlRoN3hHcE1yZWdIWkw0bHl3SnhrQlF3cmNpcDY1N3VxYXFIY2FIWkg="
m_p: "4dzz61uok21Xg3LCAwVqxnV9hYjE4537n59x1X21goo00iy9sH19fFrcIXzF94zf"
e_t: "1621018933175"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:13,188-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:13,188-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:13,188-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "d6f80027fc3844d48c51a3b076ac7e29"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "XpafMDJU"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210210208677696920777t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:13,265-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:14,504-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'xOyPw9zuCqYfvbJ0hLWlsAZcanT5NiKm', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:14,517-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:14,606-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'PKWZh6tOpCej0YSi5FG1QEwas2UoHyDv', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:14,620-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:14,885-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-13 21:02:14,885-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-13 21:02:14,886-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 3.95, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 8, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-13 21:02:14', 'ext1': '', 'ext2': '', 'maxAmount': 17.09, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105132102147598461644013942974682498271', 'ratio': 0.11, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': '3DCA740D22FA0530D257EBB1BFE0D12E', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 8, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-13 21:02:14,944-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-13 21:02:14,944-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62641494', '62641495', '62641496', '62641497', '62641498', '62641499', '62641500', '62641501'], 'batchId': ''}
2021-05-13 21:02:14,983-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'tux4YknzDEmSH1hUMLI0CgiyjcsNQPR5', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:15,000-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:15,314-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'YiIftL5sl8uTgS3qnpOQG9E6P0aCFrHA', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:15,362-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210513210215208677696911336t","status":"ACCEPTED"}

2021-05-13 21:02:15,362-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'payReqId': 'KB20210513210215208677696911336t', 'status': 'ACCEPTED'}
2021-05-13 21:02:15,376-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:15,377-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:15,377-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "83622328931451"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "QNHJz6ODxelR0pFtWwLdiqj98mhEKgkf"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:15,449-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b483844afeb34556a573bc1b5de93a33"
s_p: "aHZTTXJBSjVqaDFORWdCMkI4U2M4UXdvSDMyQjd4aWh6MEZZeExWV2RHbm8zY3NNV2xZQUN4OHA5cnNIZTRIV2xmUHRIR0p6MmhhVWxwdENtNUJYRmNQaUFmM2ZEdVJYWDh2dGlCMGRxRXBVU1NSdlpMWEV5TU1GeU1iSkZxQ3pzdEJHZTE1S2VTMERFZHBEOTlBSVpjeUFBakluVkJGYzExSnpMdkk3SDVtQXJpSTBna2Nhc3FVRXJmd21WTmJlQ3pwTVNGT0lCOGxER2hNdWNZUHRFZDJ1M0pORVRLak84eFpWcnpPQUNrTWduMldnRHo0U0p1UEtCNmhpdEw0Sm1QS3RneGE0RFhQTE1scUg5SVJSMUg4VDgxdXlQMWJ6TVlNVkxnZk1hSUZFOGY4d0dBMGo5WFk2M2Nua09HbjNwemZkQXVuUjNqOUs1ODBENGdCWUhUV2JKU3lyYUxDb0tiN2JRTnNuUUJGeGl0TWE3aTB5QmRFQXczRmw0SkcybG1ndTYwdWdMaFhDdHlaVG5reGFMc2RnU2s0ekVPSmhGMW5JaVhSYWtNa1ZWZEZlQUlocG8wQ1NpdmRJS2Rna0JrNnRlZnEzOUxGTXRWcno0YTB4S2JzRVRCVlNJVTNpbElGMDQ2dEQ2OEtVd2VFUnNGc0d2bnNKY2FBWkVlcnRHOTZPb1NyeDg3RzlRUHkycmVSMXVzNzBpejJ0aW5ITE5XMU4zdGRnenJsMERsbWQzT0JNYjR3RGJBekhxcXlmQk14MVpGSVA5Y1dxV1kzWkxraHJzdFhRSTh3TXJmUlFoU2N4c3FOeWpHWEtwd3dzNURQeFlYVkNBa1ptTzhGakhQVkJ0V2UzS3dCNUdiMmxnTlo3YjJQeTFyZkROZDZjSnFGTUN4c0d3ZWRtUWRpWWZaWmZGMlZxZHFaN3VHVjdBWXpPU0MwY1UzVjFBWVRaQjR2cDV2c3NSa0ZWS3B6M2RXRVo3akxxTno3V3pFWmdiRkc0Smd0TGQ0aFlpWTRabExBQXJiZ1RzQXdQYzdMampBTVduVFh5aG9DY2NOSHM="
m_p: "61m189GASm7NMrU124X9Q8EbZILErwIAKr4N83V35rZ8ie2h7tq5M4n1j5A2bNE5"
e_t: "1621018935437"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:15,449-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:15,450-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:15,450-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "b483844afeb34556a573bc1b5de93a33"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "qEpUSSRv"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210215208677696911336t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:15,530-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:16,544-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:16,545-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:16,545-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "89212712214501"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "BCbNMcK6UJY4fE8AaG15imy7RPVFlr3Q"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:16,655-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "405654b5e1b64b5ab43a108c62c56b89"
s_p: "djlsSnM3VzEwdUdQdTJkOFlCZVYyNjhpclFEYlpmVDhTbk1KQm9Ld29HakxkV2k3cmhSaVBTZ1VNcWFSYXFKYm9HVEZqQno4ZG82VHBMSzU2MkFqUEpGWm9yOGFDVTRnNjZVRzhWWDVNcTM3TTAzcThuWUpaWUF2QnF2UHBrZEJEMjVDZm1NMVdsZUMzWFdjVmRReTB3Nms4YldyV2tHTWxSMzZVVWJJMVVJc0t3VnZNWXRMWXh4a0NYSmY3MEJybmpWMXNQRzRuUkxnd2dpM2dhNWdVbFZqNmJQU0hRNjI3enA2eG5MTFMzUENTNnJPMG90S1RaaXRWUHpEZDhmOXQ0WTAzbUFYZlQxTmEwS0dMellKVGFtcWZneEI3NnBHU3dMR3p1MUZUVnFWZ21CTjlLcXdGSUUzVnlCZGpEeEhMcUZWVmNaOThQc0hOcDZycmp1d1JybU1qeUpTNHpYZzhtaHpUeFI2dUt1aGZoUXFldWJlbUd4QTUxdlBvQ1F2NkFOckZ3blVrRmpZOTN1UTRxeEUxWE56ZjJJYXJKbmdXUU1scmdSczRpVzVBRWZ1WXd2QXZzUW8wOHo0Sm5qcjVnYUVYWW5hbGdvakJ4aUQwazZYZ0dYUldKTmhxNEdoa3VTUTFtekJJbG5KTDU0QnBHSWkxWkVDUGZESzJRdWNtTERHNjlrZ3BncE0yamlsZGtBb2cxaGY1SUJoc1JIdGR5SEFFN2ZWUHVEaHJNajFnNEJFNWFBM0c1N0ZHYW1SOFdsak5HTzhGSDduYVpTTno2YzBnYXNsdklSVmVDSG91bElSTUJqcjg2UGZ0M1ZiYVpCcXBqcEJ5T2p1RUJHTlV6OVpqN0NBTG43OVdJRTBxUVZWTll4MXFRcDFTaGlMckVVRWJTTHAzSU1PUEpPT0QxN2JLWlJRb29aVmJ2dEdoYnE3QUM1MFNjSnFmSnJ3aGtwRllTdGJmcWFCdmtCS2JCMDNHdWdhWnVqNDA3a2N1bHF2emFSR203Z2cyV1BUckowcFZpaWVKUDZvVXg5eVpzbkVIUlh6eG9UQjhuSHg="
m_p: "EJh9gw9OeDX2ob560I40w2N5W4g20tSCkJ9Kwr8YK37w67Hl4mtZE8Iq6m2i03Oi"
e_t: "1621018936645"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:16,655-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:16,655-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:16,656-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "405654b5e1b64b5ab43a108c62c56b89"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "T8SnMJBo"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210215208677696911336t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:16,737-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:17,750-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:17,751-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:17,751-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "67819018290584"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "pXeDCwKWrs2YuR4mg0txNvFbQaJcHiyU"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:17,843-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a7a050691c194ad9baaf6ae2bedca70e"
s_p: "MkxUbVppSE12aDN1T2Q5MEJuNm82UThnRnRGWkNtWDJteG9qNzBLMU1VZWZZWHNlYUlLT2lsM1Z4SUwxS29VdDNwU2JGUm5adXB4b1htQzFnelhmMVNLRWtQbGtjWmNKcFFCdGN2MVVDRnZWOWVaaHFXUG1QbVpOa29iZkl3MHdwcDRnM05MYXY4OTN5a1FPZVpsSVAzbDhsZE1MeFIzdzYwWjRFQTRjamk5a2J0dHV1ako0ZWFNNk1XcmRVWFdUYzZqRTFYRE1pV1NtUG5UUFNNUnBZQXhqZ0lpV3hSd0k5QmVCU0VycWgwRjZQOWkwYWlhRnZudVI3a2J0dXdvMXcyOTZUSHI0OEg4elYwZGJhU0FkSWNBSXZzb01lSTFpQ2JFZUs5TTRJYlpmWnFjYVpvNkVTMk42OW9wNjY5MEJKV3hMY2NVZ0JhOFlUaXd2bmszWGRtZ09jS2lVU3dsd25VU2VNaUd1MW81bXMzY000Rjd2ME1XeWtDNTZaT3FvYVRUdU1MdzVuOWtZamkzRWpQa3dvYmVrUjdpSG5DOHpQcDlPWWFWWjQwRkJWRjZIczJvclZhaEN3TkpLeWxMSkxTb2Q4dUh5Y2tkenQ0MDVEdGhUQmpvUVJTUm1XVDh1TVRLakNXamRiWFRrMWJVcXlPN2JWak91eTl0cWpYZVlla3RCUW16U21NeklCemIybk5lSzBkS3RnSUZmWlk5dHlwb2VGeDhQSENPQTV5SW9PN3IzMERWdm16bUdJcVN0Y256WHk2ME1iQ3ZmQ2ExaTE0SjhHR2Y2Y0ZYdmtZWGhDeXdWUmdvZENjRWp6RVBZVFdhZzU5TDJnZ0lodDladldNOXBTWHRTU0llMFYxRzJsTEx1cHM1dDJpODV3cHhSWWMyb1EzNEhDY3RiZ29WY0llN0owRWNlbnUxMTdYZ0k4eThnUTJLQ3ozTFVvNENaMXNVTXhpZVg0OEpJemNIcWtFNWNEQUFXYjRncW50UW1Ya0hGbnFTaXRJU2dSQ3NMS0JhSnB2cFdNVTBTVjE5VDRHNjMyZFpid2xvbU5nSEY="
m_p: "aEk06RV9zw026TGFT91P3NpsU972ExQ78w4VG3fj2sP0w0E3qK5U6q6dAc5yYD0f"
e_t: "1621018937830"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:17,843-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:17,843-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:17,843-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "a7a050691c194ad9baaf6ae2bedca70e"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "pp4g3NLa"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210215208677696911336t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:17,939-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:19,122-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'tnZNRbuSeT3sB50GymQIhwgrAViDpk8q', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:19,139-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:19,240-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Mb80lhWH9opGjEw6UnvYqCuDy2PdSf37', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:19,253-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:19,514-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-13 21:02:19,514-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-13 21:02:19,515-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 276.91, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 1, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-13 21:02:19', 'ext1': '', 'ext2': '', 'maxAmount': 368.51, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105132102198481086355549367662667431974', 'ratio': 0.43, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': 'B423DEFAE8D596E510538EA446EB2FE9', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 5, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-13 21:02:19,555-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-13 21:02:19,555-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62641502'], 'batchId': ''}
2021-05-13 21:02:19,589-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '6p7CWt1mUohcQHw9nixsNjPly5VgILrX', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:19,604-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:19,973-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '08oC4Iz1qnHicsNbmYPWUQKLJuGZ9h7r', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:20,005-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210513210219208677696901205t","status":"ACCEPTED"}

2021-05-13 21:02:20,005-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'payReqId': 'KB20210513210219208677696901205t', 'status': 'ACCEPTED'}
2021-05-13 21:02:20,020-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:20,020-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:20,020-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "82765334260754"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ZeBO57PCf3gmYrIHuJo29TLdNWhEGc1y"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:20,097-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bf3e4e3226d946b79a2dbe2aed255e49"
s_p: "Zkh6NzN3SW5oWDdhT01IajhOTVFIVHMyY3JsOVRmVUJsN1Fsa1ZBTFNKbUpKQmpoM0hDSjZPMGZVcU5JSXdIQjVMb204YkdDcDZ1WWZCOWxhMzA4U2xlRnB3THZNNmhaSTRDT0xUYzI4OG92cUVvWVFBM3FGTHYyY0o2NWJmb2cwZWM2QXZDQW1BS3ZDeU15UUZSUHg0dUhXczVmRzZiUDJGbXU5ZE5oQWhQTDBDOEVZc2xYU010NExreDVPRk1aRFpKQUQ0S0pTRENObGFoN3lNWVl1NHdjcm1nenJxTFlWTElUM01Wa3B6NHBGbVRRbTgxa1IydDJqVFkxTmFRSktjY1pFZHlnc0t2eWk3NWVjQzNzWnZTZTI1RVJ5ZDFWMVhsZFZVT2NoNGxKTlpNN21GTFVPREZuMVRpZUJkd3RKdWt3N0p5VmFNUHU0eUVNRlo2T3hzWWNRT2o0VjBWcW9jZE45c1VyaW5hQXR6N2VRYlBXRVR5czlVVlhVaTBpTmFYUFVxNk0wc0M4bXdOazVHN252VWVLTEtIbDJxM1U4T2ttbGZpUXN4WEU1YllIV2FUbFI1ZVIzSkRET3Z1elFSWHZFaEpBajdhUlNyeDRWdFNVMWFmeXg3QUxlZGxDYUF6YTZCTlZjeDRsNmFYd00wUE1IcEY1OWxybWdRU0FjNzczdHRyM3Z6b2JiY1FkeGgzM3hwZFAydTd4YXUzQWQ5WXdGanZtNk9XcWZGbFpYQ2NWd2JkbnpBVHJFZTlqNUR0WTE3b04yZlZoMmU3QVdtem0wck9HSmdhZEsyOGI2UjNwMkdHNGk0eGtSdnNkbnd0WnRiT1FDakZET0N6bE51WDZ5VVpZQ1FMQ0xPeHVMWWJ3WUgzU3VwNW0yZElFem51RWxaUE12azd0dVk4Z3FYVEZtdEpZS1RmMjhmd214RlhlbzBRR0pXNGYxWkJPdGlvRGpNRVNIeXhuRU9QYUw4MzNwMVMzTWo3WUlsSzdtencwUGNhMlBJWEw2Y2Z6ZFBHM093bGlpTWxRVDlybTJ0eTdISm45bzZBeGRndVM="
m_p: "y1ZEg28m65hvsZs12FW4WwL4ml1WEIaF1ne312VD3UXl9ihQj2N1knS088tDSu7x"
e_t: "1621018940087"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:20,097-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:20,098-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:20,098-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "bf3e4e3226d946b79a2dbe2aed255e49"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "I4COLTc2"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210219208677696901205t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:20,182-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:21,195-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:21,196-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:21,196-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "47071188993325"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "qkS1gEniI4O3CwpNe9QXtjvY765hflxy"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:21,264-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "da7b341624da434faf048aa3be3b3638"
s_p: "TldOSUtMQ0xOa2pPd29BWGRQOVhwYU5iWWxxU29zVHlqT0NiakUxQ1UzU0FqUkJzc29pVXE0OGVsV01Mbm5CWmMwdkJXQkRqT3UxRmhab1pZbFdsM01mNlVtMEVQWFVnM0RYWXRmeG9HaG5qbzF6SFU0N0NyUnVCNlJvR0tpZXRkTWt1UmVXdWdpTFVtVHcwU2RaZHdRQ0J4ZnhhYWE5OERLR1plVDhJT201MkUyQVFWeW5KcFV4Y09LQUI3ZHA3NnM2b1pYdmdRdm44UTFrSUJ2MkpXY1dhcnZNdk93S0VWeWYyU05nTGVVRXRKeE1MN1hwUUNNOHBkdzQ0dkRPSGRkZjZVMmVDN0UwQVA3WHdSZzdhSHpYa0sxanNsRGM4akhXeXZYdVI2bzdyODQ1eTBTWHZBdWFYcnZiWjhIVjVXMkhxRHhRRm1mQ2N3eDdaZjd6N25Dc3VSME1kUVVucURTYXFLVW1EVTdvMVJvOEdYdHRmU1diMjc5OG03bjJrSUNOYlZuSldSN1ZXTm1RcWw5NTNER05tV25hWEF3YU5BaWhFMXRBUlBmdFkwYTZUSTVYQnNyWnRKMEJXNzJacHpXUFV1VXlnaGpwS2RFeXpoOTMyTjA0YmJpcVJUd1ozOE1selNEdEw4OHBFSzM0WkxaVkswR0tCOUlvcG1kTE9ER2hocnl0dGRZRUtROHhKclZnUmRxUE1JU0E3Y2FLVmpOdTJIN0hGWThYUXBJb2ZpcUNSUUhjWUdHQkFWeEVHMzhZajl2a01jTFdlRFNyZmxTSmRkUFFhcG9BR3l4VEZhZGNjQUY4REZiYjVacHJ4ZU51aENoOXBXQ0lhNTZ4VTdkRHRjZmxZWTQ2YjVtM1JTN0VoZ2tzYWhzUXhadzQ0N0dZandRMkxDOWtlU3h4dHRpWnVQQmt4a3NpaGhQZ1JKVFNlS0JLakdZdkZUWkFGRW0xdTRqQnlQRFg1SFRxcW1Pa0NGaEY3OTNoMkVMZ1RGQXFDVlk1Z0Z4QklSbkdYUkdaelhIOGVIOHFXN3FSNVR1M0FyM1AyS2VvUFh6UjU="
m_p: "V6V067N3UJEa87P817zM029goywcbIvR79h8eP5Y5La04oe335H7tMF35SUuEiB9"
e_t: "1621018941255"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:21,265-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:21,265-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:21,265-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "da7b341624da434faf048aa3be3b3638"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "DjOu1FhZ"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210219208677696901205t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:21,349-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:22,363-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:22,363-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:22,363-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "95451329124258"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "cHjo7thTZXU1mN0YwJEQkFrxdSKBPfC3"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:22,443-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "62c8132b9b064888b57887e4110a64f3"
s_p: "MWRFZ1RPcGNTdFI2MmJHT0FyejZIdVQ2OGxaNkpvMUxOTTROa0VOS2hRVTU3VzVTOXkybWxySk55NXJKb3V1aWlMUjJhbmt3VFU5YnhFamJSVnRpanFFZEkxNzUzZFRXdm40SGFDd04wYzBCaTk0WW42aUplWWRPTWVxTXhCbFR4T0J4ZUhFOHRKTzNMNzZiT1lPOXpKVm54dTI4V3VUSlNnbFJLTXM5anVvY0d5cm5weDBkRlBQVWtZZFdpbVpwTlZmbGpQaXlrSUZ5dHVTN2lraXhVeVdkQ3NGZUk5d29yaHJWbjY5YXg0ZEJ4bk1Gb1B5NXcwc3FwaWhSMDNpUktGSkVrTjhtVGwxTW5BYjFhTjF5cno2Yjh0b2dlM1pLbEt3VXNUWmRvcVJhZ3JqWVlIem8yRG5vd1g0ODBENDM1QmFmaW9McFBBVjUyeDVUUlNRWUIzdjY1UVJPZEF3MXN3dDJFRk5PUmR2MWFBaGVUUE9vWVFGUTJGdGJ0ZzdsMXNSckNlQXpHc2xIYnJQMmxqNzRTUUpEdVY2MkdrY0Jsanc2THZmU1JKZXpiRXBTY2xKcjdhb1hFbnh1RmtLejhBb3hiYlBDWjlFY1RmZ1FmcUVpWDBNQ3dNV01JU0l5UmhZVWpzT214czZnUWF5bzdoTFpaWWxBcmF4eGVlMUx4RjJ4N1Q3Z241RnRCS1N6Z1hRQzk5cUliTkNqbjBPT1NNYVo5ZEx4bVB3S01TVnlienRTSGZaZlpRM1FMU05rWkFqTThBaHo0enJQSmFJdko1a1ZPRFRzMlh6SDZtdjg3QVVBajNHSDZ1OFQ3NDNDazdwU21GeTBRb0VxUzhKYUtIM2NjZmNESGxNcjRCN3VBQ3RCanppbDlReTE4T1dRbjJMV2plT0lidnN3a2tDUXVreUFuUnlUMWx2NTdFREo3Z3FJYVE2cmVMelYzVFV0bUF1QTZiNmdHcWJtOUE4YzVLMklsOWE4bzRpMWxCVWxpdlJpalBocGVkckdsMVVkSzlsR08zWVNiTlBnSVJIbVNQd3UzeDFsNUdoc3VscVQ="
m_p: "9dXsRAawSCOPs46gDF5jF5t8HQBOV93oby3L0A6mx9A750bhN531HZ2zFhcLq9C3"
e_t: "1621018942432"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:22,444-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:22,444-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:22,444-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "62c8132b9b064888b57887e4110a64f3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "TU9bxEjb"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210219208677696901205t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:22,507-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:23,685-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'jQ90DNTYPyzix3Sb2a5fcv6oMkLhneIU', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:23,697-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:23,761-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ociheEGTu1DL08j4PnS9VbaMBzNYOtgm', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:23,774-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:24,039-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-13 21:02:24,040-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-13 21:02:24,041-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 3.2, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-13 21:02:24', 'ext1': '', 'ext2': '', 'maxAmount': 70.86, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105132102246440648676786177923510692776', 'ratio': 0.25, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': '291798A2D1CEE9C92429D48000A6B151', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 1, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-13 21:02:24,095-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-13 21:02:24,095-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62641503', '62641504', '62641505', '62641506'], 'batchId': ''}
2021-05-13 21:02:24,130-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'PmvXqsduJeRHcW7hpSx01L4r3t9ZgQlA', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:24,140-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:24,514-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'L3gwE0Sdn25qmOr9pXGtkYZe7V4AQo8h', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:24,544-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210513210224208677696933226t","status":"ACCEPTED"}

2021-05-13 21:02:24,544-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'payReqId': 'KB20210513210224208677696933226t', 'status': 'ACCEPTED'}
2021-05-13 21:02:24,559-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:24,559-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:24,559-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "51944658376941"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ldP5hxbmeVvyosI89Dtp6gwRXKHqiM1k"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:24,641-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "031d2e1697c44884af2b8d96e44fd93b"
s_p: "SVZlVDd0NG1TSEpLMjVZV1VWZzFvTUl2ZlRZb01nZXdFNFJjODU2OUJoM3czbTBuazhZS0N2M0tuMkNIakZTTzlhZjVFSTNGN0V6SG02ckpZWVlPMDRZWTVUTE1Ma3E1UUY3aHRCdlpmSVVIM2MyeGw5WUtNOEZWcldvVk5JZ3N5WjBXT1UxYTJvZUo3VXQ0SlJNNFNhd3daaTdyak83NFNNbXdIWVU1VDRwSDNmTXV2UUVxUmZpMDROdHlheUd1eE4zN0RsYWdmRUNoeHVvMjVWUVE5VDY5dUxLZW5sb1pQaW81VWQwU0hPcFJ0R0NkQU9lcEh0ZjJFWUdZQVN4N0thZ2RmYm5mU2toRFJvS2hYYjFHUTh0ZzNvUUtadUg4bndCN2NsSGNMTVV1MzZIOWRxcnU4TFdJSzhIeXVzdUxQOXJmSjhZWUR3a2RWYjJNWmxTSjE5MEF5Y3ZVeFprSUhmYVlHZWxac0RjdXB1UHg0RnhIM2dzN2VzR1BaNFZSSjVYc2o4NVozejdaUmVHZ2ZzV08wNXh5bGViU0I3SUE4NTNBTzdXRUV5RnlQSUNtbmlIbUlKQUxVa3dLUnhGY2F2R3VOdFpNNHpHaFF1ZXV6QjhNSjFoMzJDcFYySnJLdTEwbU9sSmx4bGpGZlpFb3lqeGF0UUlMYTI5eUpqTGJvbzBIMzBNalFPNk5xTVA3cDJDZXVXMTNqMVJXMFk3QjlrU1l5ZldVdXhhdUlDa0I5dDk5bVVza1hMbkZrWUd2ZXd5RzdKc1NLR2JHWmtYdlhpRXQxNUZUWG1IUERKRThleTVJdWFaZjlVanJPY3N5NWY1enFZMXNaM3JLNDJKMGdpQWZleFIxRVBybGhia1h1UFV6dnk3QWVFUXVIMlhrSlZ0U1g1RWMya05Idlp3cDQ1TG5aWWwya2x6azViS05zRTZsZWxuWnN3Z1V3d2dlUFJUSzhkMWxBazRKRVF1M3FSc3VNNk5pWEQxRmFjWlZpeTB1N2IyWFd6VmxjSVlKT2ZRQ2pkdGQwaHVtbnQyOGQ2TTVXSGhDb3VKelA0djI="
m_p: "MiiQM4HV3Rc7Vu8s8dvFIheiy045So27BoMFh9tbcJaVh3DbCe3xLt4rLly485Dm"
e_t: "1621018944629"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:24,641-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:24,641-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:24,642-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "031d2e1697c44884af2b8d96e44fd93b"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "NIgsyZ0W"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210224208677696933226t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:24,707-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:25,722-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:25,723-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:25,723-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "66788457749780"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "8vO9u0Ul2VetXbnRHKq43WoSgaJpsCym"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:25,800-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2c70c01c68c945379e69aba4aab6bda0"
s_p: "TmtFbG53MVJUb01XdWdTeG5ROFZmY29qS3RnZ3ZDVHF1TGtZWUxzcW1SRG9PZnRDdUNISWpYUEI4cExiUUF1YXhpT0pyM0w0UFlWWFVzR2EyOWxqNGdFdmZ6UnFZa3FiODZGaTBGZG8xcEkzTzhnNE5GRVZKanRTSEY5TTJYZlVLSUs1NzFJb1h6ajQzeVZJN2hBSllxYmNUWHF0YzUxN2NxdHFxck5XeFZvZFlPSlA2eXpCWEpLQzUyYkNOQWN0bTFKdzBtNEJ0QThjSEFHMVVkZmdSZ3hIWkpXdWF0d3ZYV05sZnJSQjZrMU5FblVoczB6bXJhNHByaWJDeHYzbHVxc3BwbFhUUGNDQm1IMWh0cm1Idkh5VE55SHBXdno0ZnZrc05OU0M3ejJTZ1czckFNYkYzaWg4UE16elh3RWQ0TG5Na01mbGV0Y0xNandFWjlRQmVickZ6MUlydnJranczeUc0VmdZTUJibE9RaThncmd0QXN5WlZ4NFhMcnpCT1BPR05UUG1zRlNZZWI3RWpOSnp2ZTRiTHE0M0o2N0FTdjV1VWR5djVjNDZCMnRVM3hJaFlIWGc0dTh1N2FjVHNERDRkVDlCSFBJSW1xUUdKUVgxNFpueU9xckVQVUFPak90aU9sYXNTOUw0VkxodmNZOWdiNDRPODIzSVV4TXNnbjJMY3hOMzFKUzhlSG9yVlE1TmpvZUhORGIxVE4wZ3JkNTlzZjljZFhVZW9CQ3RIRllNU29TQW5SQUxDdFRjQjRGS3M5eXBHWHZBQVZmTm55Qm9KZHhJdXp2TUhVSEJoWG5BY0xoNzFrU1FkdGNZU294MFJUUmZKV3hEOUZiYjczUkhkQ3dGMTZoQ2kwTnpLejlhTUdoME5JSDJOUzNha1lpVDlzcVowaGZaV2VyNE0xS1pha3ZxY1FncDE5ZHRPZGpKclZIVmlEUzdkVDU4VDNsOVEzZWNkOTF5VjBuRlY1VmRYRzZoRW5Cd2NpelluS0xMOXdPVHRpalhZd0R1ek5NblJIQXk3Q1hOYlY1ckFOcEFESEtORVhxT3EzbFU="
m_p: "7wgWJ9SK99njs5A87rw04h64Q59Vm3ir18Vvn97qCFSM9c77BcWy8GjOzX962es3"
e_t: "1621018945786"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:25,800-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:25,800-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:25,800-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "2c70c01c68c945379e69aba4aab6bda0"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "fzRqYkqb"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210224208677696933226t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:25,863-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:26,876-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:26,877-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:26,877-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "65023102413958"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "V5KW3lXwi24cpNLx8CmjeDrPS7IEBuRo"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:26,952-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e8e7ac2569fc4128a8d2e48dd612efdb"
s_p: "Z2g0aXZvV1lrU1JGT3R4aWR5ZGNIS1hWaWZkNWc2bm1WbVQ0V05SZnp6dlpDbXUyMmxSSlc3SjdOM0s5dmNKQlR4eUtaNjR5Y1VGQ1p1UHgyWGY2ZnNmbDBSb3drbWJ4OWdVaTgzcmpvRDBJQ1BRVzBPVTJhazZXTVBaaTNZS0I2c1NjZUZhTHZNQ0hrR3dXZ0JTY282WEtNUk5OaVphcnZCTXFQZ01uMkdBWVJzakREcUw4MWhKMkQyMVlRSjNEdG9XWmJaR1J6c3BaYVp5dmRWcWdCWWtKTVJrSVRiQ2lqYzlaTVA0Njl5dmtuQ3lpTkN6a1lab3V2UUVkNnVtM3dGUmFBZkxieWYwMFlPalF1WFMwaVRHOXlhRjN3bU02MjlTWEpoOUg5THNQN0M4T0ZBMFBCeHBRaXJjaUprVUVmWHA4ZHVZeW91QVpmRmd6NHg5ZHRVVEozc3RvV1VLbW16RlJLVXUyZVJ1TjZZNVBIN3hhbWRPaTVsYzI0SUg5eFJXdHkxNjBVaXJwQmVkZm51a0o2Y3MwVHBnUUZHSTdzWjZzTGJUTUpVa1p3MUg5YmtPYVoyOWFieFk4aFFHTnVqeWVwcWVla1NDS1Z1eDZPanYyMThwcVN0OGJjbGpvdnZMaU9WNFdHZFM4Z01vbkZYS1BJQlRSWTlZWlNmbG84WGYyNGUxNVlNZnRmZDl0RVR0TjlJNEpGbTNjSm5sdXlxTU9Rc0lvS3pSbEI0NERWTGNNd1hLREtpUEhyU3pqYzB6VUdNeEFkRkF0b1RNYkR4M1NPOWhBVGxmZ1pUS1h2OW9EcFZ2MTFlTGtiUHpWWGhwS3BaTjNRNzA1STVIM3k1emNEalJHRDYzbjJpT21BbmhCbU9PdHE0VTl3Nk9Da281V2o1Wk1GemthN0VzOHV3dG50TjhtVzZGbVE1S01pTERueDlkM3dLSXpiNlpkTUtnNFVpMFdMbjU2WUZ2T0xpRGlwZktjZVZMYUdPMTFucDhtQkF5bVFPeE9TRjRuRXo1TzdsdFl1TEVXSGJEenVkVkxIUERKWHhQa0hNaVc="
m_p: "be1759lB0eKTVtfqz059V5Xs74glnLh01D6XEDbwIc0ssFwM1QuFT4192E9X9244"
e_t: "1621018946942"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:26,952-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:26,952-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:26,952-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "e8e7ac2569fc4128a8d2e48dd612efdb"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "aLvMCHkG"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210224208677696933226t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:27,027-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:28,216-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'qwseUv182VtgpCHcn9IGfYhrB6FxLbXO', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:28,439-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:28,511-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Qqpi3cxhZuUDR1EtMgeC2AOKXP8lna7r', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:28,522-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:28,794-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-13 21:02:28,795-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-13 21:02:28,795-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 7.29, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 1, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-13 21:02:28', 'ext1': '', 'ext2': '', 'maxAmount': 17.5, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105132102288977771661070858259080937726', 'ratio': 0.05, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': 'E2AE432D7ABA8177F8B1B8D2E0085934', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 1, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-13 21:02:28,841-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-13 21:02:28,841-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62641507'], 'batchId': ''}
2021-05-13 21:02:28,876-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'VYGHhiB5eyUlxqDdMuANwX4TrCLZStpR', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:28,891-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:29,206-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'rY4o3hcq2LkR1NPMdEe7Azu6IDTfpSO5', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:29,226-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210513210229208677696984764t","status":"ACCEPTED"}

2021-05-13 21:02:29,227-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'payReqId': 'KB20210513210229208677696984764t', 'status': 'ACCEPTED'}
2021-05-13 21:02:29,241-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:29,241-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:29,241-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "37398440084736"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ShyiG8pQVglYfAH6zMbCqPt3roNcR2uE"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:29,317-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0d866d36595146bfa49586cde909a1c5"
s_p: "emtteXE4TWw3MGtUSmhMNHhLa20zSmZyclNOQkNzYllnRHFCZUNiTzBFYVY3WDhIZ0JCMFRaMk5waEU3Wm5kVzdnQ24wd0NteTV3YlBUeHp6dnMxc1NyYjczbUU0OGxyMzRNcjJFQlIyNHlYRUtxQVRraFhBRUdob3hieEVDU1dJV1FOOEM4UkczbjRpcE1kQk0zdmVKbmdBaVdpQmo2NGZTTk9xUHJzblB2TjBzSmJ3TDN5d2NNcm16em9ReExMdEJjME5UUWI0dHdjMEEwalllS0k0amw1THEwcEFvUlk4RUdRaW1qQWQwdnFvTXBhM0d5SDFzcGpYSDlyZmVPNmdaMHo3eThTTXlBdkJNc0N0R1FzcGZaVkxJOGE1Mk9nS0pnMTNUZFc2YTR3WlVNdU5FVjI4TEJ1N2NHUWlialAzUHFqa2p0cnZkMExGalBOME4yNTRIdWRLcE43RldWZFpOdkNvVVFMU25qZGVGNm12aUZrZnZCNUlObE8xSHdOMThvOFlkQkRBMTJQMjY1VXdIeWxOSDRUZ05ucDhHREw4NVNwRWIyblZ5bWZ6SXNuN3hZTDBaeUFuOFd5ZXBWSHMwWnliWm90c1VXanpuTjRlN2tvanpMY3puRm00UGVOelNBenBDeG5UWUI4MVc1UG5zM1RqdGZtRkZpc1FadnRvRUZoa2d4dWhsQ0gyVWdNU0dDbHpNNnR6Z2dhYXNpZ1FNZFE5cDBFaFhrNG9nUnhjOUZzRVA0N2hJVWhwZ2pDVnRnR1h6R1JUUGVvamNyU05uT0UxS3R3dTBwWFNIamFUV3RWZ2FoZXRZRG52QWNDeUplR0tKdFJMRDY2OXJpWHRJTGVZUVRlVWtta0ppQmhzdHFld211WXBtNjNBSk5Wd1R0anNETXhiTXhURVJSSXozVlRoMHVJbUlWU1NId0RyOEdCVzJlemNsN3hVbUNJUXVubjlmSlNvRnZ5S1JsWmEyWFg1dGowUzZxYkNRc3NMNzlZMWpyczBJV1d5T2tsM1huZUpldmJ3Vkpic1pwTldyemN0ekNQRGNpWW1XYkU="
m_p: "mdV3315sjf566JOGlIz6i0I0o25YZPxph4WM34A8Ya73vMtRB556JX96np2bC5h1"
e_t: "1621018949307"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:29,317-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:29,318-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:29,318-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "0d866d36595146bfa49586cde909a1c5"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "wbPTxzzv"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210229208677696984764t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:29,421-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:30,434-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:30,435-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:30,435-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "48742936878084"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "OgJxnQPjplVsFbkND4r5vM7w6WGZcmC1"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:30,530-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "69830fab485c42be91a237b1e258f77b"
s_p: "NzhSYzZJNzVRVE95SWdRMm1ZekZrQWUwRnB3TERQaDVyZFl2MW9xcTk4Z1hCZ05WZU00SEc1OGVyWm9WS1dZU2w5ZXRxYlc0azI0MXNjRWZwZFVPb2VLOUJCbjhEME05SDFqaWFxV1RaOXY1RXdsZVpQeUJsbVRER0JETERxTEdWYjNHQTNPUmFCUmx5bjREMEdYd2NzVThFOU5qOUhOd2oydjU2MzJ4c3dwOXRsNmlwYVpBcjlpdnpyOGEzUXMwZTJXaVhHSHl4eVJ0Z25kT0NLakVVaXdMcGhBNjdDM09TbG1lMjBNQWtqN2JaWGdZSDBPNjNnbTY0Vndpb0tzaWR5cDNEeUh2Uk1TbEszRXBZTkhtSVF6UWpZV1hqSmgxOFJlSkoyWGx1VVo2Q2VKUWFuUEQzOE53OEl2VzdCeUpYVjVxRzRXUEoxNFppUkZPMlQ1Zml2NGYzS2p2VHRJMDhFVkdEaE04UWtESGR2ZlZGUExMM2J3UEpJZWlWVkRPcUpqTHpjZDhHa29XbzdobDNBV2FRcGxtc2tSdXllb1BQOFJZTG9PVWFyR2NudU44cmxiZTNwcUNqTHFZd2FhNXpCSUEyWWRFSW9hQWhOMXkwUVBHNDI5RUEzUlFFNjlZeFN0M2tJZUlCSmkyN1c1eDZ2UEFaNnNEdDdmNGZsbGJGSnBkOHBCdGlxMGJqampMOXFiSHFsQ3RLR2ZhRk92ZjVhUmJmWGVUa2JFeXN4dTlRVlVPTjJTVUxFTjBzYlQzUGI4Y2xENDhCOFpUaFVNVll3dmZPSTBoakRUYTQwOXFPQ3NWME5MUjdsRXBFcmRYUlpWZXdNSFRaUkNWSngzclFKSVVmaXpwVzg3VTlJZktkdHJBbEhOVW44dU04Q2x3OVZ4elMwcTBMUDJRbklDVW1IdldUOHVZeG96Vm1ZelJhUFliOTYwb3ljV2lXUHZYbUhDQ3ZxYWZKWmo0a01PNWgzZWxnd1JRYlZCRGkwTUNmV0JaUzdzY1pRWmN3Qm1qa1NEdmVWV0R4aXNBWFNETzdsam1oTEcwY2dSTURBRjM="
m_p: "TE4VeddAd7FkAZmhi4n5690m1X10R9q7s02395y68M8m8Mvn8Eejt2W5t7F5Z4CJ"
e_t: "1621018950520"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:30,531-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:30,531-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:30,531-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "69830fab485c42be91a237b1e258f77b"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "v5EwleZP"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210229208677696984764t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:30,636-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:31,649-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:31,650-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:31,650-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "53017669939063"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "dZ0rh8JxC1ku57INXos2zHfjAVDUicQ6"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:31,733-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "77f3a5beae5c446986c74529072677e3"
s_p: "d0cxYVdrUHVHUXVVYmlHdVdIMEM2Mm00cmVGbWhkd1N3a3hmcjZpc2hqZnlwN2J0NzNHUWl3ajZSTHNoTTRhTElSOWw5RUk4U0VHNXEzYlgwb1Jtd1lwVzFRellSSjdKTTJuY0dFWG53c1FuUHBGQXc3dktnQ0hnaTZzZE4yS0FITUd1Q3k0c05nS2U2MkJyVnZ2Tk1hdGl1MnNnQTlwQklGbTBMVVRSNTlLeUNzUGF0eEQ4WjJjcldBSjdJeWVsaFM1MTZTV3JKR2xrTDcxbWdPaG56QTRvMkRaUFoxUGNEWHJmVTJpYzhNMVRvYllLMnZuZUEydGh4eXd3Z0NNN2gwS2NWWG55azRDOTk0SlNadloxMUJmRm9tcWc1VmZMSmloZHllMDVVOWRYZ1F3TGY3aWpNVU9UUGhEVDhJbGFxRHVDWXpyM2hxWU40aDVURTBhVjNmTlRNS3d1Q25ESzNuQkZrVGg2MnpXMTlLVjRtaTVWRm5XNFpQNVd6QWZNUUR3TjJDTk5lS3VRYkkwUGxlUDFXS293a2JFZDNJbjVhd0ZyTWRSQTlNT1ZpanJ4UFc2YlE2V0h6akJzYnQ0cm1CeWY4RW1jOWxpc2RjdjkwTm5tOGc5NXVtNFpib0dmRzcwTHQ4aE92SXhQWnl5TDZCQ3YyRWFxTm5RODV0d256emJFdVRmcUFteFpqSEJ0N0hSV2FMbDJHVHRXSUI3WjhhcG5tYnhiblhtcUR1b3FVVld4RHpOeUoxakdhZUw5QnhzZ2hrUlN0QWF5S2xuUkI5Zkhod3ROQTlVZ3BURGRqaDZmd1VFMTZSRDI1YWl6TVNmN0VPc2E1RThxTE43QkhLSUs0ZENRWkZ2ZEsxbGNNQmdURGZ0MTl3UkxibUxQeUxrb1J0N2VRQlFIM3UzOEtUWlRXZFlBMDhxTnNRQzNwSU1XZkliRVVjcDRNUlkyUmo5bm5kYzVnRXJ5dlBQOW9hNlFtaVFxaUh5dDFTUjFsZ2hLRXpHMWV6dW44VjZRUjdpYUdVWEVVdmxLTHpGeHZENHp0V2JYbDlkYmdrU0E="
m_p: "Jl4RUCJS7fnDScJ93Q2xKAoUw5K5o2341OO89iMQ4B67w2942en4PCXX2eHT3yot"
e_t: "1621018951717"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:31,733-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:31,733-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:31,733-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "77f3a5beae5c446986c74529072677e3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Ke62BrVv"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210229208677696984764t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:31,801-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:32,986-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'NQrtHoCeVwD051S2A3y6UZFzIYbRqMsp', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:33,005-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:33,138-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'z4Za1lqx30meu8TvI2i7wHgtNADOKMCc', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:33,151-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:33,400-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-13 21:02:33,401-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-13 21:02:33,401-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 301.26, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 9, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-13 21:02:33', 'ext1': '', 'ext2': '', 'maxAmount': 380.6, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105132102335733886300030960750417392545', 'ratio': 0.46, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': 'AF34EBC4C7C7C4A5AEC72F875A77048B', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 5, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-13 21:02:33,461-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-13 21:02:33,461-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62641508', '62641509', '62641510', '62641511', '62641512', '62641513', '62641514', '62641515', '62641516'], 'batchId': ''}
2021-05-13 21:02:33,499-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'RStNDlqXpL15PyKUc7n2roxdvhj3kA9W', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:33,510-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:33,801-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Y56jZteJSfGEznThOQ3macLbywFCpK1H', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:33,829-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210513210233208677696942660t","status":"ACCEPTED"}

2021-05-13 21:02:33,829-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'payReqId': 'KB20210513210233208677696942660t', 'status': 'ACCEPTED'}
2021-05-13 21:02:33,843-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:33,843-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:33,844-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "73415674001795"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ImOcwNqv9YdxjGXVyFWP4soLup7HMUne"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:33,927-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4485200246794bc188cad547143868a1"
s_p: "SmlJODhRQjI2UmxrMGZpSldBaW40NEVoVGRWWTVNdnQ1V3dBQXI5aFpuNnpaN2hvMnhoQk1UUGJJNlZ3Q1JHekc5RHd1VzA5YndQWHJuNmpBRExxZ2Y4SlZ5UWk4UXdjSURBc2tYdlFHMklSTmxudjRqSGVOeWlwNmVKaktGTWZkUkVxZmVVcFFpdDhTOW9jb3dsZWF4MHlPSnlIbWkxZkZwTjVEbGVXeFkzVVBnYU1PMFhuQVVheW5CRlNsQ3BYZVJ1U0lUTmJNUDFnNmkxeHVLSmY3QldyaHNsVmlEMmF1Z3FxUEFGTGRhZFFCYTMwSXlDQmNzSnExSlBoR3JBMUZMWlduUzV5MzBvUmZrTlVaR3NxUHJ2Ujd1bDFoQW1ya0cwZWx3NmFLQ0xLdWFPS0o3d2lMNmVDQ3dHSVprcmlHbFp5Nk5PcTVDS0Y4S0dnWGdEbTQ3SXUxNlhZUWRCR2ZLSUxodFpLZ05JR2tKTjh0elpIOXZ0WHVxQXJTRjRUOHE5T0ZyOEVoZ0hjTTdwQzJNUzZXNlZyQjFIdWFCN3RKUVVvNWpiZzZpN0IzSkZQWUhCbHdZS2Y2UUhpZm5GUjJjYkN5bXRPckNNcGdSWXNZWERSWEdFenllZFNlRm1sbkdSY2hHcmI2cXNGRWhhbWwxTzlxRlgzNEdkZDhzMnZCU2Z0Wkd1dzFMN0dLRVhKUm5KYll4WDVsanhyTWhyVTJoWjJVdnZGMnd3WW51a0gwTnJCMHpZMmNqSWQ0dWdvcmlMbGhkUFdYMHVVV1hvMDQwMGdITFpiRFhMWUp5TXU0QlpyQ0NQeEU0QmQ4Tk1TWGVBa21rbWpXR1B5dkh2cUw2N2JqVXVxdkdyNnNLelVQNW1EZVlIaXhId3ZRcm55UTJybkpYYk1CbEVOaGNnY21STkR1MDliUkY4WUhkaDRnUmFrZ3FjS3N3UzJPckJHWWgxU1BQTmpRV29kdXZWMHRqT3hHQmE1RGs1aHRXSnBycHBNM1o5WUpKbHVEdFYzS1NpcVVXMTN3WUM1bW5vYlFRNVZiQTk2azdRUjVkdGM="
m_p: "7DDUN3OiL51FukwUl2pkxNZmRmR7x13y8zTMGczZa1xGf12tQ6UY8O5y49RoxPz3"
e_t: "1621018953915"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:33,927-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:33,927-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:33,927-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "4485200246794bc188cad547143868a1"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "yHmi1fFp"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210233208677696942660t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:34,000-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:35,014-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:35,015-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:35,015-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "67325819935022"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "MKqQufDyjrn8ETwZdp7lgWFtUHSxXi4s"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:35,111-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ac135808c4ae41f6a29195954f1ecdd0"
s_p: "NHJwQnFFdm9PRjMzV2pUa3d6TmRVYW5TQnE3anFnQThKYTYycGFkaEpzTFVQdGJzZUZEaUszUTVSUk9NTks2U0xoYktDNk9vVGlIWWl3QWdBNm03VU1rSnZPU3lTWG1NMUlRMVZCOTQ1QjNQVWgzdTlPUm9ycEpidHpDRVpaNEMxRkU5TnluY2Vhc21FNDFxRlJvWVh6STFEWjBlbmNUTlNja3R2cnlndTVrTERpVVBxNjlMREF5dFYwdVRJOXRZWXQxazVXeFl2VURwcWtqaEE0eDhVWjNNcDZ5aU94REtkM1d3dnJsYmFLZzV4Y2hvNVQ0N2QxYVMzZ2U1VFRPaVdVdFdiRDMwYmVKOTFDWUhYak84WHlVbWNYYm5YTnhMN2txY2pNUHp3Q0UzZkRWY0xRUDBxR1NhYUZ3dG5wUFFUQzFqNTc4b3BBQkRtRTVFRlpFWmw4NFNyNExUMzRTN0xPNDdLVWFtMmtwMDVuS3FIRjdxWGRoNXkzWTlHcnpxb1lyZFZLd1lqbmU1d1R0ZHZvYWNaalhsZ3pqampNdmc1eWtmb20zTFZFUUw2cHhrYjZRUmNybmdkU09EbXVBTkV5b1RpTVZydTNDQjZCdUdXeURMdVVzVmFRaVVPNzJmbXNMYkVYVXpoQzBsM3hqQ01icnNZYVFESktMREVzcVBONTRwd0pPUEo0R1JpU0Y5eFJud2pWTGRtMFZzSlFJWmJmM3RzajdHektJUmpURjZySzVyZ2NSMmtrMVRXZXVnd2tHWm5YNTRaaVZlelVPMDJzSlBpSVNlQlRUeXlWNGhPRWpsUnBBVTlvZ0xUZXdvZzRBVHB0RTZENnZDMDFYelF3RVpXcEExSnVUMHFJdjZhaGtla2lIYWs1b1JPV2l2b0ZNd21LdlU1ck9jM0s2MFFSMUdyRlZmV1NDUjdrYTBpTElPVUhiQWRjMTd3U29MQ1l6SW9VYU9QcjVKMGlwZFV2d21NYnNFbm5XRFdaMkxQRjVIejFYNnBkT2ZJSVliZTFtZUx4QTdzUU5JWktmbFl1eFRNOFVUVkRMNkM1NnA="
m_p: "4sSYt9GXwqk71B1ABlDAI28j26zfVE188Mx70n59jm1KDs7vCVCM3ds41j4K6bUO"
e_t: "1621018955100"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:35,111-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:35,112-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:35,112-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "ac135808c4ae41f6a29195954f1ecdd0"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "33WjTkwz"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210233208677696942660t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:35,184-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:36,197-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:36,198-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:36,198-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "18819779629261"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "4ckGUtO6bfXis8MzVe3EJ9wQqRjFByKp"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:36,280-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ba79521c3176469996e7f8df79298a02"
s_p: "NzdodVFiSFR2VnVXZDVtOW1yTWdyRFl4U3huSU5HVzNwRjA0RnpETDIxaVF0ekR3RElMUlJqYlQxR3EycmtrT1NVQllIVGNoY1ZWSDRYSDdGOHB6dmpKNU9ZdVFxSEhGYzhlTlB6R0xKZlVGcXZFcDhTZEFDQklURHY2a3pkbGtueGNvTkxyakI3bTVZeklaa1VKckhMbkNrQ3YzcHJncE5XRUZxbkdRS0U1Q0FucnJ0Wll0VnRwVzUyWHM1VUJSTlFnV1NkaW1VR2JHV2ZGWFNCRllaZjFqYUlzUTBNMGNoUk1MQmVwU3ppSlNCMmlmZGFFZFpBaTY5c2RLalNuS2tqZkJBYkhBTmRxSlBHZjM3WHZwb0FCNWkzRlk5dVBvdTVXU2hFTHdUNDBIUTdvNk12UGdBTDA4bWZpVk1ZUzIwYmp5QWc1cXdRTGh0bWJLSENVSDRoWFdkODVwQk5NOFNWdndHVWRpdVpHb1AwSDNzUGYzb0FXUG1DdkxJOTRQMThMcFcwZVhtR1EwMXRoaVF4MW1Qb2JYM2FvMEFQdko2NkRZQmJOeEpHcElPZ24xWXpVbngyS2dkd2F5ck84STc0UmNFemtITndPMUVEM1Nzc0J0TjhmOGdQMDhva21obzJjTmpMclJuaHlpcGczd1kxQ2VyR2J3ZkREUnNkSFFEUlJtTHFicEREYmR1bzJ0c0tTN3VzU050Q3hLb1VqSE11VWh1cjR5YmhadE4xejVhRUVEVk9ZdFdMN1BqMTBFVlBoVGJBVHFKMlJ0TXhDeGF3Y0tOVEQ0d2lpdGVhcU9LdEx2emFBRGY3d3BPazFIbVpLTm5aNDg1cTR0Y3RzemtldlZvTEI5elRzc2RXaGJuU2ZsQUtjQlRCaGxxb0NUOG9DcDk5Qkx0ZTBoSzdQczBubUx4V2JZb0V1Y2hoazNVVG92UWV1SHY1VHlMdE5FYnhqN2x2ZU04Y2U1VTluaGJqZjlMNEhMWHZqVVcxakxGbjFZYmp2cDNkM0tPZVE0V2x5Q1hnM1NIZGFXcWhYSXFFWDdkdldMVDA2S2JBWms="
m_p: "uU5c3903844a3Iw2YK8b4FMDQ65csav555g22LP52A1q1qVl7MBKMFmnq63nBkPG"
e_t: "1621018956268"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:36,280-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:36,280-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:36,281-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "ba79521c3176469996e7f8df79298a02"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "DILRRjbT"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210233208677696942660t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:36,363-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:37,565-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Rel0mfMG7xEothBgNLXz6wSUKWT52YPv', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:37,582-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:37,664-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '4FW8gl7Dce9RzIsMox2mELnkTPXtQfuZ', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:37,676-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:37,933-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-13 21:02:37,934-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-13 21:02:37,934-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 2.42, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 6, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-13 21:02:37', 'ext1': '', 'ext2': '', 'maxAmount': 67.76, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105132102379584336051301069811737399220', 'ratio': 0.22, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': '2EFF3C7C757A627D41954D0A12039ECB', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 1, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-13 21:02:37,991-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-13 21:02:37,991-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62641517', '62641518', '62641519', '62641520', '62641521', '62641522'], 'batchId': ''}
2021-05-13 21:02:38,024-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'pbrBWTsAiKSCJXEv0VGxDwH3eUqa5L1k', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:38,034-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:38,373-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'TDEkYLQ315GXUFd2hOHoZgSilxIt48qJ', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:38,413-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210513210238208677696988785t","status":"ACCEPTED"}

2021-05-13 21:02:38,414-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'payReqId': 'KB20210513210238208677696988785t', 'status': 'ACCEPTED'}
2021-05-13 21:02:38,428-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:38,428-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:38,428-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "09354316209505"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "pqdvkutN9xZTDlyn8scVW3RwGP47bh0f"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:38,505-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "18fce4ad6d0d4475bcbe143f3735fc21"
s_p: "c3lkN3lLeHppcXZaUGdvZlhTUkdMR0daVnlwc1A3cGdYR1dnVmlDbjd6VEhOTXFpaG5XTjhYbWtSc0FXYTBZcHpoMDJDTzdxRGg2elNXaDFUZlkxaFN2a0hiem1wN1FWaE9MbVpNR3dKUzF5NmtxWVc2VThVNzdUcWdaaXRHcWkxZ21NeVJBaVM1UFJsNURDOUxuYk5KRTNDc2Z6dmo3dDhBUVhSelNHbWRhdDNlNFJLZnhPWTlhWEdMM2lLUGMwblFENkFDZzhpRVpUdGJuOUdZQ2dSRm0xVDNDRUt3NmNTOEtxSnZZb3M2dVdWVVBydU5EMW5yMnE5aDFCa21UWlVpeXFRenN4ZVlXekltdnpSaXhnV2VFMnRBeTRTU1hKbHpYYW82OEpBNW9KTUp1a3kxQk5VUVI2U0lHQTRIV1cySHV3dGdMcHVjSXJQSjQ0VURhVEJMaEtseHlZaVhlWVZjRWo1SzFZTGxKSU1LV2hZak1QdE95cTNVTHZqNmZmWTg0dmZFRldEa01JamN2ZmFZeUtJZWxBRmNScUhWelJRTWM0eHNWSGRRNjBJdVhXcEtYTmdsQUkweFNDbVFGeXg0aWJpTnBEVUU1QVRsUzBTbFhwWUxKTXdXTUkyOHhZQVR5WW5rZ1lYRkd0SVFnR25zaUhFcHRzdUdhek5aZERqWmh3T1AwTW1YbU5CQVhtNWFuZUdWZThKQmlVd1RDRUlWMXpCWWpWd3lYcGNGMnYxSWVIUEQyTTg0U2tyZlBCOHEwbng0SDNabktqd04xRFNFOTdNcXFzVHRWSW5sdDFSWWxocXo2eUxMMGo5ZHRzSEkyVGxWeXVid0NWbmFtMndTTHYzc3J4ZWdwd0hOOFpMblh0MWtzR1ExUUo2WERGMWNUeHZyTkoxMlVkRFhBYWZxYUVRUmxZb3U4WmZzSjBIdTlRemNPR1ltSXJheUNZbno3Q0RaZDU1cmN2U1JhbVRqY2Q4WVN0RlpyWnNKd0E4c2dVd1N1Rmtack9PQ2RzRnU1N1FLM1NuanVjZTRRd3IyTnUyTk16VExLc2RHVlk="
m_p: "vb95PPWVKAF7s4Z1d1NFNqa1o8HQtgVJgcx3Ins4xX2u03EHaPbB5j2qeztJ6ZOK"
e_t: "1621018958494"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:38,505-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:38,506-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:38,506-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "18fce4ad6d0d4475bcbe143f3735fc21"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Hbzmp7QV"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210238208677696988785t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:38,613-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:39,629-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:39,629-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:39,629-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "94499773351249"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "bvZetLYs9k5Ju7UBhGQToxzFXOiM8ER0"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:39,721-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "39d7664e9671415292231f987a401d69"
s_p: "STlyOHBNbHVkSkNrb1lGSjZNdHpiQXpsa0dIYklRc2V2QnN1TlQ0ZHN3RWloSGZBOEVHdHlXa2FPNkFWMWE5eWc3Wm8zM3ZnNTlyM3hOWTRLb2xhQ2s3M3J3cktuQ0plTVlnMFF0TnlkUjMwMnh6T0lDaTJWQkNpTkFPUmNWdFpJSHBKWEVEMHY5Qnltcm5FNXF2RnBmMnFwZEhOSmN4TDRHMjBvbzR3eHFreHF0N1VscGFHc0Q5blpYeUZGREFJNlhKMmI4M1pycFdJZnNjeVdEMXhKQXEzTnRubVNsU2tUd05XRlBITndoYnNNb1hPWHNoQkNJUkNxeEt5UHJTSjdmUDg3VW5NY25CQTJ4RGFkTkRWU1FKaTFmTFNiZkNpc2xUWjdGY3JMdE16Y0hpTm1zWEttWEdaSzNjRjBNcEJ1NG00RTN2dXExQnZkbW9OYTQ0TWt6azRIQmwwYXhsZTV3Z1FaRlFPbXVMSjBJb29vVmV3WEdRelJzZ3VvZzVwVmdvb2FiRU9WVVFqdktXZ3NyQTJYQlFVMlpIVHZZeWM3MFlMMTZMOFZFZExobFlKcnlzS0kwT3BtQ2NRZHdSRkh6WjNwS3VFWjZyM0IzTFVFRUIyeU16a09GWXRrTzN6MW41UERFclYxUzBISjl4M1FBYnpwaldvRG9qTWRKaFNmcThlRGtaWE5IMVM1ejVDYWNNdEZ6WmpsdmNiUldDNkU1eUFvaXVnRlB1Y1V5YUJaRmU4bHRscFc1UVNoMG01ZlFYeGRzNnlocXhZTkZEc2FIZGJDNkFtSFFmWWJUWTNTZkxPbVJzcm42YWx6a3N5bXU1VHJvellVVElQcGZ3SEdJOHJkQU1EVkQ0M2VHSDdPbDJBS29qbHBNRWNpb1JKbHRRRjdvNE8zT1RGYWVSc1ljQ01CN2pHNVZMY1g5WUR0bng1dmJ0N2Jtb1RtcEQyUFBYNVlYelQ3QjdvcjJ2akZYSlRQYU0ydGhmYlZhWEVZT0w4dU55cTNhYXZVQjlGVmVrMlBldHZWTllnQnpodmltclFDdTc3SnlVekMzZ0U="
m_p: "MpVt983BZTie8gQ0676n43883C0z756gP7iIQ1aXyfx8U5X072OnzY2LXW389wJY"
e_t: "1621018959710"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:39,721-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:39,721-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:39,722-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "39d7664e9671415292231f987a401d69"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "302xzOIC"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210238208677696988785t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:39,820-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:40,835-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:40,835-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:40,835-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "04131448702145"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "iAKRuJTYj2k01s3MdbySBWVv85Cmc6Zp"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:40,914-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c39da2e4fad04db0ab7eca76b9c6055c"
s_p: "SmhCcGJld3FZenpwM2ZDNUVhejlvdGFQbWEycVNpd2QxbXdBeUhIamtncGtJMGpzT1VvUFN5NjVONmFCOXpib1B5a1o4ME1UenozME11WXBXbGdGdkw5blNMZ1NzMlFVMzZ4eWZ5UFFmS3BnSjEyRFp2WjR5c0VmckVReTQ1SFpDMHZkMjJCZEVDYTQ1WldmWmpOTkhRRzVHangyUEVmVGZlMElOUVNHbkh6dGVKc1Z5emc0cUUwYTZBVWZORmpmWWRqaVhQQmNBWGM0aWdJNFBKbHBSYzdPQ2RGdmR6Z0hwRUlrZmF4SGdUUzYzTGZNM2dQTjQxTDlVblpMS053QVo0dFNwRnRySHBGME02OXlPUlEwRDBMcDYwTVZUazNQODJ1YW1SUVV2UmhMZ1V1N0tTSjdmTjdBc1NLelFBd0xLRmZUeUxqSGJYWGZMTTFXVVFiZGtOcUR6ZTZkeDBLandVdkgxdnA0WFd0Vjc0U3pRcUM4OXpBcXdHUXE3M0tWMW4ybkNxZDJrb2FnSXpFWjAzSkZITFVybmtWR2k2MTZySUZXTTNlSFRENnNDY3dJODFxQWNzdTZXMGQzSHRCQ0U4VFVFSDV6UW9yM0ppRlNRR1Y3aFJSZkU1S01EdTA1ekFDZ0FSeHBMalJ3U1BQWDNNN3dJRjN1TW1jdVlScnRTNmxnaTl1Yk9KZ2xicDZ6VUxpSjBLVElLOFpuRklxMTdEeEFYOVhmUTJldjluUDdzQVJua2VFZklUbjlVNFdOM29NVmNPY1JtSmR4VjlOZENnSUtGZFh6QU52c0FvWll4a3VPY0ZXRHVIY25MZHRUY1JuYllRYmtIUWZSS1F3eHhqSGZqQnpQMjlYcWUxTVpVclFsbFBXWXc1TURDOVpQRG5abjNBcTdtamRvQ0V1MUhxblhVbVdPSjlxaVViN3ZRQ2xSQlBpaWgzY3hucGphVkNMQWZFc0lrNVhnMXpnOU90TW10TEtLME1LSUZiMjJPWXl1aFV1MGFuNENjVWNNYThBWllVRWxaNG93eUVNalhXWldtdjI4dXJ4R2ZqZWs="
m_p: "c02OGgO3OFK245le0RZ3P0bl0x95QuY83c6L25SZ7d11Pno6wt92Ls1pI1Kh6yS8"
e_t: "1621018960903"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:40,915-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:40,915-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:40,915-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "c39da2e4fad04db0ab7eca76b9c6055c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "xyfyPQfK"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210238208677696988785t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:40,993-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:42,180-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'fj98QxIM1YnGZtkFEDgemyHouC5L04zO', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:42,195-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:42,264-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'JInAZOpyuvzQ6wVKcUtb0ro9MNB7PWH3', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:42,276-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:42,537-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-13 21:02:42,538-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-13 21:02:42,538-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 581.42, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 6, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-13 21:02:42', 'ext1': '', 'ext2': '', 'maxAmount': 678.77, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105132102429217326435789605985837380251', 'ratio': 0.35, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': 'C80E5BE1504927DAB49F9180DB694363', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 5, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-13 21:02:42,598-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-13 21:02:42,598-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62641523', '62641524', '62641525', '62641526', '62641527', '62641528'], 'batchId': ''}
2021-05-13 21:02:42,630-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'zkxBE5wei3tpvHFWVS67KhamAMc9ysuI', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:42,642-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:42,951-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'RIlNTwfoHrD4QBZO15VhLSYt9CjUJs8y', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:42,996-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210513210242208677696970162t","status":"ACCEPTED"}

2021-05-13 21:02:42,996-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'payReqId': 'KB20210513210242208677696970162t', 'status': 'ACCEPTED'}
2021-05-13 21:02:43,010-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:43,010-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:43,011-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "56984032759486"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Ot3Di4rSsPfZpeCV1TnzmjJwgL6lkBMh"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:43,081-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "169b32cfeab4439498a5231f13fac7a5"
s_p: "eG5jZlNkNGswUjNWVjViRXp3d2lEcGtRUU1XOGtHUFJqUENWajZRNUNCclZzMEs3bDM0alloZ2xpeWppUU01OVBvVmw5YWc2Ykk5cm9IYkZWcnk5TFZPcnY2bzR6UGIxN01YdmQ5YWxtT1RhRnpvMGllMmZHbjduckVnZ2pOYVNIU2dNSXJMTzFCbFY3cTVlNUhPUzFNdEZlNVNSVFM1S0tIS09JcGJKWlZDM0hOV2RSSkZLMWFOc1F5SUVSblQ4MnAzV3N2dUZ6MjZubE1iVmpTbjdreEFMcWR5bUd5R3ljZ3ZkZ3puT2FRQk9ZdlhqVnBEMmsyMk1HbUVnQlh1aW5uMldlUzByZmlRSFg5VzRFSnZmenR0STFNbWQ0MGIyaG5BMENyVHlPenU0MEtyOERTZk81WFYxZXV1VkhqVnNMODhjWjRPb3d6OFk3NzBVeVlJT0ZXZ1pteXFjNkNiM01nUlZmaENqcmFQcHJiTmNCbWJEbmVmdzBwY1MzUk1ITHl2STVIZlJYWDcxU1dHM1Zid2FGbzdHSW8wWHBZeWhuaEpPd054R1FoVzdBT0hmbVBZTVBqZWI1dHl5R3Z6R053YjJUNW5RaWJsOXA5em5YMmlhZDloRHNyc000YWgwbXI4cFJacFpTeGFYWkFyNTdwbTF6MnBTT2FVR2NieUlDNlZkS1RoM1E1dnU0SXhEQlZmb2VMUlk2aWhTeXJMM1FLM0ZkU3lDandJemdKbkRMVlc1dVNQYkVsWnJuQW9SNXc4NzBYRVFvSlFaNGJIMWFGMkFMQ3hQM0YyeGNTYmNocGMyVkE1M3ZTY0htWVBuMFBxMVZIejRpODlaYldqYWhOZDJsTG0zVEJyYzhkMHA3cTRZaXpDb2NYRlhJcmt4VmlRY3dHZFJLdlY3UGgzTlRweVNmQmdiNEZEaTJwbXlMZGJneENBZFMzNTJHY1NiajREcTRXbjRTdVI1M3N3c1hYODA3R1NPNG0wb0ZBdW54V01KZjZnOXhjaDFlYzZ4M3VvcmF3MVVIMjRMUm9VNTl5S2xLMUYzb0s1SHVVTXc="
m_p: "vSE1p4E2ifcs2n2GuzCYlhOnT6w8b29Zq3m1rbK8yG1skXX8V19dFJW2a3xNfGq7"
e_t: "1621018963070"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:43,081-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:43,082-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:43,082-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "169b32cfeab4439498a5231f13fac7a5"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "PoVl9ag6"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210242208677696970162t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:43,184-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:44,198-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:44,198-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:44,198-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "36473215044327"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "gDb0t6TxlEGAvLoyp4aBf2kOFKreijCW"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:44,277-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "fc53dbd46c0f45ae82980ee03786250c"
s_p: "clREMVNsc0dXT0pOUUZsZkxHZk1UVTJqNGVLWGpaak1hOWczVEdqbDBHdzJpVDA0eFpWQzFSaFlxZjB3Sm91ZXJHNVRVbkczc3hEZFY2VUphZUp3OFJaSTFDcEFEVk5oY1h0UmZSOVVONlNDSzZtUnNvVFVZTk5UTEhNTWZubkhjcVBoTG54TUw1Wm9NN01tcDVabE5QYmIwNjRsV2RJOTdKRmZaUzVRSHN1cG41b0RabndpeHFIZ05TWDV3RDVtNUc4T2htVUN1OFJjRHVEaUNyeXc0Z2tERjEzNVRBb3c5NEE3YTJTSkdUdUtqNDdQR2RBR2JJTzQ0UmVXRzFhZmY5MnI2UjljOVhMOWNiY0k5ZG80MnJuaHVTbFJhQ1FnYTF3UkxOT2tOSDVxVUxSQzJoOW44Q0lRT3RMaDgyQjgyejdTM0JxbVpaU1dVNEpkTWVGZ0tjVEwwMllhaUViTnRyZERRNG93WXpOU2dvUXBPUXdrZ0ZCYnFUdGZvQWpBS3ppZVNjdEwwb0NUc09NMlJ0TVV0M0ZBRFBJc1RqZ3pzSFdBWXExbnJHb2VXeFNtcTZqM1VySTZhYU52d0lSelBnaGFuN2lHcDdwOEk1NGUxUkZwbnZPRG5MS080Q0pxWkRURkdUUlVQenZYT1B3ZkZsV2ppSExYbWFIbnRNUDNSeFk4Rjl0NlFiS3NHVHo3MDBzSWtCU2gwM1FYUDhrRkhJU25NS3JxY05XRW1TbEJJdGp6R3lZaGlJVHNUT1ZRbTJiSkVCcjR3VmwxU2oxNUdoN0gwTGlqbXhJcGV2ZEt3dlpaWkZPTUVZMzgzSnA2Z1JNY3lMUmowMWRCYTRIWWo2SElObzljYVVRUFBydXduckREZlkzdjF1dzVqME9ZT2taUlNhdHJGbXFFWGY4ZVZiaXIwSlk4UmpwV0NYdFFpaXNLbk9TRzdVbkowdnczeVlnOUlSRjRhMFFTdVdMRWQ4bzg0OW9YdmN6bVE4ZlY2R04wRGFUWHpMM2MxMmVlTEE2T3JTeTc3V1J1SGpVNnQ1Mjl4eHRMQURBSm1sN28="
m_p: "t72N2EK1D79151AKZrf55CRKul3h3952h9doy4pSUidQeayf2OR31k2Fg9eaD0qD"
e_t: "1621018964265"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:44,277-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:44,277-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:44,277-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "fc53dbd46c0f45ae82980ee03786250c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "NTLHMMfn"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210242208677696970162t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:44,351-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:45,364-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:45,365-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:45,365-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "85835011473612"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "RLlFh4tT6dz37VXvrDe1Ba5noAcEpxHZ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:45,444-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "995570d9b6f044daaa8ac09ad7d0a233"
s_p: "cmhUaXZaMGxsQnNhdlZJV1l1d3BMY01wZ1ZTN1RVUXRIakcybjFxMW4zOWZORG1XM2hRODZuVm9LN2xuMkhuRDdoQndRSFJ6VTBGMWFwSGljU3JHd3RYSnhWTk1aVEJEMFFDRmkzTWVMMnZRTkxVN1JwbElVak5xTVl2SjRFMnZYck1MeGdCeHJZTEJsbm1INXUzTzcxMWp3NEhNUjA1M3E3NUl0amppQ0t3M0FYY1VWdTFWaXMzbjZ6ME5ic2tIcTN0N3JZc3dybXZTT0hIelRSUjVodXVScTJ2djgxc2RvNEMwczJ3WlpyS3UzYk1CS0ZiNE1FZ01YWWF0RnJXT0VTSzA1MXVGMjZsVm1SMzJqSGc3MVEwaFNRZDVRRmY4NVl5MDU5VDByd3ZvUlFkbEd5R2xUN3FUemV0SnhCUklFRzB5MDBQSWJBck1JczU1eXgwc3p2UGJwZHlRNTYxZlZNY1FrNkhQV2xCUmE4RllPWDc4RW91MGQwTXFpZVR0dlY2S3ZqWVU1eVNCWk43dTdrd0cyaWpjZ3k3NXVLRkp4N2k3SmZiR0wxWTR6VklHOUZXdTRKajJJRVhZdk1mWFFLMm5zb3gyTVpZaGFQQUJzSzVxNzVqT2JYQ1dmNHpURnZCY1NneFVUdVFUdE1DMTRHVWI3SUNyUW5RRDVXQWZ5ZHh3SWpaMjF0Yk8waVhBMGpOWWFnUDhIQWdQaTJjN1JyVU5pVndvcjI2empkTW5ZRzJ4U1JwOWdHbUs5VWtETk12ZmVPWHRwQVp1OTVFVHlUU1E5UVJsejlLRnhnYkhIYmJIeDRwcW5OT1RzYWJxYnhoMElabjd2V1RsNzBVTjhaUWo2YnBFTkswVnBWaVZLR3NaRnpRMXRNN1FBWThiVkNWTmtRQ0ZDSjNxNlJBMzRwNHZiNlRMbUEzOVZ5TDBhdG94OU5xcjJmQnZwZXJXUTFqeDhrUVVZY2Q4T1VhS3BlM21lZml3aEo4NHNOc2NDSkJtR21XU3M2bHR0WjhTZmVyMXFGWjRDcXU1bG5kaVdTWlNjVXBRRk5QUGZycWQ="
m_p: "zZkdZHL3BH68354I98jrxd42Gc21O81NVsQP2qPzZC9jbsmSss0gde274YGn3QSp"
e_t: "1621018965432"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:45,444-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:45,445-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:45,445-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "995570d9b6f044daaa8ac09ad7d0a233"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "BxrYLBln"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210242208677696970162t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:45,533-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:46,737-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'OsJ34Y8NMTEcqop5hU1tzIgLRQieC6Z9', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:46,747-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:46,823-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '2n34iXMfIjtpZESd7oKxBNDgUFCzycuw', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:46,838-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:47,136-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-13 21:02:47,136-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-13 21:02:47,137-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 1.87, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 1, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-13 21:02:47', 'ext1': '', 'ext2': '', 'maxAmount': 6.2, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105132102473494412570709890239270128707', 'ratio': 0.21, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': '737BA9459D4EF3636D4E846D902DEC5E', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 8, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-13 21:02:47,184-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-13 21:02:47,184-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62641529'], 'batchId': ''}
2021-05-13 21:02:47,216-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '8YdvirsJ3lT74BOh2x1McyU5HtaDewnq', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:47,231-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:47,526-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'rYUtwjhvkaLKdo2iSXWE49CyRzF0TOMA', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:47,549-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210513210247208677696921752t","status":"ACCEPTED"}

2021-05-13 21:02:47,549-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'payReqId': 'KB20210513210247208677696921752t', 'status': 'ACCEPTED'}
2021-05-13 21:02:47,563-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:47,564-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:47,564-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "56935035928437"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Iq5UONbicorBg9uLfSAXdmtMeZs860HJ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:47,642-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "21ebea1c3a174136abe83455daa2f50d"
s_p: "SGR3c284elFZNFZpWGhrbnJXaDRPbk9USVFLT3J4WTVjTURpNzFTZnRYMEh5Mjl1WmJaNnVBMFY1VnBaTWRSMzBqOVMzYUs0MFJwdmVaZXFCVjRweGEwTTl4NXVQdU43SzJMZ2t6TFRBU1BlNW8wVzBhaUdIeWROdHlLMmh3QVdremtqR3pPTTJjTGd5eHhuUmV4a1lDaXZVRUNQMDRQamNleFJuUmlXZDV2OXN4R3BoNEFBb0I3QVJiZWxCcFFWSERoaWZleEFRWGJWdE1BRmNHd3BkQmszclBOZFF4NUQ2VE4zMDlNbUJEeTVyYm5QVlNyUTdHYTFTcmpyUE5vM3c2QkVna1p6TkhJeEFCQVFTOFRheXU2R201NHhPYnhMQUlVWEhHekxtVXhCMTVOZjhTalJncE9vdk43V1RqME8zVjFHekF1N2xKY0daT01SZlFIN05nT3dQcll5b2lRSjJQbjhSdE5lVzdhMDNBVkZZR0tOZURIaUJaYnY1TEk3ZjlkN3BFZnZLZnQzS29pRmcxeks1REFhczhmRlllWHlVNzJ6VXBtbUVseGVHSE5qYXJXOG5qd2lacWo3MUE3MUNiVFBNQkZ3NVFVVjE3M1FMU0ZBQXczRXNEdEd6R2lGU1o3elVsZ3lLb042TGR0Wm1oT0QxdkRnSnBCRndiWGl6VmYzYzJIZ0NkTjQ3bFNOeXZlVTZHbElKcUNZZnVGMTljWm1kTDVwTWlRUFI0cUx1ZUh0VUNnaW8wUUxjVzh4TGtDMHFaems5M0FMTVczMTVyZGdTS244RENnMnViZ04zYkc3dnFVRmVOa0ZVVmFVb1k0cm9mU1NMeWFBUklHZlhscmlBcEFmUW5SZDJLVEI2Ym1MWWlmeUswd1VTb1ZnWWdhcjFwM1p3YjdQWWxQNFNiUFFPSENYMG9Sbm9BanJRSGI2Q1FsWmhSTzIwWlA1VjJlWXluV2hZbVdqOVZ6U2xBbk4zb0tzV3NJU2NFekRIOWo4VWJvU3pEeEtUTlNsc3hUOVNlYTFGQVlmV1lxbXZoV0tFZ3ZGT1JHQ2t4V0I="
m_p: "v14L0L3ihQX7xYM5H035v0Tr5C73rrEu1q33jO01ZO0eOgmkhrQ373E63Ve556H9"
e_t: "1621018967631"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:47,642-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:47,642-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:47,643-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "21ebea1c3a174136abe83455daa2f50d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "5uPuN7K2"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210247208677696921752t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:47,702-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:48,716-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:48,717-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:48,717-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "58594733831070"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "fRcMLmb7wG5dD9XyZjHY1hrQoIKAF24z"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:48,798-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bd108451d11f46e28b3b924b4ec80374"
s_p: "bVJrWVlZTEMyVUNmaDVKN3R3aHlnWXRJUHUwMHd1RXNia2tjYkU1SG5CRmJ4TUxtVXUwUWtmSGpCdjBrRWRVb1pyYk8ydkEwZVdaNkdmbWJna3l1OHl1eXBRQTBmSHcyS2ZCQUFjakcwakJpcWNVN1JZbUhBMlE4RGxvRjJ2NlJHY0ZmY2s2bXBKUjhTTTlkNWU2RmozVDFQaTlReVFYakR3OGFrdXFHSkhPbXV0MXpURUtRT0dEVlFJck5xZmlLYzN2aFY1MzV4YmxGUU1Femx1aG54U05STXFyQWJiWFdvOUJsNjZBVmwyNmdNMXU3VkdMZGI4aHgzS1hQeGRoMmFWWFdKRzhPV0s2NW5MdnJXeVJwak9wWXFOalh1WG96aUFUNkhwN1J3TXZiOEJxNHNaTVY3VUhNaHBqM3BDMXJhd2FPdndCTUhRejRpeXJrRDFzWGlwRnZxRmE2VnF2NllPZkZEVjlxMWJiMDNCcTBvN0VybmtmZ3ZiUVd2d2ZNTExHU09QZWx5dnExWVhTSXJQTDlVYU9MVktXRjJDcFEycHBiakdXTjVhQWZJdnJZWVVRYms2Z044VzN2OHBjbFk3dmdsZHVGWUNyWWE2YWxrMmlBbXF2dFU3U2duR2luaHoyWDYwSjhhckx2QUg1cG5ZR1l0MExCZ2JEeWVZSFBQZjFPMnRUT25QbkJXeUVsYm5qV0gxVUYwTWZXMDU3OU96elJWRFJYTlcyMFdwVEo2SE5mazg1aEdzV3dpZGs3dDRsbDBUUDBObWl1VWxIUjlmTmhpRXFhOTFzNVBKck1HMDFTVkNVbFZoVFJIMmsxVmU2MWlUZHZ6Wkp5dk0wQTUwMHZTbm83eHg5RFFtWkxSaWVmd2dhUVFnbHZKbkxrRmNtM3M1dEM3SzdFRER3UFQzQ3BjUFpuM0o1dGlyTURxbUxJeTl3c3NXbWZwMDlUcUFVREZDNVV1ZUpJbW1KWWNEVkNqVkxpdXIydk1EdnBOQ1dsd2VNVW5tQXRXNkxtcjFKeVNCd0Y1c1pPNTR5Mzh2WWIyaGd3WVpqSkR1S0s="
m_p: "ZIn4IG455wmUFotBWGwnr4prd1F3qjZ2oyfsB9yTE75TXP3r2wK9bLQ98M9Nc9Fk"
e_t: "1621018968787"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:48,798-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:48,799-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:48,799-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "bd108451d11f46e28b3b924b4ec80374"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Q8DloF2v"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210247208677696921752t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:48,876-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:49,889-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:02:49,890-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:49,890-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "96451645186588"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "JBxhtzP0FqYWKbXrL7eT4ANDjays5mu6"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:02:49,974-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "41cde2578d0e45c0b6c65f5ad070880f"
s_p: "UXlYVGRWaldEWW9lWlBQRHVtZWE0WFhZVWxLQVZlYXpicmJMbFRWV2JFTXA2R2VuMkEyNDNDTzMzdTZNc0Q5dVNkenhHNWZPMXljeXpCNEQyRFl4V3BQMUJ2aHVISkJnS3FBUDNrU1llMHI2RjdFUk90cVlxVGtNNm1kZzc4Z1ZkanZyYWU2c1lwZ2dzeGdxUGhTRVRUSUloSHZnOExXSjdBenEydzJTaUkzR3dHcFB3WmZnbzRUYXVvSkJwd2NJYUl5NUJQWGxWclpXRXR3R2J5cXN5MVFDYXNaaUJXS1ZSZDFzUW9FWUFhNkpOTkZ2RXdKb05Ob05aUWF0ZWJRam11YkRBdnVYajdTU1ExZXAxNmlWQ25iWHZvTVBSOWk4VklKeWY0SlFtQWRiTXRWTVdPYjBzYzhZdWVheFJUR1FGMU16QmdJVDg3eDNEMFVyY0lQUjhLSXRvSHVUaFk5V3VUZ0VJMzNMaEs5T09vSTRWU0wyaWcxUk80NHBiZmg0ZTJjZ2d2UXRCNGRWNkdOOVJLOXNkc3BzWFR4bzJQeU9FOGpVQUlQbndTSVRseUJaandwZUVuWHdkSzM1MzM0ODJmS2FWU3d5cXFOMnd0a3ZnQWNGMTlVOEIxTG9ZVUh1bTUwTWdVdW9QQm8ydlpqTjNXZUxKNWtvcUw1ODhrb2duVTZXQjRocDFVcWFwS1d4d3dhOE55NGFKUWJNMTFsNlBxS3VEYUwyN3ROcHhIZ3djRzNodjlZNTA1eEdLZU5CVVdSV1pWODkwTjd0TDJjRWNENWhxTGZ1RHVjMkNQVFdVWmFET0gwYlZ3emJKN2Zad0o1V3pSZmZHUU1iMHZxQU1YWjVVSHc2N1EyYnZuNkFxN1lyVkNieXU3SXFKY2k4NDdpUmQzeTRJOUMySGpwbUdWOTFLdHNNaWxkSHZUV25XVElPUk95SWE5bmpwWkhwSVNIQ0NqU21UYVFoVDZDOWhmNWtESVFmeGRuZ0Exb0JEQ0xzajdubHY2cHJKY3RCVnlHY1RDcXB0cGNCMjZTTjVjRGc0cU9pbHJKdnNrQXY="
m_p: "7TtCoEGzg45Zo3R6h61Xu8nBkVU79QYY16K09j80z85V476Np30N68B03mNUTvN6"
e_t: "1621018969964"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:02:49,974-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:02:49,975-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:02:49,975-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "41cde2578d0e45c0b6c65f5ad070880f"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "G5fO1ycy"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513210247208677696921752t"
version: "265"
queryType: "PAY"

2021-05-13 21:02:50,051-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:02:51,221-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'tlE4mjx8cbRuLYrGHgZwMNTyi2a06QkV', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:51,238-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:02:51,319-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '6lL4KzXgxysNtjWZE5qVPSH2MpkeohGa', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:02:51,330-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:15:47,068-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 21:15:47,347-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 21:15:48,451-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 21:15:48,452-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 21:15:48,452-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 21:15:48,723-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 21:15:48,724-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 21:15:48,724-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 21:15:48,797-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 21:15:48,798-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 21:15:48,807-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 21:15:49,096-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 21:15:49,096-INFO-lib.common.case_processor.entry-72-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,096-INFO-lib.common.case_processor.entry-72-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,097-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.03, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,097-INFO-lib.common.case_processor.entry-72-{'name': '红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,097-INFO-lib.common.case_processor.entry-72-{'name': '可币+红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,097-INFO-lib.common.case_processor.entry-72-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,097-INFO-lib.common.case_processor.entry-72-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,097-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,097-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 21:15:49,097-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,097-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,098-INFO-lib.common.case_processor.entry-82-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"2","id":"","type":"7"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,098-INFO-lib.common.case_processor.entry-82-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,098-INFO-lib.common.case_processor.entry-82-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"0","id":"","type":"8"}', 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,098-INFO-lib.common.case_processor.entry-82-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,098-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 21:15:49,098-INFO-lib.common.case_processor.entry-72-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,098-INFO-lib.common.case_processor.entry-72-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,098-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.03, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,099-INFO-lib.common.case_processor.entry-72-{'name': '红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,099-INFO-lib.common.case_processor.entry-72-{'name': '可币+红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,099-INFO-lib.common.case_processor.entry-72-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,099-INFO-lib.common.case_processor.entry-72-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,099-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,099-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 21:15:49,099-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,099-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,099-INFO-lib.common.case_processor.entry-82-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"2","id":"","type":"7"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,099-INFO-lib.common.case_processor.entry-82-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,100-INFO-lib.common.case_processor.entry-82-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"0","id":"","type":"8"}', 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,100-INFO-lib.common.case_processor.entry-82-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:49,108-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 21:15:49,153-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'U9rj1KFL053tbGTCalOiu4n7fMxoPR2z', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:15:49,201-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-13 21:15:55,569-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-13 21:15:55,844-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-13 21:15:55,939-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 21:15:55,939-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-13 21:15:55,939-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-13 21:15:56,218-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 21:15:56,218-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-13 21:15:56,218-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-13 21:15:56,282-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-13 21:15:56,283-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-13 21:15:56,293-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 21:15:56,591-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 21:15:56,591-INFO-lib.common.case_processor.entry-72-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,591-INFO-lib.common.case_processor.entry-72-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,592-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.03, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,592-INFO-lib.common.case_processor.entry-72-{'name': '红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,592-INFO-lib.common.case_processor.entry-72-{'name': '可币+红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,592-INFO-lib.common.case_processor.entry-72-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,592-INFO-lib.common.case_processor.entry-72-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,592-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,592-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 21:15:56,593-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,593-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,593-INFO-lib.common.case_processor.entry-82-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"2","id":"","type":"7"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,593-INFO-lib.common.case_processor.entry-82-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,593-INFO-lib.common.case_processor.entry-82-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"0","id":"","type":"8"}', 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,593-INFO-lib.common.case_processor.entry-82-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,594-INFO-lib.common.case_processor.entry-69-正向测试用例数据：
2021-05-13 21:15:56,594-INFO-lib.common.case_processor.entry-72-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,594-INFO-lib.common.case_processor.entry-72-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,594-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.03, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,594-INFO-lib.common.case_processor.entry-72-{'name': '红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,594-INFO-lib.common.case_processor.entry-72-{'name': '可币+红包券+渠道', 'tag': 'full', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,594-INFO-lib.common.case_processor.entry-72-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,594-INFO-lib.common.case_processor.entry-72-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"5"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,595-INFO-lib.common.case_processor.entry-72-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"1"}', 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,595-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-13 21:15:56,595-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,595-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,595-INFO-lib.common.case_processor.entry-82-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"2","id":"","type":"7"}', 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,595-INFO-lib.common.case_processor.entry-82-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': '{"cutAmount":"1","id":"","type":"2"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,595-INFO-lib.common.case_processor.entry-82-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': None, 'voucherInfo': '{"cutAmount":"0","id":"","type":"8"}', 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,596-INFO-lib.common.case_processor.entry-82-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': '{"cutAmount":"1","id":"","type":"8"}', 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-13 21:15:56,605-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-13 21:15:56,635-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'OsEmH8FDI3f4Uardhwv0ACJVGRien7ox', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:15:56,666-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-13 21:15:56,956-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'u9UKheo3LiXmxMEHNt5wlRjGysBkPSQ1', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:15:56,983-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210513211556208677696910164t","status":"ACCEPTED"}

2021-05-13 21:15:56,983-INFO-lib.common.session.dubbo.dubbo-73-dubbo回参：{'payReqId': 'KB20210513211556208677696910164t', 'status': 'ACCEPTED'}
2021-05-13 21:15:56,998-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:15:56,999-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:15:56,999-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "42401634361183"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "UkCrZGf8WQDHJKaRtydTscLSmYNeM7P5"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:15:57,225-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c77a1a6a56e2498293f6825000da36fa"
s_p: "SGY3N1hyVnJ2ZkNiME1VdXA2dzBXajYyWTZTdWlwQVpJM09UUE9UWEtad2IwSllpUVN0Q21MZFlDUXJzRkZlTzFIcDVCUGI0RXZzZ2xwV1I0WkVVU1JTczJtV3J5WklWMFhqNE5aNTd3MEwwVjVrZnRWY0VoaTA4emdFVEFDaEhxZWtaZ0lkSW1NRmlNenJEV21lSHpWbmF5VE1COVhWZ2hpZ280OThSS2tiZlM0ZEZtNlduTUpmQnFKYldqMUEydDNUNWNVcVJYVUpUUzBxQjV4bjFyaU0ySlplTkVRV0luRHpQWTZWemZtbGVFc01ZSUgySXh5TUZoTWJ3QjAzV0hpN1hwd0pCbVlERjRKUW02NGtDNEFkdXpNZlBRa0lVY0lId3czMEI1UHRYdm9abEtBTTRiTGplUkV4dFRxdDlrbk9TOWNCSVFsMDdrcUpKZWphRVhHaDd2blVQVEF3OGVaaExWVVdiTDFXSnlTZThpVGROS2hIeElMN0dOdGhSbjJhYVJ1M1d6aDBiOUpRbUlpZW5UaGZ6STZmdXMxc0VzRDRnU05rZkk4ZGd3YXpFWFVFM3J4eGU3ZEdUZWpzazdlNXU4eWRIS2UyQk80c3d4WWE4M20xS2RsQlVzS1JiNE05d2NVRFdMMlFRblJmaWt1T09JdVlCVW16aXRWMTlDeDhxNWFLVVlHcGJRRHN1cHBQb1V4TWpKbTZ0RlRteFZNbURYR0NJaWtRWUFOaEhLbDhhdEVUZk41WkhEamdpRkZHaVZUWDR3eWl0SkJ5Q1B0WWNXNEJjbXFFWlFJUUMzNTJkd1JEdTZtb1VxenVmUjEyTkF1NE1LWG9VZFR3OU5iWGlTdlFFcTkzeVVBUmZHTXdRT3huSkZoRmk0ZllBYjVTRTRwQmE0VnZXQjJ6VU1GVk9CNVNVTkk1NGNma05QTFNTMUV3S2hacmoycU15S0lRTFJ1ZXkzRnpIZDJFalpiYXVqWlhwQ0lpbDI5eWN5dDhOWVg4SlRhaEw0VnVBb2hLZlJWTVJFQUpHbzBTdk1Pc0t4dEZqcG5tYUtkV2E="
m_p: "U5Av1D2l3Oc00zMlM66I6Mi6Y96wKLjXGpTy38Wy8uv2Qi759k5ESQ4X9B5Mr7Mr"
e_t: "1621019757213"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:15:57,225-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:15:57,225-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:15:57,226-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "c77a1a6a56e2498293f6825000da36fa"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "yTMB9XVg"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513211556208677696910164t"
version: "265"
queryType: "PAY"

2021-05-13 21:15:57,316-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:15:58,334-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:15:58,335-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:15:58,335-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "13141305164660"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "58yo9w2avFdiOQICbkJmnMH1K4AfREgr"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:15:58,407-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "9ec58b29a6fb4a84a7c058be2bb0e85d"
s_p: "aGtPdExMSjJoMkxMcXUxVWdnZmw0M3Z5aldnRHRaQU15dHFJUUxob0Q3blNwWWdOTkFYMmpGaTY1SXlRNGJaQ1FxTzJmRTc3c2QzaUFZNW1jb1VORnQ1VDJrc2RBaXRIc1J3NG5FTG9nNHFKM0gzSEthU0tzS01kd0N2YzJuS3FHY2VDejVnbGg2ZVNsaThKQlVXUTdlYVh2QTRYQ0hFb1dIQ29uT1FPbk51OHh1T1B4Nm1HNVdYb0JvdzJpVUZWOEdlZkNXZGVPdkRHTklSelpmOW5XeVBZWkFKWHZYMTlPOEZtckJOcEZnY0R1cmdXanltUHkxTUpYa1FVM25SdHZXenIyWlNHSDhvdlphOUFIOW1jaVJoS0xtSDhnZk56MTJQVDhGelhaRlZ3Z1lGaHhCR05xUTJoV213czRMclJHREk3RlVDUWh6ZXNJdFVNN1JTM0FSZVdLWTlrSmZ2a05CNUxJZjk4WEhpaVdRR0p3RDU3MkpzdkJZQ3N3SVQ5V2lJYllvYTVuY3NuNm53VEpVcWJzTnZPYUJhckJmNWNrUEVFbWEzV2lpQm9ScGl3Y2MxUENHOGJwdkZnOERRTmJvd1IzREx1SkNhTnlhall0UGZRVVJkOEs1Q1NFUjg5aEU5aU5DNVhmQU1lNXRVTWVWYzhtN1hsS0FlaEdMN1RibElQQzN4dmtmRjYzaW9ueHF3ZXY2U2U1cXRib0pITlhYSTFOWG1tNGR3c3BYUU5wT0VEakV3QjE4U0x4SVVSbEU3VmViOUR4NWlSQ25LT21aMVBpaUpJYU5xOE1EWGR2NG9xYklDQzREdnJpWVozV0gxcERsZ01QN2tZUVJjOG5CV1k0Uk9FRlZpazV1cktDNlF2dmtETGpFREpqR3ZPb3QwaDZWR1FLWjZYbHBJV0UwWUNjMUt6bllVaWdMS29IN2ZWQ0xjMU12NkRYemEzUGZJc0hEWmw3M0lPa1VEeDlIUjBwT2lxYlBka1BkOW5GSDdvN1JlR2diNzZURkpJd0NkNE4xWmt6aFN5TDljWFNmaFZmVVNrVnUyeXM1UW8="
m_p: "xN0B9J1PvP4O97WIMF2Zlu2G0tyt0OWrkI5nSBvv2fQ3DWnec9B3xATYWPmD6zEn"
e_t: "1621019758398"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:15:58,407-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:15:58,408-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:15:58,408-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "9ec58b29a6fb4a84a7c058be2bb0e85d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "sd3iAY5m"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513211556208677696910164t"
version: "265"
queryType: "PAY"

2021-05-13 21:15:58,481-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:15:59,498-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-13 21:15:59,498-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:15:59,499-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "93558872098628"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "QwEYq2espNWRBAGOCVmjMTPfbxD378Sh"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-13 21:15:59,612-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0f8968babac4454b834ffe2ba4cc0955"
s_p: "eUNSZ0JzOENVdkRRbmV1WlNkdldOZFZHejR1cHc5THRLUU9vajlKWlRHVnBIT0RWd2QyYWd5NTlSWTlhZ2JOcTc3UW1JejFmRXZhVkRPc3hBMnIzaldzdDZQOEVhVUlpQVBxUmozUUVNbE80T1dCeXhZdkVJU29oVUFsSjFIaURzb2FHTGNtdzNrd1JEaWU3dkZaaTBOYlJSaWpBdDlFQXlXUnptTHJjamZoMGpydm5RUkU3d0dYWERCbXdabU1vakxUS0xaTHJoR0JUVE1MelJhQktPZDNPZDNseFJEMlpXN2lLaDA1eFBuWGVWZ2dWd0dTckxyaEdMcUZTZzR1eEFZd2E0QzVTM1NuZEQ0Y2M1cEN2cFFvcnoxSHZUYUFScjh2d2lSZGpNcmJJeWhqVmVEMkVaSkJPTTFNbWxKNDM1N2lXT25uVVlnUUtuODN6MjlqbllpbFEyTnFKOXFpSXZFeGo2anB4eEZqTUo3OTFWajBIclMzSDdra2lGV2hCeUozVUUwRUg3MjBETzJGbzNhRDI4WVZIa3NkcHJJSlFXdnJ5a2w0dFh0eWIxUXpWTjhaSFc5NjZUbExSczdDak9tU3JFTXJwOGJnd040UFpGU0pjaWNPQjZIclYza3YyTmh2alMzbkhKQ1hYT3RSUG5VS25HUXBUQ2Y5NkJJSHFzOEduQ0o2b2V4MnhSM0tGb1pkZGJHV1NsWE1VRE0ySHg4bUFTOGl3YnV5ZTlqdTJjS3ZEaVR6V3BDMHY5SnJSbUVpcm1qRUtFc0QyTFRmc0p6WVF2MjVLMzJ6ODB5bWNmTUh1VXhjeWtOVWk5RkhYYWFwQWpBeGpmcVFGSkNKb1Jtc2x5Z080aW9nNWtDOGlCYmxkMUlueGxPMTFtMEh2d1NaMFZxZXpkaUkzbFNMMUd1OHZORFRLeXd2ZHRka3VVTXBZRHllb0JadFJ3ZlM3SnY2ZU9hSWN1azZSQkJIVDh3RElpcnJGaVRaQXhBYmxSbU91ZmhFYzk4NFdNN1ZnQWlBVlZNN29PNEZtUmlHckNaYVlMZDVkdjJmNjg3NzI="
m_p: "616MQ90142g19zN699BB4d0NeOt05AoA5Ql2zob62vXr4344a1x6S85wZDzC760v"
e_t: "1621019759602"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-13 21:15:59,613-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-13 21:15:59,613-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-13 21:15:59,613-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "0f8968babac4454b834ffe2ba4cc0955"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "77QmIz1f"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210513211556208677696910164t"
version: "265"
queryType: "PAY"

2021-05-13 21:15:59,702-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-13 21:16:00,887-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'KPA6eD1zSwWrQCpRMBygb9kjEciZhY2f', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:16:00,897-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-13 21:16:01,005-INFO-lib.common.session.dubbo.dubbo-48-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'z04yvUmKDk5736blTxXJphcjEWZsSVCM', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-13 21:16:01,020-INFO-lib.common.session.dubbo.dubbo-51-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
