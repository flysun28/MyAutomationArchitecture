2021-05-19 12:39:14,528-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 12:39:15,084-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 12:39:15,174-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 12:39:15,175-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 12:39:15,175-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 12:39:16,307-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 12:39:16,307-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 12:39:16,308-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 12:39:16,354-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 12:39:16,387-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 12:39:16,397-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 12:39:17,680-INFO-lib.common.case_processor.entry-70-正向测试用例数据：
2021-05-19 12:39:17,681-INFO-lib.common.case_processor.entry-73-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:39:17,698-INFO-lib.common.case_processor.entry-73-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:39:17,698-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-19 12:39:17,698-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 12:39:17,699-INFO-lib.common.case_processor.entry-82-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 12:39:17,699-INFO-lib.common.case_processor.entry-82-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 12:39:17,699-INFO-lib.common.case_processor.entry-82-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 12:39:17,930-INFO-lib.common.case_processor.entry-70-正向测试用例数据：
2021-05-19 12:39:17,930-INFO-lib.common.case_processor.entry-73-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 12:39:17,930-INFO-lib.common.case_processor.entry-73-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:39:17,930-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-19 12:39:17,930-INFO-lib.common.case_processor.entry-82-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 12:39:17,930-INFO-lib.common.case_processor.entry-82-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 12:39:18,188-INFO-lib.common.case_processor.entry-70-正向测试用例数据：
2021-05-19 12:39:18,188-INFO-lib.common.case_processor.entry-73-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:39:18,188-INFO-lib.common.case_processor.entry-73-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643167', 'amount': 1, 'price': None}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:39:18,188-INFO-lib.common.case_processor.entry-73-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643168', 'amount': 1, 'price': None}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:39:18,188-INFO-lib.common.case_processor.entry-73-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 12:39:18,189-INFO-lib.common.case_processor.entry-73-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643169', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:39:18,189-INFO-lib.common.case_processor.entry-73-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643166', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:39:18,189-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-19 12:39:18,189-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:39:18,189-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:39:18,189-INFO-lib.common.case_processor.entry-82-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:39:18,189-INFO-lib.common.case_processor.entry-82-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:39:18,189-INFO-lib.common.case_processor.entry-82-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:39:18,190-INFO-lib.common.case_processor.entry-82-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:39:18,220-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 12:39:18,253-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'IkNcgQJ2694nGpjyerZYSXhtwzDqHuTB', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 12:39:18,310-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519123918208677696954546t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22HQPROPLCHgaanjH8gbjq0YvXCQ2vq9IeUp5JySeDxfMlEA87bM0bPyMb0c4Au59EVAoz8%252B9yV76GzLi7nbFwqCzO%252Be7nreg5aZecp%252BFuX3HUMlD9RyT51%252B9t9lNgdXdpaXNWFZLamxCPOIZ10Vv%252F%252F1oYdaGSXPwksfGft5IRpp4%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519123918208677696954546t\"}","payReqId":"RM20210519123918208677696954546t","status":"AUTH_NEEDED"}
2021-05-19 12:39:18,311-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519123918208677696954546t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="HQPROPLCHgaanjH8gbjq0YvXCQ2vq9IeUp5JySeDxfMlEA87bM0bPyMb0c4Au59EVAoz8%2B9yV76GzLi7nbFwqCzO%2Be7nreg5aZecp%2BFuX3HUMlD9RyT51%2B9t9lNgdXdpaXNWFZLamxCPOIZ10Vv%2F%2F1oYdaGSXPwksfGft5IRpp4="&sign_type="RSA"', 'system_order': 'RM20210519123918208677696954546t'}, 'payReqId': 'RM20210519123918208677696954546t', 'status': 'AUTH_NEEDED'}
2021-05-19 12:39:18,411-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'P7UqHKsN5TOWX8xeBZ2gljiRpGbArmD6', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '226.79.219.81', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 12:39:18,745-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1912391867783966aad4eae5f51ba90000&package=921919358","payReqId":"RM20210519123918208677696942628t","status":"AUTH_NEEDED"}
2021-05-19 12:39:18,746-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1912391867783966aad4eae5f51ba90000&package=921919358', 'payReqId': 'RM20210519123918208677696942628t', 'status': 'AUTH_NEEDED'}
2021-05-19 12:39:18,747-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 12:39:18,753-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 12:39:18,788-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[9144488455941950416087842786]]></transaction_id>
<nonce_str><![CDATA[DQmHteB0K6gCb9ac7sNo1pY8yrLOMU3x]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[24B17CD9A42FA9B369F297CA0DFC395A]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519123918208677696942628t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519123918]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 12:39:22,336-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 12:39:22,336-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 12:39:22,352-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 12:39:22,353-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:39:22,353-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "93186144576415"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "fp6DBl0SPaY7bOk5veRniZ2zyHrd93w1"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 12:39:22,813-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ec086f8353cb4c40bb19073438335e85"
s_p: "bHV5bzI0aUZoT0JUTHRWeGpnNWtFSmNiVExaQlR5ZjNPTmdzZ1NYWHhCbVdiZjRUcWU0ZGh3UTJWNk9PejZjRnRibnJObjBaRFhteGptdVVsVjNORG5YaDFyV0d4UllJTlhYamJkUkIwMzN0YWFFYVBjbjFWcFpKUFQyWm45RTMyY0dhTGZLSU5hdmZBUzhCTzE4VjVDOWFlYjdkbEo2SUdIY1QwR1VkRUJJYWx1aFBGaFc1M2ptVEFzMXZoRkQ0VzE3RkFNWEdyVEpJQ25aTDFrMXNhUTFEeWduUGJIS0Z0M0IydE9PaXBUd1RlR3Fjb1pNYUVucnNuTWdjR0R0WVUyQ29KUTBodmt0bDgxOXRKbXBhaGRVNHR0ZWdhS3pPQzlKQXlIbUFHTktJdDdMMFRxcEFzNnJVSDR4OUxORHhKZkM5TEpqZ1Bwak1vVjZmRzJQcU85bE5PTHZpMFVNN01sMUxCUGpUc2RReGFsNjMxN3c1QXI3dEpRRVJxTnBYMGZ4TTE3MUhXSVp3SURYT0RSN2tRd3FyUXVYMXppdHNiNE5JbjVDMUtzWE4yd2taWWtTWk5Jd1M2NjBGbzNMczF5cnNyOUo0ME1rNEdKazd4Ykcwd0xvTXdIZG1FYlhnYnNDakhYSGVkc09JZ3FSdWxycnVyWnZiVU8yak9ycU1QMDJYdVJyT2NET1QwVDFsWk1EVGxndUVqSVlSNlBKOVRUUmNWOWpPZnhBdDltOHNXQU1makk0U1FJMVFNc2lnRkhRQk5MWVRqQmIxQld0eTBHdHpRZDNsUjRvRTBObTdrU3gyZWpkTVRrOVF1em5QbkhHa2F6V21ONjZUcEFiVEJQR1RzUnNUcHAwSkprMnNPZ3ZTeHZTVmR2SVB0dUhLejR0YnI2eFZzVHU1RURNY29KOGZack9ueGZKTVNYcUNzMW9SNU83MlJsZXd5UE85ZXpuU1hVTmIycmxPZkh3RnBXeGpSbThpOGFHVXR1TThTU2xtMk9vN0RQWHUwY2tqTk5Nbk82ZktTUmRiTnN0elZQTUE3eXdyc3NSZUxROHc="
m_p: "c19J0Vb7CQZ8U7I2Up9j0I9RZW9U242HWAzvnXqXxG9Wq1u144KJ400yEG035d0m"
e_t: "1621507162807"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 12:39:22,814-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 12:39:22,814-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:39:22,814-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "ec086f8353cb4c40bb19073438335e85"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "NXXjbdRB"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519123918208677696942628t"
version: "265"
queryType: "PAY"

2021-05-19 12:39:22,887-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 12:39:22,889-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519123918208677696942628t"
2021-05-19 12:39:22,930-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5190, 'pay_req_id': 'RM20210519123918208677696942628t', 'notify_id': '9144488455941950416087842786', 'partner_order': 'P7UqHKsN5TOWX8xeBZ2gljiRpGbArmD6', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '226.79.219.81', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 12, 39, 22), 'success_time': datetime.datetime(2021, 5, 19, 12, 39, 18), 'modify_time': datetime.datetime(2021, 5, 19, 12, 39, 22), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 12:39:22,930-INFO-FizAssert-31-订单详情：{'id': 5190, 'pay_req_id': 'RM20210519123918208677696942628t', 'notify_id': '9144488455941950416087842786', 'partner_order': 'P7UqHKsN5TOWX8xeBZ2gljiRpGbArmD6', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '226.79.219.81', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 12, 39, 22), 'success_time': datetime.datetime(2021, 5, 19, 12, 39, 18), 'modify_time': datetime.datetime(2021, 5, 19, 12, 39, 22), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 12:39:22,931-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 12:39:23,045-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'nyPj7ofTwlYIzFN8OsScAidvr942eDtK', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:39:23,055-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:39:23,055-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 12:39:24,533-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Qa6hTeS1KrVlPGyq8cwfmWXI3MHpnZLB', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:39:24,543-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:39:24,544-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 12:39:25,995-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '1pXjSBCTF5yes7vOMKUz8lQouxHP0mLD', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 12:39:26,010-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:39:26,010-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 12:39:27,799-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'x8DhkCJfo9TctM1yUseVRXFY4l2PjnLp', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '193.22.3.176', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 12:39:27,824-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:39:27,824-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:39:29,666-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 12:39:29,678-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:39:29,679-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 12:39:31,522-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '192.195.45.96', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 12:39:31,532-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:39:31,532-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 12:39:33,304-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 12:39:33,315-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:39:33,315-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 12:39:35,226-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 12:39:35,238-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:39:35,239-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 12:39:36,811-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 12:39:36,812-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 12:39:36,851-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 12:39:36,903-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.00","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:39:36,904-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:39:36,904-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.00', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:39:36,904-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.00
2021-05-19 12:39:36,909-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.060000000000000005', 'batchId': '39506653014089673702943919247153', 'bizNo': 'aK0dpMcZX8ViStLhybN1uvsGPOCqmWDY', 'operateType': 'PRESENT', 'requestId': '63628363522917552097709514409804', 'source': 'test', 'ssoid': '2086776969', 'timeStamp': 1621399176904})
2021-05-19 12:39:36,948-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","timeStamp":0,"amount":0.060000000000000005,"success":true,"appId":null,"sign":null,"signType":null,"failReason":null,"remark":null,"extraJson":null,"accountOperateType":"PRESENT"},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:39:36,948-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:39:36,948-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'timeStamp': 0, 'amount': 0.060000000000000005, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:39:36,955-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 12:39:36,995-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:39:36,995-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:39:36,995-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:39:36,995-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 12:45:19,889-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 12:45:20,154-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 12:45:20,221-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 12:45:20,221-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 12:45:20,221-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 12:45:20,467-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 12:45:20,467-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 12:45:20,467-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 12:45:20,501-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 12:45:20,502-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 12:45:20,510-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 12:45:21,313-INFO-lib.common.case_processor.entry-70-正向测试用例数据：
2021-05-19 12:45:21,314-INFO-lib.common.case_processor.entry-73-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,314-INFO-lib.common.case_processor.entry-73-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,314-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-19 12:45:21,314-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,314-INFO-lib.common.case_processor.entry-82-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,314-INFO-lib.common.case_processor.entry-82-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,314-INFO-lib.common.case_processor.entry-82-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,546-INFO-lib.common.case_processor.entry-70-正向测试用例数据：
2021-05-19 12:45:21,546-INFO-lib.common.case_processor.entry-73-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}, 'actual': '业务订单不能为空:{code=101;message=业务订单不能为空}', 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': 'failed', 'comments': None}
2021-05-19 12:45:21,546-INFO-lib.common.case_processor.entry-73-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '192.195.45.96', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}, 'actual': '业务订单不能为空:{code=101;message=业务订单不能为空}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 12:45:21,546-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-19 12:45:21,546-INFO-lib.common.case_processor.entry-82-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}, 'actual': '业务订单不能为空:{code=101;message=业务订单不能为空}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 12:45:21,547-INFO-lib.common.case_processor.entry-82-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': {'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}, 'actual': '业务订单不能为空:{code=101;message=业务订单不能为空}', 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': 'failed', 'comments': None}
2021-05-19 12:45:21,801-INFO-lib.common.case_processor.entry-70-正向测试用例数据：
2021-05-19 12:45:21,801-INFO-lib.common.case_processor.entry-73-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,802-INFO-lib.common.case_processor.entry-73-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643167', 'amount': 1, 'price': None}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,802-INFO-lib.common.case_processor.entry-73-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643168', 'amount': 1, 'price': None}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,802-INFO-lib.common.case_processor.entry-73-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,802-INFO-lib.common.case_processor.entry-73-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643169', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,802-INFO-lib.common.case_processor.entry-73-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643166', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,802-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-19 12:45:21,802-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,802-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,803-INFO-lib.common.case_processor.entry-82-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,803-INFO-lib.common.case_processor.entry-82-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,803-INFO-lib.common.case_processor.entry-82-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,803-INFO-lib.common.case_processor.entry-82-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:45:21,811-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 12:45:21,839-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'cFMyL2wb3HYAQSD9v7N08d1Jg4j5WXrV', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 12:45:21,881-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519124521208677696920334t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22uZGIQLDasjZF0VmUVzikS%252Felr7L3TutL27lzVQbu0ooPIqko0f84eYvlWNCf38wIQpMQ1n0zC7O0cWnmjbNslSvzl3w4OL7KzBxgThrxCTm49t%252BS%252FbDDxSXxl3C5OQcko9kFFMPuJT6cUbcC7K66fCn6ah6DDBQKh6IYngP0mAI%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519124521208677696920334t\"}","payReqId":"RM20210519124521208677696920334t","status":"AUTH_NEEDED"}
2021-05-19 12:45:21,882-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519124521208677696920334t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="uZGIQLDasjZF0VmUVzikS%2Felr7L3TutL27lzVQbu0ooPIqko0f84eYvlWNCf38wIQpMQ1n0zC7O0cWnmjbNslSvzl3w4OL7KzBxgThrxCTm49t%2BS%2FbDDxSXxl3C5OQcko9kFFMPuJT6cUbcC7K66fCn6ah6DDBQKh6IYngP0mAI="&sign_type="RSA"', 'system_order': 'RM20210519124521208677696920334t'}, 'payReqId': 'RM20210519124521208677696920334t', 'status': 'AUTH_NEEDED'}
2021-05-19 12:45:21,982-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'VMAFE2aeuUolC0fdyZ5mB3biQ7YHpWRs', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '142.146.24.205', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 12:45:22,291-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19124522221952074139449e06884d0000&package=249822394","payReqId":"RM20210519124522208677696984481t","status":"AUTH_NEEDED"}
2021-05-19 12:45:22,291-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19124522221952074139449e06884d0000&package=249822394', 'payReqId': 'RM20210519124522208677696984481t', 'status': 'AUTH_NEEDED'}
2021-05-19 12:45:22,293-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 12:45:22,300-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 12:45:22,301-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[2600673222485463266277012938]]></transaction_id>
<nonce_str><![CDATA[GpMXqlgsCnI51FwRYANkJ3OjiLHuVc6Q]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[2AA75D74F6CD1A549DA53FE3E4A41843]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519124522208677696984481t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519124522]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 12:45:22,433-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 12:45:22,433-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 12:45:22,449-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 12:45:22,449-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:45:22,449-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "49733859590774"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "J39SlLi8EY1u6Cn4F0ZQj5KHd2pDNhXV"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 12:45:22,653-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ad84a9d55b50458e97314218910ce6f8"
s_p: "d3ZtTHVPNXNSRHM4TnF4aWNabmlhVXk2TzRKdFg3RkVVSmJqMW95cVpuTHd1QVRmejlCREdaelJvY2VmbVNEUXJiUjlhR2hzU210T3A2TWJXandNMkRERE5nMHRrNEhnSXZhejV5SjhoeUpoY0NjaGFSODhwQmlyUTc5UFVpOU5xWWVyenc1WkhtSXlWVHBtQ21CUExSOTN1NVpSWjNsSHVGak9lZjM4b2h0cEVPV0tkc0U3Vzd0YmtuNHNRM0FYWUNZa255SEJYWk5hUFNxS09KZ2FTWU9ZWmRUQmZ2Vkc1b3l5MEpacnM0QnRhdUZqQXRpUW4yMDhvZ3cxb1VQdWxwUllaRWhCWE1NTTVpRGUybWZFTHRlbEtRRE1UUm85OEpwc1NLVnIxbE5hMUxFcHZXa1EyamI3bW1CckZ6RzhKeFIwYVJzU2tXa082Q2VBRVRiS21ucGdyZFgxa2d3allqM0U1bDBqNkxJVEZvenR2ZWIzalg1TW5CM001amRRWHZUblVHb282Z0Y5ZTZrNzBCd3RhZ2YzN2NOU1k1OFJMSDVHSmZiYzdKeklrT2dDR1NzckM5YkhwTEtyOFJURVRONTlJMFB1MjloS3hyM2F6Zk5GcDc1RndieVA5Z3l0VW45MjA0dmF3NmdtTnFWbzhHY0RPbW01Nk9kcFpCbVNUVjdyUGFPMTg4a2hBR0toRUE0ZXg1VGRFdDRjMDR2Rkh5NlNDNUdNbGJMS3Vnb1V6OUpnT1VMYzZPQWNPS3VwenczMFk2Vll1bjJmSHZqOGN4S05TdnZWSW9EeU5jY0c3WmIzSjdVejZWSnFMRks3cDhqUHB3bktqVkx4MWRkd09UWkFjWktmOXVrM29yZHFQb3dPQ24wYTNpM2FrWW1TWVhHaFdEWGk2dWFFc3M3b1JJZ0RoekdBMk1MTDBsaHQ0SkVTOTJ6QkJPU0kzVmJYYWl4djhTQ1JNZHVZSk5aOXVKSEF0aHRJRFJFbUpmVnVscXdldDNuT3JabzNUN0hWUFZlRmlzZWJnQmlzUVF1anRjM2tlaHpaMmRScnEwM0c="
m_p: "XdUA2G0HL4A2AJu45898rXxYZt6w9a0H1QmV73NIf272L6Jui26lOUuQS62x94Uf"
e_t: "1621507522643"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 12:45:22,654-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 12:45:22,654-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:45:22,654-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "ad84a9d55b50458e97314218910ce6f8"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ocefmSDQ"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519124522208677696984481t"
version: "265"
queryType: "PAY"

2021-05-19 12:45:22,762-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 12:45:22,764-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519124522208677696984481t"
2021-05-19 12:45:22,775-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5192, 'pay_req_id': 'RM20210519124522208677696984481t', 'notify_id': '2600673222485463266277012938', 'partner_order': 'VMAFE2aeuUolC0fdyZ5mB3biQ7YHpWRs', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '142.146.24.205', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 12, 45, 22), 'success_time': datetime.datetime(2021, 5, 19, 12, 45, 22), 'modify_time': datetime.datetime(2021, 5, 19, 12, 45, 22), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 12:45:22,775-INFO-FizAssert-31-订单详情：{'id': 5192, 'pay_req_id': 'RM20210519124522208677696984481t', 'notify_id': '2600673222485463266277012938', 'partner_order': 'VMAFE2aeuUolC0fdyZ5mB3biQ7YHpWRs', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '142.146.24.205', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 12, 45, 22), 'success_time': datetime.datetime(2021, 5, 19, 12, 45, 22), 'modify_time': datetime.datetime(2021, 5, 19, 12, 45, 22), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 12:45:22,775-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 12:45:22,969-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'rP4EHiqN0MIBFhcayguvUbLOWeRp8DxK', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:45:22,981-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:22,981-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 12:45:24,798-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'yHmgIavTwuZLJA3UFxGjCrDpQB7Vf2OS', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:45:24,807-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:24,808-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 12:45:30,138-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'HlY90kT7EoPqf4FIxWnbGvgLusUNrR82', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 12:45:30,149-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:30,150-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 12:45:31,907-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'VjBmvyCqARUsZX4J7I5hzrQW1kSdTYHM', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '184.91.39.201', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 12:45:31,932-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:31,933-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:45:33,482-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 12:45:33,492-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:33,492-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 12:45:35,464-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '198.126.208.119', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 12:45:35,481-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:35,481-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 12:45:37,328-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 12:45:37,336-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:37,336-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 12:45:39,147-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 12:45:39,155-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:39,155-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 12:45:40,931-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 12:45:40,932-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 12:45:40,951-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 12:45:41,024-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:45:41,025-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:45:41,025-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:45:41,025-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 12:45:41,055-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.060000000000000005', 'batchId': '64898884591353954706722390440705', 'bizNo': '8r2eR3A4GuTFdUKzEbfyiC7nlWwBmVLx', 'operateType': 'PRESENT', 'requestId': '35090718606726995454491319187884', 'source': 'test', 'ssoid': '2086776969', 'timeStamp': 1621399541025})
2021-05-19 12:45:41,114-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","timeStamp":0,"amount":0.060000000000000005,"success":true,"appId":null,"sign":null,"signType":null,"failReason":null,"remark":null,"extraJson":null,"accountOperateType":"PRESENT"},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:45:41,114-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:45:41,115-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'timeStamp': 0, 'amount': 0.060000000000000005, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:45:41,121-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 12:45:41,148-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.12","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:45:41,148-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:45:41,148-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.12', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:45:41,148-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.12
2021-05-19 12:45:41,149-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 12:45:41,151-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '2031'
2021-05-19 12:45:41,158-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 12:45:41,158-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 12:45:41,159-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 12:45:41,159-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 2.1, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 12:45:41', 'ext1': '', 'ext2': '', 'maxAmount': 73.56, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191245414673079873619549725881496331', 'ratio': 0.63, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': '348BD57BF239A469BC8B7D69B08A7EBC', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 2, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 12:45:41,231-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 12:45:41,232-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643307', '62643308', '62643309', '62643310'], 'batchId': ''}
2021-05-19 12:45:41,232-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643307', '62643308', '62643309', '62643310']
2021-05-19 12:45:41,253-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 12:45:41,253-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 12:45:41,265-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643309')
2021-05-19 12:45:41,278-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 12:45:41","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.730.02","useableEndTime":"2022-05-19 12:45:41","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.73,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.02,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191245414673079873619549725881496331","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643309","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:45:41,278-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:45:41,278-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 12:45:41', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.730.02', 'useableEndTime': '2022-05-19 12:45:41', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.73, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.02, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191245414673079873619549725881496331', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643309', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:45:41,301-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643308')
2021-05-19 12:45:41,313-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 12:45:41","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.730.02","useableEndTime":"2022-05-19 12:45:41","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.73,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.02,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191245414673079873619549725881496331","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643308","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:45:41,346-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:45:41,346-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 12:45:41', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.730.02', 'useableEndTime': '2022-05-19 12:45:41', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.73, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.02, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191245414673079873619549725881496331', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643308', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:45:41,367-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643307')
2021-05-19 12:45:41,378-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 12:45:41","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.730.02","useableEndTime":"2022-05-19 12:45:41","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.73,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.02,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191245414673079873619549725881496331","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643307","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:45:41,379-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:45:41,379-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 12:45:41', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.730.02', 'useableEndTime': '2022-05-19 12:45:41', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.73, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.02, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191245414673079873619549725881496331', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643307', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:45:41,402-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643310')
2021-05-19 12:45:41,411-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 12:45:41","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.730.02","useableEndTime":"2022-05-19 12:45:41","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.73,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.02,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191245414673079873619549725881496331","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643310","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:45:41,412-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:45:41,412-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 12:45:41', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.730.02', 'useableEndTime': '2022-05-19 12:45:41', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.73, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.02, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191245414673079873619549725881496331', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643310', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:45:41,459-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'EVBRhwSQGL9AtocTuDq8YgZjbFe7CydW', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:45:41,484-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 12:45:41,484-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 12:45:43,132-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ZvwoS2Tc514UINLDsitbYnQ3OFl876fH', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643309', 'amount': 1, 'price': None}", 'voucherId': '62643309', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:45:43,148-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:43,149-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:45:45,223-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'XUN14CrT7HhqcK5atIV0GPeJ8yxo3zlW', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643308', 'amount': 1, 'price': None}", 'voucherId': '62643308', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '115.39.213.179', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 12:45:45,236-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:45,237-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:45:47,288-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Yt2NCWSBRcZzyVfkGQxbJwiLjnl5dDoH', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:45:47,313-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519124547208677696950116t","status":"ACCEPTED"}
2021-05-19 12:45:47,313-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519124547208677696950116t', 'status': 'ACCEPTED'}
2021-05-19 12:45:47,327-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 12:45:47,327-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:45:47,327-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "28553360354907"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Rv951hKrAzyH4LGcXiug7Dj2Mxf8ZQCw"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 12:45:47,395-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "462e4a47b4e049659b59b32717ca57d7"
s_p: "bFRGelVQTjFwZjN5UnBBM1RlYkRaN21sSXVvNngwU0NsSHY2SDNEOXhVQTBwN1owNEtEV1R5TUlnbXE1UG94RFpHN2dseERkSlhwSDFwMGJ2anY2WTdEcnMzUEk3VTFzT2RPU3FMREdRS1BKZEVmN0F1a0F1QjlKdVUwc2dhSjZuYlk2NzFGYXE4TEZOTWQ3SkVLTVl0SFlkakViSnVYc2NHbkJ5eXd5UGs5eFJQclNoMHJsVHZZbHVQSmh5TDhLVDV5dURlbUxPU2J2Mlc1ajE5c2l0bkNra3J1YzFkSUJ0MVh6cHp1SnVOd2hGN29ha1Q5and4R1B6STdHaEtkT1Zvb0VkbzJiRmFiZ1VibzhRQVZvejZSNG5TcGNlZjI2a3RVVVhsc2VFQnp3SkNEcnRuUUtNNXpWOUoyZ0lvZEEwbjB5WHF0NXZkdGk5dW5WYmh0emx2QjdrUkpHU3ZQMDM2RWVLb3RCeEJvdjZtbTZjaFlsQ1FGNkl1bTBGOHdUOGJsM1IxdExwMHhPd3FlNE9Nb21CeXp6QW5GRVA2V2d5WExqY2x5M3gycXVsNkpFeXVZU3NQbnJlTFZrR0tOQUZrMXR0dU1PUjBOVnJ1anVhRVhqWGtUNkFjcWJCRjFXdmYybmgxSnJnOUI2dTB5bFJ0bTdpYnp2UWRPZGtsSXlPQkJna3BmTFpsU3YyRjBnZVhTSlQ4cEl5aVFxT3AzTDZUT2phMWNQV0pQODVVWFJMNmc1Nk05eENnTjRaVVNTbmdTU1lIYWQwVzJPZld2SkpwRmxwVjFweGtGTlowb1VHaUNmaGw1V1g0eURtQXlJSUdhZWpoajlRbjQ4elRKMndsVDc5ZDFiUWVkVW94N3VIZkNtR1d4bEFJdGx5MDdTTms3c0lvV2xBM1NXNG9DMXRvR2lRckRIYnhrVU1qZkZabUhxYVhsdmJMUUJNMHUzMWJTRzZCemhmd1h2NWlsV3lDZm5JOVhtN05tcDhoSkhXSVgwNUYxenoySGd5SGNxd2FTUEJoS0N2czlCSk5FZkt4QnNyRkcxblQ0VVgwNXE="
m_p: "M2WAy5x68aIANpXlS4UQmhAU3W190rg451gvo248p0hR42D52o6IJ3Wn8MR3o3xE"
e_t: "1621507547385"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 12:45:47,396-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 12:45:47,396-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:45:47,396-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "462e4a47b4e049659b59b32717ca57d7"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "pH1p0bvj"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519124547208677696950116t"
version: "265"
queryType: "PAY"

2021-05-19 12:45:47,512-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 12:45:48,526-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 12:45:48,527-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:45:48,527-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "68757841927014"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Khly3boMfj6Wi05gaEQPmUxLXun2zZJD"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 12:45:48,592-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "6e5e75bddff34d19b24bd1b3a44c7969"
s_p: "TTRUUVpCYmdiTWdiU3ZmajdqaU45NmZJSzV6bGtXWk5sUDI3eXdseE5UdWwzQjRmMUVmWUpnRTFVVzBiM0xUcjRrdzBaMGdEN0hTZ1BrZnJ1eTlibVM0MmZDUGpuQlBJbWY4TzJZNXVOanpwcUYxcko1TlNadFA0WWZNUXN5TThjUWNRR3JSSWlwQm5TaXp2T1FGbUtaUXpIaXphODQ4alRrVkNFajVadzdHQkN3bm54N3ZnZVFhTWd6c0lrNVJhZzVjNXl2aWxpTFIyeGU3eWZPWlc0QnhaWlVoQU5mS0gzcmhRdnNYZ28xSjkxU1lhZGYydFM0V2prU1pneWVRQWZMUHE0UnN2U1FNOXI3TFhGR2l6emQ1ZEc5eTZwc1l0bTlKUTkxb2VCV1RnZ09kbkp5WmdMcUZyVmVKU2NYNjBFTEhDYTJWaFBjamM2SEF3WUNveUF0SlRNbFkxZGo4RkF4OExHTXc0dDhJVDE5cjNFQ3ByTWc2TVo5WGIwNGdoSm9VS0kwekxxUXpnUUhnaUw0RmUzdG5CQXhMalo0MGdkNEZ1SU54TE15T3BZVndUS3FZbkZPY0F5RWVTTmNIQ0d6UElGbzRFZDR1RFJNMTg2cThkdFNuU1RVZFlPZkFIRkVZUDhpcG1CeWZUYnBHeGpOOWowaFBqMEw5cW5YQUZvem9pRk4wUngyc29EaG9YVDNQMDVQRUtxbVVCMWpnTDdFelJFRzgyY0pUaHEzeW03VUlsd1RZWlE3eXV5ZFhkWlVUWFVtWWpXUUN4dEp2VDd0cTJmRVF0dmdwYWRPUlBsRnlQS3ZOVHI3ZjQ2NUVyYThwOEFDMmphYXoyc1ZkRmpqd2hrQjZkcE84M3hZQVRxQzRBMjZSblhDMlhYQnNYOTF6UzBkbWoxR2JiM0xTQ24zOXQ0TkJuMjNrZmNaSGVTbENCTG5BclVjR3dMbEp5Y0pCZ25DQWVqc3JUZnBZT3laVmx3enFxdU12MTB6dFd6S1d2a2Zmc0F1RGdzckdiSEhORkhyVjJwcnFNczlNYXZjS0pSOTBCYmdsZEVFaGY="
m_p: "tUscmxd4x7JWj7KsL5P1r1fSE6YD4VLWSvp9Vr93rWWR1mP2r6r292qoVMD95lm2"
e_t: "1621507548575"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 12:45:48,592-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 12:45:48,592-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:45:48,592-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "6e5e75bddff34d19b24bd1b3a44c7969"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "8O2Y5uNj"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519124547208677696950116t"
version: "265"
queryType: "PAY"

2021-05-19 12:45:48,668-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 12:45:49,684-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 12:45:49,684-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:45:49,684-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "27344662408615"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "GrlLdq20Pj6OTgFIxmtHUiAezoQ97uXh"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 12:45:49,772-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "59d229ebe2704366b881b38a47f73503"
s_p: "bXhRWDBqcUNaR3ZqUGtxa3NCaGRCNGthV0NFcTB0MHo5aWZySmpKYzlUcGozTGVTcTRqWVZmbXcwTUNVUGo4YkFaWjNIcWRWdUZtOURHOGdFQWI2SHB2R2VsMjNNZG1yS3NvVkpOcWllVnpZd1IyV0M0T293d3dtcVNBcm55eTA0YTdpQ2NJd1ZwSlZKalR5bFp1Q0tvZUcyV0RJYUc2RTJ6aFVpYXVyNWJpaTNjS201YjhZa2pvUGc0eTZvQ2VKUGJOTGp4aHhUMGZVTUMzUjlIUnNNczdsbU4xSjEwWGtuUUZZa3VmOGFjVTAwdjBMbGtWZ0xKRndJZGxIdGZBRHJZamkzTWlHd2lXTTB0cDRzM1Z5WXMzcjRib3REVmx4RllTSTVzUjcybG0zYUpsREM5MzBBa1ppQkRTQVF0MEMydUxyY1VtTU1WNklSUERNcDc0dTZyWmRkcjR1NjB1NGM1VWxKYlZLVk44bmN2UmpWRGJZQ0FVZkRSUnUxeWZFYnFzd1lWNTFaNHZEdnpqT1VXa3NzNjgwSTdnY2doWHVaMzBuY2dWdGp2Q0R6eG9lZ2pSVHZPZ3dtQ25IRmdUbW9QcVNrd04yTlRIdFlBMXM1aHBnRDFyRTh3TUFFYm1nMkplcGhYeDFYRnZxSDhDQjFyVExVbHpDNU84cUlyZVdwbWx1OFlFQTlHS2RqVU5mU3BmWlZxaW05RHdqTnlobDlOeXVTTkVsNWF4cjloSzdTbU1rV0ZZTWM3TkJVeXNpZ3J2UU9nZWZGWVZCNnFBUVRuemhVZGtRd1RMV0ozcFROSDZ2RmpYYVZEQW5wSzZhRHh1VkY1Y01IeG1CbFVKaWNYcVZHdUxxaDdYejdGcWx6YlZ6WDlJRzZRSEFXT2JmaUdzWFEyQ3ZmbFd1Q3VpU0ZqeG45RVVMV2s2Q3pGMUFYMzVDa3BrS1oxckJyTmhub3lEVXJpdUt4aEtEYmpoY2lxQktlUG1Dd0lDVEdxb1U2ZGpocjVjR0U4RVlyQVBodDYwZ3BBT3NZWW52c1dIbEtOcUkyRmhpdWxrR1NvS3Q="
m_p: "msp7v3iGRX8XkL24Xrt8632130sDU5mX3y4Eceykmj5EkukOIl87EqV4AG1bRcfy"
e_t: "1621507549758"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 12:45:49,772-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 12:45:49,773-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:45:49,773-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "59d229ebe2704366b881b38a47f73503"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "IwVpJVJj"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519124547208677696950116t"
version: "265"
queryType: "PAY"

2021-05-19 12:45:49,853-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 12:45:50,951-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'JRlrGE3wHk2cWMT4Iu5Oyie0xbasjCXp', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643307', 'amount': 1, 'price': None}", 'voucherId': '62643307', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:45:50,967-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:50,968-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:45:52,903-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'BS69tsMprgfH2718LXKD5NFOqaihGv0T', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643310', 'amount': 1, 'price': None}", 'voucherId': '62643310', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:45:52,926-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:52,926-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:45:54,805-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '43QfUWqCGK2ckndgTlPwXZALM1SeBmY6', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:45:54,815-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:54,815-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 12:45:56,896-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'TUAKGFyl7a4OHIgVkhEBbtRzcpf0iY9n', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:45:56,904-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:56,904-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 12:45:58,845-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'HRgvPZsDpK2AbCQ3qxeW40wFfjB7TUnz', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 12:45:58,859-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:45:58,860-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:46:00,545-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'mZ4cdEL508O6TjSaworpD3fysHPCzxFu', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '1.48.65.100', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 12:46:00,563-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:46:00,563-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:46:02,529-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Ms6De3VgHx9TzwZI5Kib0APkaoXESduB', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:46:02,544-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:46:02,544-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:46:04,275-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'yu9obWX0OVSvC83fn42QGF6UgYlZLKsz', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '164.44.41.28', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 12:46:04,290-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:46:04,291-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:55:34,337-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 12:55:34,665-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 12:55:34,734-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 12:55:34,734-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 12:55:34,735-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 12:55:34,980-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 12:55:34,980-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 12:55:34,980-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 12:55:35,025-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 12:55:35,026-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 12:55:35,034-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 12:55:35,875-INFO-lib.common.case_processor.entry-70-正向测试用例数据：
2021-05-19 12:55:35,875-INFO-lib.common.case_processor.entry-73-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:55:35,875-INFO-lib.common.case_processor.entry-73-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:55:35,875-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-19 12:55:35,875-INFO-lib.common.case_processor.entry-82-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 12:55:35,875-INFO-lib.common.case_processor.entry-82-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 12:55:35,875-INFO-lib.common.case_processor.entry-82-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 12:55:35,875-INFO-lib.common.case_processor.entry-82-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,101-INFO-lib.common.case_processor.entry-70-正向测试用例数据：
2021-05-19 12:55:36,101-INFO-lib.common.case_processor.entry-73-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,101-INFO-lib.common.case_processor.entry-73-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,101-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-19 12:55:36,101-INFO-lib.common.case_processor.entry-82-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,102-INFO-lib.common.case_processor.entry-82-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,327-INFO-lib.common.case_processor.entry-70-正向测试用例数据：
2021-05-19 12:55:36,327-INFO-lib.common.case_processor.entry-73-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,327-INFO-lib.common.case_processor.entry-73-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643309', 'amount': 1, 'price': None}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,328-INFO-lib.common.case_processor.entry-73-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643308', 'amount': 1, 'price': None}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,328-INFO-lib.common.case_processor.entry-73-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,328-INFO-lib.common.case_processor.entry-73-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643307', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,328-INFO-lib.common.case_processor.entry-73-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643310', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,328-INFO-lib.common.case_processor.entry-79-负向测试用例数据：
2021-05-19 12:55:36,328-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,328-INFO-lib.common.case_processor.entry-82-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,329-INFO-lib.common.case_processor.entry-82-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,329-INFO-lib.common.case_processor.entry-82-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,329-INFO-lib.common.case_processor.entry-82-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,329-INFO-lib.common.case_processor.entry-82-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 12:55:36,337-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 12:55:36,523-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'mYvFPj3k6azbUCVWongisB2p4uSZKDEq', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 12:55:36,570-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519125536208677696962733t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22xMEWjSbnNjr0aPgLpIryIYAjpqT8AwhzItp0fSed57eK2NquT2ec4RlJRkWrYI2PgrvG3JLQLuThd5ViUT%252BPekJ%252BdEMS0TcucywwckuSQ07UMjYfX0SXX77TayMFKQKx1a8QboFesfKiGJBEJeHRZF2DEDgzJ%252FfDTa32FrXSTSg%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519125536208677696962733t\"}","payReqId":"RM20210519125536208677696962733t","status":"AUTH_NEEDED"}
2021-05-19 12:55:36,571-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519125536208677696962733t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="xMEWjSbnNjr0aPgLpIryIYAjpqT8AwhzItp0fSed57eK2NquT2ec4RlJRkWrYI2PgrvG3JLQLuThd5ViUT%2BPekJ%2BdEMS0TcucywwckuSQ07UMjYfX0SXX77TayMFKQKx1a8QboFesfKiGJBEJeHRZF2DEDgzJ%2FfDTa32FrXSTSg="&sign_type="RSA"', 'system_order': 'RM20210519125536208677696962733t'}, 'payReqId': 'RM20210519125536208677696962733t', 'status': 'AUTH_NEEDED'}
2021-05-19 12:55:36,676-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'iLzjPOb1a6sr3GmHywdlcYFTKXep90ME', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '165.229.226.218', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 12:55:37,119-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191255370513054ef5b0da1e28bc820000&package=3584298653","payReqId":"RM20210519125536208677696953278t","status":"AUTH_NEEDED"}
2021-05-19 12:55:37,120-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191255370513054ef5b0da1e28bc820000&package=3584298653', 'payReqId': 'RM20210519125536208677696953278t', 'status': 'AUTH_NEEDED'}
2021-05-19 12:55:37,120-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 12:55:37,137-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 12:55:37,139-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[6479760263579540291138908107]]></transaction_id>
<nonce_str><![CDATA[kayVAm0YIi4QqC2rbXWBtsuHLJN6wc1n]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[93090AC08E82BCDAF664185E856DE585]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519125536208677696953278t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519125537]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 12:55:43,483-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 12:55:43,483-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 12:55:43,498-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 12:55:43,498-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:55:43,499-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "50924767620281"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "sl9UVKxyMmnCothJL5Zjpi248ebAYDBF"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 12:55:43,597-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f862139db71f44a0969edce17c83337a"
s_p: "YlJWUXRIZ2V2QlVrZjJValppOVdrd2ZEbVJjd1JoSWdBZ0MyTzZtcDJuczZvZWRYeTJWaWR1S21MRE5IU2l3TXJ1Qnpod2dhdHJkR3FMaFE0aEhIUXZSVzAzckVSNnljeXZMbEhhckRzOVUyV2tmejNkY0Z5VXk5NmJkMzZ2Z005eWdFWVNyaWs2VXhlU1NudGdiUUVaR2hyWEtta2JLT2xGZ3hyTXlwUEN3VDBZdjlkNGpBTGJYQUpXQlBFNUFiWW5JTFBaZWV4YTVmVnB6WlhEVVFmYjVqTWMxMDBZMjZFMEJPV2RaYjhSM0dHSEtZVG5WMGJxeGhHUUx5UnBUZlllanF6YWhGekY1cVZQdlNzR0hGTnJsMlVnNmhLWExLZzZHZnhsZDRtZ002UlhxRDhlaENJWEN5UjA4dUNYSVRrZUNMTjhYOGo0TXVyZTVlZng0RmJ0VlBiTTQwc2F5RnlIMkFsb0RLSDdvMHVLZDdPUmlQYU9ORUNPTlRFZEZCdDVaNU9EUTNNN28wamtPTGhWUzVWOUppd2VGM2lUWTM5VTk1bnJYSk5ldTZjeUxqQ1hMejhIaERkMGw1RGoxbHFCRzRDckUwYWxkdXAweDRWTTZ4SHBTWkNOMTRjSUlxUEE3RXFEQ0NuSllUN2JpUHQyQ0VPVE9sVHB1MWFpcE1pMDQxYmxib1dpVktOUTB4RENVV0J1eEF1ZElPdUVKOUpMeWZPa25YM2hTVUdhV0lLNFM2bUV0R1c5bjE4Z0VaN01laVlETTNuQlZQeGV3Q2VuM0JmaTRkaHJPOTNGNU9NTHlGd0J2MXR1bjFpaDJUaXdrMzhLaFY4ZUpOcGgxWVd3eGZEREt6aEwxUnllMExmeGt0TGZxOWpZeWJwcmtyc2JtaUQ1SDV5QTdieWhFc2ZxMHR1bmhHa2NHSHlTQVc0b1EyOU1vZ1hGbEtXbWdtd2xvTzM0UHVkTldGZ2hZb3lmSWcyU1JPZmFKeGYweHVsU2pGUTlSSnE3aWQzcTBtRW9EZFdzMVhtTnVlNlRsczNuWTZyMUJ1SXlLdGRyd1I="
m_p: "PcLdVF3oo6jaMhS6V457GL166jo2w519ckk19xbrWXu4eLvOqjh1j1BE1XLuY4q6"
e_t: "1621508143585"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 12:55:43,598-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 12:55:43,598-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:55:43,598-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "f862139db71f44a0969edce17c83337a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "cFyUy96b"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519125536208677696953278t"
version: "265"
queryType: "PAY"

2021-05-19 12:55:43,704-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 12:55:43,706-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519125536208677696953278t"
2021-05-19 12:55:43,714-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5196, 'pay_req_id': 'RM20210519125536208677696953278t', 'notify_id': '6479760263579540291138908107', 'partner_order': 'iLzjPOb1a6sr3GmHywdlcYFTKXep90ME', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '165.229.226.218', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 12, 55, 43), 'success_time': datetime.datetime(2021, 5, 19, 12, 55, 37), 'modify_time': datetime.datetime(2021, 5, 19, 12, 55, 43), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 12:55:43,714-INFO-FizAssert-31-订单详情：{'id': 5196, 'pay_req_id': 'RM20210519125536208677696953278t', 'notify_id': '6479760263579540291138908107', 'partner_order': 'iLzjPOb1a6sr3GmHywdlcYFTKXep90ME', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '165.229.226.218', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 12, 55, 43), 'success_time': datetime.datetime(2021, 5, 19, 12, 55, 37), 'modify_time': datetime.datetime(2021, 5, 19, 12, 55, 43), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 12:55:43,714-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 12:55:43,848-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'hw7nOJQgFX1G9TmCo4KusLWDNSHVEtp3', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:55:43,856-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:55:43,857-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 12:55:45,270-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '1IXvksY32SCBqiDhgQm9Az8cpWPNyHUx', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:55:45,277-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:55:45,278-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 12:55:47,044-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Tq5mH1gQ8zZdIAn9pVayxE0u47lbPGCo', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 12:55:47,054-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:55:47,054-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 12:55:48,742-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'WxV6SRpjBTaChv98AFK4z7fokOUGHm3n', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '134.193.229.123', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 12:55:48,763-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:55:48,763-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:55:50,757-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 12:55:50,767-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:55:50,767-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 12:55:52,044-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '114.107.151.216', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 12:55:52,053-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:55:52,054-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 12:55:53,840-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 12:55:53,850-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:55:53,850-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 12:55:55,699-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 12:55:55,711-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:55:55,711-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 12:55:57,212-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 12:55:57,212-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 12:55:57,224-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 12:55:57,276-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.12","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:55:57,277-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:55:57,277-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.12', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:55:57,278-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.12
2021-05-19 12:55:57,281-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 12:55:57,283-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '2031'
2021-05-19 12:55:57,290-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 12:55:57,291-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 12:55:57,291-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 12:55:57,291-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 8.92, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 12:55:57', 'ext1': '', 'ext2': '', 'maxAmount': 12.72, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191255577856935094961901707004491328', 'ratio': 0.17, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': '86258D43DAF6B42185D37AAFA61B21E7', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 1, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 12:55:57,356-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 12:55:57,356-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643311', '62643312', '62643313', '62643314'], 'batchId': ''}
2021-05-19 12:55:57,357-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643311', '62643312', '62643313', '62643314']
2021-05-19 12:55:57,387-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 12:55:57,387-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 12:55:57,405-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643313')
2021-05-19 12:55:57,418-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 12:55:57","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.08Ԫ","useableEndTime":"2022-05-19 12:55:57","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.08,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191255577856935094961901707004491328","subScopeId":"","originalAmount":0.08,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643313","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:55:57,418-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:55:57,418-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 12:55:57', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.08Ԫ', 'useableEndTime': '2022-05-19 12:55:57', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.08, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191255577856935094961901707004491328', 'subScopeId': '', 'originalAmount': 0.08, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643313', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:55:57,441-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643311')
2021-05-19 12:55:57,458-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 12:55:57","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.08Ԫ","useableEndTime":"2022-05-19 12:55:57","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.08,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191255577856935094961901707004491328","subScopeId":"","originalAmount":0.08,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643311","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:55:57,458-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:55:57,458-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 12:55:57', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.08Ԫ', 'useableEndTime': '2022-05-19 12:55:57', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.08, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191255577856935094961901707004491328', 'subScopeId': '', 'originalAmount': 0.08, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643311', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:55:57,480-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643312')
2021-05-19 12:55:57,492-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 12:55:57","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.08Ԫ","useableEndTime":"2022-05-19 12:55:57","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.08,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191255577856935094961901707004491328","subScopeId":"","originalAmount":0.08,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643312","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:55:57,492-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:55:57,492-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 12:55:57', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.08Ԫ', 'useableEndTime': '2022-05-19 12:55:57', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.08, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191255577856935094961901707004491328', 'subScopeId': '', 'originalAmount': 0.08, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643312', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:55:57,513-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643314')
2021-05-19 12:55:57,526-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 12:55:57","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.08Ԫ","useableEndTime":"2022-05-19 12:55:57","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.08,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191255577856935094961901707004491328","subScopeId":"","originalAmount":0.08,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643314","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 12:55:57,526-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 12:55:57,526-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 12:55:57', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.08Ԫ', 'useableEndTime': '2022-05-19 12:55:57', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.08, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191255577856935094961901707004491328', 'subScopeId': '', 'originalAmount': 0.08, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643314', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 12:55:57,577-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'zkXqivfrgdO8Gya61IUBmTZRpM0nSc2e', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:55:57,636-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 12:55:57,637-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 12:55:59,444-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'QuW4kqMsVcNRyZJpPFix8U63mjoBbnrD', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643313', 'amount': 1, 'price': 0.08}", 'voucherId': '62643313', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:55:59,465-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:55:59,465-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:56:01,078-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'BvEgFJ9uaxf6LZciPye5pVTNDKAzUYsG', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643311', 'amount': 1, 'price': 0.08}", 'voucherId': '62643311', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '3.91.43.213', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 12:56:01,092-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:56:01,093-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:56:02,863-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'W0E71t9GQgNBzOmaKjTu4M3ZhAbHoSJf', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:56:02,884-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519125602208677696958286t","status":"ACCEPTED"}
2021-05-19 12:56:02,884-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519125602208677696958286t', 'status': 'ACCEPTED'}
2021-05-19 12:56:02,898-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 12:56:02,898-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:56:02,899-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "69337948480317"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "9wKxpQ3DuFVJYrMINCEZyciaRlOjzgov"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 12:56:02,963-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ea85c83b370a47e7acd3bfe546d277b2"
s_p: "SldMQnVadG5lejZBVXdrSEZ2cUNOSEkzQkI1eXd0MGhwWkFMTjA3eEZ6RXlDSFlEa2RQR3NuVXdtYVNzOHQ3RmV3eFNFQkxBVFh0MkFSbG83b1pFUVZEWHZna1RQN0NJdjBNRGNpTzFWRnhROTloeTdydFdZM3NmOHVsQ2g4akIybkcwVGNsS25GVUVxS1NZMEpaT0x4aDlVUkhxSHlYbDNmdERPbWhtSVNhd0FVZXVVS0RPUXlUNHJEUzdNWGlqRUhYaWV6T0RFbWdpR1E1RE00QXdhWllkNXdKTjc0cXdHUURjbTdGeUNYR1NJRnJETXVvOTc2aEsxMkpmaDRyOGZrMzRIb1BGcVBlS2hWc2QzUVJKMk1sbEpNUEtXRkw1c1pva243UTVSN0xvc21nS3YzaVZBZ2ZaT1ZWVTVNMHFTMnFYMXJMSkFhWENqdkRoZzdocmZzOHc5SmQzcEdTeG81RGhJUkQ2YkVPMk81NXdRSWMyUEtBV0VpSERiaDFVek5CR3hSd3hXRVp2U21JbFl0WGticEJBVmQwVElsOGt2bFE5WGxsTGp3b3BudTBNb3R0WHpzVXdIc2hYRG5sWjNyeEtiV1A1WXliaDBHNng1aXlGRzlDYnNoVDVMV2l3UnY2VzNVQ1NzejM3MGpPanhFa083VFc4d3BXMEtPR0NySGtIMjJydG5sYVMzWXVod2VleW1PSmNmWmtVbFYyQ2FRdEp6OWpNak5hUUdmZEdKbXFKb0lMdjFYaGc3eWU2bTI1bVJ6VVFmOFRiZE1rbjZNUWhRUFc1MmpTYXFDZElpenRpTGZQclJPZWJLUjF2VmhKb0pEbDk2QUxLamtteGRqZHgxQmxFWWp3MWY4M2tDbXg2Q1NXOGVxNGFRSWNLbDZaSzR3QjFaTGdXZTcxTm5QSUx1c3J0WTRxa2xDQ2VLbU5WenRIZFl2b1BBSmtKaXN0MVlmd1ZRZDFxNnZ1OEIzZXhaY1phVmpCRHRLVHhCdUVpbW54S3JOWmVaT1dlUU1lNEh4N3JiSHkwRVJ5aGQ5SDcxM2trdVVRYXAwQks="
m_p: "y3cbFddlL072Pz2L1v9Y5tnJDX780GW090ZAGB3LMHC3Q91FErJ3WyY1R3K2M27Z"
e_t: "1621508162952"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 12:56:02,963-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 12:56:02,963-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:56:02,964-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "ea85c83b370a47e7acd3bfe546d277b2"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "6AUwkHFv"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519125602208677696958286t"
version: "265"
queryType: "PAY"

2021-05-19 12:56:03,239-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 12:56:04,254-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 12:56:04,254-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:56:04,254-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "80453616938200"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "pBWr3tmiJSF15yAhkV8OdvcuwIKeLzZ7"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 12:56:04,307-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "55266dc6d2a04b178040d4985427cb0a"
s_p: "bWhOTHV3eEZ1TFVIeXFaajFlMHRVc3pVaGRTUTRJSXdUU1pKRHJMaUFtNEJKVGZyYldJMzU3WGU0R2w1Wk9URFZUajBKM29xV2xJVHJtRVRTQ0laZ2M2RWZwek5FVVdaZUd6eGEyMnRUamcxQnFHRTVaWWlRWjE0S214QjhGWUZoZGJTb1diamo5aXh6UFg4V2IxazNPcmhrb0J4cUpSNXh3N253bjh1Q3RUMWNYaHZ0Tk1GYW5lWkhPVm95MjRyR2V6UnM1ZmZBTXVLUGVEUGxPQTlZNlltZHpFRXRLMUo1M052QURNSnpDb2x6a0NQOE14VkdFV05FQTU0Ynl1WTNjSEZkUGk0elpGMUpnQVZ4c1JmVmo4d05scUxmMEQ3NEFmOGxWaXlLTlRVd3EzSGNhbG5tZEZsUzFxUjFXa1pnZDlIM3hFTEgyVlpOZWY0dEFlc29UZkUydkVMMDRBV0g4WXp2cDRWY3RNN2QwTFNDUVNmZ3lZeGo2UTZPQUVFSE55bEdGdlJVMnRBbGk4RmdxWlZsaWpGM25FMUE1bHo5SDRSaTRMdmR1WUk3Qk1uVkJFSjhHa0RFZ0hwTW9Fd1dLaEp1VXlXYlk3ZW5oTm4yTk1CMFE2eHpBTWVwckhSZ0tkdWx4ZFFOTEZ1UTBXdTdseFhOU3VOWU1sV1NMY1FXcXVybU1MRFhNZnlNc09sMDZhMGdiS2hzWHo2T2hhS1A0SnJhNm1XZUZuUXp4WktSSEN2ZkIwUHFlbFI0M1BWOTh4MWdsdUgxcEo4S0poZU50QjVYUmNFQ3ZGSW53OUJUUjRCRGdrT2dqNFFKWmNFYVdUUHdDVnRlaHQ4NmJ2VDdHeDJRNU1obkp4enZaajZaanR4VDA0eTZZd0RUY1JqcU5GYkliWExZcUdjRHpaVUwzV2VmdFRuUUFIdmdoOURnbzIycmtaTVJhMFZnUFlINlpxbHRvNGF3cENQZUVaNmlQd3l5SHlvbTZPN0ZkNkVpNDQyMjVtWkNmcEhCWDM0UWJlYzlCenNuR1c4dG9pMnRPYm1iWTUzQ1hWbEZ4Zjk="
m_p: "8324Uoc03D5Fn9yzgIFwRB014hKA8DejQnx4873A6qM6qklt665juG7rdI49e07i"
e_t: "1621508164301"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 12:56:04,308-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 12:56:04,308-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:56:04,308-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "55266dc6d2a04b178040d4985427cb0a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "4Gl5ZOTD"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519125602208677696958286t"
version: "265"
queryType: "PAY"

2021-05-19 12:56:04,353-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 12:56:05,367-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 12:56:05,368-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:56:05,368-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "04545661101192"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "c4QIOKoXqTN0MLxECb8ns2g56SYAU1wV"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 12:56:05,425-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e8ea63b528ac400c84c0bd903afda23a"
s_p: "VFRvVDlGYm1uTUFDS0JkOWFoOWVZbzdpSnJDS1pQZEtKSlMwRXc1TkZ0cTNOM2xUVnVVdmlUOXN6SGNvQ2hoeHg3c3hmaVpnczZmSm5XeFVZem1va1AyR1c4WU1ZOU5QamFMbVF3Qm9UZFJnUEFFVlM0OUZZNUh5dGs5YW5LbHRwTVdiM0dZaGRaWUlaSTczZUppWW5xWWk3a084cG1uRFdxTXU5Z1loRTdIQWZJMGxzNlVWeHV2dUZYQ1JoenJLZ3BvM0xkZm5kSFRtcXI1d0hlRTlQUjBkMDRuMTUydFRndnhENW5ialI2ZElxTHBaOXV3T25aWGloQjRpVk52NVZOTWlKcWVnQVJVMDdnMXV6djdFYjRReGJMeFdhY2ZITlFleThsR28wY0pjUWJCczQzZkxveVpRSlJ4ekFpUUJ2cDJMTUliV1E0ZEdFbUtpYzVjMVQwVzR6VEVxcEhMNGhjdEx2djkxREFqMTFkanF4UzE2b3BaZnN1bkJGWjRQSmNRMTZKTzVyTWNIUllBOThnWVNERkU4aGpqQVVMZ1hpYzJiT205M2piRVF2MXNtQ1d0TWZLcG9HYWY5eVpSZlh5SUg3b2pjWW11NmIxM0tuRnBDSzRaUEZLeWlLMUM1MUZnYmwzZ3pBcHFkcUJRbWNaOVVRcDZFVnNySnEzbFdOa25QTDZ6ajNybk00MWZyWnZ5WmMyWG9CaW43Y21obm9GbnVuaHZnSTFKNTFwNWtUSzFKRmlJNGFkdmFzdWNCeHJlUDEwQU5pemxBSDFjOUx5ZkN4RmFWNHFnZzFEY3hydmRTRjhUTU5BREx1WkVoTmNoVW9oZHV6NlQ3bTBQQ0VEZ2t6TmV2RDMxSWgwVnRuWjVOYnN3YzBiYk4zM2ZSVldid3p4N245R3VQcFE5NEVsb1RTYVk5QWs4VFhZRUNsZDdBTnRjMUs0NnBUblNIQkprQTNvZlNsc0o3VTBHODZWcDdWSFA5WFFWc0hLODZrV2FGYmlGQVZQV0pvWFo2RW9tWTVGOGtNVjBXbVBUc1EyQWFkdWdWaFd3TGt0MWk="
m_p: "8Wi0k83CIC2FuyK4b700JnEgU5PFt518362C18yM0VzcHh5tl68vJjaGIFL3mCj5"
e_t: "1621508165415"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 12:56:05,425-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 12:56:05,426-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 12:56:05,426-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "e8ea63b528ac400c84c0bd903afda23a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "nKltpMWb"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519125602208677696958286t"
version: "265"
queryType: "PAY"

2021-05-19 12:56:05,488-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 12:56:06,597-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '2qab6BNySJ9R10hKMUpesxEvTdnu7oWX', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643312', 'amount': 1, 'price': 0.08}", 'voucherId': '62643312', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:56:06,611-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:56:06,611-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:56:08,442-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'A6IG2mE8tW0QUoRvpk9ueaybjVcDnqOw', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643314', 'amount': 1, 'price': 0.08}", 'voucherId': '62643314', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:56:08,461-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:56:08,461-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:56:10,257-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'XpnQcDqzGyL3Oxvwsau42PK7FtVfW8ZH', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:56:10,268-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:56:10,268-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 12:56:11,941-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'q8bUaJy1CsYFNe0fijp7xnrIAGP3dlLc', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:56:11,958-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:56:11,958-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 12:56:13,597-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'BX8yjpaC2bxYErUHJlPVKz1SsufIqRGD', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 12:56:13,614-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:56:13,614-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:56:15,558-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '3s8OE6uGlAJImD4tUcYeQbK2qTMfvXoj', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '123.42.26.241', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 12:56:15,574-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:56:15,574-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:56:17,353-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'qXdybeUSR31IEcWtwsGHiALOP26hf74u', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 12:56:17,367-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:56:17,368-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 12:56:19,121-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '05HOdhMxsvmkC8eBbS7wzYgJipGITK2a', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '198.203.165.235', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 12:56:19,142-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 12:56:19,142-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 13:05:23,212-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 13:05:23,521-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 13:05:23,609-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 13:05:23,609-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 13:05:23,609-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 13:05:23,855-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 13:05:23,855-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 13:05:23,855-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 13:05:23,909-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 13:05:23,910-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 13:05:23,916-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 13:05:24,736-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 13:05:24,737-INFO-lib.common.case_processor.entry-77-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 13:05:24,737-INFO-lib.common.case_processor.entry-77-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 13:05:24,737-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 13:05:24,737-INFO-lib.common.case_processor.entry-86-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 13:05:24,737-INFO-lib.common.case_processor.entry-86-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 13:05:24,737-INFO-lib.common.case_processor.entry-86-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 13:05:24,737-INFO-lib.common.case_processor.entry-86-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 13:05:24,965-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 13:05:24,965-INFO-lib.common.case_processor.entry-77-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 13:05:24,965-INFO-lib.common.case_processor.entry-77-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 13:05:24,965-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 13:05:24,965-INFO-lib.common.case_processor.entry-86-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 13:05:24,965-INFO-lib.common.case_processor.entry-86-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 13:05:25,192-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 13:05:25,192-INFO-lib.common.case_processor.entry-77-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'zkXqivfrgdO8Gya61IUBmTZRpM0nSc2e', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': ' 5003 参数异常:{code=100;message= 5003 参数异常}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 13:05:25,193-INFO-lib.common.case_processor.entry-77-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643313', 'amount': 1, 'price': 0.08}, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': 'QuW4kqMsVcNRyZJpPFix8U63mjoBbnrD', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643313', 'amount': 1, 'price': 0.08}", 'voucherId': '62643313', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 13:05:25,193-INFO-lib.common.case_processor.entry-77-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643311', 'amount': 1, 'price': 0.08}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'BvEgFJ9uaxf6LZciPye5pVTNDKAzUYsG', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643311', 'amount': 1, 'price': 0.08}", 'voucherId': '62643311', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '3.91.43.213', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 13:05:25,193-INFO-lib.common.case_processor.entry-77-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'W0E71t9GQgNBzOmaKjTu4M3ZhAbHoSJf', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '{"payReqId": "KB20210519125602208677696958286t", "status": "ACCEPTED"}', 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': 'passed', 'comments': None}
2021-05-19 13:05:25,193-INFO-lib.common.case_processor.entry-77-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643312', 'amount': 1, 'price': 0.08}, 'payType': 'KEBI', 'req_params': {'partnerOrder': '2qab6BNySJ9R10hKMUpesxEvTdnu7oWX', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643312', 'amount': 1, 'price': 0.08}", 'voucherId': '62643312', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 13:05:25,193-INFO-lib.common.case_processor.entry-77-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643314', 'amount': 1, 'price': 0.08}, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'A6IG2mE8tW0QUoRvpk9ueaybjVcDnqOw', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643314', 'amount': 1, 'price': 0.08}", 'voucherId': '62643314', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 13:05:25,194-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 13:05:25,194-INFO-lib.common.case_processor.entry-86-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'XpnQcDqzGyL3Oxvwsau42PK7FtVfW8ZH', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 13:05:25,194-INFO-lib.common.case_processor.entry-86-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': 'q8bUaJy1CsYFNe0fijp7xnrIAGP3dlLc', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 13:05:25,194-INFO-lib.common.case_processor.entry-86-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': {'partnerOrder': 'BX8yjpaC2bxYErUHJlPVKz1SsufIqRGD', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 13:05:25,195-INFO-lib.common.case_processor.entry-86-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': '3s8OE6uGlAJImD4tUcYeQbK2qTMfvXoj', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '123.42.26.241', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 13:05:25,195-INFO-lib.common.case_processor.entry-86-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'qXdybeUSR31IEcWtwsGHiALOP26hf74u', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 13:05:25,195-INFO-lib.common.case_processor.entry-86-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': '05HOdhMxsvmkC8eBbS7wzYgJipGITK2a', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '198.203.165.235', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 13:05:25,204-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 13:05:25,236-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'MNOPYZhI3ST7pxalVBeFG5itArz419u6', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 13:05:25,269-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519130525208677696954613t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22f%252BxNGxPWBPq4KgIuqUPBWNmHiDqsvx9QndHQCW0k7Cus9sHoEGn9o7BF50vpSZveCYT%252F4HT%252F77ZxfjDIsUQl82gtS2ris3lAYjjA5j3TwJwaqC6BS802MTOQLRmPVFSmru4QutMp7ChTlvILlBLdi6qXA6wSXHWfuoayi3atVLw%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519130525208677696954613t\"}","payReqId":"RM20210519130525208677696954613t","status":"AUTH_NEEDED"}
2021-05-19 13:05:25,270-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519130525208677696954613t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="f%2BxNGxPWBPq4KgIuqUPBWNmHiDqsvx9QndHQCW0k7Cus9sHoEGn9o7BF50vpSZveCYT%2F4HT%2F77ZxfjDIsUQl82gtS2ris3lAYjjA5j3TwJwaqC6BS802MTOQLRmPVFSmru4QutMp7ChTlvILlBLdi6qXA6wSXHWfuoayi3atVLw="&sign_type="RSA"', 'system_order': 'RM20210519130525208677696954613t'}, 'payReqId': 'RM20210519130525208677696954613t', 'status': 'AUTH_NEEDED'}
2021-05-19 13:05:25,270-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-支付宝[I6]={'partnerOrder': 'MNOPYZhI3ST7pxalVBeFG5itArz419u6', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 13:05:25,292-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-支付宝[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519130525208677696954613t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="f%2BxNGxPWBPq4KgIuqUPBWNmHiDqsvx9QndHQCW0k7Cus9sHoEGn9o7BF50vpSZveCYT%2F4HT%2F77ZxfjDIsUQl82gtS2ris3lAYjjA5j3TwJwaqC6BS802MTOQLRmPVFSmru4QutMp7ChTlvILlBLdi6qXA6wSXHWfuoayi3atVLw="&sign_type="RSA"', 'system_order': 'RM20210519130525208677696954613t'}, 'payReqId': 'RM20210519130525208677696954613t', 'status': 'AUTH_NEEDED'}
2021-05-19 13:05:25,319-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-支付宝[M6]=passed
2021-05-19 13:05:25,377-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '2BLh31E0R5gaCHrlDo9NxPV6v8uAUeMw', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '59.202.40.78', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 13:05:25,683-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1913052561783446a483fb9b8b92810000&package=875199777","payReqId":"RM20210519130525208677696972442t","status":"AUTH_NEEDED"}
2021-05-19 13:05:25,683-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1913052561783446a483fb9b8b92810000&package=875199777', 'payReqId': 'RM20210519130525208677696972442t', 'status': 'AUTH_NEEDED'}
2021-05-19 13:05:25,684-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 13:05:25,690-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 13:05:25,691-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[3823818495149264069288298801]]></transaction_id>
<nonce_str><![CDATA[R9umU4HspDB5fSNYP3cOotexXngvj2yC]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[7BEAC5A1BBA0F57F49AEA2B6D570C81A]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519130525208677696972442t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519130525]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 13:05:25,816-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 13:05:25,816-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 13:05:25,832-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 13:05:25,832-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 13:05:25,833-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "56158609317047"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "xkO8Ibd0WuLDwRp4iHZohnaTqmEUSG97"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 13:05:25,939-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a3d19744d9f24eaa917943feefe628b2"
s_p: "cGZzS1h4VjJkNU9zczF2ZThnQkFvWFA2UXczZGNNTWpSbmZ5VVBzZEZQQjJEb3FFdVNWVk03aEluSmFoQ2lXWXpQY1RKb09jVk13aUNjcWphRThLcEpiWVZNNUJ6TUluWG5tN0tnMkZlQWRhWkFmbEJ5MFN4b3RFcERaT1A5V2pTOXVrcGVzSUJHUE9wYlhuTk90S3pIdGhOaTRjSEd5NlJWODhpRW9DUkR6QTVNalpFeWJ1UzZOZEJuTjdVNlM2dEp0akZTbGNFQlI4Rk9MSVN5SzBRSTloYzRTSVZ2UGNLcGtzY2hDV1VpbFVzT3BWa0dQRlJieXJNR2RxYW9ObGZ6a0lpazFtNVc1cHZuaGNob1lVbW9pZEdIMmJPTmlOSWpPcm5NcHhaSDgyd2tkRjJReXFmZmRZNmhyUW94aE9tb2M5UGdUdjliMUxZa1RVYm5VdFk1OTlhNnNwMGljSDVmMWMzU24yMWtJZ1F3MEdvNFhEM3BqZXRsdzNuYlV1anVrQTQwaWZKenJMS1pjZWxqWHhwb1p2U2FnNXFQZDBYY1MzOXJPenNYVEF6WjF5OVhSaTNjNlY0SFUzTDc3amZ2QVE4dEF3djZ5eHFQVjhFd3hQdXg5cU9NWXVGcTZSNWZQSU11clVTRmp0aDFveXVnelFJUTdBbEhsQzF2dlh2UDNQQ3RXT09MUllMR0RIU2FySEVJdENNOVQ1SFB1SGM3Ylo2UUhTRWFTeFBjVVdrS0dYbFNqRFZNRHdRdldrOEU4dzVvUEVwWE5wbm81Sk9ES09HREtyQWhTWUwwSmw1eUFxc0NZUzlxYVVLUVFhOGxGanhMNnM4MWlreDFoR2E5eHhFWGtlT2JWVnJGdDJCeUliTXdEYkVRNEV0bGJOdGgwSURsdE5PdjJtdGxRUU93cU9CVFZRbTNNa1pPaEVGV1JWN2ViR2oyZFlXZmdxNmozdEtjSkJsNWVmcHROVUdRRERwN1I0VUROYW00cGdOUmJZTTRQSjRtcEl5QUpXakJqWDE1aldldUsxMzM1czFUd3dBbFVIQWE0QURTSEM="
m_p: "JJl7gTMmi872f8aXfh3Dl65W866mj86p1bGB3XZW3q6kCZBf1k5O3xErIL08Z6Q1"
e_t: "1621508725927"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 13:05:25,939-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 13:05:25,940-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 13:05:25,940-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "a3d19744d9f24eaa917943feefe628b2"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "2FeAdaZA"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519130525208677696972442t"
version: "265"
queryType: "PAY"

2021-05-19 13:05:25,987-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 13:05:25,989-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519130525208677696972442t"
2021-05-19 13:05:25,994-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5210, 'pay_req_id': 'RM20210519130525208677696972442t', 'notify_id': '3823818495149264069288298801', 'partner_order': '2BLh31E0R5gaCHrlDo9NxPV6v8uAUeMw', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '59.202.40.78', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 13, 5, 25), 'success_time': datetime.datetime(2021, 5, 19, 13, 5, 25), 'modify_time': datetime.datetime(2021, 5, 19, 13, 5, 26), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 13:05:25,994-INFO-FizAssert-31-订单详情：{'id': 5210, 'pay_req_id': 'RM20210519130525208677696972442t', 'notify_id': '3823818495149264069288298801', 'partner_order': '2BLh31E0R5gaCHrlDo9NxPV6v8uAUeMw', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '59.202.40.78', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 13, 5, 25), 'success_time': datetime.datetime(2021, 5, 19, 13, 5, 25), 'modify_time': datetime.datetime(2021, 5, 19, 13, 5, 26), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 13:05:25,995-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 13:05:25,995-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-微信[I6]={'partnerOrder': '2BLh31E0R5gaCHrlDo9NxPV6v8uAUeMw', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '59.202.40.78', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 13:05:26,018-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-微信[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1913052561783446a483fb9b8b92810000&package=875199777', 'payReqId': 'RM20210519130525208677696972442t', 'status': 'AUTH_NEEDED'}
2021-05-19 13:05:26,046-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-微信[M6]=passed
2021-05-19 13:05:26,107-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'xhf3atndc9lizHkQDVKBPMA8CoT7Uy5q', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 13:05:26,116-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 13:05:26,117-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 13:05:26,117-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-qq钱包，渠道回调0[I6]={'partnerOrder': 'xhf3atndc9lizHkQDVKBPMA8CoT7Uy5q', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 13:05:26,477-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-qq钱包，渠道回调0[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 13:05:27,133-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-qq钱包，渠道回调0[M6]=failed
2021-05-19 13:05:27,822-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '9rtJmoYHjZSQGbEeXysBn7458W13TMqi', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 13:05:27,829-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 13:05:27,829-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 13:05:27,830-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-银行卡，渠道回调大于商品金额[I6]={'partnerOrder': '9rtJmoYHjZSQGbEeXysBn7458W13TMqi', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 13:05:27,992-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-银行卡，渠道回调大于商品金额[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 13:05:28,551-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-银行卡，渠道回调大于商品金额[M6]=failed
2021-05-19 13:05:29,286-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'FcJxbBGVwfhkylT0s8SnC9iDjLZmg7z5', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 13:05:29,295-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 13:05:29,295-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 13:05:29,296-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-支付宝，携带可币[I6]={'partnerOrder': 'FcJxbBGVwfhkylT0s8SnC9iDjLZmg7z5', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 13:05:29,768-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-支付宝，携带可币[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 13:05:30,515-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-支付宝，携带可币[M6]=failed
2021-05-19 13:05:31,243-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '9bvWhpJIHmAoZgLz01xYT74GwiunsktO', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '235.193.23.181', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 13:05:31,270-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 13:05:31,271-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 13:05:31,271-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-微信，携带可币券[I6]={'partnerOrder': '9bvWhpJIHmAoZgLz01xYT74GwiunsktO', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '235.193.23.181', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 13:05:31,735-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-微信，携带可币券[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 13:05:32,482-DEBUG-lib.common.case_processor.entry-90-开始更新直扣-微信，携带可币券[M6]=failed
2021-05-19 13:05:33,279-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 13:05:33,297-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 13:05:33,297-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 13:05:33,298-DEBUG-lib.common.case_processor.entry-90-开始更新纯充值-支付宝[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 13:05:33,810-DEBUG-lib.common.case_processor.entry-90-开始更新纯充值-支付宝[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 13:05:34,580-DEBUG-lib.common.case_processor.entry-90-开始更新纯充值-支付宝[M6]=failed
2021-05-19 13:05:35,334-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '74.8.126.218', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 13:05:35,342-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 13:05:35,342-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 13:05:35,342-DEBUG-lib.common.case_processor.entry-90-开始更新纯充值-微信[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '74.8.126.218', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 13:05:35,744-DEBUG-lib.common.case_processor.entry-90-开始更新纯充值-微信[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 13:05:36,517-DEBUG-lib.common.case_processor.entry-90-开始更新纯充值-微信[M6]=failed
2021-05-19 13:05:37,385-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 13:05:37,398-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 13:05:37,398-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 13:05:37,398-DEBUG-lib.common.case_processor.entry-90-开始更新纯充值-qq钱包，渠道回调0[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 13:05:37,873-DEBUG-lib.common.case_processor.entry-90-开始更新纯充值-qq钱包，渠道回调0[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 13:05:38,629-DEBUG-lib.common.case_processor.entry-90-开始更新纯充值-qq钱包，渠道回调0[M6]=failed
2021-05-19 13:05:39,477-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 13:05:39,486-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 13:05:39,487-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 13:05:39,487-DEBUG-lib.common.case_processor.entry-90-开始更新纯充值-银行卡，携带可币[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 13:05:40,159-DEBUG-lib.common.case_processor.entry-90-开始更新纯充值-银行卡，携带可币[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 13:05:40,923-DEBUG-lib.common.case_processor.entry-90-开始更新纯充值-银行卡，携带可币[M6]=failed
2021-05-19 13:05:41,687-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 13:05:41,688-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 13:05:41,707-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 13:05:41,748-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.00","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 13:05:41,748-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 13:05:41,748-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.00', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 13:05:41,748-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.00
2021-05-19 13:05:41,753-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.060000000000000005', 'batchId': '99722318740572487236699450623959', 'bizNo': 'r5wRot7MhigWmeuZdSPyXfxqDBkV1CET', 'operateType': 'PRESENT', 'requestId': '09185645347058963293075178213112', 'source': 'test', 'ssoid': '2086776969', 'timeStamp': 1621400741749})
2021-05-19 13:05:41,818-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","timeStamp":0,"amount":0.060000000000000005,"success":true,"appId":null,"sign":null,"signType":null,"failReason":null,"remark":null,"extraJson":null,"accountOperateType":"PRESENT"},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 13:05:41,818-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 13:05:41,818-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'timeStamp': 0, 'amount': 0.060000000000000005, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 13:05:41,827-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 13:05:41,862-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 13:05:41,862-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 13:05:41,863-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 13:05:41,863-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 13:08:54,818-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 13:08:55,088-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 13:08:55,157-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 13:08:55,157-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 13:08:55,157-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 13:08:55,412-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 13:08:55,412-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 13:08:55,412-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 13:08:55,517-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 13:08:55,518-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 13:08:55,527-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 13:08:55,822-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 13:08:55,822-INFO-lib.common.case_processor.entry-77-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 13:08:55,823-INFO-lib.common.case_processor.entry-77-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 13:08:55,823-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 13:08:55,823-INFO-lib.common.case_processor.entry-86-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 13:08:55,823-INFO-lib.common.case_processor.entry-86-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 13:08:55,823-INFO-lib.common.case_processor.entry-86-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 13:08:55,823-INFO-lib.common.case_processor.entry-86-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 13:08:56,429-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 13:08:56,429-INFO-lib.common.case_processor.entry-77-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 13:08:56,430-INFO-lib.common.case_processor.entry-77-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 13:08:56,430-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 13:08:56,430-INFO-lib.common.case_processor.entry-86-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 13:08:56,430-INFO-lib.common.case_processor.entry-86-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 13:08:56,430-INFO-lib.common.case_processor.entry-86-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 13:08:56,430-INFO-lib.common.case_processor.entry-86-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 13:08:56,436-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 13:08:56,477-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '3bVSHKJvDMhmLE1lYPxkjuO9psrgRFQU', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 13:08:56,513-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519130856208677696955362t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22h3wW8BbUjoNCI%252BCiAcZUxueXHAPZCaToPN5cIFErvIU2VNe13DCa4yxO7L%252BDwGLso4EnrV4YuCu8OZNVLCS9t43MRm4yWTuHHh5wq2KsjVg6T3FpIHCxQGFAf66NEZsP1ACXBCzvVzl545uXGqRJPdLMuoP7TG8EcgWJ%252FQl9e7o%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519130856208677696955362t\"}","payReqId":"RM20210519130856208677696955362t","status":"AUTH_NEEDED"}
2021-05-19 13:08:56,514-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519130856208677696955362t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="h3wW8BbUjoNCI%2BCiAcZUxueXHAPZCaToPN5cIFErvIU2VNe13DCa4yxO7L%2BDwGLso4EnrV4YuCu8OZNVLCS9t43MRm4yWTuHHh5wq2KsjVg6T3FpIHCxQGFAf66NEZsP1ACXBCzvVzl545uXGqRJPdLMuoP7TG8EcgWJ%2FQl9e7o="&sign_type="RSA"', 'system_order': 'RM20210519130856208677696955362t'}, 'payReqId': 'RM20210519130856208677696955362t', 'status': 'AUTH_NEEDED'}
2021-05-19 13:08:56,514-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[I6]={'partnerOrder': '3bVSHKJvDMhmLE1lYPxkjuO9psrgRFQU', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 13:08:56,536-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519130856208677696955362t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="h3wW8BbUjoNCI%2BCiAcZUxueXHAPZCaToPN5cIFErvIU2VNe13DCa4yxO7L%2BDwGLso4EnrV4YuCu8OZNVLCS9t43MRm4yWTuHHh5wq2KsjVg6T3FpIHCxQGFAf66NEZsP1ACXBCzvVzl545uXGqRJPdLMuoP7TG8EcgWJ%2FQl9e7o="&sign_type="RSA"', 'system_order': 'RM20210519130856208677696955362t'}, 'payReqId': 'RM20210519130856208677696955362t', 'status': 'AUTH_NEEDED'}
2021-05-19 13:08:56,561-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 13:08:56,613-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'OfzqM8RnFEuTpwHJ5VcWIdD4QNCi6sKb', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '242.235.53.36', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 13:08:56,912-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19130856863309f20faaa015986ef30000&package=1427540951","payReqId":"RM20210519130856208677696951517t","status":"AUTH_NEEDED"}
2021-05-19 13:08:56,912-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19130856863309f20faaa015986ef30000&package=1427540951', 'payReqId': 'RM20210519130856208677696951517t', 'status': 'AUTH_NEEDED'}
2021-05-19 13:08:56,913-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 13:08:56,921-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 13:08:56,922-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[9735887164475318814930626318]]></transaction_id>
<nonce_str><![CDATA[yxmi4hftY61MOT2CkF7nlvPgdDbLJwQX]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[1AAF85D443F6A09652BE65909CF28A4C]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519130856208677696951517t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519130856]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 13:08:57,191-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 13:08:57,191-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 13:08:57,206-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 13:08:57,206-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 13:08:57,207-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "91471553475687"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "c6xiO1QPDe5XtRMg2hYZmq3G4bLTdVAB"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 13:08:57,315-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2f053d35ccc54e3ea3574899c12e36fd"
s_p: "THlFMmlUNW1Lb1Q0VE1XRHhsVkRheHZxQ05FVTRXdTFhbVptV0NsZnhKaFlRWXVYZFdTelhrSU5SOXNKUjhZaHZDYXNBZnRxaTVWbWR5RTJ5QTY4bnRuM0JySzBtREVzRGJ2YmZTcE9BUGxkUUlGU0VLMnFaNE1LUE5tSmQyU09TaVQwMVJyTGNuOFN5VlJMcGtFZ3p5M1ZRaHMxaTdDanZLRks5ajR5WG1OdFgyT2JYTk1VNHBSQWFCQjB2NnU1akRoRTNPd1VHUFhBUjJGU1lNa2ZnTmlMRXBvcG1FZHdOamdYSnhweldlQU9ET3c0M2Q3YW1CNHZORG5mSnlrcWVDOFM1TmJVSHBHQ1psVk51Nk8wR2F1a2hTcFZuVzBSeHBlVmdPbnUweFA3VjExbHlPc2tKRzRQejZSR01BcGJXdWJUcVFSendKc1BWUThVbUVWSnlSTUVLdUVidXUyQW93UDRnUjdONVhCRmpSOGlta20yTlBScHhmcEYxSkNLUXp4MzBjMEkwcUcwMTVTSDlTNXFDSnRzclB1YjlzWHBoS0VZYVpRb3JnRUR0M0dMOU5IMnQwTTloaVBpVFpuQUc4UlNMd2MwR1NtVUlFU0pBOFZCTTZQMXN2NzhIQWZSeVhEOGpoQ2xvZk4wT3ZkdmFXMWNzT1FNUTN4dGhNSHpsbTJGNmc2RHNiNGJuU3BjYjludmxDSFRHRU1BWkJSRVlYYWFLaklWdXliV0MxS3ZpZFRIakdkNnhySDF4cjlKQTRhYXJwWUlpZjFHbVJCdU41UGlBSFduRUZhU2lDWnd6NExhUEszTTRkWVVkdFo4ck8xcHIzVWRpaVRrNlF5WGY2d0pvbzF3Yms5M3F6amtKSXRNb0xCT2g5Vnp2MThhYlhFa0JzUklPOW5GdjNHUzIwNkV5NTE1V0V1U3RodGhCbmJtR2R2N0RIVXFtblhHTlo5M3FmUGpVandtQWdzcW9BM1NMWUg3QVdITHdZOVVPTWs5ZnlRdWVZYnFWeWU1WjJyd1hVQWw1c05BUEg1cUlHYUxtanVMTGxzaGFwaFc="
m_p: "6OEY2TRBNpZd51fDn8aH4b58Q5z62VNX4HprTBEFTaLJG76q9uw415ey9OsSvaK3"
e_t: "1621508937307"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 13:08:57,315-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 13:08:57,315-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 13:08:57,315-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "2f053d35ccc54e3ea3574899c12e36fd"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RLpkEgzy"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519130856208677696951517t"
version: "265"
queryType: "PAY"

2021-05-19 13:08:57,386-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 13:08:57,388-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519130856208677696951517t"
2021-05-19 13:08:57,406-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5212, 'pay_req_id': 'RM20210519130856208677696951517t', 'notify_id': '9735887164475318814930626318', 'partner_order': 'OfzqM8RnFEuTpwHJ5VcWIdD4QNCi6sKb', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '242.235.53.36', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 13, 8, 57), 'success_time': datetime.datetime(2021, 5, 19, 13, 8, 56), 'modify_time': datetime.datetime(2021, 5, 19, 13, 8, 57), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 13:08:57,407-INFO-FizAssert-31-订单详情：{'id': 5212, 'pay_req_id': 'RM20210519130856208677696951517t', 'notify_id': '9735887164475318814930626318', 'partner_order': 'OfzqM8RnFEuTpwHJ5VcWIdD4QNCi6sKb', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '242.235.53.36', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 13, 8, 57), 'success_time': datetime.datetime(2021, 5, 19, 13, 8, 56), 'modify_time': datetime.datetime(2021, 5, 19, 13, 8, 57), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 13:08:57,407-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 13:08:57,407-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[I6]={'partnerOrder': 'OfzqM8RnFEuTpwHJ5VcWIdD4QNCi6sKb', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '242.235.53.36', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 13:08:57,430-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19130856863309f20faaa015986ef30000&package=1427540951', 'payReqId': 'RM20210519130856208677696951517t', 'status': 'AUTH_NEEDED'}
2021-05-19 13:08:57,454-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[M6]=passed
2021-05-19 13:08:57,509-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '0o5uUvNIHfDgV2WmPY1qkc4ZC8MXzGJx', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 13:08:57,516-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 13:08:57,517-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 13:08:57,517-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': '0o5uUvNIHfDgV2WmPY1qkc4ZC8MXzGJx', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 13:08:57,920-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 13:08:58,448-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 13:08:58,927-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'BkQY84Kam0cSp2qHlTIbfvDL5JO9znhV', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 13:08:58,945-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 13:08:58,945-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 13:08:58,945-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'BkQY84Kam0cSp2qHlTIbfvDL5JO9znhV', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 13:08:59,423-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 13:08:59,965-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 13:09:00,485-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'QifFJW4ho0SIy8eMxNRq5OD3PEnp9BsY', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 13:09:00,492-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 13:09:00,493-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 13:09:00,493-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'QifFJW4ho0SIy8eMxNRq5OD3PEnp9BsY', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 13:09:00,878-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 13:09:01,377-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 13:09:01,944-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'SXJwrBGRcIjlyPb7uYkDULe5N6iVFOQW', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '5.197.208.26', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 13:09:01,965-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 13:09:01,966-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 13:09:01,966-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'SXJwrBGRcIjlyPb7uYkDULe5N6iVFOQW', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '5.197.208.26', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 13:09:02,142-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 13:09:02,612-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 14:22:17,784-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 14:22:18,064-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 14:22:18,130-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 14:22:18,130-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 14:22:18,130-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 14:22:18,363-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 14:22:18,363-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 14:22:18,363-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 14:22:18,410-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 14:22:18,411-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 14:22:18,417-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 14:22:19,198-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 14:22:19,198-INFO-lib.common.case_processor.entry-77-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': '3bVSHKJvDMhmLE1lYPxkjuO9psrgRFQU', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '{"authHint": {"payType": "AlipayPlugin", "mes": "partner=\\"2088311951685799\\"&seller_id=\\"kekezhifu@keke.cn\\"&out_trade_no=\\"RM20210519130856208677696955362t\\"&subject=\\"SecurityPayments+test\\"&body=\\"SecurityPayments+test\\"&total_fee=\\"0.01\\"&notify_url=\\"http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader\\"&service=\\"mobile.securitypay.pay\\"&payment_type=\\"1\\"&_input_charset=\\"utf-8\\"&it_b_pay=\\"30m\\"&sign=\\"h3wW8BbUjoNCI%2BCiAcZUxueXHAPZCaToPN5cIFErvIU2VNe13DCa4yxO7L%2BDwGLso4EnrV4YuCu8OZNVLCS9t43MRm4yWTuHHh5wq2KsjVg6T3FpIHCxQGFAf66NEZsP1ACXBCzvVzl545uXGqRJPdLMuoP7TG8EcgWJ%2FQl9e7o=\\"&sign_type=\\"RSA\\"", "system_order": "RM20210519130856208677696955362t"}, "payReqId": "RM20210519130856208677696955362t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-19 14:22:19,198-INFO-lib.common.case_processor.entry-77-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'OfzqM8RnFEuTpwHJ5VcWIdD4QNCi6sKb', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '242.235.53.36', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19130856863309f20faaa015986ef30000&package=1427540951", "payReqId": "RM20210519130856208677696951517t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-19 14:22:19,199-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 14:22:19,199-INFO-lib.common.case_processor.entry-86-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': '0o5uUvNIHfDgV2WmPY1qkc4ZC8MXzGJx', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 14:22:19,200-INFO-lib.common.case_processor.entry-86-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': {'partnerOrder': 'BkQY84Kam0cSp2qHlTIbfvDL5JO9znhV', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 14:22:19,200-INFO-lib.common.case_processor.entry-86-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'QifFJW4ho0SIy8eMxNRq5OD3PEnp9BsY', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}', 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': 'failed', 'comments': None}
2021-05-19 14:22:19,200-INFO-lib.common.case_processor.entry-86-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'SXJwrBGRcIjlyPb7uYkDULe5N6iVFOQW', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '5.197.208.26', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': 'failed', 'comments': None}
2021-05-19 14:22:19,430-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 14:22:19,430-INFO-lib.common.case_processor.entry-77-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 14:22:19,430-INFO-lib.common.case_processor.entry-77-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643313', 'amount': 1, 'price': 0.08}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 14:22:19,431-INFO-lib.common.case_processor.entry-77-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643311', 'amount': 1, 'price': 0.08}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 14:22:19,431-INFO-lib.common.case_processor.entry-77-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 14:22:19,431-INFO-lib.common.case_processor.entry-77-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643312', 'amount': 1, 'price': 0.08}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 14:22:19,431-INFO-lib.common.case_processor.entry-77-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643314', 'amount': 1, 'price': 0.08}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 14:22:19,431-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 14:22:19,432-INFO-lib.common.case_processor.entry-86-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 14:22:19,432-INFO-lib.common.case_processor.entry-86-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 14:22:19,432-INFO-lib.common.case_processor.entry-86-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 14:22:19,432-INFO-lib.common.case_processor.entry-86-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 14:22:19,432-INFO-lib.common.case_processor.entry-86-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 14:22:19,432-INFO-lib.common.case_processor.entry-86-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 14:22:19,440-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 14:22:19,475-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'zCOWSUBKef2xlt40aysLMw9mpGgQdNov', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 14:22:19,509-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519142219208677696983853t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22udOq8XTFG6c6xRMwGsFvoSNsW2UEtYmHmJgULi%252Bo3sWcsn0rPJT7GHC5g7V8SOtAniAaRmW8VnVUldWgf0GzNIseXVtaVhsB2RP90GGLdcmd8cnWoWHiRJzdy3KGjksuxQI7ZpnbUcRFM3ysBbTKmpi7skYoazILE%252BFXyxyQoxE%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519142219208677696983853t\"}","payReqId":"RM20210519142219208677696983853t","status":"AUTH_NEEDED"}
2021-05-19 14:22:19,510-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519142219208677696983853t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="udOq8XTFG6c6xRMwGsFvoSNsW2UEtYmHmJgULi%2Bo3sWcsn0rPJT7GHC5g7V8SOtAniAaRmW8VnVUldWgf0GzNIseXVtaVhsB2RP90GGLdcmd8cnWoWHiRJzdy3KGjksuxQI7ZpnbUcRFM3ysBbTKmpi7skYoazILE%2BFXyxyQoxE="&sign_type="RSA"', 'system_order': 'RM20210519142219208677696983853t'}, 'payReqId': 'RM20210519142219208677696983853t', 'status': 'AUTH_NEEDED'}
2021-05-19 14:22:19,510-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'zCOWSUBKef2xlt40aysLMw9mpGgQdNov', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 14:22:19,533-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519142219208677696983853t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="udOq8XTFG6c6xRMwGsFvoSNsW2UEtYmHmJgULi%2Bo3sWcsn0rPJT7GHC5g7V8SOtAniAaRmW8VnVUldWgf0GzNIseXVtaVhsB2RP90GGLdcmd8cnWoWHiRJzdy3KGjksuxQI7ZpnbUcRFM3ysBbTKmpi7skYoazILE%2BFXyxyQoxE="&sign_type="RSA"', 'system_order': 'RM20210519142219208677696983853t'}, 'payReqId': 'RM20210519142219208677696983853t', 'status': 'AUTH_NEEDED'}
2021-05-19 14:22:19,557-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 14:22:19,614-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'N0xfnXbAQHUqeFSjtDoBYTI93PiCgsJm', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '174.11.81.240', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 14:22:19,898-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191422198523237f65a46f649eeaa10000&package=1780046350","payReqId":"RM20210519142219208677696932743t","status":"AUTH_NEEDED"}
2021-05-19 14:22:19,899-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191422198523237f65a46f649eeaa10000&package=1780046350', 'payReqId': 'RM20210519142219208677696932743t', 'status': 'AUTH_NEEDED'}
2021-05-19 14:22:19,900-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 14:22:19,907-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 14:22:19,908-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[1269706212108008241364111849]]></transaction_id>
<nonce_str><![CDATA[75ZzTslHPe63kOagvjdim4WADXytGbKC]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[F9C1789587258922B4B4FDBDAF77CDAE]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519142219208677696932743t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519142219]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 14:22:20,159-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 14:22:20,159-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 14:22:20,174-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 14:22:20,174-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 14:22:20,174-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "46636258837592"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "7iwgztUcEp5VbYskNPjX6JGF4dn31ASf"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 14:22:20,249-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "63992333fcea4a6dad77cec58f4cae72"
s_p: "R1VneE1BVmZsMDk1Q21CMFNZVVhnNldvODZISTNmSmt3aVViYnlaTUEwZGNDc2d0MnJNYXh6YWRxemFOTEswbHNldm5DWmo4aE5temJwbHhTUmdvT3RlVDVuQUZ6NmpMTm42a3NzZDZWT09sVlRaZnNZMHBDaHlqWERXY2hRODRKUFF4a1MzSXgxRnpkODJaNzJQRzVJTWJId0o3TnlIWVowRHJ3Unh2MFFtM2FtcTZZaE9aVmlEN1QwaHRiV2podTFlTTlUYVBEVElMbm95Q3J4VjFxdlpnNXpiMWZoTVBIajgyQmZhSkNDRDQ3ME9aVEREbjhtODJGY1BsdElvY1JtRU1UWk95bVZtM3F2YWRpWnRNcllWNFpzcU5FbEthUDQ2MXBwNE93SVZaMzlyS0drMmw1cnFxc0tGYU9RZXAxM1pxdVdTdno1dlFTbzdUaGRxNXJkcm1tSUR0TlJHelNuaW5sOXRqdTBCSHJwSVVaU0VITG5mSzhVZ2JkcjRHbUUxaDBtblVnY3d5RnNwT3BLWmtmcEFxcnBqelF4UWZYZHJ0ZG5FV2h0OVYyMkNKeG4xTFFqRWVTVUZ4TDVmNlBUWWtQTkF6T0dPdkpuRkZZN3ZOY09nSXl5Y0ZFVFdvd0VwOFd1TmtrS2hjNXRpeEQyOHZjQmtMVGoxU0xZN2p5WTMxZWxJQ3pwclFFRHdSOUdlNXdFYUpHbGpKdWt5RU81ZktGSm1SMGZsOEllWmN3M1dBVFRmTGlCalpaaGJsSlJvd1RaSEdCMXFSMnMzY0h3RDR5clBsWWZob1RQWVBoSVVBY2dqYTVDMUlPVjM0c0szTWRDYVRyMmpaNEdJbE1aZGI0VGtkR2dTQ0thdDJQR1RHWGxhY3pMNnYwR3VYbnFXQnFYMkNjYWFYUXhvV21NMFRkcVppbFNNOUZ2Y0hFYTZteWZDbkdIc0ZDcmlhdUl1S25aMnFPRUxYVHBvbnlLcTVpSWpZNEo2Um85MW1OVHd3aDdNenJIN1ZieW90eUdKbm1XZ0QxRXUxN2FueUloZFVRcDlGckN6WTk2SXY="
m_p: "5O5Kv05qjWSLcd29N94DMLnA0B24m4Haq5cD57hxCBZoH9v2KX3NF9vViHvJy61A"
e_t: "1621513340235"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 14:22:20,249-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 14:22:20,249-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 14:22:20,249-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "63992333fcea4a6dad77cec58f4cae72"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "goOteT5n"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519142219208677696932743t"
version: "265"
queryType: "PAY"

2021-05-19 14:22:20,311-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 14:22:20,313-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519142219208677696932743t"
2021-05-19 14:22:20,333-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5224, 'pay_req_id': 'RM20210519142219208677696932743t', 'notify_id': '1269706212108008241364111849', 'partner_order': 'N0xfnXbAQHUqeFSjtDoBYTI93PiCgsJm', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '174.11.81.240', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 14, 22, 20), 'success_time': datetime.datetime(2021, 5, 19, 14, 22, 19), 'modify_time': datetime.datetime(2021, 5, 19, 14, 22, 20), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 14:22:20,334-INFO-FizAssert-31-订单详情：{'id': 5224, 'pay_req_id': 'RM20210519142219208677696932743t', 'notify_id': '1269706212108008241364111849', 'partner_order': 'N0xfnXbAQHUqeFSjtDoBYTI93PiCgsJm', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '174.11.81.240', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 14, 22, 20), 'success_time': datetime.datetime(2021, 5, 19, 14, 22, 19), 'modify_time': datetime.datetime(2021, 5, 19, 14, 22, 20), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 14:22:20,334-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 14:22:20,334-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[I6]={'partnerOrder': 'N0xfnXbAQHUqeFSjtDoBYTI93PiCgsJm', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '174.11.81.240', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 14:22:20,357-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191422198523237f65a46f649eeaa10000&package=1780046350', 'payReqId': 'RM20210519142219208677696932743t', 'status': 'AUTH_NEEDED'}
2021-05-19 14:22:20,377-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[M6]=passed
2021-05-19 14:22:20,437-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'LYrj6X4C7MnEz8aHGV0lZRoex53fcwU2', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 14:22:20,446-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 14:22:20,446-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 14:22:20,446-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'LYrj6X4C7MnEz8aHGV0lZRoex53fcwU2', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 14:22:20,866-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 14:22:21,630-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 14:22:22,382-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'yozdis5magnAvBUWtIQjkErhVxS2LGNw', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 14:22:22,389-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 14:22:22,389-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 14:22:22,389-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'yozdis5magnAvBUWtIQjkErhVxS2LGNw', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 14:22:22,720-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 14:22:23,466-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 14:22:24,150-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Zvl8fKwyeXCMT27dqUz3EBbkJun9hLWV', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 14:22:24,160-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 14:22:24,160-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 14:22:24,160-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'Zvl8fKwyeXCMT27dqUz3EBbkJun9hLWV', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 14:22:24,841-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 14:22:25,651-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 14:22:26,387-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'j7SRClY3D86EpqgUtXdoVrkwQA9BzWPL', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '201.81.60.92', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 14:22:26,407-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 14:22:26,407-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 14:22:26,408-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'j7SRClY3D86EpqgUtXdoVrkwQA9BzWPL', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '201.81.60.92', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 14:22:26,833-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 14:22:27,495-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 14:22:28,330-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 14:22:28,331-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 14:22:28,342-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 14:22:28,405-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.00","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 14:22:28,405-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 14:22:28,406-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.00', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 14:22:28,406-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.00
2021-05-19 14:22:28,414-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.060000000000000005', 'batchId': '61161029028497017294273221657402', 'bizNo': 'yMr3Yn2FcQkoVzIBX5GWNZd9hs70PaUu', 'operateType': 'PRESENT', 'requestId': '43060348928491157606130758612850', 'source': 'test', 'ssoid': '2086776969', 'timeStamp': 1621405348407})
2021-05-19 14:22:28,450-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","timeStamp":0,"amount":0.060000000000000005,"success":true,"appId":null,"sign":null,"signType":null,"failReason":null,"remark":null,"extraJson":null,"accountOperateType":"PRESENT"},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 14:22:28,450-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 14:22:28,450-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'timeStamp': 0, 'amount': 0.060000000000000005, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 14:22:28,457-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 14:22:28,500-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 14:22:28,501-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 14:22:28,501-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 14:22:28,501-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 15:11:10,879-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 15:11:11,180-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 15:11:11,300-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 15:11:11,300-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 15:11:11,300-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 15:11:11,565-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 15:11:11,565-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 15:11:11,565-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 15:11:11,609-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 15:11:11,611-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 15:11:11,616-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 15:11:12,764-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 15:11:12,765-INFO-lib.common.case_processor.entry-77-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'zCOWSUBKef2xlt40aysLMw9mpGgQdNov', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '{"authHint": {"payType": "AlipayPlugin", "mes": "partner=\\"2088311951685799\\"&seller_id=\\"kekezhifu@keke.cn\\"&out_trade_no=\\"RM20210519142219208677696983853t\\"&subject=\\"SecurityPayments+test\\"&body=\\"SecurityPayments+test\\"&total_fee=\\"0.01\\"&notify_url=\\"http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader\\"&service=\\"mobile.securitypay.pay\\"&payment_type=\\"1\\"&_input_charset=\\"utf-8\\"&it_b_pay=\\"30m\\"&sign=\\"udOq8XTFG6c6xRMwGsFvoSNsW2UEtYmHmJgULi%2Bo3sWcsn0rPJT7GHC5g7V8SOtAniAaRmW8VnVUldWgf0GzNIseXVtaVhsB2RP90GGLdcmd8cnWoWHiRJzdy3KGjksuxQI7ZpnbUcRFM3ysBbTKmpi7skYoazILE%2BFXyxyQoxE=\\"&sign_type=\\"RSA\\"", "system_order": "RM20210519142219208677696983853t"}, "payReqId": "RM20210519142219208677696983853t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-19 15:11:12,765-INFO-lib.common.case_processor.entry-77-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'N0xfnXbAQHUqeFSjtDoBYTI93PiCgsJm', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '174.11.81.240', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191422198523237f65a46f649eeaa10000&package=1780046350", "payReqId": "RM20210519142219208677696932743t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-19 15:11:12,765-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 15:11:12,765-INFO-lib.common.case_processor.entry-86-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'LYrj6X4C7MnEz8aHGV0lZRoex53fcwU2', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 15:11:12,767-INFO-lib.common.case_processor.entry-86-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': {'partnerOrder': 'yozdis5magnAvBUWtIQjkErhVxS2LGNw', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 15:11:12,767-INFO-lib.common.case_processor.entry-86-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'Zvl8fKwyeXCMT27dqUz3EBbkJun9hLWV', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}', 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': 'failed', 'comments': None}
2021-05-19 15:11:12,767-INFO-lib.common.case_processor.entry-86-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'j7SRClY3D86EpqgUtXdoVrkwQA9BzWPL', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '201.81.60.92', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': 'failed', 'comments': None}
2021-05-19 15:11:12,999-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 15:11:12,999-INFO-lib.common.case_processor.entry-77-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:11:12,999-INFO-lib.common.case_processor.entry-77-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643313', 'amount': 1, 'price': 0.08}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:11:12,999-INFO-lib.common.case_processor.entry-77-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643311', 'amount': 1, 'price': 0.08}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:11:13,000-INFO-lib.common.case_processor.entry-77-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 15:11:13,000-INFO-lib.common.case_processor.entry-77-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643312', 'amount': 1, 'price': 0.08}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:11:13,000-INFO-lib.common.case_processor.entry-77-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643314', 'amount': 1, 'price': 0.08}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:11:13,000-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 15:11:13,000-INFO-lib.common.case_processor.entry-86-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:11:13,000-INFO-lib.common.case_processor.entry-86-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:11:13,000-INFO-lib.common.case_processor.entry-86-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:11:13,000-INFO-lib.common.case_processor.entry-86-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:11:13,000-INFO-lib.common.case_processor.entry-86-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:11:13,001-INFO-lib.common.case_processor.entry-86-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:11:13,011-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 15:11:13,044-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'UtER8i9IjkFBMGl4HfxNh3WPuAbqOys6', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 15:11:13,090-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519151113208677696971417t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22TWlqNPok2AUV3T3KqVWfrW%252FLJ34Xb5Ru2D0fnJaaPlbTOxZtZ8CLndG0QN1creR007EYSPvR8hZfRrNRDqZzJdCYxEBXSq0p0Jx1mrrH61CHq45sMDFKFH%252F1apmCAwWvBsASErLrvhl4svfFMJmkKGhCLHAPsWkBZkmrPtkUB34%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519151113208677696971417t\"}","payReqId":"RM20210519151113208677696971417t","status":"AUTH_NEEDED"}
2021-05-19 15:11:13,091-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519151113208677696971417t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="TWlqNPok2AUV3T3KqVWfrW%2FLJ34Xb5Ru2D0fnJaaPlbTOxZtZ8CLndG0QN1creR007EYSPvR8hZfRrNRDqZzJdCYxEBXSq0p0Jx1mrrH61CHq45sMDFKFH%2F1apmCAwWvBsASErLrvhl4svfFMJmkKGhCLHAPsWkBZkmrPtkUB34="&sign_type="RSA"', 'system_order': 'RM20210519151113208677696971417t'}, 'payReqId': 'RM20210519151113208677696971417t', 'status': 'AUTH_NEEDED'}
2021-05-19 15:11:13,091-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'UtER8i9IjkFBMGl4HfxNh3WPuAbqOys6', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 15:11:13,117-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519151113208677696971417t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="TWlqNPok2AUV3T3KqVWfrW%2FLJ34Xb5Ru2D0fnJaaPlbTOxZtZ8CLndG0QN1creR007EYSPvR8hZfRrNRDqZzJdCYxEBXSq0p0Jx1mrrH61CHq45sMDFKFH%2F1apmCAwWvBsASErLrvhl4svfFMJmkKGhCLHAPsWkBZkmrPtkUB34="&sign_type="RSA"', 'system_order': 'RM20210519151113208677696971417t'}, 'payReqId': 'RM20210519151113208677696971417t', 'status': 'AUTH_NEEDED'}
2021-05-19 15:11:13,182-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 15:11:13,304-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'stlAjkBfZ6ogTVz5JbW92mcp1uxECHDq', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '153.58.68.7', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 15:11:13,529-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 15:11:13,529-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 15:11:13,529-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[I6]={'partnerOrder': 'stlAjkBfZ6ogTVz5JbW92mcp1uxECHDq', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '153.58.68.7', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 15:11:14,492-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 15:11:16,155-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[M6]=failed
2021-05-19 15:11:18,755-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'K0dBaecpzMPktJQGoyig735Z26srlD1F', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 15:11:18,763-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:11:18,763-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 15:11:18,764-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'K0dBaecpzMPktJQGoyig735Z26srlD1F', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 15:11:19,422-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 15:11:21,553-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 15:11:24,110-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'KfdZFli3nDt0U9b625vSLBAEuyP8JgVr', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 15:11:24,118-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:11:24,118-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 15:11:24,118-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'KfdZFli3nDt0U9b625vSLBAEuyP8JgVr', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 15:11:26,285-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 15:11:28,754-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 15:11:31,474-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'fu1sOivGxBPHVU9nLj2e458btFyqQJrZ', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 15:11:31,488-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:11:31,488-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 15:11:31,488-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'fu1sOivGxBPHVU9nLj2e458btFyqQJrZ', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 15:11:32,520-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 15:11:33,580-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 15:11:35,148-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'XOzrx91mUYhcMk0NC46SjJQ5Vdvtbswe', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '241.149.29.158', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 15:11:35,172-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:11:35,172-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:11:35,172-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'XOzrx91mUYhcMk0NC46SjJQ5Vdvtbswe', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '241.149.29.158', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 15:11:36,473-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:11:38,129-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 15:11:39,544-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 15:11:39,544-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 15:11:39,587-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 15:11:39,655-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.00","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 15:11:39,655-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 15:11:39,655-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.00', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 15:11:39,656-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.00
2021-05-19 15:11:39,661-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.060000000000000005', 'batchId': '15460726011381073460714874445968', 'bizNo': 'kq97vj0GrdJMsZVLatc1KNIxy4O5mwuB', 'operateType': 'PRESENT', 'requestId': '94201832374486972531606776965455', 'source': 'test', 'ssoid': '2086776969', 'timeStamp': 1621408299656})
2021-05-19 15:11:39,694-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","timeStamp":0,"amount":0.060000000000000005,"success":true,"appId":null,"sign":null,"signType":null,"failReason":null,"remark":null,"extraJson":null,"accountOperateType":"PRESENT"},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 15:11:39,695-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 15:11:39,696-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'timeStamp': 0, 'amount': 0.060000000000000005, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 15:11:39,701-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 15:11:39,736-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 15:11:39,737-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 15:11:39,737-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 15:11:39,737-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 15:50:50,501-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 15:50:50,792-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 15:50:50,954-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 15:50:50,954-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 15:50:50,954-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 15:50:51,207-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 15:50:51,207-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 15:50:51,208-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 15:50:51,243-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 15:50:51,244-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 15:50:51,250-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 15:50:52,025-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 15:50:52,026-INFO-lib.common.case_processor.entry-78-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,026-INFO-lib.common.case_processor.entry-78-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,026-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 15:50:52,026-INFO-lib.common.case_processor.entry-87-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,026-INFO-lib.common.case_processor.entry-87-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,026-INFO-lib.common.case_processor.entry-87-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,026-INFO-lib.common.case_processor.entry-87-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,252-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 15:50:52,252-INFO-lib.common.case_processor.entry-78-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,252-INFO-lib.common.case_processor.entry-78-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643313', 'amount': 1, 'price': 0.08}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,252-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643311', 'amount': 1, 'price': 0.08}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,252-INFO-lib.common.case_processor.entry-78-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,252-INFO-lib.common.case_processor.entry-78-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643312', 'amount': 1, 'price': 0.08}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,253-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643314', 'amount': 1, 'price': 0.08}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,253-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 15:50:52,253-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,253-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,253-INFO-lib.common.case_processor.entry-87-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,253-INFO-lib.common.case_processor.entry-87-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,253-INFO-lib.common.case_processor.entry-87-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,253-INFO-lib.common.case_processor.entry-87-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 15:50:52,262-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT', 'ssoid': '2086776969'}
2021-05-19 15:50:52,290-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'YSWP1LD04Ugsf7ApeOtl5VbZHJjcNiaz', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 15:50:52,336-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519155052208677696938405t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22m5CnAS5G7FtyC%252FpJl18iSM5CnAkm15zYbqEaM5HGC0NjEFk%252BvLxDUbieURp6HnCXVaD06YIjx%252FdVkMQjwn1ifSYtJo7UUCFbiLkr1UHSsh2Rzw%252F9QmIxSHVHX63UyZ7KaXiEE1az3r1gINsEiMid5OfXvlrE0s6DO%252Fl2Fvpae0Q%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519155052208677696938405t\"}","payReqId":"RM20210519155052208677696938405t","status":"AUTH_NEEDED"}
2021-05-19 15:50:52,337-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519155052208677696938405t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="m5CnAS5G7FtyC%2FpJl18iSM5CnAkm15zYbqEaM5HGC0NjEFk%2BvLxDUbieURp6HnCXVaD06YIjx%2FdVkMQjwn1ifSYtJo7UUCFbiLkr1UHSsh2Rzw%2F9QmIxSHVHX63UyZ7KaXiEE1az3r1gINsEiMid5OfXvlrE0s6DO%2Fl2Fvpae0Q="&sign_type="RSA"', 'system_order': 'RM20210519155052208677696938405t'}, 'payReqId': 'RM20210519155052208677696938405t', 'status': 'AUTH_NEEDED'}
2021-05-19 15:50:52,337-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'YSWP1LD04Ugsf7ApeOtl5VbZHJjcNiaz', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 15:50:52,383-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519155052208677696938405t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="m5CnAS5G7FtyC%2FpJl18iSM5CnAkm15zYbqEaM5HGC0NjEFk%2BvLxDUbieURp6HnCXVaD06YIjx%2FdVkMQjwn1ifSYtJo7UUCFbiLkr1UHSsh2Rzw%2F9QmIxSHVHX63UyZ7KaXiEE1az3r1gINsEiMid5OfXvlrE0s6DO%2Fl2Fvpae0Q="&sign_type="RSA"', 'system_order': 'RM20210519155052208677696938405t'}, 'payReqId': 'RM20210519155052208677696938405t', 'status': 'AUTH_NEEDED'}
2021-05-19 15:50:52,428-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 15:50:52,503-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'w7dF3OHx1i6Sep0fIYJK4RrAW2VnoMXP', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '94.210.107.162', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 15:50:52,722-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 15:50:52,723-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 15:50:52,723-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[I6]={'partnerOrder': 'w7dF3OHx1i6Sep0fIYJK4RrAW2VnoMXP', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '94.210.107.162', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 15:50:53,504-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 15:50:54,429-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[M6]=failed
2021-05-19 15:50:55,560-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '8ROfGuoaF7JgjBqV6hA0TyM2NLp3YXKl', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 15:50:55,570-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:50:55,571-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 15:50:55,571-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': '8ROfGuoaF7JgjBqV6hA0TyM2NLp3YXKl', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 15:50:56,301-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 15:50:57,289-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 15:50:58,195-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'F7m98xuBRgUeZvfzGwqL2lkJDbrMdi6E', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 15:50:58,204-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:50:58,204-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 15:50:58,205-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'F7m98xuBRgUeZvfzGwqL2lkJDbrMdi6E', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 15:50:58,947-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 15:50:59,903-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 15:51:00,855-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'nKwCe6Njm3514VUEZRTqgrSBxfk2HMXF', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 15:51:00,872-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:51:00,872-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 15:51:00,873-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'nKwCe6Njm3514VUEZRTqgrSBxfk2HMXF', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 15:51:01,269-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 15:51:02,275-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 15:51:03,290-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'iSQXpN023C7fmWdejovOgVhYbrtncBsk', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '79.76.130.116', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 15:51:03,312-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:51:03,313-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:03,313-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'iSQXpN023C7fmWdejovOgVhYbrtncBsk', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '79.76.130.116', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 15:51:04,256-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:05,345-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 15:51:06,391-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 15:51:06,391-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 15:51:06,404-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 15:51:06,450-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 15:51:06,450-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 15:51:06,450-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 15:51:06,450-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 15:51:06,458-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.060000000000000005', 'batchId': '25045521128454663281314608742987', 'bizNo': 'u6vX8eZmB9E2qQs4gDJjhzKwrNyaHtOI', 'operateType': 'PRESENT', 'requestId': '47941211575517696357408288187647', 'source': 'test', 'ssoid': '2086776969', 'timeStamp': 1621410666452})
2021-05-19 15:51:06,525-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","timeStamp":0,"amount":0.060000000000000005,"success":true,"appId":null,"sign":null,"signType":null,"failReason":null,"remark":null,"extraJson":null,"accountOperateType":"PRESENT"},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 15:51:06,526-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 15:51:06,526-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'timeStamp': 0, 'amount': 0.060000000000000005, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 15:51:06,531-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 15:51:06,563-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.12","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 15:51:06,563-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 15:51:06,563-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.12', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 15:51:06,563-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.12
2021-05-19 15:51:06,565-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 15:51:06,566-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '2031'
2021-05-19 15:51:06,573-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 15:51:06,574-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 15:51:06,575-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 15:51:06,575-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 1.55, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 15:51:06', 'ext1': '', 'ext2': '', 'maxAmount': 75.6, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191551062993707875695877281651676368', 'ratio': 0.3, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': '7A71687D0A5576F216EA23EFEB3C5AB8', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 2, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 15:51:06,661-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 15:51:06,661-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643330', '62643331', '62643332', '62643333'], 'batchId': ''}
2021-05-19 15:51:06,661-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643330', '62643331', '62643332', '62643333']
2021-05-19 15:51:06,681-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 15:51:06,681-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 15:51:06,704-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643332')
2021-05-19 15:51:06,719-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 15:51:07","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.750.01","useableEndTime":"2022-05-19 15:51:06","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.75,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.01,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191551062993707875695877281651676368","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643332","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 15:51:06,719-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 15:51:06,720-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 15:51:07', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.750.01', 'useableEndTime': '2022-05-19 15:51:06', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.75, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.01, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191551062993707875695877281651676368', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643332', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 15:51:06,720-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[G6]={'vouId': '62643332', 'amount': 1, 'price': None}
2021-05-19 15:51:06,764-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643333')
2021-05-19 15:51:06,775-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 15:51:07","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.750.01","useableEndTime":"2022-05-19 15:51:06","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.75,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.01,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191551062993707875695877281651676368","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643333","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 15:51:06,776-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 15:51:06,776-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 15:51:07', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.750.01', 'useableEndTime': '2022-05-19 15:51:06', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.75, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.01, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191551062993707875695877281651676368', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643333', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 15:51:06,776-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643333', 'amount': 1, 'price': None}
2021-05-19 15:51:06,821-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643331')
2021-05-19 15:51:06,831-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 15:51:07","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.750.01","useableEndTime":"2022-05-19 15:51:06","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.75,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.01,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191551062993707875695877281651676368","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643331","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 15:51:06,832-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 15:51:06,832-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 15:51:07', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.750.01', 'useableEndTime': '2022-05-19 15:51:06', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.75, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.01, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191551062993707875695877281651676368', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643331', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 15:51:06,832-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[G6]={'vouId': '62643331', 'amount': 1, 'price': None}
2021-05-19 15:51:06,876-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643330')
2021-05-19 15:51:06,887-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 15:51:07","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.750.01","useableEndTime":"2022-05-19 15:51:06","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.75,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.01,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191551062993707875695877281651676368","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643330","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 15:51:06,887-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 15:51:06,888-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 15:51:07', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.750.01', 'useableEndTime': '2022-05-19 15:51:06', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.75, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.01, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191551062993707875695877281651676368', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643330', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 15:51:06,888-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[G6]={'vouId': '62643330', 'amount': 1, 'price': None}
2021-05-19 15:51:06,967-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'YQGHcDxdF17rmOghbazeBwqoPkVusyWl', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 15:51:06,993-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 15:51:06,994-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 15:51:06,994-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[I6]={'partnerOrder': 'YQGHcDxdF17rmOghbazeBwqoPkVusyWl', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 15:51:07,314-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 15:51:08,264-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[M6]=failed
2021-05-19 15:51:09,318-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'lqHmxWRsiOvKy0GoneIkLZFVN1b7jUr9', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643332', 'amount': 1, 'price': None}", 'voucherId': '62643332', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 15:51:09,334-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:51:09,335-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:09,335-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[I6]={'partnerOrder': 'lqHmxWRsiOvKy0GoneIkLZFVN1b7jUr9', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643332', 'amount': 1, 'price': None}", 'voucherId': '62643332', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 15:51:10,085-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:10,964-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[M6]=failed
2021-05-19 15:51:11,954-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'tmrGnv5kIfoU3gMjK26dOBTH7QXh4PLs', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643333', 'amount': 1, 'price': None}", 'voucherId': '62643333', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '138.187.154.3', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 15:51:11,969-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:51:11,969-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:11,969-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'tmrGnv5kIfoU3gMjK26dOBTH7QXh4PLs', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643333', 'amount': 1, 'price': None}", 'voucherId': '62643333', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '138.187.154.3', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 15:51:12,709-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:13,655-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 15:51:14,718-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'nJ675PqLA3osV8krvHeYR4xmWEfO0Kdz', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 15:51:14,741-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519155114208677696956885t","status":"ACCEPTED"}
2021-05-19 15:51:14,741-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519155114208677696956885t', 'status': 'ACCEPTED'}
2021-05-19 15:51:14,758-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 15:51:14,758-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 15:51:14,759-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "14028193714901"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "m1Cli9gJNMY2df8hbTpKIVR6L4krcFoH"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 15:51:14,819-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "728b3c8f228f4dadb36b2cc6ba5c5213"
s_p: "RDNXdW9oSkVDTUw1SUFHRzBzU3N1VTdYSE9WVkNzZVBrbm5VRWVGUUdPYUZvcUtlTHhnYTk0OTRhdGpXU3E5UFpBY2hrWWVIYXZ6UW5IOGZJejMzSjB5dzFHYnlRQnhmRTIzVjNvVWJlbDdFUkxnWDA2ZkRVWGRic2JKb29jV3d4NXhhMXc0UThFRmdEZElSS2kwMHhZcWdYd1ZESDJNYVNQSGd6bkxSandldm9CckpBaEg4WHNSQnBKVWZLbWFqbU1rY1N2Y0hMelMzNHFIa3E5VWxlV1NLZ2NMSndEV1dyRGJQdFBGTVJUV0ZlRUh6Z3BBQ2RSYmVKUDZ2Y0thTXRBS3RiMWhJclBGYVg2VWZRdDA5bktKMHF1YTdnQ2dick9ZSVc0Z0RIT3BBSjFnWHRrN055enUyVERVWEszQ2R6RVNveUxJa1BlN1F6QTFXTDd5eHIzQUNsZmx6NU11ZE5PTlRZNWpjSGtqUXNBaVNDZWIzWHkzcndZVVZuYkViSWRvMWJ2NTNxMnNRUzh4Rk42YnR1TEkxVXpvMGVQaEdHNlFGd2V3REZOT0F5dG01NHd6S1JTRlBGSXJuTVFMNHB2OTlNenhsYXhCY3ZLQkVKS3Z0bEtLYmNFV1N3YmVybWNhR05WS21HcFFnYVlNa1Y0V3kydVBmdERNVjl2dm9aVms3QVROMHNQaExSVm4xOTJVWVBQNG1JaEdrdzVMQk82aDQzenpGUGJSQWhtTG9xdW1vbmlSZjhnbkZobzhSM0p2Y3Q0OEp0UFN2eFRnbGVZQWN5VVFtUGR4UUJCeDdmVTlSbFVWaFMxZXlQbm1LbVlZOGRBd25WN3hBVk5nWnJ6cDJKRVFLb3phSjIyNVEyRlBsbnA1TkVzSGlEZFJobUM0eUdFWWt1N0VhUk5UWFJlWjJEb0x3TmdoT3NVcFI2Q3J4eFZDOW9ETkRHeUJKTjlMTFQ0ZEkzS2RRbERDRVlvbDl2VXN3dUhiTGVXelhreEw3b0FKQ09OcE9HbDgyeklOTmNPQlRyNTk4SW41SXRMV1BuTnNyU2xLd1FCbGI="
m_p: "8NvV4TT2Du8sdOpCg9rLld9220MCEOlRGOxqszF9S47I282Q2M826gk1iGA2u4qs"
e_t: "1621518674809"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 15:51:14,819-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 15:51:14,819-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 15:51:14,819-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "728b3c8f228f4dadb36b2cc6ba5c5213"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "atjWSq9P"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519155114208677696956885t"
version: "265"
queryType: "PAY"

2021-05-19 15:51:14,886-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 15:51:15,901-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 15:51:15,901-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 15:51:15,901-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "43006590233139"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "wzxUil5cj4GNOp7IKra18ZgbeCVERy2P"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 15:51:15,978-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f8f2065d120c493d977ab7f7f5134939"
s_p: "VTFWc2NxU2hCWjZGUFlReWJOdDZGM2FsdWNySDdmcVZ4YUxpMEs0UmptSEJuTXVhWEFSWUpoY2JhUGRtR2lMczZ3TUJZeDA5Y2RoWHpDZTA4SXVzY0VsUWFKU1lHSGlUWEZvQUhmeDQ1YzNQb2dWVDlSckxFMFpFZ0FMY2RrWnp3ZFpXWVpKRXl0bzJISGlQYUZwRkN5TWJ4M3U1NndxaVo0S2lPWHlMUzlXZFJseGhqVFRKc3V5TFQ4dHNaN0tHMXh4WHdPOVhISnE3cnJRb3dVMUN0NTA5SnFHMURGU0dkY0RCUTkzVE9kQmxhT2JrNE9OZWwyVG5rTG1QR3JVaXBBWDBMeW1TTEJSWndJdnJLMTR1d3FMUE01OWlqRnVZYkduM0RUdWZTR1lBTzJKSXh6TzlaUW9rUjFjdEpxVEdMaUd1UkQ1S0pzRnI4ekxTNk44bzNRVG9CcnQzSlVWUmQxY2ZPR3d4OFBYU3JSaDdOQ0Y5elAzSEhjZ293bWFWZ2NBa3NBb2tMTUdXek9XMW15RGg4dlNJdTZYRVZidVk5QVA4OEZWaTIzRmF4M1plOVRuUkJlWWRQOHZOMVhQSmNTSEs4QlI2TlozQ0g1d00zUGpSQjlscUZ2T2hSdDFLdzFraGlDTG5hYWdYYTBSeDVWSVVDeTBPb3B3ZUdLWVhjZWZscmxHemY3Y2U0OVN4eDZFWU1BVWpZcnY4czIwbFNWdEJZcVZrMlBXMzZvZURLa1ZBaWFSRE5FZUR5TngyRnQ2azJicmEzY05SVmVPTkVOVmZJRXRFZWhvalNJVkd0RFpjNFF6dmxyVkRVdk9NSHdKZ0hxbTdYZEN2ckFnU0NTMFlWak40MHY1bkdZMHFCTDdTSGhoY2ZaeU5YcFg2MnVndGN0aFdoOTVzS3VUdkZEdkgxSEh0RU5LTFRjMk9CcUdwZXVzejdrcnB4ZFpYUEhqRFZZT1hKRzF3VVlUUjE2YXpzMDVMZTd6RVoxTU0wSE1QYWt0ZWtSU25CSmQzWU1BSTVQRmlCUGRDd2pXa3k2bmhwdnNLUnA0OG1nYTg="
m_p: "63HRr52LS6F3KlL26N6103zplHcmMEs29ElW9G5T75103Z70tC01BkSuAA5G9Vxl"
e_t: "1621518675969"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 15:51:15,978-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 15:51:15,978-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 15:51:15,978-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "f8f2065d120c493d977ab7f7f5134939"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "SYGHiTXF"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519155114208677696956885t"
version: "265"
queryType: "PAY"

2021-05-19 15:51:16,028-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 15:51:17,043-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 15:51:17,044-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 15:51:17,044-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTk2MTMwMzk0MjksImlkIjoiMjA4Njc3Njk2OSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiWGZobGxHd0xudWhFQUVDK3dTaHJyazVKTG45Z3lLK2RPTVh6RnJVZys1ekdNNGdCQ0JzMlpBVmxldE0yUmd2KzhPZUg4OHgvMjFPQ21Vcy9DS2ZRdlY3bXd3b1JNeS9CL0JEOVBJTWk5a0k9In0.MEYCIQCIEt8c-xXZBxJEoXWqJ8p2eEt01Svfe6X0bFUhinsM6AIhAPYFVBpF4GsPVumubeUgjevhJzTJwiSBFiQvLQbbdApT"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "83368009281431"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "at7915XAmONyF4S0bDr3YkRKdfJPo2Vu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 15:51:17,107-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "664e9dbd2afc4179a3bce1c90bbbe1e9"
s_p: "ZHlOQTlYeXRSd0FNc09IVTBlR053Nk9tUFUzaERtbHREY2k2c1k2cTBrYnNDVE0yTXZ1VVBOZG45b29tZlVXYlpQdXJBUEtxVEw4WGR5cFE3OWowSU1FaWZIOVRWQTBMcHFqQVdTeEQ0MUlXQlg3Um9waEJSNTBoTGdhanpTVmMzUmpjbHF1RGR5eWdsdGZqNDgzQXRMdlViWU5NQ2hiQ1lSREVYTDU5R1hLaTJXWWdwTWVDM09QMEwwNVZvM2ZaNmxzVUZyWWRLcm9TejRUQTMyMFlzRXBIUmNidUFROEpVZndONUdvMWlHTGN4dEg3OGJWODUxZEZ3eFdlb0FNbkNIeW9hZVE2a3kwb1FESTZlMlF4RHF0UHY2YVdYQmw1UEdETGdldzRWVjlmc1NKeDlBV083VEE1VTl0ZWpCb1BCY2ZITXlPMVdHM3BxMk9ZbnYzSDV6SnhDRm1LUVNLWWhCS1JCNEVrbnN0eVZZaDhoVzI1N3c2S1I4eW9aRnY2bko1VEl1OVA5UDd2TWNMVjB2b1IwNEp5a3V3aUNLdGpGWDE4R2FLWVNiRDFUVXB5cWdWWEt5b1RIR3d3REZNMlBsUTNFbVBUT1RPdDF3MXZvZkhTZzBNNGg3S2NiSGhaRXVma1B6TXpQbkptR2l2ZzdNNVg0d1M1aVZSNGh1TktNdFNJd2RDV01zVUlsRmtvNzhTekwwSUV3WERhSlkwQUNCZEFRdVpjTGxBYkVCU0JadFNvYkVXUTNzZG9FcnlOdmFPZDB1Qld2OFAyMEFwOVJHOUN2dzlGUjdhOHN6Qm5uNVRKVnhyaVc2OTk4UXUySE1XVGEyU3RlVHFrMkVDMlZ3d0ZOTVFxNDJxdWRSMllmWHVFeHhyTmFQUzlQOElEa243QVAxU3RDSEFKR3FiR1R1VVpyUm1wQkRVZEdLWmNzRmdVTldsNTRtTkJFWmg3NTlzSXBBdk5wU3ptWHVBVkJYN1FjMVV3Umc3WG9rNDdGYTBlMlM3enFkdTFkU1Y1QkI5T0d5ZWZ2a0dRVHZUWVJvZkVISGpFbGxWbmI2NlU="
m_p: "ImhA6h0n396146j80sGn6z3ON5e70S6q3640WXV4BOi09SA361rpL0tuLAxx3pK6"
e_t: "1621518677100"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 15:51:17,107-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 15:51:17,108-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 15:51:17,108-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "664e9dbd2afc4179a3bce1c90bbbe1e9"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "bsCTM2Mv"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519155114208677696956885t"
version: "265"
queryType: "PAY"

2021-05-19 15:51:17,163-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 15:51:18,164-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[I6]={'partnerOrder': 'nJ675PqLA3osV8krvHeYR4xmWEfO0Kdz', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 15:51:18,217-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[J6]={'payReqId': 'KB20210519155114208677696956885t', 'status': 'ACCEPTED'}
2021-05-19 15:51:18,268-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[M6]=passed
2021-05-19 15:51:18,355-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ceI42kOSw5CxUl7j8HfQBRAYm1bDgdPh', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643331', 'amount': 1, 'price': None}", 'voucherId': '62643331', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 15:51:18,368-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:51:18,369-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:18,369-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[I6]={'partnerOrder': 'ceI42kOSw5CxUl7j8HfQBRAYm1bDgdPh', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643331', 'amount': 1, 'price': None}", 'voucherId': '62643331', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 15:51:19,199-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:20,241-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[M6]=failed
2021-05-19 15:51:21,338-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'TCEQFIo7YX8NMlVznDPimhJApZ1Hwty2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643330', 'amount': 1, 'price': None}", 'voucherId': '62643330', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 15:51:21,352-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:51:21,352-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:21,352-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[I6]={'partnerOrder': 'TCEQFIo7YX8NMlVznDPimhJApZ1Hwty2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643330', 'amount': 1, 'price': None}", 'voucherId': '62643330', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 15:51:22,074-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:23,035-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[M6]=failed
2021-05-19 15:51:24,078-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'B3Omoa80MDYpUrhFiTe5zQPVux61fbk2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 15:51:24,087-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:51:24,087-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 15:51:24,087-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'B3Omoa80MDYpUrhFiTe5zQPVux61fbk2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 15:51:24,798-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 15:51:25,800-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 15:51:26,927-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '1mlaTohqBHjIWvbcJFKAQt9ZzEpuxgR4', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 15:51:26,960-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:51:26,960-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 15:51:26,961-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': '1mlaTohqBHjIWvbcJFKAQt9ZzEpuxgR4', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 15:51:27,732-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 15:51:28,776-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 15:51:29,852-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Z61YlgRGz0manxe3yJFjSuw857CcHKiq', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 15:51:29,868-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:51:29,868-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:29,868-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': 'Z61YlgRGz0manxe3yJFjSuw857CcHKiq', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 15:51:30,564-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:31,523-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 15:51:32,512-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'hfwLEAD6o38W7Hj2dBOST9xsrM0YnRyz', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '38.143.253.178', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 15:51:32,569-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:51:32,569-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:32,569-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'hfwLEAD6o38W7Hj2dBOST9xsrM0YnRyz', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '38.143.253.178', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 15:51:33,439-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:34,475-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 15:51:35,561-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'YDfILyucE825Q4hB7pwW9s1tSkO6PXdi', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 15:51:35,579-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:51:35,579-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:35,579-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'YDfILyucE825Q4hB7pwW9s1tSkO6PXdi', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 15:51:36,334-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:37,356-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 15:51:38,407-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'hOaq5c7dBnsMbDrmX4RQfySUpJVHIKgl', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '126.44.209.238', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 15:51:38,422-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 15:51:38,422-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:38,423-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'hOaq5c7dBnsMbDrmX4RQfySUpJVHIKgl', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '126.44.209.238', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 15:51:38,917-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 15:51:39,988-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 16:12:27,041-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 16:12:27,324-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 16:12:27,411-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:12:27,411-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 16:12:48,417-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 16:12:48,691-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 16:12:48,808-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:12:48,808-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 16:12:48,808-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:12:49,095-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:12:49,096-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 16:12:49,096-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:12:49,142-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 16:12:49,143-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 16:12:49,150-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:12:49,918-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 16:12:49,919-INFO-lib.common.case_processor.entry-78-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:12:49,919-INFO-lib.common.case_processor.entry-78-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:12:49,919-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 16:12:49,919-INFO-lib.common.case_processor.entry-87-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:12:49,919-INFO-lib.common.case_processor.entry-87-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:12:49,919-INFO-lib.common.case_processor.entry-87-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:12:49,919-INFO-lib.common.case_processor.entry-87-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:12:50,147-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 16:12:50,147-INFO-lib.common.case_processor.entry-78-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'YQGHcDxdF17rmOghbazeBwqoPkVusyWl', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': ' 5003 参数异常:{code=100;message= 5003 参数异常}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:12:50,147-INFO-lib.common.case_processor.entry-78-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643332', 'amount': 1, 'price': None}, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': 'lqHmxWRsiOvKy0GoneIkLZFVN1b7jUr9', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643332', 'amount': 1, 'price': None}", 'voucherId': '62643332', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:12:50,147-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643333', 'amount': 1, 'price': None}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'tmrGnv5kIfoU3gMjK26dOBTH7QXh4PLs', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643333', 'amount': 1, 'price': None}", 'voucherId': '62643333', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '138.187.154.3', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:12:50,148-INFO-lib.common.case_processor.entry-78-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'nJ675PqLA3osV8krvHeYR4xmWEfO0Kdz', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '{"payReqId": "KB20210519155114208677696956885t", "status": "ACCEPTED"}', 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': 'passed', 'comments': None}
2021-05-19 16:12:50,148-INFO-lib.common.case_processor.entry-78-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643331', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'ceI42kOSw5CxUl7j8HfQBRAYm1bDgdPh', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643331', 'amount': 1, 'price': None}", 'voucherId': '62643331', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:12:50,148-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643330', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'TCEQFIo7YX8NMlVznDPimhJApZ1Hwty2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643330', 'amount': 1, 'price': None}", 'voucherId': '62643330', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:12:50,148-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 16:12:50,148-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'B3Omoa80MDYpUrhFiTe5zQPVux61fbk2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:12:50,148-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': '1mlaTohqBHjIWvbcJFKAQt9ZzEpuxgR4', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:12:50,149-INFO-lib.common.case_processor.entry-87-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': {'partnerOrder': 'Z61YlgRGz0manxe3yJFjSuw857CcHKiq', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:12:50,149-INFO-lib.common.case_processor.entry-87-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'hfwLEAD6o38W7Hj2dBOST9xsrM0YnRyz', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '38.143.253.178', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:12:50,149-INFO-lib.common.case_processor.entry-87-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'YDfILyucE825Q4hB7pwW9s1tSkO6PXdi', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:12:50,149-INFO-lib.common.case_processor.entry-87-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'hOaq5c7dBnsMbDrmX4RQfySUpJVHIKgl', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '126.44.209.238', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:12:50,158-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:13:08,185-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 16:13:08,496-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 16:13:08,599-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:13:08,599-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 16:13:08,599-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:13:08,832-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:13:08,832-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 16:13:08,833-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:13:08,866-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 16:13:08,867-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 16:13:08,875-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:13:09,638-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 16:13:09,638-INFO-lib.common.case_processor.entry-78-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,638-INFO-lib.common.case_processor.entry-78-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,638-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 16:13:09,639-INFO-lib.common.case_processor.entry-87-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,639-INFO-lib.common.case_processor.entry-87-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,639-INFO-lib.common.case_processor.entry-87-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,639-INFO-lib.common.case_processor.entry-87-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,869-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 16:13:09,870-INFO-lib.common.case_processor.entry-78-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,870-INFO-lib.common.case_processor.entry-78-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643332', 'amount': 1, 'price': None}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,870-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643333', 'amount': 1, 'price': None}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,870-INFO-lib.common.case_processor.entry-78-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,870-INFO-lib.common.case_processor.entry-78-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643331', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,870-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643330', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,870-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 16:13:09,871-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,871-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,871-INFO-lib.common.case_processor.entry-87-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,871-INFO-lib.common.case_processor.entry-87-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,871-INFO-lib.common.case_processor.entry-87-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,871-INFO-lib.common.case_processor.entry-87-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:13:09,879-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:13:09,929-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '2Fn7XpL6lIgZ5twGBcqJ0fOjNUKhAsRo', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:13:09,986-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519161309208677696983147t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22QzKRdEhXN0AoPbG9qSINezVaR1nvjW5KZhPY3XcLJrm0fz61MnjFYnzr6ACKW%252FQmhBh%252Bp%252FDhloidBoW94Mg%252BNRaBU0naRl79ZOwZyfb6T8xDgp6%252BX8A4wa9J7NBroJP0GyaNlGhGXGx5%252FL2YBijvxI1ob6euFWXf513DrloAnHA%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519161309208677696983147t\"}","payReqId":"RM20210519161309208677696983147t","status":"AUTH_NEEDED"}
2021-05-19 16:13:09,988-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519161309208677696983147t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="QzKRdEhXN0AoPbG9qSINezVaR1nvjW5KZhPY3XcLJrm0fz61MnjFYnzr6ACKW%2FQmhBh%2Bp%2FDhloidBoW94Mg%2BNRaBU0naRl79ZOwZyfb6T8xDgp6%2BX8A4wa9J7NBroJP0GyaNlGhGXGx5%2FL2YBijvxI1ob6euFWXf513DrloAnHA="&sign_type="RSA"', 'system_order': 'RM20210519161309208677696983147t'}, 'payReqId': 'RM20210519161309208677696983147t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:13:09,988-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[I6]={'partnerOrder': '2Fn7XpL6lIgZ5twGBcqJ0fOjNUKhAsRo', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:13:09,988-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519161309208677696983147t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="QzKRdEhXN0AoPbG9qSINezVaR1nvjW5KZhPY3XcLJrm0fz61MnjFYnzr6ACKW%2FQmhBh%2Bp%2FDhloidBoW94Mg%2BNRaBU0naRl79ZOwZyfb6T8xDgp6%2BX8A4wa9J7NBroJP0GyaNlGhGXGx5%2FL2YBijvxI1ob6euFWXf513DrloAnHA="&sign_type="RSA"', 'system_order': 'RM20210519161309208677696983147t'}, 'payReqId': 'RM20210519161309208677696983147t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:13:09,989-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 16:13:10,023-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'giNxLPe59qFlEy3IcDKW8pd4XSM7V2Zr', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '171.145.188.180', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:13:10,331-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19161310277767e35a139f4476501e0000&package=3168317905","payReqId":"RM20210519161310208677696904253t","status":"AUTH_NEEDED"}
2021-05-19 16:13:10,331-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19161310277767e35a139f4476501e0000&package=3168317905', 'payReqId': 'RM20210519161310208677696904253t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:13:10,333-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 16:13:10,338-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 16:13:10,339-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[2427251556780755842705660522]]></transaction_id>
<nonce_str><![CDATA[RucjFE0DA3YbXGKT6PS5on1yNsx7gZMa]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[DF24359A1915D6E00F0F43482BB74E8E]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519161310208677696904253t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519161310]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 16:13:11,807-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 16:13:11,808-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 16:13:11,822-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:13:11,823-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:13:11,823-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "78481829769246"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "AzeO24tvGZCVgXPpH5BlS7KLJduosIab"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:13:12,194-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "22d2fcdb47b6460f8529cdee4b825385"
s_p: "RzBtSnJveFVlV3FzU1BoeXNFV2ZxazdSazVqT2tDMEFobThLUE5xd1FPM3BLbTVaRHdCTWF0VGdJNkVLUmk2TVc5Sld6eWhkcEJ6Vm1vdlBGZjN1VmxpdzJSb01jUDY3dEZmbFcyT2Q4alhZQjVZdzd5WFRwTGdXSVhOZXRBdjF0ZjVWWGVackN3Y1Z1TEg1UlZ5bDFrZDlsVFVsOUxRV21nNXZVVEV1djRUdVgweVlzeVRLM1hBRmZEakJQRUYxWld5MUZUeDFSM2laQnVRTHNKdkxWekd2aUlZbVRHZkM3eDl5UjBNdkhObDZHVXI4VHQzbU1KVDZSRkdjTDVpaUtnUkZZMFp5b3VodEM2VkVKbWZQVU1VOVRtdHhhenlZMUxMVGZySXRHcWlPMlZaUmY2NDZxS21UZjJNMEtCYkQ4OEtsb3FHbThUOGdkak5hSlFVaFZPTHpYQ3RaQnY4WVlzcmIzWTVEWWVOTlhteTRUc2NIcmx5QTVOQjBDaGhOcWFCd3ZZU1dlUGpaOGlnMEZDMnU2THZJZTk0OWtreGZDQ1RpS2FlendFRDRwSHJRQXc1NndVa3d6NjN1Rk1RSE1IamZ4R3gzU0d6ME9xZlBEVEF4eWF1TFBZaEJqSFdHaHRNWEk2OEd1T3plZFNxMVRjT05MNHpuQTAzTFJZM3BFWnFoRkhnTGlVNDQ1MXlzZ2ljTHpHbTNJY2dBRjVFZXZjNnI4ZUQ1dU5tT1JGcEdndGhuTUNGRk1jWDZvQ0ZRN093QlAwRFk0VVlXcnlzNVVBcTlZRGNkUDNWc2tyNWNIa0hwSHRJejNLQXFOeXBtblFPZGNaSkJoYzNYcEUwdE45VEgxMUdXUk9Qc2NZWFoySkd4RmdyUFcwdXpXRU91MU9YY01zYVdsd2RwVUdHVmxiT0F0WXdlOUN0ZDFpZGhVY2pEZnhMajBFUk5kcFc5SWgwb3lRaDBkcXQ5VEMyaHZWV28yY0JwV3ZNTzgzOGlFbDFSSHphTU1VbTdERVQ3dUpqMG5YdGRKUUpQd1VNdHlabkRCa2JwSDM5TVpxWlE="
m_p: "26Vo58M0Ri33y2Wd7sBED46L36367C98brDKb7tMOABg68pdC7H82t26I2A85FdU"
e_t: "1621519992182"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:13:12,194-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:13:12,195-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:13:12,195-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "22d2fcdb47b6460f8529cdee4b825385"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "0Ahm8KPN"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519161310208677696904253t"
version: "265"
queryType: "PAY"

2021-05-19 16:13:12,279-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 16:13:12,281-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519161310208677696904253t"
2021-05-19 16:13:12,288-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5242, 'pay_req_id': 'RM20210519161310208677696904253t', 'notify_id': '2427251556780755842705660522', 'partner_order': 'giNxLPe59qFlEy3IcDKW8pd4XSM7V2Zr', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '171.145.188.180', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 16, 13, 11), 'success_time': datetime.datetime(2021, 5, 19, 16, 13, 10), 'modify_time': datetime.datetime(2021, 5, 19, 16, 13, 12), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 16:13:12,288-INFO-FizAssert-31-订单详情：{'id': 5242, 'pay_req_id': 'RM20210519161310208677696904253t', 'notify_id': '2427251556780755842705660522', 'partner_order': 'giNxLPe59qFlEy3IcDKW8pd4XSM7V2Zr', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '171.145.188.180', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 16, 13, 11), 'success_time': datetime.datetime(2021, 5, 19, 16, 13, 10), 'modify_time': datetime.datetime(2021, 5, 19, 16, 13, 12), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 16:13:12,289-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 16:13:12,289-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[I6]={'partnerOrder': 'giNxLPe59qFlEy3IcDKW8pd4XSM7V2Zr', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '171.145.188.180', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:13:12,289-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19161310277767e35a139f4476501e0000&package=3168317905', 'payReqId': 'RM20210519161310208677696904253t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:13:12,290-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[M6]=passed
2021-05-19 16:13:12,319-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'kwcx4QsOT2YAFztVIu931EmDnMbrRvLf', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:13:12,332-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:13:12,332-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:13:12,332-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'kwcx4QsOT2YAFztVIu931EmDnMbrRvLf', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:13:12,333-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:13:12,333-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 16:13:12,363-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'RphuLzPaH3CkvA2l4VYw8X6E1rotK9I0', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:13:12,372-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:13:12,372-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:13:12,372-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'RphuLzPaH3CkvA2l4VYw8X6E1rotK9I0', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:13:12,372-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:13:12,373-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 16:13:12,405-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'lhmcOX0MwZguNdfkJtjLb68iyaQ93UIv', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:13:12,420-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:13:12,421-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:13:12,421-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'lhmcOX0MwZguNdfkJtjLb68iyaQ93UIv', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:13:12,421-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:13:12,421-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 16:13:12,451-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'qfsJz62SQWLHBGxvFkr3htTVwCa08ocy', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '98.236.122.69', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:13:12,677-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:13:12,678-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:12,678-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'qfsJz62SQWLHBGxvFkr3htTVwCa08ocy', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '98.236.122.69', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:13:12,678-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:12,679-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 16:13:12,707-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 16:13:12,707-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 16:13:12,720-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 16:13:12,773-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.12","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:13:12,774-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:13:12,774-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.12', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:13:12,774-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.12
2021-05-19 16:13:12,775-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 16:13:12,777-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '5456925'
2021-05-19 16:13:12,781-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 16:13:12,781-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 16:13:12,782-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 16:13:12,782-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 375.66, 'appId': '5456925', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 16:13:12', 'ext1': '', 'ext2': '', 'maxAmount': 433.2, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191613120678838787051391026187984851', 'ratio': 0.27, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': '220BD8D991668B0156FC28232B12754D', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 5, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 16:13:12,853-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 16:13:12,853-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643335', '62643336', '62643337', '62643338'], 'batchId': ''}
2021-05-19 16:13:12,853-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643335', '62643336', '62643337', '62643338']
2021-05-19 16:13:12,869-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 16:13:12,870-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 16:13:12,882-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643335')
2021-05-19 16:13:12,894-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:13:13","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":4.33,"source":null,"couponDescribe":"0.27","useableEndTime":"2022-05-19 16:13:12","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":3.75,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191613120678838787051391026187984851","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643335","settleType":"0","status":"NORMAL","ratio":0.27},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:13:12,894-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:13:12,894-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:13:13', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 4.33, 'source': None, 'couponDescribe': '0.27', 'useableEndTime': '2022-05-19 16:13:12', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 3.75, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191613120678838787051391026187984851', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643335', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.27}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:13:12,894-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[G6]={'vouId': '62643335', 'amount': 1, 'price': 4.33}
2021-05-19 16:13:12,900-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643338')
2021-05-19 16:13:12,910-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:13:13","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":4.33,"source":null,"couponDescribe":"0.27","useableEndTime":"2022-05-19 16:13:12","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":3.75,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191613120678838787051391026187984851","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643338","settleType":"0","status":"NORMAL","ratio":0.27},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:13:12,910-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:13:12,910-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:13:13', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 4.33, 'source': None, 'couponDescribe': '0.27', 'useableEndTime': '2022-05-19 16:13:12', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 3.75, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191613120678838787051391026187984851', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643338', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.27}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:13:12,910-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643338', 'amount': 1, 'price': 4.33}
2021-05-19 16:13:12,915-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643336')
2021-05-19 16:13:12,924-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:13:13","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":4.33,"source":null,"couponDescribe":"0.27","useableEndTime":"2022-05-19 16:13:12","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":3.75,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191613120678838787051391026187984851","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643336","settleType":"0","status":"NORMAL","ratio":0.27},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:13:12,924-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:13:12,924-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:13:13', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 4.33, 'source': None, 'couponDescribe': '0.27', 'useableEndTime': '2022-05-19 16:13:12', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 3.75, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191613120678838787051391026187984851', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643336', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.27}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:13:12,924-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[G6]={'vouId': '62643336', 'amount': 1, 'price': 4.33}
2021-05-19 16:13:12,931-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643337')
2021-05-19 16:13:12,941-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:13:13","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":4.33,"source":null,"couponDescribe":"0.27","useableEndTime":"2022-05-19 16:13:12","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":3.75,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191613120678838787051391026187984851","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643337","settleType":"0","status":"NORMAL","ratio":0.27},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:13:12,941-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:13:12,941-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:13:13', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 4.33, 'source': None, 'couponDescribe': '0.27', 'useableEndTime': '2022-05-19 16:13:12', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 3.75, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191613120678838787051391026187984851', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643337', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.27}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:13:12,942-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[G6]={'vouId': '62643337', 'amount': 1, 'price': 4.33}
2021-05-19 16:13:12,970-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'd6ILJUrp3hsK0Ti9aEPxfH2QRF7zguAt', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:13:13,006-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 16:13:13,006-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 16:13:13,006-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[I6]={'partnerOrder': 'd6ILJUrp3hsK0Ti9aEPxfH2QRF7zguAt', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:13:13,007-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 16:13:13,007-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[M6]=failed
2021-05-19 16:13:13,042-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'rZTze43BFfkNUHpsoW2j7PtISnlCyJ8g', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643335', 'amount': 1, 'price': 4.33}", 'voucherId': '62643335', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:13:13,058-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:13:13,058-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:13,058-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[I6]={'partnerOrder': 'rZTze43BFfkNUHpsoW2j7PtISnlCyJ8g', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643335', 'amount': 1, 'price': 4.33}", 'voucherId': '62643335', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:13:13,059-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:13,059-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[M6]=failed
2021-05-19 16:13:13,102-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'uoh0r7YWjaK5UdLA9zw8DgQEeb4GmqcJ', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643338', 'amount': 1, 'price': 4.33}", 'voucherId': '62643338', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '168.154.208.95', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:13:13,128-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:13:13,128-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:13,129-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'uoh0r7YWjaK5UdLA9zw8DgQEeb4GmqcJ', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643338', 'amount': 1, 'price': 4.33}", 'voucherId': '62643338', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '168.154.208.95', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:13:13,129-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:13,129-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 16:13:13,161-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'YcKzRqh936MpHom2uFStDV5J48d1WLrn', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:13:13,179-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519161313208677696923200t","status":"ACCEPTED"}
2021-05-19 16:13:13,180-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519161313208677696923200t', 'status': 'ACCEPTED'}
2021-05-19 16:13:13,194-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:13:13,195-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:13:13,195-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "46943977082548"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Ri5h9j3pJFurXSlm4Bc7DCHTMALzGPNx"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:13:13,260-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "3bc25fcd321f46b2b6b6dafe3156766b"
s_p: "S3A4TXZRNW4wWVBOZ2VBUXpVZlZRejVFZjJDUXpMYVBKZnMzQUcyaDI3aFVwZlJrSjZNTTdkRlh2c3NmN3h2M1hrVGVUZXVIbmhWWjZKOGFlUGhlbjRQNU1TSVFRYThybml0OTVxeU1PMVFvNnUzWHR1bVZFTjh3aE5DTVlZZURPd09nS2xvSXZCYml2SElZOUZiOU5wZENUWEEzRGMwa3lOc3dQZFN3T1FwUml0UTlaQVpCaTUyZVJIcmJJZjVyd21aUGVBN1JNZk9IMVFVN3V4RFQ2RmZsbEtCS1NLQld1Z1ZyWVl5MVlianZZbDV2SEo3QVB5YjRtM0ZoMWM4MlRuNDFubmxURjdXemJwZXVka1ZJSmpoY0lxQWhPb1ZTSlNabmhJMWdHMTUzRDdCeTVIR0xpem5OeGN5akJnM0NWN1NiT1A5S28wSms0dUxkT05pbndMNWJlanBod1JlN1ZjaHNtSE5rc1FBNGZQV2x6ZHhjeGc0dkZYek1XczlPREx4bWJQS3ZNTExsVDdWdDlNbkpmYkJreW1MTlZRd29JcFl6MWNxVlpkREJVNGZkdTRjamtrVEhHMGNhaU9USDhHSUN5aFJIbjFwbmdyRTlGQ2VHWXdHejJjb05GTzA2M21oek9tM2dobHM0ZFJwS3NTTG1kc0l3ZmF0ZVVSTm8ydDMyZHVxUFJTSkhoNHV0SVVqN1hXanphYW43RHE4N0FuNnRYZ1lnbWJJZXFCQ2RSSDJqc2pWWkNvZGpvR2hxM1o1RUVkODBLOXg5Nk9vU296SXZFa1FBa1FLbXJRRWF4Tk9xc21CU1N4SUNscFoxRUg5SDNRTlplTFMzd05USkxYZFNJaEQ4NnhIUVBybTdpMllpNllFVkN2bDhnQlI4dGp2dXc3QUZiQ0c0M3p4dWtFOTBwRGMwWEF1ZGREWUdQdk9XZmVKNVNvQkJrWkNWSUxJWm5VVUJkYzBKV294WkUxcU8wUWhWQUJEQzZ2ZDFwdzJXTERJbmU1WjBCNWx3aWJZUUpwVmM0ZzBiS2JWbmNQSTd0WE9XelBQSW14dUM="
m_p: "X6JVzU51X2JM2O54qRjM0f7C7FUcNlbnS9282J26w6A4089f40L020F6K5ja6gC8"
e_t: "1621519993254"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:13:13,260-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:13:13,260-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:13:13,261-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "3bc25fcd321f46b2b6b6dafe3156766b"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "O1Qo6u3X"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519161313208677696923200t"
version: "265"
queryType: "PAY"

2021-05-19 16:13:13,332-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 16:13:14,346-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:13:14,347-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:13:14,347-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "73552436900742"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "FH1eWIckKXumvR8qLljMOJ04sVSwobG5"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:13:14,971-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "3011bea651eb4cfc8f2523bf8cfe68ea"
s_p: "ZFVQYm1ucWg3M0VMSmVmeTZkYkZ5YW15OExYUVFxTVloSUNRdWFUb1pGN2F4ZFAzMlRTWHQyVGIwSHdLWTM2Rmo2dlQ4c3hueVhrZFRiaTAwd1JBdlBocFFBTmxhSzkxd2J6UkhEOVU1dENlVFJZTlRnNERIUzZBcVZ3eWlmVHU4UkdvUEZKVThtMWJYcWZRcWRUR3hwSVFyUjFNOTQwbUU5Qm9CTWZGc3Q4SHVxclpOTzE1ak9MNTFzajNJTlAwM0NSaVEzTlpLSEVJdVpqOGFtcjlMc2RxZDdZeWRhQ1BWcVVoVDh3Tkc2UkNSNGE1TldvTkhIakhocXl2SEp4QnJMQnNqRkpmRmNZb0RLdlpVOFZvcEZTUk1uRXpyRnpibktOQzIzUktkbTRhNkhFazVrWWFoMTZwcHp2SEJpNmJZbTVpSEpLdkcxbERTTHQzelBRc29jbjVDMTJ0TXlVc0luNXhtVnJxQjR3NUN3azZTZTZYT3ZwcDgyUUg1OHFPZGVicTFWSjdKck9sS1prWUYxOENmVE8zY3duR1dFdUdHQ0FLV0ZNOHNnOVA4RGVKdm1JZnlrTGJEclFJN3dxd0picUdOMlEzUER5Mms0OWQ5VkRzYWNPcElKUDk0UUJLRlRaRGpuVDg1VjhiMmVOc0lLYndsOXMzT2FsNlhZYjY2THg5UUtselZ0ZFI3cW1oaFJJNjRKblJWOHBWbFdDeWhRUEhDalJtNDJVM0xEOHptZFdUNVB0VE9RdFp1WGdFbE1hSExGU1h0dlVjaUhEWVdycEt0TERlaEc0ZzJwcXFBT0ZPWDVBZmJBS0RPVXFXYXRSWWEzcGZNOW5KUDBLU0RQRUUzTHh6SXBpOVprSldXcHdjYmFqc2pDNU9BRW1NbHQwaTU3RlhMaXh4cXl1SlNxaXFadFJvTlRhTzkyUjg5WWl2cFJRZ0xBUUgzbDJ0Mzc5NjhDSDJsekpnZnBiWXdUelE5a1JRU2V0RWR0TGpCRDdkbVRZU2dhZDNSTnM2aVhMa1p2aVB1WHBPUHlTUURndVYyV1pGYjJhT3hwRng="
m_p: "610j7uALRgWkhqRTv28H3S7I2bGa66AH8Ee5xl8669589gIZGpS899j54c8lTYpt"
e_t: "1621519994947"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:13:14,972-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:13:14,972-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:13:14,972-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "3011bea651eb4cfc8f2523bf8cfe68ea"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "BoBMfFst"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519161313208677696923200t"
version: "265"
queryType: "PAY"

2021-05-19 16:13:15,049-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 16:13:16,080-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:13:16,080-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:13:16,080-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "20327134660044"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "S5AmlkEpegUdbfLjYovFzh78IqyHNrGc"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:13:16,148-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5387870899c448ae9d8b3b489497b71a"
s_p: "dlQ3T3JyU2ROZkhWTVZ2enR2ZFV6TzVMT3hkSm5FZTNYc0Q1YktUcWU3MG1McTNiQnZLOTVKbW5zc1dWbnVNMzRmMnBodUVwclpGYnBGck5XRHB6dFRTa2lCSHNWeVFFYk1qdXRtSFNuZ2Zhb3ozMDdSN1gyc0J5RFFyZDZaQ0NIbk9iRGlFTzBQa00xZ1B1OXN6ajZVVjNpQXZrVXpUeTJpbXNmTXlURmMzZllVZzBXb3JMMTBIdE9Pb0FMdUQwMTNhZHhUbk5DeG5ubGJNSEZzV204UzE4amVrUUJwRUVYVUZSTWJUQTFWV3J3d0kxV2x0VGtPeENTOER6OHBuU1FpcE1HMnp3YjVsWWlzZ3FuQm5MbGo0bnVMMk9Mc1lzckxGS3kwYmgybmh4WkRvWXVEZDRPMjJyd2dOOG9raEdXU3VLeko1RVhTMmtXeUI3MXRUdmNwZGNMWHlPM2dkdW5hODcyeHBoVzV4U1FCcnJKc2RLOVNXcTl1NWxHaTBhRXpTNXlYVWw1QWx1bWtjY0VYRW0yZzlySGtWT2hXMFVyRnpxaExFWTliQlZDOGVnSFAzZEVaRWdpRUowbEo4NGZqaE5jTnRBU2prSGZucUZIWDFJZnRWVlpZQThZYVFlV29ESzdCOGVWenV5NUVjc1hEM2lSYkZiTHQyMlluNFcxRkVYNENqQVNKcEZlQldpNEQ5SUdZQ1BQZzBEeGlucURNUVJtZmsxVzY4NWFVRGxtSHpQU2kwSnpUeHA5c2JENXpRY0h5R3VvSlFKMVM3T3lzQ09xYnd1MFR0ZDZ6Z3A4bnpKc01uZlF3d1FOMENWM28xY3l5UUZMNkI1WmllcDR2UWFBcE51bjV4SlprSXJ1V2JnVWR6RUJtYXM0MWZzZVhscDY5TlZtZmozNUFBQVE4RjVvVEpiejFRenBVWTBucFpuTnYzMmV6OEVkblRITHY3Yll3VXlIdnlEUVdxNkVaYk1CYXZ0V3Q3QVU1SzJFdWF4Wk9DZjAybDI5NGJqa3hQdXY2eGVkZDRXaHZwck1sQnhwS0h5eGhRT3hvRmY="
m_p: "4Gcstzd9T0doO2p78zPV095N6bKX3VR6HUBJ0kfDi7wBq42ookRkRCAorHo2ryXL"
e_t: "1621519996138"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:13:16,148-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:13:16,148-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:13:16,148-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "5387870899c448ae9d8b3b489497b71a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "BvK95Jmn"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519161313208677696923200t"
version: "265"
queryType: "PAY"

2021-05-19 16:13:16,206-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 16:13:17,206-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[I6]={'partnerOrder': 'YcKzRqh936MpHom2uFStDV5J48d1WLrn', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:13:17,206-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[J6]={'payReqId': 'KB20210519161313208677696923200t', 'status': 'ACCEPTED'}
2021-05-19 16:13:17,207-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[M6]=passed
2021-05-19 16:13:17,248-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Hx3XgmoMcPqAtLs5DNKFfrnwGbil2YOJ', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643336', 'amount': 1, 'price': 4.33}", 'voucherId': '62643336', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:13:17,267-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:13:17,268-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:17,268-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[I6]={'partnerOrder': 'Hx3XgmoMcPqAtLs5DNKFfrnwGbil2YOJ', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643336', 'amount': 1, 'price': 4.33}", 'voucherId': '62643336', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:13:17,268-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:17,269-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[M6]=failed
2021-05-19 16:13:17,310-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'XP5Qd74Z1LichbKIAtU9MxD8YumVTHfz', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643337', 'amount': 1, 'price': 4.33}", 'voucherId': '62643337', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:13:17,340-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:13:17,340-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:17,341-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[I6]={'partnerOrder': 'XP5Qd74Z1LichbKIAtU9MxD8YumVTHfz', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643337', 'amount': 1, 'price': 4.33}", 'voucherId': '62643337', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:13:17,341-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:17,341-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[M6]=failed
2021-05-19 16:13:17,386-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'FmKfWeIZdSLvhCy0QtPO5UVHJaxNjnri', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:13:17,398-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:13:17,398-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:13:17,398-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'FmKfWeIZdSLvhCy0QtPO5UVHJaxNjnri', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:13:17,398-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:13:17,399-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 16:13:17,435-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ZHXIw0yk9rbevQfNagO1hj8MY3SuL4CD', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:13:17,447-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:13:17,447-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:13:17,448-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'ZHXIw0yk9rbevQfNagO1hj8MY3SuL4CD', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:13:17,448-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:13:17,448-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 16:13:17,489-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '6Oig7yJZL1UvGhBHQ20qdNI8wjazxcFm', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:13:17,504-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:13:17,504-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:17,505-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': '6Oig7yJZL1UvGhBHQ20qdNI8wjazxcFm', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:13:17,505-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:17,505-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 16:13:17,537-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Z4BcYXg5IWNF06VfLAjvmU1TsRPqC3ao', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '41.241.225.81', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:13:17,552-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:13:17,552-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:17,553-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'Z4BcYXg5IWNF06VfLAjvmU1TsRPqC3ao', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '41.241.225.81', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:13:17,553-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:17,553-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 16:13:17,588-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'CkLjJ1e7SXa4IgunEPG5RxOtshzcirqm', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:13:17,602-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:13:17,602-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:17,602-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'CkLjJ1e7SXa4IgunEPG5RxOtshzcirqm', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:13:17,602-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:17,603-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 16:13:17,638-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'GcpJ86KzAmUSNLRj10wdZe2nBCMOsEtH', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '205.228.86.105', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:13:17,651-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:13:17,652-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:17,652-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'GcpJ86KzAmUSNLRj10wdZe2nBCMOsEtH', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '205.228.86.105', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:13:17,657-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:13:17,657-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 16:14:03,489-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 16:14:03,855-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 16:14:03,929-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:14:03,929-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 16:14:03,929-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:14:04,214-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:14:04,214-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 16:14:04,214-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:14:04,268-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 16:14:04,269-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 16:14:04,294-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:14:05,079-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 16:14:05,079-INFO-lib.common.case_processor.entry-78-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,079-INFO-lib.common.case_processor.entry-78-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,080-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 16:14:05,080-INFO-lib.common.case_processor.entry-87-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,080-INFO-lib.common.case_processor.entry-87-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,080-INFO-lib.common.case_processor.entry-87-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,080-INFO-lib.common.case_processor.entry-87-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,311-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 16:14:05,311-INFO-lib.common.case_processor.entry-78-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,311-INFO-lib.common.case_processor.entry-78-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643332', 'amount': 1, 'price': None}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,311-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643333', 'amount': 1, 'price': None}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,311-INFO-lib.common.case_processor.entry-78-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,311-INFO-lib.common.case_processor.entry-78-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643331', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,312-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643330', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,312-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 16:14:05,312-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,312-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,312-INFO-lib.common.case_processor.entry-87-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,312-INFO-lib.common.case_processor.entry-87-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,313-INFO-lib.common.case_processor.entry-87-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,313-INFO-lib.common.case_processor.entry-87-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:14:05,319-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:14:05,369-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'TvQdf0HJXVmEKe2pxBjRiGnoZAsOhLzr', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:14:05,408-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519161405208677696963064t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22fZO64CmxWrAv%252Ba%252BReQeP4tDB9cxz1cCCVSFY2ihv13MPDfySCpWCPcce88qPM9jl8Gpf%252Fja7Tf%252F2OjmbKBbAQ17b3cZg1lMJ4w8yyx7HUOapVT%252BkMq4GZgtV6gmCYtofxTASEC%252FL07uhD5iu2MlYmjIRmg1O%252FbbQlyae6I2Qu8E%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519161405208677696963064t\"}","payReqId":"RM20210519161405208677696963064t","status":"AUTH_NEEDED"}
2021-05-19 16:14:05,408-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519161405208677696963064t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="fZO64CmxWrAv%2Ba%2BReQeP4tDB9cxz1cCCVSFY2ihv13MPDfySCpWCPcce88qPM9jl8Gpf%2Fja7Tf%2F2OjmbKBbAQ17b3cZg1lMJ4w8yyx7HUOapVT%2BkMq4GZgtV6gmCYtofxTASEC%2FL07uhD5iu2MlYmjIRmg1O%2FbbQlyae6I2Qu8E="&sign_type="RSA"', 'system_order': 'RM20210519161405208677696963064t'}, 'payReqId': 'RM20210519161405208677696963064t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:14:05,409-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'TvQdf0HJXVmEKe2pxBjRiGnoZAsOhLzr', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:14:05,409-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519161405208677696963064t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="fZO64CmxWrAv%2Ba%2BReQeP4tDB9cxz1cCCVSFY2ihv13MPDfySCpWCPcce88qPM9jl8Gpf%2Fja7Tf%2F2OjmbKBbAQ17b3cZg1lMJ4w8yyx7HUOapVT%2BkMq4GZgtV6gmCYtofxTASEC%2FL07uhD5iu2MlYmjIRmg1O%2FbbQlyae6I2Qu8E="&sign_type="RSA"', 'system_order': 'RM20210519161405208677696963064t'}, 'payReqId': 'RM20210519161405208677696963064t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:14:05,409-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 16:14:05,439-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'brCcJtfeGdARTWX4EHPz9yvjoklqU6QM', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '156.249.176.199', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:14:05,663-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 16:14:05,663-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 16:14:05,663-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[I6]={'partnerOrder': 'brCcJtfeGdARTWX4EHPz9yvjoklqU6QM', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '156.249.176.199', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:14:05,664-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 16:14:05,664-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[M6]=failed
2021-05-19 16:14:05,710-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '5iyCjfrdE0OtvPuFm7WgD639GQnTHoJl', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:14:05,722-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:14:05,722-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:14:05,722-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': '5iyCjfrdE0OtvPuFm7WgD639GQnTHoJl', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:14:05,723-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:14:05,723-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 16:14:05,759-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'l4dCMSZmF5R6ABGiOL2bwEhQt1YyTDXH', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:14:05,772-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:14:05,772-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:14:05,772-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'l4dCMSZmF5R6ABGiOL2bwEhQt1YyTDXH', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:14:05,772-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:14:05,773-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 16:14:05,805-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Zc3DyNQftPRAk6ohiEx4neGTJapO2vuI', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:14:05,813-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:14:05,813-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:14:05,814-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'Zc3DyNQftPRAk6ohiEx4neGTJapO2vuI', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:14:05,814-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:14:05,814-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 16:14:05,846-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'RKsoTZq5EfWt6xlr3SAUNkm9z0w2XiPD', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '50.143.68.151', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:14:05,865-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:14:05,866-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:05,866-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'RKsoTZq5EfWt6xlr3SAUNkm9z0w2XiPD', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '50.143.68.151', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:14:05,866-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:05,867-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 16:14:05,895-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 16:14:05,895-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 16:14:05,913-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 16:14:05,954-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.12","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:14:05,954-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:14:05,954-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.12', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:14:05,955-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.12
2021-05-19 16:14:05,956-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 16:14:05,958-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '5456925'
2021-05-19 16:14:05,962-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 16:14:05,963-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 16:14:05,964-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 16:14:05,964-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 7.92, 'appId': '5456925', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 16:14:05', 'ext1': '', 'ext2': '', 'maxAmount': 79.15, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191614056879494416027236044494810796', 'ratio': 0.87, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': '40868E564288D09ADAA2B588E8E1A1B0', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 1, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 16:14:06,028-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 16:14:06,028-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643339', '62643340', '62643341', '62643342'], 'batchId': ''}
2021-05-19 16:14:06,028-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643339', '62643340', '62643341', '62643342']
2021-05-19 16:14:06,052-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 16:14:06,053-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 16:14:06,064-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643339')
2021-05-19 16:14:06,076-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:14:06","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.07Ԫ","useableEndTime":"2022-05-19 16:14:05","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.07,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191614056879494416027236044494810796","subScopeId":"","originalAmount":0.07,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643339","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:14:06,078-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:14:06,078-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:14:06', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.07Ԫ', 'useableEndTime': '2022-05-19 16:14:05', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.07, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191614056879494416027236044494810796', 'subScopeId': '', 'originalAmount': 0.07, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643339', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:14:06,078-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[G6]={'vouId': '62643339', 'amount': 1, 'price': 0.07}
2021-05-19 16:14:06,082-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643341')
2021-05-19 16:14:06,093-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:14:06","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.07Ԫ","useableEndTime":"2022-05-19 16:14:05","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.07,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191614056879494416027236044494810796","subScopeId":"","originalAmount":0.07,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643341","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:14:06,094-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:14:06,094-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:14:06', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.07Ԫ', 'useableEndTime': '2022-05-19 16:14:05', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.07, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191614056879494416027236044494810796', 'subScopeId': '', 'originalAmount': 0.07, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643341', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:14:06,094-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643341', 'amount': 1, 'price': 0.07}
2021-05-19 16:14:06,098-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643340')
2021-05-19 16:14:06,108-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:14:06","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.07Ԫ","useableEndTime":"2022-05-19 16:14:05","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.07,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191614056879494416027236044494810796","subScopeId":"","originalAmount":0.07,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643340","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:14:06,109-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:14:06,109-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:14:06', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.07Ԫ', 'useableEndTime': '2022-05-19 16:14:05', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.07, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191614056879494416027236044494810796', 'subScopeId': '', 'originalAmount': 0.07, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643340', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:14:06,109-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[G6]={'vouId': '62643340', 'amount': 1, 'price': 0.07}
2021-05-19 16:14:06,114-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643342')
2021-05-19 16:14:06,122-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:14:06","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.07Ԫ","useableEndTime":"2022-05-19 16:14:05","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.07,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191614056879494416027236044494810796","subScopeId":"","originalAmount":0.07,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643342","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:14:06,123-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:14:06,123-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:14:06', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.07Ԫ', 'useableEndTime': '2022-05-19 16:14:05', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.07, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191614056879494416027236044494810796', 'subScopeId': '', 'originalAmount': 0.07, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643342', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:14:06,123-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[G6]={'vouId': '62643342', 'amount': 1, 'price': 0.07}
2021-05-19 16:14:06,159-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'kYL7RmKnfDvOTstUryjuA0bGgZh6zqWB', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:14:06,190-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 16:14:06,190-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 16:14:06,191-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[I6]={'partnerOrder': 'kYL7RmKnfDvOTstUryjuA0bGgZh6zqWB', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:14:06,191-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 16:14:06,191-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[M6]=failed
2021-05-19 16:14:06,225-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '7O8lF24UvxYa1dEpGsfuobALHVR0Mz95', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643339', 'amount': 1, 'price': 0.07}", 'voucherId': '62643339', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:14:06,238-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:14:06,238-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:06,238-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[I6]={'partnerOrder': '7O8lF24UvxYa1dEpGsfuobALHVR0Mz95', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643339', 'amount': 1, 'price': 0.07}", 'voucherId': '62643339', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:14:06,238-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:06,239-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[M6]=failed
2021-05-19 16:14:06,267-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'SODbugMBlX4QqP5kx2YWoCvhiFGRcV8K', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643341', 'amount': 1, 'price': 0.07}", 'voucherId': '62643341', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '224.137.23.227', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:14:06,280-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:14:06,280-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:06,280-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'SODbugMBlX4QqP5kx2YWoCvhiFGRcV8K', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643341', 'amount': 1, 'price': 0.07}", 'voucherId': '62643341', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '224.137.23.227', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:14:06,281-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:06,281-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 16:14:06,309-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'PWpg2dCynFr1BfVhNMcEewvI8x49qLlU', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:14:06,332-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519161406208677696927504t","status":"ACCEPTED"}
2021-05-19 16:14:06,332-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519161406208677696927504t', 'status': 'ACCEPTED'}
2021-05-19 16:14:06,347-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:14:06,347-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:14:06,348-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "00202991874996"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "RLjxcBpe9iYNA7HlEzSW4bu38JX6ZKMf"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:14:06,455-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5303f8c3c409455db105e71d091fa790"
s_p: "eFU5Q3NTRHMwVDJKS3k3NHB4VzlvRURuSFJrSFdoMlhuWjRaZkR2dzdVaTcxZUp0Q1ZBTlhOZGd3NjFhTGJsOU1JcldxOUpTR3I4Y3hkYXlCTDl3RnpHZUF3TFoyZkNZQjhKY2xHc3VaMnlJTHduemtkNWFYYTBZRlFqSHNQMGxTSTg0TFdIUTRZQ0hWcFc3RUlvZzJzVXVvSGtkQllOS2N5Z3ZpWDZlam5qdkJZbnFRZGF0dFdDSWF2bWo4VXJPUTF1Zm9IdnVVVWRVb3gyc3c1aDBPQWFEampHbU4zeHQwRGJoUWpyTnNTanNvR2s2WGxZRk9kdDFkT0NUZHhnYnRlTVlEVHNpbnp1aHI1Q3lCRkdUbFdCWGVKWFd0Nll1enV0T2VWNlZFZzJ6aVVtckNLRHYwQ2JUajNjTXVIUE9PTlVFd280d2Z3OFVhaE81cHJQbnZWVW42WEI0cWsyRUNhcXZPa1p2RFc3Zjg1aFNNZkNTdGtZb0I1S3B1dlJLclJnYkQ3M1NzbEZxTDJKdkFuSWJxM1pxbjZFQmJpZzFzVnM1SHJHRTNrMk54TVdxWHkxdFNScjVRaFMwd3p3MXRoQTZJSUZ4Wm81NUJvOVZuM0FNdXZUdFpiV0cyMDVJaTBodFZlSW9BaDlqeGcxU2NHdFMxcnc2YVRCTUdBTGhoUnNTMU5kcEMyMmRhTXFMV1NUU3FXS3BuVkp1aGYwaUhrbnh6Zm15UjRJd2lPNnAyRzFDa3hKYm9NWGtldEV0Mk1EZ0RiUnV4NzRSS1V1NXFlaGFJT2hmTDlLOXkwdDRLUUI2a0l4SjRncmprNHZlcHppSXBCRGFvM2djYW1xOEx0MWQ1dkp6eXpmTlJDOU1MaTJGckFvZlZkNjJGdURIUEszSGZFT0t0NmQ1cnRjRkl3NWtPN0N6VXNhRWFhY3JIenNQYTA1bTlpV0JuaE5qZkNGR2J4WGJOQ09jRVV2bGg5ZlFLbDJlclVVS0trY2RvZjBKN01ReHRtY1lEOHJYQWNpeGlOWkRpaVE2dDk3dU9nQ0s3dVdUTTlvN1MyakY="
m_p: "7W4e32j5qG36JAb849zFb8Ao7jH9d69X1lE34H2z2L7D0Mlh7fD2ysk26Xv08IYR"
e_t: "1621520046414"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:14:06,455-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:14:06,455-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:14:06,456-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "5303f8c3c409455db105e71d091fa790"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "W9oEDnHR"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519161406208677696927504t"
version: "265"
queryType: "PAY"

2021-05-19 16:14:06,510-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 16:14:07,524-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:14:07,524-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:14:07,524-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "58273756769672"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "V4ULphHPmMQeYFORE9JXvBK2rAwINxos"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:14:07,589-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5d5e68c5730443a2a6a75dd198fcca6c"
s_p: "bk9WcUVaNmhPSEg4TGxVRDIxblZqTFZkcXJ6a3FNTUJtTldmQUo2Vkd2NVlXZVBQU01EM1N5bmZmZHlweXFydkptckZaRGZaTFM5eXlROGdwMkpMWkpyVmhSOWFYczB4bWY4ZG95b0l1UmpZUGVWYU96Y0FTanpPaUZsVkVZOEI2bzFTaGlhWHlXZlhXUDN6VHJVdlV6STM5SUlselJMd0JIRUs5VWsyTVN6ZHlPOEZ3NkQySHZOcGFvSGVzd1VoRWV3eXV1eDFvTHZXUEdicll5S3JOV3dXTEh1aXo2Sk5xSUpGSTZpT0JVZE8zSnZwdVFLR1dOVnNWc240VndTZUNWTjREdGh5NXZ1OE9BY0ZKSUxEYWxqMHp2WjZFNEpvcDJPaGlkV0pscG9RaGFIWXZFYmhtSlBZa3pNMnpSWTlTMFNxaDdlM1A3UHFGZmdsalczUG1ncmlmM25mYUdwVVU2blhmOVRsb1RVeHVzbHpiY0VYWFREY05RczVOUUp2ZVYyZlNqUVFvTDZQT3JNNnFWUVZsTXNWZko1S1JtRFlQMURHaTlLa1FhcnBRR1RWR3h0MTZTZGdaVVJaSWJPZUU3eTZNYWRjcU9mbFhPUTF3aVN6ZnFIMlpheGVwRkFFQXJQNk9lWWR2UDBacDJtR1BZN3E0U085VTdqcjJoZFBaMDdhSmlyc2NMWGhqZUlmRTdtMEtqMkdLN3hEVG1FNGNZdHlybEFnYVV6SGd2ek5xYWUxdHA0TWo4ZzZtM2hURE1uVk42NkJtR0dDRTJKdDh0WmcyZWJubEFrWU1CNXpaRThGM2ZJSjNUWVJXZUd4RnpTdnI3ZkVmR09Yenl6eFl6d2U3TDEzaUd3TzZNZTE0SmdxR3RTcUphc2VLcGhON01sWEpacllKUjcwWXZRZzRVWW1EMEdrUnVpOXlkNmxkU3lLbmNvRjZXeElEOTdVbkJibjZ1djJZUm5NcHIya0YzdUpmeDBqVVdzelRuMjNxY1UxUFp6R25Dc0liNlNzQWlqaTViVFlKQXFObjc0bk55UngwWVgyckxSUnNVZ2I="
m_p: "SmtNP02YOUE14h5CRRK7738Nf109e0r4TA1S1PNO0hP2250CI891P17j60kz3L55"
e_t: "1621520047585"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:14:07,589-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:14:07,589-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:14:07,590-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "5d5e68c5730443a2a6a75dd198fcca6c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "1ShiaXyW"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519161406208677696927504t"
version: "265"
queryType: "PAY"

2021-05-19 16:14:07,644-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 16:14:08,660-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:14:08,661-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:14:08,661-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "25871973333077"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "nq0FuvPbw9YTsR5USEGWholXjJLCg8k3"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:14:08,720-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c4b3a950f3034622b740df076f23be80"
s_p: "VTRDOEk0eUdLRXBEM1NzblhGcmVYZElPZE9yVkRvcDM4VTE1VnlDMjZMMUpTOE1mMVkxdVpCUWpqTks5VVBxalliSkFoSGJVc09kcnRMbjNZUVZGWnE2ZXlqbTFiWVIxMng0TWM1VVZ2bnNyM0l2WE16aDBKVnRsc1htZUFvMFJuVTAya2JxUVJlZUZ0RWVQY2JCU2JESERZcnVNMldDSVo4S1Z4ZlJEVm1KMXIyRkE2dGhwWHQ0M3hsM3BtNXN6aVFYSkRPNG5YZjAwb21mWnFEMDdEY0o1Y3RSc3F5TU1sdXpDTlVtZkFQYmE2SHJ0YmRNR2JhcFF5OTQ3ckI0QXQwZXBTUzFubEZIakxBckt5aDI4eUlBOWdYZHJ0VnhpUEthNmszdEVYNWhtN2dGUHdyd3FNTzE0WHlPeVNYTWVGSVVYWVA3RHk5d2JoWTA5MGdVcE02Q2dXWW1PYVN2ellodGdzSEVjck5mWUwwTm1yQ3BmdkNSMmtQNjBGNWg2bDk5SEJOaWdYWkh6VXRBSnk3ZGd2SUE4RTJFb0I5OERYSU5saDNHdzF0YnZJV1BmM1JEV2hsMDVseVNtMkRGckhVM3JkZllYd2RJTDdYOVpmMnFKVzNBQW5GdzJnVHJmSTlCRnZEb0R2MmJpdjd6dHNXcklpN0o2VjRUZVo4a3lLWUk1VjZFVmRXc3VGZXRoSkdGZkhvb0czSHc1UmhXNmJKS1JOY3VtVFBXYmYxZ2wwQ0h1OWJQOENlUFU2ODBRUE9HcFhLTUtxUDl2a1dUWUthbkk0MU5ZMnZFNWF1VGg0bDFtNWZoU1RRRERHb2VjWm0zSnNtZ2hpcExJRDI3TmhPdzdiS1dESFYzODc4NVZUYUxWSGpuWVdJQkxlVFJWbkdZWXB1NnpOWUU1cmMzd3oxZnRGMVRXNkd2R05BcmVwUkEyMmo5VkVMRWNEUGgwenZaN3dtZVlGN3h1SnljZUpESktPTVBhSVM5bnRZTFlMMkhsVmZ1Y3V0RHRoZVJZSWdrTnV5dlFpQjJrQVdHWG9LNE1PU3FnRXhjdFRNbXo="
m_p: "hwV3a6ji9gERcN72mXLV2Vae2G2612c2u6S064qH8AiDj1DJv7n1c8zj11E5Hrz8"
e_t: "1621520048714"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:14:08,721-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:14:08,721-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:14:08,721-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "c4b3a950f3034622b740df076f23be80"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "KVxfRDVm"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519161406208677696927504t"
version: "265"
queryType: "PAY"

2021-05-19 16:14:08,781-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 16:14:09,782-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[I6]={'partnerOrder': 'PWpg2dCynFr1BfVhNMcEewvI8x49qLlU', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:14:09,783-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[J6]={'payReqId': 'KB20210519161406208677696927504t', 'status': 'ACCEPTED'}
2021-05-19 16:14:09,783-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[M6]=passed
2021-05-19 16:14:09,818-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'OrEZ8jCqLJTYwXozxIua4gBV6Aec2SFv', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643340', 'amount': 1, 'price': 0.07}", 'voucherId': '62643340', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:14:09,833-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:14:09,833-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:09,833-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[I6]={'partnerOrder': 'OrEZ8jCqLJTYwXozxIua4gBV6Aec2SFv', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643340', 'amount': 1, 'price': 0.07}", 'voucherId': '62643340', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:14:09,834-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:09,834-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[M6]=failed
2021-05-19 16:14:09,869-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'NPxDMLpoh4HGkv6c32S1QTYjsuizW7BX', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643342', 'amount': 1, 'price': 0.07}", 'voucherId': '62643342', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:14:09,884-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:14:09,884-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:09,884-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[I6]={'partnerOrder': 'NPxDMLpoh4HGkv6c32S1QTYjsuizW7BX', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643342', 'amount': 1, 'price': 0.07}", 'voucherId': '62643342', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:14:09,884-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:09,885-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[M6]=failed
2021-05-19 16:14:09,912-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ID1wFRNYygKnC0OXPaS2oeJkd3W89HB5', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:14:09,919-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:14:09,919-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:14:09,920-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'ID1wFRNYygKnC0OXPaS2oeJkd3W89HB5', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:14:09,920-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:14:09,920-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 16:14:09,948-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Y4mOJ3EGU06WTRgX1CZLF9nciqVDvB58', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:14:09,955-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:14:09,956-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:14:09,956-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'Y4mOJ3EGU06WTRgX1CZLF9nciqVDvB58', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:14:09,956-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:14:09,956-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 16:14:09,985-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '5G0Uf9zkdq2eNvXF3roVstbiRKgE7ASH', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:14:10,001-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:14:10,001-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:10,001-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': '5G0Uf9zkdq2eNvXF3roVstbiRKgE7ASH', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:14:10,001-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:10,002-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 16:14:10,030-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'HecUOjGApWZC8YvPR7EwKS2o0qLz95dx', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '123.49.138.168', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:14:10,046-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:14:10,046-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:10,046-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'HecUOjGApWZC8YvPR7EwKS2o0qLz95dx', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '123.49.138.168', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:14:10,046-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:10,047-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 16:14:10,080-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ztQB765MPbpvDH3JIXnUiVLuhsTWjN1l', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:14:10,095-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:14:10,096-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:10,096-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'ztQB765MPbpvDH3JIXnUiVLuhsTWjN1l', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:14:10,096-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:10,097-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 16:14:10,125-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ktWgTNyoMXDIb0iEfHucpazGmVh7lxB9', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '129.70.133.88', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:14:10,137-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:14:10,137-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:10,138-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'ktWgTNyoMXDIb0iEfHucpazGmVh7lxB9', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '129.70.133.88', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:14:10,138-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:14:10,138-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 16:17:10,558-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 16:17:10,856-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 16:17:10,924-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:17:10,925-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 16:17:10,925-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:17:11,188-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:17:11,188-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 16:17:11,188-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:17:11,225-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 16:17:11,226-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 16:17:11,243-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:17:11,569-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 16:17:11,570-INFO-lib.common.case_processor.entry-78-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:17:11,570-INFO-lib.common.case_processor.entry-78-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:17:11,571-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 16:17:11,571-INFO-lib.common.case_processor.entry-87-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:17:11,572-INFO-lib.common.case_processor.entry-87-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:17:11,572-INFO-lib.common.case_processor.entry-87-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:17:11,573-INFO-lib.common.case_processor.entry-87-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:17:12,269-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 16:17:12,269-INFO-lib.common.case_processor.entry-78-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:17:12,269-INFO-lib.common.case_processor.entry-78-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:17:12,269-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 16:17:12,270-INFO-lib.common.case_processor.entry-87-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:17:12,270-INFO-lib.common.case_processor.entry-87-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:17:12,270-INFO-lib.common.case_processor.entry-87-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:17:12,270-INFO-lib.common.case_processor.entry-87-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:17:12,276-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:17:12,345-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'dCy8R0nTWfuzm1KJZS5BLsMgQEloN2b4', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:17:12,356-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:17:12,356-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:17:12,356-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'dCy8R0nTWfuzm1KJZS5BLsMgQEloN2b4', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:17:12,357-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:17:12,357-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 16:17:12,387-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'b4gIuJnCvo023xOLksVrKBQpj8eHiP79', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:17:12,396-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:17:12,397-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:17:12,397-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'b4gIuJnCvo023xOLksVrKBQpj8eHiP79', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:17:12,397-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:17:12,397-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 16:17:12,455-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'qUN4uXoJHLkCvnBMshTREbz3GceFjaKP', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:17:12,467-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:17:12,467-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:17:12,467-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'qUN4uXoJHLkCvnBMshTREbz3GceFjaKP', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:17:12,468-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:17:12,468-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 16:17:12,500-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'lVGPJYWFDMQiOZhUynku5jXR3tSI16Bw', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '25.195.124.245', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:17:12,522-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:17:12,522-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:17:12,522-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'lVGPJYWFDMQiOZhUynku5jXR3tSI16Bw', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '25.195.124.245', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:17:12,523-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:17:12,523-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 16:17:12,554-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'U9wEBRPiZsHlWtT2daMb6xKDr3GCF8V7', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:17:12,590-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519161712208677696952805t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22d25HHm3RFcp2BJpvTvKp8%252Bbp4i0GSa6SjZLoQ9Fhf09O9x7B0nbV9C2F0CbHZLl1txoL6a3NtfkYievjvJeBpP2avrW1vYueLGiprY5X6M59GOGUNAFWxp%252BLSVzVnV69%252FCh0SzegBpDosLe%252FC121ZMfhTfkN91RoCQMhL3gdtRA%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519161712208677696952805t\"}","payReqId":"RM20210519161712208677696952805t","status":"AUTH_NEEDED"}
2021-05-19 16:17:12,590-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519161712208677696952805t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="d25HHm3RFcp2BJpvTvKp8%2Bbp4i0GSa6SjZLoQ9Fhf09O9x7B0nbV9C2F0CbHZLl1txoL6a3NtfkYievjvJeBpP2avrW1vYueLGiprY5X6M59GOGUNAFWxp%2BLSVzVnV69%2FCh0SzegBpDosLe%2FC121ZMfhTfkN91RoCQMhL3gdtRA="&sign_type="RSA"', 'system_order': 'RM20210519161712208677696952805t'}, 'payReqId': 'RM20210519161712208677696952805t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:17:12,591-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'U9wEBRPiZsHlWtT2daMb6xKDr3GCF8V7', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:17:12,591-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519161712208677696952805t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="d25HHm3RFcp2BJpvTvKp8%2Bbp4i0GSa6SjZLoQ9Fhf09O9x7B0nbV9C2F0CbHZLl1txoL6a3NtfkYievjvJeBpP2avrW1vYueLGiprY5X6M59GOGUNAFWxp%2BLSVzVnV69%2FCh0SzegBpDosLe%2FC121ZMfhTfkN91RoCQMhL3gdtRA="&sign_type="RSA"', 'system_order': 'RM20210519161712208677696952805t'}, 'payReqId': 'RM20210519161712208677696952805t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:17:12,591-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 16:17:12,622-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'rK3akoPX4F1RAEgzL2CMY79ix5Gf0yW6', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '87.150.46.254', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:17:12,837-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 16:17:12,837-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 16:17:12,837-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[I6]={'partnerOrder': 'rK3akoPX4F1RAEgzL2CMY79ix5Gf0yW6', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '87.150.46.254', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:17:12,838-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 16:17:12,838-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[M6]=failed
2021-05-19 16:20:25,423-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 16:20:25,685-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 16:20:25,755-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:20:25,755-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 16:20:25,755-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:20:25,987-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:20:25,987-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 16:20:25,987-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:20:26,060-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 16:20:26,061-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 16:20:26,067-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:20:26,363-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 16:20:26,364-INFO-lib.common.case_processor.entry-78-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:20:26,364-INFO-lib.common.case_processor.entry-78-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:20:26,364-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 16:20:26,364-INFO-lib.common.case_processor.entry-87-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:20:26,364-INFO-lib.common.case_processor.entry-87-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:20:26,364-INFO-lib.common.case_processor.entry-87-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:20:26,364-INFO-lib.common.case_processor.entry-87-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:20:26,993-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 16:20:26,994-INFO-lib.common.case_processor.entry-78-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:20:26,994-INFO-lib.common.case_processor.entry-78-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:20:26,994-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 16:20:26,994-INFO-lib.common.case_processor.entry-87-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:20:26,994-INFO-lib.common.case_processor.entry-87-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:20:26,994-INFO-lib.common.case_processor.entry-87-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:20:26,994-INFO-lib.common.case_processor.entry-87-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:20:27,000-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:20:27,051-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'JbrIl72wCyc4sXEfn5T8KNBA1FMk9GPe', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '47.33.181.245', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:20:27,274-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 16:20:27,275-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 16:20:27,275-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[I6]={'partnerOrder': 'JbrIl72wCyc4sXEfn5T8KNBA1FMk9GPe', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '47.33.181.245', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:20:27,276-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 16:20:27,276-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[M6]=failed
2021-05-19 16:20:27,308-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '0RhqtOEwabju5WFYvmfn8AMzJyKGsroH', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:20:27,324-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:20:27,324-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:20:27,325-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': '0RhqtOEwabju5WFYvmfn8AMzJyKGsroH', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:20:27,325-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:20:27,325-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 16:20:27,354-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'MiAh7LWBeE8v234kb0OtN6jIJCTaof5w', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:20:27,364-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:20:27,365-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:20:27,365-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'MiAh7LWBeE8v234kb0OtN6jIJCTaof5w', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:20:27,365-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:20:27,366-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 16:20:27,398-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Thif7QJ2GKkYDXcboyAS0rPRxHZnWM64', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:20:27,406-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:20:27,407-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:20:27,407-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'Thif7QJ2GKkYDXcboyAS0rPRxHZnWM64', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:20:27,407-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:20:27,407-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 16:20:27,435-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '4E5G3H6z7RlmiebqsgAUIJtdyLXOhor2', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '226.247.228.241', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:20:27,457-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:20:27,457-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:20:27,457-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': '4E5G3H6z7RlmiebqsgAUIJtdyLXOhor2', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '226.247.228.241', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:20:27,458-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:20:27,458-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 16:20:27,503-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'LZtNqzVdhYRsEn5B41JuGciK3mfQ96wg', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:20:27,532-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519162027208677696986007t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22cLVLi2aWoDzllNRyu6mm3YxpOcQdSWHWE8Gtok9AXLI39IWcanE9dBAP9CSvtxMokC42PCn81hVq0Idol%252BnAEKvt%252Bju9Ehwk8Zhw4FX3Isk1POPEdJsHdjtdo7Abw5PasdI0HzmbNR9ppAWJEHUJOWQgdifKW1C5YKs8WDDcCRg%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519162027208677696986007t\"}","payReqId":"RM20210519162027208677696986007t","status":"AUTH_NEEDED"}
2021-05-19 16:20:27,532-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519162027208677696986007t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="cLVLi2aWoDzllNRyu6mm3YxpOcQdSWHWE8Gtok9AXLI39IWcanE9dBAP9CSvtxMokC42PCn81hVq0Idol%2BnAEKvt%2Bju9Ehwk8Zhw4FX3Isk1POPEdJsHdjtdo7Abw5PasdI0HzmbNR9ppAWJEHUJOWQgdifKW1C5YKs8WDDcCRg="&sign_type="RSA"', 'system_order': 'RM20210519162027208677696986007t'}, 'payReqId': 'RM20210519162027208677696986007t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:20:27,533-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'LZtNqzVdhYRsEn5B41JuGciK3mfQ96wg', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:20:27,533-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519162027208677696986007t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="cLVLi2aWoDzllNRyu6mm3YxpOcQdSWHWE8Gtok9AXLI39IWcanE9dBAP9CSvtxMokC42PCn81hVq0Idol%2BnAEKvt%2Bju9Ehwk8Zhw4FX3Isk1POPEdJsHdjtdo7Abw5PasdI0HzmbNR9ppAWJEHUJOWQgdifKW1C5YKs8WDDcCRg="&sign_type="RSA"', 'system_order': 'RM20210519162027208677696986007t'}, 'payReqId': 'RM20210519162027208677696986007t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:20:27,533-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 16:24:33,846-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 16:24:34,175-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 16:24:34,240-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:24:34,240-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 16:24:34,241-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:24:34,517-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:24:34,517-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 16:24:34,517-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:24:34,553-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 16:24:34,555-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 16:24:34,561-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:24:34,856-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 16:24:34,857-INFO-lib.common.case_processor.entry-77-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:24:34,857-INFO-lib.common.case_processor.entry-77-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:24:34,857-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 16:24:34,857-INFO-lib.common.case_processor.entry-86-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:24:34,857-INFO-lib.common.case_processor.entry-86-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:24:34,857-INFO-lib.common.case_processor.entry-86-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:24:34,857-INFO-lib.common.case_processor.entry-86-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:24:35,454-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 16:24:35,454-INFO-lib.common.case_processor.entry-77-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:24:35,454-INFO-lib.common.case_processor.entry-77-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:24:35,455-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 16:24:35,455-INFO-lib.common.case_processor.entry-86-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:24:35,455-INFO-lib.common.case_processor.entry-86-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:24:35,455-INFO-lib.common.case_processor.entry-86-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:24:35,455-INFO-lib.common.case_processor.entry-86-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:24:35,461-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:24:42,408-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 16:24:42,673-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 16:24:42,796-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:24:42,797-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 16:24:42,797-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:24:43,062-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:24:43,062-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 16:24:43,062-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:24:43,100-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 16:24:43,102-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 16:24:43,110-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:24:43,406-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 16:24:43,406-INFO-lib.common.case_processor.entry-77-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:24:43,406-INFO-lib.common.case_processor.entry-77-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:24:43,406-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 16:24:43,406-INFO-lib.common.case_processor.entry-86-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:24:43,406-INFO-lib.common.case_processor.entry-86-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:24:43,406-INFO-lib.common.case_processor.entry-86-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:24:43,406-INFO-lib.common.case_processor.entry-86-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:24:43,990-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 16:24:43,991-INFO-lib.common.case_processor.entry-77-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:24:43,991-INFO-lib.common.case_processor.entry-77-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:24:43,991-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 16:24:43,991-INFO-lib.common.case_processor.entry-86-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:24:43,991-INFO-lib.common.case_processor.entry-86-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:24:43,991-INFO-lib.common.case_processor.entry-86-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:24:43,991-INFO-lib.common.case_processor.entry-86-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:24:43,997-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:25:13,888-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 16:25:14,153-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 16:25:14,231-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:25:14,232-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 16:25:14,232-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:25:14,497-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:25:14,497-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 16:25:14,498-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:25:14,537-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 16:25:14,538-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 16:25:14,550-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:25:14,847-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 16:25:14,847-INFO-lib.common.case_processor.entry-77-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:25:14,847-INFO-lib.common.case_processor.entry-77-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:25:14,847-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 16:25:14,848-INFO-lib.common.case_processor.entry-86-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:25:14,848-INFO-lib.common.case_processor.entry-86-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:25:14,848-INFO-lib.common.case_processor.entry-86-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:25:14,848-INFO-lib.common.case_processor.entry-86-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:25:15,475-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 16:25:15,475-INFO-lib.common.case_processor.entry-77-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:25:15,475-INFO-lib.common.case_processor.entry-77-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:25:15,475-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 16:25:15,475-INFO-lib.common.case_processor.entry-86-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:25:15,476-INFO-lib.common.case_processor.entry-86-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:25:15,476-INFO-lib.common.case_processor.entry-86-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:25:15,476-INFO-lib.common.case_processor.entry-86-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:25:15,482-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:25:15,557-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'a1ifhNjMEdqRg6u9JwGzBtnOV2ZoY3v4', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:25:15,597-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519162515208677696918354t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22xEJo7IvUTBCyvnyaogZpZHFnia2VAhRu3ena063htCxdaMbvweMxrcac2mu900kvo6ipi9uYXKlFS1dQwT6J3SndQR47dhPNFUSiZbesxL9cFylExuvyPRz%252BmHdX4Ak9G1CVUyP9MvAQSyWKlvKSb8kdIeAx%252B9IeUVKvTA4zIOo%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519162515208677696918354t\"}","payReqId":"RM20210519162515208677696918354t","status":"AUTH_NEEDED"}
2021-05-19 16:25:15,598-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519162515208677696918354t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="xEJo7IvUTBCyvnyaogZpZHFnia2VAhRu3ena063htCxdaMbvweMxrcac2mu900kvo6ipi9uYXKlFS1dQwT6J3SndQR47dhPNFUSiZbesxL9cFylExuvyPRz%2BmHdX4Ak9G1CVUyP9MvAQSyWKlvKSb8kdIeAx%2B9IeUVKvTA4zIOo="&sign_type="RSA"', 'system_order': 'RM20210519162515208677696918354t'}, 'payReqId': 'RM20210519162515208677696918354t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:25:15,598-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'a1ifhNjMEdqRg6u9JwGzBtnOV2ZoY3v4', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:25:15,599-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519162515208677696918354t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="xEJo7IvUTBCyvnyaogZpZHFnia2VAhRu3ena063htCxdaMbvweMxrcac2mu900kvo6ipi9uYXKlFS1dQwT6J3SndQR47dhPNFUSiZbesxL9cFylExuvyPRz%2BmHdX4Ak9G1CVUyP9MvAQSyWKlvKSb8kdIeAx%2B9IeUVKvTA4zIOo="&sign_type="RSA"', 'system_order': 'RM20210519162515208677696918354t'}, 'payReqId': 'RM20210519162515208677696918354t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:25:15,599-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 16:25:15,626-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'cN05fixLjoDFThMsY1ayS9Qu8XUm7CpB', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '199.53.236.222', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:25:15,929-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19162515864229f0df4b09028f72440000&package=558083320","payReqId":"RM20210519162515208677696934167t","status":"AUTH_NEEDED"}
2021-05-19 16:25:15,929-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19162515864229f0df4b09028f72440000&package=558083320', 'payReqId': 'RM20210519162515208677696934167t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:25:15,931-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 16:25:15,947-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 16:25:15,949-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[1328832294138279110199786287]]></transaction_id>
<nonce_str><![CDATA[gaKhMLDFRjxYNzSCXWcntlJ0q18rviBH]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[F96E693767058BCF7460ADCC93D62DF3]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519162515208677696934167t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519162515]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 16:25:16,236-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 16:25:16,236-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 16:25:16,251-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:25:16,251-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:25:16,251-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "24502558648926"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "OFqNrQRDkcPIoi7XvaZpS9WzMhG3tA4f"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:25:16,366-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d45982614bf0473eaca2869b456d1e6e"
s_p: "R3RabXc3WEQzYktHaFI4N0RvUGxOeXhNZmtXR0REdDE3dHM3WkM4UFRlTm9FaExjSEZkZU1KcmZuU2Nja1Z2QVpveU4xWGRwbmVsRHFYcFRpV05ZMVNxbEEwZlNzRlVTVXQwOEZpcVBFRUt5bWphMENja09GNzE5Q3piRmNNb0w1WXFqRzQxTUFIUlZEdUcyanlUSU9ucnRjN3hDR1VzU3FFMUpJTVdKTzR0MUdvTnJMSldqU2FWbGViZ3RtY2FnMnI2a0hTbkx3MmNiZ2R2UGtXUXVDbWN5cG9pcDdLT2xqRGpoMlAyT3pTS1pkTGxaU3pPM1dWcHlMaFlIRDUzbzdkU1BLNVBzN0pFZ0NJRmxiOWlQb2Z3clh4T3M0VGNTeUFtM0l2bVcwMWZOVmZPNVQwczk1eXBPZHBmV0ZsRG9hbWtMb0JvdWdmYnhaU2VtYXdsdU9jQ2ZkOElxeElFSWJaT3BkV2hxcDJxWnR4TEtLUG9JZ0d0dW5JVXRQT244QVREaGJWVmY5S3REN013bjM5TmtDQWsycFEweFNCTjI5VGFDVmNaZ3dLYkpXdGprano0bFptdkw1UjY5YnVuMzlNck1ySndNSXdJaVNzcFo0cHVqcTdUTmY1MENqMXpOa2t1RFN4SWtmUWxkaEVNcXhrQUpWMWdnNzUwMmUwQkdnRldPYk14REJYZkRnaFlHY0ZTUkFKS0pMeFBNMWx3cjRLU21MUVpVQ2dTdkVuZWZLeGZHYUh5WjR6TkJRYUs2eWo0YTRObGUxREx0b3Rockp2UXJ0ZkJQc2M1WmtsOWZGM3hMZXBrTFBZSUR6R3RYR3Z2Z3BCbG55WGE1WFc5RnU1Nkw3MFk1Mlp0MjBNdTc3U05uTEVNSnNBdzZlQXFPakpIWWpNbjBKM0NOc0lsejJsb2xCU2lQTGZqMVBKaWV1R3ExVkVrTThGVFRjbzhCWlQ4V215VXNsaXE2N2ZWeWJib3ppMk9DcjFvVnRwMFBTYkphSkFyaFowbWc4RDFtMzN3OVJPaEswQm83ZW5NQ25uREc5QUw1S0VOQ0RtSU8="
m_p: "0L2dkh144wq88UcB9w8MKpfM2qGk07G2qzQj7KPu4uSFCI7A0S3UHa80cGNRHLOU"
e_t: "1621520716359"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:25:16,366-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:25:16,366-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:25:16,366-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "d45982614bf0473eaca2869b456d1e6e"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "jyTIOnrt"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519162515208677696934167t"
version: "265"
queryType: "PAY"

2021-05-19 16:25:16,429-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 16:25:16,431-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519162515208677696934167t"
2021-05-19 16:25:16,439-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5254, 'pay_req_id': 'RM20210519162515208677696934167t', 'notify_id': '1328832294138279110199786287', 'partner_order': 'cN05fixLjoDFThMsY1ayS9Qu8XUm7CpB', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '199.53.236.222', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 16, 25, 16), 'success_time': datetime.datetime(2021, 5, 19, 16, 25, 15), 'modify_time': datetime.datetime(2021, 5, 19, 16, 25, 16), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 16:25:16,439-INFO-FizAssert-31-订单详情：{'id': 5254, 'pay_req_id': 'RM20210519162515208677696934167t', 'notify_id': '1328832294138279110199786287', 'partner_order': 'cN05fixLjoDFThMsY1ayS9Qu8XUm7CpB', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '199.53.236.222', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 16, 25, 16), 'success_time': datetime.datetime(2021, 5, 19, 16, 25, 15), 'modify_time': datetime.datetime(2021, 5, 19, 16, 25, 16), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 16:25:16,439-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 16:25:16,439-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[I6]={'partnerOrder': 'cN05fixLjoDFThMsY1ayS9Qu8XUm7CpB', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '199.53.236.222', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:25:16,440-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19162515864229f0df4b09028f72440000&package=558083320', 'payReqId': 'RM20210519162515208677696934167t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:25:16,440-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[M6]=passed
2021-05-19 16:25:16,468-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'GdANJaXpqzuZkm2BcfQWIy56gFtCExD9', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:25:16,475-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:25:16,476-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:25:16,476-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'GdANJaXpqzuZkm2BcfQWIy56gFtCExD9', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:25:16,476-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:25:16,477-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 16:25:16,540-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '8gfwe92Db4umlxMPXBpQtTnF1ULEA6rq', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:25:16,548-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:25:16,548-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:25:16,548-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': '8gfwe92Db4umlxMPXBpQtTnF1ULEA6rq', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:25:16,548-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:25:16,549-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 16:25:16,582-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'bL5RxUKlhuItocg6GJS42XQpB9wmfPVT', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:25:16,590-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:25:16,590-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:25:16,590-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'bL5RxUKlhuItocg6GJS42XQpB9wmfPVT', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:25:16,591-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:25:16,591-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 16:25:16,616-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'PqAthKZNaVLDgI80zxn92uOvYFdlETsQ', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '148.112.18.184', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:25:16,637-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:25:16,638-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:25:16,638-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'PqAthKZNaVLDgI80zxn92uOvYFdlETsQ', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '148.112.18.184', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:25:16,638-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:25:16,638-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 16:25:57,256-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 16:25:57,532-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 16:25:57,622-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:25:57,622-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 16:25:57,622-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:25:57,860-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:25:57,860-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 16:25:57,861-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:25:57,896-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 16:25:57,897-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 16:25:57,903-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:25:58,197-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 16:25:58,198-INFO-lib.common.case_processor.entry-77-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:25:58,198-INFO-lib.common.case_processor.entry-77-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:25:58,198-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 16:25:58,198-INFO-lib.common.case_processor.entry-86-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:25:58,198-INFO-lib.common.case_processor.entry-86-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:25:58,198-INFO-lib.common.case_processor.entry-86-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:25:58,198-INFO-lib.common.case_processor.entry-86-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:25:58,790-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 16:25:58,790-INFO-lib.common.case_processor.entry-77-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:25:58,790-INFO-lib.common.case_processor.entry-77-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:25:58,790-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 16:25:58,791-INFO-lib.common.case_processor.entry-86-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:25:58,791-INFO-lib.common.case_processor.entry-86-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:25:58,791-INFO-lib.common.case_processor.entry-86-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:25:58,791-INFO-lib.common.case_processor.entry-86-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:25:58,799-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:25:58,826-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'HFrQC9PIDfa3Xsd1gvqm02Vh8p6L4lKR', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:25:58,842-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:25:58,843-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:25:58,843-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'HFrQC9PIDfa3Xsd1gvqm02Vh8p6L4lKR', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:25:58,844-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:25:58,844-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 16:25:58,899-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '6GMZJ5HKtg0kmBbCaFeW4n7PlEhYDcOf', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:25:58,907-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:25:58,908-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:25:58,908-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': '6GMZJ5HKtg0kmBbCaFeW4n7PlEhYDcOf', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:25:58,908-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:25:58,909-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 16:25:58,933-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'LjSeBDGanwUCodv7EFYkAi6xhtRXMc28', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:25:58,940-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:25:58,940-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:25:58,941-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'LjSeBDGanwUCodv7EFYkAi6xhtRXMc28', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:25:58,941-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:25:58,941-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 16:25:58,967-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'jp52fNX9t68kwGKbO3ZA1rSnoyaTJudL', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '60.181.7.49', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:25:58,985-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:25:58,985-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:25:58,985-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'jp52fNX9t68kwGKbO3ZA1rSnoyaTJudL', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '60.181.7.49', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:25:58,985-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:25:58,986-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 16:25:59,013-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'e87DwKIvoCp5JyfFBHLmclrjZtMR4PXU', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:25:59,043-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519162559208677696970348t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22Bk6snCKpW7fLvcAOPwEojyJ79aigxxdK9qgknsrqUehXPU%252FLO1UHO3XmrTwygVrZhPruwTe0DjSUkwTo2eR6LH8hUtYNx%252B7k155E65VnBOUjDVq9CgOCpIkFzGeG%252FFGNq5xSGFMNqKXHRV29eNdCdqGNxmoMeJyGpTUkKUUOeow%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519162559208677696970348t\"}","payReqId":"RM20210519162559208677696970348t","status":"AUTH_NEEDED"}
2021-05-19 16:25:59,044-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519162559208677696970348t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="Bk6snCKpW7fLvcAOPwEojyJ79aigxxdK9qgknsrqUehXPU%2FLO1UHO3XmrTwygVrZhPruwTe0DjSUkwTo2eR6LH8hUtYNx%2B7k155E65VnBOUjDVq9CgOCpIkFzGeG%2FFGNq5xSGFMNqKXHRV29eNdCdqGNxmoMeJyGpTUkKUUOeow="&sign_type="RSA"', 'system_order': 'RM20210519162559208677696970348t'}, 'payReqId': 'RM20210519162559208677696970348t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:25:59,044-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'e87DwKIvoCp5JyfFBHLmclrjZtMR4PXU', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:25:59,044-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519162559208677696970348t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="Bk6snCKpW7fLvcAOPwEojyJ79aigxxdK9qgknsrqUehXPU%2FLO1UHO3XmrTwygVrZhPruwTe0DjSUkwTo2eR6LH8hUtYNx%2B7k155E65VnBOUjDVq9CgOCpIkFzGeG%2FFGNq5xSGFMNqKXHRV29eNdCdqGNxmoMeJyGpTUkKUUOeow="&sign_type="RSA"', 'system_order': 'RM20210519162559208677696970348t'}, 'payReqId': 'RM20210519162559208677696970348t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:25:59,044-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 16:25:59,071-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'RuaM64LqJHjCUQix92IcbwSeBzONrEoA', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '194.229.123.166', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:25:59,292-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 16:25:59,292-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 16:25:59,292-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[I6]={'partnerOrder': 'RuaM64LqJHjCUQix92IcbwSeBzONrEoA', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '194.229.123.166', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:25:59,293-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 16:25:59,293-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[M6]=failed
2021-05-19 16:26:56,421-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 16:26:56,680-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 16:26:56,751-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:26:56,751-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 16:26:56,752-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:26:56,995-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:26:56,996-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 16:26:56,997-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:26:57,035-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 16:26:57,036-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 16:26:57,043-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:26:57,806-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 16:26:57,806-INFO-lib.common.case_processor.entry-77-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:26:57,806-INFO-lib.common.case_processor.entry-77-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:26:57,806-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 16:26:57,806-INFO-lib.common.case_processor.entry-86-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:26:57,806-INFO-lib.common.case_processor.entry-86-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:26:57,807-INFO-lib.common.case_processor.entry-86-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:26:57,807-INFO-lib.common.case_processor.entry-86-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:26:58,035-INFO-lib.common.case_processor.entry-74-正向测试用例数据：
2021-05-19 16:26:58,035-INFO-lib.common.case_processor.entry-77-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:26:58,035-INFO-lib.common.case_processor.entry-77-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643332', 'amount': 1, 'price': None}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:26:58,035-INFO-lib.common.case_processor.entry-77-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643333', 'amount': 1, 'price': None}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:26:58,036-INFO-lib.common.case_processor.entry-77-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 16:26:58,036-INFO-lib.common.case_processor.entry-77-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643331', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:26:58,036-INFO-lib.common.case_processor.entry-77-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643330', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:26:58,036-INFO-lib.common.case_processor.entry-83-负向测试用例数据：
2021-05-19 16:26:58,036-INFO-lib.common.case_processor.entry-86-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:26:58,036-INFO-lib.common.case_processor.entry-86-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:26:58,036-INFO-lib.common.case_processor.entry-86-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:26:58,036-INFO-lib.common.case_processor.entry-86-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:26:58,037-INFO-lib.common.case_processor.entry-86-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:26:58,037-INFO-lib.common.case_processor.entry-86-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:26:58,046-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:26:58,075-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'NBSawbig7zFsQlnctjv2oKZ3TCfpMr9R', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:26:58,118-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519162658208677696942280t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22pgnwAYdvQqznchQYxsDTOnQWNzP%252B4RqR0mdGubasBfCw%252F9%252BHe0Qlb1fJVBcxZ5laDC%252FppnokLJWFIVYPo%252FSrnDtru0VD7All8MnIZDu0%252F%252F%252F6JPkkuOBnrLH6E1YnaQj3DL3ZTdvNQKT%252BgpKROxsCOWwb%252BsZ6GotmEigI95bSIqg%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519162658208677696942280t\"}","payReqId":"RM20210519162658208677696942280t","status":"AUTH_NEEDED"}
2021-05-19 16:26:58,121-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519162658208677696942280t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="pgnwAYdvQqznchQYxsDTOnQWNzP%2B4RqR0mdGubasBfCw%2F9%2BHe0Qlb1fJVBcxZ5laDC%2FppnokLJWFIVYPo%2FSrnDtru0VD7All8MnIZDu0%2F%2F%2F6JPkkuOBnrLH6E1YnaQj3DL3ZTdvNQKT%2BgpKROxsCOWwb%2BsZ6GotmEigI95bSIqg="&sign_type="RSA"', 'system_order': 'RM20210519162658208677696942280t'}, 'payReqId': 'RM20210519162658208677696942280t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:26:58,122-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'NBSawbig7zFsQlnctjv2oKZ3TCfpMr9R', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:26:58,123-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519162658208677696942280t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="pgnwAYdvQqznchQYxsDTOnQWNzP%2B4RqR0mdGubasBfCw%2F9%2BHe0Qlb1fJVBcxZ5laDC%2FppnokLJWFIVYPo%2FSrnDtru0VD7All8MnIZDu0%2F%2F%2F6JPkkuOBnrLH6E1YnaQj3DL3ZTdvNQKT%2BgpKROxsCOWwb%2BsZ6GotmEigI95bSIqg="&sign_type="RSA"', 'system_order': 'RM20210519162658208677696942280t'}, 'payReqId': 'RM20210519162658208677696942280t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:26:58,124-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 16:26:58,154-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'UtuRZIX3gyeOb56nk0qVlDWSJTazsHcB', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '162.68.8.34', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:26:58,478-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19162658427789bb06cc712425842c0000&package=1188774221","payReqId":"RM20210519162658208677696980725t","status":"AUTH_NEEDED"}
2021-05-19 16:26:58,478-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19162658427789bb06cc712425842c0000&package=1188774221', 'payReqId': 'RM20210519162658208677696980725t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:26:58,479-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 16:26:58,486-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 16:26:58,488-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[2523881675339769004348597118]]></transaction_id>
<nonce_str><![CDATA[bfW04wxKoLghk7cQvHFrIMjes2ZSOPpi]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[E3F5E26EFECFBFD24A76774935F74D5F]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519162658208677696980725t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519162658]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 16:26:58,641-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 16:26:58,642-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 16:26:58,661-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:26:58,662-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:26:58,662-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "12588098453390"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "q034GiavCBFkO8QD6n2Np9mdSWcEetyl"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:26:58,756-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bfac728bfb324a0491b90741234f8e4c"
s_p: "aE5NVFJjUHVRR2JiSU5sSTFtUDlFTGlJQjZtYkFDMlNWRHo1T1A3Y24zUWZmQXMwWEJEV053QXR5YldnMnJhb2FzeERMckRYbHFINWthcUVCT29lblRiSDRORXpYWkZwb0Q5TjhabGttTDVTQnkyNEY0Rk9VTTNpS25xOExBWHN4czBramlucEwwcEFueTZ4STlVOElGTXdxRm5wVU9DRkZyYnhXYURoajRJdk1yWkFCYXdjbUoycW9ORDZ3bFFGeUV4Q3Q3WDZVYVJldWRuYWlVWkt4V0RpeXlKYkRpOG9RSXdmQm5qTUNKdmRFMkFJVHFVOGJQSDhvRklkdjVXWW9PQUZjYW53eU5UcVRNYU9kRk4xOHc2UzZ6Rk1MUnZWbXJFNkk3aEk5ek9kSjdPVDlqNW5RbHZFZDVMa05jMTNaUkhzb3dMUUYyRVFXTVF1UHFaZ01zejFBeDkyUFVCdnlCSXgzZGRTQmc0ZnRRUENHbDJnUGxtVllYMGZhd3g3N0tObGY3QW1zTVF5b0RVcWFQN2p0bHRSQnl6QnI0SXFLV2JhZ21NZHliMVdYTjFzaFZUd0lLY0VQZ24zdVdiWm9lU0RDZDRqNzZ0NWh1NlBaZXA5MWZXeHFSbkZKc0FGVTFnb2NnYnJ1UERSSjIxTmIwTUM3R3BEVkprTDRMaDMya0tUUFhaY2dmSVZaR3lTSXp0UG1wSTBWaFptU3BPSE56MlVQUWJ6YmZabVpPNzAxQVFjb1hSNzdxUDJnd2ZTa29hWkV0d1ZrRlBjb2ZrNUZ6c205T1Fwc2g0bU1kYURkNUxEdFQwMW9GdjBZUEpJc3lyejg0WlA4MEZ4RU8zUkZkMEVwVHpybHFLd3ZDNnpGcHlqa2RlaWxXRW1wbEZuT0NZVTVKTk9Kd3A0QkpDREdYRjIxZ2hWOVMwNjRRcjdTRTBwTUc4RlZIeGY2WGM1TWx6YXRqNG9oR2JkUlFya0FRd1BKZjgwR1B6bG56QWJxa2RQaEtSOHNQYXNhQ1NMeDN3ajh4N3hBS2VTVmNYUXFPR2RWbUFxaHlhZGRRYjk="
m_p: "6K7a90MIl53tsP1HUwy74452E0g6F48V985tHvRbo71D0Ge3iZE94mR7dV11js9h"
e_t: "1621520818755"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:26:58,756-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:26:58,756-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:26:58,756-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "bfac728bfb324a0491b90741234f8e4c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "2raoasxD"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519162658208677696980725t"
version: "265"
queryType: "PAY"

2021-05-19 16:26:58,818-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 16:26:58,820-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519162658208677696980725t"
2021-05-19 16:26:58,826-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5258, 'pay_req_id': 'RM20210519162658208677696980725t', 'notify_id': '2523881675339769004348597118', 'partner_order': 'UtuRZIX3gyeOb56nk0qVlDWSJTazsHcB', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '162.68.8.34', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 16, 26, 58), 'success_time': datetime.datetime(2021, 5, 19, 16, 26, 58), 'modify_time': datetime.datetime(2021, 5, 19, 16, 26, 59), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 16:26:58,826-INFO-FizAssert-31-订单详情：{'id': 5258, 'pay_req_id': 'RM20210519162658208677696980725t', 'notify_id': '2523881675339769004348597118', 'partner_order': 'UtuRZIX3gyeOb56nk0qVlDWSJTazsHcB', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '162.68.8.34', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 16, 26, 58), 'success_time': datetime.datetime(2021, 5, 19, 16, 26, 58), 'modify_time': datetime.datetime(2021, 5, 19, 16, 26, 59), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 16:26:58,826-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 16:26:58,827-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[I6]={'partnerOrder': 'UtuRZIX3gyeOb56nk0qVlDWSJTazsHcB', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '162.68.8.34', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:26:58,827-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19162658427789bb06cc712425842c0000&package=1188774221', 'payReqId': 'RM20210519162658208677696980725t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:26:58,827-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信"[M6]=passed
2021-05-19 16:26:58,858-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'dl579vnegNH6aTPKDBxSU2jAbGFf8Qih', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:26:58,869-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:26:58,869-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:26:58,870-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'dl579vnegNH6aTPKDBxSU2jAbGFf8Qih', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:26:58,870-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:26:58,870-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 16:26:58,900-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'SEGkH5LbPd0p8xojMw9D6umqZJhUgeIY', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:26:58,908-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:26:58,908-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:26:58,909-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'SEGkH5LbPd0p8xojMw9D6umqZJhUgeIY', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:26:58,909-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:26:58,909-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 16:26:58,942-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ykJHSNxWwL4CsPGKmbcohOidDY0Un9Ar', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:26:58,951-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:26:58,952-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:26:58,952-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'ykJHSNxWwL4CsPGKmbcohOidDY0Un9Ar', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:26:58,952-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:26:58,953-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 16:26:58,981-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'tIL5jzRKAFNUPHcDn27EkwVy1rMfCdex', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '228.125.222.111', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:26:59,000-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:26:59,001-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:26:59,001-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'tIL5jzRKAFNUPHcDn27EkwVy1rMfCdex', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '228.125.222.111', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:26:59,001-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:26:59,002-DEBUG-lib.common.case_processor.entry-90-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 16:26:59,075-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 16:26:59,075-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 16:26:59,088-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 16:26:59,134-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.12","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:26:59,134-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:26:59,134-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.12', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:26:59,135-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.12
2021-05-19 16:26:59,136-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 16:26:59,138-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '2031'
2021-05-19 16:26:59,146-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 16:26:59,146-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 16:26:59,146-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 16:26:59,146-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 3.63, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 16:26:59', 'ext1': '', 'ext2': '', 'maxAmount': 67.07, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191626590471753297578955462839447969', 'ratio': 0.72, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': '9E2DB3BAEF45044458FAD5C7316BAEB2', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 7, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 16:26:59,196-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 16:26:59,196-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643343', '62643344', '62643345', '62643346'], 'batchId': ''}
2021-05-19 16:26:59,196-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643343', '62643344', '62643345', '62643346']
2021-05-19 16:26:59,216-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 16:26:59,216-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 16:26:59,229-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643344')
2021-05-19 16:26:59,240-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:26:59","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.67,"source":null,"couponDescribe":"0.720.67ܶ","useableEndTime":"2022-05-19 16:26:59","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.03,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191626590471753297578955462839447969","subScopeId":"","originalAmount":null,"usableAmt":0.67,"usedPartnerOrder":null,"couponCode":"62643344","settleType":"1","status":"NORMAL","ratio":0.72},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:26:59,240-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:26:59,240-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:26:59', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.67, 'source': None, 'couponDescribe': '0.720.67ܶ', 'useableEndTime': '2022-05-19 16:26:59', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.03, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191626590471753297578955462839447969', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.67, 'usedPartnerOrder': None, 'couponCode': '62643344', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.72}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:26:59,240-DEBUG-lib.common.case_processor.entry-90-开始更新"可币券+渠道"[G6]={'vouId': '62643344', 'amount': 1, 'price': 0.67}
2021-05-19 16:26:59,244-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643345')
2021-05-19 16:26:59,256-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:26:59","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.67,"source":null,"couponDescribe":"0.720.67ܶ","useableEndTime":"2022-05-19 16:26:59","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.03,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191626590471753297578955462839447969","subScopeId":"","originalAmount":null,"usableAmt":0.67,"usedPartnerOrder":null,"couponCode":"62643345","settleType":"1","status":"NORMAL","ratio":0.72},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:26:59,257-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:26:59,258-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:26:59', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.67, 'source': None, 'couponDescribe': '0.720.67ܶ', 'useableEndTime': '2022-05-19 16:26:59', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.03, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191626590471753297578955462839447969', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.67, 'usedPartnerOrder': None, 'couponCode': '62643345', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.72}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:26:59,259-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643345', 'amount': 1, 'price': 0.67}
2021-05-19 16:26:59,262-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643343')
2021-05-19 16:26:59,279-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:26:59","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.67,"source":null,"couponDescribe":"0.720.67ܶ","useableEndTime":"2022-05-19 16:26:59","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.03,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191626590471753297578955462839447969","subScopeId":"","originalAmount":null,"usableAmt":0.67,"usedPartnerOrder":null,"couponCode":"62643343","settleType":"1","status":"NORMAL","ratio":0.72},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:26:59,279-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:26:59,281-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:26:59', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.67, 'source': None, 'couponDescribe': '0.720.67ܶ', 'useableEndTime': '2022-05-19 16:26:59', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.03, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191626590471753297578955462839447969', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.67, 'usedPartnerOrder': None, 'couponCode': '62643343', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.72}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:26:59,281-DEBUG-lib.common.case_processor.entry-90-开始更新"纯可币券"[G6]={'vouId': '62643343', 'amount': 1, 'price': 0.67}
2021-05-19 16:26:59,282-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643346')
2021-05-19 16:26:59,293-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:26:59","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.67,"source":null,"couponDescribe":"0.720.67ܶ","useableEndTime":"2022-05-19 16:26:59","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.03,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191626590471753297578955462839447969","subScopeId":"","originalAmount":null,"usableAmt":0.67,"usedPartnerOrder":null,"couponCode":"62643346","settleType":"1","status":"NORMAL","ratio":0.72},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:26:59,293-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:26:59,294-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:26:59', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.67, 'source': None, 'couponDescribe': '0.720.67ܶ', 'useableEndTime': '2022-05-19 16:26:59', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.03, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191626590471753297578955462839447969', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.67, 'usedPartnerOrder': None, 'couponCode': '62643346', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.72}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:26:59,294-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+可币券"[G6]={'vouId': '62643346', 'amount': 1, 'price': 0.67}
2021-05-19 16:26:59,340-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'iyImQp68hcRL5edTnAauNXWHo0SYzB3J', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:26:59,374-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 16:26:59,374-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 16:26:59,374-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+渠道"[I6]={'partnerOrder': 'iyImQp68hcRL5edTnAauNXWHo0SYzB3J', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:26:59,375-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 16:26:59,375-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+渠道"[M6]=failed
2021-05-19 16:26:59,411-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'lOTGMZtHCd9QUEb142uNVLmhw5Rc6JqW', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643344', 'amount': 1, 'price': 0.67}", 'voucherId': '62643344', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:26:59,427-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:26:59,427-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:26:59,428-DEBUG-lib.common.case_processor.entry-90-开始更新"可币券+渠道"[I6]={'partnerOrder': 'lOTGMZtHCd9QUEb142uNVLmhw5Rc6JqW', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643344', 'amount': 1, 'price': 0.67}", 'voucherId': '62643344', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:26:59,428-DEBUG-lib.common.case_processor.entry-90-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:26:59,428-DEBUG-lib.common.case_processor.entry-90-开始更新"可币券+渠道"[M6]=failed
2021-05-19 16:26:59,519-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'nWUySRoBrNTHsAjM5xLZ3vQzl4XqJIVg', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643345', 'amount': 1, 'price': 0.67}", 'voucherId': '62643345', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '89.108.222.153', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:26:59,532-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:26:59,532-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:26:59,533-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'nWUySRoBrNTHsAjM5xLZ3vQzl4XqJIVg', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643345', 'amount': 1, 'price': 0.67}", 'voucherId': '62643345', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '89.108.222.153', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:26:59,533-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:26:59,533-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 16:26:59,564-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'PS1rsKGpuI7YLUgXOtmBQabvMNowWJjA', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:26:59,581-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519162659208677696931130t","status":"ACCEPTED"}
2021-05-19 16:26:59,581-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519162659208677696931130t', 'status': 'ACCEPTED'}
2021-05-19 16:26:59,596-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:26:59,596-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:26:59,596-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "13126180292583"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "8NxFlEVDACRfbJyinXGzemIvs03Kojad"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:26:59,647-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "1b267b9b41cc48b08c49ac89c900c880"
s_p: "TkpxalFxOGNFN3plYVlzNFRBaElYR0FONnJtSFpidlcwMERqTnJxVGY1WFAwS0VlWjFrUUszS2R2OFdEQXRlYXV6bHlWRmlKY3pLRFA0d2RnQ1FjMjlMRTMyOFVmaXFYekxTR3lVU3g3WDA5Sk42ODI0bThuVjh0dzJKZEN2eWF2cUpQWFR6bWFyRWQyN29ScnRtUVlJYlM0Q1RPWVdpR2VwYmRUcGVmUVVlQWlzZ3NueUdtUXlEcFl5ZUdjMERFZU9RQzJrM0RsdGJCU3BIMlZBUHNlalhoRThWZnJVZ2tVenVJM2xMUXRPWkNFYk1nemhYQURHamlDSEtXb0NuRm9MVlFkaGg5NlI4OGY5Nk5EbGNKMmNrMGE0NzllMkpKa0Q3MUxZTk9PUUtkYVAzVVA4bG5RMUJVUFJxM3hYOXp6Vm05NDJ1VXVtM2xBWjZHWlBTbFRWQ1ByU1lFS29oM1diRHRoNnZUV1FHQXFnc3VPVHpYaUpLWjRpZDY0endVOWM3cElOb1lvY3A5b0t1ZktVaEVnY1FRTTcxVFBxSGd6QU1wMGplRDZ2Zm1QaUNBWkNpOExkaTNEakhyUENDWVlsaW1PU1NqVWRFMm94RzRGeFVnb3c3c2Mzcnd0VWdrUUlSV2RyVkNHaTgzZ1I4a1lLRzFBUktsYzRuNHB0ZzFVWWVBVXI2UDFUMkFHMUdVRWNBakFqMnQxQVczT2xyYWNoN2VUMVp2elV5dEl0cHhnNWdhbnJPbWNEYWxaSWJBalRxTzNaOE5BNmc3bFFNUDBTU3V1Z2V4cmFUUUlzQmU0M0tDN2gyeUIxdUdLR05sY3gyNzBvQzRiMmNRNnBxWEd2M2VFbzhveEh6SzZ5aGRkMk1IVE5wTUFmRDgzYjRjNnZCa3A5cGx3WnhkeWY0MGdrUVM0Q2VaalBLR1p0MDdRd0Vpemt2QTlENElxenZseE5IVHdVb09SUmViSER6TjNCUGx1T2xOWThMalA1VEZqdUtWZ2hvNDlGdk5Xc1pJNTJaRnBBV2lUYm1GRXJaSGdETVFobEtLZXA3M3dGTGQ="
m_p: "A92Xr0q8fD1J45pg9IVv2045pkysHq4P75NB0FxAcqWM6vOr4p00DBwFZjykWg0f"
e_t: "1621520819649"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:26:59,647-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:26:59,647-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:26:59,648-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "1b267b9b41cc48b08c49ac89c900c880"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "zmarEd27"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519162659208677696931130t"
version: "265"
queryType: "PAY"

2021-05-19 16:26:59,733-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 16:27:00,749-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:27:00,749-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:27:00,749-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "78758085874563"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "FEYqTlADX0wIJ8Mbi52peW9LmRuotQrO"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:27:00,801-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a8fbad8042a94af4a376d13e453fb642"
s_p: "cUlpSUtINFdYVGlRVmN1WFBHaVR1YkFUand2eXJJNjBoZ1hJTFVDeFFFT09GblVRR3lzUmZVY1hOT1lkUjEweGpBMTlUVFRUcTVVWEFndFJrMGY0VjhyRVNsQkpRZWZEZ1pFaUd0ZmM0VDliTUsxRzdDVU1qaGsxakJtcHZZeW9vd2ZuUEpoTHU4S043cHZUeG5aMndMeFhDUnpsV0E2S3dWSXBkb053dWZTdEJERzlWbWpxY0ZNSGZzMUZJY1M4VWNpRFBWdmhNMGxrSE5zR09maVpPdDlVSWlIQmlGV2dTOW85NFFpU3NCUUxzaGM4dmkxMnQza2gxTGJacWpOYjhJMGFPSW5sTkFxaTFOZm1NV3liVktxSmpMUlJ4QkxJMXM3TE1ma0NqWHVnOEdiOXA2ZmNaSmRscDNsYTBvYU9ma1YyVGlNZnE0aHhhZXdORWc1OGt0dlFCT3VCcm1RY1FjQWhOTEoxbk5FUDBjaFNkRDg4ckIwcVJ2VEtVSmNIamtlTGZ0Y2x6bXB2d2FCTHZLUk02Rk1HRFJnbDFzRVo2dWZ0VVoxc25CWkFIa3NvQ1ZPWjBodkVsdXB0bHhOaXdyS2xXb3p4YlN2aE1OUkZRVDRmWXNLQUc2Tmg2UUxRdHhOUlMwTEoyM3JVSkgyNXdJVUpnMjVGOExVeUQ4a0xYYzlDbFZmUXRFeGpCeTRkQ0RxQWRoUUlNQ25HMmpoZnk5ZHJoR2paVVFhQUZySGpEY2o0dVlhMVl4dHpvZ3VHZ0lzSUJNdTZqdmEzM0JpRGRrcVdmaHV3d0J3U0NKZ2Z3TU4wSThIanFpaWVvRzJXNlJXRTNYNnl4WTNvZ0pySUdOS1NtcFkzN0V2a0pxRlZSSE9RTFh6cFo1Zm5yMkRkQnh1Y2F2VThsVnY1RGVaekZFNHgzMlpiVVdGc0Foa0Z0V21zTkVCRHlvVGNJT1R0aDJyTTRrNnY4SlVmaDFiWjh5RkhEVmlEZm9yUVBPSGdPeEpXckw5TUxRRm1MeldObjNTaVgyQkUwZjkzYlh1T3oxc2JIUzBRZ1BYRlBDT2g="
m_p: "xOUg5ZEKK9bbXM74up9LiiN626omM1maq1AO0hTts9gCenFx2ga4T1lKEO674her"
e_t: "1621520820802"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:27:00,802-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:27:00,802-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:27:00,802-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "a8fbad8042a94af4a376d13e453fb642"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "TTq5UXAg"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519162659208677696931130t"
version: "265"
queryType: "PAY"

2021-05-19 16:27:00,854-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 16:27:01,869-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:27:01,869-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:27:01,869-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "66481969331875"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "a4qTUjlYwEXFbvHGhecsknyItNCg5zr7"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:27:01,928-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0fa4f8ba84d74c56bdfd079c916d2f9b"
s_p: "OGl0T1lEN1JZMk9SRnI3cXNGc0ZEQmpLdklBRVEzVVpPYWhKc2lIdDJtZVJLRGZoa0xiY1g5ZVFYWGhod1l3ZDljVmpNY1duYjcxYmJTRWV6YjZ4dU9Za2RQTFI4azl6WG94UUNXVUsyWmlJajJZRG5tSnV2eVptWGlwSDNTTEp3aVYzeWh3SXdlNm9rNjl3UjhoWHFJc09XTzVDd3BvcjNiMTFKY0JwNnNFc0Z2ZEVKaTc3dm1sRkl2VU9EcVBVQURhN2s4WmhxcmlnSElsblg5Y0ZIYWM0bUxsUGZPa3ZKbmFmNkFpcWF2cDkyQlhiYURwR0hqUEJwTzR1SFFUYUgzVTVOMWVtYW1ZSmZWRmI2Z1pXODlvNnl2b004aktoc1FCTXk0Zk1WNjR4SHJUdVgzcXQ4ZEUwclVaMjRVZHRhRU1sazJHU1hDMElmcTVxdnI1QUtveGJNSXJHZUs5eWo2MENiUEp1YUVzZWV5bXhhd0htYkZSOTBYa0NWMHlzR3k5Znlaa0dCUGhpa25XcFpBT3hyRG1MOXV3OUI2c3FJa3dRQWxaSmd4NldGNGZ0Qnp0SjNsUUFYZHdnRm5uY0dlbTM3RllPSEJNODJLckdLQ2FoOE9TbUZOWXhPTjlvQXdzbzhQVXozVEFaMDhBQ2twbzJyZmFqMzFaSXlqT09rSFBzQWlWZmcyc2VnSEI5dlBIZTB4U0tqRklLYXJoMlk1VjZGTWhDTXp0OFhuTWV2bVI2cUJzNTl4TTZUYzJZajV4VklrQ0djZVF6bHFFYU5GWG4zMG1yUGI2NHZqcERxbWNUZ0xrMHloOHYyMU81aFVkMUF4QVEybGlmZGQyUG11SjRVa09OcWtDQVY1ZFZ6eDBnUVhBcTlaQkcySlJjM0hSb29HOExPaGI0R04xTVVzR2pCd2xNNlJzQjV5cDF0NzI4NWdTQVBmbWpMZGZoOFZhYkhaWjFIVm9DTWZrRUNLdEJnWFVkOFhOWTBBSEpxSVRhRW82ZHk3VXFJMXdiMHd0MnJXZ1dZQlBiUTBUbzRWNXpPNExjajJrOEdkdGs="
m_p: "n778ym31Va186T9e352jY1a20k24S8un4fL83mo6a0y2D5ZQm5BYGb2313C94x22"
e_t: "1621520821921"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:27:01,929-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:27:01,930-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:27:01,931-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "0fa4f8ba84d74c56bdfd079c916d2f9b"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "nmJuvyZm"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519162659208677696931130t"
version: "265"
queryType: "PAY"

2021-05-19 16:27:01,984-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 16:27:02,985-DEBUG-lib.common.case_processor.entry-90-开始更新"纯可币"[I6]={'partnerOrder': 'PS1rsKGpuI7YLUgXOtmBQabvMNowWJjA', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:27:02,985-DEBUG-lib.common.case_processor.entry-90-开始更新"纯可币"[J6]={'payReqId': 'KB20210519162659208677696931130t', 'status': 'ACCEPTED'}
2021-05-19 16:27:02,985-DEBUG-lib.common.case_processor.entry-90-开始更新"纯可币"[M6]=passed
2021-05-19 16:27:03,015-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '9EAatVF20p4orGi7DbuPNTdOhywKXg3n', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643343', 'amount': 1, 'price': 0.67}", 'voucherId': '62643343', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:27:03,029-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:27:03,030-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:27:03,030-DEBUG-lib.common.case_processor.entry-90-开始更新"纯可币券"[I6]={'partnerOrder': '9EAatVF20p4orGi7DbuPNTdOhywKXg3n', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643343', 'amount': 1, 'price': 0.67}", 'voucherId': '62643343', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:27:03,030-DEBUG-lib.common.case_processor.entry-90-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:27:03,031-DEBUG-lib.common.case_processor.entry-90-开始更新"纯可币券"[M6]=failed
2021-05-19 16:27:03,059-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'yR7cFTGuCHJUtp0Q8mEVMjXkr21qdeWz', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643346', 'amount': 1, 'price': 0.67}", 'voucherId': '62643346', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:27:03,072-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:27:03,073-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:27:03,073-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+可币券"[I6]={'partnerOrder': 'yR7cFTGuCHJUtp0Q8mEVMjXkr21qdeWz', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643346', 'amount': 1, 'price': 0.67}", 'voucherId': '62643346', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:27:03,073-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:27:03,073-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+可币券"[M6]=failed
2021-05-19 16:27:03,279-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'BKGA9u8M3lgC4PeacTqjDFsm6kEHLSNJ', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:27:03,291-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:27:03,292-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:27:03,292-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'BKGA9u8M3lgC4PeacTqjDFsm6kEHLSNJ', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:27:03,292-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:27:03,292-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 16:27:03,319-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'yAxHpRLXFk7lB2tsvuMqKN5TY4hbnWOe', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:27:03,330-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:27:03,330-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:27:03,331-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'yAxHpRLXFk7lB2tsvuMqKN5TY4hbnWOe', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:27:03,331-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:27:03,332-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 16:27:03,364-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '1wgEmTe7Dtox8vRjkpisBYy3aP24cdZh', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:27:03,378-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:27:03,378-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:27:03,378-DEBUG-lib.common.case_processor.entry-90-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': '1wgEmTe7Dtox8vRjkpisBYy3aP24cdZh', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:27:03,379-DEBUG-lib.common.case_processor.entry-90-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:27:03,379-DEBUG-lib.common.case_processor.entry-90-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 16:27:03,430-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'oxrgXDZ16iABKEw7Glmf3Vu9LHPNqp0d', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '135.17.31.108', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:27:03,444-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:27:03,444-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:27:03,444-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'oxrgXDZ16iABKEw7Glmf3Vu9LHPNqp0d', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '135.17.31.108', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:27:03,445-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:27:03,445-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 16:27:03,474-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'HZUwBt6YMaLf3uI48p7goedK9kFGTQOh', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:27:03,487-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:27:03,487-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:27:03,487-DEBUG-lib.common.case_processor.entry-90-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'HZUwBt6YMaLf3uI48p7goedK9kFGTQOh', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:27:03,488-DEBUG-lib.common.case_processor.entry-90-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:27:03,488-DEBUG-lib.common.case_processor.entry-90-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 16:27:03,516-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'hP801tO9gMZ2a3SbsnNJcVXF6kEYdi4x', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '88.27.239.163', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:27:03,529-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:27:03,529-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:27:03,529-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'hP801tO9gMZ2a3SbsnNJcVXF6kEYdi4x', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '88.27.239.163', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:27:03,530-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:27:03,530-DEBUG-lib.common.case_processor.entry-90-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 16:47:45,811-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 16:47:46,136-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 16:47:46,215-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:47:46,215-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 16:47:46,215-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:47:46,451-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:47:46,451-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 16:47:46,451-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:47:46,484-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 16:47:46,485-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 16:47:46,491-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:47:47,245-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 16:47:47,245-INFO-lib.common.case_processor.entry-78-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:47:47,246-INFO-lib.common.case_processor.entry-78-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 16:47:47,246-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 16:47:47,246-INFO-lib.common.case_processor.entry-87-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:47:47,246-INFO-lib.common.case_processor.entry-87-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 16:47:47,246-INFO-lib.common.case_processor.entry-87-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 16:47:47,246-INFO-lib.common.case_processor.entry-87-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 16:47:47,516-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 16:47:47,516-INFO-lib.common.case_processor.entry-78-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'iyImQp68hcRL5edTnAauNXWHo0SYzB3J', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': ' 5003 参数异常:{code=100;message= 5003 参数异常}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:47:47,517-INFO-lib.common.case_processor.entry-78-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643344', 'amount': 1, 'price': 0.67}, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': 'lOTGMZtHCd9QUEb142uNVLmhw5Rc6JqW', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643344', 'amount': 1, 'price': 0.67}", 'voucherId': '62643344', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:47:47,517-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643345', 'amount': 1, 'price': 0.67}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'nWUySRoBrNTHsAjM5xLZ3vQzl4XqJIVg', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643345', 'amount': 1, 'price': 0.67}", 'voucherId': '62643345', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '89.108.222.153', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:47:47,517-INFO-lib.common.case_processor.entry-78-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'PS1rsKGpuI7YLUgXOtmBQabvMNowWJjA', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '{"payReqId": "KB20210519162659208677696931130t", "status": "ACCEPTED"}', 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': 'passed', 'comments': None}
2021-05-19 16:47:47,517-INFO-lib.common.case_processor.entry-78-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643343', 'amount': 1, 'price': 0.67}, 'payType': 'KEBI', 'req_params': {'partnerOrder': '9EAatVF20p4orGi7DbuPNTdOhywKXg3n', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643343', 'amount': 1, 'price': 0.67}", 'voucherId': '62643343', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:47:47,517-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643346', 'amount': 1, 'price': 0.67}, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'yR7cFTGuCHJUtp0Q8mEVMjXkr21qdeWz', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643346', 'amount': 1, 'price': 0.67}", 'voucherId': '62643346', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:47:47,517-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 16:47:47,517-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'BKGA9u8M3lgC4PeacTqjDFsm6kEHLSNJ', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:47:47,518-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': 'yAxHpRLXFk7lB2tsvuMqKN5TY4hbnWOe', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:47:47,518-INFO-lib.common.case_processor.entry-87-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': {'partnerOrder': '1wgEmTe7Dtox8vRjkpisBYy3aP24cdZh', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:47:47,518-INFO-lib.common.case_processor.entry-87-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'oxrgXDZ16iABKEw7Glmf3Vu9LHPNqp0d', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '135.17.31.108', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:47:47,518-INFO-lib.common.case_processor.entry-87-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'HZUwBt6YMaLf3uI48p7goedK9kFGTQOh', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:47:47,518-INFO-lib.common.case_processor.entry-87-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'hP801tO9gMZ2a3SbsnNJcVXF6kEYdi4x', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '88.27.239.163', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 16:47:47,527-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 16:47:47,560-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'RgxvlJ3N4LSEkZDprbT2wKIdO9BW0fYC', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:47:47,605-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519164747208677696963435t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22dd0UDgV%252FzPCEZ1kYfT%252FzKy4eMCza6Cl3rHKtsb6rrDRUy395lMiFdjGlLEMjOU5E%252FpFLXibhbS%252BGvbeHDqrlXF37RzzOpBviH3vGxP9aWsENoKsv9bmgvYm6jZZfrZASa%252F72Arco9uwlIU5kbxACxTtr2p1%252Bwol%252Fr9Oh88m6SXw%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519164747208677696963435t\"}","payReqId":"RM20210519164747208677696963435t","status":"AUTH_NEEDED"}
2021-05-19 16:47:47,606-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519164747208677696963435t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="dd0UDgV%2FzPCEZ1kYfT%2FzKy4eMCza6Cl3rHKtsb6rrDRUy395lMiFdjGlLEMjOU5E%2FpFLXibhbS%2BGvbeHDqrlXF37RzzOpBviH3vGxP9aWsENoKsv9bmgvYm6jZZfrZASa%2F72Arco9uwlIU5kbxACxTtr2p1%2Bwol%2Fr9Oh88m6SXw="&sign_type="RSA"', 'system_order': 'RM20210519164747208677696963435t'}, 'payReqId': 'RM20210519164747208677696963435t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:47:47,606-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'RgxvlJ3N4LSEkZDprbT2wKIdO9BW0fYC', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:47:47,606-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519164747208677696963435t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="dd0UDgV%2FzPCEZ1kYfT%2FzKy4eMCza6Cl3rHKtsb6rrDRUy395lMiFdjGlLEMjOU5E%2FpFLXibhbS%2BGvbeHDqrlXF37RzzOpBviH3vGxP9aWsENoKsv9bmgvYm6jZZfrZASa%2F72Arco9uwlIU5kbxACxTtr2p1%2Bwol%2Fr9Oh88m6SXw="&sign_type="RSA"', 'system_order': 'RM20210519164747208677696963435t'}, 'payReqId': 'RM20210519164747208677696963435t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:47:47,607-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 16:47:47,639-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'qCzyifmLZSeRQU5vgdGs84a1DAoEnPJV', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '5.233.226.180', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:47:47,942-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19164747903019f0ce052954bcbcc80000&package=42222806","payReqId":"RM20210519164747208677696951450t","status":"AUTH_NEEDED"}
2021-05-19 16:47:47,942-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19164747903019f0ce052954bcbcc80000&package=42222806', 'payReqId': 'RM20210519164747208677696951450t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:47:47,943-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 16:47:47,949-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 16:47:47,950-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[4527413466182338064328918264]]></transaction_id>
<nonce_str><![CDATA[iRjEcM7OXz2xLQbG0JgAFBfkD1Y49Cry]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[6379927EF63697BE1496CF9691BBED9F]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519164747208677696951450t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519164747]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 16:47:48,110-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 16:47:48,110-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 16:47:48,125-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:47:48,125-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:47:48,126-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "44925497032448"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "eiu0FGkxSAPVa6Jz9ZBsWpy2Yr4o1qUE"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:47:48,319-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c8af05277c4e43ab835237bd3668b36b"
s_p: "ZjRXZXdMUGREbHhXQVdDVk82bmlRbG1ndXJEUzlOcFp2NjNTYVRWSjhLemlPR1lWZWlocU1wclRMMFdQSW90STBTa0ZQZ3VYWkVzV2Q3Q1dXNTA1WXEzMUhuRlNnazU3cDJ2UWZPcUFaZlZ6UkVMcWJrd2paaVphR2RZNmpycHNobEZHZHNNeVcxZlZhSklEbzhQaTFDY1lXY0JjVnl0aGFmQ01JWlB4aENVUGxYSWY1bXY1NGdlVlVxY1hsdjB5bTBlTHN0Mkh4b0QycnIxbDdiaXc4Nmo3ZFE2VUNaOGtPRkhVRGxWaENhWmZDZ1dCSVFHUXJZTVJwTzNxQ0pETGFFQXAzUzF0NHFpTDI3UlJvaVpFUnRPZEtTcURZVWNWN3RKWG94d25YNHl2MHF4RDJNOFFXb2U3akR6TWxBcUgxSWxiVUdqOVVwNWd4OWs1U0RMQnVhdkxjTkFBSlFMRXFpbTZtU2daRXBCQWxuamdwVHpoUjc1eHRrMlY5ZFpNclpvN2ZTZXlKTU5ndExacWxlRUNvZ3VXSExoeTdGUnF6bDNUOThrcVBYb0RRZ3JDa3FNT1BBdG1iR0k5RlRoOHV4bWVLVEZzMklZMkU3MUo2b3NKUGo5TkRuSG5mc3RnZzNQcEdVRHdWakU0MFlUbTFQNld2TUQ5dnQ2YVpIVzFRWFREMUZzY0JOYk4yYnlwYThyalR5elNVWFJtVjA0N3kwRldOZGtJc0VCMGF6SnRNNWMxSFQ0VW1jN2NDeE10TkVUcTdGUkxJZ2o0azAwUWtTZmRLc1ZZeVo0aUZuUzZ2SExDNzdjTzJjRjRVeUxsM1I2OExzdG9zNUx5QWltUFNJdGdFaWkxVmtkRkdwM1RIeDFQMWZ1NGt4dnROTTlWbmJKclZKT0tMZWMxUEd2UWNtSUE2TXZXVm9ZbU14Ylk0RWZRS3ZuWllMSXR5QUFUak1SeUM0SUtJbWcxYkVTdE9uVnhBRXNJS25zZU5FbVZlMjRpNGw0ZHBWQnNDWUpFZVA1UnlRZkswQ0UzU2syQWRteHhGMnF4ZzNDQ1EyclY="
m_p: "3JjfC5B47IA5nEH1vA3J5CbUF1L6f7snazRnoLhc433r3c7CCWIbrnV9PQP9i6t1"
e_t: "1621522068319"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:47:48,319-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:47:48,320-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:47:48,320-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "c8af05277c4e43ab835237bd3668b36b"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "0SkFPguX"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519164747208677696951450t"
version: "265"
queryType: "PAY"

2021-05-19 16:47:48,389-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 16:47:48,391-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519164747208677696951450t"
2021-05-19 16:47:48,403-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5262, 'pay_req_id': 'RM20210519164747208677696951450t', 'notify_id': '4527413466182338064328918264', 'partner_order': 'qCzyifmLZSeRQU5vgdGs84a1DAoEnPJV', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '5.233.226.180', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 16, 47, 48), 'success_time': datetime.datetime(2021, 5, 19, 16, 47, 47), 'modify_time': datetime.datetime(2021, 5, 19, 16, 47, 48), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 16:47:48,403-INFO-FizAssert-31-订单详情：{'id': 5262, 'pay_req_id': 'RM20210519164747208677696951450t', 'notify_id': '4527413466182338064328918264', 'partner_order': 'qCzyifmLZSeRQU5vgdGs84a1DAoEnPJV', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '5.233.226.180', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 16, 47, 48), 'success_time': datetime.datetime(2021, 5, 19, 16, 47, 47), 'modify_time': datetime.datetime(2021, 5, 19, 16, 47, 48), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 16:47:48,403-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 16:47:48,404-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[I6]={'partnerOrder': 'qCzyifmLZSeRQU5vgdGs84a1DAoEnPJV', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '5.233.226.180', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:47:48,404-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19164747903019f0ce052954bcbcc80000&package=42222806', 'payReqId': 'RM20210519164747208677696951450t', 'status': 'AUTH_NEEDED'}
2021-05-19 16:47:48,404-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[M6]=passed
2021-05-19 16:47:48,444-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'V0yQdIeN8zkiGbnBYcSJaX9wusl1gEtM', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:47:48,453-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:47:48,453-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:47:48,454-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'V0yQdIeN8zkiGbnBYcSJaX9wusl1gEtM', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:47:48,454-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:47:48,454-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 16:47:48,484-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Ppsx95iAtegQOlK4a7H3dXGfTn8bLNED', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:47:48,493-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:47:48,493-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:47:48,493-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'Ppsx95iAtegQOlK4a7H3dXGfTn8bLNED', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:47:48,493-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:47:48,493-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 16:47:48,526-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'F6en9CQlaU7XfPVmAxoGTrDcKZg14yBS', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:47:48,534-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:47:48,534-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:47:48,541-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'F6en9CQlaU7XfPVmAxoGTrDcKZg14yBS', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:47:48,541-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 16:47:48,541-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 16:47:48,577-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '9sagl1fL8bD0TzXyItiKVYF7Q6ZpnrHS', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '228.195.12.219', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:47:48,601-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:47:48,601-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:48,601-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': '9sagl1fL8bD0TzXyItiKVYF7Q6ZpnrHS', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '228.195.12.219', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:47:48,601-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:48,602-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 16:47:48,628-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 16:47:48,629-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 16:47:48,640-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 16:47:48,694-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.12","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:47:48,695-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:47:48,695-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.12', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:47:48,695-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.12
2021-05-19 16:47:48,696-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 16:47:48,698-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '5456925'
2021-05-19 16:47:48,703-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 16:47:48,703-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 16:47:48,703-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 16:47:48,703-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 9.73, 'appId': '5456925', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 16:47:48', 'ext1': '', 'ext2': '', 'maxAmount': 73.28, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191647483755542640387780385617659007', 'ratio': 0.86, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': '2E63102E83224E1D33611A4C1AF7C25F', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 2, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 16:47:48,762-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 16:47:48,762-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643351', '62643352', '62643353', '62643354'], 'batchId': ''}
2021-05-19 16:47:48,762-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643351', '62643352', '62643353', '62643354']
2021-05-19 16:47:48,778-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 16:47:48,778-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 16:47:48,792-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643352')
2021-05-19 16:47:48,806-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:47:49","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.730.09","useableEndTime":"2022-05-19 16:47:48","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.73,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.09,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191647483755542640387780385617659007","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643352","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:47:48,806-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:47:48,806-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:47:49', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.730.09', 'useableEndTime': '2022-05-19 16:47:48', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.73, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.09, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191647483755542640387780385617659007', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643352', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:47:48,807-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[G6]={'vouId': '62643352', 'amount': 1, 'price': None}
2021-05-19 16:47:48,812-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643353')
2021-05-19 16:47:48,822-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:47:49","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.730.09","useableEndTime":"2022-05-19 16:47:48","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.73,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.09,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191647483755542640387780385617659007","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643353","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:47:48,823-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:47:48,823-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:47:49', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.730.09', 'useableEndTime': '2022-05-19 16:47:48', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.73, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.09, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191647483755542640387780385617659007', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643353', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:47:48,823-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643353', 'amount': 1, 'price': None}
2021-05-19 16:47:48,828-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643354')
2021-05-19 16:47:48,836-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:47:49","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.730.09","useableEndTime":"2022-05-19 16:47:48","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.73,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.09,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191647483755542640387780385617659007","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643354","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:47:48,837-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:47:48,837-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:47:49', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.730.09', 'useableEndTime': '2022-05-19 16:47:48', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.73, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.09, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191647483755542640387780385617659007', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643354', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:47:48,837-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[G6]={'vouId': '62643354', 'amount': 1, 'price': None}
2021-05-19 16:47:48,841-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643351')
2021-05-19 16:47:48,850-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 16:47:49","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.730.09","useableEndTime":"2022-05-19 16:47:48","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.73,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.09,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191647483755542640387780385617659007","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643351","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 16:47:48,850-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 16:47:48,851-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 16:47:49', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.730.09', 'useableEndTime': '2022-05-19 16:47:48', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.73, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.09, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191647483755542640387780385617659007', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643351', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 16:47:48,851-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[G6]={'vouId': '62643351', 'amount': 1, 'price': None}
2021-05-19 16:47:48,878-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '7tfLOv6hlSXDpxA0cmBHM4zJdkVgbU2e', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:47:48,911-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 16:47:48,911-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 16:47:48,911-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[I6]={'partnerOrder': '7tfLOv6hlSXDpxA0cmBHM4zJdkVgbU2e', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:47:48,912-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 16:47:48,912-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[M6]=failed
2021-05-19 16:47:48,942-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '4Dpo3Uxw0YktleOdaA61iGryc8LRMSnf', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643352', 'amount': 1, 'price': None}", 'voucherId': '62643352', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:47:48,960-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:47:48,960-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:48,960-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[I6]={'partnerOrder': '4Dpo3Uxw0YktleOdaA61iGryc8LRMSnf', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643352', 'amount': 1, 'price': None}", 'voucherId': '62643352', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:47:48,961-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:48,961-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[M6]=failed
2021-05-19 16:47:48,991-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '5Jj4CvTHPkWxE1Mw398YAnUilFLqR7If', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643353', 'amount': 1, 'price': None}", 'voucherId': '62643353', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '96.17.163.74', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:47:49,006-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:47:49,006-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:49,006-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': '5Jj4CvTHPkWxE1Mw398YAnUilFLqR7If', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643353', 'amount': 1, 'price': None}", 'voucherId': '62643353', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '96.17.163.74', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:47:49,006-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:49,007-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 16:47:49,037-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '7uo5Aah6SNTIYi0r1R9UcGWtfBjM3mpk', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:47:49,055-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519164749208677696945652t","status":"ACCEPTED"}
2021-05-19 16:47:49,056-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519164749208677696945652t', 'status': 'ACCEPTED'}
2021-05-19 16:47:49,071-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:47:49,071-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:47:49,071-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "29343246080737"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Wu5ODkLoz9Pbl14ZVtMNGJymRifdUQ3B"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:47:49,134-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "652d1e9929ae42d5be2cc07d58b60621"
s_p: "UFgzNkxVZnBBc2VMYjkzZjdQeTZpTDh6NVhsalhoMUhPQlhhNlJ3cHVTbnhMTndobnlKMVg3bnppd2tld2JSc0llNHh4MFZvYml1elF5SmxjZUJsbGRPYXVoOWdCQkcyTDFvaHFYN2puTkM5SlJDRnE1b2xOazhEUDRHVE1jdDVEUTVXWFFld0VLUHJBQTROc2hvQmZma2tvSGI4cFBGcnlTTFZucWZYWHhaSURwSGNKTFJjUlBSbFBkdzg1eWlEdmRRUjdmMGdKbU9veVJzV2JOenU0ME41VVJ6dFhkNjMwN3pDV0pvOTZ2bWF4aFNvR1pGcnAxaUZwRlFzSTdNbmo4MHF2cnVEdTltUHcwQXZoSEhvdjkzNzR3cnI2UHNWVUtVZDJ1eE1OcnA2MlJLZE1hT0syQW5Dc2pjemhFc1BjaXV5dlhKOENRQkFlVVFXUlVUQktETnU0NTJDRWhMcmVYMkFRcnVEV2RGaHY0UnhCM1V3eXZGV0h3TlN2aTVCNmJsck93UGZsNGxxdHZBZ3R1dXdCYzZXdG1Zc2ZGN09Sb2VYQUN4ZDg5U1VtQ1ZmVnZDSWpKUkxyaDNzZmJoR3ZXRHRseXlSdHVrTU1JMFlqWGVwS0xYZ1lBVER2T3NWbzlXZGpEWTUwNVNKV3pVM2pFaTBDRUNCaDlrWktjc090VU5XNmlpaklvZ3JmdVFrVVd5MXh6cFM5R2VNbU5xaWxuYXhib2ZodDNjTG1hVjhIVDJqbmZFSVBTSGwyZ1RkUzFad0YzOGdkN0dXeWtCTlMxMFJ6TklNRVJvd0lDS3VBSzBlSDBoWnRrc1BGU3h0cnpDb2k5MkVmTHFXTncwcFVHMU54SWo4ZXRpTmRWM1czMmRoMHFIQnRuNUJrZXVCU0lBWHZQSXQwY0FPaUFrNG5HaVdOOU9UQ1hoR25YNXNTTDhNV3RNQ3Bud2hqOVE2TDRWY1BldmJEclBxUEkzN1BjYzJqVDBvNHVDUlBuR0F0SjFDSVVIVENhZTlVcjB2YzhxZ1lSNkZTVmFqYjVqMnR3YlhrZnc0M0VLSWdSVk8="
m_p: "gK06Jpu7f16td31cI1b4yNA22T8YaBLRo8ioGxi3NNV9R2c24g0G0L4coLbgpxwS"
e_t: "1621522069137"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:47:49,134-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:47:49,135-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:47:49,135-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "652d1e9929ae42d5be2cc07d58b60621"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "EKPrAA4N"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519164749208677696945652t"
version: "265"
queryType: "PAY"

2021-05-19 16:47:49,192-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 16:47:50,207-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:47:50,207-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:47:50,207-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "16923205886946"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "1UnHoZQd9rSiGXsDyINpuxaTl7mE4K3w"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:47:50,268-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "1e9aab80715d458cb20729eef4fa5e2c"
s_p: "d0ljVnBEV3gySVR3U0o2UndEUTlPeTZsN0JwdWYxU1U2WnVJODVUOWpuZlA0U2RRR3Rkb3RZWlFmYnhMQTlhTnZSckpqNEc1eXppYzV1MDQ2RGVvaklDdjNIM2J3cEdkbWJiME9CbmtxeHVZUXNRMDFwZHlNQnBGOEx2QnJjQVg2ajNTN2xacnE4QlZETlN4VFZJWldQSXZ4a2U5SXRCYlFaMHlZY3ByVEU0MVhNRkdZcU5ramxsem00d2xiMXN2OG1LMlI1TWo3R1IyU1RpbEpXQ1dIbW9CMlhmcERqbE5iSTkxMjB3MVE2akdxRHY1SWxMdTdGd2cxaFd3c1VuVDU5VWNBUmZCbnlsMFdLeWJ6dDIxcVZzQmF1dWJmdDdoalhTNFhqNWtzdE5YV0t6Qkx1T2R1V2w1eVgzak1rN2J2OFhYcUJMSFJOM2ZwM2o0TFd0aVFKTnQwNUxZM3FBMzR1TFRwUmpuaUxSeUFMWmJwRmxhQURncDV3dGRrNlNyd1FDU2R4QmJvQW8wdnRvU1ZRVlRkaFVxTDB0WnM3alB5UW5oSXRmMWZqeEo0SEF5c2x4UUp1QWJvTmsyZ3VMcEdZTDZYZ3NFNXRrWTNpeHlHTWZSYmNMUUg0aUtZSm9JdldnVmpyZXpuUUo5MnhnT2xiWmFMNmdIT1JiYzJCdUdZQXlqYThJTWc5eHpiVTZmTW96b0J0V1RsWFNWSkpjOTRWTVkyTnd1OU1BWU80a3loSWRoTEdiQUJjVTdhZW5DZ0hoTUZWb05WbjJTMjhhU3pMaG9aUUg0UTAzc2hudm9CaUpRdm82aTFLNnUyOTBMUWZDSEg5QWR2MlRhMnl3WkdXZ1VtczVRa2NOSUM2SFN2MFY2VnFUZEZmOTFKWVNPNnBRMnVxVFZadDNDMVlBaUk1SkQza0hjcjFycGxBbHdFS29STFc2YlBjV1FpZ2poODR2NFZJdEN2QnNzMlhiNmtaQkgzNzAzTUc5U1hLb0FBOHVEREJON0RWQzM3cWJaUHM1aTViNDNYbU9KM3hFTWhPYXFzQ0Zyb21kVXVUQVQ="
m_p: "3Tg8i8M6sNu96K4m4EeCnkmT5nTUP03DvV70h92HB00gRCWe22S5rDzs4kePXFc9"
e_t: "1621522070273"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:47:50,269-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:47:50,269-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:47:50,269-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "1e9aab80715d458cb20729eef4fa5e2c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "A9aNvRrJ"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519164749208677696945652t"
version: "265"
queryType: "PAY"

2021-05-19 16:47:50,320-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 16:47:51,334-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 16:47:51,335-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:47:51,335-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "79718119000676"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "7NLTCRx05GOFwZVh2lQIesnoYuicgpfH"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 16:47:51,437-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5bc4105f6e154f99a8b0199ec86e51b2"
s_p: "eFlrNkNtQjhRTUtiQVU4b3FzcEVsSVBqZ2dXdXZKekNZQ1JYUllGVGx2dDdBZWttQkFUdEtGU1dZM2FKM2gzV0FzVVNDbDIzYkw4NkhjVU03WURjcFc1WlQ1a1F6cTRTcEZpQWs3N3JEMFlKdklLOER1NHFFM1BzNFc1R3lZNDRxSVRDaU9PV1BQbjdwQm1rRnNPc3VJMERyZmNCYUVsNDdSakZZeU8ydmdwUG5pdnVLVEdPcjdHR2tQamdEamNJc0hOSXh1dExUVVFVTFRIQ1M0c0RuaDdYbFdIdFQ5MFlHd29TM0xxRmFpSXZkb21nMW5Sb3U2Z0tPaHhla09qRmJTQUdFVE5rdnlqdGQ5RkhqbEFRdzR6RmxUTkE1djhrcWY2cGw1NklZM0RGY3Z1b2M1dExOZGllbjJjUmFlVXA3dmZTYVJHZFhmODhZUEg5N1pJVVFDNGxwMG5COUZVZDFFbVZDclJBaFFpNkxyeDlxSzVweFUxV2xPaVYwcGdzanBNR29HUHM2UjlFSjVDUXNxaURVdjlxTkhNRzFMbXJ6MjF5RXhVTmoxUkFTeElTOGZ6SEZJYmg4Rm1UZzMwVTYwbkpBZ1hZUmxhdnplbXdQZDAyNlRGd0VabTFVZER1NUlKQWo5RnVzSkV0d3JlRWNncEpVMlBwcWhUemI0T0Qxb1V5NUhqVGJQcHpkdThQVklHN2pJb1RyM3l3ZFpneFYxWlgwS3hRSTRhakczM0piMFpSM20wOGhGTFZzMHRlVjB4aTJRYW41TkRUaDNCdUhyY0JPUzVkNWpSQlVsT0tDZnVuanFyU296S1dicklDNkNmTWtJMUJYOTFXOEU2ekM2UlZUdFN2WEVXUGFsejF0VlBjOVZISVg3c3hVc05UMWlFbFFWN01iR2VEOXJHUGdtSU0waHl5b0JYOElhQnFmMFVzSHFTdmdxbHBQdkRid0JLV0hLUGhwbEVDU0VJWXVRc0xtMTNXaE5WQXBlQUhvcm1oRWx3Sm9Nelh1NnFxeDJFejU0YmJoTmpWMmRwNlJwSk45eG80a08zODdFc3k="
m_p: "zdptO444IQ04OcLQiZ4ES89t2t9C80uHy4oFM2a33JrzYHZ0YeLcPwT8e34WeG6U"
e_t: "1621522071436"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 16:47:51,437-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 16:47:51,438-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 16:47:51,438-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "5bc4105f6e154f99a8b0199ec86e51b2"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "PPn7pBmk"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519164749208677696945652t"
version: "265"
queryType: "PAY"

2021-05-19 16:47:51,524-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 16:47:52,524-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[I6]={'partnerOrder': '7uo5Aah6SNTIYi0r1R9UcGWtfBjM3mpk', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:47:52,524-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[J6]={'payReqId': 'KB20210519164749208677696945652t', 'status': 'ACCEPTED'}
2021-05-19 16:47:52,525-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[M6]=passed
2021-05-19 16:47:52,562-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '1rteMT54cvkQ9OdCwKBLGWZJ0pqijE7n', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643354', 'amount': 1, 'price': None}", 'voucherId': '62643354', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:47:52,575-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:47:52,575-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:52,575-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[I6]={'partnerOrder': '1rteMT54cvkQ9OdCwKBLGWZJ0pqijE7n', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643354', 'amount': 1, 'price': None}", 'voucherId': '62643354', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:47:52,575-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:52,576-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[M6]=failed
2021-05-19 16:47:52,605-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'fgFc6rGyk97vPnBsJA0u1KHCxSmMIUEq', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643351', 'amount': 1, 'price': None}", 'voucherId': '62643351', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:47:52,620-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:47:52,621-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:52,621-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[I6]={'partnerOrder': 'fgFc6rGyk97vPnBsJA0u1KHCxSmMIUEq', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643351', 'amount': 1, 'price': None}", 'voucherId': '62643351', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:47:52,621-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:52,621-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[M6]=failed
2021-05-19 16:47:52,688-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'oHdwShW9ckT5nztp7fGBLv8rUsjx6P3y', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:47:52,697-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:47:52,697-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:47:52,698-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'oHdwShW9ckT5nztp7fGBLv8rUsjx6P3y', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:47:52,698-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:47:52,698-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 16:47:52,765-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '0poYgjMxLqFQyfEncTrZSwbIvidA3HVD', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:47:52,775-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:47:52,775-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:47:52,776-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': '0poYgjMxLqFQyfEncTrZSwbIvidA3HVD', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:47:52,776-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 16:47:52,776-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 16:47:52,812-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ALJwD4CN1as5Fqt2mG3Xoh0liuMePryv', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 16:47:52,830-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:47:52,831-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:52,831-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': 'ALJwD4CN1as5Fqt2mG3Xoh0liuMePryv', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 16:47:52,831-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:52,832-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 16:47:52,877-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '4wsM8kobOWnL6FN0XxgTBUQauqiHDdeS', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '173.229.34.27', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:47:52,893-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:47:52,893-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:52,893-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': '4wsM8kobOWnL6FN0XxgTBUQauqiHDdeS', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '173.229.34.27', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:47:52,894-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:52,894-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 16:47:52,947-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'weAGnVED4OF6ZzovxHdr5yJNKY7pPlgS', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 16:47:52,961-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:47:52,962-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:52,962-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'weAGnVED4OF6ZzovxHdr5yJNKY7pPlgS', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 16:47:52,962-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:52,963-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 16:47:52,993-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'zFVJtcQDgM02TuqIfOiK1pdshR6awkG3', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '150.34.82.180', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 16:47:53,006-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 16:47:53,007-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:53,007-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'zFVJtcQDgM02TuqIfOiK1pdshR6awkG3', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '150.34.82.180', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 16:47:53,007-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 16:47:53,007-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 16:59:37,562-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 16:59:37,857-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 16:59:38,036-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:59:38,036-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 16:59:38,037-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 16:59:38,329-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:59:38,329-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 16:59:38,329-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 16:59:38,369-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 16:59:38,371-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 16:59:38,384-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:08:33,498-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 17:08:33,887-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 17:08:33,950-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:08:33,950-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 17:08:33,950-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:08:34,188-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:08:34,188-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 17:08:34,188-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:08:34,223-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 17:08:34,224-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 17:08:34,230-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:08:35,039-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 17:08:35,040-INFO-lib.common.case_processor.entry-78-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,040-INFO-lib.common.case_processor.entry-78-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,040-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 17:08:35,040-INFO-lib.common.case_processor.entry-87-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,040-INFO-lib.common.case_processor.entry-87-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,040-INFO-lib.common.case_processor.entry-87-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,040-INFO-lib.common.case_processor.entry-87-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,271-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 17:08:35,271-INFO-lib.common.case_processor.entry-78-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,271-INFO-lib.common.case_processor.entry-78-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643344', 'amount': 1, 'price': 0.67}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,271-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643345', 'amount': 1, 'price': 0.67}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,271-INFO-lib.common.case_processor.entry-78-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,272-INFO-lib.common.case_processor.entry-78-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643343', 'amount': 1, 'price': 0.67}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,272-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643346', 'amount': 1, 'price': 0.67}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,272-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 17:08:35,272-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,272-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,272-INFO-lib.common.case_processor.entry-87-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,272-INFO-lib.common.case_processor.entry-87-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,272-INFO-lib.common.case_processor.entry-87-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,272-INFO-lib.common.case_processor.entry-87-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:08:35,281-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:08:35,309-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'NWGL02zwCZvDYpyUPqn8lEaubhMm9okt', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:08:35,340-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519170835208677696936540t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22X0xrF5s5Mcxqjg8d1fjLqFlHrUwvPCbQ5bpUkKUXRGaS3AHZn0nNgqUb8G2ZvpwrziCy1seLSHu%252BDjt1kCqyP9kiNzEFtrVj3sR0CWH124Iixf%252BXLc3M%252FuTxEk6%252FjfPIxNu1HIqxsOaLPBWWCmQduQdHtpp6%252FiEe8%252FSiLzfSBBs%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519170835208677696936540t\"}","payReqId":"RM20210519170835208677696936540t","status":"AUTH_NEEDED"}
2021-05-19 17:08:35,341-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519170835208677696936540t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="X0xrF5s5Mcxqjg8d1fjLqFlHrUwvPCbQ5bpUkKUXRGaS3AHZn0nNgqUb8G2ZvpwrziCy1seLSHu%2BDjt1kCqyP9kiNzEFtrVj3sR0CWH124Iixf%2BXLc3M%2FuTxEk6%2FjfPIxNu1HIqxsOaLPBWWCmQduQdHtpp6%2FiEe8%2FSiLzfSBBs="&sign_type="RSA"', 'system_order': 'RM20210519170835208677696936540t'}, 'payReqId': 'RM20210519170835208677696936540t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:08:35,342-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'NWGL02zwCZvDYpyUPqn8lEaubhMm9okt', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:08:35,342-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519170835208677696936540t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="X0xrF5s5Mcxqjg8d1fjLqFlHrUwvPCbQ5bpUkKUXRGaS3AHZn0nNgqUb8G2ZvpwrziCy1seLSHu%2BDjt1kCqyP9kiNzEFtrVj3sR0CWH124Iixf%2BXLc3M%2FuTxEk6%2FjfPIxNu1HIqxsOaLPBWWCmQduQdHtpp6%2FiEe8%2FSiLzfSBBs="&sign_type="RSA"', 'system_order': 'RM20210519170835208677696936540t'}, 'payReqId': 'RM20210519170835208677696936540t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:08:35,342-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 17:08:35,371-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'HTGev0DfXJg8jU2PWobmQFncVlt1qANE', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '21.196.93.174', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:08:35,745-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19170835682839910d5768068f2d650000&package=1213891832","payReqId":"RM20210519170835208677696951386t","status":"AUTH_NEEDED"}
2021-05-19 17:08:35,746-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19170835682839910d5768068f2d650000&package=1213891832', 'payReqId': 'RM20210519170835208677696951386t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:08:35,747-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 17:08:35,752-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 17:08:35,753-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[7501459915616752250826374077]]></transaction_id>
<nonce_str><![CDATA[SAOL5YdZIl4HVQDogGvtKsUjbPWFBw2C]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[97207DD1EAEFCA6346071CB1EA864E9F]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519170835208677696951386t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519170835]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 17:08:36,001-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 17:08:36,001-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 17:08:36,016-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:08:36,016-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:08:36,017-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "98928181802981"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "TOMHvzlbckfFEPj9VDn2aZUKGQ4JuX3t"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:08:36,118-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "3c92df89b892497eba00efc13e07abd9"
s_p: "dHptWWNTOWNURUNOVHJwbm5TMlBxdUx0UVRUazdTZFNhV1ZITVNxNlc4ZEFrMUFZc1Ezdm9oN0NqQUhFbXdjdVpwcUtNTW5SVFB6RE1lWVg4dVYzVW9OdVQ2WTVMemdkTTZnSDVyOFF4UElHUUNoNHdSeHRZS0tBRUxnQUJ5ekw4bHg3MFo4OGN4ZVJLaUxWNEd5MWo0TWZ3RjRRcGV4OW5aQVBJbFB3cmpIMHZVeU44ZEY0ZFRyMXVzU1U1d20xdHJNZVBOM1EyM0V6NFBhcU8wa3pJMFI4c2NPRXMxaDV4WEU4YXdZMHZXNzBKOThPRjVnVVhRYVNHTGNTcEY0MmJpaExzMUxXMjJqdUJUNExDNTV3cm81bVoxRTZtSXF6RkYxNlpyUTJIWVQySGtNWkR1VkhIVGk1clRES2lmbENPb0ZrUzJDOTV5TTREZEtlRzdpb2o4eFRVWWhHNElwUENxc1ZJZ1V6cHcwc1lkTXB2R00yZUZLS1djOXB1VmhhSko3R1Q0NURWOHdKSHZVU0F3V254ZFZNRU9nUGp0VjJ3UmplQzdNQlBSVFlTWXhoVmI0d3N5Vm9VQnU3dTg2ZWZLbnljSjFOcGJVNGc3WFE1TG1Cc2VkdkF0S0U1MW1rR2FqdGxVYmVMWmM5Q3pLYzFDQzhvQWRKUjdQWTNKSm1DazhwRXpDd01HeUxPTFNJN014QVpjU1RQWk1pelZQeDU2eG8wNXcyd216Zm5TeDAzYkJPRDZEcGVGaVJzYjlrRGlMRzlwMURlMEpzMnpPbFhicFRJRlVYNWZzdm5oakhSRVAyb0o2d2dQUmVNUlhoZTRHalRjSTZXZDlxa0NxeWJUMzZpbVh3U2JlUkVpb0tNMEY4NDRFY0pueGJIOWJ0M0IybHY4blNiNkNlcU5ISlZ0amJEWUEwZjlKSkJwbEJsTXZ6RW1QNERhcWlNWldpdUhFaE1kZVptN3NDWjVFUlBHMVZpYXllQTdDVzU3YWdWcGZuc211ZUdKY3dNTmpkZzd4SzQ1Sk9LQndpb0RkOHVoQVp1N1FBZ3RnQVM1Mmw="
m_p: "X2Q0E7zYnLBb8ZR2fF0f3cKooZN5RLjn6Or9MoIozAMDGyx5bPLnnrzLSM8JlUaB"
e_t: "1621523316113"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:08:36,118-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:08:36,118-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:08:36,118-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "3c92df89b892497eba00efc13e07abd9"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "zL8lx70Z"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519170835208677696951386t"
version: "265"
queryType: "PAY"

2021-05-19 17:08:36,170-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 17:08:36,172-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519170835208677696951386t"
2021-05-19 17:08:36,183-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5276, 'pay_req_id': 'RM20210519170835208677696951386t', 'notify_id': '7501459915616752250826374077', 'partner_order': 'HTGev0DfXJg8jU2PWobmQFncVlt1qANE', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '21.196.93.174', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 17, 8, 35), 'success_time': datetime.datetime(2021, 5, 19, 17, 8, 35), 'modify_time': datetime.datetime(2021, 5, 19, 17, 8, 36), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 17:08:36,183-INFO-FizAssert-31-订单详情：{'id': 5276, 'pay_req_id': 'RM20210519170835208677696951386t', 'notify_id': '7501459915616752250826374077', 'partner_order': 'HTGev0DfXJg8jU2PWobmQFncVlt1qANE', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '21.196.93.174', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 17, 8, 35), 'success_time': datetime.datetime(2021, 5, 19, 17, 8, 35), 'modify_time': datetime.datetime(2021, 5, 19, 17, 8, 36), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 17:08:36,183-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 17:08:36,184-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[I6]={'partnerOrder': 'HTGev0DfXJg8jU2PWobmQFncVlt1qANE', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '21.196.93.174', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:08:36,184-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19170835682839910d5768068f2d650000&package=1213891832', 'payReqId': 'RM20210519170835208677696951386t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:08:36,185-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[M6]=passed
2021-05-19 17:08:36,211-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'wJ7XLKHCyG5vNfighVs4zeIFWQM3rRkO', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:08:36,218-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:08:36,218-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:08:36,219-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'wJ7XLKHCyG5vNfighVs4zeIFWQM3rRkO', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:08:36,219-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:08:36,219-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:08:36,248-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'y3sSvItUwm5648eTXaxkp17Qr9FDqKLb', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:08:36,256-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:08:36,256-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:08:36,256-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'y3sSvItUwm5648eTXaxkp17Qr9FDqKLb', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:08:36,257-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:08:36,257-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 17:08:36,282-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'FdneWAw6O3baTCuDBjvfZGQ45IqXPi9H', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:08:36,290-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:08:36,290-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:08:36,290-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'FdneWAw6O3baTCuDBjvfZGQ45IqXPi9H', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:08:36,291-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:08:36,291-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 17:08:36,320-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ulnv4O0spNPj58KM7T6tqhdcyU3QeCkB', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '145.116.53.70', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:08:36,341-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:08:36,342-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:08:36,342-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'ulnv4O0spNPj58KM7T6tqhdcyU3QeCkB', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '145.116.53.70', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:08:36,342-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:08:36,343-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 17:08:36,416-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 17:08:36,417-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 17:08:36,427-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 17:08:36,471-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.00","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:08:36,471-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:08:36,471-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.00', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:08:36,471-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.00
2021-05-19 17:08:36,476-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.060000000000000005', 'batchId': '05769286880109869889855082151603', 'bizNo': 'CGVg2nqDNQaPBb5ljSAHwuUTM14Lrkoh', 'operateType': 'PRESENT', 'requestId': '25376764589808970865748458806238', 'source': 'test', 'ssoid': '2086776969', 'timeStamp': 1621415316471})
2021-05-19 17:08:36,527-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","timeStamp":0,"amount":0.060000000000000005,"success":true,"appId":null,"sign":null,"signType":null,"failReason":null,"remark":null,"extraJson":null,"accountOperateType":"PRESENT"},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:08:36,528-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:08:36,528-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'timeStamp': 0, 'amount': 0.060000000000000005, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:08:36,532-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 17:08:36,561-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:08:36,561-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:08:36,562-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:08:36,562-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 17:10:01,220-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 17:10:01,532-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 17:10:01,606-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:10:01,606-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 17:10:01,607-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:10:01,873-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:10:01,874-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 17:10:01,874-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:10:01,917-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 17:10:01,918-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 17:10:01,925-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:10:02,725-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 17:10:02,726-INFO-lib.common.case_processor.entry-78-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'NWGL02zwCZvDYpyUPqn8lEaubhMm9okt', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '{"authHint": {"payType": "AlipayPlugin", "mes": "partner=\\"2088311951685799\\"&seller_id=\\"kekezhifu@keke.cn\\"&out_trade_no=\\"RM20210519170835208677696936540t\\"&subject=\\"SecurityPayments+test\\"&body=\\"SecurityPayments+test\\"&total_fee=\\"0.01\\"&notify_url=\\"http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader\\"&service=\\"mobile.securitypay.pay\\"&payment_type=\\"1\\"&_input_charset=\\"utf-8\\"&it_b_pay=\\"30m\\"&sign=\\"X0xrF5s5Mcxqjg8d1fjLqFlHrUwvPCbQ5bpUkKUXRGaS3AHZn0nNgqUb8G2ZvpwrziCy1seLSHu%2BDjt1kCqyP9kiNzEFtrVj3sR0CWH124Iixf%2BXLc3M%2FuTxEk6%2FjfPIxNu1HIqxsOaLPBWWCmQduQdHtpp6%2FiEe8%2FSiLzfSBBs=\\"&sign_type=\\"RSA\\"", "system_order": "RM20210519170835208677696936540t"}, "payReqId": "RM20210519170835208677696936540t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-19 17:10:02,726-INFO-lib.common.case_processor.entry-78-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'HTGev0DfXJg8jU2PWobmQFncVlt1qANE', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '21.196.93.174', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19170835682839910d5768068f2d650000&package=1213891832", "payReqId": "RM20210519170835208677696951386t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-19 17:10:02,726-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 17:10:02,726-INFO-lib.common.case_processor.entry-87-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'wJ7XLKHCyG5vNfighVs4zeIFWQM3rRkO', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 17:10:02,726-INFO-lib.common.case_processor.entry-87-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': {'partnerOrder': 'y3sSvItUwm5648eTXaxkp17Qr9FDqKLb', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 17:10:02,727-INFO-lib.common.case_processor.entry-87-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'FdneWAw6O3baTCuDBjvfZGQ45IqXPi9H', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}', 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': 'failed', 'comments': None}
2021-05-19 17:10:02,727-INFO-lib.common.case_processor.entry-87-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'ulnv4O0spNPj58KM7T6tqhdcyU3QeCkB', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '145.116.53.70', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': 'failed', 'comments': None}
2021-05-19 17:10:02,990-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 17:10:02,990-INFO-lib.common.case_processor.entry-78-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:10:02,990-INFO-lib.common.case_processor.entry-78-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643344', 'amount': 1, 'price': 0.67}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:10:02,990-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643345', 'amount': 1, 'price': 0.67}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:10:02,991-INFO-lib.common.case_processor.entry-78-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:10:02,991-INFO-lib.common.case_processor.entry-78-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643343', 'amount': 1, 'price': 0.67}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:10:02,991-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643346', 'amount': 1, 'price': 0.67}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:10:02,991-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 17:10:02,991-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:10:02,991-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:10:02,991-INFO-lib.common.case_processor.entry-87-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:10:02,991-INFO-lib.common.case_processor.entry-87-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:10:02,992-INFO-lib.common.case_processor.entry-87-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:10:02,992-INFO-lib.common.case_processor.entry-87-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:10:03,000-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:10:03,029-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'iNrXD3gEKvwPHT9to0xuVMaj1bBRqCsy', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:10:03,077-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519171003208677696910580t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22ZmDpvvUOafTdIdRtJWDB8mXagU1IePxLHndpSZ79%252FF%252F0lKDVHDiXR7ANI2vmDsOmeTM5bJonykDL56gVL3rhjpGW5WsrtPaINoATt2AE4ISSBigZmRFg4y0C46qeRUQMBoPVsidV7IsMQyHSMRjlOPL5UR7LUDsGKUZnXcib6r4%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519171003208677696910580t\"}","payReqId":"RM20210519171003208677696910580t","status":"AUTH_NEEDED"}
2021-05-19 17:10:03,078-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519171003208677696910580t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="ZmDpvvUOafTdIdRtJWDB8mXagU1IePxLHndpSZ79%2FF%2F0lKDVHDiXR7ANI2vmDsOmeTM5bJonykDL56gVL3rhjpGW5WsrtPaINoATt2AE4ISSBigZmRFg4y0C46qeRUQMBoPVsidV7IsMQyHSMRjlOPL5UR7LUDsGKUZnXcib6r4="&sign_type="RSA"', 'system_order': 'RM20210519171003208677696910580t'}, 'payReqId': 'RM20210519171003208677696910580t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:10:03,079-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'iNrXD3gEKvwPHT9to0xuVMaj1bBRqCsy', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:10:03,079-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519171003208677696910580t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="ZmDpvvUOafTdIdRtJWDB8mXagU1IePxLHndpSZ79%2FF%2F0lKDVHDiXR7ANI2vmDsOmeTM5bJonykDL56gVL3rhjpGW5WsrtPaINoATt2AE4ISSBigZmRFg4y0C46qeRUQMBoPVsidV7IsMQyHSMRjlOPL5UR7LUDsGKUZnXcib6r4="&sign_type="RSA"', 'system_order': 'RM20210519171003208677696910580t'}, 'payReqId': 'RM20210519171003208677696910580t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:10:03,079-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 17:10:03,108-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'nkdQ6taFDGAKbyLgNuV8w2ZHxEYzUqCi', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '157.143.110.115', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:10:03,337-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 17:10:03,338-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 17:10:03,338-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[I6]={'partnerOrder': 'nkdQ6taFDGAKbyLgNuV8w2ZHxEYzUqCi', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '157.143.110.115', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:10:03,338-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 17:10:03,338-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[M6]=failed
2021-05-19 17:10:03,376-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'YhBzcPIKQmJj2l57donkaFfur4iXsV8b', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:10:03,383-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:10:03,384-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:10:03,384-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'YhBzcPIKQmJj2l57donkaFfur4iXsV8b', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:10:03,384-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:10:03,384-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:10:03,415-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'fsIKH7o9tbVNcFMzWSRZBkxhTuGg0qYn', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:10:03,424-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:10:03,425-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:10:03,425-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'fsIKH7o9tbVNcFMzWSRZBkxhTuGg0qYn', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:10:03,425-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:10:03,425-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 17:10:03,459-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'mNhvpcjyUB8HCaIg4SOfTqiZAYGuMe2X', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:10:03,466-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:10:03,466-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:10:03,467-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'mNhvpcjyUB8HCaIg4SOfTqiZAYGuMe2X', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:10:03,467-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:10:03,467-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 17:10:03,500-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'sVeZ1zCMIkc73WRqd459K26ynhrBALwx', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '103.134.150.37', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:10:03,518-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:10:03,519-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:03,519-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'sVeZ1zCMIkc73WRqd459K26ynhrBALwx', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '103.134.150.37', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:10:03,520-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:03,520-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 17:10:03,593-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 17:10:03,594-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 17:10:03,612-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 17:10:03,649-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:10:03,649-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:10:03,650-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:10:03,650-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 17:10:03,654-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.060000000000000005', 'batchId': '79975454691427139735066545783517', 'bizNo': 'HOqsDiJ51pTWPz0BLQtnYgFlyEo8rmwK', 'operateType': 'PRESENT', 'requestId': '60647104854248067730503280238153', 'source': 'test', 'ssoid': '2086776969', 'timeStamp': 1621415403650})
2021-05-19 17:10:03,694-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","timeStamp":0,"amount":0.060000000000000005,"success":true,"appId":null,"sign":null,"signType":null,"failReason":null,"remark":null,"extraJson":null,"accountOperateType":"PRESENT"},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:10:03,694-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:10:03,694-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'timeStamp': 0, 'amount': 0.060000000000000005, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:10:03,700-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 17:10:03,731-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.12","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:10:03,732-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:10:03,732-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.12', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:10:03,732-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.12
2021-05-19 17:10:03,733-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 17:10:03,735-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '2031'
2021-05-19 17:10:03,744-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 17:10:03,744-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 17:10:03,745-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 17:10:03,745-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 659.24, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 17:10:03', 'ext1': '', 'ext2': '', 'maxAmount': 725.09, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191710039194176180679466341825897939', 'ratio': 0.17, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': '6E86C3C7041B3D0DD641F2EFF6BF9089', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 5, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 17:10:03,819-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 17:10:03,819-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643357', '62643358', '62643359', '62643360'], 'batchId': ''}
2021-05-19 17:10:03,819-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643357', '62643358', '62643359', '62643360']
2021-05-19 17:10:03,833-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 17:10:03,833-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 17:10:03,850-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643360')
2021-05-19 17:10:03,865-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:10:04","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":7.25,"source":null,"couponDescribe":"0.17","useableEndTime":"2022-05-19 17:10:03","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":6.59,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191710039194176180679466341825897939","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643360","settleType":"1","status":"NORMAL","ratio":0.17},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:10:03,865-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:10:03,865-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:10:04', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 7.25, 'source': None, 'couponDescribe': '0.17', 'useableEndTime': '2022-05-19 17:10:03', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 6.59, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191710039194176180679466341825897939', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643360', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.17}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:10:03,866-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[G6]={'vouId': '62643360', 'amount': 1, 'price': 7.25}
2021-05-19 17:10:03,870-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643359')
2021-05-19 17:10:03,880-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:10:04","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":7.25,"source":null,"couponDescribe":"0.17","useableEndTime":"2022-05-19 17:10:03","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":6.59,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191710039194176180679466341825897939","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643359","settleType":"1","status":"NORMAL","ratio":0.17},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:10:03,880-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:10:03,880-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:10:04', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 7.25, 'source': None, 'couponDescribe': '0.17', 'useableEndTime': '2022-05-19 17:10:03', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 6.59, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191710039194176180679466341825897939', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643359', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.17}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:10:03,880-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643359', 'amount': 1, 'price': 7.25}
2021-05-19 17:10:03,886-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643357')
2021-05-19 17:10:03,895-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:10:04","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":7.25,"source":null,"couponDescribe":"0.17","useableEndTime":"2022-05-19 17:10:03","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":6.59,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191710039194176180679466341825897939","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643357","settleType":"1","status":"NORMAL","ratio":0.17},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:10:03,896-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:10:03,896-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:10:04', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 7.25, 'source': None, 'couponDescribe': '0.17', 'useableEndTime': '2022-05-19 17:10:03', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 6.59, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191710039194176180679466341825897939', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643357', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.17}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:10:03,896-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[G6]={'vouId': '62643357', 'amount': 1, 'price': 7.25}
2021-05-19 17:10:03,900-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643358')
2021-05-19 17:10:03,913-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:10:04","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":7.25,"source":null,"couponDescribe":"0.17","useableEndTime":"2022-05-19 17:10:03","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":6.59,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191710039194176180679466341825897939","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643358","settleType":"1","status":"NORMAL","ratio":0.17},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:10:03,913-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:10:03,913-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:10:04', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 7.25, 'source': None, 'couponDescribe': '0.17', 'useableEndTime': '2022-05-19 17:10:03', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 6.59, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191710039194176180679466341825897939', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643358', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.17}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:10:03,913-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[G6]={'vouId': '62643358', 'amount': 1, 'price': 7.25}
2021-05-19 17:10:03,943-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'vBPZtLGUIhNQJmjwugpb0oEKCy4q3O6F', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:10:03,969-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 17:10:03,970-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 17:10:03,970-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[I6]={'partnerOrder': 'vBPZtLGUIhNQJmjwugpb0oEKCy4q3O6F', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:10:03,970-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 17:10:03,971-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[M6]=failed
2021-05-19 17:10:04,002-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'HXOVagrm4NTC8pbevRLMzduW10ns3PFx', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643360', 'amount': 1, 'price': 7.25}", 'voucherId': '62643360', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:10:04,016-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:10:04,016-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:04,016-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[I6]={'partnerOrder': 'HXOVagrm4NTC8pbevRLMzduW10ns3PFx', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643360', 'amount': 1, 'price': 7.25}", 'voucherId': '62643360', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:10:04,017-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:04,017-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[M6]=failed
2021-05-19 17:10:04,049-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'pqaFBbD8P94fOHIiEo62xVuyURtjYM5m', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643359', 'amount': 1, 'price': 7.25}", 'voucherId': '62643359', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '21.174.19.53', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:10:04,064-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:10:04,064-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:04,064-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'pqaFBbD8P94fOHIiEo62xVuyURtjYM5m', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643359', 'amount': 1, 'price': 7.25}", 'voucherId': '62643359', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '21.174.19.53', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:10:04,064-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:04,065-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 17:10:04,093-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '1pLjJ9nXPQa4gGru6E5idYqTFCoWDvMK', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:10:04,122-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519171004208677696901388t","status":"ACCEPTED"}
2021-05-19 17:10:04,122-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519171004208677696901388t', 'status': 'ACCEPTED'}
2021-05-19 17:10:04,138-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:10:04,139-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:10:04,139-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "54607996689825"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "36xJ94oZepiRSK5BaXhYcdqMLyt8WU0I"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:10:04,193-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "25f00b645ffd482fabe16dd472aa7271"
s_p: "N1V6OE9teWZXSmJIUkJpaktXVFJ5Q1Z0eHBvdDlpWnkxVHIzWmdIZndrcDNNak1LcUEya2N0M3k4Q1lDdFZsMkljM1BXQTN3MUZOR3hBbnB0RldGeTljSmgwZFBLU0IwdWJXUmNuT09zMkFGbW5Iem9aRFBXSVM2aWpyc1F5VDFQZTJrTkNkRUVOWGUyTzBMdkVLU3FYNm1vMXNNTVNRZGVCRWpxRWpHTERZQm44QklxVTRTbG9NWXJoRTR5djVtQ3VxdWNrMExYd2dxenhnSHMzdTJxdW9PekJCV0E0QUtEeEVSdDVLSnF1eUFWU1Q0UDl1bElaVnVacWtFNFFQbWx1TXpDT0FRSGpWTWFmMGhYVVJ3OTJaNXpPN0ZpZ0wzeVZTUFZyTWQ1ajIzbUxMOGdFNXhJT2o5RmpIT0E1WFQ2Q3pyWm1PenpGTjFBNURyeFJXaUVHYXlPMmxWZWVadW9SVEdJMDQ2UFJwWU5VQ2lpcEU0WFp3bEF2MmQ5bHV0UTh2ZEl3S0lGT3pDS2xjUFo1bVlXb1hEaGxCVG8xazlRWFV2WDVDb3ZkV0QwdkpGZkVpNmNLNG1TYmNCQ0VkaXJmM1RjbktJcGloOTVERmlLRU0yQXkzMEh4c2NlZENDendYZUlqbE04VWNWQnVkMG1jeEtBMUF3bzhRNnFzalozSnNyb2l2ZEE2NmV0ekQ4RDBzR0VBTFFKMWVkMFNNODk2bnBzdFN1elV2eWxiaUcwNkJNOTh3SkEyaHY0dnY0UHV6V0FHeG5FTXBsMUgxaU9PYWhSSzdtTWRaSUdmbVB0eHZPbm1CQXEwczJUcERtbXpZeUVYWDQyRWZhNFZpOUxId2J4M1dTOTJTb3lCZ1dXUnJGNnp1TU8xckFTOEd6a09NV2M2VjVpdTBjekFkdWs3MWFGN0lSQUpmVGR2dTRaTTJvVXk4Qk1vNDAxa0NuTXZWcFRUbGtzSGk1dmJGd1d2TjA1RlVUOFZuQ0FzYmxwWmwyTXVOTXFOVzg0aFZyMDN1ZkxsZG1lZ2luZlRBUU0xNGp2VzF1alNZMFRLekI="
m_p: "oQJ7JY875U039o1Vy9yh401USEO37PR7SDS45MR57u1m7ZR2D1y9OK8DpU0bP1rR"
e_t: "1621523404189"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:10:04,194-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:10:04,194-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:10:04,194-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "25f00b645ffd482fabe16dd472aa7271"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "EjqEjGLD"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519171004208677696901388t"
version: "265"
queryType: "PAY"

2021-05-19 17:10:04,270-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:10:05,284-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:10:05,284-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:10:05,284-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "63120046144228"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "V5NtMxXSD8ey02WbdzFcLaElrm3kvQTZ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:10:05,366-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e979bb7afe4148de9d3ff0c7b1fc4aa0"
s_p: "SUlKVjVPM3pBTWVnNDNDU2VsM0VXTGdHdlRJdDNTcFlrOTlIY05Jb2p6WWY5Zk9ZcWhLVGpWakNoVWhBNk95Q1ZqZUFNVXBFWUxBbjhQQ2RMZWNGSVlZRmlmaUJTZ0RReUk5akNUUTc3ME1PVXNCVGUydmF1dlRwalc2NjRaN01GdWFKWkZ1QklvOFpacW8wQTVEMmR2dnVMSm45NUV6bTR6cTQ1YTRpTWppR1EwR3NreGMwSUp6RWRTdTBFZ092MVFNMlp6SVBSRkJoaFdvakJFM3J3TUVjdFJhdWg0VUszWnBVbTZzbXRRZElYMTQxaGhpMnJJbnY3R3MyTURzUm94MjR2UUxmc1VKbGRQdnFPcUlsT3ZFcFJiSGZLcXVZb3NiRGhFYkthQk1RNDlGNWU0YUVBYUFUeEtIbldzQXV3UWJDaTE2RHFCUldsNk1tbVpWRWp1djVKZGRxSHhXUmVrTDUwdkVpTHBKNGV6TWhCS2E4WkV4Qlowd3Y2QXVWQUFPWDZFQms1Rk9SQ3RKVmVSRFN1Y28wSUdXdXRySlNKcnhERGxGOUU0UEpock9ialVYc2o1SXNJbDRPdFJabVA4T3ZJeHVkdUlMOHk0cFZRZHg5dzh3NHRVR2VpMmFGZWIyM015OURqWXYxVUhpVFpYMU84a2k2TTJaWVQxNHJadVZTcnlBTkVPQ1NaMWpEN2RhUFhKYWVyRjVYMVpYY3NOWnRSWTFMck1NMkhPNHNTcHk3aWFGVmVJSWJnbjBxckc4UUpITkQ4aXlrR0YybkdybTdJdlFiTVlWOWNJUlJhSHlNMWk3Qll4cndFMFBRdXdvVm5GdFZObDJNZmxLRGdlUVZYalA1VlhLTHVLekhxdlU5Z2hYVW5uTTJGVHZkVm9JVlhkQ2lLWG92TkZRUEswenF1aXdrdktKYm5Ga1pIaUhXSUMwYXp2djh5MndoZlZ6NzBMdVhyc0lLU1NORDdnZzRyOEZOMFNrejM1WXZyNEZVQVduWk5UdTAxbkkyVHhnUjVxRU1vNnNKWFhHRll5Zk1hcVdoMHR6cFNIMmg="
m_p: "6p4n7Eon340ttdGeEDWD6jdQ873QAoy59e6mIk2029qE51buM1Lgf7v3AKbD0369"
e_t: "1621523405364"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:10:05,367-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:10:05,367-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:10:05,367-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "e979bb7afe4148de9d3ff0c7b1fc4aa0"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "UsBTe2va"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519171004208677696901388t"
version: "265"
queryType: "PAY"

2021-05-19 17:10:05,422-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:10:06,436-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:10:06,436-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:10:06,436-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "38640574871395"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "NqZKfVB6P53eh20DxmHGutRcAi7yazrl"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:10:06,486-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "db55268c876b4aa28b837e13a9813508"
s_p: "S3F0N2pBcEpGb0NlQ2dRVHNQVWJXQjcxN1JLOXpxQUdJZHFsbTRuSmQ5ZlcwQ1ZURXpjM29NclZkZkJlQ2dVcUtaRnNCRjlFRE1MR0VJSERUdkdtamdYcDFJMjJ0SkRJYzQ2ZjRBUXQ3R0NPT3hQMWtvRVhhUTFnSUMzSkRva3pzSDFuN0RsRWJjZ0JQUXloVUdoT1p2eVNSTENrMEkzWWx4VXJyS1JVZ2N6OW9mN25PeEdZUVJZclRtSEpuUWJhMm81ejdwRFdBZlIxakJ2OE5ZWjA4RjNSTHBrUk1hdzl0R0pLQkZJRVVHTXlXNUJNWGRYMFFDUWRXd0NzNXQ3S2FyTW5ZYWpOS0lPTXNyQ1N3TUl2cU1mUHpRSGIyVVBwREZwUlRZTlZlMUxhb1NLVGM2bFp5QVMwRFBXOXNIMVFYZlVkVzh0QnJiSU5scGljNTVpdXhGQWxrWlJRQWhpOWpCeURKaDFvdnEweVRBU3NSdENDS0g4RDlwYUZIQmxaRHdKbTlLb3Zmck5Dc0NuTFVUZjF6ekR0MGJWRm1HVnFKSzdmSlkyd29qbTBMZUZRVkg1Q2hxNmpSVnZOWmVIZDI3MFBOYlgwaUhsb05FMWxHelNYTlNJa0RPQXdMRGtoUVRHUFp0OEx6OXdaRWZMVVJZMFpYa21Ld1dyYmExenZSMjV5QTdyZFJvc1FaQWZubjZsVFNkSVJCaEhkQk5wSWZOdGhUbTZtQjNYU1NTWVhHN0pHS3pGRkx2R2VMUHFNb0ptUUJyVVdpNDJHUDNtb3V3b3JUdmpaN2JteDR6TGdNbWVpeTFvODZWWFUwWWw2clJxeTVRYnhDMHBGWklVV0JxWGMwTTlrcmtRaGR5MGZ2UVJHMkhoMjlSak84QlFPTHBMSW54eUVYelpxT1RFUlVsVnFBdTB4RzZ1eHNuemhjWklYeERzd1p6NmtUOFoxUjhPMXNzYTFqN2tDNk9NdDhwODRZRTZHMHdkbW9LNVJnQU91NVdTSjBtakp2SnEzN1pqT05ucUplbmU3TmQxRkhLSzMzOGVSaDA1cGVya1U="
m_p: "17823i134B8YjgB1zf3b4fZ7f68Tv6lJ3A0NcVMwrG6I2nJNH9C9H7u9C80v2LEu"
e_t: "1621523406484"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:10:06,487-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:10:06,487-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:10:06,487-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "db55268c876b4aa28b837e13a9813508"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "TvGmjgXp"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519171004208677696901388t"
version: "265"
queryType: "PAY"

2021-05-19 17:10:06,557-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:10:07,557-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[I6]={'partnerOrder': '1pLjJ9nXPQa4gGru6E5idYqTFCoWDvMK', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:10:07,557-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[J6]={'payReqId': 'KB20210519171004208677696901388t', 'status': 'ACCEPTED'}
2021-05-19 17:10:07,557-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[M6]=passed
2021-05-19 17:10:07,585-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '57jgviIWtNrx8yaTQMEucXLdKDO6BHRf', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643357', 'amount': 1, 'price': 7.25}", 'voucherId': '62643357', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:10:07,597-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:10:07,598-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:07,598-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[I6]={'partnerOrder': '57jgviIWtNrx8yaTQMEucXLdKDO6BHRf', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643357', 'amount': 1, 'price': 7.25}", 'voucherId': '62643357', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:10:07,598-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:07,599-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[M6]=failed
2021-05-19 17:10:07,644-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'X0RdQn6EV7iAtKNzDe9v4H5W1ykwGSB2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643358', 'amount': 1, 'price': 7.25}", 'voucherId': '62643358', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:10:07,657-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:10:07,657-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:07,657-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[I6]={'partnerOrder': 'X0RdQn6EV7iAtKNzDe9v4H5W1ykwGSB2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643358', 'amount': 1, 'price': 7.25}", 'voucherId': '62643358', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:10:07,658-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:07,658-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[M6]=failed
2021-05-19 17:10:07,687-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'edJoxVG9AF1Tl8BkrK4M6cHC0DsZOEYq', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:10:07,694-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:10:07,694-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:10:07,695-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'edJoxVG9AF1Tl8BkrK4M6cHC0DsZOEYq', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:10:07,695-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:10:07,695-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 17:10:07,724-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'EBFh5zkWlK84yaiOqeAjQv93GPNT6tb2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:10:07,731-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:10:07,731-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:10:07,731-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'EBFh5zkWlK84yaiOqeAjQv93GPNT6tb2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:10:07,732-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:10:07,732-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 17:10:07,763-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '1Sd3TwJpKgabv8xBPYky7jHOU4X6e92m', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:10:07,776-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:10:07,776-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:07,776-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': '1Sd3TwJpKgabv8xBPYky7jHOU4X6e92m', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:10:07,776-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:07,777-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 17:10:07,805-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'bOvBU6pEVuiJnx2yhN3MG175fATsKPSr', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '110.136.149.248', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:10:07,820-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:10:07,821-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:07,821-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'bOvBU6pEVuiJnx2yhN3MG175fATsKPSr', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '110.136.149.248', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:10:07,821-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:07,822-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 17:10:07,852-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'wejIDJSk3rK7nCgdz8XFbvu96yfROcso', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:10:07,865-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:10:07,865-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:07,865-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'wejIDJSk3rK7nCgdz8XFbvu96yfROcso', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:10:07,866-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:07,866-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 17:10:07,896-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Luweo7ISan1Xs8NCGl9yvbtKpqMZdzUY', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '39.20.227.237', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:10:07,910-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:10:07,911-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:07,911-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'Luweo7ISan1Xs8NCGl9yvbtKpqMZdzUY', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '39.20.227.237', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:10:07,911-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:10:07,912-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 17:13:56,256-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 17:13:56,566-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 17:13:56,630-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:13:56,630-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 17:13:56,630-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:13:56,864-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:13:56,865-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 17:13:56,865-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:13:56,899-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 17:13:56,900-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 17:13:56,907-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:13:57,739-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 17:13:57,739-INFO-lib.common.case_processor.entry-78-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:13:57,739-INFO-lib.common.case_processor.entry-78-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:13:57,739-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 17:13:57,739-INFO-lib.common.case_processor.entry-87-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:13:57,739-INFO-lib.common.case_processor.entry-87-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:13:57,739-INFO-lib.common.case_processor.entry-87-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 17:13:57,739-INFO-lib.common.case_processor.entry-87-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,011-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 17:13:58,012-INFO-lib.common.case_processor.entry-78-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,012-INFO-lib.common.case_processor.entry-78-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,013-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 17:13:58,013-INFO-lib.common.case_processor.entry-87-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,013-INFO-lib.common.case_processor.entry-87-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,285-INFO-lib.common.case_processor.entry-75-正向测试用例数据：
2021-05-19 17:13:58,285-INFO-lib.common.case_processor.entry-78-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,285-INFO-lib.common.case_processor.entry-78-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643360', 'amount': 1, 'price': 7.25}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,285-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643359', 'amount': 1, 'price': 7.25}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,286-INFO-lib.common.case_processor.entry-78-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,286-INFO-lib.common.case_processor.entry-78-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643357', 'amount': 1, 'price': 7.25}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,286-INFO-lib.common.case_processor.entry-78-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643358', 'amount': 1, 'price': 7.25}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,286-INFO-lib.common.case_processor.entry-84-负向测试用例数据：
2021-05-19 17:13:58,286-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,286-INFO-lib.common.case_processor.entry-87-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,286-INFO-lib.common.case_processor.entry-87-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,286-INFO-lib.common.case_processor.entry-87-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,286-INFO-lib.common.case_processor.entry-87-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,287-INFO-lib.common.case_processor.entry-87-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:13:58,294-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:13:58,325-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'PtHRymjEz2di73eVGLFf0nUsOpuSqJlw', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:13:58,362-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519171358208677696965467t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22wsJBeDFfvBUizV5qG8CiTAYZdqzQfxIYzNhFC1K2G220vXy7ONqq%252F5uRqk3rNdL4VDXmkpjPrRz7Sel2JLIHcoBNDNHr%252FgknLmjbK%252Fup%252BxSZ3Aa%252Fjhpb7qmF5esZmmf9fhoRtntWihHMiCcxLdDAkkhxFxPYLI18aa%252BBKjGSZhI%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519171358208677696965467t\"}","payReqId":"RM20210519171358208677696965467t","status":"AUTH_NEEDED"}
2021-05-19 17:13:58,363-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519171358208677696965467t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="wsJBeDFfvBUizV5qG8CiTAYZdqzQfxIYzNhFC1K2G220vXy7ONqq%2F5uRqk3rNdL4VDXmkpjPrRz7Sel2JLIHcoBNDNHr%2FgknLmjbK%2Fup%2BxSZ3Aa%2Fjhpb7qmF5esZmmf9fhoRtntWihHMiCcxLdDAkkhxFxPYLI18aa%2BBKjGSZhI="&sign_type="RSA"', 'system_order': 'RM20210519171358208677696965467t'}, 'payReqId': 'RM20210519171358208677696965467t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:13:58,363-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'PtHRymjEz2di73eVGLFf0nUsOpuSqJlw', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:13:58,363-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519171358208677696965467t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="wsJBeDFfvBUizV5qG8CiTAYZdqzQfxIYzNhFC1K2G220vXy7ONqq%2F5uRqk3rNdL4VDXmkpjPrRz7Sel2JLIHcoBNDNHr%2FgknLmjbK%2Fup%2BxSZ3Aa%2Fjhpb7qmF5esZmmf9fhoRtntWihHMiCcxLdDAkkhxFxPYLI18aa%2BBKjGSZhI="&sign_type="RSA"', 'system_order': 'RM20210519171358208677696965467t'}, 'payReqId': 'RM20210519171358208677696965467t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:13:58,364-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 17:13:58,394-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'e8nzV0GCigUY6I4NK5mvrQSdTk7AZJ3u', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '70.229.97.130', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:13:58,708-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19171358649555c27bb8f4647da4bc0000&package=737095307","payReqId":"RM20210519171358208677696968352t","status":"AUTH_NEEDED"}
2021-05-19 17:13:58,708-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19171358649555c27bb8f4647da4bc0000&package=737095307', 'payReqId': 'RM20210519171358208677696968352t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:13:58,710-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 17:13:58,714-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 17:13:58,715-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[7134595010302620045002037601]]></transaction_id>
<nonce_str><![CDATA[sz8x6EySDJZKuhwLvrmj0pdq4eBUNtCI]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[D38E2F2DCC24CBE6286408CDC1EC5E35]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519171358208677696968352t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519171358]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 17:13:58,848-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 17:13:58,848-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 17:13:58,863-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:13:58,863-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:13:58,863-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "01181647848234"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "MU9qewlRBELO4KDZosj3V8vnYhbt0QrF"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:13:58,971-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "30c9346392c2478988d79f722855cfc4"
s_p: "aWpxSnVEV3BSODl2ejQ1elhUT3dWY1pCdzgxeVdSaWF1QzQyUlVmNDdTU3ZwZUI3S2laN05nTGhXTkZBSjVKVDlQdzVHcVlwY2g0YmZJVUZxeUxjQ0xuNHIwNm4wRFRkU29jVnhsOTF5dmVwNXM3Yk5jdkZwaVgwN2tqa05mU0tsU0ZWU2JibVFwUXRlTUFmZnduQjg1S2xTOUw0cGdzTUhIMHZ0TmNnY05WU1pqQldrZnlqQURNVkxIZjFZME56VUdWRVEya0VldklBaklLc1hQc2Z1aHRsalUyUmpDVGI4NXBGbGJIN0Q1SW16NmpkbkpGT3lHSGNRRHc5UFhSdGt2R0s2T0RQQnNLOWxIRFJTcEZOVHBDSUdtNnNLNlZRczM2TVpJa211Y2pGQ0NHYXV6cUk0YlRQNW9KTHRDMXBlQm1aY2REU0N3UmVWa2M2M052VkhqR3lsTEt5bGRqcnE5ZFZGdkkwZmVMSmtVanB4QUFuTFdsS3JrY1pmWmpDdHBUMHU1amJLNUtCaml6WUZIMm5oaG83V0J0TEx2VHNYajZDNkg4VkdsZmVWY0pZSFVVVE9RdnZ2VXk1a1BMbWVYOFJiOTdpbkFoZm1KREdDZm0xb21KMHlqd3hOUDQ4VnBtd3J1ZGZqSzI5aWVYUHNwWklUNU1EektBRlVFcVFFRmo2bnJDblFEYjIzazdnOU4yTHd5a2JvTm5FZ0lKcW5YZEZJSGV1NmRJdzNBVnJjSmlkN0pER3UwM1pveVVwczJpMUVWbnlTR0pNVzNEeTgyUVVRRjVXYUhqRlVaNXNRbDhJOHBuakx1QU5NQWlDUWhGd0Z2T3dmYWhNM1NQMzgwczRGaU5BaUQxQmIxNjBqMlF1NjJRYm50ckVxRFVYVzJydmlRQmNEZkIxcjZ4T0lNUlJkQ0V6b01wNkphTTBXcnJ3OFdzN1FHZTl3dUQ0SVh0dzBIQzZrY0x0M2M1ZWcyQzJUSGxQRmIydjZaY3BTRXROVmtVQ1JOc0RWQ3FRQXpEeDVxREVsSTlIQm03SEZ4ZWt5T1hNS1FFVjdWbDk="
m_p: "Sh84NmD7sKY2z7X53KCD1Q7rn780x17t1tn54Y2ZwWlT1z91bA9o0cNhVGMZf084"
e_t: "1621523638961"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:13:58,971-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:13:58,971-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:13:58,971-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "30c9346392c2478988d79f722855cfc4"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "iauC42RU"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519171358208677696968352t"
version: "265"
queryType: "PAY"

2021-05-19 17:13:59,039-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 17:13:59,042-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519171358208677696968352t"
2021-05-19 17:13:59,048-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5282, 'pay_req_id': 'RM20210519171358208677696968352t', 'notify_id': '7134595010302620045002037601', 'partner_order': 'e8nzV0GCigUY6I4NK5mvrQSdTk7AZJ3u', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '70.229.97.130', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 17, 13, 58), 'success_time': datetime.datetime(2021, 5, 19, 17, 13, 58), 'modify_time': datetime.datetime(2021, 5, 19, 17, 13, 59), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 17:13:59,048-INFO-FizAssert-31-订单详情：{'id': 5282, 'pay_req_id': 'RM20210519171358208677696968352t', 'notify_id': '7134595010302620045002037601', 'partner_order': 'e8nzV0GCigUY6I4NK5mvrQSdTk7AZJ3u', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '70.229.97.130', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 17, 13, 58), 'success_time': datetime.datetime(2021, 5, 19, 17, 13, 58), 'modify_time': datetime.datetime(2021, 5, 19, 17, 13, 59), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 17:13:59,049-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 17:13:59,049-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[I6]={'partnerOrder': 'e8nzV0GCigUY6I4NK5mvrQSdTk7AZJ3u', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '70.229.97.130', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:13:59,049-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19171358649555c27bb8f4647da4bc0000&package=737095307', 'payReqId': 'RM20210519171358208677696968352t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:13:59,049-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信"[M6]=passed
2021-05-19 17:13:59,080-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'qspl2raRNDxLSzGn1Y9cbdtPo4Bj8k0e', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:13:59,087-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:13:59,087-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:13:59,088-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'qspl2raRNDxLSzGn1Y9cbdtPo4Bj8k0e', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:13:59,088-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:13:59,088-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:13:59,119-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'jfZVAw31Eq8WuUFlCmhkPbKevQdoz5pJ', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:13:59,127-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:13:59,127-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:13:59,127-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'jfZVAw31Eq8WuUFlCmhkPbKevQdoz5pJ', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:13:59,127-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:13:59,128-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 17:13:59,159-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'x63a0GbSp1yjXFfVLr5ms8wtvuDQzo2e', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:13:59,168-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:13:59,168-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:13:59,169-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'x63a0GbSp1yjXFfVLr5ms8wtvuDQzo2e', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:13:59,169-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:13:59,169-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 17:13:59,213-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ZPunB8vRKdgaQGlYroENcV9C6hb2LtXH', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '113.247.112.121', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:13:59,234-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:13:59,234-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:13:59,234-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'ZPunB8vRKdgaQGlYroENcV9C6hb2LtXH', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '113.247.112.121', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:13:59,235-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:13:59,235-DEBUG-lib.common.case_processor.entry-91-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 17:13:59,289-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 17:13:59,297-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:13:59,297-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:13:59,297-DEBUG-lib.common.case_processor.entry-91-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 17:13:59,298-DEBUG-lib.common.case_processor.entry-91-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:13:59,298-DEBUG-lib.common.case_processor.entry-91-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 17:13:59,330-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '95.93.140.25', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 17:13:59,340-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:13:59,340-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:13:59,340-DEBUG-lib.common.case_processor.entry-91-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '95.93.140.25', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 17:13:59,340-DEBUG-lib.common.case_processor.entry-91-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:13:59,341-DEBUG-lib.common.case_processor.entry-91-开始更新"纯充值-微信"[M6]=failed
2021-05-19 17:13:59,369-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 17:13:59,376-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:13:59,377-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:13:59,377-DEBUG-lib.common.case_processor.entry-91-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 17:13:59,377-DEBUG-lib.common.case_processor.entry-91-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:13:59,377-DEBUG-lib.common.case_processor.entry-91-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:13:59,409-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 17:13:59,417-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:13:59,417-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:13:59,417-DEBUG-lib.common.case_processor.entry-91-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 17:13:59,417-DEBUG-lib.common.case_processor.entry-91-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:13:59,418-DEBUG-lib.common.case_processor.entry-91-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 17:13:59,465-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 17:13:59,465-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 17:13:59,478-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 17:13:59,521-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.12","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:13:59,522-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:13:59,522-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.12', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:13:59,522-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.12
2021-05-19 17:13:59,524-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 17:13:59,526-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '2031'
2021-05-19 17:13:59,532-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 17:13:59,532-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 17:13:59,532-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 17:13:59,532-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 3.69, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 17:13:59', 'ext1': '', 'ext2': '', 'maxAmount': 49.04, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191713595888692899780469700876322719', 'ratio': 0.49, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': '4AE1925E0A5150A00EDC9D0588B32E70', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 7, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 17:13:59,585-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 17:13:59,585-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643361', '62643362', '62643363', '62643364'], 'batchId': ''}
2021-05-19 17:13:59,586-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643361', '62643362', '62643363', '62643364']
2021-05-19 17:13:59,606-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 17:13:59,606-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 17:13:59,625-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643361')
2021-05-19 17:13:59,636-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:14:00","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.49,"source":null,"couponDescribe":"0.490.49ܶ","useableEndTime":"2022-05-19 17:13:59","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.03,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191713595888692899780469700876322719","subScopeId":"","originalAmount":null,"usableAmt":0.49,"usedPartnerOrder":null,"couponCode":"62643361","settleType":"1","status":"NORMAL","ratio":0.49},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:13:59,637-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:13:59,637-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:14:00', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.49, 'source': None, 'couponDescribe': '0.490.49ܶ', 'useableEndTime': '2022-05-19 17:13:59', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.03, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191713595888692899780469700876322719', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.49, 'usedPartnerOrder': None, 'couponCode': '62643361', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.49}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:13:59,637-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[G6]={'vouId': '62643361', 'amount': 1, 'price': 0.49}
2021-05-19 17:13:59,713-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643362')
2021-05-19 17:13:59,724-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:14:00","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.49,"source":null,"couponDescribe":"0.490.49ܶ","useableEndTime":"2022-05-19 17:13:59","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.03,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191713595888692899780469700876322719","subScopeId":"","originalAmount":null,"usableAmt":0.49,"usedPartnerOrder":null,"couponCode":"62643362","settleType":"1","status":"NORMAL","ratio":0.49},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:13:59,724-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:13:59,724-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:14:00', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.49, 'source': None, 'couponDescribe': '0.490.49ܶ', 'useableEndTime': '2022-05-19 17:13:59', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.03, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191713595888692899780469700876322719', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.49, 'usedPartnerOrder': None, 'couponCode': '62643362', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.49}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:13:59,724-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643362', 'amount': 1, 'price': 0.49}
2021-05-19 17:13:59,731-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643363')
2021-05-19 17:13:59,743-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:14:00","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.49,"source":null,"couponDescribe":"0.490.49ܶ","useableEndTime":"2022-05-19 17:13:59","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.03,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191713595888692899780469700876322719","subScopeId":"","originalAmount":null,"usableAmt":0.49,"usedPartnerOrder":null,"couponCode":"62643363","settleType":"1","status":"NORMAL","ratio":0.49},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:13:59,743-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:13:59,743-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:14:00', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.49, 'source': None, 'couponDescribe': '0.490.49ܶ', 'useableEndTime': '2022-05-19 17:13:59', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.03, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191713595888692899780469700876322719', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.49, 'usedPartnerOrder': None, 'couponCode': '62643363', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.49}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:13:59,743-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[G6]={'vouId': '62643363', 'amount': 1, 'price': 0.49}
2021-05-19 17:13:59,748-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643364')
2021-05-19 17:13:59,758-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:14:00","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.49,"source":null,"couponDescribe":"0.490.49ܶ","useableEndTime":"2022-05-19 17:13:59","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.03,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191713595888692899780469700876322719","subScopeId":"","originalAmount":null,"usableAmt":0.49,"usedPartnerOrder":null,"couponCode":"62643364","settleType":"1","status":"NORMAL","ratio":0.49},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:13:59,758-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:13:59,758-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:14:00', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.49, 'source': None, 'couponDescribe': '0.490.49ܶ', 'useableEndTime': '2022-05-19 17:13:59', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.03, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191713595888692899780469700876322719', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.49, 'usedPartnerOrder': None, 'couponCode': '62643364', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.49}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:13:59,758-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[G6]={'vouId': '62643364', 'amount': 1, 'price': 0.49}
2021-05-19 17:13:59,785-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'VTI6ltdUGX2D7pNRqWHhcfYjM3aEBywn', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:13:59,812-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 17:13:59,812-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 17:13:59,812-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[I6]={'partnerOrder': 'VTI6ltdUGX2D7pNRqWHhcfYjM3aEBywn', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:13:59,813-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 17:13:59,825-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道"[M6]=failed
2021-05-19 17:13:59,856-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'JbevMo1IrHXntYkl0VEh8CURK7AifsQj', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643361', 'amount': 1, 'price': 0.49}", 'voucherId': '62643361', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:13:59,870-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:13:59,870-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:13:59,871-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[I6]={'partnerOrder': 'JbevMo1IrHXntYkl0VEh8CURK7AifsQj', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643361', 'amount': 1, 'price': 0.49}", 'voucherId': '62643361', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:13:59,871-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:13:59,871-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道"[M6]=failed
2021-05-19 17:13:59,900-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'uGBl6tSwgD1f0ZMHdRe58srmNnVxzpLX', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643362', 'amount': 1, 'price': 0.49}", 'voucherId': '62643362', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '237.154.74.106', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:13:59,915-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:13:59,916-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:13:59,916-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'uGBl6tSwgD1f0ZMHdRe58srmNnVxzpLX', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643362', 'amount': 1, 'price': 0.49}", 'voucherId': '62643362', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '237.154.74.106', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:13:59,916-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:13:59,917-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 17:13:59,947-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '8otxDfpQBcVOzb9kG1L0drNgFRaHsJqw', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:13:59,976-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519171359208677696974570t","status":"ACCEPTED"}
2021-05-19 17:13:59,976-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519171359208677696974570t', 'status': 'ACCEPTED'}
2021-05-19 17:13:59,991-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:13:59,992-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:13:59,992-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "45919282649510"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "iebp0LP5Ef4vmg37qnjZFrxRDoIU6zGu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:14:00,045-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ecc310e84dc34f28a6c0a3aec00d0ac3"
s_p: "VWh0MVlOQjBTdWE2Zjk3czAxaEpiQ1JzRGtSUjhzejhEYkltNzRoTUVDdGVZQzdveGU3NU56bGxOVUtabWdYMzBRRnkxMnNDZ05raXhMdEh3aDB2WXdrUWJKMmdqU3Q5eVZEd0lRN0NZRjlhYTQ4WWFSalQza3JUeHlCSDg2OU1QZFAxMVE4ZzdRaVY4VlRiUmNTUHk5QkRMSXRjcnA4djJOYjlZcXJWVjdSTHZ1Y3Y2NHRFdjgzQk1jTXBxUWJzVnBIQTNvUXVhVUdPSkYwZTJPM24zb0dzTW5EWlBnS1JwQXlHblFtem1wRTV0VXdiWEI4MFEzb0QxV2dXUFlXN0oySXlFQUVlWTloajlCbGpzUXFwaTM2Yk5nTG1xVWxCZnU5TDk2OFRWdWJBVGNla00yNzdZbVhKbU1hYVVNdnRJMlJkQUd5RWs1cG80RWhwc2tmYWVtME5PN2NmUWVxaWRQOHNOSUZqZHduY2k0VkdtTElkMlFNNVBhbE4yQkVWSGpXYnBLTnJOZkFnMWc5bVhubUNEejRScklDT1NQYTA0UGtyZkFwNkpUWWJ3ekFYY0d5ek5YOFBNYnVMYjNrdURKMkdXRXNYeHVmUEJUTklqZmd0TzJOTk1TT0dQaHB0TlNjRTFTR3pxOE5HQXR4S2x3Z29ZSUtJRnZCaWNJT3NteGFmZmI0b2Q0N1AxejZESEtRcFdpZk1SVkp1dDhxR2xSbVlGbFQ3bkJCNFBhTENiZk1wZzhPUTZlZFJpM3dVSkRqRXhyU2R1aGcwUzA1OW9HVkFtRllKaWRyRVhKd3ZjSFZwcFBpNEVZMDZpRnltbkxKbWJKeFZPY3hPeG1CRzl2QTdHeVdHbGJWdzJEMndBUHdoblRNcjIySG1tQTQwdnFBZW1jVm1xZVF1aVVrSWtWWVVycFFDeXBnSldwd3NaYURIRXZIOTdIaEswNFU5Z1FTMFozb2dCR3VPWUhPb2Q1dkRxN0ZCeVB1VmxuQjdGenlIbHhtM29PNURHS1FlTnN2VXdmU1VpV0g0bFJha3ZIZEg1VlhLaU9iTm1zZlI="
m_p: "SO0Bl38oI166V936tSO5Ov299D8717oE6Ov55pL3O43xJ39puN17C795y4i1mWB8"
e_t: "1621523640041"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:14:00,045-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:14:00,045-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:14:00,046-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "ecc310e84dc34f28a6c0a3aec00d0ac3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "rTxyBH86"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519171359208677696974570t"
version: "265"
queryType: "PAY"

2021-05-19 17:14:00,095-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:14:01,109-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:14:01,110-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:14:01,110-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "04754680534025"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "jUk0oOSD7KvP3E6Hc9alXuVTZxsNFQqJ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:14:01,166-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "74eafaa09f254377b5237bb00091acb6"
s_p: "V21tU1dSZGdsM0M4eWRYM3BISUxWSzRWYktOVzhaaDRTcXdpT0RxanZmTnJBSnRUSktTSHNMQ1RwVUJXUUsyTnpwUHJxRTI5RVV2b3VKOEdNcnY5MU84NWt0d21HUlBzWEU1dUpZQ3R2YmFVSkhWSUxkaGgxdVJqanFPNGNYdDhuZzZPWEl5THpKQjNlWXN0cGU2RXcxUWhjSktPZGpHZkN1UFhLakNWWG5FeHpUYUJDaktrZTBZZXlqWDZWWGEyRnB3SHlKZnRmdXQzWWs2S3ZxMVU5cFpUV3dsSk9CQUlYY2NEcG5FVlhRRTV4M3h4Tlc2UzZCVXdTQjZjdkhtbjhNVVFlbGIxT05UV2x3T3F3ekRTbFNjY2VYQ3BVMGJXRFdzbWp4a01xQUtJdXZYSVRicTNDN0U2WGZ4Q1J2d3Z3UVdycU5EemhESFh3MkREMUp3S1lUMTFwaUVRTXp4WWFaSEQ4WFYyQk1oT3F4WGljS0gxOWkzaThEVlpDSmxVb0ZaUEw3TFJIU1FHVU1xTzlCMW1GU0JtVWpxRGxEdUFlWGU2bUhISXU3WTVFblh0cGhhd3BUMjByWDdUbHZLR2hIWW9wREREYktRckIzUU9QOVFyN0REb0IyVHNsWGxOQ0VkVk1yR1M2djJMZGJVVFI0RmlocGhBTVR5V24waENlaUhJNnh5ZUt5cEJJQkF0Q3doeE80bE9ZcHZqclU1NWJPbk15OW10aVlub3JnNWVMMTc2Z09GbWxJTEtNSVBkZ1E3NVpMRkdRUmVzaWlJYndVaFNQNVFlMXhMejJZcUM4aGREdTM3cXBUMHJUTzhYUVJKTlROcmR3cWtwbDVsN2wwaDZrZUJSQUQ4MjZzeDZpNzlFOVRLWEdVZ0ZRenJKdXE5dGs0c1NVZ1N2b3ZteDB1UHl6VnBwTGZ5OGhvYlB1YzB4Q2FEU1pVcmxkZm0yVlRjQlRrOTRuOE1QNlNkTVRFb2VFOEhMZnhSRnZJbkhBT3NIQ2tnUUpqaTVHUGVCY21ySVhMVEhzc3lSM21MamIyUHkwTXRDM0pJWlBiMWI="
m_p: "y53wkI93V7isd4hxyG1DR5S3p8D5PxI0KKS4JF2PX8D0gee4zU4s9B6f833oX7sZ"
e_t: "1621523641158"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:14:01,166-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:14:01,166-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:14:01,166-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "74eafaa09f254377b5237bb00091acb6"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "O4cXt8ng"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519171359208677696974570t"
version: "265"
queryType: "PAY"

2021-05-19 17:14:01,229-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:14:02,242-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:14:02,243-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:14:02,243-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "11473174101872"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "HwFTW9oJl2zGnMid1Ch63mkfYe8yr7tA"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:14:02,296-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e0e60e14c62643f5822c7c79c7561195"
s_p: "RWlqR0U4NjF2ZzZGd3pCakk0ZTZWb0RzWHV5ekJTSFk1RUx0TXNJUjB2UnB3aFoxZmtOeG1EdUxPNzI4NjFHN2xlUURUYnFCTlJtNlhLSDJ0OFNBTW9VUWIwZmhraEpUNmZiTklacXE0WGRuQ1FJbEcwbWRwaU4zWTBPS1JVMjdTeW9OM2lxbEQ1WmhZQTdINmJ1UE1HdkxFY3dOOU1DRFF5Z0t1b3E1RjZvUkhCbUViUm9Ha3RlU0NrTXVuQndRdXZOMmtYYU1oUFhvSmJFR3U0MGF4cW0wMFp4dHk5VzNob2JJVmEwRGcyTWdOTnE2YnAzS0cxanBxZUNMUTAzSUlzSksyMGlwbXk1R2hlZWc0UGRjYm1oRTZ0YVMxNEtpem5MdmVacTlWd1RnUVRqTVlOSTdFNFJOTzNxd2tnemJCRXhpTnAyaVUwNDJjZ0ZOUVJOV2lCVXJ3Nzd4bHBWM2VjTWhITThscXg0eUQ5WDVwc3RsZXkwaHRaSEg5aVF6MlZEU29YZ096ZVVoSWExQjgzSEE4VE9xZjJuRlZpMDhQYzc0aGlOS0NSZHBLMktIWU1qMEdXSW9mWFhGcFY5aURXVmVydlhBUzNrdkQwUUtLOEcxaE8zS1FDRHJQMzE4QzNFa0lMMXVMM21NWmhocG5rWDdYdDdzazJtM1hRczlwQ0Q1WWVLMmJrQng1SjVvRng3V2FGVE11b2l2d3kwcUZLWXpYVzZoQkNBelRSMFFMNUpJSmN4OENOUlB5ZFAwWkhncm1kV0JtWkI4MU9HOEZnOGI1Y0htQThBeW5MYkEzV3hKcWVUbmtuM1hDd3h0VTVNTG1DdkpnM2NFZmRZQzVDT3FwakhJOVgyR2Z2YktiWVBiRVJmREFrTWRZdjBEdnU1bDZjaTdPOUpmVzlDNjQ3RG5wdzMzQVdCZ1diZFE2SXI2M2VlUkF0OFJIQUwyR0lVTFllM0NPd1VvMkdUNDc0ZTd1aERDbEtJU0gxMmF1MEgyNk9yYmsza3RveHVZNUMxTHdTRUpBQmRkS3djYjJrQjZGdGZ2UW12dXNqREY="
m_p: "1oQ5iUuF1M7qvr88aWSW9862Y2Fqpbro21lOi5sIH80x508b8bl333zaT8p5Z9D7"
e_t: "1621523642294"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:14:02,297-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:14:02,297-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:14:02,297-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "e0e60e14c62643f5822c7c79c7561195"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "MoUQb0fh"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519171359208677696974570t"
version: "265"
queryType: "PAY"

2021-05-19 17:14:02,340-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:14:03,342-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[I6]={'partnerOrder': '8otxDfpQBcVOzb9kG1L0drNgFRaHsJqw', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:14:03,342-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[J6]={'payReqId': 'KB20210519171359208677696974570t', 'status': 'ACCEPTED'}
2021-05-19 17:14:03,343-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币"[M6]=passed
2021-05-19 17:14:03,370-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '5dAuJGi82kNM9KReB0WsUD1OCQLHvbzn', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643363', 'amount': 1, 'price': 0.49}", 'voucherId': '62643363', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:14:03,382-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:14:03,383-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:14:03,383-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[I6]={'partnerOrder': '5dAuJGi82kNM9KReB0WsUD1OCQLHvbzn', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643363', 'amount': 1, 'price': 0.49}", 'voucherId': '62643363', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:14:03,383-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:14:03,383-DEBUG-lib.common.case_processor.entry-91-开始更新"纯可币券"[M6]=failed
2021-05-19 17:14:03,412-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'PW3hj0S7DTIRcOkfMA4U6FHLmEJ1q8Kg', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643364', 'amount': 1, 'price': 0.49}", 'voucherId': '62643364', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:14:03,425-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:14:03,425-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:14:03,426-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[I6]={'partnerOrder': 'PW3hj0S7DTIRcOkfMA4U6FHLmEJ1q8Kg', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643364', 'amount': 1, 'price': 0.49}", 'voucherId': '62643364', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:14:03,426-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:14:03,426-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券"[M6]=failed
2021-05-19 17:14:03,458-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Agv0R2k49aHXdeYI3ZtfJqcnPS8sbuQU', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:14:03,469-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:14:03,470-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:14:03,470-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'Agv0R2k49aHXdeYI3ZtfJqcnPS8sbuQU', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:14:03,471-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:14:03,471-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 17:14:03,500-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'CdIlimH4GwbMYkQqXjeT2t6fo9znLZcU', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:14:03,509-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:14:03,509-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:14:03,509-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'CdIlimH4GwbMYkQqXjeT2t6fo9znLZcU', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:14:03,509-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:14:03,510-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 17:14:03,538-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Gz7DOZmdsupCLU2hqbJ45IEiNkBxM6jy', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:14:03,553-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:14:03,553-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:14:03,554-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': 'Gz7DOZmdsupCLU2hqbJ45IEiNkBxM6jy', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:14:03,554-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:14:03,554-DEBUG-lib.common.case_processor.entry-91-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 17:14:03,583-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'mZP0ikbJAhow9I6e1CMXdVlqDzy4QNsa', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '150.242.114.195', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:14:03,597-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:14:03,598-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:14:03,598-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'mZP0ikbJAhow9I6e1CMXdVlqDzy4QNsa', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '150.242.114.195', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:14:03,598-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:14:03,598-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 17:14:03,641-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ocWLl0zeB7IryTjY6ZvRKwAM395aV4GC', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:14:03,655-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:14:03,655-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:14:03,655-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'ocWLl0zeB7IryTjY6ZvRKwAM395aV4GC', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:14:03,656-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:14:03,656-DEBUG-lib.common.case_processor.entry-91-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 17:14:03,684-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '8iOly9EvnIRUjp340zsPo56txhQ2CTLH', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '95.75.245.205', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:14:03,697-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:14:03,697-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:14:03,697-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': '8iOly9EvnIRUjp340zsPo56txhQ2CTLH', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '95.75.245.205', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:14:03,698-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:14:03,698-DEBUG-lib.common.case_processor.entry-91-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 17:16:34,764-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 17:16:35,018-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 17:16:35,082-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:16:35,082-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 17:16:35,083-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:16:36,041-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:16:36,041-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 17:16:36,041-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:16:36,076-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 17:16:36,077-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 17:16:36,082-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:16:36,844-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:16:36,844-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:16:36,844-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:16:36,844-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:16:36,844-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:16:36,844-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:16:36,844-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 17:16:36,844-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 17:16:37,069-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:16:37,069-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:16:37,069-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:16:37,069-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:16:37,069-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:16:37,069-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:16:37,297-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:16:37,297-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'VTI6ltdUGX2D7pNRqWHhcfYjM3aEBywn', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': ' 5003 参数异常:{code=100;message= 5003 参数异常}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:16:37,298-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643361', 'amount': 1, 'price': 0.49}, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': 'JbevMo1IrHXntYkl0VEh8CURK7AifsQj', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643361', 'amount': 1, 'price': 0.49}", 'voucherId': '62643361', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:16:37,298-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643362', 'amount': 1, 'price': 0.49}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'uGBl6tSwgD1f0ZMHdRe58srmNnVxzpLX', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643362', 'amount': 1, 'price': 0.49}", 'voucherId': '62643362', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '237.154.74.106', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:16:37,298-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': {'partnerOrder': '8otxDfpQBcVOzb9kG1L0drNgFRaHsJqw', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '{"payReqId": "KB20210519171359208677696974570t", "status": "ACCEPTED"}', 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': 'passed', 'comments': None}
2021-05-19 17:16:37,298-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643363', 'amount': 1, 'price': 0.49}, 'payType': 'KEBI', 'req_params': {'partnerOrder': '5dAuJGi82kNM9KReB0WsUD1OCQLHvbzn', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643363', 'amount': 1, 'price': 0.49}", 'voucherId': '62643363', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:16:37,298-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643364', 'amount': 1, 'price': 0.49}, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'PW3hj0S7DTIRcOkfMA4U6FHLmEJ1q8Kg', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643364', 'amount': 1, 'price': 0.49}", 'voucherId': '62643364', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:16:37,298-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:16:37,298-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'Agv0R2k49aHXdeYI3ZtfJqcnPS8sbuQU', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:16:37,299-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': 'CdIlimH4GwbMYkQqXjeT2t6fo9znLZcU', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:16:37,299-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': {'partnerOrder': 'Gz7DOZmdsupCLU2hqbJ45IEiNkBxM6jy', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:16:37,299-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'mZP0ikbJAhow9I6e1CMXdVlqDzy4QNsa', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '150.242.114.195', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:16:37,299-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'ocWLl0zeB7IryTjY6ZvRKwAM395aV4GC', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:16:37,299-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': '8iOly9EvnIRUjp340zsPo56txhQ2CTLH', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '95.75.245.205', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:16:37,307-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:16:37,334-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '2ElJcUWDAyr8x0NvjzfPMLGX5YSmpw9B', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:16:37,369-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519171637208677696984054t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22m6y%252Bsnas1WuBE8YKFca7bYtum5rD2Iw%252BQUpcBTCR1muGVV%252BFVrukeYd4r%252FEY2ec1c0TRgMqG1ZAaK263YbaboI8vZzICvgNEK2tCmhFQehgyE5cTsM6jce%252BXdd1pMOMqVriozTXQmbPo%252B2wtnPpRxQ4oDuDz%252F7j7qDuAV4W1sIo%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519171637208677696984054t\"}","payReqId":"RM20210519171637208677696984054t","status":"AUTH_NEEDED"}
2021-05-19 17:16:37,370-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519171637208677696984054t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="m6y%2Bsnas1WuBE8YKFca7bYtum5rD2Iw%2BQUpcBTCR1muGVV%2BFVrukeYd4r%2FEY2ec1c0TRgMqG1ZAaK263YbaboI8vZzICvgNEK2tCmhFQehgyE5cTsM6jce%2BXdd1pMOMqVriozTXQmbPo%2B2wtnPpRxQ4oDuDz%2F7j7qDuAV4W1sIo="&sign_type="RSA"', 'system_order': 'RM20210519171637208677696984054t'}, 'payReqId': 'RM20210519171637208677696984054t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:16:37,371-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': '2ElJcUWDAyr8x0NvjzfPMLGX5YSmpw9B', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:16:37,371-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519171637208677696984054t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="m6y%2Bsnas1WuBE8YKFca7bYtum5rD2Iw%2BQUpcBTCR1muGVV%2BFVrukeYd4r%2FEY2ec1c0TRgMqG1ZAaK263YbaboI8vZzICvgNEK2tCmhFQehgyE5cTsM6jce%2BXdd1pMOMqVriozTXQmbPo%2B2wtnPpRxQ4oDuDz%2F7j7qDuAV4W1sIo="&sign_type="RSA"', 'system_order': 'RM20210519171637208677696984054t'}, 'payReqId': 'RM20210519171637208677696984054t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:16:37,371-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 17:16:37,401-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'c9XtQ41FHeBydvCxYD6pSEk3frWwUbuV', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '206.116.167.191', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:16:37,732-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191716376784127853034298cc662f0000&package=607186135","payReqId":"RM20210519171637208677696915778t","status":"AUTH_NEEDED"}
2021-05-19 17:16:37,733-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191716376784127853034298cc662f0000&package=607186135', 'payReqId': 'RM20210519171637208677696915778t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:16:37,734-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 17:16:37,739-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 17:16:37,740-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[1610821120568063464955939773]]></transaction_id>
<nonce_str><![CDATA[sKaNG3YCLAkBTSd2WO0MquZfo5j1hHe8]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[F646AF97B3E9DFF9EEE806FE045D5F3D]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519171637208677696915778t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519171637]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 17:16:37,865-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 17:16:37,865-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 17:16:37,880-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:16:37,880-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:16:37,880-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "41736392905840"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "X2CvRFUtWb3l7zfoBZnpjQKdsiHIg9G6"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:16:37,974-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e5c5ab96ccf64570b6733ff8219bee8d"
s_p: "bkE4bHp6ZVlPQmJUeFhwZ0lmcHJnWW1aemgzUUFYQXpvazQ0aXc4d0JsbDl3Y1c2MmxjWVpSakdWOEtheERYc2NNckliVlJNaWV5MmpiMGpGeUQ1WG02UzJ2bHlORVk2eEZ4YVNrQTBYcjNEbEtDM01Bb1loVVlwbjhMNkc5SVhGUm82TXNIREtxVXAyRkkxZENUdXZmUUdMVHh0S1haR0dUbXlUaDdsWFFKc1UxZTIzdG9jQkV1dkFSN2lkZUt3OFZYb1pIQlFVTzROR09kQXZTN3F0Qk5KbUtmbllmaVVEUUE3TGhJdTlKeDhleDFnUDBUODJuTzd3aDJtaXQ3MFhJZE92Wk52YXV2VnlNZFVBVzBUeldtNVY5MjZrOHNDTUlZQjNpdWw3YWNSbENFODdaV00zVzhDMlM5ejJ4dGRKYTVNS09pakcwTXpOajJjV0NScHVGazM2Vm5sUmc2MFNZY01ZaklHRjRGUmFTOGFZS1h1ZGhWYTcwa040MUxrVHJxVUxWdE5nOVA1NEMyV2NQZFZqa2xWR0VTR0JlazVkbUZBSzA4Q1FkbTBVejRZYmtscllTU0R6T3BBUXZpcmpjcUNwNDNEZGpQVzlsaGFpUjN4VXR1UDVWMEpGR2RCT2NrT3VxdFVITm1ya3dTeUZYbDNOeGp4Rk92d3lWVUVzWlVGTFE3dXI0MU1kaUpQSTZmWEh2cTdCNHlIUTBFU2VlWkFjWjQwT1E4SUJaRFh5TE01enZEQ3B1Z1M5YnVWbjVyVllORExMTFp2OUx4dDJCMklIT2xMZk9aNDRRRGNoZURFaUkyUXVrZmI5N1NZbHh2amVJZmZObkdvelZ4QXBnN09ZUlVMTEQ0RTFBdmNHY1YySWd5V3pwckVtOGw5Y2E3elFPcWNTOHluWGVSamQxT2xCb0JnbDdJc2lHbTBOajRsS096Ym02YmQ3bU9TNFJURlNUY2kxNXBMNWhVdzBIODZBZ01qRndyVTZYTlNRaDhIeFNzaFZZTHA1YWFwSmxRMFJvS0hnZHp1VkJmeFFhQ2RrUDhSZmtxSGVIaWQ="
m_p: "4m1fb8g1nzw93M3ihpkUJger5JPPfhSlX1k0VFT1tN9h09vQ8P81e2J32yYro55j"
e_t: "1621523797971"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:16:37,975-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:16:37,975-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:16:37,975-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "e5c5ab96ccf64570b6733ff8219bee8d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "xFxaSkA0"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519171637208677696915778t"
version: "265"
queryType: "PAY"

2021-05-19 17:16:38,024-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 17:16:38,026-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519171637208677696915778t"
2021-05-19 17:16:38,034-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5286, 'pay_req_id': 'RM20210519171637208677696915778t', 'notify_id': '1610821120568063464955939773', 'partner_order': 'c9XtQ41FHeBydvCxYD6pSEk3frWwUbuV', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '206.116.167.191', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 17, 16, 37), 'success_time': datetime.datetime(2021, 5, 19, 17, 16, 37), 'modify_time': datetime.datetime(2021, 5, 19, 17, 16, 38), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 17:16:38,034-INFO-FizAssert-31-订单详情：{'id': 5286, 'pay_req_id': 'RM20210519171637208677696915778t', 'notify_id': '1610821120568063464955939773', 'partner_order': 'c9XtQ41FHeBydvCxYD6pSEk3frWwUbuV', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '206.116.167.191', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 17, 16, 37), 'success_time': datetime.datetime(2021, 5, 19, 17, 16, 37), 'modify_time': datetime.datetime(2021, 5, 19, 17, 16, 38), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 17:16:38,034-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 17:16:38,035-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': 'c9XtQ41FHeBydvCxYD6pSEk3frWwUbuV', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '206.116.167.191', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:16:38,035-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191716376784127853034298cc662f0000&package=607186135', 'payReqId': 'RM20210519171637208677696915778t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:16:38,036-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=passed
2021-05-19 17:16:38,066-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Wbl7ROcnzBsNoprigEAIPSaKUZQtfvkJ', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:16:38,078-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:38,078-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:16:38,079-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'Wbl7ROcnzBsNoprigEAIPSaKUZQtfvkJ', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:16:38,079-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:16:38,079-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:16:38,109-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'DmPUMaSZRWt6H3AjQ8CuOVNeKgfcpG4q', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:16:38,117-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:38,118-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:16:38,118-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'DmPUMaSZRWt6H3AjQ8CuOVNeKgfcpG4q', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:16:38,118-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:16:38,118-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 17:16:38,151-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'NoITdFR74E1sruYQ2xqbP6vkKteU0c3W', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:16:38,158-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:38,159-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:16:38,159-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'NoITdFR74E1sruYQ2xqbP6vkKteU0c3W', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:16:38,159-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:16:38,159-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 17:16:38,191-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'geZRCNwkE4ABGdxJt8LTuscprXvMIPHf', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '145.149.62.68', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:16:38,214-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:38,214-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:38,215-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'geZRCNwkE4ABGdxJt8LTuscprXvMIPHf', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '145.149.62.68', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:16:38,215-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:38,215-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 17:16:38,259-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 17:16:38,266-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:38,267-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:16:38,267-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 17:16:38,268-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:16:38,268-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 17:16:38,297-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '82.226.220.213', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 17:16:38,304-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:38,304-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:16:38,304-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '82.226.220.213', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 17:16:38,305-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:16:38,305-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 17:16:38,333-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 17:16:38,341-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:38,341-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:16:38,342-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 17:16:38,342-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:16:38,342-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:16:38,370-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 17:16:38,385-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:38,385-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:16:38,385-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 17:16:38,386-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:16:38,386-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 17:16:38,412-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 17:16:38,412-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 17:16:38,423-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 17:16:38,467-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.12","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:16:38,467-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:16:38,467-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.12', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:16:38,468-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.12
2021-05-19 17:16:38,469-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 17:16:38,471-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '2031'
2021-05-19 17:16:38,477-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 17:16:38,477-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 17:16:38,477-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 17:16:38,477-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 6.82, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 17:16:38', 'ext1': '', 'ext2': '', 'maxAmount': 9.5, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191716382222737356696161963133238370', 'ratio': 0.4, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': '20670899724351F1FBAE22B67624A7A0', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 8, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 17:16:38,533-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 17:16:38,533-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643365', '62643366', '62643367', '62643368'], 'batchId': ''}
2021-05-19 17:16:38,534-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643365', '62643366', '62643367', '62643368']
2021-05-19 17:16:38,550-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 17:16:38,550-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 17:16:38,562-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643365')
2021-05-19 17:16:38,575-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:16:39","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.06Ԫ","useableEndTime":"2022-05-19 17:16:38","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"RED_PACKET_COUPON","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.06,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191716382222737356696161963133238370","subScopeId":"","originalAmount":0.06,"usableAmt":0.06,"usedPartnerOrder":null,"couponCode":"62643365","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:16:38,575-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:16:38,575-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:16:39', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.06Ԫ', 'useableEndTime': '2022-05-19 17:16:38', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'RED_PACKET_COUPON', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.06, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191716382222737356696161963133238370', 'subScopeId': '', 'originalAmount': 0.06, 'usableAmt': 0.06, 'usedPartnerOrder': None, 'couponCode': '62643365', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:16:38,576-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[G6]={'vouId': '62643365', 'amount': 1, 'price': 0.06}
2021-05-19 17:16:38,579-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643367')
2021-05-19 17:16:38,590-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:16:39","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.06Ԫ","useableEndTime":"2022-05-19 17:16:38","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"RED_PACKET_COUPON","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.06,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191716382222737356696161963133238370","subScopeId":"","originalAmount":0.06,"usableAmt":0.06,"usedPartnerOrder":null,"couponCode":"62643367","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:16:38,591-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:16:38,591-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:16:39', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.06Ԫ', 'useableEndTime': '2022-05-19 17:16:38', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'RED_PACKET_COUPON', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.06, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191716382222737356696161963133238370', 'subScopeId': '', 'originalAmount': 0.06, 'usableAmt': 0.06, 'usedPartnerOrder': None, 'couponCode': '62643367', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:16:38,591-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643367', 'amount': 1, 'price': 0.06}
2021-05-19 17:16:38,596-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643368')
2021-05-19 17:16:38,607-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:16:39","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.06Ԫ","useableEndTime":"2022-05-19 17:16:38","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"RED_PACKET_COUPON","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.06,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191716382222737356696161963133238370","subScopeId":"","originalAmount":0.06,"usableAmt":0.06,"usedPartnerOrder":null,"couponCode":"62643368","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:16:38,607-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:16:38,607-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:16:39', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.06Ԫ', 'useableEndTime': '2022-05-19 17:16:38', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'RED_PACKET_COUPON', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.06, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191716382222737356696161963133238370', 'subScopeId': '', 'originalAmount': 0.06, 'usableAmt': 0.06, 'usedPartnerOrder': None, 'couponCode': '62643368', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:16:38,607-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[G6]={'vouId': '62643368', 'amount': 1, 'price': 0.06}
2021-05-19 17:16:38,612-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643366')
2021-05-19 17:16:38,622-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:16:39","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.06Ԫ","useableEndTime":"2022-05-19 17:16:38","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"RED_PACKET_COUPON","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.06,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191716382222737356696161963133238370","subScopeId":"","originalAmount":0.06,"usableAmt":0.06,"usedPartnerOrder":null,"couponCode":"62643366","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:16:38,622-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:16:38,622-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:16:39', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.06Ԫ', 'useableEndTime': '2022-05-19 17:16:38', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'RED_PACKET_COUPON', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.06, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191716382222737356696161963133238370', 'subScopeId': '', 'originalAmount': 0.06, 'usableAmt': 0.06, 'usedPartnerOrder': None, 'couponCode': '62643366', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:16:38,623-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[G6]={'vouId': '62643366', 'amount': 1, 'price': 0.06}
2021-05-19 17:16:38,648-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Zlemg4vEhAfrx05u1z9botHIY7JTCPia', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:16:38,672-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 17:16:38,672-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 17:16:38,672-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[I6]={'partnerOrder': 'Zlemg4vEhAfrx05u1z9botHIY7JTCPia', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:16:38,673-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 17:16:38,673-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[M6]=failed
2021-05-19 17:16:38,702-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'orcbhL6Z4JflAWzIVeakMy71vg5nmiU2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643365', 'amount': 1, 'price': 0.06}", 'voucherId': '62643365', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:16:38,717-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:38,718-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:38,718-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[I6]={'partnerOrder': 'orcbhL6Z4JflAWzIVeakMy71vg5nmiU2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643365', 'amount': 1, 'price': 0.06}", 'voucherId': '62643365', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:16:38,718-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:38,719-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[M6]=failed
2021-05-19 17:16:38,750-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'cX83yLtxaeRvZUFogz26NnYDwIKuQH9S', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643367', 'amount': 1, 'price': 0.06}", 'voucherId': '62643367', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '107.66.5.87', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:16:38,762-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:38,763-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:38,763-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'cX83yLtxaeRvZUFogz26NnYDwIKuQH9S', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643367', 'amount': 1, 'price': 0.06}", 'voucherId': '62643367', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '107.66.5.87', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:16:38,763-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:38,763-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 17:16:38,790-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'wDzutHJTdSOx7yeVsM5Ivhpl2nQB8gUc', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:16:38,809-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519171638208677696956436t","status":"ACCEPTED"}
2021-05-19 17:16:38,809-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519171638208677696956436t', 'status': 'ACCEPTED'}
2021-05-19 17:16:38,823-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:16:38,824-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:16:38,824-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "31563301286269"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "1Pyv4BGpdgcZfqmEsVKFrzX8k2JOwDTj"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:16:38,877-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2fbd139a35e2471b8fe6c8ab9d801e7c"
s_p: "cUJuMzNsWmdUUTdTN3V4eUpya2NkVTNaRklxNldtaXFHRTJYcVhzN1Z6aW9qRmNzWThTb1ZBRWhzM1VkeVNHdGxWeVNwMlJ3R0p2R0JOWHpMbjFNcG1ObHJyV2JQNUFIY0gxRTZrZElaTEVOcnZtb1hLU3NUV1hVVHZDa2poSWt1MUFTUFdhelFydVFMeFE5MGliRUtRMTVoUVNtY1ZINkdQdjViZjNzOE5IbkRzcnNQQXdmR0xHTU5OQWZYenVxdU1JYmJUMVJtcWpDODhqY1hqanBwck5NYXJFR3VLdElYT3J5dlRCemNHYnZyamhDbThteHliSFZ0enRaRW9WUENzeVk4YzREN0tiZnlPS1FWYVpKTkxrOWl5RGtyVmpxM0lZS0xvY04weURKRE4wQm5HUWxZS3R0NHpCRkpUU3J0ekhQQktnT3hyekhtSkZhVUJrZVVBSE9LTDRWcXFYeGp0VmpxbTRpSkIzdlh1dFBmMHo0NVVvRmlsZk40MkF4bWpTeG1TNGZwdEJLTjR6aXZzWjB4ekhXUjBwM2ZoYTdVMXVWZlU5Z29TNXY2bk1LbXNHWGMxZnRVZU0yM1ZaaHpZNTdWbU1rNFBDZ2dIb0k3RTdZdGoxdHlHRGFKVVgyYWhUY0RyYnBxemFQT2lkVzU5SVN5dTAxNklBYjhBb1pnN2ZXS3YzRURSbENxSlJIRUJMSUxDTGtZWjlFODVJMnlKUjZxbk5ZUkNmUXJXbjZWdm1ZejdYV3ladmh4UHM1OTZSYnpNTVZMVFV3YkFnOTVacEVJV1NYdEpFOWswVVZIN0lFWGtYQW9kcFdvVHlFVjZQODdNTDA0RXY5dXRwTjlZN1Fja2hybzNjNFNweEdBdFM2RWpmZE9idjV0c1NvSW1rRW5nT1VZVzVEblpvNmN0bGExbGo5bVFvNTRJcUNldjZvZTh2dFZzSVVZZnJLTlBpOGVjT3JxNzZEVXRTRE1HSFE1cXpndFlsOW8yQ2wwd3pGN1BnRDZ0Nk9hVW15SnptY24xTFRyb25TUDE2b2V0dzVQWTBJZnJHQWliakU="
m_p: "foGHZPjqYrrQ8Aso7AHAhCV0u3PUxK3X46k0w0Xm70f1oukGjjn9rbQn327X9YJh"
e_t: "1621523798874"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:16:38,878-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:16:38,878-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:16:38,878-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "2fbd139a35e2471b8fe6c8ab9d801e7c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "NlrrWbP5"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519171638208677696956436t"
version: "265"
queryType: "PAY"

2021-05-19 17:16:38,938-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:16:39,951-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:16:39,952-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:16:39,952-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "04215168334258"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "fLeVswNOBYW4gK05XUFISkQjoPCr3ln2"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:16:40,036-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b8e9dde1c9434ad582987b1343930971"
s_p: "Q2dKU055eFZ2Z3BQTzVicHZsUDJYcVA0a1pIbU8ycTg3U1l5NkgzTTBHbFlpeThaNjhYM0E5dnpmS0JvcTdZcXg5SEw2dmZ4dGpTYW01aVdLVll0ZUltUjA5SnltWVlXS1R6WEI0NTJhVDZjb3hLcXJ2aGhCTFRXakF5WXpZanZvcTRWbExlbE1UTFlPc0k3TVREWkFqenVvSG1WVTF5Nm9vSnVUV2dZRXVqU2JHRzFJbG9DS2Q0eUxtOU1BTTRZbG5zeENBazBzaFdqUUdIdzNrQzFQU3hJZnB1WURPY2xkR25hTDg1ZFdNZ0p2dHhqM1haSlNoNldsRkZpdEJ4Y0ltZzJLVEdiZXRqQk5YdE91VDdkcmE2c3ROUlZ0aE1Qd3JsUk5OQXJQNkpiN1ZFZlJHbXVNZEpRaG5FS3VqY2l3MVkzZlBjeXNjRzdOUUVpb2thYVJUd3lCRGd4elRPRWxVWkdGQTVldEZRTUJOS3BLclg4MjFYQk9Kbm53ZnhlWjIwdnlJdms0YjJrc3NtRlFDbmhqV2dkWnRLUEpSbXdoZTMweWUxNmtmUVF4aTNxZGhsWUp2NmVVRTdITmI5NVAyRFZCMVZZUFYzU3NDOGdvWTBROUtvaDlJOWFyTDlyRFFFWHk0a1JUQmlmV1lxUjgyYzFPZGZ2OTlMdzN2NHhnTDc5dFI2MVFnUmFNcEFmeHZjRU9aT2NsczNCUHA3YkloQzVKbU05U0tmQlVTVlRORlo4ckV3Ylo5WXlzRmtDQ3BtV3h1Y2tyelQ5T1JJZDFPdHJ6d1dPZjJGazdSNHJ1amZEaDVQYUJJZE5yUENOV3RwZUozYU1ia2FIa1BLUTJkcWt5ZDl2WlpqbzQzNDk0MUZabXdLSnFJYkg2R0R0djNVYklVektHcUJoSGR5YmxGalZIU2pvdEJZR0syNGptQnpTZ3Z1eG4zcjlIbUppVFZMNlBRSks2anA3Nkx1YlJDaFBFclJPTFhqZnNKVFNualQ5bzZ6SkJuM3ZzNmNwQzlzYTdoTkxqdnAxU1RKR3d6ZmJ1UHhGanp0b1ZRSjQ="
m_p: "QGBVkfOp2fcN9qN0w9k3800rBVLP0PIf7ve441tbYw36eCBWoUtXkv5Qnj2UD95v"
e_t: "1621523800017"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:16:40,036-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:16:40,037-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:16:40,037-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "b8e9dde1c9434ad582987b1343930971"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "hhBLTWjA"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519171638208677696956436t"
version: "265"
queryType: "PAY"

2021-05-19 17:16:40,100-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:16:41,114-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:16:41,115-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:16:41,115-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "44046840693792"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "5cXMhfZilsgvb6YJBw8VAPRp19duzkSy"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:16:41,197-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c54f46968906472199e4410643bb82f3"
s_p: "SHlxOVpnTksyMTZpalgzOXFnNllzQ3N3N3pQR0dkOFBpYnB4dlA2QlBHZG9YWWZhMnU0UlZUWUs1R21BWmw0VWJLaFJJc0ROOGlvNnNtMEdHd2dObnlKeW55Uk8xTGJiTFVxaHYwb0FDczhCV0tKQTFxQmlrSTNJNkdjb3pLazdHWGZqaXBkYnBXSDM4aFFvd0dwVEIzVHhOa0U0TzB0dk5aSWlHTFhqbFF6RUtMc2p2U21jU3A1bkFrRWdZRXBnSXRTVkhpakcxV0c5c2hWTzJDVk1zTk04STlXVm85NU9DczRveE9ESjJhdkVqVHhlVUZnUlQ3TEJkSXVLREpQUnBZTHRhb2toYlY5UnRoUEJNcGl0ZGcybFNaUmlkek1GMGk0NlZ3ZHdmNVVIMXBVQm9rSWpLVDJQN3BydDF2QVJrbWsxY2hzRmFrZXF2TlZXeTBjQnFLdTZydUs1RkpibjRSV1ZrNHRkVW8xU0k0MFJQOTRiYndBb0hRM3FwTkFob05mQ2R1QkplUFdyZ2l2eXFXeXRmOFd3U29WZlZCa01rdldPOENybkFiU2d0ZVZsNEZwclNMUjdQb1N1VE9oTjUydEdUc1pEUDlGS1RsUHgxeWFLNmdlTnAzYUpkZXNTOHFMYXhUU2JOMWVDNmVHUGFESHpsbTExdnFKOVhzbUsyVjloYUVKTTlWZG9va3lJNmllWkY0ZVRBWTI2aEZWZWU0dUp1VTg4RkV1WnY1TnFnRjNRTFdtQWRPaUFORzh0Q2J0U2xTRGZXWlE4ak13bWdwdlc5SHdaWGFEWjFXdFdHa25YMFZiOEtNWkh5bTlMZk1yN3lBVlFkcDlZajlJRFpERmp2VERzdEdVV0I3RkY3S2Zzc1haSnI5RGREd05MUW1neHpMUEFnZER6M29aeGJFa3VJWGFjczJHV2J1TTRrZHhZVXFROEdOa09JZDcydVIwZ2E0UmRjQXlLQUxkbE5xNGxUY2xicTdFazVIZ1p4RFZFSk5qMmNHeHA2ZWxKa1E0NWdieWNUbEFXY3dLbVRyV3dldVF0STY1OGUzSDA="
m_p: "8jQ101el34XK8XOqr300mD6jDMuT7cyWWdFB01k5OvHq2B3a9gm6pUXD9wZAlWI5"
e_t: "1621523801173"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:16:41,197-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:16:41,198-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:16:41,198-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "c54f46968906472199e4410643bb82f3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "H38hQowG"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519171638208677696956436t"
version: "265"
queryType: "PAY"

2021-05-19 17:16:41,266-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:16:42,266-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[I6]={'partnerOrder': 'wDzutHJTdSOx7yeVsM5Ivhpl2nQB8gUc', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:16:42,266-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[J6]={'payReqId': 'KB20210519171638208677696956436t', 'status': 'ACCEPTED'}
2021-05-19 17:16:42,267-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[M6]=passed
2021-05-19 17:16:42,293-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'rXgPbl9OpoSwU51cNnkisLJmZ2C7B8aF', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643368', 'amount': 1, 'price': 0.06}", 'voucherId': '62643368', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:16:42,308-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:42,308-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:42,308-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[I6]={'partnerOrder': 'rXgPbl9OpoSwU51cNnkisLJmZ2C7B8aF', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643368', 'amount': 1, 'price': 0.06}", 'voucherId': '62643368', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:16:42,309-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:42,309-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[M6]=failed
2021-05-19 17:16:42,367-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'PTL5O2fwsp90dmuSAMEeR8nUjHgxDykb', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643366', 'amount': 1, 'price': 0.06}", 'voucherId': '62643366', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:16:42,427-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:42,428-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:42,428-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[I6]={'partnerOrder': 'PTL5O2fwsp90dmuSAMEeR8nUjHgxDykb', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643366', 'amount': 1, 'price': 0.06}", 'voucherId': '62643366', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:16:42,428-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:42,428-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[M6]=failed
2021-05-19 17:16:42,489-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'yE0GAeqkPcdzS74D9HJXmWrQTxuhs8o3', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:16:42,497-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:42,497-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:16:42,497-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'yE0GAeqkPcdzS74D9HJXmWrQTxuhs8o3', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:16:42,498-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:16:42,498-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 17:16:42,570-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'z50pyBGqfnErTNmCOKowhujc73YLFa4R', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:16:42,578-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:42,578-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:16:42,578-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'z50pyBGqfnErTNmCOKowhujc73YLFa4R', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:16:42,578-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:16:42,579-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 17:16:42,702-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'h3uXLGnQzq94PTBJAgfDHbNmtFeZEKox', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:16:42,715-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:42,716-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:42,716-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': 'h3uXLGnQzq94PTBJAgfDHbNmtFeZEKox', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:16:42,716-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:42,717-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 17:16:42,779-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Fc0pxQofWKXGnDml9y2d7JEgZY5IuaCr', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '1.207.5.158', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:16:42,792-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:42,792-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:42,792-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'Fc0pxQofWKXGnDml9y2d7JEgZY5IuaCr', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '1.207.5.158', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:16:42,793-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:42,793-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 17:16:42,851-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'nTQiXPk0Lx5DdNvYpWr3o4wOIVqfMgse', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:16:42,916-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:42,916-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:42,916-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'nTQiXPk0Lx5DdNvYpWr3o4wOIVqfMgse', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:16:42,917-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:42,917-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 17:16:42,956-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ufM0hT8xgOwXHo2dBl1kLZK3icsPpnND', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '151.152.24.181', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:16:42,969-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:16:42,969-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:42,969-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'ufM0hT8xgOwXHo2dBl1kLZK3icsPpnND', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '151.152.24.181', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:16:42,969-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:16:42,970-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 17:17:49,078-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 17:17:49,379-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 17:17:49,447-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:17:49,447-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 17:17:49,447-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:17:49,743-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:17:49,743-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 17:17:49,743-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:17:49,779-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 17:17:49,780-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 17:17:49,787-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:17:50,591-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:17:50,592-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:17:50,592-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:17:50,592-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:17:50,592-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:17:50,592-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:17:50,592-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 17:17:50,592-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 17:17:50,818-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:17:50,818-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:17:50,818-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:17:50,818-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:17:50,818-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:17:50,819-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:17:51,087-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:17:51,087-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'VTI6ltdUGX2D7pNRqWHhcfYjM3aEBywn', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': ' 5003 参数异常:{code=100;message= 5003 参数异常}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:17:51,088-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643361', 'amount': 1, 'price': 0.49}, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': 'JbevMo1IrHXntYkl0VEh8CURK7AifsQj', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643361', 'amount': 1, 'price': 0.49}", 'voucherId': '62643361', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:17:51,088-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643362', 'amount': 1, 'price': 0.49}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'uGBl6tSwgD1f0ZMHdRe58srmNnVxzpLX', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643362', 'amount': 1, 'price': 0.49}", 'voucherId': '62643362', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '237.154.74.106', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:17:51,088-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': {'partnerOrder': '8otxDfpQBcVOzb9kG1L0drNgFRaHsJqw', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '{"payReqId": "KB20210519171359208677696974570t", "status": "ACCEPTED"}', 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': 'passed', 'comments': None}
2021-05-19 17:17:51,088-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643363', 'amount': 1, 'price': 0.49}, 'payType': 'KEBI', 'req_params': {'partnerOrder': '5dAuJGi82kNM9KReB0WsUD1OCQLHvbzn', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643363', 'amount': 1, 'price': 0.49}", 'voucherId': '62643363', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:17:51,088-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643364', 'amount': 1, 'price': 0.49}, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'PW3hj0S7DTIRcOkfMA4U6FHLmEJ1q8Kg', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643364', 'amount': 1, 'price': 0.49}", 'voucherId': '62643364', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:17:51,088-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:17:51,089-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'Agv0R2k49aHXdeYI3ZtfJqcnPS8sbuQU', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:17:51,089-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': 'CdIlimH4GwbMYkQqXjeT2t6fo9znLZcU', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:17:51,089-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': {'partnerOrder': 'Gz7DOZmdsupCLU2hqbJ45IEiNkBxM6jy', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:17:51,089-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'mZP0ikbJAhow9I6e1CMXdVlqDzy4QNsa', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '150.242.114.195', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:17:51,089-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'ocWLl0zeB7IryTjY6ZvRKwAM395aV4GC', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:17:51,089-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': '8iOly9EvnIRUjp340zsPo56txhQ2CTLH', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '95.75.245.205', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:17:51,097-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:17:51,124-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'qutn3QMAgIlr85HDkCa4sZpJ7X2OE0Kw', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:17:51,158-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519171751208677696922277t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22a%252FXhA601377l6L48MD1nO8MkcqmMSAy43GNgZxHP2aJ43tauOTaSdBDlhlGUvpIbh97%252Fd%252BtDUDubRiMyjqDj06w4pbfZsyuco%252BGWzKQ%252Fo8O76EQadmMyV%252FUB7vGmaggI46SSmK%252BTMdBNy7of%252FlrPiFj1h6tt2p8C33U%252BHKRF7qY%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519171751208677696922277t\"}","payReqId":"RM20210519171751208677696922277t","status":"AUTH_NEEDED"}
2021-05-19 17:17:51,158-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519171751208677696922277t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="a%2FXhA601377l6L48MD1nO8MkcqmMSAy43GNgZxHP2aJ43tauOTaSdBDlhlGUvpIbh97%2Fd%2BtDUDubRiMyjqDj06w4pbfZsyuco%2BGWzKQ%2Fo8O76EQadmMyV%2FUB7vGmaggI46SSmK%2BTMdBNy7of%2FlrPiFj1h6tt2p8C33U%2BHKRF7qY="&sign_type="RSA"', 'system_order': 'RM20210519171751208677696922277t'}, 'payReqId': 'RM20210519171751208677696922277t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:17:51,159-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'qutn3QMAgIlr85HDkCa4sZpJ7X2OE0Kw', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:17:51,159-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519171751208677696922277t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="a%2FXhA601377l6L48MD1nO8MkcqmMSAy43GNgZxHP2aJ43tauOTaSdBDlhlGUvpIbh97%2Fd%2BtDUDubRiMyjqDj06w4pbfZsyuco%2BGWzKQ%2Fo8O76EQadmMyV%2FUB7vGmaggI46SSmK%2BTMdBNy7of%2FlrPiFj1h6tt2p8C33U%2BHKRF7qY="&sign_type="RSA"', 'system_order': 'RM20210519171751208677696922277t'}, 'payReqId': 'RM20210519171751208677696922277t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:17:51,159-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 17:17:51,188-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'fwHMVsiSvmGNYtPU0opaKO5ZrkQuxcyI', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '35.230.8.59', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:17:51,409-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 17:17:51,410-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 17:17:51,410-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': 'fwHMVsiSvmGNYtPU0opaKO5ZrkQuxcyI', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '35.230.8.59', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:17:51,410-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 17:17:51,410-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=failed
2021-05-19 17:17:51,443-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'lfg4DpJSXBjTyVRHhi6Nd2Gczq5FasC9', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:17:51,450-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:51,450-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:17:51,450-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'lfg4DpJSXBjTyVRHhi6Nd2Gczq5FasC9', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:17:51,451-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:17:51,451-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:17:51,479-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'sqido5ahYcK4PyMZ3NXA716xrVSQlOCF', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:17:51,487-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:51,488-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:17:51,488-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'sqido5ahYcK4PyMZ3NXA716xrVSQlOCF', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:17:51,488-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:17:51,489-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 17:17:51,516-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'LMIxOyRNJ7QGhtaCBPD3zTHK61YkU9c8', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:17:51,524-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:51,524-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:17:51,524-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'LMIxOyRNJ7QGhtaCBPD3zTHK61YkU9c8', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:17:51,525-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:17:51,525-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 17:17:51,553-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '3LpfDBHyrgn2VxKvdUSXMwlFuh9cWoCR', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '170.72.1.128', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:17:51,570-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:51,570-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:51,570-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': '3LpfDBHyrgn2VxKvdUSXMwlFuh9cWoCR', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '170.72.1.128', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:17:51,571-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:51,571-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 17:17:52,623-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 17:17:52,630-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:52,630-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:17:52,630-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 17:17:52,631-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:17:52,631-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 17:17:52,686-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '161.26.175.153', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 17:17:52,692-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:52,693-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:17:52,693-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '161.26.175.153', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 17:17:52,693-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:17:52,693-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 17:17:52,721-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 17:17:52,728-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:52,729-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:17:52,729-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 17:17:52,729-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:17:52,729-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:17:52,757-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 17:17:52,765-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:52,765-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:17:52,765-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 17:17:52,765-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:17:52,766-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 17:17:53,805-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 17:17:53,806-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 17:17:53,815-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 17:17:53,844-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.12","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:17:53,844-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:17:53,844-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.12', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:17:53,844-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.12
2021-05-19 17:17:53,846-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 17:17:53,847-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '2031'
2021-05-19 17:17:53,852-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 17:17:53,852-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 17:17:53,853-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 17:17:53,853-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 9.73, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 17:17:53', 'ext1': '', 'ext2': '', 'maxAmount': 91.25, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191717533522822426553423743149747684', 'ratio': 0.52, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': '2BC921F340D4C15B07013C7F65A327A2', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 8, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 17:17:53,904-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 17:17:53,904-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643369', '62643370', '62643371', '62643372'], 'batchId': ''}
2021-05-19 17:17:53,904-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643369', '62643370', '62643371', '62643372']
2021-05-19 17:17:53,920-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 17:17:53,921-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 17:17:53,931-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643372')
2021-05-19 17:17:53,942-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:17:54","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.09Ԫ","useableEndTime":"2022-05-19 17:17:53","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"RED_PACKET_COUPON","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.09,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191717533522822426553423743149747684","subScopeId":"","originalAmount":0.09,"usableAmt":0.09,"usedPartnerOrder":null,"couponCode":"62643372","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:17:53,942-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:17:53,942-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:17:54', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.09Ԫ', 'useableEndTime': '2022-05-19 17:17:53', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'RED_PACKET_COUPON', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.09, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191717533522822426553423743149747684', 'subScopeId': '', 'originalAmount': 0.09, 'usableAmt': 0.09, 'usedPartnerOrder': None, 'couponCode': '62643372', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:17:53,942-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[G6]={'vouId': '62643372', 'amount': 1, 'price': 0.09}
2021-05-19 17:17:53,946-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643371')
2021-05-19 17:17:53,954-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:17:54","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.09Ԫ","useableEndTime":"2022-05-19 17:17:53","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"RED_PACKET_COUPON","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.09,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191717533522822426553423743149747684","subScopeId":"","originalAmount":0.09,"usableAmt":0.09,"usedPartnerOrder":null,"couponCode":"62643371","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:17:53,955-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:17:53,955-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:17:54', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.09Ԫ', 'useableEndTime': '2022-05-19 17:17:53', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'RED_PACKET_COUPON', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.09, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191717533522822426553423743149747684', 'subScopeId': '', 'originalAmount': 0.09, 'usableAmt': 0.09, 'usedPartnerOrder': None, 'couponCode': '62643371', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:17:53,955-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643371', 'amount': 1, 'price': 0.09}
2021-05-19 17:17:53,959-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643370')
2021-05-19 17:17:53,970-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:17:54","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.09Ԫ","useableEndTime":"2022-05-19 17:17:53","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"RED_PACKET_COUPON","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.09,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191717533522822426553423743149747684","subScopeId":"","originalAmount":0.09,"usableAmt":0.09,"usedPartnerOrder":null,"couponCode":"62643370","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:17:53,971-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:17:53,971-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:17:54', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.09Ԫ', 'useableEndTime': '2022-05-19 17:17:53', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'RED_PACKET_COUPON', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.09, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191717533522822426553423743149747684', 'subScopeId': '', 'originalAmount': 0.09, 'usableAmt': 0.09, 'usedPartnerOrder': None, 'couponCode': '62643370', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:17:53,971-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[G6]={'vouId': '62643370', 'amount': 1, 'price': 0.09}
2021-05-19 17:17:53,976-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643369')
2021-05-19 17:17:53,985-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:17:54","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.09Ԫ","useableEndTime":"2022-05-19 17:17:53","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"RED_PACKET_COUPON","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.09,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191717533522822426553423743149747684","subScopeId":"","originalAmount":0.09,"usableAmt":0.09,"usedPartnerOrder":null,"couponCode":"62643369","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:17:53,985-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:17:53,985-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:17:54', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.09Ԫ', 'useableEndTime': '2022-05-19 17:17:53', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'RED_PACKET_COUPON', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.09, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191717533522822426553423743149747684', 'subScopeId': '', 'originalAmount': 0.09, 'usableAmt': 0.09, 'usedPartnerOrder': None, 'couponCode': '62643369', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:17:53,985-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[G6]={'vouId': '62643369', 'amount': 1, 'price': 0.09}
2021-05-19 17:17:54,010-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '8S4nhEUFoefVwKDktgy16a0bPN9j35pC', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:17:54,036-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 17:17:54,036-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 17:17:54,036-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[I6]={'partnerOrder': '8S4nhEUFoefVwKDktgy16a0bPN9j35pC', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:17:54,037-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 17:17:54,037-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[M6]=failed
2021-05-19 17:17:54,067-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'uUiEjm3X4SHt8O6Wxveoy0ZALwBzGpFr', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643372', 'amount': 1, 'price': 0.09}", 'voucherId': '62643372', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:17:54,079-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:54,079-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:54,080-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[I6]={'partnerOrder': 'uUiEjm3X4SHt8O6Wxveoy0ZALwBzGpFr', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643372', 'amount': 1, 'price': 0.09}", 'voucherId': '62643372', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:17:54,080-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:54,080-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[M6]=failed
2021-05-19 17:17:54,109-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'qOpsag5Ar93jmBYbiC2RUPzuX8o7TEJF', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643371', 'amount': 1, 'price': 0.09}", 'voucherId': '62643371', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '68.97.44.148', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:17:54,122-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:54,123-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:54,123-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'qOpsag5Ar93jmBYbiC2RUPzuX8o7TEJF', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643371', 'amount': 1, 'price': 0.09}", 'voucherId': '62643371', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '68.97.44.148', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:17:54,123-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:54,123-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 17:17:54,150-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'pTtOXKE2bZwoc4HLGx70WCq1mBJDkN9e', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:17:54,169-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519171754208677696900265t","status":"ACCEPTED"}
2021-05-19 17:17:54,169-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519171754208677696900265t', 'status': 'ACCEPTED'}
2021-05-19 17:17:54,184-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:17:54,185-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:17:54,185-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "74993155155750"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "LnGlhePp8MYAj1Q5Oo2ZS9BXbWgEfHdt"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:17:54,241-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "768fad2def1a4617af9d00d613965151"
s_p: "WXlmS3JYeE1DRlBWUVlsUk1xUmZGNHFsbFJ0VVZTc2pSUGhRRnRjM1IxQ3FoRVBSWmJVMklib0xMRllOVWtsZDl6VzB6aGxhZGdpOGlueWtCUm4wUDRwc01yZVNwRllXQ1I3d253QzB0b0FvQXY1SzZGYzIxczJIMVlHYlpFMkljbkJ3Y0dFSXBGeDY0MDNFYWhyMXFwQk45VHpqRlJQYk8xT09CUnd1aGpBcFJNbkplU3J2eGtYT1Nlbng1Z1FhTUFjaTJhWXEzV2RIRVdJUUFBT0o4czdWeURZYkcyNkJ3YXAyYld0bGp6MEVUYnNsc1AzS1IzVEVrZXUybFFYNGlpRHA1TFdTTllmdGQxSHhSTkc0SXJBME5pM0VwNnF3a2lEakNCUmk0amI4TnMwc0c1MzhMbmxiUE9rRkdYZ1F6V0dscEpKT21NdlFLM1l4TnEzRzFzUG9ybXlKbjRCbTl6eVhaQXp5SDRLekJQSTBib1REQ01HbEo0THlzNU90aXRkSUl2Q1VmV09WWmpaR0tvb1JWRE11cTd0RTE2R0wwREJrSHFvSjBDaU0xdHhZNHdSTjdJSmVRY2VkSUdoSGpSMjdFdEpNeGpmazc1SFQyUURySU1pUHlkV3R3UWdBMWJOVERyaDI0RGZieXNwd2lseEZub3JiaGVVa3pGWTduRnVtTGYzalhZdXhsWENzenRnUlFZU3B4UEtDSVRVbVREYmlIYTdHMFZTRE9PVHVPZnhuMUFXaW9uMnBWMFlTYjRITG40TGR0dVAzS0xxRnEzQ1JyRDRvOUhEWnR4MFNpcHc5bUhBeFJ5TXUyUm42V05GcEJLRGJlMVAxWkNxYnhWUU03dVJJd2NUcUpieUEyWkkzTE5pT0RYb2IxVUg3V1prRXpLaDFUSHZYWU1wT1hsOUZBa05UUVU5OFdFandHZk01OWpKTGo2Mk9hb2hlaEE0VWxEOE1seXlZWmNnbHREWUUwdmpoM2FvdFV4OUQ0djN3MXlrYXN4UlFOTGZNZllSeWFMdjZBSFF0aWFHRGNaUFdIM3dSTkJiODFlcng="
m_p: "1Zc0q61350BE9GK54Bp3Ui94kzY97A4x3zEFU52B0R1O1YzKd2stHEWr2mO59100"
e_t: "1621523874238"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:17:54,241-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:17:54,242-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:17:54,242-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "768fad2def1a4617af9d00d613965151"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "c3R1CqhE"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519171754208677696900265t"
version: "265"
queryType: "PAY"

2021-05-19 17:17:54,297-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:17:55,312-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:17:55,312-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:17:55,312-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "84990063059764"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "mkNS2V4T07A8QCvclpMKIbJhZHP5xFaY"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:17:55,366-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "00b756e1877546ae8692e503f0d47da7"
s_p: "c3JHYVhhblVTU3NzM21tbTVwNzM0QVRJVzJaazdQTkpCRjdFTTBVVzhQcG5FcE93eXM4UVU3NUxQWmgyTldweWZpN1VRdEQ1cUl6VGd5Qm5FUjVKbzROZ3BFOUJZVjRablhwRnMxQmJnbkNQYktMTEVabjR0NlVLenpTR0lWbGNxUURJYVFYYXkyZDByU3ZOblZnQ01LbkRIRTZZYlZMRmhyYXUxM1VFbGRGZ2wzQ3VSR2wxQkRvVWhPUUtPMWFVeXpCMkQxUDMxbG8wR0d2Y21TMDdzNFFyWnZxRGd2TkNTRW9qU3YxRFFobGJpMVhNNVh2SFNaZ2JCTU54TVl2bk5jOE9BOHpKTFB3QUtyaUlvWHlNNjZuOTlUM1Z6Y2xCeEdZbExVZjVMWnpLVkwzeTZGRHE4Qm56MlFuMHJwaGw3SXdzVkc1ZmtqNlhESkF4TklNZ2pVNXRBNVlmQ1BQaUtjNkJRTzhiZ1BvYU9JS0JicmRkcTF4eTF1czN1WlNnb2N2ZG1QMFBkbUpPWk15ajc1cWdwMHFzb21uSVNlaHNyelNFWm12VzBhOHluQVp3OFoxa0VZM3dUeTloM0xqWVdyZkQyUjIyT1ZCWGExWk5ncTJZQ2hsektVWUxzZ0ZJQmthVEpFYmRsb09abnpianY1N3I4MzV3SXlvRFFJU2JxOTdmYlhOeHZXRE5WODZZS1YzdGs1ZjJtS0RpbjJGZGVTTE9UMERUbjhETXUwM0oxdTZ6UmFDckhvREhkRzhLRzY4RmpnbU5KY0NuYTdvY244WElRdEV3eTU2dU9qSEdrakZHVUdab3IzN1hrZkZuZTZrTWhFcTFyOVBVVG9ScDZRZ01tN0hqT08wcjNQUksyVzJ0WVFGNmVQZjBUcjBOQU9RbTlKaWRGeDE2RnZMRUF6VEdjc3NEMXR1YXZSeEM3dWplbHZVTHd1alVodG16SUYzSHFNbmllamZPbjVtQkVRVnhFMjdkNU5ZbU5paGV0V2V4OHZ2T3dJb1JONE1PMUFRbFdYUEtoaUJ2QkhpZVVwa2JSMmp4MWpsWldDeHg="
m_p: "wCI1DR80fGCvXE7i9z99h6GH6v25so0bwAgxPVfqxc0J2f11jjbMqo3Utg3mRyuZ"
e_t: "1621523875360"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:17:55,366-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:17:55,366-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:17:55,367-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "00b756e1877546ae8692e503f0d47da7"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "d0rSvNnV"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519171754208677696900265t"
version: "265"
queryType: "PAY"

2021-05-19 17:17:55,411-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:17:56,424-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:17:56,425-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:17:56,425-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "00360585359043"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "CSWKjBzVP6UXeDshrvincHNwo79qgpRu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:17:56,475-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "9a8a794fd3e84a1f97f4412138c67444"
s_p: "NVN5V1ZZeURXREtYbHkyVEhlUGJKMjRoaHVvNWtiZ3ZreEVSeWNqM0lFcVBmMjZzcTJ6WTJsd2t5ekZhbVF6OW1OejJXU21IQnBUaVdxNXFKUEhjOGFyUkN2Q2ZsSTZoMUtMUDJCQ3BVZGt4RlJZQ2pHVUFDQnd0OXBhYXhzcnJsQ1lEZm92WDdZZ1NaaWtpc0pMWERWaFZnbnRoRGZDS3dtWmJkbzJEd21ZQ0pmZklUZFhOWHlKNVp2R0VnNXpqN3FVTmtXSEJYOXRRWFMxNGp1ZEVKRkdSWTdvSHlqODB2N3ZtMTdNdWVrSDY5V0ZUN3J4ekNnUGY2dUlRZXBldkc4WjVyQW5ldXJCMU1TOTE1RXFuTXlhckRtNXNwbzVtaXpZV0I4VGxDTlFMTjJsUWJiM3NXZkVoMG1QS3MyakNYblRkeXFoSXFHVEJIS0ZvZFNFNjFpYWxoVzkzSFFVZ0w3Q3JDcDFsREhKV3BMdHBFdE1iTkJlRmdoWWRmZklnOVhvanZNZlEyU0FTQnVwaG1hTno3M3MwZk5CMHlLMnMzdDJ2VXhiVDgxdmJldzNielhlNm9SN1BzdURJZGE4NmdhQzBUN2x3YjA1b2RYTzNzd2xWdEdkTFUwWWdyYTZmMDk3b3NXaWZEWE5LZTg4djlGTXZFdFZCa3ZyUkk5V0FYc0gxM3JhUlNBd2JVNUZJQUVVWmkzZGNjYkJtY0FFbG1yMHpycWp1em5LVWFuNkFtUEx0d2gxdzRDN3Rua2tCek1jWW40bjIwVzZsQ0tSZHhiQW51V1ZLUVlVa2hJVENDQUR5QzE5TnRqaHpsVms3VGFERkpsRUVlRHlWNHJGd3BwdXFFcEhFaDhvVFd6WlFwSFZvN016RXpYYzhjb0ljT1VkZjBOdXlLM0tqbjk2U0RhZlRKNjR4bkc4dlIwb3NvSEg4OTNOaG1YOU1CNHRobkFUQk9WRlFCUFFuYlRYNVVIaDVOZjlza2V5dzFEeUFWWE00VnljdmxHZWN0RU1MTU11dTlsTmZzOTFkYmR6dVVGajJMaHJBdnE2MWxqNXU="
m_p: "FAx28R3V0f6FcyH74p2DRwxv43VX6SZEBlweY4JQd0mo699jmui81ogR9r30eF75"
e_t: "1621523876474"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:17:56,476-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:17:56,476-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:17:56,476-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "9a8a794fd3e84a1f97f4412138c67444"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "fovX7YgS"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519171754208677696900265t"
version: "265"
queryType: "PAY"

2021-05-19 17:17:56,522-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:17:57,523-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[I6]={'partnerOrder': 'pTtOXKE2bZwoc4HLGx70WCq1mBJDkN9e', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:17:57,523-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[J6]={'payReqId': 'KB20210519171754208677696900265t', 'status': 'ACCEPTED'}
2021-05-19 17:17:57,523-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[M6]=passed
2021-05-19 17:17:57,552-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ncveWQ5hofwZ9d1Km2LTE3Y0UzNtuMIA', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643370', 'amount': 1, 'price': 0.09}", 'voucherId': '62643370', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:17:57,565-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:57,565-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:57,566-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[I6]={'partnerOrder': 'ncveWQ5hofwZ9d1Km2LTE3Y0UzNtuMIA', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643370', 'amount': 1, 'price': 0.09}", 'voucherId': '62643370', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:17:57,566-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:57,566-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[M6]=failed
2021-05-19 17:17:57,593-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'WwOCqZTESpG7KXmdi3Dr61RV9cJfAFYx', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643369', 'amount': 1, 'price': 0.09}", 'voucherId': '62643369', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:17:57,606-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:57,606-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:57,606-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[I6]={'partnerOrder': 'WwOCqZTESpG7KXmdi3Dr61RV9cJfAFYx', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643369', 'amount': 1, 'price': 0.09}", 'voucherId': '62643369', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:17:57,606-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:57,607-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[M6]=failed
2021-05-19 17:17:57,634-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'cH7gd0GsSXhEfb8WRmeZvturJ4aVBOU1', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:17:57,641-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:57,641-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:17:57,641-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'cH7gd0GsSXhEfb8WRmeZvturJ4aVBOU1', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:17:57,642-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:17:57,642-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 17:17:57,693-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'd4yIo6VH3URhfM12g8rxFQBiYeTtOvaP', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:17:57,701-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:57,701-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:17:57,701-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'd4yIo6VH3URhfM12g8rxFQBiYeTtOvaP', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:17:57,702-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:17:57,702-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 17:17:57,730-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'TWmwf67oIv5QcGtgLUZSAypHEnu0Krd8', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:17:57,743-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:57,744-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:57,744-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': 'TWmwf67oIv5QcGtgLUZSAypHEnu0Krd8', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:17:57,744-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:57,744-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 17:17:58,172-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'VaTsf3Upi4qDhI7nSo9CJ2c8ZkG1zLyl', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '118.242.145.143', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:17:58,186-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:58,187-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:58,187-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'VaTsf3Upi4qDhI7nSo9CJ2c8ZkG1zLyl', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '118.242.145.143', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:17:58,187-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:58,188-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 17:17:58,214-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '6rpSGE4YUbHRe3lfwz10MiZtPkXWcgCN', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:17:58,226-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:58,226-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:58,227-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': '6rpSGE4YUbHRe3lfwz10MiZtPkXWcgCN', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:17:58,227-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:58,227-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 17:17:58,264-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'nFwYVz3lkHvUa7R5qt1ITgE8h6oCP40x', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '3.122.0.76', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:17:58,282-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:17:58,283-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:58,283-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'nFwYVz3lkHvUa7R5qt1ITgE8h6oCP40x', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '3.122.0.76', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:17:58,283-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:17:58,284-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 17:21:20,310-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 17:21:20,569-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 17:21:20,660-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:21:20,660-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 17:21:20,660-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:21:20,924-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:21:20,925-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 17:21:20,925-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:21:20,970-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 17:21:20,971-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 17:21:20,977-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:21:21,773-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:21:21,774-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:21,774-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:21,774-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:21:21,774-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:21:21,774-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:21:21,774-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 17:21:21,774-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,003-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:21:22,003-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,003-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,003-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:21:22,004-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,004-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,257-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:21:22,257-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,257-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643372', 'amount': 1, 'price': 0.09}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,257-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643371', 'amount': 1, 'price': 0.09}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,257-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,257-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643370', 'amount': 1, 'price': 0.09}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,258-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643369', 'amount': 1, 'price': 0.09}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,258-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:21:22,258-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,258-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,258-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,258-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,258-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,258-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:22,266-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:21:22,293-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'JlU4zcw2DuKxvkhp1XnjBQ3Ro7rN80YI', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:21:22,330-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519172122208677696900452t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22L42DToTJTGI%252FV7NXYbtR9kEJFyi4aJXoII2xnBF8TGHulFhsMcRibTEfPrJMyS3gVV8daaRLCrBvU%252FlskMFkh1MLpUCEoBIR2WCDOWqljtyP2iAP0zUdKLNGeL%252Fe4oG0AbR%252Fez15bBPht5wMCFZwrEy%252BnesJlYcs3Mt%252FiFOWLfg%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519172122208677696900452t\"}","payReqId":"RM20210519172122208677696900452t","status":"AUTH_NEEDED"}
2021-05-19 17:21:22,330-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519172122208677696900452t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="L42DToTJTGI%2FV7NXYbtR9kEJFyi4aJXoII2xnBF8TGHulFhsMcRibTEfPrJMyS3gVV8daaRLCrBvU%2FlskMFkh1MLpUCEoBIR2WCDOWqljtyP2iAP0zUdKLNGeL%2Fe4oG0AbR%2Fez15bBPht5wMCFZwrEy%2BnesJlYcs3Mt%2FiFOWLfg="&sign_type="RSA"', 'system_order': 'RM20210519172122208677696900452t'}, 'payReqId': 'RM20210519172122208677696900452t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:21:22,331-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'JlU4zcw2DuKxvkhp1XnjBQ3Ro7rN80YI', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:21:22,331-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519172122208677696900452t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="L42DToTJTGI%2FV7NXYbtR9kEJFyi4aJXoII2xnBF8TGHulFhsMcRibTEfPrJMyS3gVV8daaRLCrBvU%2FlskMFkh1MLpUCEoBIR2WCDOWqljtyP2iAP0zUdKLNGeL%2Fe4oG0AbR%2Fez15bBPht5wMCFZwrEy%2BnesJlYcs3Mt%2FiFOWLfg="&sign_type="RSA"', 'system_order': 'RM20210519172122208677696900452t'}, 'payReqId': 'RM20210519172122208677696900452t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:21:22,331-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 17:21:22,361-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '6RypIMbi4xG3hZLC5t9UjzcFkNQA8TvH', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '129.38.44.23', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:21:22,585-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 17:21:22,585-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 17:21:22,586-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': '6RypIMbi4xG3hZLC5t9UjzcFkNQA8TvH', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '129.38.44.23', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:21:22,586-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 17:21:22,586-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=failed
2021-05-19 17:21:22,614-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'UoTNv1XyWFeIGsK36m89CM4gJL5OdaRP', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:22,623-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:22,623-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:22,623-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'UoTNv1XyWFeIGsK36m89CM4gJL5OdaRP', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:22,624-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:22,624-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:21:22,653-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'HBw52F0kNxfmhTGcizdPeZjsR9a3J7tn', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:22,660-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:22,660-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:22,661-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'HBw52F0kNxfmhTGcizdPeZjsR9a3J7tn', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:22,661-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:22,661-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 17:21:22,689-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'x96fCXPKrwtLo4psMVY8IFE1AuOWSvZ3', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:21:22,698-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:22,698-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:21:22,698-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'x96fCXPKrwtLo4psMVY8IFE1AuOWSvZ3', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:21:22,698-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:21:22,699-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 17:21:22,726-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'rg2oqKO6nW7e83HMGmJXszZyT54wEBxp', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '116.194.131.72', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:21:22,749-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:22,749-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:22,749-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'rg2oqKO6nW7e83HMGmJXszZyT54wEBxp', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '116.194.131.72', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:21:22,750-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:22,750-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 17:21:22,782-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 17:21:22,791-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:22,791-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:22,791-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 17:21:22,791-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:22,792-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 17:21:22,820-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '27.110.238.203', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 17:21:22,828-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:22,829-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:22,829-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '27.110.238.203', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 17:21:22,829-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:22,829-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 17:21:22,857-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 17:21:22,865-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:22,865-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:22,865-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 17:21:22,866-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:22,866-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:21:22,894-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 17:21:22,902-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:22,903-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:22,903-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 17:21:22,903-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:22,904-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 17:21:22,928-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 17:21:22,929-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 17:21:22,940-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 17:21:22,976-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.12","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:21:22,976-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:21:22,976-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.12', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:21:22,976-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.12
2021-05-19 17:21:22,978-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 17:21:22,979-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '2031'
2021-05-19 17:21:22,985-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 17:21:22,985-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 17:21:22,986-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 17:21:22,986-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 9.55, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 17:21:22', 'ext1': '', 'ext2': '', 'maxAmount': 74.64, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191721220772265536713415413464558852', 'ratio': 0.71, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': '380A889FF39DA268337B23F55B84D547', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 8, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 17:21:23,077-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 17:21:23,077-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643373', '62643374', '62643375', '62643376'], 'batchId': ''}
2021-05-19 17:21:23,077-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643373', '62643374', '62643375', '62643376']
2021-05-19 17:21:23,093-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 17:21:23,093-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 17:21:23,104-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643373')
2021-05-19 17:21:23,115-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:21:23","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.09Ԫ","useableEndTime":"2022-05-19 17:21:22","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"RED_PACKET_COUPON","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.09,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191721220772265536713415413464558852","subScopeId":"","originalAmount":0.09,"usableAmt":0.09,"usedPartnerOrder":null,"couponCode":"62643373","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:21:23,115-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:21:23,115-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:21:23', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.09Ԫ', 'useableEndTime': '2022-05-19 17:21:22', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'RED_PACKET_COUPON', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.09, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191721220772265536713415413464558852', 'subScopeId': '', 'originalAmount': 0.09, 'usableAmt': 0.09, 'usedPartnerOrder': None, 'couponCode': '62643373', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:21:23,115-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[G6]={'vouId': '62643373', 'amount': 1, 'price': 0.09}
2021-05-19 17:21:23,120-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643376')
2021-05-19 17:21:23,130-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:21:23","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.09Ԫ","useableEndTime":"2022-05-19 17:21:22","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"RED_PACKET_COUPON","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.09,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191721220772265536713415413464558852","subScopeId":"","originalAmount":0.09,"usableAmt":0.09,"usedPartnerOrder":null,"couponCode":"62643376","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:21:23,130-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:21:23,130-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:21:23', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.09Ԫ', 'useableEndTime': '2022-05-19 17:21:22', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'RED_PACKET_COUPON', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.09, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191721220772265536713415413464558852', 'subScopeId': '', 'originalAmount': 0.09, 'usableAmt': 0.09, 'usedPartnerOrder': None, 'couponCode': '62643376', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:21:23,130-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643376', 'amount': 1, 'price': 0.09}
2021-05-19 17:21:23,135-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643375')
2021-05-19 17:21:23,144-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:21:23","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.09Ԫ","useableEndTime":"2022-05-19 17:21:22","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"RED_PACKET_COUPON","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.09,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191721220772265536713415413464558852","subScopeId":"","originalAmount":0.09,"usableAmt":0.09,"usedPartnerOrder":null,"couponCode":"62643375","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:21:23,144-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:21:23,144-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:21:23', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.09Ԫ', 'useableEndTime': '2022-05-19 17:21:22', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'RED_PACKET_COUPON', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.09, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191721220772265536713415413464558852', 'subScopeId': '', 'originalAmount': 0.09, 'usableAmt': 0.09, 'usedPartnerOrder': None, 'couponCode': '62643375', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:21:23,144-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[G6]={'vouId': '62643375', 'amount': 1, 'price': 0.09}
2021-05-19 17:21:23,149-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643374')
2021-05-19 17:21:23,157-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:21:23","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.09Ԫ","useableEndTime":"2022-05-19 17:21:22","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"RED_PACKET_COUPON","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.09,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191721220772265536713415413464558852","subScopeId":"","originalAmount":0.09,"usableAmt":0.09,"usedPartnerOrder":null,"couponCode":"62643374","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:21:23,157-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:21:23,157-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:21:23', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.09Ԫ', 'useableEndTime': '2022-05-19 17:21:22', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'RED_PACKET_COUPON', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.09, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191721220772265536713415413464558852', 'subScopeId': '', 'originalAmount': 0.09, 'usableAmt': 0.09, 'usedPartnerOrder': None, 'couponCode': '62643374', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:21:23,157-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[G6]={'vouId': '62643374', 'amount': 1, 'price': 0.09}
2021-05-19 17:21:23,184-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ISbd1KifW0aOsgGA2CqxTtR3hDPjyckv', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:23,207-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 17:21:23,207-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 17:21:23,208-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[I6]={'partnerOrder': 'ISbd1KifW0aOsgGA2CqxTtR3hDPjyckv', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:23,208-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 17:21:23,208-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[M6]=failed
2021-05-19 17:21:23,243-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'pJ24OIHhseP9McvNwldumAGq1j7zrSLk', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643373', 'amount': 1, 'price': 0.09}", 'voucherId': '62643373', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:23,257-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:23,258-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:23,258-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[I6]={'partnerOrder': 'pJ24OIHhseP9McvNwldumAGq1j7zrSLk', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643373', 'amount': 1, 'price': 0.09}", 'voucherId': '62643373', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:23,258-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:23,259-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[M6]=failed
2021-05-19 17:21:23,287-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'HWgyAMr26K7m3wOlDT8XjsehV9CQk50t', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643376', 'amount': 1, 'price': 0.09}", 'voucherId': '62643376', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '223.98.131.213', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:21:23,300-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:23,301-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:23,301-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'HWgyAMr26K7m3wOlDT8XjsehV9CQk50t', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643376', 'amount': 1, 'price': 0.09}", 'voucherId': '62643376', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '223.98.131.213', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:21:23,301-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:23,301-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 17:21:23,338-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '4gsB16iUTk8FuC97ZhwAdObenGJaI5Wj', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:23,356-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519172123208677696938513t","status":"ACCEPTED"}
2021-05-19 17:21:23,356-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519172123208677696938513t', 'status': 'ACCEPTED'}
2021-05-19 17:21:23,371-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:21:23,371-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:21:23,372-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "17998359001371"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "JnacSv6BhTqw2Y7k1lRPEge4dVQjfrKi"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:21:23,426-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "64889e6115834493a232c65af54dc27d"
s_p: "d2luMUxyYjV6TjlTb01rNTJCTVlYYVdnbGhBOE9UZnpSQUZObEZjTHdMRG9RN3dpaXJBZUxoZno3eXlma1J5Zm50ekVRa0lsN0ljaXRBMlFRRHl0MDI1SWxJcTVXTWZBd2k3UTRnbHB5aDBiRTZISkh4bXAzYVY1eFNSaXZRSzhoV3F2b29WTUJLaW1LWEdiaFVvRFhEVk1YS3RIem9WNm9YMTVxMVV0a3E1TWZjbHN6bEdlTGNuSDljZ0w0dW04U2M5UjFnaUxLcWJOMUI2eERLYWRWYUo4NXRBR2Y4MmlEdWFndFd6V29EcVpuZWVKVkI5S0p4TTRUNXZ2UXczZW9zYTVaN1JJeWlsall4ZmJIaXFVWWNSQWxVMVhuV2htNEJSU084QW5PbVBiYmVtbm5vRGdsbTJzSm5yOERSaXJSenc2OVJNNlRRdHp1QVBqWnVlZ25EWHdGQnlYdERwUWxyVW8xU2txWUNQZlFES0Z2QUhaV0I1NmhHYUhBMkR4OG9TQ0pITzRsejllMXZpMGZTMjhiak5JZlNwWEhTV0trbnExa00yMnhNcTVRMmpGakY1NXBNOXI4V2xYUWhyNU41Q2NQU25ZdHJGdHI3MEJWN1ZmWnU1c01FNldMME91WjQ2bGQzTUlGemlHYlFtaVZnRkZod2hHVTRPdERyRktQWmFQcVJ6bDB1ZnIxUXpnOXFUTFZHMHJJYk1rVXdmRDQwTUJQcU85Q2dScmdBMUZOT2prR1A5UlRobm1rRlhNSXRMRE1BQ2N5R3RtSmZBUFllU3oxTDRHZERya2ltZDVHT2MyMFUxWG1oWEJ0Mjl0U3RsS1hUaE5ZOTI4Mkk5UVNqNUxGVXhndjFRdEpkellBd2J1Tnd4WlEyNXB6U0tybnBVcWNZSEZGUngyQ1BjQTY4MEliOGl4dnBieWFnRVczWUNRZ3lXTzJZT3YzVzhwN1FnSVIzSTNQbWJUR0pGUGJQRVc4NEFpZzVNZjRxR2ZiY3FkNGltWklBZGRwd3dRcHRaYjg1aENCOVBsTXpteXFWQk9iRkxGd2dqVFJkRXM="
m_p: "nPhp2Y6T7k74y3o6Re95i6pRt5Xiondda84mY4X1o5D2E3lWdoVcRCqk89LIM8FR"
e_t: "1621524083421"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:21:23,426-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:21:23,427-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:21:23,427-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "64889e6115834493a232c65af54dc27d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "HJHxmp3a"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519172123208677696938513t"
version: "265"
queryType: "PAY"

2021-05-19 17:21:23,483-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:21:24,496-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:21:24,496-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:21:24,497-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "51279117544307"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "GOvWS9IzV5Ub1liwDyskZYhEm0RP7QdM"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:21:24,555-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4865ce694e424dc8a9c99665363820e6"
s_p: "ZTJxbTBsZUVqaG1NNVNwd29iSk1pZVIzelFSaWx6VlhkNHgwM2taalNQRURSRzZWRm9pYXZSMVpETFZyc1JEemN5SE5DWDJmc1ZMbExTYWNRRlFJdHE5aGtqSWY0d21MVWFxZzFKUUUzTU5udklWdEZyS1dEYld2bVh0R3hhTTh6QkRpOUxIbUdQaVd0OUdNVDZxWDRSODNGYjQ0TmJiUnBKWEdsZzIyWmsxUEhlYmJ6ZDZ5TTR2ZzV1UWx6YVFrckhYZU9kdldUeXBxZHNPTUx2ZzVHUlo5ZWR1VGppcFBINWU0TFBHNzZTeXhMREZpamdaTVBUcVdMbXJDRktDTkpUeU5xeUk3NFlRQU5Bb2x1Zkdmd3pQOU9kdWNoVEtvUVIwcXl2QlVia0hpVnI5NWZ0TEk5VTROU1NJREFDQWxlekhmT084UDVKRzN0RjBDZm1LWmhkM0lCSkFmVHRlYzFwUVdJWUd0UE1nSkNKS1o5b2VmSEZxbW56Q0o3SmJUZFhzMHByR2UyM042R3g1TmFCbjEzRExveVY5SmF3akh3WFpFYTJWcWl0REpUclZpekpqbFVJYzNFMXNzUE9odTV4Z2pqSnRLa1Jia2dpdDl1Z1VmdlRDajlJNUxoZ1RsNXBHM2xrbmVuUFpSNndqT0YybjlzZGhtWGZOczhpbXhtVDA0aDA1THU4WlhBejB2SFNHdHVuVnJiMmlXN0laVUFiQlYzckpWTjRHNVVJM0xXQmt4ZWd1UVM2T1JyeDRxUHhZUGt2WnFXZXFXbHVneDdqOHlFMldZZkRBSG1PampHcFBFbGRHMXZRVUxvNGw1c05wTVJja1U3NUxLUjQ1aWJ3cjdjVWtMaFplUGZhWGJEZDFLc0NtV0tJTGFwOGZxNmVKRDBkNlNKN0pOQnY4MmZrWEpoNG11R2dEUk1sbjV5QWg4d2JSWW95OGcxbzYwUXVMdHZKNmExZjRTWHMwbFRCbldWQUVXeWtmY2NzZkZXaXZSdkR3MTN6bFExejRPdmhPbUw5ZTJtTkJ3WUFQb2JhbFRPQ3dmVWlSMnNUY0Y="
m_p: "xx1UekvzxUj2A5OFWA1Xyi04DCo20L52gx3Mqwv3X60H4sT5F78B8Egd9n8zL9JV"
e_t: "1621524084551"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:21:24,556-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:21:24,556-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:21:24,556-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "4865ce694e424dc8a9c99665363820e6"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "FrKWDbWv"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519172123208677696938513t"
version: "265"
queryType: "PAY"

2021-05-19 17:21:24,605-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:21:25,623-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:21:25,623-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:21:25,624-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "97468874386810"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "xdke0MiHjY12tV8DTaBQU6znyPsImuXb"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:21:25,690-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "011c195eb3d44444b25a252c30814740"
s_p: "U2Yxc3Zidmw4ZWI4WWZNdXV1Y1lFbW9waERxTXFvaEFFNDhLT0VNdnJzM2Q2NHgwMVhWdGRmSDJmb1JWNTlrTWR4N0NwTHdNd0hnck94RGg0U3YwaEhyMVJIbnhrUzdac2xtSXV4TnZweGVQRDRYem1uN2pUSkVKZ0dlTUxMTHNGN2E2YUZSMERwYmZjSFhwTk1CNFFpOURFOTJ2eGx4S1kwTm1LajNlUzJWMVdzZ3pYMTNIcFV6QWxqTnJJdkZZalIzemZqRlRLUWpUbkRKd1BoaU5hSlB2TmNzNWdmSURJRHYybUtOVFhqUFpDbXNLT3pzYk96UzBtSWt3RDFubGlXRFh5RGg5ZTRSSkdFaWFTM2x6MEFRQ2RneVNjQlNoUENKWnkwVGZGUjRBR0o4RFlBb09sQ3RGR0xlcmpUaUg5N3FGNmp2MzFvc2MzUTZFVTZIV2tXTVNYUllQUGRtWTJia0w5VmQ0OVNyNEd1WE9YMWdCckdrS2FTYXRIZW9GSTBYb1dkTlpzTVNNUlpRQ25DWmlieHNxSDc5alVDNWhvNk80NnhaOVBZUEFoR2Jmem9UamFtZnNka0VXYXVvVTBVNUxlV2JMNjBtRFJhRm1JbGdWcVZ2N3haMkNzNzZ6QW1hQm9OSmVjaDRES2RKMk9iT0d4djhDbFVmNFdKUkZXeU1HQlFQclhJTFpEZE1JRFAyMDVUMXdXMW5NT05yTmE3ZHNPRDNNdE5KS1dCZ2ZhajZ4SFBaRUJPSUFJUUtRZmRYclc1cm80U2NpVTJkM2ZqczlKZHJMNHhNbVVnOUJ0YW5wcWw4M05RckR1VURiYjBWdUNJT05DSUNZVGpjZzFhTkUwNXVxWW5WOXZsTEQ2eFg4ZkxXNGlEWklaa1RObWY3V1JZN0RBWGp3ZWtCRVlVWUNFb2dDSTQ3RXRacDRYbjNOT2gycjAzbk9vd3o0dDdMRUFwSDlZUDR5a1hkUHZYbVpnYVNTVk1JcEhyQ01zbEV6M2JId2dQU0tOaE92dWpLQlVQaDU4T3hUTVlqY2FPNUhiUEQ4c0lieXR2REo="
m_p: "Gi4K1wa5oh7Wfg9eiCMPhz2y8555u0641L2sPGftkJ8C0c4Z7yR12ymyZE1zbDLb"
e_t: "1621524085673"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:21:25,691-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:21:25,691-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:21:25,691-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "011c195eb3d44444b25a252c30814740"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "mIuxNvpx"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519172123208677696938513t"
version: "265"
queryType: "PAY"

2021-05-19 17:21:25,737-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:21:26,738-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[I6]={'partnerOrder': '4gsB16iUTk8FuC97ZhwAdObenGJaI5Wj', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:26,738-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[J6]={'payReqId': 'KB20210519172123208677696938513t', 'status': 'ACCEPTED'}
2021-05-19 17:21:26,739-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[M6]=passed
2021-05-19 17:21:26,766-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'iACZkSEduw9IryN5Q8qgnoPTh31GxLbj', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643375', 'amount': 1, 'price': 0.09}", 'voucherId': '62643375', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:26,778-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:26,779-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:26,779-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[I6]={'partnerOrder': 'iACZkSEduw9IryN5Q8qgnoPTh31GxLbj', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643375', 'amount': 1, 'price': 0.09}", 'voucherId': '62643375', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:26,779-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:26,779-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[M6]=failed
2021-05-19 17:21:26,809-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'AexqGVHgi5JaX6vdyTnDursfM1NpSOCQ', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643374', 'amount': 1, 'price': 0.09}", 'voucherId': '62643374', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:26,822-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:26,822-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:26,822-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[I6]={'partnerOrder': 'AexqGVHgi5JaX6vdyTnDursfM1NpSOCQ', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643374', 'amount': 1, 'price': 0.09}", 'voucherId': '62643374', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:26,822-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:26,823-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[M6]=failed
2021-05-19 17:21:26,850-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Qw0vBG3WAm7jHp2foFZJ6gD9KNYu8tRq', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:26,858-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:26,858-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:26,858-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'Qw0vBG3WAm7jHp2foFZJ6gD9KNYu8tRq', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:26,859-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:26,859-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 17:21:26,896-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '9bnSgrAImFR7kYLvW28GMP04ZNCHcUJp', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:26,903-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:26,903-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:26,903-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': '9bnSgrAImFR7kYLvW28GMP04ZNCHcUJp', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:26,903-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:26,904-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 17:21:26,934-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'PcEQtbqVvRMXOZHwxeJCyNKkB02FdmL3', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:21:26,946-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:26,947-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:26,947-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': 'PcEQtbqVvRMXOZHwxeJCyNKkB02FdmL3', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:21:26,947-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:26,947-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 17:21:26,976-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'AmEyK1azgti8J356PquoUO7IVhS2slrQ', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '68.148.28.251', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:21:26,988-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:26,988-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:26,989-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'AmEyK1azgti8J356PquoUO7IVhS2slrQ', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '68.148.28.251', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:21:26,989-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:26,990-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 17:21:27,017-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'sCmO8RJbj6vTGQzVlDwc3dt0ghpinEeq', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:27,030-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:27,030-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:27,030-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'sCmO8RJbj6vTGQzVlDwc3dt0ghpinEeq', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:27,030-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:27,031-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 17:21:27,060-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'U9IRVq3ndxWFOMuXwJazk2ABmvCliEPZ', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '84.239.234.59', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:21:27,079-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:27,080-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:27,080-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'U9IRVq3ndxWFOMuXwJazk2ABmvCliEPZ', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '84.239.234.59', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:21:27,080-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:27,081-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 17:21:35,191-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 17:21:35,452-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 17:21:35,515-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:21:35,515-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 17:21:35,515-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:21:35,758-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:21:35,758-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 17:21:35,759-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:21:35,788-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 17:21:35,789-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 17:21:35,795-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:21:36,623-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:21:36,623-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:36,623-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:36,623-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:21:36,623-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:21:36,623-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:21:36,624-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 17:21:36,624-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 17:21:36,847-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:21:36,847-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:21:36,847-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:36,847-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:21:36,847-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:21:36,847-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:21:37,074-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:21:37,074-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:37,074-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643372', 'amount': 1, 'price': 0.09}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:37,074-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643371', 'amount': 1, 'price': 0.09}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:37,074-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:21:37,074-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643370', 'amount': 1, 'price': 0.09}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:37,075-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643369', 'amount': 1, 'price': 0.09}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:37,075-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:21:37,075-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:37,075-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:37,075-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:37,075-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:37,075-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:37,075-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:21:37,084-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:21:37,111-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'fjorSYJzliZ6xGqXdTQyO5KNkHw2uLt7', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:21:37,139-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519172137208677696902000t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22g42eIZFDqCqLOZx4WOJwT69%252FJYgaAu%252B9AgRWZr6IBfiisFBCSYZWc64ps%252B85p7lLnCW0Uui%252FchIHZm9DUGMwFLem6jmjTXCx9YP%252BdOyZYcfA%252FTjTJm%252Bz%252FNmp3HhTTNZciZldr5HcDN9fCIm8UrE0P1HOpSKLpOU2QU7r76Lskpc%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519172137208677696902000t\"}","payReqId":"RM20210519172137208677696902000t","status":"AUTH_NEEDED"}
2021-05-19 17:21:37,140-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519172137208677696902000t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="g42eIZFDqCqLOZx4WOJwT69%2FJYgaAu%2B9AgRWZr6IBfiisFBCSYZWc64ps%2B85p7lLnCW0Uui%2FchIHZm9DUGMwFLem6jmjTXCx9YP%2BdOyZYcfA%2FTjTJm%2Bz%2FNmp3HhTTNZciZldr5HcDN9fCIm8UrE0P1HOpSKLpOU2QU7r76Lskpc="&sign_type="RSA"', 'system_order': 'RM20210519172137208677696902000t'}, 'payReqId': 'RM20210519172137208677696902000t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:21:37,140-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'fjorSYJzliZ6xGqXdTQyO5KNkHw2uLt7', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:21:37,141-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519172137208677696902000t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="g42eIZFDqCqLOZx4WOJwT69%2FJYgaAu%2B9AgRWZr6IBfiisFBCSYZWc64ps%2B85p7lLnCW0Uui%2FchIHZm9DUGMwFLem6jmjTXCx9YP%2BdOyZYcfA%2FTjTJm%2Bz%2FNmp3HhTTNZciZldr5HcDN9fCIm8UrE0P1HOpSKLpOU2QU7r76Lskpc="&sign_type="RSA"', 'system_order': 'RM20210519172137208677696902000t'}, 'payReqId': 'RM20210519172137208677696902000t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:21:37,141-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 17:21:37,172-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '9TGKDFWVajUh6bvq1S7PmeoQriwINdX5', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '201.82.196.203', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:21:37,452-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191721374071727d8900a0c7432a720000&package=3945553001","payReqId":"RM20210519172137208677696932200t","status":"AUTH_NEEDED"}
2021-05-19 17:21:37,452-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191721374071727d8900a0c7432a720000&package=3945553001', 'payReqId': 'RM20210519172137208677696932200t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:21:37,453-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 17:21:37,458-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 17:21:37,459-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[1557529984837269503107870761]]></transaction_id>
<nonce_str><![CDATA[C21uatsSpDT80rLUQw3AhOovPNGgbVZ6]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[422E79BB7922449EEB10AA7B966B911C]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519172137208677696932200t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519172137]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 17:21:37,706-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 17:21:37,707-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 17:21:37,721-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:21:37,722-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:21:37,722-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "77880954276265"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "smJcNrB32W4hDuTyGwjHLao7V1tU5gbX"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:21:37,776-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c9a4c74509534d85b329cf536e1f85ec"
s_p: "Q3JaVk5CYm5HeTdlMGwxcXhuVXp5ODJrQ3Ewd1JmN2JWNWF3YkZHU1JsZlJTNFZKcmhHRFozc0hMNkNCQVVyeWRFNzhpU1Z4amdxQmNwZnh2QW5pMTlZRzBJazc1bEZVcGs1VG9sOUY1NTJ1aVZub203MVVLOW5wYTVHRXJTYklJbDF0OEhrcXlDVUJuVkEzUUFrVGxEQXJaaGhxalkzRW5BbWNVSFBxejdZbjY0ZlZLNjlHZUc1MFVHQ3piZ1cxaTdYcml5TGIzOFJZckYwMFN1N3ZTeW95d2hac2xicGNHZ1B1ZG9zaXF6VFFTcTZmWm5jSUJHQk5VWEl0UFd1MnZlRVhIb0FnMTFnMm5PdTVnb0NRMW44ZUh3RDU1dndINnM3N1Q3QTRRODd6SVNjcE1UQ2Y2clhhZTdIMEpkZlR5b2VpSHF0eWN4RmJZSk1WZVJwbnFqbjgyaVhTNXluN1U5ajVaTTE5ckZpd1d3eHpMc3FMdkl0S0loeldBMDY1S0JaYzkxRk9JZHdRU1JXRGFHZURCcHY3N1Q4Z1JNNjFkWlZOcGtlYlZqWXJkOTlVNm1ZNUk1eEFHNG1RbTUxYm14ejNnNU1YSXh1ZEFXcG95VUcwQXc0M3FFRkNTdk52ODJwN093YnBhQlhrUGdKNXVSSEF2TmJEUFBrV1RQQWZ5UnVFbXhJN2xMaEY1bDdxUmNodkpKalJwVkg1NDZTREZNdXZ5Y3dZNTNnd2dYdklsMWVMSkRHcHRRcm1mMTJQQzFHWDhnUnBqN3ZlazM4Y1hjRzNiU0VZMVF3OUp6SUxreDJwM0ZJR2lVYURZbGpmZDBRWkNkaTNjU013VTNiN0FieWQ1U3Z1NDJVYmliNFhPcjVMNnYzUDFza1BxZmduejdiOWRnSlFEWncydjVXMnV0Vnlrc0JDaVlEVXhjZGRTbTFnMWZ0Vk9SUWk3QXhkMGk3Q0FQMVEycGoyNVBjZk9xelJjc1B0ZjZtbks4R0ZvNlpVS2pKcFpERVJBbk9SbVlaYzBUZDR5SjBYeVlRWjliSHNzYWJzR2hQVk9EYWs="
m_p: "3Lqr0NUTVq626JG10259yIXM678EWXDM08e8o25LR35ZbFx76d5n36FVKuU5hrN8"
e_t: "1621524097776"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:21:37,777-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:21:37,777-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:21:37,777-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "c9a4c74509534d85b329cf536e1f85ec"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "K9npa5GE"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519172137208677696932200t"
version: "265"
queryType: "PAY"

2021-05-19 17:21:37,823-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 17:21:37,825-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519172137208677696932200t"
2021-05-19 17:21:37,831-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5298, 'pay_req_id': 'RM20210519172137208677696932200t', 'notify_id': '1557529984837269503107870761', 'partner_order': '9TGKDFWVajUh6bvq1S7PmeoQriwINdX5', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '201.82.196.203', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 17, 21, 37), 'success_time': datetime.datetime(2021, 5, 19, 17, 21, 37), 'modify_time': datetime.datetime(2021, 5, 19, 17, 21, 38), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 17:21:37,831-INFO-FizAssert-31-订单详情：{'id': 5298, 'pay_req_id': 'RM20210519172137208677696932200t', 'notify_id': '1557529984837269503107870761', 'partner_order': '9TGKDFWVajUh6bvq1S7PmeoQriwINdX5', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '201.82.196.203', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 17, 21, 37), 'success_time': datetime.datetime(2021, 5, 19, 17, 21, 37), 'modify_time': datetime.datetime(2021, 5, 19, 17, 21, 38), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 17:21:37,831-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 17:21:37,831-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': '9TGKDFWVajUh6bvq1S7PmeoQriwINdX5', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '201.82.196.203', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:21:37,832-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191721374071727d8900a0c7432a720000&package=3945553001', 'payReqId': 'RM20210519172137208677696932200t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:21:37,832-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=passed
2021-05-19 17:21:37,866-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'tkNgjXC6qPhVHiJWv2AZLyGIOQu4mS7e', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:37,875-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:37,875-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:37,876-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'tkNgjXC6qPhVHiJWv2AZLyGIOQu4mS7e', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:37,876-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:37,876-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:21:37,906-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'NZA0jitQlohFndp43K8bW1CTVSeR95Jv', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:37,913-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:37,914-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:37,914-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'NZA0jitQlohFndp43K8bW1CTVSeR95Jv', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:37,914-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:37,915-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 17:21:37,947-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'JRuetCf3Esc09QqzHIMDP4kxAWVhrTLZ', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:21:37,976-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:37,977-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:21:37,977-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'JRuetCf3Esc09QqzHIMDP4kxAWVhrTLZ', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:21:37,977-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:21:37,978-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 17:21:38,005-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'dhs9oqZ84QtDEMaVUAwSIGxOC6J3W2Kg', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '138.199.60.215', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:21:38,024-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:38,024-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:38,024-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'dhs9oqZ84QtDEMaVUAwSIGxOC6J3W2Kg', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '138.199.60.215', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:21:38,025-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:38,025-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 17:21:39,104-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 17:21:39,111-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:39,112-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:39,112-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 17:21:39,112-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:39,112-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 17:21:39,139-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '78.137.7.12', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 17:21:39,154-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:39,154-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:39,154-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '78.137.7.12', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 17:21:39,154-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:39,160-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 17:21:39,189-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 17:21:39,199-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:39,199-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:39,199-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 17:21:39,200-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:39,200-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:21:39,230-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 17:21:39,239-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:39,239-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:39,239-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 17:21:39,240-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:21:39,240-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 17:21:40,305-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 17:21:40,305-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 17:21:40,332-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 17:21:40,360-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.12","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:21:40,360-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:21:40,360-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.12', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:21:40,360-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.12
2021-05-19 17:21:40,362-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 17:21:40,363-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '5456925'
2021-05-19 17:21:40,370-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 17:21:40,370-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 17:21:40,370-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 17:21:40,370-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 5.59, 'appId': '5456925', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 17:21:40', 'ext1': '', 'ext2': '', 'maxAmount': 33.44, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191721409115159850551495415954943037', 'ratio': 0.86, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': '8A5FD435E4710E137711A5F00819D96C', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 7, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 17:21:40,425-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 17:21:40,425-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643377', '62643378', '62643379', '62643380'], 'batchId': ''}
2021-05-19 17:21:40,425-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643377', '62643378', '62643379', '62643380']
2021-05-19 17:21:40,452-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 17:21:40,452-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 17:21:40,463-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643380')
2021-05-19 17:21:40,473-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:21:40","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.33,"source":null,"couponDescribe":"0.860.33ܶ","useableEndTime":"2022-05-19 17:21:40","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.05,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191721409115159850551495415954943037","subScopeId":"","originalAmount":null,"usableAmt":0.33,"usedPartnerOrder":null,"couponCode":"62643380","settleType":"0","status":"NORMAL","ratio":0.86},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:21:40,473-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:21:40,473-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:21:40', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.33, 'source': None, 'couponDescribe': '0.860.33ܶ', 'useableEndTime': '2022-05-19 17:21:40', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.05, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191721409115159850551495415954943037', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.33, 'usedPartnerOrder': None, 'couponCode': '62643380', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.86}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:21:40,474-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[G6]={'vouId': '62643380', 'amount': 1, 'price': 0.33}
2021-05-19 17:21:40,478-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643379')
2021-05-19 17:21:40,491-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:21:40","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.33,"source":null,"couponDescribe":"0.860.33ܶ","useableEndTime":"2022-05-19 17:21:40","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.05,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191721409115159850551495415954943037","subScopeId":"","originalAmount":null,"usableAmt":0.33,"usedPartnerOrder":null,"couponCode":"62643379","settleType":"0","status":"NORMAL","ratio":0.86},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:21:40,491-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:21:40,492-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:21:40', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.33, 'source': None, 'couponDescribe': '0.860.33ܶ', 'useableEndTime': '2022-05-19 17:21:40', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.05, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191721409115159850551495415954943037', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.33, 'usedPartnerOrder': None, 'couponCode': '62643379', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.86}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:21:40,492-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643379', 'amount': 1, 'price': 0.33}
2021-05-19 17:21:40,496-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643378')
2021-05-19 17:21:40,507-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:21:40","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.33,"source":null,"couponDescribe":"0.860.33ܶ","useableEndTime":"2022-05-19 17:21:40","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.05,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191721409115159850551495415954943037","subScopeId":"","originalAmount":null,"usableAmt":0.33,"usedPartnerOrder":null,"couponCode":"62643378","settleType":"0","status":"NORMAL","ratio":0.86},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:21:40,507-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:21:40,508-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:21:40', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.33, 'source': None, 'couponDescribe': '0.860.33ܶ', 'useableEndTime': '2022-05-19 17:21:40', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.05, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191721409115159850551495415954943037', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.33, 'usedPartnerOrder': None, 'couponCode': '62643378', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.86}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:21:40,508-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[G6]={'vouId': '62643378', 'amount': 1, 'price': 0.33}
2021-05-19 17:21:40,511-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643377')
2021-05-19 17:21:40,520-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:21:40","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.33,"source":null,"couponDescribe":"0.860.33ܶ","useableEndTime":"2022-05-19 17:21:40","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.05,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191721409115159850551495415954943037","subScopeId":"","originalAmount":null,"usableAmt":0.33,"usedPartnerOrder":null,"couponCode":"62643377","settleType":"0","status":"NORMAL","ratio":0.86},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:21:40,520-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:21:40,521-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:21:40', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.33, 'source': None, 'couponDescribe': '0.860.33ܶ', 'useableEndTime': '2022-05-19 17:21:40', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.05, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191721409115159850551495415954943037', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.33, 'usedPartnerOrder': None, 'couponCode': '62643377', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.86}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:21:40,521-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[G6]={'vouId': '62643377', 'amount': 1, 'price': 0.33}
2021-05-19 17:21:40,546-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '9dpiyB27GT8ZOYevlUhHfKwsnLN0V3rC', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:40,569-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 17:21:40,570-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 17:21:40,570-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[I6]={'partnerOrder': '9dpiyB27GT8ZOYevlUhHfKwsnLN0V3rC', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:40,570-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 17:21:40,570-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[M6]=failed
2021-05-19 17:21:40,601-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'XAhWpROVgTuUsGK81w3S2ELNdCYcHnaj', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643380', 'amount': 1, 'price': 0.33}", 'voucherId': '62643380', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:40,616-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:40,617-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:40,617-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[I6]={'partnerOrder': 'XAhWpROVgTuUsGK81w3S2ELNdCYcHnaj', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643380', 'amount': 1, 'price': 0.33}", 'voucherId': '62643380', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:40,617-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:40,617-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[M6]=failed
2021-05-19 17:21:40,649-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'PAHa10gtmZ2fFnBhqxvLKONj3dleXzQr', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643379', 'amount': 1, 'price': 0.33}", 'voucherId': '62643379', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '190.230.116.95', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:21:40,663-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:40,664-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:40,664-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'PAHa10gtmZ2fFnBhqxvLKONj3dleXzQr', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643379', 'amount': 1, 'price': 0.33}", 'voucherId': '62643379', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '190.230.116.95', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:21:40,664-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:40,664-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 17:21:40,697-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'XjaiAC0qT7hPvtmBH6zlWV48NsI1gnoK', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:40,725-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519172140208677696934106t","status":"ACCEPTED"}
2021-05-19 17:21:40,725-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519172140208677696934106t', 'status': 'ACCEPTED'}
2021-05-19 17:21:40,740-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:21:40,740-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:21:40,740-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "28960006463859"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "L2xuaXMoU0V5bO4AgCDjfdp6eKvlHF7h"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:21:40,826-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "3c5ce0114e51497e86fd0015d6dac628"
s_p: "Vm9wZFFGY2pRYkFWUHR0RWpWc2NvOFRWazE4TmR4NkxSN0VoSHlxSFRGb3I2MmYyQ2NycXEzMVdmZlhIcEpBWGdkaGY3ck54b2RqT09kRmg0a3hubW9UVTFod3A0QmFzdUtRQWJ4a25MTHd0dDN1QTdGTFM1azhSdWZMUzlOVEFVS2ZPRDRCTVk2VE80RHlTbldmRU1sU1R3bFppRG9EWlU4NkFjMFZmVGI4Q2ZuVmFVbkpsWEpTQkNUZUdiUHY2ZWI1dVNHQ0RTeVhlZndZaEFRT3VjMzllWjhTYzVtSzFVQmpvVDAxR1ZoQ0VCR01jckc0dFhvcTdCaVVZa1pBdjE2ZTk0alJWbHlFSEhlOHd0RTNCbEtuVE5oeUFyM0k2dE1lZDdTVzZXZVlPYWZiRWJrdVd4OG1mVkJEbEQzYnh4VVFKeDNCdnMwM0hUekxudktKQnZCNDhoa2RTVndobXZsdTBhaGhYWThSODNmNElESFNrdHBMSTZDNEI3T1ZBeEo0U3FtUjRiY2lyVDExdGJONFQzRXBDbUdnTWszRU1rWTlFaVQ5SUZlQVU2SG8xaHZqVTJsWThXdUY4UDRoWk9EemJNTThJdFpBVmswN3lROUJSOVhpRFZxSTZKZ09rYkQ0M2wycGQ3cXZvZ3BJWjJ0eTh5NlRGb1hMUTdIQWlCUWRtSEdrMDR0T3lBSUdXRGFsOU41TEoydjFDdjVTRVMwZ3R2TW1tNDNuU0NvMHdOb1U4VGwycnhFUzhrVVdhUXRqMUl6NDVnMjRjMk9YaUJZMXRlS2VweWVZZm5xVFFUaXhzdTN3VXZTdFY3NnhQYnQxcXIyUkFKdnVsdFhKOVVnR29NazdqTGFOVFFSeERrZEtuaE92ZzQxOHJYUUh4RjdvSE5sUXg0c2VGWURlQUxVYVFpSFN0aFNJMXBWMjJzTmZxVVA5TjdmQzNJbWtEbndTd25sVWFUajIycXY1ZDVQY2VxZlpnZHQ2VWJrOGhseUk3QnJ6VTBmejY5UHhhdVBUNUhYRklzUWVFMFJ2NXp4WVNwaGpWQ0hmVnJsb00="
m_p: "kKUc335VsJ1C92dPs6US6qJ8cg1mJ75NX129aU5L8Wp03DgtChPQArhX221s90J6"
e_t: "1621524100822"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:21:40,827-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:21:40,827-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:21:40,827-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "3c5ce0114e51497e86fd0015d6dac628"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "VopdQFcj"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519172140208677696934106t"
version: "265"
queryType: "PAY"

2021-05-19 17:21:40,876-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:21:41,889-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:21:41,889-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:21:41,890-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "69946057262390"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "jzflCY2IuGNe5WHELpOo01yrRdMVt9sJ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:21:41,939-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bbc3075f2a9d4d179458a4ea897d9119"
s_p: "ZnBCN3ozTDd4ZEExOTZnNHBpNHBlT2FMcllhbWw5Q2dES055Z2lwMU9OSDJ6WFJNRW9KV1U0Ym51a2pnSDBORGlvU3RHd2N2RUdYNHdzT2k2OHh2Q2pGc0l4SkZLRGVVeG5DZFduVTJzUzM0c09ncGFYeXZRS1JwWXZlZ0cyS01GbGY1Vk9rd3JmZnE5UHVod0k5ZjJXeHR0MW93alRzUERRa2l2MU5ZWk9aRU5NemhwdGw1WG5vUXF2OVdEZFNFM1pBNUo4TnJaRGlGMktaSU9WS2hIbVoxYU9VYW1vdTJJaWRnNlJrMXg2N3g4U2t5NEY4N2xSbWNrMXlZYUJzb3dpc3J5a2Q5Y3ZLVW54UEh5cnY5ekd2Y0g5NEtZZXY0T3lOMzVlaGhRV2JIQlBkaXpkT0lYTmpVMEk1UDQ5bUpjVjBBc0RBYWc4b3VFVnRScTNtaFdNOTdpSkdWWnprZVBtYW1RZXBqV1pFbGVvdDZQVEZvd3VkWXVpQ014UzBUNnJsdVBBYkJRTkloTVQzTGJjMGMwVkNCajd3MXJoRXZHQmlvRHVzMWhnZTRteEUycUV4U2NnUW1CdXh5UFl1VGlVWEl1M0JQV2VITVJIaGhMNzBib1djRUZIVVYySXc5dGtJeEhQcUNTOFp3Z25zVVNuMGo4Y0IxbFBiYkxvcDhpRUNaV1BaWkFsMjVSZWhKVUwzUTNucEo0cWJLaTRVWjJvc3VBb1dXNVJwVTZaZEVidk9HSlBxTXFUR1lPdm8wR0RzWFBiVFpnZWNxTnpoRENmRG85UGRIV3ZPcW13SFNEMGVLMk5VWDlVNGNiRDMySDNJb2txZDVkQjJXd2VoNFlhYlpQR0d5NnFseE5MVWVsRFdJUVZzdm16Z0F5WUo5NVFWMUNKQUFvYzNtbWFSRmJabGpmOTUxSjNiY0lkb2RQbUJ5ekZRUkhuUlJYWGEzWUJTNWI0bFFhVUVSMFpsQVUzMzY2TnlPd1g2RXlSNzc3Q3NHMkZrUDhuSFhyblNkZDVCRFhnbVdSYUVsWEZCQXJNeEpJTnE2RTFlZW9MVEE="
m_p: "oGdqm79cXPAA22vcel295Hwk44hRyhLAX9V41fL6O9S59OtE8DQ6qp017DKBRzRX"
e_t: "1621524101939"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:21:41,939-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:21:41,939-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:21:41,940-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "bbc3075f2a9d4d179458a4ea897d9119"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "IxJFKDeU"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519172140208677696934106t"
version: "265"
queryType: "PAY"

2021-05-19 17:21:41,986-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:21:43,000-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:21:43,001-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:21:43,001-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "51077596462681"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "gnyqtp2IzPxAVuHG9Kl7cvQhWe0YJj8M"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:21:43,049-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "11d79fdeacf24ee3b4c6fa664d946357"
s_p: "ZjZEbHF4b0FLRldDSHd2MUViQ2RCZGRyNmJBaVl5VERHWXRNcUtDRGwzVmRYZm1SajdxWGFrTTdQNTdkb2I0SEZmNFNqQmRGMEs1R3NOY3RRV0phbWxzYWltQ2FtWkFKZzVZTzNQb0d6MFZEVFF4VWVPcEd0Q3d3THBOR3ZzYzVOVWZjMnFleGxReVVNd1VyMTZRWXI1YmU4VlRVck9UMGt2YkdDMkRsUmcwWHhsOTN2RWVmdHN0M1N0NHNlZmFyZWZ0emNKSTJxRnk1ZjNmWTFLYXYxMHpRdWxnVTV4YkFOZDNmVW1DbmM5R1BBUURhRnp3RURmV0xpUHZnZzJIcUxid3VhcURtaUxJM0l1YlFwS1FKY201U1R6WlB3V1J5bElocmhpNmhkbGFqbUxBOW5sMG04bVZzUUI1YXA4T2tRWjdKTjliRXBPM1ZBUXdPRHNnNVZWVjhTc0V0YmNWeVFMQmtVakVkWFFIaVlaWHpiTUY1eDBZREtCS01TVjFWVWNUVXowR01JRWlQdWZEZ2xCTnpudkNQZzk3WXlibWVad2dKeVFnUXFKcWlEaXFhc0JXTlE0QWFUYVZrWWhuSG9PaUdCQ1VzOHk5RGR4SjZSdEFGdmw5VzFWWjluamR2Y0ZESTd2MHRQSUlqUzZhV3JUaFNpcDAwOUlEcUhzOERwQzhKY2hrcGJ5bDNINllJOHlQTUppNnFlVVdhMDlHYkZXZEJZbGJ1SHZrN0VjTWxaeVFHZWJMZ1Fsd3oyV3dGck0zTkNMTzhTMG4xc1NieURVVlVVbTZXa09Gc2hEb1VUWFg2Z0J0NkRLNkVaZXdOWGVEZ2dPOGRQc2pqNE14WGxQZFdXTUNEMExSNmRFenBacnJuVEhHRnVJV09mdmFxYjZ0Tmx5SG9VVE1IdVF6bHBlRGlCRjU5bmFCdkpXdDVDSElibmVwc28xWUNNSVB2OVNNMUdBN3p0cVFOd05OTkYyME5RR2xiRURiWEtDV0RBNHNvV3FiTUhyRFBra2VCWjhEYUdpUlhKNGhuYnh0d0NmckN0SEV0RDJrakNQZ2U="
m_p: "W5v067R3a3Yr529V969DA3A6i82fRRSTED6D5x07N3uZ43AYh5V79wXoSF3rvF73"
e_t: "1621524103050"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:21:43,050-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:21:43,050-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:21:43,050-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "11d79fdeacf24ee3b4c6fa664d946357"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "g5YO3PoG"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519172140208677696934106t"
version: "265"
queryType: "PAY"

2021-05-19 17:21:43,098-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:21:44,099-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[I6]={'partnerOrder': 'XjaiAC0qT7hPvtmBH6zlWV48NsI1gnoK', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:44,099-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[J6]={'payReqId': 'KB20210519172140208677696934106t', 'status': 'ACCEPTED'}
2021-05-19 17:21:44,099-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[M6]=passed
2021-05-19 17:21:44,128-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'VIKmrngsXR0w9ayDE3FU16BTplOvYLqk', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643378', 'amount': 1, 'price': 0.33}", 'voucherId': '62643378', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:44,147-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:44,147-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:44,147-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[I6]={'partnerOrder': 'VIKmrngsXR0w9ayDE3FU16BTplOvYLqk', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643378', 'amount': 1, 'price': 0.33}", 'voucherId': '62643378', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:44,147-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:44,148-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[M6]=failed
2021-05-19 17:21:44,178-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'j9rsH4enXDkipPKbMQIUoVAZwCt1JuWx', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643377', 'amount': 1, 'price': 0.33}", 'voucherId': '62643377', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:44,190-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:44,190-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:44,191-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[I6]={'partnerOrder': 'j9rsH4enXDkipPKbMQIUoVAZwCt1JuWx', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643377', 'amount': 1, 'price': 0.33}", 'voucherId': '62643377', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:44,191-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:44,191-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[M6]=failed
2021-05-19 17:21:44,225-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'CdNuFRpQqSHsUcon739rI0YLmDGxf1TE', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:44,233-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:44,233-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:44,233-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'CdNuFRpQqSHsUcon739rI0YLmDGxf1TE', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:44,234-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:44,235-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 17:21:44,264-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '7TKg6Dm1tSYIilJxv0WVFBUNG9nCfHbc', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:44,271-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:44,271-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:44,272-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': '7TKg6Dm1tSYIilJxv0WVFBUNG9nCfHbc', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:44,272-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:21:44,272-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 17:21:44,300-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'GfAdre9OCMzHRDQtZlcqNTV4iX1Y7PL2', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:21:44,314-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:44,314-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:44,315-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': 'GfAdre9OCMzHRDQtZlcqNTV4iX1Y7PL2', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:21:44,315-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:44,315-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 17:21:44,345-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'lHEuvIajgfDVNb7XPzU5R8QGn0rJtWod', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '197.195.166.254', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:21:44,357-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:44,358-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:44,358-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'lHEuvIajgfDVNb7XPzU5R8QGn0rJtWod', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '197.195.166.254', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:21:44,358-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:44,359-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 17:21:44,385-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'fFEY1aBqNVAs9467rUiWDITkPnSeRxK3', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:21:44,398-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:44,398-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:44,398-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'fFEY1aBqNVAs9467rUiWDITkPnSeRxK3', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:21:44,399-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:44,399-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 17:21:44,445-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '1ZQz56VxcqfgpLRXSkUPGv9rbDTBJtny', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '113.55.61.36', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:21:44,459-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:21:44,459-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:44,459-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': '1ZQz56VxcqfgpLRXSkUPGv9rbDTBJtny', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '113.55.61.36', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:21:44,460-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:21:44,460-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 17:22:53,552-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 17:22:53,812-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 17:22:53,883-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:22:53,883-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 17:22:53,884-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:22:54,130-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:22:54,130-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 17:22:54,130-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:22:54,166-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 17:22:54,167-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 17:22:54,174-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:22:54,969-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:22:54,970-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:22:54,970-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:22:54,970-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:22:54,970-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:22:54,970-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:22:54,970-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 17:22:54,970-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 17:22:55,230-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:22:55,230-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:22:55,230-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:22:55,230-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:22:55,231-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:22:55,231-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 17:22:55,494-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:22:55,494-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': '9dpiyB27GT8ZOYevlUhHfKwsnLN0V3rC', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': ' 5003 参数异常:{code=100;message= 5003 参数异常}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:22:55,495-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643380', 'amount': 1, 'price': 0.33}, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': 'XAhWpROVgTuUsGK81w3S2ELNdCYcHnaj', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643380', 'amount': 1, 'price': 0.33}", 'voucherId': '62643380', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:22:55,495-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643379', 'amount': 1, 'price': 0.33}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'PAHa10gtmZ2fFnBhqxvLKONj3dleXzQr', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643379', 'amount': 1, 'price': 0.33}", 'voucherId': '62643379', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '190.230.116.95', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:22:55,495-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'XjaiAC0qT7hPvtmBH6zlWV48NsI1gnoK', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '{"payReqId": "KB20210519172140208677696934106t", "status": "ACCEPTED"}', 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': 'passed', 'comments': None}
2021-05-19 17:22:55,495-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643378', 'amount': 1, 'price': 0.33}, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'VIKmrngsXR0w9ayDE3FU16BTplOvYLqk', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643378', 'amount': 1, 'price': 0.33}", 'voucherId': '62643378', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:22:55,495-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643377', 'amount': 1, 'price': 0.33}, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'j9rsH4enXDkipPKbMQIUoVAZwCt1JuWx', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643377', 'amount': 1, 'price': 0.33}", 'voucherId': '62643377', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:22:55,496-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:22:55,496-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'CdNuFRpQqSHsUcon739rI0YLmDGxf1TE', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:22:55,496-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': '7TKg6Dm1tSYIilJxv0WVFBUNG9nCfHbc', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:22:55,496-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': {'partnerOrder': 'GfAdre9OCMzHRDQtZlcqNTV4iX1Y7PL2', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:22:55,496-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'lHEuvIajgfDVNb7XPzU5R8QGn0rJtWod', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '197.195.166.254', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:22:55,496-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'fFEY1aBqNVAs9467rUiWDITkPnSeRxK3', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:22:55,496-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': '1ZQz56VxcqfgpLRXSkUPGv9rbDTBJtny', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '113.55.61.36', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 17:22:55,505-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:22:55,531-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '6x2ej39thX5DGEuKMdZTLUyNJlsHVPpk', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:22:55,562-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519172255208677696956185t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22X56xCOMJEUo4JwGst8KZbKd%252FdBu0giJpEpUCmuhxhAfhTRaWhceNK0j7AK3e6sXDV1Kva1Y3vSm6S%252Bv8yQI%252B8P8yJPy7LntfBp87AeeMzX9E07WArvIVsboPySWObPZAuphtoVLarxYBlJFkhZCzNUc6%252BmGZQGmgKN%252F9qWQgkEM%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519172255208677696956185t\"}","payReqId":"RM20210519172255208677696956185t","status":"AUTH_NEEDED"}
2021-05-19 17:22:55,563-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519172255208677696956185t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="X56xCOMJEUo4JwGst8KZbKd%2FdBu0giJpEpUCmuhxhAfhTRaWhceNK0j7AK3e6sXDV1Kva1Y3vSm6S%2Bv8yQI%2B8P8yJPy7LntfBp87AeeMzX9E07WArvIVsboPySWObPZAuphtoVLarxYBlJFkhZCzNUc6%2BmGZQGmgKN%2F9qWQgkEM="&sign_type="RSA"', 'system_order': 'RM20210519172255208677696956185t'}, 'payReqId': 'RM20210519172255208677696956185t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:22:55,564-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': '6x2ej39thX5DGEuKMdZTLUyNJlsHVPpk', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:22:55,564-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519172255208677696956185t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="X56xCOMJEUo4JwGst8KZbKd%2FdBu0giJpEpUCmuhxhAfhTRaWhceNK0j7AK3e6sXDV1Kva1Y3vSm6S%2Bv8yQI%2B8P8yJPy7LntfBp87AeeMzX9E07WArvIVsboPySWObPZAuphtoVLarxYBlJFkhZCzNUc6%2BmGZQGmgKN%2F9qWQgkEM="&sign_type="RSA"', 'system_order': 'RM20210519172255208677696956185t'}, 'payReqId': 'RM20210519172255208677696956185t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:22:55,564-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 17:22:55,782-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'WjJ1Yv9udecpKIZmPzofaDqEhQCU6nF8', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '13.252.138.156', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:22:56,015-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 17:22:56,016-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 17:22:56,016-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': 'WjJ1Yv9udecpKIZmPzofaDqEhQCU6nF8', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '13.252.138.156', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:22:56,016-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 17:22:56,016-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=failed
2021-05-19 17:22:56,045-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ykgNZl1JWUH3LSTM6qiwYm7dhQXRfau8', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:22:56,053-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:22:56,053-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:22:56,053-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'ykgNZl1JWUH3LSTM6qiwYm7dhQXRfau8', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:22:56,053-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:22:56,054-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:22:56,089-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'WA67103pcfbDiBtSnGyYNPXQaLFv54RU', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:22:56,097-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:22:56,097-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:22:56,097-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'WA67103pcfbDiBtSnGyYNPXQaLFv54RU', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:22:56,098-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:22:56,098-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 17:22:56,125-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'LjB7xARsuYqwUvVJrTzkn2pKCSF86ta5', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:22:56,134-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:22:56,134-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:22:56,134-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'LjB7xARsuYqwUvVJrTzkn2pKCSF86ta5', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:22:56,135-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:22:56,135-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 17:22:56,172-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'cil2YxbwzmjpMv5BKWG3ZaT4yrNOnDdP', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '32.20.62.219', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:22:56,189-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:22:56,190-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:22:56,190-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'cil2YxbwzmjpMv5BKWG3ZaT4yrNOnDdP', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '32.20.62.219', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:22:56,191-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:22:56,191-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 17:22:57,278-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 17:22:57,285-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:22:57,285-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:22:57,285-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 17:22:57,286-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:22:57,286-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 17:22:57,315-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '243.165.152.217', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 17:22:57,323-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:22:57,324-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:22:57,324-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '243.165.152.217', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 17:22:57,324-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:22:57,324-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 17:22:57,363-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 17:22:57,372-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:22:57,373-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:22:57,373-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 17:22:57,373-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:22:57,373-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:22:57,401-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 17:22:57,408-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:22:57,408-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:22:57,408-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 17:22:57,409-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 17:22:57,409-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 17:22:58,475-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 17:22:58,475-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 17:22:58,485-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 17:22:58,531-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.12","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.58,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:22:58,531-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:22:58,531-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.12', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.58, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:22:58,531-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.12
2021-05-19 17:22:58,533-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 17:22:58,534-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '5456925'
2021-05-19 17:22:58,540-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 17:22:58,540-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 17:22:58,541-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 17:22:58,541-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 9.58, 'appId': '5456925', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 17:22:58', 'ext1': '', 'ext2': '', 'maxAmount': 30.17, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191722584500360282274466798104477679', 'ratio': 0.79, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': '53C50ED65B731CE6E0695E55B3F35596', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 7, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 17:22:58,595-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 17:22:58,595-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643381', '62643382', '62643383', '62643384'], 'batchId': ''}
2021-05-19 17:22:58,595-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643381', '62643382', '62643383', '62643384']
2021-05-19 17:22:58,614-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 17:22:58,615-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 17:22:58,629-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643381')
2021-05-19 17:22:58,639-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:22:59","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.3,"source":null,"couponDescribe":"0.790.30ܶ","useableEndTime":"2022-05-19 17:22:58","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.09,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191722584500360282274466798104477679","subScopeId":"","originalAmount":null,"usableAmt":0.3,"usedPartnerOrder":null,"couponCode":"62643381","settleType":"1","status":"NORMAL","ratio":0.79},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:22:58,639-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:22:58,639-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:22:59', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.3, 'source': None, 'couponDescribe': '0.790.30ܶ', 'useableEndTime': '2022-05-19 17:22:58', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.09, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191722584500360282274466798104477679', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.3, 'usedPartnerOrder': None, 'couponCode': '62643381', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.79}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:22:58,639-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[G6]={'vouId': '62643381', 'amount': 1, 'price': 0.3}
2021-05-19 17:22:58,645-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643383')
2021-05-19 17:22:58,655-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:22:59","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.3,"source":null,"couponDescribe":"0.790.30ܶ","useableEndTime":"2022-05-19 17:22:58","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.09,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191722584500360282274466798104477679","subScopeId":"","originalAmount":null,"usableAmt":0.3,"usedPartnerOrder":null,"couponCode":"62643383","settleType":"1","status":"NORMAL","ratio":0.79},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:22:58,655-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:22:58,655-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:22:59', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.3, 'source': None, 'couponDescribe': '0.790.30ܶ', 'useableEndTime': '2022-05-19 17:22:58', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.09, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191722584500360282274466798104477679', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.3, 'usedPartnerOrder': None, 'couponCode': '62643383', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.79}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:22:58,655-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643383', 'amount': 1, 'price': 0.3}
2021-05-19 17:22:58,660-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643382')
2021-05-19 17:22:58,670-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:22:59","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.3,"source":null,"couponDescribe":"0.790.30ܶ","useableEndTime":"2022-05-19 17:22:58","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.09,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191722584500360282274466798104477679","subScopeId":"","originalAmount":null,"usableAmt":0.3,"usedPartnerOrder":null,"couponCode":"62643382","settleType":"1","status":"NORMAL","ratio":0.79},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:22:58,671-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:22:58,671-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:22:59', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.3, 'source': None, 'couponDescribe': '0.790.30ܶ', 'useableEndTime': '2022-05-19 17:22:58', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.09, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191722584500360282274466798104477679', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.3, 'usedPartnerOrder': None, 'couponCode': '62643382', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.79}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:22:58,671-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[G6]={'vouId': '62643382', 'amount': 1, 'price': 0.3}
2021-05-19 17:22:58,676-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643384')
2021-05-19 17:22:58,687-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 17:22:59","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.3,"source":null,"couponDescribe":"0.790.30ܶ","useableEndTime":"2022-05-19 17:22:58","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.09,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191722584500360282274466798104477679","subScopeId":"","originalAmount":null,"usableAmt":0.3,"usedPartnerOrder":null,"couponCode":"62643384","settleType":"1","status":"NORMAL","ratio":0.79},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 17:22:58,687-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 17:22:58,687-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 17:22:59', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.3, 'source': None, 'couponDescribe': '0.790.30ܶ', 'useableEndTime': '2022-05-19 17:22:58', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.09, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191722584500360282274466798104477679', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.3, 'usedPartnerOrder': None, 'couponCode': '62643384', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.79}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 17:22:58,687-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[G6]={'vouId': '62643384', 'amount': 1, 'price': 0.3}
2021-05-19 17:22:58,715-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Ih6Sy3jHd1fZ25xMFrvVqpTmJl7iRA4C', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:22:58,738-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 17:22:58,739-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 17:22:58,739-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[I6]={'partnerOrder': 'Ih6Sy3jHd1fZ25xMFrvVqpTmJl7iRA4C', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:22:58,739-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 17:22:58,740-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[M6]=failed
2021-05-19 17:22:58,770-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'DIU4ba9G1kixCnpAwc6LFNSyqPtMKXed', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643381', 'amount': 1, 'price': 0.3}", 'voucherId': '62643381', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:22:58,784-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:22:58,784-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:22:58,785-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[I6]={'partnerOrder': 'DIU4ba9G1kixCnpAwc6LFNSyqPtMKXed', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643381', 'amount': 1, 'price': 0.3}", 'voucherId': '62643381', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:22:58,785-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:22:58,785-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[M6]=failed
2021-05-19 17:22:58,815-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'JyaUAeXdcC23N0vSnukjiKGs7BhTDoWt', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643383', 'amount': 1, 'price': 0.3}", 'voucherId': '62643383', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '90.80.31.3', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:22:58,832-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:22:58,832-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:22:58,832-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'JyaUAeXdcC23N0vSnukjiKGs7BhTDoWt', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643383', 'amount': 1, 'price': 0.3}", 'voucherId': '62643383', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '90.80.31.3', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:22:58,833-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:22:58,833-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 17:22:58,864-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'DxehV9NTZWvrYAQuy1wpsLzMCIKPEXbo', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:22:58,888-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519172258208677696968655t","status":"ACCEPTED"}
2021-05-19 17:22:58,888-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519172258208677696968655t', 'status': 'ACCEPTED'}
2021-05-19 17:22:58,903-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:22:58,903-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:22:58,904-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "91604688640176"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "H9ln0YcjeSqazDoVrW1F2iXhvAC3NQw7"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:22:58,962-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e95abfef079b48d79e6ec51002cf3bbd"
s_p: "UlZKS3FxbFhRSm1nYll4Y0JNQXFQS2VQZkFLamtMUVkyTDB5R2JjdjhhWEI5WXNQMUtDWXdJemhFV2F2OWNnNkZ0NjJ5V3VqOHk4OGU3ekxUSHRWcDB3WkZ5MVh1QXBIaFZWUVUwZHlSRHZ0Y3RkRzBwQ0x1ZEtTbTFlNTNVRVJCeG5NcjY3WjRqOFNhMVZqTGFRTW1FYTVjZEUzUVJDNk1oUjJTUG83UW1RT0J0SEo1YmZ6VUpHNU5BWkVHcTZ0TWRQbVpBNGdVdVB6NUpkWFo2TjhpanpYSW5qb2h1UnBjc3Y1ckw0RUxZbHhoTzFIeVhmRGxYZHhEUWFBaUo0UnZTNHZ2YmZNMjZiR0JQeGx0MlJhdXRRNXJWck9aR2kzZVBWSVJNNUlFNzVIbDJaYWhwV1RqbTI1T3V0Y3ZJZnAzUzZ2Vk9vdUtFTjdueGtLWmlGRjhpeE5RdGVraUc5aUR5M3hqN2pLWTJqZDYzWnR3U0xodE05eklaRUlXZlFVNDF6V2RSSDNnWnZia0l1eHFwVDNZRWxaVGZPVFJKdFR4TVMxcGpOU1hhOXphQTlLb3JzOWtVYzRnYkZvSFhIN3ZyY25qdDM4blZlalFteVNjODNqOGpnU3dncFhNa1g4T2g4NTJjcjlYOHcwT3lSNWZrNTNrbnByS1FnVEk1WTh3MEh0VnhVb01yVEZraG1BUjg3eTdSVDhmRThCbkYzMVFqZkp5bzdNbVpoUEo5cWlGdXpNTVhhWXRVQTRucHJwa3pLZld5cXJlV04yWFZVZ2FrVXYxNDQyYXRKUTVrckt3d2xVYlR2MHd6eVdOb1d4aHdvdURSS2VSRWhISVNiUzNHNUtJV0RVdjBlZnpDZVQxdTNya2dOamNqS1pjam9wdmlPUnRUUEYwbkVQaFlCb2JJdWxNQ2ZxU2NGSHFUYjdqemtHMXdWZU9UOHJnMVlpNFBVa3VHNExwTVVLRGoyNXZyT25vMmVFNG5Ld2ltMGJydEI4ZVZSTHFsZHpucGZjT2JzRVdsMWp1OWhSeUFKYWgyNTY3S3hwTkRGUWYwOTA="
m_p: "ueLGKf4r6kT9e3824Nd4ndH9b4JZGzvFDjftO2o75W6wCV3ZwA05LwiOs48j3Z76"
e_t: "1621524178957"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:22:58,962-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:22:58,963-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:22:58,963-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "e95abfef079b48d79e6ec51002cf3bbd"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "cv8aXB9Y"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519172258208677696968655t"
version: "265"
queryType: "PAY"

2021-05-19 17:22:59,020-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:23:00,034-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:23:00,034-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:23:00,034-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "21367542090729"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "wVPmbXyv0SeFiaA4s27nDJENM93qOBtY"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:23:00,089-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a898c2d6b7f840328d5270311ca433c2"
s_p: "SmlubndVMFd2Z3IxVkRFck1JamtQQlJRQmVjdVBtTTdZcXJwWnJ1YlB5SVBBMFpYVzFYdDlYQUJuZFhYbE9LQWZEVExrYlhRbUZXRzhXVGFFUGVkR3l2akJkdHZhU0dHbDlCSmRjQjVOV25nTHFzTjhYSnhVeUVqd055WkNVZTlSblRDcHc3eWpjelM1THhXVHk1emxia0gwRk9ySHd4Y29hQmxBZkdxRWNJcktIeERBRVMwWlBWVGIyOTNsdWdBYXpBaXdMOGE5T2o0UEo5aEdtSHVYMGJvdURudTVWVFZVTksxY3dMcTl0WUlhaTI5S0N5OTRPd2JXeHI2bVhqNEJEdEtDYkR0NDMxdUxNekV5dmhROFZpRVFERGV5cGJFZDBKQUJPams1aklTTDMzd0c3dERQcDBiTktKVkpTNFZkWHNpVGNJWGxCMTB3b3kzOVRtVDI2VVgxdk9lTE9iQ20xeDBFSG80TGdaa0ZVMzZzT2pQR3ZqRFhNNTJ1b0haYUxpeTIxNUt1YlVDSUZSWHVONUI3c2Fzbzh1TzcwUzR5eWxyaDlzTUlaSnUzUEpuNlNPQjZtdUdJdmt1Q3dYMTk4ZUtRTmxZcEZFU2k4ZWRtNUdGNDNhWHdVdmtwb2pNMU0zek8wNFhvc3ZyMVJ5YkNsQWVjbWVRSk5RYzNoVnpGdTVpVnRtODB2U0gxY1F1M0hjd081NzBMWDlxb1JRWFNYQXJoU2Q1c3Z3MER3UjhjdFFCbVVPYm5lZnFoWFVQeGJjclVRaTJObEN0M3o0RzRqc3pZSDk5dVZCRzRERXNvN1A1Y2d4T2JBS0llRWNmU0lHRWxDbFVBUWh3TDJsMFE4MXBJTWJPNlZZajNaZlZBOW0ycEIyQ2tZbG5HWW1aeDNIUnFXWktYR21rNVlPU2RGOGFrTWJYRDhpT1o5bU4yaEh6WkJENWM4Y3pvbFd2RWVsczlqYTZRUmtReGo5Tnl4bE9yeU1iaExCQWF5cTdybmZBS1dENHZ1QzRGNmc0aEMzWDZWMkNTdzlJclhsY1hLYTF6OVZVZHMydnZ5WUo="
m_p: "b88s162m0Z9P83t8z0h6RmM35Pek2fow52r76a4r10nDGz7N758Q0fO6jtV9SY46"
e_t: "1621524180086"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:23:00,089-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:23:00,090-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:23:00,090-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "a898c2d6b7f840328d5270311ca433c2"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "EPedGyvj"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519172258208677696968655t"
version: "265"
queryType: "PAY"

2021-05-19 17:23:00,143-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:23:01,160-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:23:01,160-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:23:01,160-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "05723752807690"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "NyYM48JnDmBs2dxhO0bRftS9IGZlrQAV"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:23:01,217-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "59970f0cea18450fa0a31cfa437b10f1"
s_p: "c2FudDdIV2xsTENOd0VpYmtUSVNZemQ4NkRseTdpOGtCcHVOTGxjb09GdHJqSjRQdVQxVjFKNW50NHBWSFc0empSelczSk1MdHNHbVVEQU11VW5FU3hhTElUd2tvVVkwZm5rZ0J6SWN2UXdENHJkSFpWZnRvelVFYkZjazlpa2FUcHNWNlNGWHRja3VEcExrbk9lcHp1N1Z3S0NMdm1JcGRHOVllelBXa3phWHFCQ25Ta3RiRXNQRnNydHNRMVlkenQxYzg3U2NuM2t1c1V4Unpla0h3YlVrOXF1b0J6OGZMSTZTRDk3SjR4eW1ZM2lOc3FNZGoybXNwbnVUQnp4Z3FvaVVLU0l4ejV3NW9zWHpIQ2FTQXZXNTRabGJkdkhBUG1hcTZOWTlxWTRNenYwdndzSlpzaDhPRDBvQnJicXJJaUlyQk9NRFhPYmRqQjFkQXhBQXpybWkwUktPY1lKU3Z1M0k2TGZ0R0dvOVBucThYU2RPV1lNcmxmMjg2WVZ5UXFFdDhKaXBEZXAxS2F3SnA0dHdtN2M5MzI1YU1KbWRubXp2SjZyZGhTdGZhMkpleDJwSTVuRE5ZQ1puRjh6RkRKcndwWU5OT1VWUVJ5YXA5c2drVWJUNEk3NzVaTThWeW01WDUyMFlYQTljTjBndGRPZnpxbVlFMHBFb0VxQnpJTG9CZFNra01vZE9NZldQcjJVVVFiZWptUU5uYTVyaEEwZmoxSlp0ejJBT3FWQVBpUFNuUmJ0RFN1THhmWldLY1BiMHp5bkRpT0dzYkJNeHZzZU43QjN2VEltNFBuVXRPZFowaVVITmR5bENEZUdoYXp4WFN6RDBqUGZSRzdacXhpRHpkTXBLYlZsUFlaa0FuNWFaWFJSVXk3T1VZOFpaMUtNUkZmWjJkdnpNWW5zeGVjeEZiRVZUV1ZYSDNEYThRZ2oxQ29KSWYzcmt4VGFDdEd4TzF5Nm1hbWk0NDdRWVpXaEh4R3pZSEJhdTNrcDlPN0tEeUlQRFVVOUJub21lbXBaSTFNY0M3SER1S0QzWm1uMmFXYjQwd205YTRYS2M="
m_p: "1VdyD3yN6MpPko90E7c6auCGeCdzrXy929KWxt43Kjs92ld37jp76mH76hCPucRX"
e_t: "1621524181214"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:23:01,217-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:23:01,217-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:23:01,218-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "59970f0cea18450fa0a31cfa437b10f1"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "jRzW3JML"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519172258208677696968655t"
version: "265"
queryType: "PAY"

2021-05-19 17:23:01,278-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 17:23:02,279-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[I6]={'partnerOrder': 'DxehV9NTZWvrYAQuy1wpsLzMCIKPEXbo', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:23:02,279-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[J6]={'payReqId': 'KB20210519172258208677696968655t', 'status': 'ACCEPTED'}
2021-05-19 17:23:02,280-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[M6]=passed
2021-05-19 17:23:02,309-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'vSwF2m9bVHJpcZQIYM1L4gBq0AiOnzas', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643382', 'amount': 1, 'price': 0.3}", 'voucherId': '62643382', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:23:02,323-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:23:02,323-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:23:02,323-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[I6]={'partnerOrder': 'vSwF2m9bVHJpcZQIYM1L4gBq0AiOnzas', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643382', 'amount': 1, 'price': 0.3}", 'voucherId': '62643382', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:23:02,324-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:23:02,324-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[M6]=failed
2021-05-19 17:23:02,358-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '83AF1LeVuDmyrZTJ40l5NBEzbPsdY6IO', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643384', 'amount': 1, 'price': 0.3}", 'voucherId': '62643384', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:23:02,374-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:23:02,374-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:23:02,375-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[I6]={'partnerOrder': '83AF1LeVuDmyrZTJ40l5NBEzbPsdY6IO', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643384', 'amount': 1, 'price': 0.3}", 'voucherId': '62643384', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:23:02,375-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:23:02,376-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[M6]=failed
2021-05-19 17:23:02,406-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'HQpLxWM9adUXNz4f3CnbJSqs0mgvAlYR', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:23:02,420-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:23:02,421-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:23:02,421-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'HQpLxWM9adUXNz4f3CnbJSqs0mgvAlYR', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:23:02,421-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:23:02,422-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 17:23:02,451-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'YvzNy71iCh8seUB495XPqEOnG3mHKDLI', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:23:02,459-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:23:02,459-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:23:02,460-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'YvzNy71iCh8seUB495XPqEOnG3mHKDLI', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:23:02,460-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:23:02,460-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 17:23:02,508-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'E5QbojZD1axRJpCU40LHNuinMBm9f26O', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:23:02,523-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:23:02,524-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:23:02,524-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': 'E5QbojZD1axRJpCU40LHNuinMBm9f26O', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:23:02,524-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:23:02,524-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 17:23:02,560-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'JiPqNHTojD2t8z7KFV6agQ1kvdMhYs35', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '199.7.38.139', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:23:02,574-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:23:02,574-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:23:02,574-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'JiPqNHTojD2t8z7KFV6agQ1kvdMhYs35', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '199.7.38.139', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:23:02,575-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:23:02,575-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 17:23:02,605-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'kKXYl0uZ1AWN5JIfVQyrnDFadHjOc6gU', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:23:02,619-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:23:02,619-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:23:02,619-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'kKXYl0uZ1AWN5JIfVQyrnDFadHjOc6gU', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:23:02,619-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:23:02,620-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 17:23:02,652-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'bd7aY8ZWMJFURIX1f4re2uNgvV9cHqOG', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '75.142.34.2', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:23:02,670-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:23:02,671-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:23:02,671-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'bd7aY8ZWMJFURIX1f4re2uNgvV9cHqOG', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '75.142.34.2', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:23:02,671-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:23:02,672-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 17:55:05,613-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 17:55:05,886-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 17:55:05,977-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:55:05,977-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 17:55:05,977-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:55:06,224-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:55:06,225-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 17:55:06,225-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:55:06,271-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 17:55:06,272-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 17:55:06,283-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:55:07,062-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 17:55:07,062-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:55:07,063-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 17:55:07,063-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 17:55:07,063-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:55:07,063-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 17:55:07,063-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 17:55:07,063-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 17:55:07,071-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:55:07,113-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'GqMyec9aoz7QDmuBN2kAxUSHCLZhEPrj', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:55:07,154-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519175507208677696907086t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22G8KIBo9mPam258wqDPlX14oRy%252B9410bpE%252F3%252FxaLjUjtDFVdauq39aIN%252BdUR%252F1CDYO3kILD0WJ%252BAMRdluQ2ddHW9ULxzNWwnwNELxLwrvFyh0Pmh11l123NcKuX3REprtgaTWmJ80HP66sFDvYn%252BhwVi4eXlg9Wu%252BMx3U%252Bcu5BSE%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519175507208677696907086t\"}","payReqId":"RM20210519175507208677696907086t","status":"AUTH_NEEDED"}
2021-05-19 17:55:07,155-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519175507208677696907086t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="G8KIBo9mPam258wqDPlX14oRy%2B9410bpE%2F3%2FxaLjUjtDFVdauq39aIN%2BdUR%2F1CDYO3kILD0WJ%2BAMRdluQ2ddHW9ULxzNWwnwNELxLwrvFyh0Pmh11l123NcKuX3REprtgaTWmJ80HP66sFDvYn%2BhwVi4eXlg9Wu%2BMx3U%2Bcu5BSE="&sign_type="RSA"', 'system_order': 'RM20210519175507208677696907086t'}, 'payReqId': 'RM20210519175507208677696907086t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:55:07,155-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'GqMyec9aoz7QDmuBN2kAxUSHCLZhEPrj', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:55:07,155-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519175507208677696907086t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="G8KIBo9mPam258wqDPlX14oRy%2B9410bpE%2F3%2FxaLjUjtDFVdauq39aIN%2BdUR%2F1CDYO3kILD0WJ%2BAMRdluQ2ddHW9ULxzNWwnwNELxLwrvFyh0Pmh11l123NcKuX3REprtgaTWmJ80HP66sFDvYn%2BhwVi4eXlg9Wu%2BMx3U%2Bcu5BSE="&sign_type="RSA"', 'system_order': 'RM20210519175507208677696907086t'}, 'payReqId': 'RM20210519175507208677696907086t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:55:07,156-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 17:55:07,191-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'rVflYaFS54PBkCA1bhD8u6tjsQoXKMgE', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '68.65.174.55', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:55:07,503-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1917550745249759be305f1e9b227c0000&package=4074874398","payReqId":"RM20210519175507208677696927280t","status":"AUTH_NEEDED"}
2021-05-19 17:55:07,503-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1917550745249759be305f1e9b227c0000&package=4074874398', 'payReqId': 'RM20210519175507208677696927280t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:55:07,504-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 17:55:07,512-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 17:55:07,514-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[0854771549546814224952447217]]></transaction_id>
<nonce_str><![CDATA[5UR3P9BmASZXKQhebqFrfyvoC4Lg7YNp]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[FE8195AFA605816F583DAFCDB8CC657C]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519175507208677696927280t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519175507]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 17:55:07,771-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 17:55:07,771-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 17:55:07,786-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:55:07,787-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:55:07,787-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "87774964673640"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "bZwQdY4SCPJhiKt3nM1XkGHUBRI796pL"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:55:07,856-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】
2021-05-19 17:55:07,857-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 17:55:07,885-INFO-lib.interface_biz.http.user_account-46-http://i.auth.ucnewtest.wanyol.com/loging
2021-05-19 17:55:07,886-INFO-lib.interface_biz.http.user_account-47-{'appKey':'myKey','loginName':'14441120298','passWord':'1512a9f1e4a6a08414dc14d133f0c9af','sign':'1289577d840a69c0b0c87945522bb378'}
2021-05-19 17:55:08,031-INFO-lib.interface_biz.http.user_account-50-返回的登录信息：{'resultCode': '5020000', 'resultMsg': '系统异常,请稍后重试', 'isVerifyCode': '1', 'verifyCodeLen': '4', 'verifyCode': '/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABQAMgDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD1rw/4f0Wbw3pcsukWEkj2cTO7WyEsSgySccmtH/hGtC/6Amm/+Aqf4UeGv+RW0j/ryh/9AFalBhSpU/Zx91bLoZf/AAjWhf8AQE03/wABU/wo/wCEa0L/AKAmm/8AgKn+FalFBfsqf8q+4y/+Ea0L/oCab/4Cp/hR/wAI1oX/AEBNN/8AAVP8K1KKA9lT/lX3GX/wjWhf9ATTf/AVP8KP+Ea0L/oCab/4Cp/hWpRQHsqf8q+4y/8AhGtC/wCgJpv/AICp/hR/wjWhf9ATTf8AwFT/AArUooD2VP8AlX3GX/wjWhf9ATTf/AVP8KP+Ea0L/oCab/4Cp/hWpRQHsqf8q+4y/wDhGtC/6Amm/wDgKn+FH/CNaF/0BNN/8BU/wrUooD2VP+VfcZf/AAjWhf8AQE03/wABU/wo/wCEa0L/AKAmm/8AgKn+FalFAeyp/wAq+4y/+Ea0L/oCab/4Cp/hR/wjWhf9ATTf/AVP8K1KKA9lT/lX3GX/AMI1oX/QE03/AMBU/wAKP+Ea0L/oCab/AOAqf4VqUUB7Kn/KvuMv/hGtC/6Amm/+Aqf4Uf8ACNaF/wBATTf/AAFT/CtSigPZU/5V9xl/8I1oX/QE03/wFT/Cj/hGtC/6Amm/+Aqf4VqUUB7Kn/KvuOa8QeH9Fh8N6pLFpFhHIlnKyOtsgKkIcEHHBorR8S/8itq//XlN/wCgGig+fzmMYzjyq2geGv8AkVtI/wCvKH/0AVqVl+Gv+RW0j/ryh/8AQBWpQfQUv4cfRBRRRQaBRVWfU7G2uY7aa8gjuJWCpE0gDsT0wOtUNS8VaLpExhvL6NJAMlQCxH4CgiVSEVeTsbNFZWh+ILHxDbPPYGQohCt5ibSDitWgcZxmuaLugorntV8a6HpE5guLotMOqRrnFX9I17TtciMljcCTHVTww/CglVablyqSuaVFFQXV5b2UJlnlVFHAywGT6DPeg0J6K5S78faVAQkR8xjwGWSNgGx0wHyfc9PetHSfEtlquESRRKc4Hrjr+PfHPHPNBmqsJOyZtVz+veMNL0FSssokuMcRJyfxrnvHPjd9N36fp5xMcq8n931xXmVhYX/iDUlggDzzyHljzj3PtQedjMx9nL2VFXkdTf8AxR1mefNokNvEOg27ifqTW/4Z+Ji3lylnq0QjdztSZPu5J7jtU2mfCzTobcHUJpJpz1CHCis3VvhrLY3cN5pLmaNJFZoWHzAZ7etBhGOYwaqSd11X9foepUUAYAHWig9wKKyda8SaZoEatfz7WblY1GWb8KqaP420PW5xBbXDJOThY5l2lvp2/Wgydampcjkr9rnQ0UUUGpl+Jf8AkVtX/wCvKb/0A0UeJf8AkVtX/wCvKb/0A0UHzud/xIegeGv+RW0j/ryh/wDQBWpWX4a/5FbSP+vKH/0AVqUHvUv4cfRBXGfEy5vLTwzFNZ3M0DfaVVzE5UlSrcHHviuzrmvH9t9q8FagAuWjVZB7bWBP6ZoM8Um6E0t7M8Os72az1CG9jOZopBIC3OSDmtCy0LWvED3VzbW73Lx4eViwByee55PtWPX0F4Q02DTPDNkkJDGaMTySf32YAk/yH0FI+awGF+tScZP3VqeIaXrGpeHr4yWs0kMinDxknB9mFd7rnxIFz4diFhmK8nyrjqY8EfzGayPijpqWfiOK6jUAXcW5sf3gcH9MVh+D9Pi1PxRZ2067oixLL6gAn/69BcJ18PVlhYS3dvv6lc+HtZax+3vYTi3Y/wCscYz74PP40mgazcaHqa3dsSW2su3PDEggZ9cHB/CvoG+VBp0+YRKFjYiPH3sDpXzjdwC1u5IlbcFOVb1B5FBWNwf1NxqU3/w57hrPi6HT9PjnRRulRnjyeHwBgZHTkj8FavKtX8U3+pSvEsuY8bM45YA5J9skZOPYdBWbd37XOm2lu7FmgZ23E9A2OPwIP5mrHhvT11DWIYpAGQnbgttyTwOexyePfA70Dr46riZqnB2TsXLXwtququLgiSWSQFm3H5mI9z17dcZzgdDWlp2mal4Y1gCaOZy4IiQR58xwflx6EcOOexXua9mjjSJAiKFUdAKbNFFKv71FYLyCR09xTPVhllODUot8y6nz14iffrMx378HaTgAkjqcDpk5OO2cdq67wdqmm+F9GuL+9AaeQr5SqeW+Unj/AL6IP0Fch4hgaHWZ2KBFmYyqgbdtDEnGe+Ome/Wqllay391DbLIqh3ChnbCrk4zSPDjVlRxMpJXld2OxvPilrM1wTaxwQQg8LtySOOpP0/Wuo8J/ESHV5ksdSVYLpuI3X7jn09jWRH4I8JW9ntvPEcP2kjlvtMYAPsvWvPr63WxvWjhuUmVTlZYmyDQdUsTjMPJTqSTT6XR7L8RtQvtM8PQXen3MkEq3KqzIeqlW4P44ry2Dxbq51Szur3ULq5ignSVoTKQrBSDjHSuhufFkOt/D6bTbzzDqEITawQsGCkfMSOBxnrXA0GeYYtyqRnSk7NJ2v19Dp7fRNf8AG97caiiBtzcySttUf7I+lY+q6TfaHfG2vYjFKOVI6EeoNev+HPE3hqw0Gys11S3jaOIBgxK/N36j1rE+JN7o2raFBPZ6haT3MMwwscys2wg54znGcUGlbBUvYOop3nu9V8y98PPFz6tAdLv33XcIzHIesie/uK72vnPw/qTaTr1neKcCOUbvdc8j8q+jKZ6OV4mVajaW6MvxL/yK2r/9eU3/AKAaKPEv/Irav/15Tf8AoBooODO/4kPQPDX/ACK2kf8AXlD/AOgCtSsvw1/yK2kf9eUP/oArUoPepfw4+iCqWsRJPol/DI6oklvIrMxwACpGTTLzXNK0+5FteahbW8xUNslkCnB78/SuO8U61H4j1G28NaXfQ/Z5cPeXSSAqE67Qeh/xwPWgyr4iEIvq9reZ5FXvvga6N34L0yRjkrGYvptYqP0Arw3VLVbPV7y1jO5IZ3jUg5yAxAr0b4f+KtI0jww9vqV8kEi3LbEKsx2kKc4APfNI8HKqio15Rm7K35MsfFy1L6Xp132imaM/8CXP/slef+FLxrDxTp9yuSVlwQO4III/I13njvxBY654YkjsYL2dI5Ek+0i2ZYl5xyxx64ry2GRoZo5UOHRgyn0INAsfUjHFxqxd1o/uPpuvnzxfbNaeKtQjdNjtKZGUdBu+bj2wQfxr11PD+qX8avqHie8kRhkLZKsC4+oySK8y8eaGmj68I7ZJjFJEH3O5ck5wSWPfPb/Gmd+ac9Shflsk/n+F/wAzlsDb15q9o2onTNQScKzcjKhwucEHBzkEZAPPcA9q1fCVkNVlutPKLIXjLRoy87gP4W/hb68Hv2rL1DR7qwuGjKO456KQw5xgr1ByQPxpHiqlUpxjXier2/izWdQR/s8Gi2oQZZ7rUA4x64SpHn1mZlFx4qsbbcocLZWnmblJxkMxPGT17V5HHd6rDGgSW6VC5KjnBbvx0JqRbrWcSrm8JGHflxtx3IH9aZ6KzG695Sfzt+VjofHvhyXSp0vZb2a8a4PMkmCxOOpwMAcAAe3tWT4QSxm1+2hv4opInkA/eAkd+MdOTgc+tej6Npk3ib4fra6kzmcs2x5dxZSOn3uf515NqOm3mkXz291E8UqNgH19waRli6XsascRGN4vX/hz3xND0G2j8xNL06NQM7xAg4+uK8o+Ir2L67i1EYMYEeIwAoAAPb3P8/Sual1TUZ4vKku7h4+u0ucVX8mdzny5GPJzg/jQLFY+Nan7OELHReBvMn1q409DhL2zmgcduUOP1xXMV6Z8NfDN3Dfvqt3E0SKu2NWGCxNcBrFuLPW7+2HSG4kQfgxFBhXoyhhqcpK2r/Q9r8F+RqPgzTJJoYpCsZiO5QfusVH6AUzxhoGnzeFdSeGwtUnjhMqyLCoYbfmODjPQGqHwqmMnhSWMn/VXTqB7FVP9TXY3tuLuxuLY9JomjP4jFM+joxjWw0brdfofNFfSOj3RvtEsLpjlpreOQn3Kgmvm48HFe8+AJ/P8E6cxOSquh9sOwH6YpHk5JO1ScO6/L/hzR8S/8itq/wD15Tf+gGijxL/yK2r/APXlN/6AaKYZ3/Eh6B4a/wCRW0j/AK8of/QBWpXNeH/EGiw+G9Lil1ewjkSziV0a5QFSEGQRng1o/wDCS6F/0G9N/wDApP8AGg9ulVp+zj7y2XU4n4nRaLGUd4Gm1mdQkQWQ/KoPUqPxA9T9Kbo/wrtptJik1W4uYr1/mZIWXCA9Acg5PrXRznwdc67DrMupaabyIYDfa0wT2JGeo7H/AAGNX/hJdC/6Dem/+BSf40HF9VoVK0qlW3kv1fmYNj8MvD1sgFxFNduD96SUr+i4rat/Cfh+1x5Wj2eR0LxBz+bZqT/hJdC/6Dem/wDgUn+NH/CS6F/0G9N/8Ck/xoOmFPCw+FR/Asapptvq+mz2F0G8iYANtODwQRj8RXN2vwz8OW0od4ri4x0WWXj/AMdxW5/wkuhf9BvTf/ApP8aP+El0L/oN6b/4FJ/jQVNYeo1Kdm/kaaKqIqKAFUYAHYUya3huI2SaJHVlKkMM5B61n/8ACS6F/wBBvTf/AAKT/Gj/AISXQv8AoN6b/wCBSf40Gvtaf8y+8bZ+GtJ0/Umv7S0WGcrt+TgAd+PerN9pFhqWPtdrFMQMKXUEj6HqKg/4SXQv+g3pv/gUn+NH/CS6F/0G9N/8Ck/xoJ56NrXVvkJF4b0aLft062+bj/VjIHoD2HsOKVvDmjtD5R0+DaDkELyp9j1H4Uf8JLoX/Qb03/wKT/Gj/hJdC/6Dem/+BSf40BzUbWuvwLlnZW9hB5FrGI4gSQgzgZ9Kbd6dZ3wxdW8co/21zVX/AISXQv8AoN6b/wCBSf40f8JLoX/Qb03/AMCk/wAaB+0pWtdD4dB0mBt0WnWyn18seuatJZWsa4S3iUegQCqX/CS6F/0G9N/8Ck/xo/4SXQv+g3pv/gUn+NAKpSWzRqAADAGBXPf8IRoD6nPqE9kLi4mkMrecxZQScn5emPqDV3/hJdC/6Dem/wDgUn+NH/CS6F/0G9N/8Ck/xoFOVGfxNP7jRhhit4ligiSKNfuoihQPwFPrL/4SXQv+g3pv/gUn+NH/AAkuhf8AQb03/wACk/xoK9rT/mX3mLe/Dbw5eSmRYJrdickQykAn6HOPwre0XRrXQdNSxszIYVYsPMbJyetR/wDCS6F/0G9N/wDApP8AGj/hJdC/6Dem/wDgUn+NBlBYeEuaNk/kHiX/AJFbV/8Arym/9ANFZ3iDxBos3hvVIotXsJJHs5VRFuUJYlDgAZ5NFB4mcyjKceV30P/Z'}
2021-05-19 17:55:09,046-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 17:55:09,046-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:55:09,046-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "51321913070811"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "jNViAq2hycxR7uzgeLa4bCJKloTf8vQs"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 17:55:09,098-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "dc9bcf2e1226458f86abef0cb0788a61"
s_p: "S0JqZEpKU3lMVmFLQXRXc1lHZGQ1V2lacHk0bVNMd3pBMHhrUnBXMzFVTE1OR3ZRSmRaWjlPc04zYWVXNEFyYTQzZnRZbmw1elMwNGZ5SWg1ZTNrMTROTHVtYU41dVo3c0FBTnNTMmViMTEyQkc0NlJZbTJMWkFHckUxQUR6clVMMm11ZWs2a0tUaUp0MU5ZRzBnOUxiT2VCWWdQWXBxUTFvUFJwa3R4V05mdUFNclZIQ1dNb2ZMcDdRTlRCVnNpVnJRMHR4akRNZWxYbThNQWg0cXpBRklkMHA0QzJiZmVmZE5kZjFiUTI0VmlORzhvcmp3ZUUzOXFUVDRDUXdqUllSWVRCRkFXbldWeFhFUlJHeE40WDlwQXY4clR6ZDI2YVhJazZHcWVuejh5c2I2MjFVWVhyMUJyeHlwVjlVT1JwY1dTNG40c2gzaVVHVVdXVHVKUnR3N2dtN1BGMm1VWldmc1JNOTBBUzlQZGRTTmkzYktBeUd1dldTOHNNUUFuSmVNajJ4YU54dHFOSFVZVWhTYTNTV3NLQW5nNHg5bHdXb3gxS3cyOFRTYmhXV0lFZUZyTWJmVEthQXhQVlVRbTY2QXVpU2FvQkd6WkcxbzZVNW4zampHSTNQc3RKVW5xa3FCcXE0SUZ5TmM4cGcxekFETmIydmVQZmVJdVRxTGhDUzhWMExpNGY0MHdSeTBaNmk4bUkxbld2NFRSSXdWdkFBUTlNM3l3RHZDbkJXbTB6ZFNQM29HdE9MbEIySlJGZE9yMGdyTVo5azBKZFVUOXl1UnNOSTh3akpMcXphaDFIVjdaZWh6aWluNUVPSDdaTVdwTHM3aGVhSTlsdXhLNk92UDQ1ZUh1YTY2N1VPU3Rlbmo2WnlKaUI0cnROamFiNWNQWEoyYm95UnhWQTJPcXJwQUxEajV6RlM2cnRLYXJ5cWJoQmRxUXVWT1ljR0xPT1RnSkNBa21KdlB4WmN6NWcwcDRabU1hRlNQT2s3RXZHYlJCUFV6OTkzaVR6ZzFmbkVuZkM1THRCcjNyZ3lzRXFFRWZBc2FmWEd4SjdmbEc="
m_p: "9osqU4hrboJiqFgDdzbr1Wv91niH4L92yBXZM34jn9K9uPY9r3t26U3k2TA9gp4u"
e_t: "1621526109106"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 17:55:09,099-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 17:55:09,099-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 17:55:09,099-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "dc9bcf2e1226458f86abef0cb0788a61"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "zS04fyIh"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519175507208677696927280t"
version: "265"
queryType: "PAY"

2021-05-19 17:55:09,159-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 17:55:09,161-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519175507208677696927280t"
2021-05-19 17:55:09,177-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5306, 'pay_req_id': 'RM20210519175507208677696927280t', 'notify_id': '0854771549546814224952447217', 'partner_order': 'rVflYaFS54PBkCA1bhD8u6tjsQoXKMgE', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '68.65.174.55', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 17, 55, 7), 'success_time': datetime.datetime(2021, 5, 19, 17, 55, 7), 'modify_time': datetime.datetime(2021, 5, 19, 17, 55, 8), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 17:55:09,177-INFO-FizAssert-31-订单详情：{'id': 5306, 'pay_req_id': 'RM20210519175507208677696927280t', 'notify_id': '0854771549546814224952447217', 'partner_order': 'rVflYaFS54PBkCA1bhD8u6tjsQoXKMgE', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '68.65.174.55', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 17, 55, 7), 'success_time': datetime.datetime(2021, 5, 19, 17, 55, 7), 'modify_time': datetime.datetime(2021, 5, 19, 17, 55, 8), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 17:55:09,177-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 17:55:09,177-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': 'rVflYaFS54PBkCA1bhD8u6tjsQoXKMgE', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '68.65.174.55', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:55:09,178-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1917550745249759be305f1e9b227c0000&package=4074874398', 'payReqId': 'RM20210519175507208677696927280t', 'status': 'AUTH_NEEDED'}
2021-05-19 17:55:09,178-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=passed
2021-05-19 17:55:09,209-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'GDAWizqUxZyN24b1CdKpjoerh7TEJHSR', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:55:09,217-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:55:09,217-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:55:09,217-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'GDAWizqUxZyN24b1CdKpjoerh7TEJHSR', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:55:09,218-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:55:09,218-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 17:55:09,248-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '7MpOdI4RBa2KuL3Jlmj5nH8Dv0VP1yGt', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 17:55:09,256-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:55:09,256-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:55:09,256-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': '7MpOdI4RBa2KuL3Jlmj5nH8Dv0VP1yGt', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 17:55:09,256-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 17:55:09,257-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 17:55:09,290-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'wsf9ELXOdvYpugBktrWyTjDM2VnGNIFe', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 17:55:09,304-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:55:09,304-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:55:09,304-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'wsf9ELXOdvYpugBktrWyTjDM2VnGNIFe', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 17:55:09,305-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 17:55:09,305-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 17:55:09,333-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'WQrVYvZMGdtxJC6T1z4KFhHu8OS9A5yR', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '28.124.173.157', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 17:55:09,358-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 17:55:09,358-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:55:09,359-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'WQrVYvZMGdtxJC6T1z4KFhHu8OS9A5yR', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '28.124.173.157', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 17:55:09,359-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 17:55:09,360-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 17:59:14,069-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 17:59:14,410-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 17:59:14,500-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:59:14,500-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 17:59:14,500-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 17:59:14,764-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:59:14,764-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 17:59:14,764-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 17:59:14,812-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 17:59:14,813-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 17:59:14,836-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:07:14,305-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 18:07:14,639-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 18:07:14,712-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:07:14,712-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 18:07:14,712-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:07:14,962-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:07:14,962-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 18:07:14,962-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:07:15,006-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 18:07:15,007-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 18:07:15,016-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:07:15,836-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:07:15,837-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'GqMyec9aoz7QDmuBN2kAxUSHCLZhEPrj', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '{"authHint": {"payType": "AlipayPlugin", "mes": "partner=\\"2088311951685799\\"&seller_id=\\"kekezhifu@keke.cn\\"&out_trade_no=\\"RM20210519175507208677696907086t\\"&subject=\\"SecurityPayments+test\\"&body=\\"SecurityPayments+test\\"&total_fee=\\"0.01\\"&notify_url=\\"http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader\\"&service=\\"mobile.securitypay.pay\\"&payment_type=\\"1\\"&_input_charset=\\"utf-8\\"&it_b_pay=\\"30m\\"&sign=\\"G8KIBo9mPam258wqDPlX14oRy%2B9410bpE%2F3%2FxaLjUjtDFVdauq39aIN%2BdUR%2F1CDYO3kILD0WJ%2BAMRdluQ2ddHW9ULxzNWwnwNELxLwrvFyh0Pmh11l123NcKuX3REprtgaTWmJ80HP66sFDvYn%2BhwVi4eXlg9Wu%2BMx3U%2Bcu5BSE=\\"&sign_type=\\"RSA\\"", "system_order": "RM20210519175507208677696907086t"}, "payReqId": "RM20210519175507208677696907086t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-19 18:07:15,837-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'rVflYaFS54PBkCA1bhD8u6tjsQoXKMgE', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '68.65.174.55', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1917550745249759be305f1e9b227c0000&package=4074874398", "payReqId": "RM20210519175507208677696927280t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-19 18:07:15,837-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:07:15,837-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'GDAWizqUxZyN24b1CdKpjoerh7TEJHSR', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 18:07:15,837-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': {'partnerOrder': '7MpOdI4RBa2KuL3Jlmj5nH8Dv0VP1yGt', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 18:07:15,837-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'wsf9ELXOdvYpugBktrWyTjDM2VnGNIFe', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}', 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': 'failed', 'comments': None}
2021-05-19 18:07:15,838-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'WQrVYvZMGdtxJC6T1z4KFhHu8OS9A5yR', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '28.124.173.157', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': 'failed', 'comments': None}
2021-05-19 18:07:16,107-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:07:16,107-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,107-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,107-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:07:16,107-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,107-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,378-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:07:16,378-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,378-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643381', 'amount': 1, 'price': 0.3}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,378-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643383', 'amount': 1, 'price': 0.3}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,378-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,379-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643382', 'amount': 1, 'price': 0.3}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,379-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643384', 'amount': 1, 'price': 0.3}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,379-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:07:16,379-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,379-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,379-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,379-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,379-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,379-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:07:16,387-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:07:16,426-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'voD4L7Zgq50TuHWKAyCYzc6tdIbRPMsw', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:07:16,483-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519180716208677696916862t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22G6ILSC81jYs1NOeeGKzOH15mcWenPICERuTHdS3%252F9ZOrwLNFaCm%252Bdy7UoGIRhHuhO3DOY8lDyXgukHoWZtFK4oRmla%252FSKWxsWbYLrKrvt0a2O%252BKHKBw2xoGEWtm4qTzBt3uJTwUdlUNiIpv8hIRoCscukzcvDNg818lg0Tr1ZXQ%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519180716208677696916862t\"}","payReqId":"RM20210519180716208677696916862t","status":"AUTH_NEEDED"}
2021-05-19 18:07:16,484-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519180716208677696916862t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="G6ILSC81jYs1NOeeGKzOH15mcWenPICERuTHdS3%2F9ZOrwLNFaCm%2Bdy7UoGIRhHuhO3DOY8lDyXgukHoWZtFK4oRmla%2FSKWxsWbYLrKrvt0a2O%2BKHKBw2xoGEWtm4qTzBt3uJTwUdlUNiIpv8hIRoCscukzcvDNg818lg0Tr1ZXQ="&sign_type="RSA"', 'system_order': 'RM20210519180716208677696916862t'}, 'payReqId': 'RM20210519180716208677696916862t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:07:16,484-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'voD4L7Zgq50TuHWKAyCYzc6tdIbRPMsw', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:07:16,484-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519180716208677696916862t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="G6ILSC81jYs1NOeeGKzOH15mcWenPICERuTHdS3%2F9ZOrwLNFaCm%2Bdy7UoGIRhHuhO3DOY8lDyXgukHoWZtFK4oRmla%2FSKWxsWbYLrKrvt0a2O%2BKHKBw2xoGEWtm4qTzBt3uJTwUdlUNiIpv8hIRoCscukzcvDNg818lg0Tr1ZXQ="&sign_type="RSA"', 'system_order': 'RM20210519180716208677696916862t'}, 'payReqId': 'RM20210519180716208677696916862t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:07:16,485-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 18:07:16,522-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '0JFcs61Kkd59OUBIxXfl4v8iAWb7GZhH', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '124.253.236.137', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:07:16,738-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:07:16,739-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 18:07:16,739-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': '0JFcs61Kkd59OUBIxXfl4v8iAWb7GZhH', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '124.253.236.137', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:07:16,739-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 18:07:16,740-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=failed
2021-05-19 18:07:16,772-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'uTUwEjrpfiZskCe0zDg6h8yS3xIR9mHt', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:07:16,799-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:07:16,799-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:07:16,799-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'uTUwEjrpfiZskCe0zDg6h8yS3xIR9mHt', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:07:16,800-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:07:16,818-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:07:16,852-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'JwPNyYRftd75GE9iKQ8UlI324hkbCeAc', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:07:16,864-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:07:16,865-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:07:16,865-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'JwPNyYRftd75GE9iKQ8UlI324hkbCeAc', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:07:16,865-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:07:16,865-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 18:07:16,901-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'cOn06Ku2WU9CpVAwbdhRSPDTeFEXZylH', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:07:16,920-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:07:16,920-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:07:16,920-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'cOn06Ku2WU9CpVAwbdhRSPDTeFEXZylH', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:07:16,921-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:07:16,921-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 18:07:16,950-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'vIl1BExFnWXtJ69jG5Ac7sQperg4DPNC', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '227.206.126.26', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:07:16,978-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:07:16,979-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:07:16,979-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'vIl1BExFnWXtJ69jG5Ac7sQperg4DPNC', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '227.206.126.26', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:07:16,979-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:07:16,980-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 18:07:18,054-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 18:07:18,069-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:07:18,070-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:07:18,070-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 18:07:18,070-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:07:18,070-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 18:07:18,101-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '240.110.180.133', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 18:07:18,115-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:07:18,115-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:07:18,115-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '240.110.180.133', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 18:07:18,115-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:07:18,116-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 18:07:18,150-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:07:18,164-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:07:18,164-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:07:18,164-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:07:18,165-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:07:18,165-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:07:18,198-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:07:18,209-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:07:18,209-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:07:18,209-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:07:18,210-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:07:18,210-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 18:07:19,280-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 18:07:19,281-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 18:07:19,299-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 18:07:19,388-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.00","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.59,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:07:19,389-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:07:19,389-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.00', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.59, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:07:19,389-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.00
2021-05-19 18:07:19,394-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.060000000000000005', 'batchId': '54635135892434612270415071472102', 'bizNo': 's195Yk4KWoiOybgrdAxN7QhuU8wHVBfl', 'operateType': 'PRESENT', 'requestId': '48831331036608445290181304001586', 'source': 'test', 'ssoid': '2086776969', 'timeStamp': 1621418839390})
2021-05-19 18:07:19,432-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","timeStamp":0,"amount":0.060000000000000005,"success":true,"appId":null,"sign":null,"signType":null,"failReason":null,"remark":null,"extraJson":null,"accountOperateType":"PRESENT"},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:07:19,432-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:07:19,432-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'timeStamp': 0, 'amount': 0.060000000000000005, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:07:19,440-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 18:07:19,468-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.59,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:07:19,468-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:07:19,468-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.59, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:07:19,468-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 18:09:43,845-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 18:09:44,114-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 18:09:44,195-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:09:44,195-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 18:09:44,195-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:09:44,439-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:09:44,439-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 18:09:44,439-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:09:44,488-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 18:09:44,490-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 18:09:44,498-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:09:45,307-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:09:45,308-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'GqMyec9aoz7QDmuBN2kAxUSHCLZhEPrj', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '{"authHint": {"payType": "AlipayPlugin", "mes": "partner=\\"2088311951685799\\"&seller_id=\\"kekezhifu@keke.cn\\"&out_trade_no=\\"RM20210519175507208677696907086t\\"&subject=\\"SecurityPayments+test\\"&body=\\"SecurityPayments+test\\"&total_fee=\\"0.01\\"&notify_url=\\"http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader\\"&service=\\"mobile.securitypay.pay\\"&payment_type=\\"1\\"&_input_charset=\\"utf-8\\"&it_b_pay=\\"30m\\"&sign=\\"G8KIBo9mPam258wqDPlX14oRy%2B9410bpE%2F3%2FxaLjUjtDFVdauq39aIN%2BdUR%2F1CDYO3kILD0WJ%2BAMRdluQ2ddHW9ULxzNWwnwNELxLwrvFyh0Pmh11l123NcKuX3REprtgaTWmJ80HP66sFDvYn%2BhwVi4eXlg9Wu%2BMx3U%2Bcu5BSE=\\"&sign_type=\\"RSA\\"", "system_order": "RM20210519175507208677696907086t"}, "payReqId": "RM20210519175507208677696907086t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-19 18:09:45,308-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'rVflYaFS54PBkCA1bhD8u6tjsQoXKMgE', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '68.65.174.55', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '{"authHint": "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx1917550745249759be305f1e9b227c0000&package=4074874398", "payReqId": "RM20210519175507208677696927280t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-19 18:09:45,308-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:09:45,308-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'GDAWizqUxZyN24b1CdKpjoerh7TEJHSR', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 18:09:45,308-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': {'partnerOrder': '7MpOdI4RBa2KuL3Jlmj5nH8Dv0VP1yGt', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 18:09:45,309-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'wsf9ELXOdvYpugBktrWyTjDM2VnGNIFe', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}', 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': 'failed', 'comments': None}
2021-05-19 18:09:45,309-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'WQrVYvZMGdtxJC6T1z4KFhHu8OS9A5yR', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '28.124.173.157', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': 'failed', 'comments': None}
2021-05-19 18:09:45,534-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:09:45,534-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}, 'actual': '业务订单不能为空:{code=101;message=业务订单不能为空}', 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': 'failed', 'comments': None}
2021-05-19 18:09:45,535-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '240.110.180.133', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}, 'actual': '业务订单不能为空:{code=101;message=业务订单不能为空}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 18:09:45,535-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:09:45,535-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}, 'actual': '业务订单不能为空:{code=101;message=业务订单不能为空}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 18:09:45,535-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': {'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}, 'actual': '业务订单不能为空:{code=101;message=业务订单不能为空}', 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': 'failed', 'comments': None}
2021-05-19 18:09:45,770-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:09:45,770-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:09:45,770-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643381', 'amount': 1, 'price': 0.3}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:09:45,770-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643383', 'amount': 1, 'price': 0.3}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:09:45,770-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:09:45,770-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643382', 'amount': 1, 'price': 0.3}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:09:45,770-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643384', 'amount': 1, 'price': 0.3}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:09:45,770-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:09:45,770-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:09:45,770-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:09:45,770-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:09:45,771-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:09:45,771-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:09:45,771-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:09:45,780-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:09:45,810-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'a7CJ8oONKRkTV6ZlXcx59tPgLwSUdnE0', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:09:45,846-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519180945208677696961573t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22BdJ%252BoF20QQ2LdAoZV59oKQbAjHPkVdk015%252F%252BEPAxC1YJshoBMt6JlTZE8GAPlzSn8A1g97Li19aPHTLGjgK0HsedVCZMTnGalvoWfHtI0ADR0%252Bcok2Xk86CNaDfiBzd3yVTU2%252F5k5BLRrbMuVZktQqx0aJ1ggkcp7uePH8bJLi8%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519180945208677696961573t\"}","payReqId":"RM20210519180945208677696961573t","status":"AUTH_NEEDED"}
2021-05-19 18:09:45,847-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519180945208677696961573t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="BdJ%2BoF20QQ2LdAoZV59oKQbAjHPkVdk015%2F%2BEPAxC1YJshoBMt6JlTZE8GAPlzSn8A1g97Li19aPHTLGjgK0HsedVCZMTnGalvoWfHtI0ADR0%2Bcok2Xk86CNaDfiBzd3yVTU2%2F5k5BLRrbMuVZktQqx0aJ1ggkcp7uePH8bJLi8="&sign_type="RSA"', 'system_order': 'RM20210519180945208677696961573t'}, 'payReqId': 'RM20210519180945208677696961573t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:09:45,847-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'a7CJ8oONKRkTV6ZlXcx59tPgLwSUdnE0', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:09:45,848-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519180945208677696961573t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="BdJ%2BoF20QQ2LdAoZV59oKQbAjHPkVdk015%2F%2BEPAxC1YJshoBMt6JlTZE8GAPlzSn8A1g97Li19aPHTLGjgK0HsedVCZMTnGalvoWfHtI0ADR0%2Bcok2Xk86CNaDfiBzd3yVTU2%2F5k5BLRrbMuVZktQqx0aJ1ggkcp7uePH8bJLi8="&sign_type="RSA"', 'system_order': 'RM20210519180945208677696961573t'}, 'payReqId': 'RM20210519180945208677696961573t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:09:45,848-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 18:09:45,881-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'oGFpfKinJxbMRLP8ZDjw6m7Q0SysvYac', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '98.100.248.191', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:09:46,192-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191809461309295b7eaaa76235178b0000&package=1459248884","payReqId":"RM20210519180945208677696935308t","status":"AUTH_NEEDED"}
2021-05-19 18:09:46,192-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191809461309295b7eaaa76235178b0000&package=1459248884', 'payReqId': 'RM20210519180945208677696935308t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:09:46,194-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 18:09:46,210-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 18:09:46,211-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[0938954944569247594263720932]]></transaction_id>
<nonce_str><![CDATA[D1kaVfmquNzhBpQOdcPHrJnGTjeyY2sb]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[40A14FB674B6850875AD6AD9F4F8E454]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519180945208677696935308t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519180946]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 18:09:46,492-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 18:09:46,492-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 18:09:46,507-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:09:46,507-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:09:46,508-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "54160787323959"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "OFW0GdRMnaXblyesQmrHDj5CVBPAvJuc"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:09:46,606-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "582e31da08d24b58bb752af07b3ce16d"
s_p: "RU1McnYzb3VRaDBySUdRb2RsUVZFMmZGOXRNRndKdm5RczBiZUVrMlVEQ2tlc0VtTTRSaWptY05YbEFtVGRQZlJrcm5YMnRkZFpYbjJsUHVoUEs4V2tmOFlQVmMxWmhHV2QwWjZ0STlQZmJkUWlVWlJLc0dHMmJTQ2REQ2RUTG9lMzltVHNaWjQ5NnpLQ1JrQk5lanJ4WGxtNDJVczh3R21mRWxJWm9valF5a2RaRnBjek1yelNQc0Z3NGdRRU5OaWxEbUJKUnJCaFR1bGdiNHQ1bG03WjBHUFFUQ3BLeURLUWg2MVp2dXJLdlRPRk9qd0dkaHY5UkF6U05FRk1Eb1JDV1RRemNERTFITzFGOXFxNXJZVmxPTUVqQlNWZkNGSGFJWEtESmx3VGZ5RTZ0NzZrR0lRSklBM2dwVlo5c2xPVkc5T2JyYkQ0QkJMWmdya1J5NXlqRjhrMnJITHRDMnFZcEFsTmxoNElLWjNFek5NUElKSkRvVmQ3RTBvYzRwYzZYNlpObHVGZ3YwRUxtQlBhUloyVHIzV2Z1SlkwVUxmMkQ1YkpTb29DRXBva0Q3TFpsTUpHR1V1TlZPMzV6T0diWGtNbktjcDNxUmR4UTUyU29hYWxpdWhlNXpFakx3SndheFhWamJWZlpFZ2FOOTJ1eFpBa3g2bFkwS1prY2czV29xQUc4OHAxNlc3OUZwdE4zRURrV0VEMVluU3NIVFJNMFNyOHN1d25GY0kyNE1UUVd6YjIxRU11M3lLZHM5N0pOaWNtSGZ1V042ZUZTZGVtUkxQUUZ0Y280TjlRZ3J3ZXBjaVF3RjhWREdWdDFRS215eU54UGdxQVYybDZuNkpJaWVqQktTSkR0Vk5nNmRoWmtNeGhkc04yZ1pRcFlFZUxoMHJSOFhMYlB5N0RqOWJtWEd6Q1dPQzFEeXBrZXprMnJ6bFFWaWJJWHJURUhMZ21zNGVOaE51Vkk1VVZ0Q2FaQ09oYmlhcWZaWW40VjY3TUVQbVd6UVpKZWp4Umk0cHdwanJFZkF5UEdlOHJBNm9icG1oRVhLTWQ1RzNxZGg="
m_p: "I4WcDdgA4dhR8673Rn0Ftu3N8Wf6zyT5X1WFIl8apeotwcf70JlRX9WYFqrVT6Of"
e_t: "1621526986602"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:09:46,606-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:09:46,606-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:09:46,607-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "582e31da08d24b58bb752af07b3ce16d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Vc1ZhGWd"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519180945208677696935308t"
version: "265"
queryType: "PAY"

2021-05-19 18:09:46,689-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 18:09:46,691-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519180945208677696935308t"
2021-05-19 18:09:46,703-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5320, 'pay_req_id': 'RM20210519180945208677696935308t', 'notify_id': '0938954944569247594263720932', 'partner_order': 'oGFpfKinJxbMRLP8ZDjw6m7Q0SysvYac', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '98.100.248.191', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 18, 9, 46), 'success_time': datetime.datetime(2021, 5, 19, 18, 9, 46), 'modify_time': datetime.datetime(2021, 5, 19, 18, 9, 46), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 18:09:46,703-INFO-FizAssert-31-订单详情：{'id': 5320, 'pay_req_id': 'RM20210519180945208677696935308t', 'notify_id': '0938954944569247594263720932', 'partner_order': 'oGFpfKinJxbMRLP8ZDjw6m7Q0SysvYac', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '98.100.248.191', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 18, 9, 46), 'success_time': datetime.datetime(2021, 5, 19, 18, 9, 46), 'modify_time': datetime.datetime(2021, 5, 19, 18, 9, 46), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 18:09:46,704-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 18:09:46,704-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': 'oGFpfKinJxbMRLP8ZDjw6m7Q0SysvYac', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '98.100.248.191', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:09:46,704-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191809461309295b7eaaa76235178b0000&package=1459248884', 'payReqId': 'RM20210519180945208677696935308t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:09:46,704-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=passed
2021-05-19 18:09:46,748-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'UV9qI1GSdMp7HJfaF3BhWj6iyusevmx0', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:09:46,765-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:46,765-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:09:46,766-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'UV9qI1GSdMp7HJfaF3BhWj6iyusevmx0', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:09:46,766-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:09:46,766-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:09:46,807-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'vePEI1oCws48Sta3yHUKrT2BW6cQYLhu', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:09:46,817-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:46,817-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:09:46,817-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'vePEI1oCws48Sta3yHUKrT2BW6cQYLhu', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:09:46,817-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:09:46,818-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 18:09:46,859-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Lt2GWKyiHI6BTbS5ROXUuCc13oJEh7Qx', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:09:46,874-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:46,874-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:09:46,875-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'Lt2GWKyiHI6BTbS5ROXUuCc13oJEh7Qx', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:09:46,875-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:09:46,875-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 18:09:46,915-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'FcwmJ8H74ov52xNzd3AlGpETShUtBs9f', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '53.247.47.113', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:09:46,940-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:46,940-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:46,941-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'FcwmJ8H74ov52xNzd3AlGpETShUtBs9f', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '53.247.47.113', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:09:46,941-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:46,941-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 18:09:48,020-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 18:09:48,035-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:48,035-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:09:48,035-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 18:09:48,036-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:09:48,036-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 18:09:48,074-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '226.124.210.41', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 18:09:48,091-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:48,091-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:09:48,091-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '226.124.210.41', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 18:09:48,091-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:09:48,092-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 18:09:48,133-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:09:48,151-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:48,152-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:09:48,152-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:09:48,152-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:09:48,152-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:09:48,199-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:09:48,208-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:48,208-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:09:48,208-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:09:48,208-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:09:48,209-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 18:09:49,284-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 18:09:49,284-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 18:09:49,300-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 18:09:49,342-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.59,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:09:49,343-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:09:49,343-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.59, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:09:49,343-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 18:09:49,344-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 18:09:49,346-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '2031'
2021-05-19 18:09:49,367-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 18:09:49,368-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 18:09:49,368-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 18:09:49,368-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 2.31, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 18:09:49', 'ext1': '', 'ext2': '', 'maxAmount': 83.33, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191809498499551614945398628465755774', 'ratio': 0.83, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': 'AD89785A51CCF66FE33C1B451CBFBBBF', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 1, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 18:09:49,426-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 18:09:49,426-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643388', '62643389', '62643390', '62643391'], 'batchId': ''}
2021-05-19 18:09:49,426-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643388', '62643389', '62643390', '62643391']
2021-05-19 18:09:49,451-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 18:09:49,451-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 18:09:49,466-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643391')
2021-05-19 18:09:49,483-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:09:49","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.02Ԫ","useableEndTime":"2022-05-19 18:09:49","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.02,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191809498499551614945398628465755774","subScopeId":"","originalAmount":0.02,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643391","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:09:49,483-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:09:49,484-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:09:49', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.02Ԫ', 'useableEndTime': '2022-05-19 18:09:49', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.02, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191809498499551614945398628465755774', 'subScopeId': '', 'originalAmount': 0.02, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643391', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:09:49,484-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[G6]={'vouId': '62643391', 'amount': 1, 'price': 0.02}
2021-05-19 18:09:49,490-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643388')
2021-05-19 18:09:49,504-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:09:49","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.02Ԫ","useableEndTime":"2022-05-19 18:09:49","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.02,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191809498499551614945398628465755774","subScopeId":"","originalAmount":0.02,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643388","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:09:49,504-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:09:49,504-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:09:49', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.02Ԫ', 'useableEndTime': '2022-05-19 18:09:49', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.02, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191809498499551614945398628465755774', 'subScopeId': '', 'originalAmount': 0.02, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643388', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:09:49,504-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643388', 'amount': 1, 'price': 0.02}
2021-05-19 18:09:49,517-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643389')
2021-05-19 18:09:49,530-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:09:49","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.02Ԫ","useableEndTime":"2022-05-19 18:09:49","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.02,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191809498499551614945398628465755774","subScopeId":"","originalAmount":0.02,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643389","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:09:49,530-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:09:49,530-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:09:49', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.02Ԫ', 'useableEndTime': '2022-05-19 18:09:49', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.02, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191809498499551614945398628465755774', 'subScopeId': '', 'originalAmount': 0.02, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643389', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:09:49,530-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[G6]={'vouId': '62643389', 'amount': 1, 'price': 0.02}
2021-05-19 18:09:49,536-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643390')
2021-05-19 18:09:49,556-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:09:49","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.02Ԫ","useableEndTime":"2022-05-19 18:09:49","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.02,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191809498499551614945398628465755774","subScopeId":"","originalAmount":0.02,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643390","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:09:49,556-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:09:49,556-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:09:49', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.02Ԫ', 'useableEndTime': '2022-05-19 18:09:49', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.02, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191809498499551614945398628465755774', 'subScopeId': '', 'originalAmount': 0.02, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643390', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:09:49,557-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[G6]={'vouId': '62643390', 'amount': 1, 'price': 0.02}
2021-05-19 18:09:49,590-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '8mvzlRcfnPyDIXj1Ou0bwdUVa3A2BsCt', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:09:49,627-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:09:49,627-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:09:49,627-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[I6]={'partnerOrder': '8mvzlRcfnPyDIXj1Ou0bwdUVa3A2BsCt', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:09:49,628-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:09:49,628-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[M6]=failed
2021-05-19 18:09:49,904-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'miWadHc7BJqo4XYfnTxEO9h0tMZvrK13', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643391', 'amount': 1, 'price': 0.02}", 'voucherId': '62643391', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:09:49,922-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:49,922-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:49,923-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[I6]={'partnerOrder': 'miWadHc7BJqo4XYfnTxEO9h0tMZvrK13', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643391', 'amount': 1, 'price': 0.02}", 'voucherId': '62643391', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:09:49,923-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:49,923-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[M6]=failed
2021-05-19 18:09:49,957-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '40ofgBj596uUWbMLkXE7KpQedZPRNqSr', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643388', 'amount': 1, 'price': 0.02}", 'voucherId': '62643388', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '148.4.244.184', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:09:49,972-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:49,972-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:49,972-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': '40ofgBj596uUWbMLkXE7KpQedZPRNqSr', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643388', 'amount': 1, 'price': 0.02}", 'voucherId': '62643388', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '148.4.244.184', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:09:49,973-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:49,985-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 18:09:50,028-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'pFCZwH0ToRrazhXduDP9f7UbQs84WqVl', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:09:50,062-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519180950208677696952727t","status":"ACCEPTED"}
2021-05-19 18:09:50,062-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519180950208677696952727t', 'status': 'ACCEPTED'}
2021-05-19 18:09:50,076-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:09:50,076-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:09:50,076-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "06600664856047"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "XeWyOZUfbMPi4r2lExacq1RJVQkFz3Ko"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:09:50,151-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "73c8fd3a4321488ab1d6d662d924883f"
s_p: "QWM0dGtXbmpXYkk4Q2NhbXZxcWlkbUVUYVB4dWVRcmZDQkVBZllCWm1lWTVxelZwQlpZN2w3MmVueFpJWG1YTFhFTlZrdlZZV3d1YWVCaUhEV0J5bVdVZkxGVkxkSHhEUUJVaWpzV29GUWhUd1BrM3VySWpnbHhrcTMxN2Z1SnR1R1JJVWlBS1lwdzhYc1lFRzBpeGwxSEtCTVRkaGIwYnlVS0h0Q3g1TlBCaUQ3M0RKdGRuNzkzTTFlMGZVZkhKUUxlWVF2cVJhbkU0dUVvdXNobFZ4dXlsVHg5czJ6ck41Q29Ydm5DUllSZ1lqQURIbndDRFVEd3ltZGFJdU9pNTliZVlhSlAyV1RuS0U4RWtLRU5Ua1RYSkhTbjFpNTJWM01LSzhrZXBqRW5BWUYxNk96bHRrbXlzTnZqZUJhcVh2ckhidm9pS2hld0c2ZWROS0JPR3RQQVl2STd0NG1CcnlQSjNhMmxsbG1xbjBrZHdUVmdCNXBWQWlxNUsxVW5SbWNyU25Nek5tRFoyaHJJQndIQWNGQk14Sms3SG9VUUQ4VE5kaHBWcnpvZkxDZzREWEh6ZEZDa01oemg5TEZ5cnE4N3lZVEVjZ09OV1BFMUo3Qk40N2N2bkxrMElPWjlCdGxTN0h3ajF3QjRmbUR1TEcxc0I5NmZ0eVRIRXZwWDhNblZaYjZBcXB1aDJVM3dFeFcwTExyamwyOVltT0ZoSk1PcVdxeU5VY3RaR0dYVVJ4VUU0bmFjSEtHM2lmNWt3NFNiZ0V1VnV1dUJyMFZBTGNOemJ0a0lXbVkxd0k2dUdialJJcjF3NjdGdkJVY1F1NTdsMmxiMmpKVzlDb0toUGVmQW9uTVpOdExIRlVqbGZ1YUVoekVKY1R6OW5JY1RraUNjbXRhSmdwT3kxZDVTbkxxcmVUMVBLdFpuSUt3UW9jTzRGb3ZVVDkxWlIzUVRZTFZxMUQ4RU1LeFplYmgwMm9RSDd5T1Q1RkZ5ZVpWT1g1MlRyQm5IRTNsa3IzaTZPM01GTUZnZnhtN1h5UG9pVm9QTkp2b2R2ZFNIZjdqTHI="
m_p: "Etv0d95YBdFN1r4zJBE31856UXg18V4nx69g8Zc74J33Z7P1KU82292m213b964v"
e_t: "1621526990143"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:09:50,151-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:09:50,151-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:09:50,152-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "73c8fd3a4321488ab1d6d662d924883f"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "WbI8Ccam"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519180950208677696952727t"
version: "265"
queryType: "PAY"

2021-05-19 18:09:50,233-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:09:51,246-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:09:51,247-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:09:51,247-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "39477851561554"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "pAS04dJfjc91WlHMPQuRLhaqV3KmXTki"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:09:51,324-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "486e1296b167449cbb39ad2aac10ddb5"
s_p: "aW55UFhNU3R1dk1Pb1hHTVpYR1ZsaURJVEF6OVZZYjJnUG5DVlNEamZKVkVVRWl2NGEwRk9na3BCYU5mN1llTmtnMG5uRXVwSjhrSVFXUnAzRVdLUGRGNGdTODBMdVk1emZJS2lJSmFjYWlBemNBc2Nyd2VlWTQ0aGFMNmlnTFZsQTZuNXpWbWNIRkt1ZVo2REx0U0ZQcXZPTUM4bG1TT2U2TUZDdzZQODRoQU8xaEUzVFdvcUN4Tm9idVRtSlJZdnBUMXNDYTNhcWliZUhieWk3TFZWT0xGbVpKeDNJd1BVc3hobm50Sk1aaDgycFFxNFFyY2szaThwVkhuVG9xS0g5WW9tSmxjaGNnYWpzYXJDMXFqdnJzd25EV210enhiSERFc3l0UWtmU1BUdGQ0aXFjMlFreExEaWlSOFdNMkc2QlQ4a2NDTkdOVjNKcnN2WW9hR3Q1VVhlS29ZOThFczJqd1RsRVVRdnVYZ2VzWW11cTFhZ2tGN0tRTVdjSUNVU1BsblRwdzZpUmo3T2llOUNRMTkxNXFpVVpUZ2swNUFnRjczN2s0VnphaHZ3ZWNWcFFNNU1CTk1lUmRVd2NKZzRMUlhvU2g1dHRFRFZjVlZTYU9jYVI4elJCcjRhMXBkVVZobE1Db1FBTzhtVzJuYjFpVXpRTUdhSDhaZURPRExKQklJRnVGN0l0N1F6bHlKeVRMdDQzUHQ4RUtWVU9mOEk1ZFplUFp0bGlVSGJUV29SU3h5RkpWQWZ4NjU1MFZmdVRaZWpUTVMyUjN4SHIxUk9seTh0bHUxVXBZOUo5RDl6V2ZxNE9CbVZRTlY1aTZnSVZRekxPeUdodWRJdjBtZTZ3NElaQnF5V2wwS2FwQnQ4TGlucTV4aDViWjByN200VWdUQ0ljcTBPV0JUeFk0czFyVjA3dHdxQVJ0TWNDVjR4MDYzYnpzaWhqbkFFejFtdlFmVjh2UGc0YUVkelNGUzluMDVDaGFlWGU0UGMzd2kwQU9nMkpTVzMzbjNDRDZqV3AwclVKeUkzMWR5QVBwUzJicGVpV3NoNkpwTVNpNWs="
m_p: "4EPZrB2hJ297V31PN6pNZ3mV8b3JxPqVQ87mSv0lsWGC60q830FRARhtq1JZ8Lfj"
e_t: "1621526991321"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:09:51,324-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:09:51,324-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:09:51,325-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "486e1296b167449cbb39ad2aac10ddb5"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "0FOgkpBa"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519180950208677696952727t"
version: "265"
queryType: "PAY"

2021-05-19 18:09:51,385-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:09:52,399-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:09:52,400-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:09:52,400-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "90372593066220"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "VFBHAlkNg7nUi1085IjJo4PbEuM3TeYO"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:09:52,462-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0a1e8ba2d6154ad4b436a87c691c25fd"
s_p: "bHNtY2d2RTlndmlaRHV6SkNSaG90OTg1Ymk4dGw4Tkt3Y1pybnBZbzUyWWJFMFRYcVJLQThDQkk2SW84aUx0MnI2OGJOeUcyUWRCWGtBS3V0Wmd3S1d1akE4S280dnF2Z2pHZGM0TXcxRjZudmY3UTV6NFc1MDY3VkZMRk9mMnF5dm5HamlsYlBNVnNxV09rTXpja2hBRXRhQ29UZU02dWVMMFJ4ZllTdjk5NFg2MTVwMmR4M2VtTWdHU2EyYURISklVNnVjbmxCSDZjZ2JrbVRlcXAzZDVsa3pZNk5mbHMzV3NvcWQ5MXRDUFUxRllXTWJ6OW5kODl5VFhPOHRwY3NndE4wU0xqbzNTOXNPNUhxbnpNcU12OVFmeXk1Z1JnckxUZW9ObkliVm11Qk53b0tyUVVScHVKcHNVSThQdG5nQXBHNWw5MXc3Z0ZCV0t5SEtFVjJBUHhZcm0wNjZhdFEzZHAyYWxFRTF4WWc5Wkl0WDRFN3hXSFBIa2s3bk83VTNPb2M2WjB1bFhFaWRQQmJHM0xiRVIwSnlSdjI5S1VHSEo4T0MzR0FuTVluTUlCb0VPYU1XZVFxREJkM3FzUGJSTFRUS3A3dXVEZ21PM3hjdU94Z0paYWloOVEycmVIdHN3eGVHc1NyV0pKeVVqaVpTQUM4VDhGamdKVUVFT2RLbFRtNEQ1cDA5Z21mMkIxMDNwUHg3YUU1aEVYbGowOXZVVnkweElwTjZPcjYwZzc2V0lyZHJBS0tWS2ZxaW9BeHc5cXVVc3Y5cWVaVEwwRVhCcWFnYmFhdWdSVXdwWERId0hnTkJrMlZjajQyWlAzNmw5bUg2M2tEWFdKblpGQU5ZUmFwSVlKaFNjOUVDVnRiVlFCSE0xemQ3Qk0zVmxGcjk2bllyUHFCUHJaOE8xWkFIUE5zaGFpeHc0aHFqYlBuSVpsek85NmFLQkh1UXpvM0c5SFk4UHQxQnJqM1pwcWZEZFRGUXVxaFZTbmVhV0ZtejZiY3pzaENQTWFyNTZUVkZIeW1kNDcwbDFXQlFZOXJVYkR3VVE4ZFk4YnNyQWg="
m_p: "s40LPAfilOrCTO01cPtR51xg80ENQbg4YJZtp6Rop6H25JyEALQ6rW024GQI1283"
e_t: "1621526992459"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:09:52,463-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:09:52,463-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:09:52,463-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "0a1e8ba2d6154ad4b436a87c691c25fd"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Ko4vqvgj"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519180950208677696952727t"
version: "265"
queryType: "PAY"

2021-05-19 18:09:52,593-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:09:53,594-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[I6]={'partnerOrder': 'pFCZwH0ToRrazhXduDP9f7UbQs84WqVl', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:09:53,594-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[J6]={'payReqId': 'KB20210519180950208677696952727t', 'status': 'ACCEPTED'}
2021-05-19 18:09:53,594-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[M6]=passed
2021-05-19 18:09:53,655-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'GQ7kuTeDg8B1F3avjAhpZHwN0CI5fELR', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643389', 'amount': 1, 'price': 0.02}", 'voucherId': '62643389', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:09:53,715-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:53,716-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:53,716-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[I6]={'partnerOrder': 'GQ7kuTeDg8B1F3avjAhpZHwN0CI5fELR', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643389', 'amount': 1, 'price': 0.02}", 'voucherId': '62643389', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:09:53,716-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:53,717-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[M6]=failed
2021-05-19 18:09:53,791-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'HEzm5OfdJM9l3nuc7YsaFwUV2h8Z1qNt', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643390', 'amount': 1, 'price': 0.02}", 'voucherId': '62643390', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:09:53,856-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:53,856-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:53,857-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[I6]={'partnerOrder': 'HEzm5OfdJM9l3nuc7YsaFwUV2h8Z1qNt', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643390', 'amount': 1, 'price': 0.02}", 'voucherId': '62643390', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:09:53,857-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:53,857-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[M6]=failed
2021-05-19 18:09:53,894-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'OByexN3Ch58rjUkq2L69ibWmREvtHDan', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:09:53,908-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:53,908-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:09:53,908-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'OByexN3Ch58rjUkq2L69ibWmREvtHDan', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:09:53,909-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:09:53,909-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 18:09:53,984-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'xXLrY25IW8PaGs0nhi6mHN7D43lSkqFt', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:09:54,039-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:54,040-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:09:54,040-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'xXLrY25IW8PaGs0nhi6mHN7D43lSkqFt', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:09:54,040-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:09:54,041-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 18:09:54,124-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '1z4QWZinHkxgFG3Tq2Oho68YfmwK7XC9', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:09:54,189-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:54,189-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:54,189-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': '1z4QWZinHkxgFG3Tq2Oho68YfmwK7XC9', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:09:54,190-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:54,190-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 18:09:54,260-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '5U8w7Zg2z3DNGxcvfnq6PVIbmp1SFuYk', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '95.10.57.75', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:09:54,311-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:54,312-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:54,312-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': '5U8w7Zg2z3DNGxcvfnq6PVIbmp1SFuYk', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '95.10.57.75', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:09:54,312-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:54,313-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 18:09:54,449-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'PIXnWih0e7Jz5ayEvZYNOFMq9TfL8r4m', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:09:54,464-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:54,464-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:54,465-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'PIXnWih0e7Jz5ayEvZYNOFMq9TfL8r4m', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:09:54,465-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:54,465-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 18:09:54,534-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'w3vqer547f6hSmPyUaOn9kK2ALpGDlBg', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '239.181.74.190', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:09:54,604-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:09:54,604-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:54,605-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'w3vqer547f6hSmPyUaOn9kK2ALpGDlBg', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '239.181.74.190', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:09:54,605-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:09:54,605-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 18:12:23,144-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 18:12:23,419-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 18:12:23,492-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:12:23,492-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 18:12:23,492-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:12:23,744-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:12:23,744-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 18:12:23,744-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:12:23,789-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 18:12:23,791-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 18:12:23,804-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:12:24,563-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:12:24,564-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:12:24,564-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:12:24,564-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:12:24,564-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:12:24,564-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:12:24,564-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 18:12:24,564-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 18:12:24,787-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:12:24,787-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:12:24,787-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:12:24,787-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:12:24,787-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:12:24,787-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:12:25,014-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:12:25,014-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:12:25,014-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643391', 'amount': 1, 'price': 0.02}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:12:25,014-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643388', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:12:25,014-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:12:25,014-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643389', 'amount': 1, 'price': 0.02}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:12:25,015-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643390', 'amount': 1, 'price': 0.02}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:12:25,015-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:12:25,015-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:12:25,015-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:12:25,015-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:12:25,015-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:12:25,015-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:12:25,015-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:12:25,025-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:12:25,060-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'updUo4h0VlDnRvfOykXTB5asgIJeqCSZ', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:12:25,118-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519181225208677696950052t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22N3SDT%252FXFFilGGRp7ioilpyaOwP7aFDVQJi%252B7HV6bOCeF1QTrdLB1qbCsedFSbbdaOdbeU8NCBhl4LA%252FIzoF8GSo8pJGct%252Fdz8j8wLvJmQwaIpdKbxr7Wa89jvlrIOzOeUmoAGkWCHOgSKfPievaSSwGze6nEZmiPVJJ1%252BluNmF8%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519181225208677696950052t\"}","payReqId":"RM20210519181225208677696950052t","status":"AUTH_NEEDED"}
2021-05-19 18:12:25,118-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519181225208677696950052t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="N3SDT%2FXFFilGGRp7ioilpyaOwP7aFDVQJi%2B7HV6bOCeF1QTrdLB1qbCsedFSbbdaOdbeU8NCBhl4LA%2FIzoF8GSo8pJGct%2Fdz8j8wLvJmQwaIpdKbxr7Wa89jvlrIOzOeUmoAGkWCHOgSKfPievaSSwGze6nEZmiPVJJ1%2BluNmF8="&sign_type="RSA"', 'system_order': 'RM20210519181225208677696950052t'}, 'payReqId': 'RM20210519181225208677696950052t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:12:25,119-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'updUo4h0VlDnRvfOykXTB5asgIJeqCSZ', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:12:25,119-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519181225208677696950052t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="N3SDT%2FXFFilGGRp7ioilpyaOwP7aFDVQJi%2B7HV6bOCeF1QTrdLB1qbCsedFSbbdaOdbeU8NCBhl4LA%2FIzoF8GSo8pJGct%2Fdz8j8wLvJmQwaIpdKbxr7Wa89jvlrIOzOeUmoAGkWCHOgSKfPievaSSwGze6nEZmiPVJJ1%2BluNmF8="&sign_type="RSA"', 'system_order': 'RM20210519181225208677696950052t'}, 'payReqId': 'RM20210519181225208677696950052t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:12:25,119-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 18:12:25,154-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'l6WDxtTQ4jYgUiLKyECAPrwI0mnG5Hcq', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '171.5.135.217', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:12:25,388-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:12:25,389-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 18:12:25,389-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': 'l6WDxtTQ4jYgUiLKyECAPrwI0mnG5Hcq', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '171.5.135.217', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:12:25,389-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 18:12:25,389-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=failed
2021-05-19 18:12:25,437-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'i8vFgn3wABVO2oa4fsdury1CjmKNM09b', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:12:25,456-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:25,456-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:12:25,457-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'i8vFgn3wABVO2oa4fsdury1CjmKNM09b', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:12:25,457-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:12:25,457-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:12:25,490-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '8IDUJlregPL07Smi9H3kqYMNTAbtByoZ', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:12:25,502-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:25,502-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:12:25,502-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': '8IDUJlregPL07Smi9H3kqYMNTAbtByoZ', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:12:25,503-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:12:25,514-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 18:12:25,550-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '3RI9QdHuqZmJ2wLtl7Do4pWhGrebsaPU', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:12:25,564-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:25,564-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:12:25,564-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': '3RI9QdHuqZmJ2wLtl7Do4pWhGrebsaPU', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:12:25,564-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:12:25,565-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 18:12:25,601-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'FNGI7tbH8kZhAgflCM6TqYOPdxiXwmy4', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '207.241.238.118', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:12:25,623-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:25,623-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:25,624-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'FNGI7tbH8kZhAgflCM6TqYOPdxiXwmy4', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '207.241.238.118', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:12:25,624-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:25,625-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 18:12:26,723-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 18:12:26,738-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:26,738-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:12:26,739-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 18:12:26,739-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:12:26,739-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 18:12:26,779-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '238.41.70.85', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 18:12:26,792-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:26,792-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:12:26,792-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '238.41.70.85', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 18:12:26,793-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:12:26,793-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 18:12:26,829-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:12:26,838-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:26,838-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:12:26,839-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:12:26,839-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:12:26,839-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:12:26,890-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:12:26,902-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:26,903-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:12:26,903-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:12:26,903-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:12:26,904-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 18:12:27,973-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 18:12:27,974-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 18:12:27,996-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 18:12:28,040-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.59,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:12:28,040-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:12:28,040-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.59, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:12:28,040-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 18:12:28,042-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 18:12:28,043-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '5456925'
2021-05-19 18:12:28,058-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 18:12:28,058-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 18:12:28,059-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 18:12:28,059-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 283.86, 'appId': '5456925', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 18:12:28', 'ext1': '', 'ext2': '', 'maxAmount': 358.15, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191812286117554188491333946664900220', 'ratio': 0.75, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': 'EC5FFBE1BFD0B6FD6FD742D6E789886D', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 5, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 18:12:28,133-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 18:12:28,134-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643392', '62643393', '62643394', '62643395'], 'batchId': ''}
2021-05-19 18:12:28,134-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643392', '62643393', '62643394', '62643395']
2021-05-19 18:12:28,164-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 18:12:28,164-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 18:12:28,176-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643393')
2021-05-19 18:12:28,192-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:12:28","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":3.58,"source":null,"couponDescribe":"0.75","useableEndTime":"2022-05-19 18:12:28","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":2.83,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191812286117554188491333946664900220","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643393","settleType":"0","status":"NORMAL","ratio":0.75},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:12:28,193-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:12:28,193-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:12:28', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 3.58, 'source': None, 'couponDescribe': '0.75', 'useableEndTime': '2022-05-19 18:12:28', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 2.83, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191812286117554188491333946664900220', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643393', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.75}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:12:28,193-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[G6]={'vouId': '62643393', 'amount': 1, 'price': 3.58}
2021-05-19 18:12:28,198-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643394')
2021-05-19 18:12:28,215-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:12:28","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":3.58,"source":null,"couponDescribe":"0.75","useableEndTime":"2022-05-19 18:12:28","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":2.83,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191812286117554188491333946664900220","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643394","settleType":"0","status":"NORMAL","ratio":0.75},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:12:28,215-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:12:28,215-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:12:28', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 3.58, 'source': None, 'couponDescribe': '0.75', 'useableEndTime': '2022-05-19 18:12:28', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 2.83, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191812286117554188491333946664900220', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643394', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.75}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:12:28,215-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643394', 'amount': 1, 'price': 3.58}
2021-05-19 18:12:28,220-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643395')
2021-05-19 18:12:28,229-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:12:28","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":3.58,"source":null,"couponDescribe":"0.75","useableEndTime":"2022-05-19 18:12:28","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":2.83,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191812286117554188491333946664900220","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643395","settleType":"0","status":"NORMAL","ratio":0.75},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:12:28,229-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:12:28,229-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:12:28', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 3.58, 'source': None, 'couponDescribe': '0.75', 'useableEndTime': '2022-05-19 18:12:28', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 2.83, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191812286117554188491333946664900220', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643395', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.75}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:12:28,229-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[G6]={'vouId': '62643395', 'amount': 1, 'price': 3.58}
2021-05-19 18:12:28,237-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643392')
2021-05-19 18:12:28,253-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:12:28","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":3.58,"source":null,"couponDescribe":"0.75","useableEndTime":"2022-05-19 18:12:28","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":2.83,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191812286117554188491333946664900220","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643392","settleType":"0","status":"NORMAL","ratio":0.75},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:12:28,253-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:12:28,253-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:12:28', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 3.58, 'source': None, 'couponDescribe': '0.75', 'useableEndTime': '2022-05-19 18:12:28', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 2.83, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191812286117554188491333946664900220', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643392', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.75}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:12:28,253-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[G6]={'vouId': '62643392', 'amount': 1, 'price': 3.58}
2021-05-19 18:12:28,301-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'z28ynPHub9DZcVR0qASvTJ1BxQXwpjrY', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:12:28,337-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:12:28,337-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:12:28,338-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[I6]={'partnerOrder': 'z28ynPHub9DZcVR0qASvTJ1BxQXwpjrY', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:12:28,338-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:12:28,338-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[M6]=failed
2021-05-19 18:12:28,384-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'UuAjLJNyYGmkFZ7siBHDPl6aXfbw5rgV', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643393', 'amount': 1, 'price': 3.58}", 'voucherId': '62643393', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:12:28,405-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:28,405-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:28,405-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[I6]={'partnerOrder': 'UuAjLJNyYGmkFZ7siBHDPl6aXfbw5rgV', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643393', 'amount': 1, 'price': 3.58}", 'voucherId': '62643393', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:12:28,406-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:28,406-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[M6]=failed
2021-05-19 18:12:28,441-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'z618crtsL27DBMUoqgxdiK0ThGkmnQ3l', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643394', 'amount': 1, 'price': 3.58}", 'voucherId': '62643394', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '34.119.42.225', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:12:28,455-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:28,456-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:28,456-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'z618crtsL27DBMUoqgxdiK0ThGkmnQ3l', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643394', 'amount': 1, 'price': 3.58}", 'voucherId': '62643394', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '34.119.42.225', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:12:28,456-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:28,457-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 18:12:28,506-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'gDP2oTftLxuy0nSNKacOZYGwAF6mhvRV', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:12:28,534-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519181228208677696921687t","status":"ACCEPTED"}
2021-05-19 18:12:28,534-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519181228208677696921687t', 'status': 'ACCEPTED'}
2021-05-19 18:12:28,549-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:12:28,549-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:12:28,550-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "19503511433732"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ZT7F4gWH50BwMe6C1sn3oK2fQi9bjJqG"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:12:28,613-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e9083db0ad9646a1be6c7dd14043c6b9"
s_p: "a0h0RE9vZ1NTald1Y0xpTGV4QUxWU0p4TUhJRFExNDNONGdkeGJydGFVdFZVcW0wVm5vUkxKQjVFMTFlQ2lSSklnRGtKRm40eTlmMWJ1WXIzSnJKUWJMaTk5cXFKbjdCTjhRNjM1VnJldnRHanRjd0Y3M3hRRkIwYXpQUElLbWdsbmZLeFRhWW53TlVWOFNXT2RpTTF0YnQ5Zlk3dGZaV2p1OFVxSWFHN043OFJrZ01zbzlIalVwck5hVG5PNzR0OUNJZUNDT0NYV2VNbGRxR2lPU0Y3aU9TeVQxQ0I2QjBheXpPVHJ2MHBRdUdNbTk4U0U1M1gxaVF1TzBLaXhnUUpCTnRpYjFUZDNYUWdISFo3Ulk2VWxsSUdFY1JVbnJZOTFjbWhLQ2N6elBnUDZuOHFXcDlHMkl6SnpwSTk2TEVrUE9ic29KcFdydUNmUGNpZGhmVngyWVdYSUwxZzc2MFdic3BuTmNPWlp3d3NyMjFIUW1yMlZMVDVVS28xeFQ5cEswU3dSY2M3VHRjeDRLTnpNTHZ0OWJvT2U3aWdvMUdPWGdLZ1VzYzRBRzBKRm9yQ1lSNDJtc0pzS29ZS0VYTzl1QTBBT2lXWFJQcXdFUXNmZ3BsWHdaSE9MUk9ycnlqcUVxd2J2M0FMR2FDVVp0QTh3R3JiS0JwWnFlMjdUV1B5OXBmdmk5NVM3NkZUM1dURERFWVNrYzZjMDFOeXZleFV4Znd5eHdHZ3Zlblhrbmk5NlVlTWpJeTBqaHpPWWxhclptNVVqVkpNS2VFVkxwMExJTTdvbGN0aFJvVmdBbndTNGthMXdwbFMwMXJCNEZ6cVJ1TnlScXZuOVNHRDRybDN0VEZSdk9mR2dmdDF0a3VoQTE3b0ZGWXZIcGRQTlBPdjNRN2d5YnRpbzVlbXdOdTROakJwYU9NV2pYbFFWRVd1RkVPVlNycUE5QjJxc0xEZVZic1B2Tnd4UFhCaXhXNUhnSEl1ODNtNUI4NVhoNFhidWtXc29qWGRwSHU1ejM2Ulh2cEhTdVB2dnJJa1dmRG9McE5uakpMQ2VGck9mUUU="
m_p: "iXv6RL2Aj9v530y9b5lPvkg5U0TVHm8NTW6gr08NpcJte33oC5kN489Y0G155r3T"
e_t: "1621527148603"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:12:28,613-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:12:28,613-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:12:28,614-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "e9083db0ad9646a1be6c7dd14043c6b9"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Jn7BN8Q6"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519181228208677696921687t"
version: "265"
queryType: "PAY"

2021-05-19 18:12:28,680-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:12:29,694-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:12:29,694-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:12:29,695-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "51050068951806"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "5pGf6i7TtsE1zlqbVKMH0hw8Am2SFoNv"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:12:29,768-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "fa3fc9020bc0407db356c556d6f71eb1"
s_p: "d05FUFVlS05XSEpLa1FaeHA2UHdodnA2cjFsMTFsWTJMcDRvdFZEcVdGOW1nMkZCbVMwNld5R05wcWtHbmpIZ3BVZlhuZ0lGcWVGUm5lRU9ZTllYb0xIVktNcExSYlZESFEyQnFtbklUUzR6NmtoUWcyMmRIdUJqOHVJZlh5REs3WUJZQ0ZYTGtrajQwZkZoeENTYTd6WnU1RjNyZmFQR0lGMFlEQTVCUnlIU1c3NW1kZWswaG5WMlJReTNURGVaN0dZZ2lXeGlqbkNySjRlN241Sk92aXlCMHlxdGZzeFR3RDhpcTFYZDlaSkNaYXhKU3VPVFhUN2V2WTEybWQ5NGFybXlBbVE1WTdPMWU0UzdhQTl0eW1uMEVSUlp0dEJXZTVUZGVCWWcwdERFY0NrVG9ZbEdVRXJnVGl0Vkdrd1BPaW51THd3NVJuMFlKaEV6bGRLV2YxMzRSQU92dlEyWUJYSWZXek54TkN5NGZyRmFaYVRLUDVxa0Zsc1V3QktQdVZKTTlsVE90NkhTeUprTGZQbUZQczVYdmtDQ1lsbm5NWVNBaUFGbzVmQllEWHZRVTVzUkFESFNjUklEcFpTYkZZQWpkbEgwUllTZVllUm15Q2tIN1YxWWZKMmhybjJaVzdDSVNhR05tNnlWN0lsR3dEVTFxNjZWVkFDa3JDTk1nRGxNNjJJSlJMVzRmbmljOXk2enNvbTF4ZG5VM2FVb3RsQVYxMTdlbnN2UHZGUlNLQTlLbWlLSlpURmxqZGtPdHlMaGFFWURiZnRlVVJ5cDZvMU1vanBxRFBHOFZjMnpobHA4MzduaERiWDhxdm1pQnZPZ0laT01XTXdQeWp6b3hKNm5PYWNtemx3cmlJU0JYTXU4YnpqOTB0OUU4clNBaDNFNlFKT2I2UWFqRmdQSGhTRHdTMGJXSGtXQzVWTkY1WEpoUm9jcFh1VVV0c2FzYXlmSFZNS1NmZjE0T3ZuVHBRVUNKRVlFOWtIY3plVUJYVElLQUd1WDNhaXlQQWRVd25Ubk16VDBkODcxY0dVdlR3VlJIUTlLRzlyd3R0UXQ="
m_p: "HX69KG6NR56iX8NWClw3FRM452XWCeypm8S5yYEsGB1QWr51Q998uqU4Z70G2YRZ"
e_t: "1621527149764"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:12:29,768-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:12:29,768-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:12:29,769-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "fa3fc9020bc0407db356c556d6f71eb1"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "06WyGNpq"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519181228208677696921687t"
version: "265"
queryType: "PAY"

2021-05-19 18:12:29,846-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:12:30,862-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:12:30,862-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:12:30,862-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "54512474581691"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "SHMGuXTPxBqWczYLmbtFweQgIdlAv46n"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:12:30,919-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a37464ce87cc4027a7c097684fa9b5fc"
s_p: "N0NCQWRROVRYem1venI1WFplU3MyTGlWZkIxSGpudWlqTnl5d0VLT29GVjRsWGFrRzRwWTVSbHJrVGtJUmN6QkxTTDQ2czVvbUpHVUJCN1JRNzFBdXhlb2hCb05YenhMSUh2anBIdm1rUzdsVlRtcHhxZ2ZrV2V5ZFE2MzY3cWFkQlhORnp1NDBReHhCVEIweFJWV2JJNUVTYmt4ZjNJZ09UaTNTak0yQXZWQmJvcnVYcTFPSFNIcG5nSHdaanpyOHA2eENaekFoMjZLbkRjcjZtT0tVUEdKZm5ZS01ndjF0NVZTekZGOE1RMmJJWVV0STJWdTFTWjVYM2dTSFlQNnRDbTdaQWgzZlphNXdOSzRISU4xU1NVQU9qS2E0SGs4VTFvZjVvY0JadVBQbk91RHgxRUIxSUw0cDZrSkxleVh3cTBUN0EwblhVNU05bXpNVjRkMXVrSERkd0duOWJCeEtGZGl6WER3RWJoYnNpNXVDTFpCVDJTdTZUdmQ2bkNrR2JwcDJjRFVUdVFyenVlYlVrVGFCZ3BvRFFTb2Jkc2I1RjMyWHdnR25kQ0wyaTRoUGlVMTJzYVBwZk9WZEhmNmMyd3NldVQ2eWtFMm52cGhleU1UM0t2aGg5aUM2VDhrMjZJM1dRa0FCSnYyTWMwOU5HUHptZVFrRXQyM0daU3JnRms4cHVKU0RJSjBMZjhZeTNTV2Z6ZlhpSldwMkF1dXFrajVLdzFMM0hsQ0x5aGJDbzZya1hSUUdDcFBTUTZ4ZHlKckpxYUo2ZGFYMFhkVzFuaVhnY1p1QnkwbHFyQzRDckpzUnFaN3lMMWJNUGVhbzZMOU9EREJvNnNiNFRrRGg3dUo5Q3FsSThnZHJOUUlqWUxhU1FpZW83dThPd1hLUndvMFRDWEVmQUEwQnB1WXJRRTdLNzVaUGxpRnVzOXRtQU8yNTEyQUt4UlBkbEc0enVmcWVZRHVxZVZGeUt3T0RyMzQwOEZ0UWJ1ZExOdDVuZHFhaW5NcDQ5MENUaWxCVXdHVGtBcnBaZGlSWE9WTTQzRHBsVWVTOGp6bDNRb1c="
m_p: "Y27SlvTPrD4Q2eoO523X25d191Os5PD3p2at81U9bsL539TV16hGEiWzHOy9YUrK"
e_t: "1621527150914"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:12:30,919-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:12:30,920-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:12:30,920-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "a37464ce87cc4027a7c097684fa9b5fc"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "L46s5omJ"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519181228208677696921687t"
version: "265"
queryType: "PAY"

2021-05-19 18:12:30,976-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:12:31,977-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[I6]={'partnerOrder': 'gDP2oTftLxuy0nSNKacOZYGwAF6mhvRV', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:12:31,977-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[J6]={'payReqId': 'KB20210519181228208677696921687t', 'status': 'ACCEPTED'}
2021-05-19 18:12:31,978-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[M6]=passed
2021-05-19 18:12:32,022-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'v8GmJOTsgHSktf0QoA43ZhjPBnbqNpY7', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643395', 'amount': 1, 'price': 3.58}", 'voucherId': '62643395', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:12:32,049-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:32,049-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:32,050-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[I6]={'partnerOrder': 'v8GmJOTsgHSktf0QoA43ZhjPBnbqNpY7', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643395', 'amount': 1, 'price': 3.58}", 'voucherId': '62643395', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:12:32,050-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:32,050-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[M6]=failed
2021-05-19 18:12:32,094-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Uo0IN1lXjnqS7sPcWAT5968htEZpQOdr', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643392', 'amount': 1, 'price': 3.58}", 'voucherId': '62643392', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:12:32,107-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:32,107-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:32,108-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[I6]={'partnerOrder': 'Uo0IN1lXjnqS7sPcWAT5968htEZpQOdr', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643392', 'amount': 1, 'price': 3.58}", 'voucherId': '62643392', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:12:32,108-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:32,108-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[M6]=failed
2021-05-19 18:12:32,150-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'IBfuskS8o9Na5dxyUzcXR06irJvGTWLZ', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:12:32,167-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:32,167-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:12:32,168-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'IBfuskS8o9Na5dxyUzcXR06irJvGTWLZ', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:12:32,168-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:12:32,168-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 18:12:32,202-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'wIpxF6tadyOh7439j0voNbEeWZglR2TQ', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:12:32,210-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:32,210-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:12:32,211-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'wIpxF6tadyOh7439j0voNbEeWZglR2TQ', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:12:32,211-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:12:32,211-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 18:12:32,240-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Vcjba1uzpF8wyqlXCZGLMEhtD6SsUNBm', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:12:32,262-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:32,263-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:32,263-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': 'Vcjba1uzpF8wyqlXCZGLMEhtD6SsUNBm', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:12:32,263-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:32,264-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 18:12:32,303-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'oiY42Rt1D5wanPrdASGv8WZNchpbgmIH', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '214.165.88.166', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:12:32,316-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:32,316-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:32,317-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'oiY42Rt1D5wanPrdASGv8WZNchpbgmIH', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '214.165.88.166', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:12:32,317-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:32,317-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 18:12:32,349-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'FhoiRD57V2Wvw9QpsYefc08B6XElGgkb', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:12:32,365-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:32,365-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:32,365-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'FhoiRD57V2Wvw9QpsYefc08B6XElGgkb', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:12:32,366-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:32,366-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 18:12:32,402-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '4QZYgyVDFPAin80MXNlzLbJp2uCc76hK', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '35.53.122.240', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:12:32,428-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:12:32,429-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:32,429-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': '4QZYgyVDFPAin80MXNlzLbJp2uCc76hK', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '35.53.122.240', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:12:32,429-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:12:32,429-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 18:16:07,498-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 18:16:07,834-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 18:16:07,914-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:16:07,914-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 18:16:07,914-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:16:08,179-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:16:08,180-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 18:16:08,180-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:16:08,255-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 18:16:08,256-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 18:16:08,273-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:16:09,097-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:16:09,097-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,097-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,097-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:16:09,097-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,097-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,097-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,097-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,349-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:16:09,350-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,350-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,350-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:16:09,350-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,351-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,620-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:16:09,621-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,621-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643393', 'amount': 1, 'price': 3.58}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,621-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643394', 'amount': 1, 'price': 3.58}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,621-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,621-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643395', 'amount': 1, 'price': 3.58}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,621-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643392', 'amount': 1, 'price': 3.58}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,621-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:16:09,622-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,622-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,622-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,622-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,622-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,622-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:16:09,631-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:16:09,673-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'HzAjxwJU73r58IXO4BtpnPkcLesf62vd', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:16:09,708-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519181609208677696954784t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22iOPLY%252BF3GtpRGjdAij9o7cVEkLanmDlACWVQvxc1CwKPHXZrnPsOlrqXc4%252FRlnXcrUSBfwL6ftAu%252BRhgLPUtgfQNp3qbJmKdO7yf%252Bolrap1gdIW4z8fgmJPb7DiFaaMYGYRVPOpRFFXhENkB9swVeOaFWx7ZsD7Lw0EkhmhBS2s%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519181609208677696954784t\"}","payReqId":"RM20210519181609208677696954784t","status":"AUTH_NEEDED"}
2021-05-19 18:16:09,709-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519181609208677696954784t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="iOPLY%2BF3GtpRGjdAij9o7cVEkLanmDlACWVQvxc1CwKPHXZrnPsOlrqXc4%2FRlnXcrUSBfwL6ftAu%2BRhgLPUtgfQNp3qbJmKdO7yf%2Bolrap1gdIW4z8fgmJPb7DiFaaMYGYRVPOpRFFXhENkB9swVeOaFWx7ZsD7Lw0EkhmhBS2s="&sign_type="RSA"', 'system_order': 'RM20210519181609208677696954784t'}, 'payReqId': 'RM20210519181609208677696954784t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:16:09,709-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'HzAjxwJU73r58IXO4BtpnPkcLesf62vd', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:16:09,709-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519181609208677696954784t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="iOPLY%2BF3GtpRGjdAij9o7cVEkLanmDlACWVQvxc1CwKPHXZrnPsOlrqXc4%2FRlnXcrUSBfwL6ftAu%2BRhgLPUtgfQNp3qbJmKdO7yf%2Bolrap1gdIW4z8fgmJPb7DiFaaMYGYRVPOpRFFXhENkB9swVeOaFWx7ZsD7Lw0EkhmhBS2s="&sign_type="RSA"', 'system_order': 'RM20210519181609208677696954784t'}, 'payReqId': 'RM20210519181609208677696954784t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:16:09,710-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 18:16:09,742-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'LN78DG1M0kBA4guiZHd9hJx2URsfnQWo', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '232.32.83.253', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:16:09,991-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:16:09,991-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 18:16:09,991-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': 'LN78DG1M0kBA4guiZHd9hJx2URsfnQWo', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '232.32.83.253', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:16:09,992-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 18:16:09,992-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=failed
2021-05-19 18:16:10,049-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'oGjRNMVuv9XYTlmH1U8AqkSnIEcx4yPW', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:16:10,057-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:10,058-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:16:10,058-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'oGjRNMVuv9XYTlmH1U8AqkSnIEcx4yPW', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:16:10,058-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:16:10,059-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:16:10,113-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'WcatjlxOuMGwTNEFiovZYe67qUDQynfA', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:16:10,123-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:10,124-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:16:10,124-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'WcatjlxOuMGwTNEFiovZYe67qUDQynfA', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:16:10,124-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:16:10,125-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 18:16:10,175-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'CMO1Jl79jwfsS3pWQFxL0e5kd8uPoHZD', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:16:10,190-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:10,191-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:16:10,191-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'CMO1Jl79jwfsS3pWQFxL0e5kd8uPoHZD', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:16:10,191-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:16:10,192-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 18:16:10,232-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'T6pSyMI7Vg80JF3N4bLhdrY9HkilUXfe', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '163.53.141.63', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:16:10,255-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:10,255-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:10,255-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'T6pSyMI7Vg80JF3N4bLhdrY9HkilUXfe', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '163.53.141.63', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:16:10,256-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:10,256-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 18:16:11,351-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 18:16:11,372-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:11,372-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:16:11,373-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 18:16:11,373-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:16:11,373-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 18:16:11,419-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '100.177.55.230', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 18:16:11,437-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:11,437-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:16:11,437-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '100.177.55.230', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 18:16:11,437-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:16:11,438-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 18:16:11,512-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:16:11,541-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:11,542-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:16:11,542-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:16:11,542-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:16:11,543-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:16:11,610-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:16:11,628-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:11,628-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:16:11,628-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:16:11,629-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:16:11,629-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 18:16:12,714-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 18:16:12,714-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 18:16:12,742-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 18:16:12,776-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.59,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:16:12,776-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:16:12,776-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.59, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:16:12,776-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 18:16:12,778-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 18:16:12,779-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '2031'
2021-05-19 18:16:12,791-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 18:16:12,791-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 18:16:12,792-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 18:16:12,792-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 1.82, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 18:16:12', 'ext1': '', 'ext2': '', 'maxAmount': 58.72, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191816124644244386100540286071056297', 'ratio': 0.35, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': 'A7AFFD028794AC5B0FFE900240F156B7', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 1, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 18:16:12,894-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 18:16:12,894-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643396', '62643397', '62643398', '62643399'], 'batchId': ''}
2021-05-19 18:16:12,895-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643396', '62643397', '62643398', '62643399']
2021-05-19 18:16:12,926-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 18:16:12,926-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 18:16:12,969-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643397')
2021-05-19 18:16:12,984-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:16:13","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.01Ԫ","useableEndTime":"2022-05-19 18:16:12","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.01,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191816124644244386100540286071056297","subScopeId":"","originalAmount":0.01,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643397","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:16:12,985-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:16:12,985-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:16:13', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.01Ԫ', 'useableEndTime': '2022-05-19 18:16:12', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.01, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191816124644244386100540286071056297', 'subScopeId': '', 'originalAmount': 0.01, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643397', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:16:12,985-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[G6]={'vouId': '62643397', 'amount': 1, 'price': 0.01}
2021-05-19 18:16:12,994-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643398')
2021-05-19 18:16:13,005-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:16:13","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.01Ԫ","useableEndTime":"2022-05-19 18:16:12","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.01,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191816124644244386100540286071056297","subScopeId":"","originalAmount":0.01,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643398","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:16:13,006-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:16:13,006-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:16:13', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.01Ԫ', 'useableEndTime': '2022-05-19 18:16:12', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.01, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191816124644244386100540286071056297', 'subScopeId': '', 'originalAmount': 0.01, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643398', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:16:13,006-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643398', 'amount': 1, 'price': 0.01}
2021-05-19 18:16:13,011-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643399')
2021-05-19 18:16:13,026-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:16:13","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.01Ԫ","useableEndTime":"2022-05-19 18:16:12","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.01,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191816124644244386100540286071056297","subScopeId":"","originalAmount":0.01,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643399","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:16:13,026-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:16:13,026-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:16:13', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.01Ԫ', 'useableEndTime': '2022-05-19 18:16:12', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.01, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191816124644244386100540286071056297', 'subScopeId': '', 'originalAmount': 0.01, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643399', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:16:13,026-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[G6]={'vouId': '62643399', 'amount': 1, 'price': 0.01}
2021-05-19 18:16:13,032-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643396')
2021-05-19 18:16:13,047-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:16:13","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.01Ԫ","useableEndTime":"2022-05-19 18:16:12","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.0,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.01,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191816124644244386100540286071056297","subScopeId":"","originalAmount":0.01,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643396","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:16:13,047-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:16:13,047-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:16:13', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.01Ԫ', 'useableEndTime': '2022-05-19 18:16:12', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.0, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.01, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191816124644244386100540286071056297', 'subScopeId': '', 'originalAmount': 0.01, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643396', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:16:13,047-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[G6]={'vouId': '62643396', 'amount': 1, 'price': 0.01}
2021-05-19 18:16:13,079-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'UhnfJvgFN3dGjHkYa6Aq4lTyB5Z0XQ8c', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:16:13,116-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:16:13,117-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:16:13,117-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[I6]={'partnerOrder': 'UhnfJvgFN3dGjHkYa6Aq4lTyB5Z0XQ8c', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:16:13,117-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:16:13,117-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[M6]=failed
2021-05-19 18:16:13,151-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'on4YSjMePZJf8IChLzBt0TucQ2iNE13D', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643397', 'amount': 1, 'price': 0.01}", 'voucherId': '62643397', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:16:13,169-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:13,169-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:13,169-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[I6]={'partnerOrder': 'on4YSjMePZJf8IChLzBt0TucQ2iNE13D', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643397', 'amount': 1, 'price': 0.01}", 'voucherId': '62643397', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:16:13,170-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:13,170-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[M6]=failed
2021-05-19 18:16:13,206-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'OwHY75kdv8tbDBZK1pyX9r3CR0aVqIE2', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643398', 'amount': 1, 'price': 0.01}", 'voucherId': '62643398', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '115.49.27.126', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:16:13,224-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:13,224-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:13,224-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'OwHY75kdv8tbDBZK1pyX9r3CR0aVqIE2', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643398', 'amount': 1, 'price': 0.01}", 'voucherId': '62643398', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '115.49.27.126', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:16:13,224-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:13,225-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 18:16:13,264-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'WTfLxYODBcube0vZKr5Mo3p6q4PAhlCk', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:16:13,282-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519181613208677696914137t","status":"ACCEPTED"}
2021-05-19 18:16:13,283-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519181613208677696914137t', 'status': 'ACCEPTED'}
2021-05-19 18:16:13,300-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:16:13,300-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:16:13,301-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "45445753178142"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "P7fWzZ1cKwEXtq9MpBikyjr6eAuxnRoY"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:16:13,368-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "138f7d3467174b84a1995d9080fdb09e"
s_p: "S2pjVzVsSEhVb1F2MkFEb1JaUkxCQkR1S3hBOVp2dkxtRnA2YUM2SEQwVkFubWpBVTdQQWEwaGxmOG5aU3J5R1FDR29jekxrSDBBajFmSjFET0hxbnZGNDdGWmF5QktsajBhT2RGclpWY0l2YWl3TkZDNFVnYTJJVDNUNTk4RFlQcHBkMmVrbmNFVEE4Y2NuaDQ2Y0xzZ1dxeWhBVklsdmhBUk1tb09LSWNydzFvZmNFd3J1UzdJdlpxOFg4ZVNTM053cWpKRWZTMnJmUk55cDkzMTNaeXp5cDM0R1d3VUlVeWJacldIR1VLRnpHVUEzWFF2aEllNzFOckxWZW13UEFZT3R0ckc0U2t3SERMWm9CaThJdmVuSW1ua1BXUnhYeTRqMmNNUjRiSjI5czVNUjVMaXdjOUJ5SDc4eFQ5WnZxNlE1bW5JTjFwQm1TZFozT3RLV1pWck9iZEJiVGhVcXRaYlVwcWlHU2NZQWx4NWdXNmlHdjVEOTZoeGQ3eG0zZWZHRmxBR0oxcTB6SXNuZFljNjBvMGhNdlZqM2JVSmhNbW1KTlprSmhoRHc1VUpmZkhGbkhyam5Va0ZaYTd6dzZWend4c2c0SG9sSlB0NkNWM3BEYzlRMzhjcmlyQWpXanNOTUd1ZWRnSmJHTFU2djFrSDNhR0p1ZG55SHU0dklVQTFTZ29FVlBxbkhscVBYRDdKUGJESEJZSnJZemd3bDMyOTBxWEdtMXA2WmRuam1yeUZwcXJVRFNNbzc2MVo4cG03c1lGNXI0SDFtbnVzZmVESWk2YnNJUXJuaWZDNEdxTTN0dTFXeDNpNXVoUUlyVjlDdjFNck1WS1REWXFPbjlmMTc2R2hkVTdWd2YwVXBoS0lUTldzbktCZ05yVEdjbFBUZXFIT2hDcE1nRjk1N3R1TExLU2U5SWtRNE9VeW81d00wc2xuMG4xRDJHeWoyNk5ic0N6c0RpeEpLbjlVcFI0R3ZzcGd2NGs5T0p1SU45dllwNU93S0R5SEU3Y2ZCMjV2bU1ITHlyNlI5d1JpQXRHZ09UUVV0eWoxWXl0MHI="
m_p: "W0r240s4nPlLcBC92aoMB08Cbtu78Z8x8F1Rrqsiy0wuJ2eMqY3L1zY2jI9lt6sU"
e_t: "1621527373360"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:16:13,368-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:16:13,368-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:16:13,368-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "138f7d3467174b84a1995d9080fdb09e"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "1fJ1DOHq"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519181613208677696914137t"
version: "265"
queryType: "PAY"

2021-05-19 18:16:13,425-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:16:14,440-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:16:14,440-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:16:14,440-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "92426857088106"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Kf0NGruh4BJLdIOMqpzmnT316ScivjWe"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:16:14,508-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a3536c7536634ead8e10c47ee6d8ece9"
s_p: "OUxCOEVtS2NUczZ0VGN1Yno2OGk1M0s0aXdSYXFlZGFnSlRXVm9iVVkwWkVtMURZNTlEb3pkZ0k5M0tYaWNKRDJpQ2JVTDZwR1lwUDcwRXR4WFVHQXhoeU5nbmJzT3JGTzUzcEJOWUs2VUpPWTRQanRPZGttQlNiMG1MR3VVOWFrQjcwVk9XREE2WjNIWk5GRkZFQkpVYnFLdEpQbmhjbElmcnhiajQ3NHFZZGE1a0xjTGYzblVMSXVsSFl5bFFiNEZFVTdvcERaSWFXWE9GUHBaQlF1RFBjMFhmNFhiQVVXZEdaaDVtS3llNjF3RVJQZWhXMHNjcDBsSDZjTTN5eE1za3M5VEpsTktLNjA0czZUNGd2VVBuUDZSa0Vpalk0cnNzSWlZUXM1TTd0UEJ2aGdxUUtUY2pHVjFkQWhzb01ldlZuQkt2czVhNHJ6YkhnTnVwdm1IbGJ2U3lmc1k5QmhETXNlZW1hZjJ3WUJzTXRzQldvTXpIVnZ4YjFMbFJVeTJldVRDbTMyNW1BbnVzY096QUw0c2hwYkpiS2VyelVWWWpoSklhbXFkNzFialprbUdhOENpY1FYY3M0Z2xyaldwQWZ4dDB4ZG1pRHZNTlFPMkQ5T2lOTG9aSFY2RFN5UG44UHpsYnR1VG9RaktHMFNoZVdobzZ6Q2JLN0MxOGk1aXdoRmVpUjQ3SWVoUUVjV1J5MjBOSXpJYUc5R2FDbWV3Q3YzQjdNOGhHTWhjS3JTMHRIM1BMYkJ6U1JCc2tsZFZXaHVtTlh5UlZNM3F0RGlxQ1YwaUh3ZExaeGJya2Y5ZnhMVGxhdU1XZHNIdWJyQnI3eDhFM2xaMDJWTWs0M2tPbzN1NGlvYnZMMERoTkt4S0ZudFhUOGZaNmpiZlIzUml5NnBhTjRRbURHN3lMVUYzT2poQW9DQzVvV2pFbGR4NUNZQmhPbGJZbUhDTXFRMmFOaG5GMHhYbVBrS21OSmdjV1hFekZPTGVJWnV0bWY4bWlydXROSTJGUUxldE1aTWNnd3V2VlMxUlBNaGxnaVVnOTVLa3B0blQ0WEl6aU0="
m_p: "2df2yhkjG68C353Y791AHXvU1HhlZ8HD1E7479K1Wh7DbqJec4f0mkY6W0m3Tbc7"
e_t: "1621527374500"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:16:14,508-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:16:14,509-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:16:14,509-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "a3536c7536634ead8e10c47ee6d8ece9"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "rxbj474q"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519181613208677696914137t"
version: "265"
queryType: "PAY"

2021-05-19 18:16:14,561-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:16:15,574-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:16:15,575-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:16:15,575-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "06927236847656"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "EOMSWatRIBriCH5KonX19LDhysxvVq7f"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:16:15,674-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b353aff4f40b4c77aaa37176e5b6b316"
s_p: "NkdVUjJlSEx3ZUtMTjNja1pjV1NzcnNJTFNNRmI5Tm1FRVNnZFRmcEdhUnkzVWVJSkJ1Q0UydFdsQ3ZObUcydGdzMzVZTjBDZTgzQjY1dGh2WUNWV2t3ZTVYRURkRG1pc2twckdrWGRiU0pBWjMwZEYwTVpWVE1xSHBvTHhCYUFvYmdGYm9uSFdZbFFLUTBzRnM4SGtiVEN0MEFaR3RiQU1CMG51QlpvbjBJWFl0dU4waHVtM0NDVVlmVW1EcThNNHlBNDFObXcwcHFaYjNKd1FJY2FmY3dzZGs3YTlRMU9xQ3pCSnVJZXdjN1BaNFFKejQ1VTQxd3NlYXYyTVAzWWc2dmFCYkkwaHRoSzZWVWxXU2pkeWhQRmREQTQ3T3o2Y3M5MTFBa2JydXJ3U2xHeUlpdGNnaElaWkRzNVMwWXZWR3RaSVhZRk5OUEc3V3hZajJrcVhSbW1lbjdLaG9lSHA5dW9taFRvcVVlVjZUVWxWRFN5V0haV0t3VlhiUG00RzdBVlh0ZFlXVW9pU0ZtMzk0YTBKZUdmenI2OWxUMm9EMTAxSXBXNHJERjIwV0kyTlh2ejhuRll2cHlGVXR4NUo3QVlBYW42dU43aWloMmkxUjFUS1FyTlFYRGdDck95MjdPSnpUWnpsVllPYWxKZ1loV1FXZ1dpVzQ1dmZNS2JjaDBvT1ZyS2xGRDMzTm51Qk1rNlhXVm5adWduOFZDZXk3V2RTSFUyR0V3dTlCRGMyT2g2VnRtT245Z1JBQ05Ud09BQmRIMXRhMmFvczc3aVZ0enpNR0tXR21mQmdUc0FFZThsWWREZXcxSEdpcFlXQmhZc1RQSFB5aTRBVUVSUWpPZTVGbW1acjFIdnlNTFhrSlVZWTJ5cFdmRlBVOWZyMEF6VmdCN3V6dXRqWThaSk5CSE9FR1cyWWMxbEhoQ1JidUQxN0xlUE1WeGo0eEh3bEhpUE9xcWFTNlpHR1haZ0tIUkp5dkU0RFhTZVNPMFNaRXJWa1R2cTNtN2hITXRDODdORDVieHFpMjEwbnF4MWtzelZiZWFHT2kyU085Y2o="
m_p: "438290SX15820bwBS5OzIlqR7OSONt8r8jrM4Gc99844mS2zHjOUi83L226cm1Y6"
e_t: "1621527375667"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:16:15,674-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:16:15,674-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:16:15,675-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "b353aff4f40b4c77aaa37176e5b6b316"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "prGkXdbS"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519181613208677696914137t"
version: "265"
queryType: "PAY"

2021-05-19 18:16:15,735-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:16:16,735-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[I6]={'partnerOrder': 'WTfLxYODBcube0vZKr5Mo3p6q4PAhlCk', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:16:16,735-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[J6]={'payReqId': 'KB20210519181613208677696914137t', 'status': 'ACCEPTED'}
2021-05-19 18:16:16,736-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[M6]=passed
2021-05-19 18:16:16,829-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '8usSiLNcy4MCpXY1E67WHabqVDAxr5Gt', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643399', 'amount': 1, 'price': 0.01}", 'voucherId': '62643399', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:16:16,852-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:16,853-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:16,853-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[I6]={'partnerOrder': '8usSiLNcy4MCpXY1E67WHabqVDAxr5Gt', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643399', 'amount': 1, 'price': 0.01}", 'voucherId': '62643399', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:16:16,853-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:16,854-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[M6]=failed
2021-05-19 18:16:16,911-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'GALoTHsKFROqhmiPxUE0NXDlu6I57BWk', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643396', 'amount': 1, 'price': 0.01}", 'voucherId': '62643396', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:16:16,936-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:16,936-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:16,936-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[I6]={'partnerOrder': 'GALoTHsKFROqhmiPxUE0NXDlu6I57BWk', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643396', 'amount': 1, 'price': 0.01}", 'voucherId': '62643396', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:16:16,937-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:16,937-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[M6]=failed
2021-05-19 18:16:16,968-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'jdaPioY9kKFeMINGTqs45J68X03yS1cU', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:16:16,982-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:16,983-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:16:16,983-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'jdaPioY9kKFeMINGTqs45J68X03yS1cU', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:16:16,983-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:16:16,983-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 18:16:17,017-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ImUBbuzXLg05CGorJia9T3ONeZcFv2w7', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:16:17,027-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:17,027-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:16:17,027-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'ImUBbuzXLg05CGorJia9T3ONeZcFv2w7', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:16:17,028-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:16:17,028-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 18:16:17,088-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'F3p8cGarMkwAJd0ReKiH2g45VNxD7TnX', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:16:17,112-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:17,112-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:17,113-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': 'F3p8cGarMkwAJd0ReKiH2g45VNxD7TnX', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:16:17,113-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:17,113-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 18:16:17,154-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'QD0ksiWMZ7VeOa6Ncuf4vCd3LBJpn9lU', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '97.16.235.201', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:16:17,169-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:17,169-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:17,169-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'QD0ksiWMZ7VeOa6Ncuf4vCd3LBJpn9lU', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '97.16.235.201', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:16:17,170-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:17,170-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 18:16:17,208-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'fxejrYauOcidWkoNlX7DMJA3bh0H2EZy', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:16:17,227-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:17,227-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:17,228-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'fxejrYauOcidWkoNlX7DMJA3bh0H2EZy', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:16:17,229-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:17,229-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 18:16:17,261-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'qJNp7fFG05SDLd9cgEQymoxXI18PlCzB', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '154.135.226.106', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:16:17,298-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:16:17,299-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:17,299-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'qJNp7fFG05SDLd9cgEQymoxXI18PlCzB', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '154.135.226.106', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:16:17,299-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:16:17,299-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 18:18:11,582-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 18:18:11,865-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 18:18:11,940-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:18:11,940-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 18:18:11,941-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:18:13,230-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:18:13,230-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 18:18:13,230-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:18:13,286-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 18:18:13,288-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 18:18:13,302-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:18:14,080-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:18:14,081-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:18:14,081-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:18:14,081-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:18:14,081-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:18:14,081-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:18:14,081-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 18:18:14,082-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 18:18:14,088-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:18:14,118-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'B40xYnSy9uOWXv17KsplGztVARJkmNDM', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:18:14,152-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519181814208677696948867t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22bSKsWf6L2%252FiwZam0jC6Ofi%252BprPEndqbIcekAnC45UEPt9qxUdqGCB%252F4wEFlcuzOBky41%252FOC6esZCRMAZ4Ixb4roxUuH6nhZV%252BzwJQfI%252BXAtu6YN9Afw461qRtjyToqRGSDog5cw0S4UMNWamh2q0EtbMylzvNW3z7lA5XL0h%252Bkg%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519181814208677696948867t\"}","payReqId":"RM20210519181814208677696948867t","status":"AUTH_NEEDED"}
2021-05-19 18:18:14,153-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519181814208677696948867t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="bSKsWf6L2%2FiwZam0jC6Ofi%2BprPEndqbIcekAnC45UEPt9qxUdqGCB%2F4wEFlcuzOBky41%2FOC6esZCRMAZ4Ixb4roxUuH6nhZV%2BzwJQfI%2BXAtu6YN9Afw461qRtjyToqRGSDog5cw0S4UMNWamh2q0EtbMylzvNW3z7lA5XL0h%2Bkg="&sign_type="RSA"', 'system_order': 'RM20210519181814208677696948867t'}, 'payReqId': 'RM20210519181814208677696948867t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:18:14,153-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'B40xYnSy9uOWXv17KsplGztVARJkmNDM', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:18:14,154-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519181814208677696948867t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="bSKsWf6L2%2FiwZam0jC6Ofi%2BprPEndqbIcekAnC45UEPt9qxUdqGCB%2F4wEFlcuzOBky41%2FOC6esZCRMAZ4Ixb4roxUuH6nhZV%2BzwJQfI%2BXAtu6YN9Afw461qRtjyToqRGSDog5cw0S4UMNWamh2q0EtbMylzvNW3z7lA5XL0h%2Bkg="&sign_type="RSA"', 'system_order': 'RM20210519181814208677696948867t'}, 'payReqId': 'RM20210519181814208677696948867t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:18:14,154-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 18:18:14,201-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Oty4HYRq7vksnV96uK30ZSofbGAmMINU', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '156.187.97.71', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:18:14,501-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19181814450488d2e39d65018dbf570000&package=2819262473","payReqId":"RM20210519181814208677696970241t","status":"AUTH_NEEDED"}
2021-05-19 18:18:14,501-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19181814450488d2e39d65018dbf570000&package=2819262473', 'payReqId': 'RM20210519181814208677696970241t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:18:14,502-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 18:18:14,512-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 18:18:14,513-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[7416135146359817710478099080]]></transaction_id>
<nonce_str><![CDATA[0s2fCoJw15VtLGpFNZ4W7ePcl8HRX9OQ]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[B45F7E0563BA4D8D54AA2309954DF121]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519181814208677696970241t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519181814]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 18:18:14,665-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 18:18:14,665-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 18:18:14,681-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:18:14,681-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:18:14,681-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "81604603005088"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Of6S7NKTAjMlBcaWuwt4hkvberpLymEY"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:18:14,785-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bac60792be924b4c96eec2600343fe8c"
s_p: "Y1ZPMkVQc21mbGV6QnFxREJJYWNmWGM4c2VUM2pucUFnemJRald4THRyM2VSZjBXYTI3SWNJazdDRXBQdkpkTENrMHZHbU5iMVFiMjhoQUIwSnN3M2RNb1lRak5wQVl5UnZTbk9yOUYyTDNTZTNaclFmNVl3RmkwVVVObzJXYmd2dGhNSW9NeGZDWFVxeENVMFpxdEtoYTZ4V0JDSkVaOGNxbk96MU1hb2ZSSnF3c053dk54NWdXeGJwbGVocGpxMmdvYzZvVklBSXlQTk9CZWNGU2c3cDJNR1NpbmhTQTBobUtrekM0YnBOMHRzVlU1RXFxOG5Wcm5lWEFQYXY4VDY4azF2R0hvTktSeG9FS3Jtd3Jkc0RBTVpBU0J1c3VRUTBEYUdkU0kxNU9YbzJ6SkZsblB5amZFMU8yaUlrOTIxUDlGVW5sb2xLeDVmZmtRUm5ObWxwcHg1UlNFaElkTmdLd2RoTXJ0R0pvdE5VNU4wQTlRTFlBYjFydE5uWHpvVkI0RVRyenlSR3cxdGVuRDdVWW1ONEQ0eHpIMVJ0N1g3TUxTaEZVYzdIMTVHTFBCM29ndU04am5TQUFXUmFhazZ1V0RmNUU0YjNkN0dPY0hzYWJ0S1pmSVpHZzlmTDdhSHpscmlONERsZVpyd3IxeExRTnBoSk5SYUJlQkkzcFQ1UFBMTGZMSGtNQmJVY0N3ODNDOHl0U2ZFTGlhQlN0MVBCa2g3QWJ3MkNmSklGRGZoZkw5TkRkTHRSbzFRZzUzNGNPY2pCeExiN1k2aGNUckJDUG1TaHNZNXlsOTFtT2Eya2NMZldjV1J4S1E0WFFXU3RXTHRjZVhITUhVS2RKN0tyZVM4cDBNSmt4NnYzdzlmeldRMXJDbDMzVXRMem1YWWdDWDVmbVZwRUxTTUZGVjVVWllJOXVWT0NjZWFERmttWFVDdWRwVnEwQXpiRUduVW9wTzFNVklMc0Fya3F4MldCQllVN0ZkYjNCUGowR3g4aUpnOXFPcnNabEQ0dThNS29ac3I2UGhOOURFQk5zUTZmM0VwdnRtcFBTZWE3TUM="
m_p: "58LA097d151thbj1dA1hSn79mG109r4u7cEG730Gm0195d2D88hKeNd95CCOLpY5"
e_t: "1621527494782"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:18:14,785-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:18:14,786-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:18:14,786-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "bac60792be924b4c96eec2600343fe8c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "bgvthMIo"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519181814208677696970241t"
version: "265"
queryType: "PAY"

2021-05-19 18:18:14,875-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 18:18:14,877-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519181814208677696970241t"
2021-05-19 18:18:14,886-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5332, 'pay_req_id': 'RM20210519181814208677696970241t', 'notify_id': '7416135146359817710478099080', 'partner_order': 'Oty4HYRq7vksnV96uK30ZSofbGAmMINU', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '156.187.97.71', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 18, 18, 14), 'success_time': datetime.datetime(2021, 5, 19, 18, 18, 14), 'modify_time': datetime.datetime(2021, 5, 19, 18, 18, 15), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 18:18:14,887-INFO-FizAssert-31-订单详情：{'id': 5332, 'pay_req_id': 'RM20210519181814208677696970241t', 'notify_id': '7416135146359817710478099080', 'partner_order': 'Oty4HYRq7vksnV96uK30ZSofbGAmMINU', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '156.187.97.71', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 18, 18, 14), 'success_time': datetime.datetime(2021, 5, 19, 18, 18, 14), 'modify_time': datetime.datetime(2021, 5, 19, 18, 18, 15), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 18:18:14,887-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 18:18:14,887-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': 'Oty4HYRq7vksnV96uK30ZSofbGAmMINU', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '156.187.97.71', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:18:14,887-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19181814450488d2e39d65018dbf570000&package=2819262473', 'payReqId': 'RM20210519181814208677696970241t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:18:14,888-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=passed
2021-05-19 18:18:14,926-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'CLX0QoAekb9El4w5munqHtP12FDMTGzv', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:18:14,942-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:18:14,942-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:18:14,942-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'CLX0QoAekb9El4w5munqHtP12FDMTGzv', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:18:14,942-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:18:14,943-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:18:14,974-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '5fs7ywmkZ3DFnB9boKzOgp8UrWjRINdY', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:18:14,989-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:18:14,989-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:18:14,989-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': '5fs7ywmkZ3DFnB9boKzOgp8UrWjRINdY', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:18:14,990-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:18:14,990-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 18:18:15,036-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'jQTvpW9xG6Mc3eliX0uKDUFz72rkOqwB', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:18:15,045-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:18:15,046-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:18:15,046-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'jQTvpW9xG6Mc3eliX0uKDUFz72rkOqwB', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:18:15,046-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:18:15,046-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 18:18:15,086-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'WoGzAysNXfK5Oi6gkQJe9MdF0vZqT723', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '61.231.180.119', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:18:15,107-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:18:15,107-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:18:15,107-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'WoGzAysNXfK5Oi6gkQJe9MdF0vZqT723', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '61.231.180.119', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:18:15,107-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:18:15,108-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 18:21:02,390-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 18:21:02,668-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 18:21:02,755-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:21:02,755-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 18:21:02,756-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:21:03,011-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:21:03,011-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 18:21:03,011-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:21:03,058-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 18:21:03,059-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 18:21:03,067-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:21:03,825-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:21:03,826-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:21:03,826-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:21:03,826-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:21:03,826-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:21:03,826-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:21:03,826-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 18:21:03,827-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 18:21:03,833-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:21:03,873-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'LgCY5UcRSHvTAXFq82Wsjz0rDmbnedZ6', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:21:03,916-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519182103208677696918734t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22mrr4pAM6f63SYjRkWxe7JiI1VZB0ovGiGg0hrEkoh70OyygLPXYs%252BwDZkOjpfPepivsdHcPUbo4GQpzdT%252BhU01%252FayWS%252B4eb%252Fq1eI0h7Jcut5IAJRp6wj1R5MVV5yE678EF3yJ7lezkA1c88SeO7N6%252FxU3lVhRJ659q7IxRP9izA%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519182103208677696918734t\"}","payReqId":"RM20210519182103208677696918734t","status":"AUTH_NEEDED"}
2021-05-19 18:21:03,916-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519182103208677696918734t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="mrr4pAM6f63SYjRkWxe7JiI1VZB0ovGiGg0hrEkoh70OyygLPXYs%2BwDZkOjpfPepivsdHcPUbo4GQpzdT%2BhU01%2FayWS%2B4eb%2Fq1eI0h7Jcut5IAJRp6wj1R5MVV5yE678EF3yJ7lezkA1c88SeO7N6%2FxU3lVhRJ659q7IxRP9izA="&sign_type="RSA"', 'system_order': 'RM20210519182103208677696918734t'}, 'payReqId': 'RM20210519182103208677696918734t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:21:03,917-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'LgCY5UcRSHvTAXFq82Wsjz0rDmbnedZ6', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:21:03,917-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519182103208677696918734t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="mrr4pAM6f63SYjRkWxe7JiI1VZB0ovGiGg0hrEkoh70OyygLPXYs%2BwDZkOjpfPepivsdHcPUbo4GQpzdT%2BhU01%2FayWS%2B4eb%2Fq1eI0h7Jcut5IAJRp6wj1R5MVV5yE678EF3yJ7lezkA1c88SeO7N6%2FxU3lVhRJ659q7IxRP9izA="&sign_type="RSA"', 'system_order': 'RM20210519182103208677696918734t'}, 'payReqId': 'RM20210519182103208677696918734t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:21:03,917-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 18:21:03,957-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '3qIy54B2DTj8SnFZxGEJiQKfmdlOwRN7', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '224.1.61.161', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:21:04,179-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:21:04,179-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 18:21:04,180-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': '3qIy54B2DTj8SnFZxGEJiQKfmdlOwRN7', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '224.1.61.161', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:21:04,180-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 18:21:04,180-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=failed
2021-05-19 18:21:04,240-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'kLCrv7bAga6fnuI2HwVi9PcFxsz31MU5', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:21:04,251-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:21:04,252-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:21:04,252-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'kLCrv7bAga6fnuI2HwVi9PcFxsz31MU5', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:21:04,252-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:21:04,252-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:21:04,294-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'DbI7C0BesqUFRmT3yK8AkiNJpQ4P9Lh2', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:21:04,309-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:21:04,309-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:21:04,310-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'DbI7C0BesqUFRmT3yK8AkiNJpQ4P9Lh2', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:21:04,310-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:21:04,310-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 18:21:04,349-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '8iE76LrUjIZ2gxNhFoadBTfsmt3pXD5e', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:21:04,358-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:21:04,358-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:21:04,359-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': '8iE76LrUjIZ2gxNhFoadBTfsmt3pXD5e', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:21:04,359-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:21:04,359-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 18:21:04,401-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'GKorctBVa0MNwhgb37RxqEi4LYTlOWDj', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '130.55.24.149', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:21:04,428-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:21:04,428-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:21:04,429-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'GKorctBVa0MNwhgb37RxqEi4LYTlOWDj', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '130.55.24.149', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:21:04,429-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:21:04,429-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 18:22:58,344-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 18:22:58,653-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 18:22:58,733-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:22:58,733-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 18:22:58,733-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:22:58,998-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:22:58,999-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 18:22:58,999-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:22:59,039-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 18:22:59,040-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 18:22:59,048-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:22:59,808-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:22:59,809-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:22:59,809-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:22:59,809-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:22:59,809-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:22:59,809-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:22:59,809-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 18:22:59,809-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,032-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:23:00,032-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,032-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,032-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:23:00,032-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,033-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,259-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:23:00,259-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,259-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643397', 'amount': 1, 'price': 0.01}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,259-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643398', 'amount': 1, 'price': 0.01}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,260-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,260-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643399', 'amount': 1, 'price': 0.01}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,260-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643396', 'amount': 1, 'price': 0.01}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,260-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:23:00,260-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,260-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,260-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,260-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,261-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,261-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:23:00,269-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:23:00,307-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Ib6wW5vNx0CZoL2JqBpzGhcSUieORA7y', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:23:00,353-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519182300208677696933475t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22gI3d0KyzWXmtuM664Qj0bzFgJUwbLCignUpf4skF89mz91lL4E7Ob1cU3g3vk6vRIUsvta%252FixBuO6Bjg9C0lqAU5%252BgiLcOM0FX35%252Fkym8FAi4iaKENW8Bf38Q1B9x7X75LaDrOWgbNC28Ej23qd%252F%252FWNFv093JokXYUHQLk4ooac%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519182300208677696933475t\"}","payReqId":"RM20210519182300208677696933475t","status":"AUTH_NEEDED"}
2021-05-19 18:23:00,354-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519182300208677696933475t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="gI3d0KyzWXmtuM664Qj0bzFgJUwbLCignUpf4skF89mz91lL4E7Ob1cU3g3vk6vRIUsvta%2FixBuO6Bjg9C0lqAU5%2BgiLcOM0FX35%2Fkym8FAi4iaKENW8Bf38Q1B9x7X75LaDrOWgbNC28Ej23qd%2F%2FWNFv093JokXYUHQLk4ooac="&sign_type="RSA"', 'system_order': 'RM20210519182300208677696933475t'}, 'payReqId': 'RM20210519182300208677696933475t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:23:00,354-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'Ib6wW5vNx0CZoL2JqBpzGhcSUieORA7y', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:23:00,354-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519182300208677696933475t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="gI3d0KyzWXmtuM664Qj0bzFgJUwbLCignUpf4skF89mz91lL4E7Ob1cU3g3vk6vRIUsvta%2FixBuO6Bjg9C0lqAU5%2BgiLcOM0FX35%2Fkym8FAi4iaKENW8Bf38Q1B9x7X75LaDrOWgbNC28Ej23qd%2F%2FWNFv093JokXYUHQLk4ooac="&sign_type="RSA"', 'system_order': 'RM20210519182300208677696933475t'}, 'payReqId': 'RM20210519182300208677696933475t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:23:00,355-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 18:23:00,389-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'lhRKUByNHe8kaWMs9TSApiYOIotnFLwu', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '10.238.40.250', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:23:00,708-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191823006404738a42abfc6088b1f80000&package=3777714408","payReqId":"RM20210519182300208677696935253t","status":"AUTH_NEEDED"}
2021-05-19 18:23:00,708-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191823006404738a42abfc6088b1f80000&package=3777714408', 'payReqId': 'RM20210519182300208677696935253t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:23:00,710-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 18:23:00,717-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 18:23:00,718-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[6047282185694771915849446396]]></transaction_id>
<nonce_str><![CDATA[H2oOjdWSFUMyqv1t6DxhTNA9KJcZR4gP]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[A5BF8A3A4956D34A96F2117790EAAD45]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519182300208677696935253t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519182300]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 18:23:03,065-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 18:23:03,065-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 18:23:03,080-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:23:03,081-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:23:03,081-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "09574330101555"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "kg6QqJ745eObduUpSlAMLfEz8hDtyroG"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:23:03,189-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "522743c1ebe9443ab5bb528192cbfdf1"
s_p: "ZjNNTHU4Skw5YmllamdmY1dXTkhJTkliNGRZaTVpT0Q4ajNqeGs4MWNBZUk3Y2l4NWFPY3ZaVjh5QUE3elc3cUlSYUFBS2JibjBDUXNWejBnalhoSWpKcTJZcUlMNUJjNzFJT3FkTUNiNkdpVk9mTk5vbW5OUlZ5UEtrWXlnbDR4Uk1DRUVMZkl3MXJIMTR2MmZYdGlXaGJ3Vmo3cXFhdnhhUGNhSjhHaE1wWEJrZFlTeXh2elRBSTFsZEFxenI4dFBkR2JkaHFldUd0U0locHgxcUdKQ0xhNU1PSlpib1lqTzdPcUVJbTJLT1JTR1kyM1g0eGFYUXl4QmNDNFJoQW5qMmxEQU9qMGM2aU9pWks2RHNXMU5rdTlKQ0NDajdCQk9NMEh6d1RjUnMwWnFIbGl4NDVkWHFFWDJMdHhZaUk1MjViZWJJeUVsOFhVQU5VYTFNOEROcGx0UW55aU5PbXhnQWVUb2ZIOUczMU9jMUVvMnVYTlRkdmQ3ZWhreTM1ZVN1bFl2bjhlM1BmYkdJV0VtSENzNkpxMkNFYUdJSmFrS0EwWHRmRHZHeXdBbnJEV3ZkTjJER0pXVTlkdG5TN1JSVGsxZTJJeHZaYXlJa1VvSUc5TFhnQUo1UmU1VGN5SW9JRVVLNkRMQ0NyS2xRZ3U0TmZNb0xTWG4xWnhURktoeHk4aEZNcmZiZm9kV1NLWTE2VktxSWdOTlV5R3U3enprUkJVZmhza0NmU1R1c1JaWlhZRDBEYmRwa0JsN2doeXhkcjZjV0tTM283bGtOZFFiVjYwcmVLOHRwRmRPS3pJcDVKTUoyU1FIQVZuUlM1cVI4b2djaktOeUZxOERGeVBwVGhvakRIbHBSOGRWdFZEcWFjQWhjbzZyTTFET1BOMjU0NkpNVE9LbWkzRE90a09iY2ROU1BaaEtqbTZWTXI1SFlJNHFEcHJ6dG1qVDdhdFphOVc4bVlwSGh1ZDZHQlRRMVJlV0E3UlZJbGkzWmltYkN5RmhmYWtsT0RVU3NvY2VDM3V4bHpVMkM1T0FjaWJXbGlyNmVJbTFrUU41NXY="
m_p: "HE455iIV2m3i4og9Wk9r7z50i5O19Q0TC281C01iL3xevplNkMeiElv88g4ADXMH"
e_t: "1621527783180"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:23:03,189-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:23:03,189-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:23:03,190-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "522743c1ebe9443ab5bb528192cbfdf1"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "yAA7zW7q"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519182300208677696935253t"
version: "265"
queryType: "PAY"

2021-05-19 18:23:03,247-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 18:23:03,249-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519182300208677696935253t"
2021-05-19 18:23:03,261-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5336, 'pay_req_id': 'RM20210519182300208677696935253t', 'notify_id': '6047282185694771915849446396', 'partner_order': 'lhRKUByNHe8kaWMs9TSApiYOIotnFLwu', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '10.238.40.250', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 18, 23, 3), 'success_time': datetime.datetime(2021, 5, 19, 18, 23), 'modify_time': datetime.datetime(2021, 5, 19, 18, 23, 3), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 18:23:03,261-INFO-FizAssert-31-订单详情：{'id': 5336, 'pay_req_id': 'RM20210519182300208677696935253t', 'notify_id': '6047282185694771915849446396', 'partner_order': 'lhRKUByNHe8kaWMs9TSApiYOIotnFLwu', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '10.238.40.250', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 18, 23, 3), 'success_time': datetime.datetime(2021, 5, 19, 18, 23), 'modify_time': datetime.datetime(2021, 5, 19, 18, 23, 3), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 18:23:03,261-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 18:23:03,262-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': 'lhRKUByNHe8kaWMs9TSApiYOIotnFLwu', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '10.238.40.250', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:23:03,262-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx191823006404738a42abfc6088b1f80000&package=3777714408', 'payReqId': 'RM20210519182300208677696935253t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:23:03,262-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=passed
2021-05-19 18:23:03,305-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'QsTnGBaxbHEP9RSr5Iv08dCzhO3mYAiX', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:23:03,319-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:03,319-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:23:03,319-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'QsTnGBaxbHEP9RSr5Iv08dCzhO3mYAiX', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:23:03,320-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:23:03,320-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:23:03,357-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Hd0r7e3hXyoQVp6mBTu9FfRWwJ4ZYclz', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:23:03,368-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:03,368-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:23:03,368-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'Hd0r7e3hXyoQVp6mBTu9FfRWwJ4ZYclz', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:23:03,369-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:23:03,369-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 18:23:03,400-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'pAMhH9Ntm42QyGUxeoDWzIBsFd5v6b7K', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:23:03,412-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:03,413-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:23:03,413-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'pAMhH9Ntm42QyGUxeoDWzIBsFd5v6b7K', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:23:03,413-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:23:03,413-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 18:23:03,451-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'WMrwFjbekEDOHcK5nJ4sCLSfp2aIvx6U', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '144.65.216.86', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:23:03,471-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:03,471-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:03,478-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'WMrwFjbekEDOHcK5nJ4sCLSfp2aIvx6U', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '144.65.216.86', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:23:03,478-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:03,478-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 18:23:04,760-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 18:23:04,775-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:04,776-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:23:04,776-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 18:23:04,776-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:23:04,777-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 18:23:04,823-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '82.97.44.106', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 18:23:04,832-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:04,832-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:23:04,833-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '82.97.44.106', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 18:23:04,850-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:23:04,862-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 18:23:04,901-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:23:04,915-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:04,915-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:23:04,915-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:23:04,916-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:23:04,916-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:23:04,960-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:23:04,972-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:04,972-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:23:04,972-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:23:04,972-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:23:04,973-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 18:23:06,054-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 18:23:06,054-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 18:23:06,075-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 18:23:06,135-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.59,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:23:06,135-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:23:06,135-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.59, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:23:06,136-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 18:23:06,137-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 18:23:06,138-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '5456925'
2021-05-19 18:23:06,145-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 18:23:06,145-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 18:23:06,145-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 18:23:06,146-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 5.88, 'appId': '5456925', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 18:23:06', 'ext1': '', 'ext2': '', 'maxAmount': 95.25, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191823069936393205966797212470699087', 'ratio': 0.58, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': 'C4CA0372755662B0B24DFE1EB83D90D9', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 2, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 18:23:06,211-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 18:23:06,211-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643400', '62643401', '62643402', '62643403'], 'batchId': ''}
2021-05-19 18:23:06,212-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643400', '62643401', '62643402', '62643403']
2021-05-19 18:23:06,268-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 18:23:06,268-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 18:23:06,284-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643400')
2021-05-19 18:23:06,302-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:23:06","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.950.05","useableEndTime":"2022-05-19 18:23:06","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.95,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.05,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191823069936393205966797212470699087","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643400","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:23:06,302-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:23:06,302-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:23:06', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.950.05', 'useableEndTime': '2022-05-19 18:23:06', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.95, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.05, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191823069936393205966797212470699087', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643400', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:23:06,302-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[G6]={'vouId': '62643400', 'amount': 1, 'price': None}
2021-05-19 18:23:06,306-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643401')
2021-05-19 18:23:06,322-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:23:06","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.950.05","useableEndTime":"2022-05-19 18:23:06","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.95,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.05,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191823069936393205966797212470699087","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643401","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:23:06,323-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:23:06,323-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:23:06', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.950.05', 'useableEndTime': '2022-05-19 18:23:06', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.95, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.05, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191823069936393205966797212470699087', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643401', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:23:06,323-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643401', 'amount': 1, 'price': None}
2021-05-19 18:23:06,326-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643403')
2021-05-19 18:23:06,339-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:23:06","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.950.05","useableEndTime":"2022-05-19 18:23:06","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.95,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.05,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191823069936393205966797212470699087","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643403","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:23:06,339-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:23:06,339-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:23:06', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.950.05', 'useableEndTime': '2022-05-19 18:23:06', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.95, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.05, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191823069936393205966797212470699087', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643403', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:23:06,339-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[G6]={'vouId': '62643403', 'amount': 1, 'price': None}
2021-05-19 18:23:06,349-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643402')
2021-05-19 18:23:06,366-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:23:06","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.950.05","useableEndTime":"2022-05-19 18:23:06","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.95,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.05,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191823069936393205966797212470699087","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643402","settleType":"1","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:23:06,366-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:23:06,366-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:23:06', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.950.05', 'useableEndTime': '2022-05-19 18:23:06', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.95, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.05, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191823069936393205966797212470699087', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643402', 'settleType': '1', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:23:06,366-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[G6]={'vouId': '62643402', 'amount': 1, 'price': None}
2021-05-19 18:23:06,392-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'IhSFpLdsKteTG80mVzv4B6PxDMqArkiY', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:23:06,418-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:23:06,418-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:23:06,418-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[I6]={'partnerOrder': 'IhSFpLdsKteTG80mVzv4B6PxDMqArkiY', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:23:06,419-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:23:06,419-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[M6]=failed
2021-05-19 18:23:06,453-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'cCFUpyom1uHviMwkVEjDg9tl608TP3hG', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643400', 'amount': 1, 'price': None}", 'voucherId': '62643400', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:23:06,469-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:06,470-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:06,470-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[I6]={'partnerOrder': 'cCFUpyom1uHviMwkVEjDg9tl608TP3hG', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643400', 'amount': 1, 'price': None}", 'voucherId': '62643400', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:23:06,471-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:06,471-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[M6]=failed
2021-05-19 18:23:06,506-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'wWVved51GDfXx76lKo0sCyMSrqFgIYPR', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643401', 'amount': 1, 'price': None}", 'voucherId': '62643401', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '149.204.98.68', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:23:06,524-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:06,524-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:06,524-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'wWVved51GDfXx76lKo0sCyMSrqFgIYPR', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643401', 'amount': 1, 'price': None}", 'voucherId': '62643401', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '149.204.98.68', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:23:06,524-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:06,525-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 18:23:07,083-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'tWI6PJZlTvYb5akjrfpg4oc81RKFE7sM', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:23:07,108-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519182307208677696960147t","status":"ACCEPTED"}
2021-05-19 18:23:07,108-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519182307208677696960147t', 'status': 'ACCEPTED'}
2021-05-19 18:23:07,122-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:23:07,123-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:23:07,123-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "38518026798717"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "wIuyaFTElS1CzbAJLB62vdPMrZqGNfXm"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:23:07,176-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "503e5a106ced40cdb9b06eac6fac1f5a"
s_p: "U0ZXanhMRzNTM1Vwb3JPUjVlcEE0WnR1N25VeFZPdzFsTmEzd3lkeHAyVmtvVnJveE5CbmM4V2VrOWpvRFcyRnhhNTVRak9hZ3dVYUJOM0hSc2NER0RqMVoycGpITE1NeUR2Ym4zU0tid1J2NXE5dmtUMDBnRzd4V0lVV292R0NHa2ViaHZMaHFQWG5xdnJRZk11YmRZRXNob3pGMEhUbFVqVEtSTVRZRTdoUVJsakh6YkdhemJvU0NxWGJiQnlVODdJaHZySFRoMXoxNmY0aDlHSXpOYzIydkprZVA2ZFdWZXZQMUhTS2toeHFxallRMk96UFpFUFNEMW1pT2ZYc2M4RmVTQ0dBY0ZYZVRFNDFERG4yeVBpY3hvVWVZYUdsc0hwc2tMRHVhNHNqenZEMTJmSFlvZXBSWWpNMDlTb0ZGMVY1NEpZZ1lJYzdrOUxVT0RFWHhka2FEQW93dGN6UVhtSkdNOE1SSVFQNU1Oalp0dE15eGs5dkpKdmh5RG5KVEc4Tm14RzQ5Wko3VkxabDQwMTJSYnM5TXdNZmNtb21Bd0lDV0ttWW1YQ3pRaTZucGY1OHFjYmxqUHhBSm9BRmphMjJJOUFrcUVZajNiVnhINGJhM29MeTFJYXpWd2RZWDhoTnFlWDYwZDc0Vjk4UHlCaHpQaEdQZnpTZ0t5MWg4ZDlWR3RtSXFVODhZZE5SeEJkU01rTHlySjl6cnQzeVFDTVdPMVl0VTd3ck92bENhVVRYNHdubFlnZDBzSVJ6ZVBHRldXVk14Z29xbWs5dTZhMVFMV3VYaVVCRVlyeVBsaFdNaHZUb01IelBvSFpmZUZSTDA5TUw4aXlXVFI1YnFhc1J6eFdHbUdta0hKaWdKWFdPTXR1Mlh6eU5RSzhxNUphZjVabEVkZFR1bVYySVM2aXlkbG5YV1B4dmRDSHBSTXVvbFNSYTI1QjVyZUxTNkFSRWVxbDhNbHVFdUcxcVRNV1ZTOFZaNHlNSGZQWnRPQXNtTlBqV05CQjZEUDUzS1d1a2tTMk4wb0NyTk95ZjZtMklJVnVRS05IYXlMTjI="
m_p: "hZnM5YjLpj9VHy24S3Yr8y50e8NyqqlUheiT5U2K3D7TTBOwxFoD7gWTt7U59D2u"
e_t: "1621527787173"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:23:07,177-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:23:07,177-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:23:07,177-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "503e5a106ced40cdb9b06eac6fac1f5a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "OagwUaBN"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519182307208677696960147t"
version: "265"
queryType: "PAY"

2021-05-19 18:23:07,250-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:23:08,265-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:23:08,265-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:23:08,265-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "32048879896214"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "MPV4wycRJ20fUGKQzNZEdHehkaSuLspx"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:23:08,329-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0ce2fa87b6e5418db407d44a1067fa1d"
s_p: "VTlLT0pQVDllazd4STk5dmtZMTU4UnhjOVBLS0I2TjVPdlVZTVYxbXZ1WmZYS1VqclQ3WFc2OXlGYW5JVFZDUkRvT3VvR05IYWRkaWd5RWNFUjJXbGdKR0kweXNScVNRZUJ4OEJRY1B0eE5wY3lMZmN0U2tUc2JQRUFoU1piVnZEdzYzNXRLOUdvckx5SWpybGZ4bmVkMWlKMGN6bUZqZTh3ZTU4dmp3TmpHMm1Zc09UOGtYTnVTSVNjcXhCeHloNmZVSjVNYktHZ1JobEdxOXdyMUdMRW9rb2RudEtPOHhDNjJUTkZWZXhSbHdWTzU5MWtPbU9NWXo4Nmp1RkNYMllzRFU2S21mSXpRMXNiMzdQV3lRaVplTHdXc3dlSmxmWERGckc5c3BkdHhzak9LaXBNb2FqV3czMlZvUGk3MmlFNjMwa2J4WmRLR3ZZakVJQ0RlZzB6R2lENVVxZ1YySnZFaFJ6cVJYb09OQzQwRUN1ckVES09VeWtjS0h5eW54S09tTngyV2Rub240Q0JzZm9SMVZKcmxlYVBnQ0M5RWtPM2pvaUdkT3pWaWRHZ2xDWVN4aGpxaFk1TVRwTGV6WnV0WFNyS2xCUzdBWElpTmt2NFF6UFRoMTMyZU9FTGhBUWN0emFZU3MyTDJ0Y2ZwZUdPeEQ4TVR6cnRnRkhpSm9YNVFidG5yVmdDM2VQSlJBYmJZYnk0ZkNsbzE2U0JER3Bybm9WSkc2cExrYWp2NU53VmdBRERvbm9jc2F2bEE4SlI1Z0RxYWVqUVlhZWZ2Q0dWdE9sWGFDbDFQMUI5VmhhMDE0SHZ4czNSaUtPUXNXWVkwRzVoa3M0NDhuZldzRVVJdzhKbWs4S0pYWTUyRGFSRzdDT25MNUttMFg1QTlBc1ZCR2VOOUFTeVpCOVRLYUY0Skd3OTVOWFdUR2pGQzhhU1UwS2J3ZVpLMXpycnBCSWZuM3ZHeDdjcUowRkR2ckNmVXVHcTM3Q3RwdjU2UjQ3b2lIVTRXZnhieHNHZlNkaEVYVnU2a1lLZklJWnQ1eUZmUHdnVDRtN1NLRWxjZFA="
m_p: "dSl9Lxs631DZ9p1c377S82kYQVlqiky1G774FN7QDLI8NeQUOa2l5ie2y2P122Oz"
e_t: "1621527788321"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:23:08,329-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:23:08,329-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:23:08,330-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "0ce2fa87b6e5418db407d44a1067fa1d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "txNpcyLf"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519182307208677696960147t"
version: "265"
queryType: "PAY"

2021-05-19 18:23:08,396-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:23:09,410-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:23:09,427-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:23:09,427-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "72910260738168"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "EtF19vwjI7MrJygNoesaSnxT03258mci"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:23:09,483-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ec9d628a76f84e799bfcfa92d960e108"
s_p: "Vk1Ya0UyMEtWYXpsRUxPUW1RZk1UTFl0czZyZUY4cG5rT29vcEdEV0FaWUtSNzY3bm9GV25PSVdOMUtPMVRmMXhhazJXTEhLTjhvbDlVUzdZZmQzM2FSMlhNRzZ5aW5IRmF3cmMyaTM5bWdXbnVTNzhkdmwwdlZYQ01MbVVpQWh5OE9WUmxDbkNxMjlYU0t1dTV3SWtFbUtoSDJrZzBUV2xTMDNUY1RkT0JtQlp4QlB5cXpnVVcyeU81bWtHS2JLaXJvbmo5TFpyZ09ERWJqdlpXRXRGZTVSNkpnN0xhOEl6RHh4bmd1STlxOFQ2VU05dmJBOUd6dGZYS1lJb0xWbnFZR1Q4RlI0aGE1OG9VUnNKakljSXdzZnVvMjdUQXZ4MGEyRUtqSjJwa0IxOHhqOFpabDJHbWFGT3Z1Skpwc1pUTzdDSURyaHRGUXlKbmwzTWtIUXpxNWJUV2JTVTBqVjR2VGcxYklNQnRmRTRick9uU0dyZEdwb0xpQjFuS0RBUGJVeWpWb3UxVUU5TDRhVldSMmhFenNLelRDY2NBQUZRUDRPUk9WWWhwdXo3c1pUVHN5QmNJYXVRUlJJbGMzQjhQS0x5UG5kdVZKZGp0SU9OM25XNmQ0OGF4MG56dm5iT2JkcEZ2eUFjcXB2RVlPVG9Fc1kyQVYxUWZEOVFxSXhVcXNUUkc1cVhXbDhCTUdxZUV0aTVveHhtUmMwRVRWdmpNSkJMUTlvTjBMQW9Zdm9yY2JVRUNqMVQ4bWllajVPYUNTWUNJNGZjT2hKMmFoZzM2SndHcDVZWktvcm4wczhObkRxV3RoMzF1aHhYUWlMdUl2eVVQa3BYWGI3aGtqM2ZIM3A2MXFoYTUxT2ZOTldMRHhTRDhoRHNmYnkwRDFpRTBqZnJlRzlCWThsa2llQ3VZemU5REhyVW9OdU1YVW5Sb1dlMVhrVU9ORFVxUHZDUnIxS1JoNms1bzJsY0VCRDRPeXFEUnI4ZkV6cTRuTXZ5cWFJNFVwbHlhb1k3eGRXSlFQSmRCVzY1MjdwU1dDd2J1aHdBYzM3N1UxbG43QkM="
m_p: "7u7ipp6i95cr5E2Rov6BYmgk9tJ0bc2vsWqSDYf1xJ15x29nE854s8ZNf86EZ65u"
e_t: "1621527789480"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:23:09,484-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:23:09,484-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:23:09,484-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "ec9d628a76f84e799bfcfa92d960e108"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "CnCq29XS"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519182307208677696960147t"
version: "265"
queryType: "PAY"

2021-05-19 18:23:09,541-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:23:10,542-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[I6]={'partnerOrder': 'tWI6PJZlTvYb5akjrfpg4oc81RKFE7sM', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:23:10,542-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[J6]={'payReqId': 'KB20210519182307208677696960147t', 'status': 'ACCEPTED'}
2021-05-19 18:23:10,543-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[M6]=passed
2021-05-19 18:23:10,589-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'V9qQbk3RlaUCyeYANDpGHBmwFtxEroz6', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643403', 'amount': 1, 'price': None}", 'voucherId': '62643403', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:23:10,605-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:10,606-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:10,606-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[I6]={'partnerOrder': 'V9qQbk3RlaUCyeYANDpGHBmwFtxEroz6', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643403', 'amount': 1, 'price': None}", 'voucherId': '62643403', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:23:10,606-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:10,606-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[M6]=failed
2021-05-19 18:23:10,646-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'zNVaIn6vAcXRfZMqjDTx4rYKhBkiPsWG', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643402', 'amount': 1, 'price': None}", 'voucherId': '62643402', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:23:10,661-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:10,661-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:10,662-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[I6]={'partnerOrder': 'zNVaIn6vAcXRfZMqjDTx4rYKhBkiPsWG', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643402', 'amount': 1, 'price': None}", 'voucherId': '62643402', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:23:10,662-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:10,663-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[M6]=failed
2021-05-19 18:23:10,706-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'B5skn7Vg8LFTIa91rQ4tANHl0q6oR3Gp', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:23:10,716-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:10,716-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:23:10,717-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'B5skn7Vg8LFTIa91rQ4tANHl0q6oR3Gp', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:23:10,717-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:23:10,717-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 18:23:10,753-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'n5YTpy9eEbJ7hkXHDP6Q0uaAwSK32dvL', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:23:10,790-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:10,790-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:23:10,791-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'n5YTpy9eEbJ7hkXHDP6Q0uaAwSK32dvL', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:23:10,791-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:23:10,791-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 18:23:10,828-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'AubdDWqHmCRKcBw0yxf4jXYhMnokvS56', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:23:10,847-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:10,847-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:10,847-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': 'AubdDWqHmCRKcBw0yxf4jXYhMnokvS56', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:23:10,848-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:10,848-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 18:23:10,880-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'DEayxp6bRj79VMzCrGYOBFsNA3XmWQJ0', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '137.205.236.160', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:23:10,897-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:10,897-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:10,898-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'DEayxp6bRj79VMzCrGYOBFsNA3XmWQJ0', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '137.205.236.160', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:23:10,898-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:10,898-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 18:23:10,940-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'GhbFtQZ580ASUrOE4MKW7TelkzqyDNIo', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:23:10,956-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:10,957-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:10,957-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'GhbFtQZ580ASUrOE4MKW7TelkzqyDNIo', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:23:10,957-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:10,958-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 18:23:10,991-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'eYpLCJ0I3EwNvDuZrtQaR6z9KxsOGjq8', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '171.81.42.176', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:23:11,009-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:23:11,010-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:11,010-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'eYpLCJ0I3EwNvDuZrtQaR6z9KxsOGjq8', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '171.81.42.176', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:23:11,011-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:23:11,011-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 18:25:59,223-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 18:25:59,527-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 18:25:59,612-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:25:59,612-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 18:25:59,612-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:25:59,852-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:25:59,852-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 18:25:59,852-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:25:59,911-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 18:25:59,912-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 18:25:59,921-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:26:00,724-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:26:00,725-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:26:00,725-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:26:00,725-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:26:00,725-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:26:00,725-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:26:00,725-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 18:26:00,725-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 18:26:00,956-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:26:00,956-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:26:00,956-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:26:00,956-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:26:00,956-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:26:00,956-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:26:01,222-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:26:01,222-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:26:01,222-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643400', 'amount': 1, 'price': None}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:26:01,222-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643401', 'amount': 1, 'price': None}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:26:01,223-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:26:01,223-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643403', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:26:01,223-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643402', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:26:01,223-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:26:01,223-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:26:01,223-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:26:01,223-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:26:01,223-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:26:01,224-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:26:01,224-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:26:01,232-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:26:01,277-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'pnudo4zkhXxGTavs57C3eZQUSHVFfINW', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:26:01,311-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519182601208677696981622t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22cgDxzlgdJhKQffWEDEpcXdYtKJgwDk8jFVtcqZarbdLECUN99C3RpzHaxRt2ZVtGJV3G53OjPeU9KvPGJggLieRZtdEeJw3zEdIX2xJUvEhDcJyQiI6%252B06kV9RzrXTH9eZEHx1kiqoUEFzgy4xWeRwxDGK5Qbo3fQQeJ6w3vxT0%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519182601208677696981622t\"}","payReqId":"RM20210519182601208677696981622t","status":"AUTH_NEEDED"}
2021-05-19 18:26:01,312-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519182601208677696981622t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="cgDxzlgdJhKQffWEDEpcXdYtKJgwDk8jFVtcqZarbdLECUN99C3RpzHaxRt2ZVtGJV3G53OjPeU9KvPGJggLieRZtdEeJw3zEdIX2xJUvEhDcJyQiI6%2B06kV9RzrXTH9eZEHx1kiqoUEFzgy4xWeRwxDGK5Qbo3fQQeJ6w3vxT0="&sign_type="RSA"', 'system_order': 'RM20210519182601208677696981622t'}, 'payReqId': 'RM20210519182601208677696981622t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:26:01,312-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'pnudo4zkhXxGTavs57C3eZQUSHVFfINW', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:26:01,313-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519182601208677696981622t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="cgDxzlgdJhKQffWEDEpcXdYtKJgwDk8jFVtcqZarbdLECUN99C3RpzHaxRt2ZVtGJV3G53OjPeU9KvPGJggLieRZtdEeJw3zEdIX2xJUvEhDcJyQiI6%2B06kV9RzrXTH9eZEHx1kiqoUEFzgy4xWeRwxDGK5Qbo3fQQeJ6w3vxT0="&sign_type="RSA"', 'system_order': 'RM20210519182601208677696981622t'}, 'payReqId': 'RM20210519182601208677696981622t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:26:01,313-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 18:26:01,358-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'pwb8t95okMvYWixzf4SZDI730aGeKXur', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '246.235.13.50', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:26:01,602-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:26:01,603-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 18:26:01,603-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': 'pwb8t95okMvYWixzf4SZDI730aGeKXur', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '246.235.13.50', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:26:01,603-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 18:26:01,604-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=failed
2021-05-19 18:26:01,643-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'rUymR7s0JzFGHa4i69gPIShKDtBVlEfd', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:26:01,654-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:01,654-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:26:01,654-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'rUymR7s0JzFGHa4i69gPIShKDtBVlEfd', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:26:01,655-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:26:01,655-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:26:01,699-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'vSOhP8ygKArx0URfoitGQVIm9n6zDjl4', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:26:01,706-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:01,707-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:26:01,707-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'vSOhP8ygKArx0URfoitGQVIm9n6zDjl4', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:26:01,707-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:26:01,708-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 18:26:01,748-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'j7lFdhRy8WSkPfAKHm392p4QIDBuZYsX', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:26:01,761-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:01,761-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:26:01,761-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'j7lFdhRy8WSkPfAKHm392p4QIDBuZYsX', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:26:01,762-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:26:01,762-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 18:26:01,806-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '9hg5nqBAxD6lyeUFYjPC2kOSs40ToXpu', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '242.41.224.99', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:26:01,828-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:01,828-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:01,828-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': '9hg5nqBAxD6lyeUFYjPC2kOSs40ToXpu', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '242.41.224.99', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:26:01,829-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:01,829-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 18:26:02,941-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 18:26:02,951-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:02,951-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:26:02,951-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 18:26:02,952-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:26:02,952-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 18:26:02,986-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '157.195.147.199', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 18:26:02,993-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:02,993-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:26:02,993-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '157.195.147.199', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 18:26:02,994-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:26:02,994-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 18:26:03,036-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:26:03,055-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:03,056-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:26:03,056-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:26:03,056-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:26:03,057-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:26:03,527-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:26:03,546-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:03,546-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:26:03,546-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:26:03,547-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:26:03,547-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 18:26:04,634-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 18:26:04,634-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 18:26:04,656-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 18:26:04,696-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.59,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:26:04,696-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:26:04,696-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.59, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:26:04,696-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 18:26:04,698-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 18:26:04,700-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '2031'
2021-05-19 18:26:04,710-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 18:26:04,710-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 18:26:04,712-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 18:26:04,712-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 853.05, 'appId': '2031', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 18:26:04', 'ext1': '', 'ext2': '', 'maxAmount': 876.38, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191826044175227897959364649120898377', 'ratio': 0.29, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 1, 'sign': 'A05A9966FD7724B88497EAAA2825DC81', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 5, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 18:26:04,856-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 18:26:04,856-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643404', '62643405', '62643406', '62643407'], 'batchId': ''}
2021-05-19 18:26:04,857-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643404', '62643405', '62643406', '62643407']
2021-05-19 18:26:04,907-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 18:26:04,908-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 18:26:04,920-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643406')
2021-05-19 18:26:04,931-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:26:05","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":8.76,"source":null,"couponDescribe":"0.29","useableEndTime":"2022-05-19 18:26:04","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":8.53,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191826044175227897959364649120898377","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643406","settleType":"1","status":"NORMAL","ratio":0.29},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:26:04,931-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:26:04,932-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:26:05', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 8.76, 'source': None, 'couponDescribe': '0.29', 'useableEndTime': '2022-05-19 18:26:04', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 8.53, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191826044175227897959364649120898377', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643406', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.29}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:26:04,932-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[G6]={'vouId': '62643406', 'amount': 1, 'price': 8.76}
2021-05-19 18:26:04,946-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643405')
2021-05-19 18:26:04,956-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:26:05","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":8.76,"source":null,"couponDescribe":"0.29","useableEndTime":"2022-05-19 18:26:04","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":8.53,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191826044175227897959364649120898377","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643405","settleType":"1","status":"NORMAL","ratio":0.29},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:26:04,956-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:26:04,956-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:26:05', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 8.76, 'source': None, 'couponDescribe': '0.29', 'useableEndTime': '2022-05-19 18:26:04', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 8.53, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191826044175227897959364649120898377', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643405', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.29}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:26:04,956-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643405', 'amount': 1, 'price': 8.76}
2021-05-19 18:26:04,964-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643404')
2021-05-19 18:26:04,976-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:26:05","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":8.76,"source":null,"couponDescribe":"0.29","useableEndTime":"2022-05-19 18:26:04","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":8.53,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191826044175227897959364649120898377","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643404","settleType":"1","status":"NORMAL","ratio":0.29},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:26:04,977-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:26:04,977-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:26:05', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 8.76, 'source': None, 'couponDescribe': '0.29', 'useableEndTime': '2022-05-19 18:26:04', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 8.53, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191826044175227897959364649120898377', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643404', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.29}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:26:04,977-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[G6]={'vouId': '62643404', 'amount': 1, 'price': 8.76}
2021-05-19 18:26:04,990-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643407')
2021-05-19 18:26:05,004-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:26:05","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":8.76,"source":null,"couponDescribe":"0.29","useableEndTime":"2022-05-19 18:26:04","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":8.53,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"2031","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191826044175227897959364649120898377","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643407","settleType":"1","status":"NORMAL","ratio":0.29},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:26:05,004-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:26:05,004-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:26:05', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 8.76, 'source': None, 'couponDescribe': '0.29', 'useableEndTime': '2022-05-19 18:26:04', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 8.53, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '2031', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191826044175227897959364649120898377', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643407', 'settleType': '1', 'status': 'NORMAL', 'ratio': 0.29}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:26:05,004-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[G6]={'vouId': '62643407', 'amount': 1, 'price': 8.76}
2021-05-19 18:26:05,052-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'fRiLKChX2UzNHstDQlbPSmpuEB6arZW0', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:26:05,084-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:26:05,084-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:26:05,084-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[I6]={'partnerOrder': 'fRiLKChX2UzNHstDQlbPSmpuEB6arZW0', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:26:05,085-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:26:05,085-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[M6]=failed
2021-05-19 18:26:05,120-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'TCYrAkfuOBVLjwamZ2d4R5nSJebUhz0g', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643406', 'amount': 1, 'price': 8.76}", 'voucherId': '62643406', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:26:05,136-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:05,136-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:05,137-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[I6]={'partnerOrder': 'TCYrAkfuOBVLjwamZ2d4R5nSJebUhz0g', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643406', 'amount': 1, 'price': 8.76}", 'voucherId': '62643406', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:26:05,137-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:05,137-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[M6]=failed
2021-05-19 18:26:05,181-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'e1ZVRbUty9PXndOpwLEFJBcDAs64a7hC', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643405', 'amount': 1, 'price': 8.76}", 'voucherId': '62643405', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '28.218.99.223', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:26:05,202-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:05,203-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:05,203-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'e1ZVRbUty9PXndOpwLEFJBcDAs64a7hC', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643405', 'amount': 1, 'price': 8.76}", 'voucherId': '62643405', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '28.218.99.223', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:26:05,203-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:05,204-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 18:26:05,250-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'n3axbAP9diCFTOLJBWYucVIrMUZ8SRgQ', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:26:05,271-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519182605208677696908170t","status":"ACCEPTED"}
2021-05-19 18:26:05,271-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519182605208677696908170t', 'status': 'ACCEPTED'}
2021-05-19 18:26:05,286-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:26:05,287-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:26:05,287-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "47564204437317"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "5kzTAe3od8FvyE2ip19bcLDIVqCJnNHh"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:26:05,359-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2f620f17c42a448ca8a0a9f3ff912a47"
s_p: "VHRyVElHQnVwY0p1QlFFRThkQXY5Wno3Y0llT2xySjJEWHNSN3MwMEVka2oxSHNDR0lURjBYSzZaTk1GNmNwYllCVWxLYUg5dWtraEY4Uk14VUtlaDcwTUdHdEZQMXdtQmpmN2JQa2ZLWngwc1RiQVEzbWI4dVlYZml3c2xuWUZWQndmY2FDSkFYa0dJVVhQbHJlaFd5Rk1TVThYWUJKQlRQUFhUbVd1enBmMDRMRkpESTVQMHNiQmdLSXNoMUduSzU1ajBVWk9kcDhLcmhEdVNLanBNblhLbHlYcE9ya0xRVmxhZHdkb2dGMjJsZlgyRDR5OWVsN2huQVRIVFh5NUFGQ0JLNUUzdEt3aEFoQkFoQ0VVVWdqM0hncFltaVhvb0VYZVhDdGZ6ek92UVpYcmw0cDZhN3lQRm41SWxCQlFUNmxIZXVKdmJlOFEzYTRnS0lhckxTSmNjZnJ0WUFhbkpESktGZTZFaXVkN3ZxeVhERTNoU2NTMkFRdUNqOWlsNUtPUnEwRVJ5N0xtQXY2SGRJS1dOTXNDOGNCalVqWU1IVDV4QUJOR1gyN1hvdEZUdUNxRWhWMjNFVk9nSk1sb2ticU5KUFBzU0I3dGJmdFhnTDA5OGs4SlhPamtXSVU5WWFpczRFZWNNckRTbDd2aVl6a3VuYkZUcXJ2M0Rkbkx3VTdTaktiUU1oU0trU3kxNjhVWUVUM2FlNmk3Q0lFTTNscjkzUFVyU0M2VGRwa0l5cEd4Mmx3cVNGRURrdm5mQUdsTk82aWl2bldHNGhMY1o4NWw1dkdpOUNDcHAxS3BHam1kU0hlUEJldDI0R2k2dEpjeEhnZHJLZ0gxSTMxUTZIOGVscXM5bFFKNHJwS0hOaXhxSXdsMTQxdlM2MDFqREszRGxkUlhyN1ltVzhCZHVEbE1DTFg3dURNMDVWcXNYZ09NdFRrdEE3ZUxoeHRCVFVVRlJDd0VuV0wzT3lmOHZBZGQ0TWY2UFdVY3FnSlVRUm85ZmNQQzZlMkhRa1Z5dklzaVhCcTV4d0V4YmwwTWh0c0NhNUtrTjZsdlZhdUg="
m_p: "cbs9T0t22CWc981ROP0dGGgf0K3k71yZQ9inJ6A47Z9gGofu29Mo23O438qxQeo4"
e_t: "1621527965353"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:26:05,359-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:26:05,360-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:26:05,360-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "2f620f17c42a448ca8a0a9f3ff912a47"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "caCJAXkG"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519182605208677696908170t"
version: "265"
queryType: "PAY"

2021-05-19 18:26:06,662-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:26:07,678-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:26:07,678-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:26:07,678-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "59004943154010"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "DX39YrquQxcSW1JoUTFtaNPhpnl4kVKi"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:26:07,733-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "76e7704d5dc34d56858bf3f510b5f4b1"
s_p: "TTBUY05Eb0NiNG9qQ3M5UWRQTEIyQ3JjQVRXRU9CWVZtajRiZTJ6SWdiSFM1bVRFN29CdkZFd24wS0lVRHd6TkZGVmw1Z3VVVm1XNGp0TTRqZ1hRTGRDM0k4MklrTG55b2NtV1dTeDlqNnFuTnppamdXc3V0VXRFT1d5RnpVMDlmcHFLRkptN3lhbWlGT1ZrMU9vbkM3b3JEQXRObldJUnpsa05kQ05qT0lwa2Q1YlRzdFVpTXlhbklyWmxyWjVuZjhyQ3ZRWVFjV0tUSFFHOXlmb1pjeVBHVTI3MlRWM3dqQ01KdmlIVDJiaTdvMFdiMkR4VTByeEhaV2ptcmQycDZDcU9ka2MzZHNnSFZoWW1rU1JSd0JxbUZrdXFmcDZjR2tneVk0VDNJbTlSRUhhcEVQdE8zd3FCM2V1RU0zb3FsYzRVSUFBb2pIVVh2dHRlTHlyQWZXNjluQXk1UHB5MlhRY3Fsd1Z1cmF1eEhVM1FxY3VqcG92bHFUVHlnYXBxcUtwbGd3NnlhV0xYaVpqQ0pZcDNyaDMzVkE0R1ZqRVZvUVJMWDhFYnBsdWY0TDdObGFudzNkbmpVZVM3blROUEFPODdFRkZHYmE5VnhyS3MyOWpXZUs5UlNtT2lMVTFQeG1UcjliaUthdXBHRG1SelRJYzJmRzAwMVE3OXA2Qm44YThvS0drbmlFdWVFeWFCYmRqYVF2bUg4aG9nTlBMN25NOGJaQmJRSWVwWkdsNTE2Um1tUHdtb0VVQzVYMnJxV2tpeTdZOE92TlZRMnFrS25ucE9aVkNaejk1d200ekswOHBkVXBBUzNLcFJaWGI3dWJoY3VXaXEzNndLdklUbFpQSXphelpYYjl1MUM5UVBSZWNkakNLQ2x3MTVzWnhXc01LNFljRTVHc3RPODJGSkREV2h3eklPMkJ0cnprOWdFMUtyZ2MwZlEyejU2eVlodGpBZWpXU21ZdkFHUmtLUk43VFFlT1lBblo3QmNJZFVQVWtnTngwMmtzaG9MWTFUQ09VVmVVUHRlTm1PV2l4M21IZFJiS0t4NkM2U3BCdVY="
m_p: "rvzA717W30J85i9XZ8TzoB7WErGYaA0958Njuj076cJmXohqwX3tq1r72y83ovc2"
e_t: "1621527967728"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:26:07,734-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:26:07,734-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:26:07,734-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "76e7704d5dc34d56858bf3f510b5f4b1"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "tNnWIRzl"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519182605208677696908170t"
version: "265"
queryType: "PAY"

2021-05-19 18:26:07,780-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:26:08,781-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[I6]={'partnerOrder': 'n3axbAP9diCFTOLJBWYucVIrMUZ8SRgQ', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:26:08,781-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[J6]={'payReqId': 'KB20210519182605208677696908170t', 'status': 'ACCEPTED'}
2021-05-19 18:26:08,782-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[M6]=passed
2021-05-19 18:26:08,819-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'xEUQW5nwqsXvA1RKriJ8S7bOCM0F4LDc', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643404', 'amount': 1, 'price': 8.76}", 'voucherId': '62643404', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:26:08,838-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:08,839-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:08,839-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[I6]={'partnerOrder': 'xEUQW5nwqsXvA1RKriJ8S7bOCM0F4LDc', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643404', 'amount': 1, 'price': 8.76}", 'voucherId': '62643404', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:26:08,840-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:08,840-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[M6]=failed
2021-05-19 18:26:08,872-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'YszSMmng3KRCNLaIcQFviZ2odl4p6GOV', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643407', 'amount': 1, 'price': 8.76}", 'voucherId': '62643407', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:26:08,891-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:08,891-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:08,891-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[I6]={'partnerOrder': 'YszSMmng3KRCNLaIcQFviZ2odl4p6GOV', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643407', 'amount': 1, 'price': 8.76}", 'voucherId': '62643407', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:26:08,892-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:08,892-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[M6]=failed
2021-05-19 18:26:08,929-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'P6fcDvWik580Rhs3AE1pynlGwFaIKuz2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:26:08,943-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:08,943-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:26:08,943-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'P6fcDvWik580Rhs3AE1pynlGwFaIKuz2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:26:08,943-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:26:08,944-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 18:26:08,988-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '6F1iYR2bqOAjgoWIayNdJ5Mp7cPUvm4f', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:26:09,001-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:09,001-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:26:09,001-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': '6F1iYR2bqOAjgoWIayNdJ5Mp7cPUvm4f', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:26:09,001-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:26:09,002-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 18:26:09,042-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '40BSIlNA2e6TC3L7YbzEOkqRHPjKvMda', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:26:09,057-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:09,057-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:09,058-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': '40BSIlNA2e6TC3L7YbzEOkqRHPjKvMda', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:26:09,058-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:09,058-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 18:26:09,114-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'dAsRB9YenOLTNF8XxK5Uk1uHrMP0SqhJ', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '83.199.164.37', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:26:09,136-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:09,136-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:09,137-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'dAsRB9YenOLTNF8XxK5Uk1uHrMP0SqhJ', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '83.199.164.37', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:26:09,138-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:09,138-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 18:26:09,198-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'phKBc3ul6wgL0zrSCdIZj9GyoiTFknJV', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:26:09,218-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:09,218-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:09,218-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'phKBc3ul6wgL0zrSCdIZj9GyoiTFknJV', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:26:09,219-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:09,219-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 18:26:09,258-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'YJAyeGgB8PEwhmqL1dXpbtQ9I0uNoFaM', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '231.170.215.142', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:26:09,280-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:26:09,280-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:09,280-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'YJAyeGgB8PEwhmqL1dXpbtQ9I0uNoFaM', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '231.170.215.142', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:26:09,280-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:26:09,281-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 18:32:59,428-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 18:32:59,715-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 18:32:59,786-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:32:59,786-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 18:32:59,787-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:33:00,039-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:33:00,040-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 18:33:00,040-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:33:00,079-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 18:33:00,081-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 18:33:00,093-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:33:00,897-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:33:00,898-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:33:00,898-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:33:00,898-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:33:00,898-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:33:00,898-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:33:00,898-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 18:33:00,898-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 18:33:01,123-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:33:01,123-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:33:01,123-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:33:01,123-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:33:01,123-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:33:01,123-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:33:01,351-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:33:01,351-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'fRiLKChX2UzNHstDQlbPSmpuEB6arZW0', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': ' 5003 参数异常:{code=100;message= 5003 参数异常}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 18:33:01,352-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643406', 'amount': 1, 'price': 8.76}, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': 'TCYrAkfuOBVLjwamZ2d4R5nSJebUhz0g', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643406', 'amount': 1, 'price': 8.76}", 'voucherId': '62643406', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 18:33:01,352-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643405', 'amount': 1, 'price': 8.76}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'e1ZVRbUty9PXndOpwLEFJBcDAs64a7hC', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643405', 'amount': 1, 'price': 8.76}", 'voucherId': '62643405', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '28.218.99.223', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 18:33:01,352-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'n3axbAP9diCFTOLJBWYucVIrMUZ8SRgQ', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '{"payReqId": "KB20210519182605208677696908170t", "status": "ACCEPTED"}', 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': 'passed', 'comments': None}
2021-05-19 18:33:01,352-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643404', 'amount': 1, 'price': 8.76}, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'xEUQW5nwqsXvA1RKriJ8S7bOCM0F4LDc', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643404', 'amount': 1, 'price': 8.76}", 'voucherId': '62643404', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 18:33:01,352-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643407', 'amount': 1, 'price': 8.76}, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'YszSMmng3KRCNLaIcQFviZ2odl4p6GOV', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643407', 'amount': 1, 'price': 8.76}", 'voucherId': '62643407', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 18:33:01,353-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:33:01,353-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'P6fcDvWik580Rhs3AE1pynlGwFaIKuz2', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 18:33:01,353-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': '6F1iYR2bqOAjgoWIayNdJ5Mp7cPUvm4f', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 18:33:01,353-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': {'partnerOrder': '40BSIlNA2e6TC3L7YbzEOkqRHPjKvMda', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 18:33:01,354-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'dAsRB9YenOLTNF8XxK5Uk1uHrMP0SqhJ', 'partnerCode': '2031', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '83.199.164.37', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 18:33:01,354-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'phKBc3ul6wgL0zrSCdIZj9GyoiTFknJV', 'partnerCode': '2031', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 18:33:01,354-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'YJAyeGgB8PEwhmqL1dXpbtQ9I0uNoFaM', 'partnerCode': '2031', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '231.170.215.142', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 18:33:01,362-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:33:01,403-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'mBSRH8y7Qu0d3XJx2ZgUFTLr5hlvM9qV', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:33:01,467-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519183301208677696958044t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22f%252FW0bltdOyhuDeBPfAWEeSMmiEKWP5zLUQBy15jX9Y4fmz8i97skUy4U6OlJw%252BDvRCIObJJXG5kGSKJyaQK0ZGYuiOHT73K3cBURcVwEi9y0Eph4NguNN9H6wPN58fipQG4tgW18Y4A7FrSi%252BuYFMmeOJwFSWJpRmvXpOI%252FxruQ%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519183301208677696958044t\"}","payReqId":"RM20210519183301208677696958044t","status":"AUTH_NEEDED"}
2021-05-19 18:33:01,468-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519183301208677696958044t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="f%2FW0bltdOyhuDeBPfAWEeSMmiEKWP5zLUQBy15jX9Y4fmz8i97skUy4U6OlJw%2BDvRCIObJJXG5kGSKJyaQK0ZGYuiOHT73K3cBURcVwEi9y0Eph4NguNN9H6wPN58fipQG4tgW18Y4A7FrSi%2BuYFMmeOJwFSWJpRmvXpOI%2FxruQ="&sign_type="RSA"', 'system_order': 'RM20210519183301208677696958044t'}, 'payReqId': 'RM20210519183301208677696958044t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:33:01,468-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'mBSRH8y7Qu0d3XJx2ZgUFTLr5hlvM9qV', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:33:02,493-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519183301208677696958044t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="f%2FW0bltdOyhuDeBPfAWEeSMmiEKWP5zLUQBy15jX9Y4fmz8i97skUy4U6OlJw%2BDvRCIObJJXG5kGSKJyaQK0ZGYuiOHT73K3cBURcVwEi9y0Eph4NguNN9H6wPN58fipQG4tgW18Y4A7FrSi%2BuYFMmeOJwFSWJpRmvXpOI%2FxruQ="&sign_type="RSA"', 'system_order': 'RM20210519183301208677696958044t'}, 'payReqId': 'RM20210519183301208677696958044t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:33:03,515-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 18:33:04,577-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'itfOsUZYHcVaNhrubyPzWTkKmxL1jSQl', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '218.63.244.115', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:33:04,803-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:33:04,803-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 18:33:04,803-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': 'itfOsUZYHcVaNhrubyPzWTkKmxL1jSQl', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '218.63.244.115', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:33:06,187-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 18:33:07,845-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=failed
2021-05-19 18:33:09,510-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'fARtjXhZQUP0KEslG5zYS1vNrDT7w68O', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:33:09,522-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:33:09,523-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:33:09,523-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'fARtjXhZQUP0KEslG5zYS1vNrDT7w68O', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:33:10,700-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:33:12,335-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:33:13,949-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'pkLHzR8Q3a2MEh4UT7XCxg05FiWqVeJv', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:33:13,960-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:33:13,961-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:33:13,961-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'pkLHzR8Q3a2MEh4UT7XCxg05FiWqVeJv', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:33:15,407-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:33:17,123-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 18:33:18,750-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'YDdZIgNFW6AMVLhl3rvnJ1pmw8zj9iOs', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:33:18,759-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:33:18,760-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:33:18,760-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'YDdZIgNFW6AMVLhl3rvnJ1pmw8zj9iOs', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:33:19,938-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:33:21,594-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 18:33:23,183-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'c82ImfP0qvAr3XuVnWGtZeEglBFDhK1Y', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '7.101.96.116', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:33:23,214-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:33:23,214-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:33:23,227-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'c82ImfP0qvAr3XuVnWGtZeEglBFDhK1Y', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '7.101.96.116', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:33:24,881-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:33:26,543-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 18:33:29,324-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 18:33:29,334-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:33:29,334-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:33:29,334-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 18:33:30,775-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:33:32,313-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 18:33:34,077-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '89.60.8.227', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 18:33:34,089-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:33:34,090-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:33:34,090-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '89.60.8.227', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 18:33:35,436-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:33:37,177-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 18:33:38,959-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:33:38,974-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:33:38,974-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:33:38,975-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:33:40,441-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:33:42,103-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:33:43,834-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:33:43,842-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:33:43,843-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:33:43,843-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:33:45,146-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:33:46,784-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 18:33:49,513-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 18:33:49,514-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 18:33:49,536-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 18:33:49,589-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.59,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:33:49,589-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:33:49,590-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.59, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:33:49,590-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 18:33:49,591-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 18:33:49,592-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '5456925'
2021-05-19 18:33:49,598-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 18:33:49,598-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 18:33:49,599-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 18:33:49,599-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 425.0, 'appId': '5456925', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 18:33:49', 'ext1': '', 'ext2': '', 'maxAmount': 516.38, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191833490849465558023753959505742275', 'ratio': 0.75, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': '30BA28C52D641C5CE072123C81645812', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 5, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 18:33:49,714-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 18:33:49,714-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643408', '62643409', '62643410', '62643411'], 'batchId': ''}
2021-05-19 18:33:49,714-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643408', '62643409', '62643410', '62643411']
2021-05-19 18:33:49,742-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 18:33:49,742-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 18:33:49,766-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643408')
2021-05-19 18:33:49,792-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:33:50","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":5.16,"source":null,"couponDescribe":"0.75","useableEndTime":"2022-05-19 18:33:49","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":4.25,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191833490849465558023753959505742275","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643408","settleType":"0","status":"NORMAL","ratio":0.75},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:33:49,792-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:33:49,792-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:33:50', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 5.16, 'source': None, 'couponDescribe': '0.75', 'useableEndTime': '2022-05-19 18:33:49', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 4.25, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191833490849465558023753959505742275', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643408', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.75}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:33:49,792-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[G6]={'vouId': '62643408', 'amount': 1, 'price': 5.16}
2021-05-19 18:33:50,813-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643409')
2021-05-19 18:33:50,825-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:33:50","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":5.16,"source":null,"couponDescribe":"0.75","useableEndTime":"2022-05-19 18:33:49","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":4.25,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191833490849465558023753959505742275","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643409","settleType":"0","status":"NORMAL","ratio":0.75},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:33:50,826-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:33:50,826-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:33:50', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 5.16, 'source': None, 'couponDescribe': '0.75', 'useableEndTime': '2022-05-19 18:33:49', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 4.25, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191833490849465558023753959505742275', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643409', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.75}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:33:50,826-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643409', 'amount': 1, 'price': 5.16}
2021-05-19 18:33:51,847-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643410')
2021-05-19 18:33:51,865-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:33:50","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":5.16,"source":null,"couponDescribe":"0.75","useableEndTime":"2022-05-19 18:33:49","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":4.25,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191833490849465558023753959505742275","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643410","settleType":"0","status":"NORMAL","ratio":0.75},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:33:51,865-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:33:51,865-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:33:50', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 5.16, 'source': None, 'couponDescribe': '0.75', 'useableEndTime': '2022-05-19 18:33:49', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 4.25, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191833490849465558023753959505742275', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643410', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.75}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:33:51,865-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[G6]={'vouId': '62643410', 'amount': 1, 'price': 5.16}
2021-05-19 18:33:52,888-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643411')
2021-05-19 18:33:52,899-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:33:50","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":5.16,"source":null,"couponDescribe":"0.75","useableEndTime":"2022-05-19 18:33:49","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":4.25,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191833490849465558023753959505742275","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643411","settleType":"0","status":"NORMAL","ratio":0.75},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:33:52,900-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:33:52,900-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:33:50', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 5.16, 'source': None, 'couponDescribe': '0.75', 'useableEndTime': '2022-05-19 18:33:49', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 4.25, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191833490849465558023753959505742275', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643411', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.75}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:33:52,900-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[G6]={'vouId': '62643411', 'amount': 1, 'price': 5.16}
2021-05-19 18:33:53,998-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'inXpjIVdAor9aSeH3CBhN7bEuqQ1FxPc', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:33:54,036-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:33:54,036-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:33:54,036-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[I6]={'partnerOrder': 'inXpjIVdAor9aSeH3CBhN7bEuqQ1FxPc', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:33:55,765-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:33:56,167-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[M6]=failed
2021-05-19 18:43:01,652-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 18:43:01,967-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 18:43:02,042-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:43:02,042-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 18:43:02,043-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:43:02,339-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:43:02,339-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 18:43:02,340-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:43:02,389-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 18:43:02,390-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 18:43:02,396-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:43:03,189-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:43:03,190-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,190-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,190-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:43:03,190-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,190-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,190-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,190-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,413-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:43:03,413-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,413-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,413-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:43:03,413-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,413-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,638-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:43:03,638-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,638-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643408', 'amount': 1, 'price': 5.16}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,638-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643409', 'amount': 1, 'price': 5.16}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,639-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,639-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643410', 'amount': 1, 'price': 5.16}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,639-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643411', 'amount': 1, 'price': 5.16}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,639-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:43:03,639-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,639-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,639-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,639-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,640-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,640-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:43:03,649-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:43:03,691-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'PqIKOnvsAkjBXMUpHFNV9R1tgJwfci3D', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:43:03,755-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519184303208677696972758t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22TJlFTXKvTrtLOQc718uJ%252BsVizsTGFFIWVY9SlcTduq%252BFhklpKarzGy8RTwJ67tl7SgnQdL0CuHwuOHpcpbI9Eb%252FlVvElLE3OUeAAdoI%252BbEC4ksoHb0R4VxG3WR7GbwWsmbrxmJkgXnSYDK7Kzua5y787xEdbO4anWmQU4QHHHy0%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519184303208677696972758t\"}","payReqId":"RM20210519184303208677696972758t","status":"AUTH_NEEDED"}
2021-05-19 18:43:03,756-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519184303208677696972758t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="TJlFTXKvTrtLOQc718uJ%2BsVizsTGFFIWVY9SlcTduq%2BFhklpKarzGy8RTwJ67tl7SgnQdL0CuHwuOHpcpbI9Eb%2FlVvElLE3OUeAAdoI%2BbEC4ksoHb0R4VxG3WR7GbwWsmbrxmJkgXnSYDK7Kzua5y787xEdbO4anWmQU4QHHHy0="&sign_type="RSA"', 'system_order': 'RM20210519184303208677696972758t'}, 'payReqId': 'RM20210519184303208677696972758t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:43:03,756-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'PqIKOnvsAkjBXMUpHFNV9R1tgJwfci3D', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:43:03,756-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519184303208677696972758t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="TJlFTXKvTrtLOQc718uJ%2BsVizsTGFFIWVY9SlcTduq%2BFhklpKarzGy8RTwJ67tl7SgnQdL0CuHwuOHpcpbI9Eb%2FlVvElLE3OUeAAdoI%2BbEC4ksoHb0R4VxG3WR7GbwWsmbrxmJkgXnSYDK7Kzua5y787xEdbO4anWmQU4QHHHy0="&sign_type="RSA"', 'system_order': 'RM20210519184303208677696972758t'}, 'payReqId': 'RM20210519184303208677696972758t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:43:03,757-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 18:43:03,798-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'hrQv3RT7C2eSKFJowi468ndDMmNtqUO0', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '145.152.168.40', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:43:04,094-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19184304037571688700776b69a2e50000&package=2985423058","payReqId":"RM20210519184303208677696960686t","status":"AUTH_NEEDED"}
2021-05-19 18:43:04,094-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19184304037571688700776b69a2e50000&package=2985423058', 'payReqId': 'RM20210519184303208677696960686t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:43:04,096-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_merchant_info` WHERE partner_id = "2031" AND channel = "wxpay"
2021-05-19 18:43:04,105-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 1, 'partner_id': '2031', 'channel': 'wxpay', 'merchant_no': '1603465160', 'md5_key': 'g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR', 'app_id': 'wx93eea96ecc33f168', 'sign_md5_key': '3007b2945cab4fd994341dc6edb65f33', 'sign_merchant_no': '1259634601', 'sign_app_id': 'wx93eea96ecc33f168', 'sign_plan_id': '120877', 'country': '', 'source': 'mysql'}
2021-05-19 18:43:04,106-INFO-wxpay-scarlet-54-回调参数：<xml><transaction_id><![CDATA[6832863757834694796996106625]]></transaction_id>
<nonce_str><![CDATA[uHKOGVRrYNzJe5Aj3dvbt7D6MTLESFPf]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[7F49AC495A6A63728E25F8C3B6FFE4BF]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210519184303208677696960686t]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210519184304]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-05-19 18:43:04,368-INFO-wxpay-scarlet-58-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-05-19 18:43:04,368-INFO-wxpay-scarlet-60-回调解析成功
2021-05-19 18:43:04,384-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:43:04,384-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:43:04,384-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "70882211153651"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "lvO9Ii3agbzWNxSHG4EVtZc5QkwC1R80"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:43:04,464-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "55e08345542f468d83ae062ae088ae50"
s_p: "VTlHa3BmWFFxd3R3Mnk3eGs3cXVFa0FSYlpnRFVLam5LemNIZ0VTYkNyUHJNajNJOW9jOElkQk93bTlHaDF0WEw2QlpQQmcwNGk4MHBQWHJHeGxJZHplamxMTUM3bUNPTUM1NFhoOGNNQlJHQmhQWklsNXV0alNDeVdaekVkaE1iOXR0MllEOW1NTHBQV2FMbjdTUllsUjZpZUFZM3BONDZLejJSR0xUeDRrcUdJVDJSRU5GT085d0hKcWhSR0dFOU1tQW4weGxwamdhUXhjTnN4ZnV0WUR0Ylh6YWRVcDh3akliMXIyNjJBRlBhS3NCUzh6WW1Icko0bkJQQUlNbEpQbEpnSE1IWUtuc0Q2SUdzTXVGTmxYaXVnM0xqaG9iRFgwV3RNQ2swRFZHaWQ1UmVMWHR6ZXozUWtad0I1OE9rTlBEMk9CTTRmQm5XYnVLdWZMSTVLQWZ1SlJWQzV0VFMwY3VVbFNkMldiTllWQlVreDFWNVJIckkwZW1KVUxIbUVKNmFuSlkwMTJhVklTOUdMYzRJYmZzZW5RQlY4RFN6dHZ6bk5KOWdKaUNmY1VBbjB5R3VFQ0UwQ1p4d1VjOFh3d2R5WVBqREVYMnpRNHVGODNyako3ZmpHdW9MeWFHcEtHVWVVSjVaNFFQb0Y1YUpGVGZOWVphck9yYldBOEM1Wk1GN3A2eUZwalhiSjgwQ0x6bGdxWW1tbUdvdXVCVTk5T0N3UGJPNWFpeFhwVkNqVXd6VmNWbzhZR0xoNDZuS3RDbU95Nmp2MHlVY1IwTmFQVEdrMmQ2ckg4QTdJZHR3alRTbkNJYlpwQm9mYnUybzdzWkFTU2Z6cnQ2clJ1SkVLN21ISTBBY3RMYWJ0SHBYYnZLTXJ6WUw1eTczRXVkblVhNFA4NlB4Zk5lWDFiaUFPeWZmMnpFMWZvNGpSRExXWlJTZEZURHVrVjRhN1V1NjBxa2s0cXpUem84Y0c1UWNRNlVLV2M1RkcxTDIyTFdadjFQRFJ0d2pPM3pIM3V3akxaSzFOdVF1M0NONkpSWmF1amdQdDdCVDNKRG1FUlo="
m_p: "9YoXWtCX2t4L9HC3p9R8QqA94P7sbedZ148KU6M0r2txU25g0nj0Ih0A8nT5MQUU"
e_t: "1621528984458"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:43:04,465-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:43:04,465-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:43:04,465-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "55e08345542f468d83ae062ae088ae50"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "XrGxlIdz"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210519184303208677696960686t"
version: "265"
queryType: "PAY"

2021-05-19 18:43:04,534-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0"
origAmount: "0.01"

2021-05-19 18:43:04,536-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `db_order_7`.`order_info_30` WHERE ssoid = "2086776969" and pay_req_id = "RM20210519184303208677696960686t"
2021-05-19 18:43:04,544-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5347, 'pay_req_id': 'RM20210519184303208677696960686t', 'notify_id': '6832863757834694796996106625', 'partner_order': 'hrQv3RT7C2eSKFJowi468ndDMmNtqUO0', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '145.152.168.40', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 18, 43, 4), 'success_time': datetime.datetime(2021, 5, 19, 18, 43, 4), 'modify_time': datetime.datetime(2021, 5, 19, 18, 43, 4), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 18:43:04,544-INFO-FizAssert-31-订单详情：{'id': 5347, 'pay_req_id': 'RM20210519184303208677696960686t', 'notify_id': '6832863757834694796996106625', 'partner_order': 'hrQv3RT7C2eSKFJowi468ndDMmNtqUO0', 'amount': 1, 'refund': 0, 'contents': '', 'products_name': 'SecurityPayments test', 'counts': 1, 'ssoid': '2086776969', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '145.152.168.40', 'mac': '', 'model': '', 'app_package': 'com.example.pay_demo', 'app_ver': '265', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': '', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': '', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': '', 'remark': '', 'request_time': datetime.datetime(2021, 5, 19, 18, 43, 4), 'success_time': datetime.datetime(2021, 5, 19, 18, 43, 4), 'modify_time': datetime.datetime(2021, 5, 19, 18, 43, 4), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '', 'country_code': 'CN', 'currency': 'CNY', 'openid': '', 'brand_type': 'OPPO', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'voucher_id': '', 'factor': '', 'paid_amount': '', 'paid_usd': '', 'combine_order': 'N', 'voucher_status': '', 'kebi_status': '', 'channel_status': 'OK', 'profit_sharing': ''}
2021-05-19 18:43:04,544-INFO-FizAssert-42-订单表信息记录正确
2021-05-19 18:43:04,545-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': 'hrQv3RT7C2eSKFJowi468ndDMmNtqUO0', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '145.152.168.40', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:43:04,545-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]={'authHint': 'https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx19184304037571688700776b69a2e50000&package=2985423058', 'payReqId': 'RM20210519184303208677696960686t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:43:04,545-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=passed
2021-05-19 18:43:04,594-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'mjQWqVAXCbOY7S3BzdUx5LRI6Hho094F', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:43:04,606-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:04,606-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:43:04,606-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'mjQWqVAXCbOY7S3BzdUx5LRI6Hho094F', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:43:04,607-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:43:04,607-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:43:04,647-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '5nbWcBpm26HSL7MxazjkrOPgh1fE3QvT', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:43:04,661-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:04,661-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:43:04,662-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': '5nbWcBpm26HSL7MxazjkrOPgh1fE3QvT', 'partnerCode': '2031', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:43:04,662-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:43:04,662-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 18:43:04,694-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'qQdabi01EufPmBoL5rV8Y2hp6z4tMGxH', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:43:04,706-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:04,706-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:43:04,707-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'qQdabi01EufPmBoL5rV8Y2hp6z4tMGxH', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:43:04,707-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:43:04,707-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 18:43:04,747-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'h6EHdlP289gwqGj1YJNboTm4pxAOMftv', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '232.86.23.182', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:43:04,774-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:04,774-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:04,775-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'h6EHdlP289gwqGj1YJNboTm4pxAOMftv', 'partnerCode': '2031', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '232.86.23.182', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:43:04,775-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:04,775-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 18:43:05,884-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 18:43:05,898-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:05,898-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:43:05,898-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 18:43:05,899-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:43:05,899-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 18:43:05,937-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '93.141.24.132', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 18:43:05,948-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:05,948-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:43:05,948-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '93.141.24.132', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 18:43:05,948-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:43:05,949-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 18:43:05,978-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:43:05,986-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:05,986-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:43:05,986-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:43:05,986-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:43:05,987-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:43:06,024-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:43:06,034-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:06,035-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:43:06,035-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:43:06,035-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:43:06,035-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 18:43:07,129-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 18:43:07,129-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 18:43:07,152-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 18:43:07,199-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.59,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:43:07,199-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:43:07,200-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.59, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:43:07,200-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 18:43:07,201-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 18:43:07,203-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '5456925'
2021-05-19 18:43:07,215-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 18:43:07,215-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 18:43:07,216-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 18:43:07,216-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 3.36, 'appId': '5456925', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 18:43:07', 'ext1': '', 'ext2': '', 'maxAmount': 50.51, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191843070116386983893877535025105334', 'ratio': 0.81, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': 'B4F797364D15157B3093D0AC9DE56E7C', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 2, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 18:43:07,272-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 18:43:07,272-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643412', '62643413', '62643414', '62643415'], 'batchId': ''}
2021-05-19 18:43:07,272-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643412', '62643413', '62643414', '62643415']
2021-05-19 18:43:07,297-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 18:43:07,298-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 18:43:07,320-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643412')
2021-05-19 18:43:07,338-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:43:07","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.500.03","useableEndTime":"2022-05-19 18:43:07","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.5,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.03,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191843070116386983893877535025105334","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643412","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:43:07,338-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:43:07,338-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:43:07', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.500.03', 'useableEndTime': '2022-05-19 18:43:07', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.5, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.03, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191843070116386983893877535025105334', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643412', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:43:07,338-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[G6]={'vouId': '62643412', 'amount': 1, 'price': None}
2021-05-19 18:43:07,348-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643413')
2021-05-19 18:43:07,364-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:43:07","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.500.03","useableEndTime":"2022-05-19 18:43:07","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.5,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.03,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191843070116386983893877535025105334","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643413","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:43:07,364-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:43:07,364-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:43:07', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.500.03', 'useableEndTime': '2022-05-19 18:43:07', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.5, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.03, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191843070116386983893877535025105334', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643413', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:43:07,364-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643413', 'amount': 1, 'price': None}
2021-05-19 18:43:07,371-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643415')
2021-05-19 18:43:07,390-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:43:07","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.500.03","useableEndTime":"2022-05-19 18:43:07","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.5,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.03,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191843070116386983893877535025105334","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643415","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:43:07,391-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:43:07,391-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:43:07', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.500.03', 'useableEndTime': '2022-05-19 18:43:07', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.5, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.03, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191843070116386983893877535025105334', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643415', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:43:07,391-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[G6]={'vouId': '62643415', 'amount': 1, 'price': None}
2021-05-19 18:43:07,395-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643414')
2021-05-19 18:43:07,414-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:43:07","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":null,"source":null,"couponDescribe":"0.500.03","useableEndTime":"2022-05-19 18:43:07","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.5,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DIKOU","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":0.03,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191843070116386983893877535025105334","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643414","settleType":"0","status":"NORMAL","ratio":null},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:43:07,414-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:43:07,414-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:43:07', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': None, 'source': None, 'couponDescribe': '0.500.03', 'useableEndTime': '2022-05-19 18:43:07', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.5, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DIKOU', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': 0.03, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191843070116386983893877535025105334', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643414', 'settleType': '0', 'status': 'NORMAL', 'ratio': None}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:43:07,414-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[G6]={'vouId': '62643414', 'amount': 1, 'price': None}
2021-05-19 18:43:07,443-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'CaROfU0jHtK9ABVD13L4r6gpEFzn5ubN', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:43:07,481-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:43:07,481-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:43:07,481-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[I6]={'partnerOrder': 'CaROfU0jHtK9ABVD13L4r6gpEFzn5ubN', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:43:07,482-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:43:07,482-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[M6]=failed
2021-05-19 18:43:07,524-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '4yiclbSF5u7oPIQ9BKXk6ZYWjmUDRhqC', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643412', 'amount': 1, 'price': None}", 'voucherId': '62643412', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:43:07,549-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:07,550-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:07,550-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[I6]={'partnerOrder': '4yiclbSF5u7oPIQ9BKXk6ZYWjmUDRhqC', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643412', 'amount': 1, 'price': None}", 'voucherId': '62643412', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:43:07,550-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:07,551-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[M6]=failed
2021-05-19 18:43:07,589-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'FHMCtSb1U9rmxQo5fW3sYL4kTXuPqjRp', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643413', 'amount': 1, 'price': None}", 'voucherId': '62643413', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '12.37.196.123', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:43:07,608-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:07,609-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:07,609-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'FHMCtSb1U9rmxQo5fW3sYL4kTXuPqjRp', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643413', 'amount': 1, 'price': None}", 'voucherId': '62643413', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '12.37.196.123', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:43:07,610-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:07,610-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 18:43:07,647-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'jLdm7gVbAqwRKe39Glr4F2WsI8QCcMyT', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:43:07,674-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519184307208677696903205t","status":"ACCEPTED"}
2021-05-19 18:43:07,674-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519184307208677696903205t', 'status': 'ACCEPTED'}
2021-05-19 18:43:07,689-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:43:07,689-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:43:07,690-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "72262896919487"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "HVWCmlfoKLYgnT31q4rwbyGDuz6saFQp"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:43:07,750-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e767e64234374057a7489fa84a2abab0"
s_p: "bm5IVmU0dVFETkdjRGhsMkNUcFgxazdDQzdZM2NLUldXWmE5blJSZkJnMTdvVWgwN3I4akNiN3dETkRnR0dtSVJjaFdnZ3ZSbE5zOGZaejhDVVIwS2Q2cDE1M0p6MmNjb2d1TURzc1NmMnpCc1JWUDhiRndHRTZBMFVRdlEwNURhdEgzb0RZNzUzNXQ1cFhUamRnN2djRk1sOEdhS3RQZHdNV1kzaHNLY0RyVHNmRjhLR1NhYzJhZnZKNmJyWU5zdnJQT0tac3p3VFZnd3p5WTlTU0xiT2pNdVF3Y1FBajJHZjZIWUN5UHlvTzVKN1lqUm45cFp5QTVyZ1c2YmFQM1RWcnZKQTl5dEFYM1gwdnFQWnlWaTBtbkxCOU5JUkZyRko5VHZKM2pISDk3TkpjZHZBV0l3V3BtMXQyWXJLUWFwdjZTTXMyRFY4ZUYyMFI3VzU5V2xlaWJ1UFBLTktua3dTRUowN21BSjRRSml3Q1Bza005ZkVwMHZjaEU4UW4xZEpBdXJXMHU3eFhxNk5jZjVjWVFOY2p4N0hWYkFna2pnZXBHQThVbGo5YzAyVGZHdm94QTFVaFdZczZtdjd3UWdHZlBSc2dyWlJ2QzJoWDBlT0ZNYnVZWGxYN1E3a0RBNjR0MG80ZjBNbzB3a3ZsWFBwRmgzZzZtOUxjaWZ1NDdSR09iOEdkSUlaNFo1SUxQY21memozcHpBOXpWSzRZN002TkhBZGpsaUFHekxEckdVajNHR2pPQXJmbEE4NVVCUHJvcGtIam5QalZaaVdXQkF5dlJZOHQ2VVRuMGNBRVZmUXllUm41dnNKdVFVMUkwOWExQlRGZ1htZGtsdEdtVUhoUTJyeWZpZVRUeFJzeGNEdHg3VGpnT0J6aGVUd09IdUxnNThublUxcGlYd0dpMnA4bnJFZ2wxWExDVmZZY21kRDdPTmJ3c0FEWUpQcmpxVEN0ZU1ZMVdOOEpUQ0hUSUdkUzZ5OTNVNGJQVVFmY0UzeFhGTk5pOFgxSkk0eEdLNFBhNUlrNHA4MWJubFlkU244TmJLSVpoSWoyNzNZY1k="
m_p: "z5KDeCo4A1LNnc47fP31n0Q2lT2x2935e5fQJ7h7r9mX91jY9VnM64cpK30WNoAk"
e_t: "1621528987749"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:43:07,750-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:43:07,751-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:43:07,751-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "e767e64234374057a7489fa84a2abab0"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "oDY7535t"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519184307208677696903205t"
version: "265"
queryType: "PAY"

2021-05-19 18:43:07,829-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:43:08,844-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:43:08,844-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:43:08,844-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "92553784248976"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "HfNExMXuiCFPwDAhUm9ySq2dblarBVYZ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:43:08,919-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "9de29d4cb2564fd4a0f77d1e91195c4a"
s_p: "b2I4cWdnRWpoMEVuc1ZkU0ptTlhsZ1ZEeEdhajEzbUM0Yjh1VktkRmg0c0diZ2syTkw2YklsUTdZOG5aTnpMYWUyUThXaUdQOFhhdjVSQkQ3b2U1U3ptVzlvcm9zUmQxRDVnd0hGZllMbnRvb0ZScExYdUo5WVlEemtOd0FESGVVMG1yOFVLWFZoN0kxTGhkUW1hT3JGVDh5Tzc0aTB5QVlUU0hub3dpd29hUEtvUmVNTDBJRW9HUTVzQ1VhVnB4cVpwbWNzWWJhTTU5T1JEeE9DRmpvcHRZNVo3RW5mdWFpcm5IM0JQdHV3bFk1Nkl2ZU1ESW8weTN4cHA0UnJSQ0xCY2s4dkx4V2VXOGVnVnlISnREbHhvd0pLVkpSR3JEaEV0SlhGZWFReXM2ck95QW1idmNsajBQSFJxazlEd1VQTWxFSUVrcFpMNnRMSnkyNmFCOHpJR2J1RnF3WUdWMmlkNkpFYlNnN2w4cnBnT3hBOEc3TTVycERhTmp0SWxGOGVxb05MSHNobm5RSE9TU2ZhOVRjdG9WS3BiSVFDUTI0OWhCQ1lVZ1RhMWdvWVMyZ2thcktwVVQ3MENxZDc3VWdLcWJNeEdVTElHcjlnVmp6M0ZQMnVjUWpxUW5PZzJGbzVzVFAxSG9JN0RhSVJtcHVLaGJJY1Y2VDNOdGJyNlMxS0JRRTlqVGlhZzFqR1BITUFrbWs4RVhnU1loRzFVY2dpTlVNV3ByM0hNUGVQOERiVmJFS0ZzanU4TEFYck12dWlKejNpQmtTYTJZZGxXZGJLV2pZZTJuaXhRbEFPa3NnbWZ4SHVIcVFUV3VWNzJmejVEVkdDaElTOXNiUmw1Z3g3cFVvaGROY0dtT0ZtRmU1R3ZUV2EybGZrSnBOUzQ0WVI1Wld3UVZUOWFpWjV2TktQMXZNMHptNVdSd1ZzRmd1OXhOSEVFV2Q3SE82NW16QlhGOVMzZjYxUW1lUjA1cjBwSmJQVk40UjAzdTM5TllGVUxrZzBIb1lDazllWnJBYTZuRmhTTEpmZzIwYURwN0hQMHVZbmhrbm16S2c0aHY="
m_p: "55KqYpmXz5rk29MGSgXbT6050k9L4LnyA5235vRQK116khvriHGf8b8gSc1iii4p"
e_t: "1621528988913"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:43:08,920-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:43:08,920-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:43:08,920-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "9de29d4cb2564fd4a0f77d1e91195c4a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "aOrFT8yO"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519184307208677696903205t"
version: "265"
queryType: "PAY"

2021-05-19 18:43:08,978-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:43:09,993-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:43:09,993-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:43:09,994-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "28171182807542"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "4PKxueEmBI683AMo91GitnQgpU0qDkvz"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:43:10,053-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "147e8d44d5f54bc2b1764ac982c09966"
s_p: "TWJKS015MWQ4R1ZpRGpFR1BXdDRMc1dHbkNkWUFMeklxaEJvVmJpZ3JORUh5SEV4azczTVFMSFJ6cGNCNk43MHB1WDhBeHNlUm9ZOGhyQXh6VEhiNENSOFZvZzlTUDBIT1lhdHVVTWlLdmhDQ0VkblFkMWRPbk9lUXU4WnFDY3dHampmUm0wRHhKbzNyNVI1eDhRbE1jeVJadGNsbnA4b05VWDhkS3R3N2x2N2I2OVlkS205Q1hwZnl5MmNmdzAyUkNkYTdhTkpSczVXRjR6eGpvYU05enZkczZuQjlWZlJqYktOM1djUGJNaHN6QXpGUVdmQ0R4bzBYeGxFQ2VQZmd1VUFOMndDRDlVTnRtSDM2REVJY0ljNkZhaTZNYTBmYW5PNXllTnN5a3p3SUFuQ1ZtMGZBeTVMSWU5RFZBbTJ4N0dTN3RrVDUzVFJ0YWhpeXdNN2JjMWg4VFd1bnpMNnE1OUpXNE43VXNUa01vTlVpMXp1MW42ZkxxV2ZGN2RJNDhCcWo4eERHUlFOVHBUZko2VTNwNTVlOHFudWxhMDJXMXJlblNFSmxKWDR2Y1pkQm1lTWpVb1UyYWJNRTB3Y3k2WWg4VlVzVGZub2lobmxwdGUxbGp5OVJWSkZaZ2hCODVCb3lJVzdTV3pYaTlIbkUwemtIdUpHTnpwVHRTVXc5akkwdTRnYlFRRjFDZEpSQTZOQkVmYTNGVWZ5VFU0djROZkNCZFQ3bFFZNjhndXFZaUZDTmVmR1FCc3k2eHhIeFN0U3BKS2pldFcyazBzcjcyUnJZdlB4ekJMM0doNjNTUlRMMnhqV0NYMkQ0TjZPUG9JTjZmZERtZFlYVjZCSWowODdmTmI1d3o2RFNoUVpTekVzdFdUbTVNN1BjbFJMOG1QN2NYckVJd2wxTXpWU2RwQXlaeXBQSk83ektxU0xOdU11ZUsxQ3VSb05IM1BHVDBYNlo4M3ZkUm9wSlB2ZVJBVHVMaXYzQTBHVHYzUkNtWVFkUU5oOURNR090dE9WVkN2bzFaUHNabkJFT0lVc1JZc2xnSDVsS1hJWHV3SG0="
m_p: "858CFcYN10S150tu2QPkf0h70Ud6Yn3mtg4qZ2ooL8AdJr3DP22KW4QCow85uUkX"
e_t: "1621528990049"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:43:10,053-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:43:10,053-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:43:10,053-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "147e8d44d5f54bc2b1764ac982c09966"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "0HOYatuU"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519184307208677696903205t"
version: "265"
queryType: "PAY"

2021-05-19 18:43:10,101-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:43:11,101-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[I6]={'partnerOrder': 'jLdm7gVbAqwRKe39Glr4F2WsI8QCcMyT', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:43:11,101-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[J6]={'payReqId': 'KB20210519184307208677696903205t', 'status': 'ACCEPTED'}
2021-05-19 18:43:11,101-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[M6]=passed
2021-05-19 18:43:11,142-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'RoUeIV8BbvhaFri4Ec5fgPWkOn1Kwsd2', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643415', 'amount': 1, 'price': None}", 'voucherId': '62643415', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:43:11,156-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:11,156-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:11,156-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[I6]={'partnerOrder': 'RoUeIV8BbvhaFri4Ec5fgPWkOn1Kwsd2', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643415', 'amount': 1, 'price': None}", 'voucherId': '62643415', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:43:11,157-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:11,157-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[M6]=failed
2021-05-19 18:43:11,192-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'tQkWXncheJMBwP3LxGv0jg91NazUprEl', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643414', 'amount': 1, 'price': None}", 'voucherId': '62643414', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:43:11,212-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:11,212-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:11,212-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[I6]={'partnerOrder': 'tQkWXncheJMBwP3LxGv0jg91NazUprEl', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643414', 'amount': 1, 'price': None}", 'voucherId': '62643414', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:43:11,212-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:11,213-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[M6]=failed
2021-05-19 18:43:11,247-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'D9Omf3acHLEJpSnCdl0YsB78Wtz6VhFA', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:43:11,257-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:11,257-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:43:11,258-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'D9Omf3acHLEJpSnCdl0YsB78Wtz6VhFA', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:43:11,258-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:43:11,258-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 18:43:11,293-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'AbKzNWBpDPFiVwyn60eJhg1MIUSulCjL', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:43:11,308-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:11,309-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:43:11,309-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'AbKzNWBpDPFiVwyn60eJhg1MIUSulCjL', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:43:11,309-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:43:11,310-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 18:43:11,343-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'zkgsGRqLulvnj6OY75KCVB9IW8wX4bDA', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:43:11,362-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:11,362-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:11,362-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': 'zkgsGRqLulvnj6OY75KCVB9IW8wX4bDA', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:43:11,363-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:11,363-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 18:43:11,405-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'GiSL0JBnpwtIQ5XFg4akRMshWlovOebz', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '69.36.231.62', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:43:11,417-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:11,417-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:11,417-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'GiSL0JBnpwtIQ5XFg4akRMshWlovOebz', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '69.36.231.62', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:43:11,418-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:11,418-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 18:43:11,452-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ZAVPNTc410nob9RYqXuIJv5S2mMswjEy', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:43:11,466-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:11,466-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:11,467-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'ZAVPNTc410nob9RYqXuIJv5S2mMswjEy', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:43:11,467-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:11,467-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 18:43:11,502-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '8fOiMFHsaumU6Wy4wLcGBEVgTJDCRbzK', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '90.127.172.226', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:43:11,518-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:43:11,519-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:11,519-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': '8fOiMFHsaumU6Wy4wLcGBEVgTJDCRbzK', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '90.127.172.226', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:43:11,519-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:43:11,520-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 18:48:11,567-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 18:48:11,922-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 18:48:12,018-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:48:12,019-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 18:48:12,019-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:48:12,581-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:48:12,581-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 18:48:12,581-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:48:12,701-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 18:48:12,702-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 18:48:12,708-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:48:37,061-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 18:48:37,380-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 18:48:37,464-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:48:37,465-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 18:48:37,465-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 18:48:37,708-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:48:37,708-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 18:48:37,708-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 18:48:37,770-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 18:48:37,771-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 18:48:37,788-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:48:38,564-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:48:38,565-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:48:38,565-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:48:38,565-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:48:38,565-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:48:38,565-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:48:38,565-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': None, 'comments': None}
2021-05-19 18:48:38,565-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': None, 'comments': None}
2021-05-19 18:48:38,794-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:48:38,794-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:48:38,794-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:48:38,794-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:48:38,794-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': None, 'comments': None}
2021-05-19 18:48:38,795-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:48:39,020-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 18:48:39,020-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:48:39,020-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643412', 'amount': 1, 'price': None}, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:48:39,020-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643413', 'amount': 1, 'price': None}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:48:39,021-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': None, 'comments': None}
2021-05-19 18:48:39,021-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643415', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:48:39,021-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643414', 'amount': 1, 'price': None}, 'payType': 'KEBI', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:48:39,021-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 18:48:39,021-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:48:39,021-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:48:39,021-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:48:39,021-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:48:39,022-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:48:39,022-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': None, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': None, 'comments': None}
2021-05-19 18:48:39,031-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 18:48:39,073-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'RciC6FfgOSDt72JZExLmQGzsNeb8kMyI', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:48:39,117-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519184839208677696956858t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22dO1NrTGR66jipC%252BTs%252B3h9fYXrpMk1qKwP%252F9iorBN%252FL0aK9je5%252BCo3DuUgQPELBj%252B482HJ7Ixc5mEF0xo3vdQvIkb8H4BAPozhXs2V%252Bf00gyMvEXouj70XiNWzRxgq8HqGnq0Pp%252FVgZcOt6q2nI%252FnFv9F61IjWoT9QenyoQmtORI%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519184839208677696956858t\"}","payReqId":"RM20210519184839208677696956858t","status":"AUTH_NEEDED"}
2021-05-19 18:48:39,118-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519184839208677696956858t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="dO1NrTGR66jipC%2BTs%2B3h9fYXrpMk1qKwP%2F9iorBN%2FL0aK9je5%2BCo3DuUgQPELBj%2B482HJ7Ixc5mEF0xo3vdQvIkb8H4BAPozhXs2V%2Bf00gyMvEXouj70XiNWzRxgq8HqGnq0Pp%2FVgZcOt6q2nI%2FnFv9F61IjWoT9QenyoQmtORI="&sign_type="RSA"', 'system_order': 'RM20210519184839208677696956858t'}, 'payReqId': 'RM20210519184839208677696956858t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:48:39,118-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'RciC6FfgOSDt72JZExLmQGzsNeb8kMyI', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:48:39,119-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519184839208677696956858t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="dO1NrTGR66jipC%2BTs%2B3h9fYXrpMk1qKwP%2F9iorBN%2FL0aK9je5%2BCo3DuUgQPELBj%2B482HJ7Ixc5mEF0xo3vdQvIkb8H4BAPozhXs2V%2Bf00gyMvEXouj70XiNWzRxgq8HqGnq0Pp%2FVgZcOt6q2nI%2FnFv9F61IjWoT9QenyoQmtORI="&sign_type="RSA"', 'system_order': 'RM20210519184839208677696956858t'}, 'payReqId': 'RM20210519184839208677696956858t', 'status': 'AUTH_NEEDED'}
2021-05-19 18:48:39,119-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 18:48:39,169-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '6mlVMpFgyxDrGekHw7PO9f0hNnIXCSUj', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '227.221.113.188', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:48:39,423-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:48:39,423-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 18:48:39,423-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': '6mlVMpFgyxDrGekHw7PO9f0hNnIXCSUj', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '227.221.113.188', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:48:39,424-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 18:48:39,424-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=failed
2021-05-19 18:48:39,467-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'w3A2Rl8X0QsoJchSnNbCpEG65eMLZvag', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:48:39,481-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:39,481-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:48:39,481-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'w3A2Rl8X0QsoJchSnNbCpEG65eMLZvag', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:48:39,481-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:48:39,482-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:48:39,536-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '4NITAnYwbSle1D90qfPjuXKhQidsCyLJ', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:48:39,554-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:39,554-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:48:39,555-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': '4NITAnYwbSle1D90qfPjuXKhQidsCyLJ', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:48:39,555-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:48:39,555-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=failed
2021-05-19 18:48:39,602-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'p2y9YgqBjQZPMi8Js4m3UlLtCIf5RhH6', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:48:39,621-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:39,621-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:48:39,621-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'p2y9YgqBjQZPMi8Js4m3UlLtCIf5RhH6', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:48:39,622-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 18:48:39,622-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=failed
2021-05-19 18:48:39,658-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'YH75sKBNnSycGAp0xXPlTihI4MWR6qVk', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '64.194.160.244', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:48:39,679-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:39,680-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:39,680-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'YH75sKBNnSycGAp0xXPlTihI4MWR6qVk', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '64.194.160.244', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:48:39,680-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:39,680-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=failed
2021-05-19 18:48:40,753-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 18:48:40,783-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:40,783-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:48:40,784-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 18:48:40,784-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:48:40,784-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 18:48:40,823-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '12.164.96.178', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 18:48:40,862-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:40,863-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:48:40,863-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '12.164.96.178', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 18:48:40,863-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:48:40,864-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 18:48:40,912-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:48:40,925-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:40,925-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:48:40,926-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:48:40,926-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:48:40,926-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 18:48:40,959-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 18:48:40,973-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:40,973-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:48:40,973-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 18:48:40,973-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 18:48:40,974-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 18:48:42,029-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 18:48:42,030-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 18:48:42,058-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 18:48:42,108-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.59,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:48:42,108-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:48:42,108-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.59, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:48:42,108-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 18:48:42,109-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 18:48:42,111-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '5456925'
2021-05-19 18:48:42,118-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 18:48:42,118-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 18:48:42,119-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 18:48:42,119-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 3.04, 'appId': '5456925', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 18:48:42', 'ext1': '', 'ext2': '', 'maxAmount': 40.45, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191848425294940513228348202467975822', 'ratio': 0.54, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': 'BCF10B73139FE90CA7893E1E66E29BB5', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 7, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 18:48:42,338-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 18:48:42,338-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643418', '62643419', '62643420', '62643421'], 'batchId': ''}
2021-05-19 18:48:42,338-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643418', '62643419', '62643420', '62643421']
2021-05-19 18:48:42,369-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 18:48:42,369-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 18:48:42,386-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643419')
2021-05-19 18:48:42,400-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:48:42","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.4,"source":null,"couponDescribe":"0.540.40ܶ","useableEndTime":"2022-05-19 18:48:42","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.03,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191848425294940513228348202467975822","subScopeId":"","originalAmount":null,"usableAmt":0.4,"usedPartnerOrder":null,"couponCode":"62643419","settleType":"0","status":"NORMAL","ratio":0.54},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:48:42,400-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:48:42,400-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:48:42', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.4, 'source': None, 'couponDescribe': '0.540.40ܶ', 'useableEndTime': '2022-05-19 18:48:42', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.03, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191848425294940513228348202467975822', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.4, 'usedPartnerOrder': None, 'couponCode': '62643419', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.54}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:48:42,400-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[G6]={'vouId': '62643419', 'amount': 1, 'price': 0.4}
2021-05-19 18:48:42,406-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643420')
2021-05-19 18:48:42,430-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:48:42","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.4,"source":null,"couponDescribe":"0.540.40ܶ","useableEndTime":"2022-05-19 18:48:42","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.03,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191848425294940513228348202467975822","subScopeId":"","originalAmount":null,"usableAmt":0.4,"usedPartnerOrder":null,"couponCode":"62643420","settleType":"0","status":"NORMAL","ratio":0.54},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:48:42,430-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:48:42,430-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:48:42', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.4, 'source': None, 'couponDescribe': '0.540.40ܶ', 'useableEndTime': '2022-05-19 18:48:42', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.03, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191848425294940513228348202467975822', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.4, 'usedPartnerOrder': None, 'couponCode': '62643420', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.54}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:48:42,430-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643420', 'amount': 1, 'price': 0.4}
2021-05-19 18:48:42,439-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643418')
2021-05-19 18:48:42,451-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:48:42","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.4,"source":null,"couponDescribe":"0.540.40ܶ","useableEndTime":"2022-05-19 18:48:42","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.03,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191848425294940513228348202467975822","subScopeId":"","originalAmount":null,"usableAmt":0.4,"usedPartnerOrder":null,"couponCode":"62643418","settleType":"0","status":"NORMAL","ratio":0.54},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:48:42,452-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:48:42,452-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:48:42', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.4, 'source': None, 'couponDescribe': '0.540.40ܶ', 'useableEndTime': '2022-05-19 18:48:42', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.03, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191848425294940513228348202467975822', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.4, 'usedPartnerOrder': None, 'couponCode': '62643418', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.54}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:48:42,452-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[G6]={'vouId': '62643418', 'amount': 1, 'price': 0.4}
2021-05-19 18:48:42,461-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643421')
2021-05-19 18:48:42,476-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 18:48:42","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":0.4,"source":null,"couponDescribe":"0.540.40ܶ","useableEndTime":"2022-05-19 18:48:42","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":0.03,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"XIAOFEI_DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191848425294940513228348202467975822","subScopeId":"","originalAmount":null,"usableAmt":0.4,"usedPartnerOrder":null,"couponCode":"62643421","settleType":"0","status":"NORMAL","ratio":0.54},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 18:48:42,477-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 18:48:42,477-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 18:48:42', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 0.4, 'source': None, 'couponDescribe': '0.540.40ܶ', 'useableEndTime': '2022-05-19 18:48:42', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 0.03, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'XIAOFEI_DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191848425294940513228348202467975822', 'subScopeId': '', 'originalAmount': None, 'usableAmt': 0.4, 'usedPartnerOrder': None, 'couponCode': '62643421', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.54}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 18:48:42,477-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[G6]={'vouId': '62643421', 'amount': 1, 'price': 0.4}
2021-05-19 18:48:42,510-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'tU7J2ecZLD1Wa0PCXuBxrkhKGnEygwVf', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:48:42,545-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 18:48:42,545-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:48:42,545-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[I6]={'partnerOrder': 'tU7J2ecZLD1Wa0PCXuBxrkhKGnEygwVf', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:48:42,546-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 18:48:42,546-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[M6]=failed
2021-05-19 18:48:42,578-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'XVE7LFohWktrp3jIsRGynONJ8l0bxDdU', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643419', 'amount': 1, 'price': 0.4}", 'voucherId': '62643419', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:48:42,598-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:42,598-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:42,599-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[I6]={'partnerOrder': 'XVE7LFohWktrp3jIsRGynONJ8l0bxDdU', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643419', 'amount': 1, 'price': 0.4}", 'voucherId': '62643419', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:48:42,599-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:42,599-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[M6]=failed
2021-05-19 18:48:42,637-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'XucVWgqD2nvoYh5pUdsmkN98KJLMeIxG', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643420', 'amount': 1, 'price': 0.4}", 'voucherId': '62643420', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '233.240.217.105', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:48:42,653-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:42,654-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:42,654-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'XucVWgqD2nvoYh5pUdsmkN98KJLMeIxG', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643420', 'amount': 1, 'price': 0.4}", 'voucherId': '62643420', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '233.240.217.105', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:48:42,654-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:42,655-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 18:48:42,693-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Ljv6ySwXDZzpn90YHQqUaoJ4AENsMbui', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:48:42,719-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519184842208677696964672t","status":"ACCEPTED"}
2021-05-19 18:48:42,719-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519184842208677696964672t', 'status': 'ACCEPTED'}
2021-05-19 18:48:42,734-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:48:42,734-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:48:42,735-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "51634665161965"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "VKIzs2tiSRPHGfy1uOWBqAEwrQnUpoX0"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:48:42,801-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "401cfb162996484a93f6688161abcc1d"
s_p: "RHl5TVBESVM3YXBtVHJxMGh6emhUYnBMZEFCWEpyMXkyV0RIYzk0aUdoVTN3WlkxNEJBajZFZnpnN0huNzhvSnVmMFJSOHZRUXRQWXZId0d3NEZzZ2p5VDRGNmhGVTQ5dGVlYlVtUjFha0VnbTdDQ1hMQzNGa0N3b1M2amRQWU5qdUdXcWptRnM3ak1IUnh0UE0xdHJ0anVQMTRZSWd3N2dCR21DaGJTVVhLSjFRbDdnaEwwdDBHV3I2dDMza0dwNml1NU53NXZFR29QMkM4ZFFQQmJhWTRhQWgxSDdmUHFIc3JvVTlVb3NuWkZZRXE1UFM5UjczN3NxVXBwQ3FFQ1BBMmpLZ0FqU0F5WUNwN1BPRDJJVW1HUE5QZmpiaTFmS1RoeTQ3UXBvOW1LbFMzQnY0dnBFcUhGVDlJSkNOV2V1WE05NWNtbVdVZHNId3RxbkI4anlhc29VcWRNVUk2ckpIMGRTbENjTUpYZFlEOVE4dDFQcDRxQ0t2MXBCQTNLZzhDOXE3Zk93elZOeHc3dDBjNW0zeGhTVGh4bFlMQjMxTE04bVVjT2UyR0Q2RnQ0NnRMd1VmYWswbFRERXBKSFZidldtNGpBZURWUXhVa3pxY056Vnl2c0FVWFpPaWlpaHY2NmZCb3RJRHdpTkc3T1Y0S0lqazRCWDhMelRnSWN6ZnRwSjNjSlRSTGV1NzY2bTZkeWhscTlJUUEyNG12d21TUEw3MlBxYktGcmw4MmwzMFFLR0RDOEZOR3ZZMDZ3ckJTZGRIQ3dSQXZPbUU5aHUzaHpGUHNjdmFDN2trZkp5YkNBbTZSWlNVem4xRzdmWGNCelpQT1d5TUd0UjBKZmRKTGkzbFltT1ZSSlh2SEZLR1Z3U3B4dHZuM25YMFE2QUhwb1pDaVFteWgxWXo0dkJvbmJZYXhNZ0lZWVBUV3NwTUU3Z2JxdEpZRGxhTlNwTXBoZThmdGJ6R0xOZDlRWm1WbEdRNXNwejM3enlEMXkzVU16bXFqZVVhWGFNTXJlM2xCelVXYWc0b0VHOVJha0czbjBua1JSN2ZRU1FnMVc="
m_p: "8Lf97dnNovdA2260ugobfuG2v0Q6xWdwAH6vC80xZnVQF07jvV9vKQ3iIOS1ZXy8"
e_t: "1621529322796"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:48:42,801-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:48:42,802-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:48:42,802-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "401cfb162996484a93f6688161abcc1d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "4F6hFU49"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519184842208677696964672t"
version: "265"
queryType: "PAY"

2021-05-19 18:48:42,880-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:48:43,894-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:48:43,894-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:48:43,895-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "39382231527037"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Wl56LNKihkv2DF7GJXagyspQbodM4C8q"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:48:43,979-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f6c53a76f450444f8f706c7b1072a63c"
s_p: "ejdaZlFoTUNlUnNpWFBOTGFQVVhKa0hmMzE2VzRWMGFoYzhWU0dIUFZRb2hDTDVtTlIxclNYNW5vSHVzOEFTNTlqT2ZtM1NHc28wbWw5YkxxcVlNZ0dKTW9NRFBIa0lJQlNjQWpXalhTcENBNTNpUE42STJBQjdaQmREVFlqNDh3V05wVWJVWmlnUnVJbkVxZnY5T0tyU3dzckszcnMycm00TlJwbGJJeE9XbE9jcmFKOW5NdG11NjdncDRpTVNId1lEdFRWamZHZU5CTEw2amRXcEpaNkx2bU5pckxMdlNnMkV5c0RNM0lPUjlIRzd2Q1o0dWFTSjhBbWxJQlZ3UUNCR1I1OW5tUklOWmxTbzZoNmZlVlR5dDBZRHJ3UmdQVFNXSTQ2bWs4RnV5blRpODVPQlljbExhZ3N0ZnNkeGw3TlBJZUlseG1lZ3pGeFBaM01DZFlhZFpGZzRuNTZZaTdOUUxvbGxiSkFpeDdqSHRBV3pHNjdRb21TdWkzd3FCUlBIdzJLa0FNQmR5dlhMUDVkQndYTVFaT1pyMXJmUGlOMWdwTW04bXhmWjNJT1gzY2xlaVkxQkVva1RpNE9iRVdiWFRuckxOa0pSWDBoTGFPUzNEM1RqcmRWWnRHRVJiU1VQcHZQM2g5ekk5TGRtT2c4WEVScmJoWHJ0dnd4ZnhlUDJ1TU9WQjhBcFdsZlFNZTF1UjBSZmtqQ3VsdGp2ZHk2Y0ZXREFjc051UGFhRk1ybkoxU2xWYktiMHFwSkw3ZnNXbDU3TU81azVWWmFTZm5CanVKeThNSmp1WWx6cjlXM3hIWElKc3dVUk5NZGtFOGcycGVFNDlIWWpZV1VXQmRpc2tzVzU4NEpwYTU3azNuRGx1N1FISm1NOTd3T0FrQjBpYmg0UVRDWUtUeTBIMzFxUnVEUUt5ckFycXhQTDFEWHZYd2hQelYyUERUa3F4QXhxb1RrQW43SEtMem11WUlKZ1Z4M0JMWmJJNUc1T0xPejdqWU5tNTdIN2lLQjBqSHpJbFIwRHpmQm9RUDJheDdVajczY2dtQTVja1QzUnU="
m_p: "300RJElDS18T001y852CGiB4X2a1b1R3unCexGmG2pZ8Q9V42X03P1wD39M6916C"
e_t: "1621529323977"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:48:43,980-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:48:43,980-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:48:43,980-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "f6c53a76f450444f8f706c7b1072a63c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "9jOfm3SG"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519184842208677696964672t"
version: "265"
queryType: "PAY"

2021-05-19 18:48:44,037-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:48:45,051-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 18:48:45,051-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:48:45,051-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "23497301660764"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "labqXCt1gHWLVKsnDUwPc53YvR0OdGrZ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 18:48:45,116-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d450a94c4e134db3a47c8dcb189bddd7"
s_p: "UU1HRmpUMnhoeXdHSXl4eWdwbDJIQnBMbENZTkY3NVZmOEFmWmRFODN5dUhodlNxekN6QzROeml2a2ZieXdHU3NqeUhMOG9WOXBhejlnMktsNVBySk1nZVl4RmxrQ3VlemVVY1ZSa2xkb0l3Q1hYaFBaVHJUa2lQSzROQmhlbURVeGxlSDBqWkdTUjJxczFzQVI4U2FSelU4OGZDYnRhdnNSazFNSEZEcXJOV3gzeEhtRXc1c0JBR1JhcjVadXBTa2tCd1ljQWhJRWdrMmVrczhGVHBGc2JGZXgxaEtOeVB2QlJxMkxIMWh2U3RSRG9DUjVWMlhxRFo1V3Q1Sm9lV3hjb1JPaWdGRG5UTVIycEFTNTQ0VjVCREhPSHNZYmlnZnNiZk1kdUh5c1F6d0N6VXZNYUpXSHdNVGFzb1RSeHFJUEFCZGNOR1VKVGFhWGxoMVY3c3pXNEFGTFcxbVNpWThGRVlvMU9WcFZPbndZNmM1NG1xc3hPWW9LaGIwZlZoU2hjR0NhQUlUalZ6WVprZmJ3YlJWRFhyYjhYR0RlVm5ITWdiNFdwWERLd2xxSDlBTWhPdFUwQWo5ZnF1OVVabU4xZ2RGUlE3VFRkZG9NeXN2WURqYUhxU0VPcnR2dklPYmJVZldTcXpCOVp0VGFiSVNsWW5zTkcxZTZBVWJYaFI0RkFxbk53QW8zVUl4RExvOEZVblBNNnY5eUpGSE9PYmdBYkE4cDFtUHVFQUd6TGZNbVRHakI3NGJ5c216d0V0SXk1Vm1ZTVRHWkpycEVUclc4bHRteWwyRkpuR21qZTg1WjRQd3JpTXdmdlRBWThqdkVVSVNYU3lJdEhnZjMwa3pRajF3TmJVeXNQcWEzOUtvYUhqWndzSldCd214VVpkdk1Xa1ZvdTVEM0RRMzFybTZNc0JtclE4c0lsMk1ZOXhrTVlxT2VXQnI2VjV6MlRZUDd1RzRtcGZRdGJ3WUpGc3djNjZLbGpGUmNYZm9HMnN5YWtSdFhZY052aEJWclRNQWIyNnI5d0dHMUJ5U0JCR1VwTWpobUNDNnBjQ2VrOGM="
m_p: "jLZ733RS5tT9270BibF27771NwzxHFZUo85y3SdUn3UNSV3eu48XEl553AO8vohY"
e_t: "1621529325113"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 18:48:45,116-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 18:48:45,116-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 18:48:45,116-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "d450a94c4e134db3a47c8dcb189bddd7"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "kCuezeUc"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519184842208677696964672t"
version: "265"
queryType: "PAY"

2021-05-19 18:48:45,188-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 18:48:46,189-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[I6]={'partnerOrder': 'Ljv6ySwXDZzpn90YHQqUaoJ4AENsMbui', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:48:46,189-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[J6]={'payReqId': 'KB20210519184842208677696964672t', 'status': 'ACCEPTED'}
2021-05-19 18:48:46,189-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[M6]=passed
2021-05-19 18:48:46,232-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Vlb2ePp5vIdGDHuYi9xw0nONmKj6o7rZ', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643418', 'amount': 1, 'price': 0.4}", 'voucherId': '62643418', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:48:46,250-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:46,250-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:46,250-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[I6]={'partnerOrder': 'Vlb2ePp5vIdGDHuYi9xw0nONmKj6o7rZ', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643418', 'amount': 1, 'price': 0.4}", 'voucherId': '62643418', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:48:46,251-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:46,251-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[M6]=failed
2021-05-19 18:48:46,286-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'q4aVcTt309zsoSFrGPZYHxiCJ8AlpIOW', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643421', 'amount': 1, 'price': 0.4}", 'voucherId': '62643421', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:48:46,307-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:46,307-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:46,307-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[I6]={'partnerOrder': 'q4aVcTt309zsoSFrGPZYHxiCJ8AlpIOW', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643421', 'amount': 1, 'price': 0.4}", 'voucherId': '62643421', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:48:46,308-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:46,308-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[M6]=failed
2021-05-19 18:48:46,339-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'WpGKcvtewlFRxHzYu0EP46VSBMNb15jy', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:48:46,363-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:46,363-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:48:46,363-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'WpGKcvtewlFRxHzYu0EP46VSBMNb15jy', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:48:46,364-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:48:46,364-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[M6]=failed
2021-05-19 18:48:46,414-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'fa0SXGAIUYlgO3RJ4oub2crQNjmeEvDT', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:48:46,424-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:46,424-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:48:46,425-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'fa0SXGAIUYlgO3RJ4oub2crQNjmeEvDT', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:48:46,425-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 18:48:46,425-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[M6]=failed
2021-05-19 18:48:46,465-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'QX5RhMyte8w46UpIC7qgacf9ED2Bumrs', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 18:48:46,488-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:46,488-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:46,489-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': 'QX5RhMyte8w46UpIC7qgacf9ED2Bumrs', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 18:48:46,489-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:46,489-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[M6]=failed
2021-05-19 18:48:46,523-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'uCMAkvQe2y1UZ3cTBhaLpXDwodtr59bG', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '236.71.87.5', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:48:46,540-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:46,540-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:46,540-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'uCMAkvQe2y1UZ3cTBhaLpXDwodtr59bG', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '236.71.87.5', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:48:46,541-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:46,541-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[M6]=failed
2021-05-19 18:48:46,579-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'DvdHzRhUtlp3Qx1J2jfgscSWZoybYBTq', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 18:48:46,602-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:46,602-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:46,602-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': 'DvdHzRhUtlp3Qx1J2jfgscSWZoybYBTq', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 18:48:46,603-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:46,603-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[M6]=failed
2021-05-19 18:48:46,641-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'gajUZpnFkDNX37xQ1umTw9oJCyr4REPq', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '96.22.9.72', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 18:48:46,659-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 18:48:46,660-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:46,660-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': 'gajUZpnFkDNX37xQ1umTw9oJCyr4REPq', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '96.22.9.72', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 18:48:46,660-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 18:48:46,661-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[M6]=failed
2021-05-19 19:09:51,239-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 19:09:51,562-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 19:09:51,641-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 19:09:51,641-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.93:6379, 10.177.85.94:6379, 10.177.85.96:6379>
2021-05-19 19:09:51,642-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-05-19 19:09:51,894-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 19:09:51,894-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 19:09:51,894-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 19:09:51,940-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 19:09:51,942-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 19:09:51,946-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 19:09:52,783-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 19:09:52,784-INFO-lib.common.case_processor.entry-79-{'name': '直扣-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'RciC6FfgOSDt72JZExLmQGzsNeb8kMyI', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '{"authHint": {"payType": "AlipayPlugin", "mes": "partner=\\"2088311951685799\\"&seller_id=\\"kekezhifu@keke.cn\\"&out_trade_no=\\"RM20210519184839208677696956858t\\"&subject=\\"SecurityPayments+test\\"&body=\\"SecurityPayments+test\\"&total_fee=\\"0.01\\"&notify_url=\\"http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader\\"&service=\\"mobile.securitypay.pay\\"&payment_type=\\"1\\"&_input_charset=\\"utf-8\\"&it_b_pay=\\"30m\\"&sign=\\"dO1NrTGR66jipC%2BTs%2B3h9fYXrpMk1qKwP%2F9iorBN%2FL0aK9je5%2BCo3DuUgQPELBj%2B482HJ7Ixc5mEF0xo3vdQvIkb8H4BAPozhXs2V%2Bf00gyMvEXouj70XiNWzRxgq8HqGnq0Pp%2FVgZcOt6q2nI%2FnFv9F61IjWoT9QenyoQmtORI=\\"&sign_type=\\"RSA\\"", "system_order": "RM20210519184839208677696956858t"}, "payReqId": "RM20210519184839208677696956858t", "status": "AUTH_NEEDED"}', 'status_code': None, 'expected': None, 'is_passed': 'passed', 'comments': None}
2021-05-19 19:09:52,784-INFO-lib.common.case_processor.entry-79-{'name': '直扣-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': '6mlVMpFgyxDrGekHw7PO9f0hNnIXCSUj', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '227.221.113.188', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': ' 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:52,784-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 19:09:52,784-INFO-lib.common.case_processor.entry-88-{'name': '直扣-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'w3A2Rl8X0QsoJchSnNbCpEG65eMLZvag', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:52,784-INFO-lib.common.case_processor.entry-88-{'name': '直扣-银行卡，渠道回调大于商品金额', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0.02, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': {'partnerOrder': '4NITAnYwbSle1D90qfPjuXKhQidsCyLJ', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:52,784-INFO-lib.common.case_processor.entry-88-{'name': '直扣-支付宝，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': 'p2y9YgqBjQZPMi8Js4m3UlLtCIf5RhH6', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}', 'status_code': None, 'expected': '直冲不能有优惠券和可币金额', 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:52,785-INFO-lib.common.case_processor.entry-88-{'name': '直扣-微信，携带可币券', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '1', 'amount': 1, 'price': 1}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'YH75sKBNnSycGAp0xXPlTihI4MWR6qVk', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '64.194.160.244', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': '不使用优惠券时, 不能有优惠金额', 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,044-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 19:09:53,044-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-支付宝', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay', 'req_params': {'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}, 'actual': '业务订单不能为空:{code=101;message=业务订单不能为空}', 'status_code': None, 'expected': {'status': 'AUTH_NEEDED'}, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,044-INFO-lib.common.case_processor.entry-79-{'name': '纯充值-微信', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'wxpay', 'req_params': {'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '12.164.96.178', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}, 'actual': '业务订单不能为空:{code=101;message=业务订单不能为空}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,045-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 19:09:53,045-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-qq钱包，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}, 'actual': '业务订单不能为空:{code=101;message=业务订单不能为空}', 'status_code': None, 'expected': '各金额分摊不等于商品原价', 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,045-INFO-lib.common.case_processor.entry-88-{'name': '纯充值-银行卡，携带可币', 'tag': 'full', 'type': '-', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'lianlianpay', 'req_params': {'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}, 'actual': '业务订单不能为空:{code=101;message=业务订单不能为空}', 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,304-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 19:09:53,304-INFO-lib.common.case_processor.entry-79-{'name': '可币+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'tU7J2ecZLD1Wa0PCXuBxrkhKGnEygwVf', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': ' 5003 参数异常:{code=100;message= 5003 参数异常}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,305-INFO-lib.common.case_processor.entry-79-{'name': '可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643419', 'amount': 1, 'price': 0.4}, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': 'XVE7LFohWktrp3jIsRGynONJ8l0bxDdU', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643419', 'amount': 1, 'price': 0.4}", 'voucherId': '62643419', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,305-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券+渠道', 'tag': 'smoke', 'type': '+', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643420', 'amount': 1, 'price': 0.4}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'XucVWgqD2nvoYh5pUdsmkN98KJLMeIxG', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643420', 'amount': 1, 'price': 0.4}", 'voucherId': '62643420', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '233.240.217.105', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,305-INFO-lib.common.case_processor.entry-79-{'name': '纯可币', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'Ljv6ySwXDZzpn90YHQqUaoJ4AENsMbui', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '{"payReqId": "KB20210519184842208677696964672t", "status": "ACCEPTED"}', 'status_code': None, 'expected': {'status': 'ACCEPTED'}, 'is_passed': 'passed', 'comments': None}
2021-05-19 19:09:53,305-INFO-lib.common.case_processor.entry-79-{'name': '纯可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.01, 'amount': 0, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62643418', 'amount': 1, 'price': 0.4}, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'Vlb2ePp5vIdGDHuYi9xw0nONmKj6o7rZ', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643418', 'amount': 1, 'price': 0.4}", 'voucherId': '62643418', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,305-INFO-lib.common.case_processor.entry-79-{'name': '可币+可币券', 'tag': 'smoke', 'type': '+', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62643421', 'amount': 1, 'price': 0.4}, 'payType': 'KEBI', 'req_params': {'partnerOrder': 'q4aVcTt309zsoSFrGPZYHxiCJ8AlpIOW', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643421', 'amount': 1, 'price': 0.4}", 'voucherId': '62643421', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,305-INFO-lib.common.case_processor.entry-85-负向测试用例数据：
2021-05-19 19:09:53,305-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': None, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'WpGKcvtewlFRxHzYu0EP46VSBMNb15jy', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,306-INFO-lib.common.case_processor.entry-88-{'name': '可币+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': None, 'payType': 'alipay_hb', 'req_params': {'partnerOrder': 'fa0SXGAIUYlgO3RJ4oub2crQNjmeEvDT', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,306-INFO-lib.common.case_processor.entry-88-{'name': '可币券+渠道，可币券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 0.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642230', 'amount': 1, 'price': 0.02}, 'payType': 'alipay', 'req_params': {'partnerOrder': 'QX5RhMyte8w46UpIC7qgacf9ED2Bumrs', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,306-INFO-lib.common.case_processor.entry-88-{'name': '可币+可币券+渠道，渠道回调0', 'tag': 'full', 'type': '-', 'originalAmount': 0.03, 'amount': 0, 'kebiSpent': 0.01, 'voucherInfo': {'vouId': '62642236', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'uCMAkvQe2y1UZ3cTBhaLpXDwodtr59bG', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '236.71.87.5', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,306-INFO-lib.common.case_processor.entry-88-{'name': '红包券+渠道，红包券信息不正确', 'tag': 'full', 'type': '-', 'originalAmount': 1.01, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642234', 'amount': 1, 'price': 0.02}, 'payType': 'qqwallet', 'req_params': {'partnerOrder': 'DvdHzRhUtlp3Qx1J2jfgscSWZoybYBTq', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,306-INFO-lib.common.case_processor.entry-88-{'name': '可币+红包券+渠道，可币0', 'tag': 'full', 'type': '-', 'originalAmount': 1.02, 'amount': 0.01, 'kebiSpent': 0, 'voucherInfo': {'vouId': '62642238', 'amount': 1, 'price': 0.02}, 'payType': 'wxpay', 'req_params': {'partnerOrder': 'gajUZpnFkDNX37xQ1umTw9oJCyr4REPq', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '96.22.9.72', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}, 'actual': '不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}', 'status_code': None, 'expected': None, 'is_passed': 'failed', 'comments': None}
2021-05-19 19:09:53,315-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 19:09:53,353-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'oxrL8iG712S45nZzvXMEPcqObaUTHdht', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 19:09:53,417-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"authHint":"{\"payType\":\"AlipayPlugin\",\"mes\":\"partner%3D%222088311951685799%22%26seller_id%3D%22kekezhifu%40keke.cn%22%26out_trade_no%3D%22RM20210519190953208677696956243t%22%26subject%3D%22SecurityPayments+test%22%26body%3D%22SecurityPayments+test%22%26total_fee%3D%220.01%22%26notify_url%3D%22http%3A%2F%2Fopaycenter-secure-test.wanyol.com%2Fopaycenter%2Fnotifypluginreader%22%26service%3D%22mobile.securitypay.pay%22%26payment_type%3D%221%22%26_input_charset%3D%22utf-8%22%26it_b_pay%3D%2230m%22%26sign%3D%22jQIV7hhhYziQ4KXdYwI%252F6pLV3zy%252Bumavcqp%252B8fF7fjwBJily13PyRWz5SGziss%252BrZjXVDfD%252Bnuj%252B89J9UMXsoHpN9jWebS6Uf%252F3jspMVV2P0XkS1PXHgvp0Zm4pjRBXfHp8XCn8KwCFMo5MoJuj3aPNgMFqeYjW%252FNMPJtM0zo4U%253D%22%26sign_type%3D%22RSA%22\",\"system_order\":\"RM20210519190953208677696956243t\"}","payReqId":"RM20210519190953208677696956243t","status":"AUTH_NEEDED"}
2021-05-19 19:09:53,417-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519190953208677696956243t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="jQIV7hhhYziQ4KXdYwI%2F6pLV3zy%2Bumavcqp%2B8fF7fjwBJily13PyRWz5SGziss%2BrZjXVDfD%2Bnuj%2B89J9UMXsoHpN9jWebS6Uf%2F3jspMVV2P0XkS1PXHgvp0Zm4pjRBXfHp8XCn8KwCFMo5MoJuj3aPNgMFqeYjW%2FNMPJtM0zo4U="&sign_type="RSA"', 'system_order': 'RM20210519190953208677696956243t'}, 'payReqId': 'RM20210519190953208677696956243t', 'status': 'AUTH_NEEDED'}
2021-05-19 19:09:53,418-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[I6]={'partnerOrder': 'oxrL8iG712S45nZzvXMEPcqObaUTHdht', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 19:09:53,418-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[J6]={'authHint': {'payType': 'AlipayPlugin', 'mes': 'partner="2088311951685799"&seller_id="kekezhifu@keke.cn"&out_trade_no="RM20210519190953208677696956243t"&subject="SecurityPayments+test"&body="SecurityPayments+test"&total_fee="0.01"&notify_url="http://opaycenter-secure-test.wanyol.com/opaycenter/notifypluginreader"&service="mobile.securitypay.pay"&payment_type="1"&_input_charset="utf-8"&it_b_pay="30m"&sign="jQIV7hhhYziQ4KXdYwI%2F6pLV3zy%2Bumavcqp%2B8fF7fjwBJily13PyRWz5SGziss%2BrZjXVDfD%2Bnuj%2B89J9UMXsoHpN9jWebS6Uf%2F3jspMVV2P0XkS1PXHgvp0Zm4pjRBXfHp8XCn8KwCFMo5MoJuj3aPNgMFqeYjW%2FNMPJtM0zo4U="&sign_type="RSA"', 'system_order': 'RM20210519190953208677696956243t'}, 'payReqId': 'RM20210519190953208677696956243t', 'status': 'AUTH_NEEDED'}
2021-05-19 19:09:53,418-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝"[M6]=passed
2021-05-19 19:09:53,471-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'e9q6NpsyAgHb1OmPQvoi0wn2VjL7XZaD', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '238.247.130.81', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 19:09:53,721-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
	at com.oppo.pay.paycenter.manager.channeladapter.WxPayAdapter.getAuthorizationHint(WxPayAdapter.java:120)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 19:09:53,721-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 19:09:53,722-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[I6]={'partnerOrder': 'e9q6NpsyAgHb1OmPQvoi0wn2VjL7XZaD', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '238.247.130.81', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 19:09:53,722-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[J6]= 1016 请求失败,请换其他支付方式:{code=100;message= 1016 请求失败,请换其他支付方式}
2021-05-19 19:09:53,734-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信"[M6]=failed
2021-05-19 19:09:53,775-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'XSYi1cajZHGnJgMDfLsCKWerv5xVUl3u', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 19:09:53,788-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:09:53,789-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 19:09:53,789-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[I6]={'partnerOrder': 'XSYi1cajZHGnJgMDfLsCKWerv5xVUl3u', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 19:09:53,789-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 19:09:53,790-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-qq钱包，渠道回调0"[M6]=passed
2021-05-19 19:09:53,841-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'FMrlCkARz4t1cdHxUP30y9isfjeoDTNS', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 19:09:53,853-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:09:53,853-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 19:09:53,853-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[I6]={'partnerOrder': 'FMrlCkARz4t1cdHxUP30y9isfjeoDTNS', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.02, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 19:09:53,854-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 19:09:53,854-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-银行卡，渠道回调大于商品金额"[M6]=passed
2021-05-19 19:09:53,891-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'voTu38DxzK1fC7d6Alkj9I52gQrtFUBS', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 19:09:53,900-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:98)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:09:53,900-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 19:09:53,900-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[I6]={'partnerOrder': 'voTu38DxzK1fC7d6Alkj9I52gQrtFUBS', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 19:09:53,901-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[J6]=直冲不能有优惠券和可币金额:{code=101;message=直冲不能有优惠券和可币金额}
2021-05-19 19:09:53,901-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-支付宝，携带可币"[M6]=passed
2021-05-19 19:09:53,933-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'difhkzQgus9E2bVZXCl4y0P5S8rAtxHv', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '218.60.36.146', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 19:09:53,955-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:09:53,955-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:09:53,956-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[I6]={'partnerOrder': 'difhkzQgus9E2bVZXCl4y0P5S8rAtxHv', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '1', 'amount': 1, 'price': 1}", 'voucherId': '1', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '218.60.36.146', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 19:09:53,956-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:09:53,957-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣-微信，携带可币券"[M6]=passed
2021-05-19 19:09:55,026-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''})
2021-05-19 19:09:55,037-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:09:55,038-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 19:09:55,038-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}, 'partner_order': ''}
2021-05-19 19:09:55,038-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 19:09:55,038-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-支付宝"[M6]=failed
2021-05-19 19:09:55,082-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '235.204.19.9', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''})
2021-05-19 19:09:55,097-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:09:55,098-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 19:09:55,098-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '235.204.19.9', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}, 'partner_order': ''}
2021-05-19 19:09:55,098-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 19:09:55,099-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-微信"[M6]=failed
2021-05-19 19:09:55,138-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 19:09:55,148-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:09:55,148-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 19:09:55,148-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 19:09:55,149-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 19:09:55,149-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-qq钱包，渠道回调0"[M6]=failed
2021-05-19 19:09:55,184-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''})
2021-05-19 19:09:55,193-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 业务订单不能为空:{code=101;message=业务订单不能为空}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:91)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:09:55,193-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 19:09:55,194-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[I6]={'partnerOrder': '', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'lianlianpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}, 'partner_order': ''}
2021-05-19 19:09:55,194-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[J6]=业务订单不能为空:{code=101;message=业务订单不能为空}
2021-05-19 19:09:55,195-DEBUG-lib.common.case_processor.entry-92-开始更新"纯充值-银行卡，携带可币"[M6]=failed
2021-05-19 19:09:56,249-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.110.172:22880/com.oppo.pay.nearme.facade.NearmeAccountOperate?actives=100&anyhost=true&application=nearme-dubbo-server&delay=-1&dubbo=2.5.3&executes=100&interface=com.oppo.pay.nearme.facade.NearmeAccountOperate&loadbalance=leastactive&logger=slf4j&methods=addSubtractOperate,singleOperate,operateQuery,batchOperate,subtractUserBalance&pid=116878&retries=0&revision=1.2.0-SNAPSHOT&service.filter=jsonLogFilter&side=provider&threadpool=fixed&threads=500&timeout=3000&timestamp=1611741047769
2021-05-19 19:09:56,250-INFO-lib.common.db_operation.zk_client-60-com.oppo.pay.nearme.facade.NearmeAccountOperate的IP和端口:  10.177.110.172:22880
2021-05-19 19:09:56,272-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 19:09:56,311-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.00","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.59,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 19:09:56,311-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 19:09:56,311-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.00', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.59, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 19:09:56,311-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.00
2021-05-19 19:09:56,317-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.06', 'batchId': '19983682242969768467583995814421', 'bizNo': 'CrYj0pcauo6DhEGy1t9QXnLZqMgH5vz7', 'operateType': 'PRESENT', 'requestId': '86865402683216944530436212891715', 'source': 'test', 'ssoid': '2086776969', 'timeStamp': 1621422596313})
2021-05-19 19:09:56,365-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","timeStamp":0,"amount":0.06,"success":true,"appId":null,"sign":null,"signType":null,"failReason":null,"remark":null,"extraJson":null,"accountOperateType":"PRESENT"},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 19:09:56,366-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 19:09:56,366-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'timeStamp': 0, 'amount': 0.06, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 19:09:56,375-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke NearmeAccountQuery.queryAccountBalance({'ssoid': '2086776969'})
2021-05-19 19:09:56,406-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"ssoid":"2086776969","createtime":"2021-04-12 15:47:12","balance":"0.06","totalgiveamount":null,"totaldeductamount":null,"givebalance":"0.00","totatlRechargeAmount":0.59,"totalkcexchangeamount":null,"id":null,"totalConsumeAmount":0.0},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 19:09:56,406-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 19:09:56,406-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'ssoid': '2086776969', 'createtime': '2021-04-12 15:47:12', 'balance': '0.06', 'totalgiveamount': None, 'totaldeductamount': None, 'givebalance': '0.00', 'totatlRechargeAmount': 0.59, 'totalkcexchangeamount': None, 'id': None, 'totalConsumeAmount': 0.0}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 19:09:56,406-INFO-lib.interface_biz.dubbo.near_me-54-可币余额: 0.06
2021-05-19 19:09:56,407-INFO-lib.common_biz.find_database_table-74-`oppopay_voucher`.`vou_info_11`
2021-05-19 19:09:56,409-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT appkey FROM `oppopay_voucher`.`vou_appinfo` WHERE appId = '5456925'
2021-05-19 19:09:56,414-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'appkey': '8m7dlr743nre123kk439r54adf2aw3fku1'}
2021-05-19 19:09:56,414-INFO-lib.common_biz.find_key-86-查询到优惠券秘钥信息：8m7dlr743nre123kk439r54adf2aw3fku1
2021-05-19 19:09:56,415-INFO-lib.common.session.http.http_json-56-http://pay.pay-test.wanyol.com/voucher/grantSingle
2021-05-19 19:09:56,415-INFO-lib.common.session.http.http_json-57-传入的参数：{'amount': 348.3, 'appId': '5456925', 'appSubName': 'AUTO_TEST', 'blackScopeId': '', 'checkName': 'TEST_ACCOUNT', 'configId': '', 'count': 4, 'country': 'CN', 'currency': 'CNY', 'expireTime': '2022-05-19 19:09:56', 'ext1': '', 'ext2': '', 'maxAmount': 398.19, 'name': 'AUTO_TEST', 'partnerOrder': 'AUTO202105191909567253898380560393850946737645', 'ratio': 0.71, 'remark': '', 'salePrice': 0, 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'settleType': 0, 'sign': '2F305C3BD475865AF5E03032D0B94F77', 'ssoid': '2086776969', 'subScopeId': '', 'timezone': '', 'type': 5, 'useableTime': '2021-01-01 00:00:00'}, 类型为<class 'dict'>
2021-05-19 19:09:56,615-INFO-lib.common.session.http.http_json-62-返回状态码：200
2021-05-19 19:09:56,615-INFO-lib.common.session.http.http_json-74-返回结果：{'batchVouCreateResList': [], 'msg': 'success', 'code': '0000', 'vouIdList': ['62643426', '62643427', '62643428', '62643429'], 'batchId': ''}
2021-05-19 19:09:56,615-INFO-lib.interface_biz.http.grant_voucher-428-优惠券id列表：['62643426', '62643427', '62643428', '62643429']
2021-05-19 19:09:56,642-INFO-lib.common.db_operation.zk_client-55-获取到具体的providers信息:dubbo://10.177.43.136:16002/com.oppo.voucher.api.CouponBatchGrant?actives=300&anyhost=true&application=oppo-voucher-service&delay=-1&dubbo=2.5.3&executes=500&interface=com.oppo.voucher.api.CouponBatchGrant&loadbalance=roundrobin&logger=slf4j&methods=batchGrant,multiVoucherGrant,batchApply&pid=101240&retries=0&revision=2.3.0-20210507.072419-143&service.filter=toStringLogFilter&side=provider&threadpool=fixed&threads=500&timeout=300&timestamp=1620788516178
2021-05-19 19:09:56,642-INFO-lib.common.db_operation.zk_client-60-com.oppo.voucher.api.CouponBatchGrant的IP和端口:  10.177.43.136:16002
2021-05-19 19:09:56,656-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643429')
2021-05-19 19:09:56,674-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 19:09:57","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":3.98,"source":null,"couponDescribe":"0.71","useableEndTime":"2022-05-19 19:09:56","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":3.48,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191909567253898380560393850946737645","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643429","settleType":"0","status":"NORMAL","ratio":0.71},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 19:09:56,675-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 19:09:56,675-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 19:09:57', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 3.98, 'source': None, 'couponDescribe': '0.71', 'useableEndTime': '2022-05-19 19:09:56', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 3.48, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191909567253898380560393850946737645', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643429', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.71}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 19:09:56,675-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[G6]={'vouId': '62643429', 'amount': 1, 'price': 3.98}
2021-05-19 19:09:56,679-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643428')
2021-05-19 19:09:56,698-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 19:09:57","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":3.98,"source":null,"couponDescribe":"0.71","useableEndTime":"2022-05-19 19:09:56","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":3.48,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191909567253898380560393850946737645","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643428","settleType":"0","status":"NORMAL","ratio":0.71},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 19:09:56,698-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 19:09:56,698-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 19:09:57', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 3.98, 'source': None, 'couponDescribe': '0.71', 'useableEndTime': '2022-05-19 19:09:56', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 3.48, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191909567253898380560393850946737645', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643428', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.71}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 19:09:56,698-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[G6]={'vouId': '62643428', 'amount': 1, 'price': 3.98}
2021-05-19 19:09:56,702-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643426')
2021-05-19 19:09:56,714-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 19:09:57","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":3.98,"source":null,"couponDescribe":"0.71","useableEndTime":"2022-05-19 19:09:56","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":3.48,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191909567253898380560393850946737645","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643426","settleType":"0","status":"NORMAL","ratio":0.71},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 19:09:56,714-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 19:09:56,714-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 19:09:57', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 3.98, 'source': None, 'couponDescribe': '0.71', 'useableEndTime': '2022-05-19 19:09:56', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 3.48, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191909567253898380560393850946737645', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643426', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.71}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 19:09:56,714-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[G6]={'vouId': '62643426', 'amount': 1, 'price': 3.98}
2021-05-19 19:09:56,718-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke com.oppo.voucher.api.CouponQuery.queryVoucherById('2086776969', '62643427')
2021-05-19 19:09:56,734-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
{"data":{"country":"CN","couponName":"AUTO_TEST","grantTime":"2021-05-19 19:09:57","useableFromTime":"2021-01-01 00:00:00","available":true,"useScopeCount":0,"maxCutAmount":3.98,"source":null,"couponDescribe":"0.71","useableEndTime":"2022-05-19 19:09:56","couponBatchId":null,"couponType":"KB_COUPON","configId":"","conditionAmount":3.48,"currency":"","blackScopeId":"","couponDisplayName":null,"couponDiscountType":"DAZHE","ssoid":"2086776969","scopeId":"7104f7bc23e445daba913a5a96a264ac","bizNo":"5456925","statusDesc":null,"blackScopeIdDesc":null,"appSubIdDesc":null,"salePrice":0.0,"couponTypeDesc":null,"cutAmount":null,"factorDesc":null,"usedApppackageDesc":null,"grantRequestId":"AUTO202105191909567253898380560393850946737645","subScopeId":"","originalAmount":null,"usableAmt":null,"usedPartnerOrder":null,"couponCode":"62643427","settleType":"0","status":"NORMAL","ratio":0.71},"success":true,"errorDetail":"ɹ","resCode":"000000","resMsg":"ɹ"}
2021-05-19 19:09:56,735-DEBUG-lib.common.session.dubbo.dubbo-82-dubbo response doesn't have key `result`
2021-05-19 19:09:56,735-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'data': {'country': 'CN', 'couponName': 'AUTO_TEST', 'grantTime': '2021-05-19 19:09:57', 'useableFromTime': '2021-01-01 00:00:00', 'available': True, 'useScopeCount': 0, 'maxCutAmount': 3.98, 'source': None, 'couponDescribe': '0.71', 'useableEndTime': '2022-05-19 19:09:56', 'couponBatchId': None, 'couponType': 'KB_COUPON', 'configId': '', 'conditionAmount': 3.48, 'currency': '', 'blackScopeId': '', 'couponDisplayName': None, 'couponDiscountType': 'DAZHE', 'ssoid': '2086776969', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'bizNo': '5456925', 'statusDesc': None, 'blackScopeIdDesc': None, 'appSubIdDesc': None, 'salePrice': 0.0, 'couponTypeDesc': None, 'cutAmount': None, 'factorDesc': None, 'usedApppackageDesc': None, 'grantRequestId': 'AUTO202105191909567253898380560393850946737645', 'subScopeId': '', 'originalAmount': None, 'usableAmt': None, 'usedPartnerOrder': None, 'couponCode': '62643427', 'settleType': '0', 'status': 'NORMAL', 'ratio': 0.71}, 'success': True, 'errorDetail': 'ɹ', 'resCode': '000000', 'resMsg': 'ɹ'}
2021-05-19 19:09:56,735-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[G6]={'vouId': '62643427', 'amount': 1, 'price': 3.98}
2021-05-19 19:09:56,765-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'Y6WkAbjl7w9mPhHf0oCV1FQNcRBJED2t', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 19:09:56,801-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException:  5003 参数异常:{code=100;message= 5003 参数异常}
	at com.oppo.pay.paycenter.manager.channeladapter.QQWalletAdapter.getAuthorizationHint(QQWalletAdapter.java:102)
	at com.oppo.pay.paycenter.manager.flow.PayFlowManager.start(PayFlowManager.java:88)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:56)
	... 11 more

dubbo>
2021-05-19 19:09:56,801-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常： 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 19:09:56,801-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[I6]={'partnerOrder': 'Y6WkAbjl7w9mPhHf0oCV1FQNcRBJED2t', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 19:09:56,801-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[J6]= 5003 参数异常:{code=100;message= 5003 参数异常}
2021-05-19 19:09:56,802-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道"[M6]=failed
2021-05-19 19:09:56,840-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'ojpNH3FeUL7x9PhEGkMT1Ou4fVmKsZCg', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643429', 'amount': 1, 'price': 3.98}", 'voucherId': '62643429', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 19:09:56,855-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:09:56,856-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:09:56,856-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[I6]={'partnerOrder': 'ojpNH3FeUL7x9PhEGkMT1Ou4fVmKsZCg', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643429', 'amount': 1, 'price': 3.98}", 'voucherId': '62643429', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 19:09:56,856-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:09:56,856-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道"[M6]=failed
2021-05-19 19:09:56,896-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'NyHnZRjFcofMaU6TKrXgzACED0Q7ipI3', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643428', 'amount': 1, 'price': 3.98}", 'voucherId': '62643428', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '143.243.225.192', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 19:09:56,910-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:09:56,911-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:09:56,911-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[I6]={'partnerOrder': 'NyHnZRjFcofMaU6TKrXgzACED0Q7ipI3', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643428', 'amount': 1, 'price': 3.98}", 'voucherId': '62643428', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '143.243.225.192', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 19:09:56,911-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:09:56,911-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道"[M6]=failed
2021-05-19 19:09:56,945-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '9TCKS25BziR1YaZxIGPkgsWrQp8hu6eF', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 19:09:56,971-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Use default service PayService.
result: {"payReqId":"KB20210519190956208677696955523t","status":"ACCEPTED"}
2021-05-19 19:09:56,971-INFO-lib.common.session.dubbo.dubbo-98-dubbo回参：{'payReqId': 'KB20210519190956208677696955523t', 'status': 'ACCEPTED'}
2021-05-19 19:09:56,986-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 19:09:56,986-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 19:09:56,986-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "11750022294406"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "mzxc9r1IantGR60YFPvo3e5qH8up7dZk"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 19:09:57,054-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e1646456d7fa4cd88ea8645fcd4135e8"
s_p: "dEhHVHJNMXZ0YUZiZFNmT0VDQTdFN1h4RHhXcHMwc0FHRDl0amt2djNRbWtSbDB2SWpESkZlb0F6cklJYTc1OHB5Qm9MNnZOYWNJazBnbU8wVGljZFhXRklYcGVPeDlUQzB0WHRhQjFNZE5XSmR2ejYwVXlGZURoSnVobTl5UXJFdzdwbTlKdWJrMDRPTjNNNXhpZ1hGeFVaV2ZLUlN0d0haeFpLMHo0VlIyd2lqclR2NXVpaDNmOFdKS0hDelM0SFBJamJ0OEdJYlpiUG5kZTFNQ09ydmRBejViaUMyM2tuZ1ZEZEhjUWZUUTdaWHp2QWhIMUJwVFVoeTB1MXlwV2xmeGtxVzVmc2xDNGk4VVpGSENCR1JHc082YWd2VmM5TnZ0YlRNWXNzTzkzaGdLbUYweVhZZHNZWTBxSjRUQU55cUg0STBQVEdPWWdrV3d2cWdXbHhXN1gwRjRTTGpMekROMnZKSUVOM05ZUWN5T1Q5b1cxUHRNbVNUOUpNZVVWV0JWak81cW5lZkxtU2V3SWRCOUEwSXhubnFFVW4wMnRWQU1mUXpCMVRxWVhGeDZYbkQ2MEJod2EwTEtPNVRHVDJHOTB4b1hSNUtvMldPa1ZZdlJGUW03anRmMVY5SE9jaUV2UVdOWjR0cVEwSjNOU3dNbktkcXRjcnA0TkJwMk1tZEtHS0QxRjJUNGlkaUUyZTQ5Y0tBanN3SlR6NG9jS2d0b1djbURpYkhnam9LSkxSbmh5eE1TTXd2dnRpRUxIZVpGTlJ1QTdFU284UXJ3MVFVOURjdnd1ZDh6bU9MMG41T1Q1N1V1TU1RTkFnd3I0Y095WmF0NlQ3emJkV1EwZjlDOEhqWU5NbTFWb2daZ3ljZFU4OUlUd05jSm5EaFRmcnRVSU5Fa3ZoRHdKOW15d0F1SU52Tkh2alZON0E4dnJvQ2pGdlpwUzZ0YkdJeWw3em1zQ0FtcXBlejF5ck51Qk1tYjd0U3VSM1NkZFBCNDdtQlc5Nklza25ybmU2NEcxQ3JwWld2ZDFKZ1BUQ1VuN0J6ZDlzUlpBSmxiWjduWTA="
m_p: "q2gfO150K3FNai453425n37jj86Xhy0q2M1vGJva7jVnYTzW489s2D4m28mFI405"
e_t: "1621530597057"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 19:09:57,054-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 19:09:57,055-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 19:09:57,055-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "e1646456d7fa4cd88ea8645fcd4135e8"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "0gmO0Tic"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519190956208677696955523t"
version: "265"
queryType: "PAY"

2021-05-19 19:09:57,133-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 19:09:58,148-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 19:09:58,148-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 19:09:58,148-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "46555361781072"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "dEHLs3okYt8DuVNa1nxFvWqCgRXOrehl"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 19:09:58,221-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b3a7fef505f642e5bdce594f37a8eaa3"
s_p: "eVZWb21CM3YweGNMVWx0M1BPRzZqNmdoYW52QlQ2dlJabWFtQzBzc2N3cThxV0hUbUZZSzdTbHEydE9xZTBBWTZmQUpPVFVHdnUxTjdwOERxSWZyd3F2WmFqTGppcHBOdXE4YXgzYjVDRk1KOE9zeVdSOFE2NmlNblY3czdsbThHRXZXUmlZaDZSeE5RdEpIUzZ6aEJoN1RKNUZFd01UWllNRGVrR0g4a0ZKRjBvTTBlaUVQYnRveURiUlZVbDNWWDRkNXZ4bUdSMEhod3dSazRxcHMwalpOMEVveWZnRzF3RE1XS0l5MVdDanNOQVBvTlNVVEZ3ZnFCR2ZLdThpTm1NTlp5WXpaMzJXUnRPNEdNazlPOG8ydlBzTUdmUldlYWxGWDBsTnNUb2ZqQzJ5VHV6Z21mRk95VEoweWQ1Z1M4aWs0S0YwbGRCVXF0YTVKcVlGcTJ0ZTB5SmlFSXJEbHJhT2hnajlFOXlnck10TmFaV3ExbjEyOThKWm10TFB4SXdJZUROS1dyRGd5aENkWTRMdmd2ZUFTM0tyQXg4dXF1Q244ckJoTjJhSXc0djVCcFRrUFNlckNMTzhWS2pQeGExU2JnOEJTSXNkbGhxOEJUZGZLMnh6WDNEYTBTeVU0ZFowQ2lORVA4aXFLOEdhbXJRNktENldHVkNHVVExSHNkeVhGRDJrVUprS21IMkhZUzgzVHZEeWdHbU1HNkNjVXhTTVB6dmlqWWRKTzNNbzF4UmhUVVVzN0RwdVRzZXI2NzlabkN2ZXFOVHVKT0NkNUVYT3hMWU8zYkxWOVV1WjVsam4yeGhXRGhsMGlxZUFndWVzVm1lVWliak1ST2VKaDNZQkY4elIwYzhCU0JCUnd5eVdRRDZEZzBhUTB3UWVvazJ2dVRmdno2aTRpdlk5UjdnVEcxMm50SVUzUklPNTBKTGY3QlNjTXJzNTFuRGl2NFo1WjdOcmQ0UzZVeDdWcDlHejdFS0xYTVViYnhxaVJibkQ0TDNGR2w1Y09GQ0xLOXJwc3J2R3FmOGVnWktJbnRJd25PdEJza2o1dkdycVI="
m_p: "3gsX7nXOkz801HinP38A5R1sS1hzA173IH5rYGYUV3SZf4aCTzx3054iVIhWZJ47"
e_t: "1621530598219"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 19:09:58,222-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 19:09:58,222-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 19:09:58,222-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "b3a7fef505f642e5bdce594f37a8eaa3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "qIfrwqvZ"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519190956208677696955523t"
version: "265"
queryType: "PAY"

2021-05-19 19:09:58,287-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 19:09:59,300-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/tksv/post/pass
2021-05-19 19:09:59,301-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 19:09:59,301-INFO-lib.common.session.http.protobuf-51-传入的参数：token: "TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "57169080316279"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "1zGHvjOFe8Mm35Ug4Q7XdKikEV2DwYTa"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-05-19 19:09:59,381-INFO-lib.common.session.http.protobuf-68-None返回的参数：【<class 'PassPb_pb2.Result'>】baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f78acc6a2ecf490d86dcbfac423b1ddf"
s_p: "Ykt4c00wTDNFNXNVVEVwZzJPQXh6V3lGYVBpYUF6UmtZdjJ2dzhTTnJUNkZRTkdhbTZmYzZmNElMdFBpWDF5ZGwwalNNbjdWT1pXb1RBOWZFMloyR2lzZW5FZ09jQ1pWVDV3UU5BQ3JPUDNBRExaa1hMZnFEU2ZRa3ExNmFkY280ZXdjNDNrcFpoNkg4ZFVpclNDVkNBYlR5ejlrZHJUdUdpMDYyVmJwb25ZWmVpQVBrZmpicWw4QlM1QTJDYnN5R3lobTdzeDRKbjdFRDdFVk9lNFVIVWc4YVM0WnFjaWZjeVVQaXZ1bm94Y25aUGpiYjMySW1FTlU0RzBCSlZOQjREMmdvZU5CaDc2ZnFiUEJSNXk1YXlPV250eU12NUVtZ0FTajFPZXh1ZHVsTVROT3F3OXhHb0xuM0RQRUwwS3BVNWlVTTBLNmJKSmpGdjF5Tlp3dGw1MFRVWkJZZkRFc2pSOVN3djY4TWc2Tmh3ODVhbXRxdjlYQ1d3Qlh6TWo2QTRvUURLYlNZMFBWQkphQXFJZDRNQnVyaVFBME9JcFM5ZTBwc1FZaXNHNWhLckFrUHJlclBOR3NNdTZaeDFqTU9iR0hPbTNtQXlIRktKM2hOaEkzeHU4aGdNU2VrQ2pHWlpzNnZoRFprZDd1WVduM3NTQmdsZWVEck1TOE10cm1leFRoNG9DOXJGNXNBN0N6azI1aTZYYTNwejZzUW9KdFE5a3pza3dwMzVrMmpFZkxpbkRPMG9nQlJGVWJLWTROaGJMQVBVWEMxMll2Z3o0bjE1TFllbGxEWFhrZGxqdU8zWnoycVNPcTMycUJkRkh5VEVjNXZtWEtHdHpBUXpMa0JFMGRNMUx0UlpobEpTV3ZPMHJHZm12VzdUTHo2OVZ6WkF6WnFkT3pjQmFmVGZQaVdwa2YwUTN5WlRWUm80SWZlVmU0bzc1RkNTTWpVR28xdlJLeGhHakptWkljb0cxV2sxOEw1NXNQcEMzVmI2aFlPaFgyb1Fhcmt6NWEwRnZKcHN5bllRR0hmTHlyazlUdU1iQkNiRmxjNGVuRWZBUTk="
m_p: "3bU03tg4twPOkvr9cTxhBtJiQj06oq2qWHf31dgQH8R17300nPDHEhpVlWRiuTsC"
e_t: "1621530599380"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "144******98"
}

2021-05-19 19:09:59,381-INFO-lib.common.session.http.protobuf-38-URL: http://pay.pay-test.wanyol.com/plugin/post/queryresult
2021-05-19 19:09:59,381-INFO-lib.common.session.http.protobuf-50-需加入随机字节，标志位：0
2021-05-19 19:09:59,382-INFO-lib.common.session.http.protobuf-51-传入的参数：header {
  version: "5.0"
  t_p: "f78acc6a2ecf490d86dcbfac423b1ddf"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "9kdrTuGi"
  ext: ""
  sdkVer: 265
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB20210519190956208677696955523t"
version: "265"
queryType: "PAY"

2021-05-19 19:09:59,456-INFO-lib.common.session.http.protobuf-68-http://pay.pay-test.wanyol.com/plugin/post/queryresult返回的参数：【<class 'QueryResultPb_pb2.Result'>】baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: "0"
origAmount: "0"

2021-05-19 19:10:00,456-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[I6]={'partnerOrder': '9TCKS25BziR1YaZxIGPkgsWrQp8hu6eF', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 19:10:00,457-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[J6]={'payReqId': 'KB20210519190956208677696955523t', 'status': 'ACCEPTED'}
2021-05-19 19:10:00,457-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币"[M6]=passed
2021-05-19 19:10:00,489-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'vkes2JOn7BM6x1ZDIbGPwQYorhE0aiL9', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643426', 'amount': 1, 'price': 3.98}", 'voucherId': '62643426', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 19:10:00,512-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:10:00,512-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:10:00,513-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[I6]={'partnerOrder': 'vkes2JOn7BM6x1ZDIbGPwQYorhE0aiL9', 'partnerCode': '5456925', 'originalAmount': 0.01, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643426', 'amount': 1, 'price': 3.98}", 'voucherId': '62643426', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 19:10:00,513-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:10:00,514-DEBUG-lib.common.case_processor.entry-92-开始更新"纯可币券"[M6]=failed
2021-05-19 19:10:00,556-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '4ZpRKlmj58UdhNMIL2O7coC9w6rqaS0F', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643427', 'amount': 1, 'price': 3.98}", 'voucherId': '62643427', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 19:10:00,570-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:10:00,570-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:10:00,570-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[I6]={'partnerOrder': '4ZpRKlmj58UdhNMIL2O7coC9w6rqaS0F', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'KEBI', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62643427', 'amount': 1, 'price': 3.98}", 'voucherId': '62643427', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 19:10:00,571-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:10:00,571-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券"[M6]=failed
2021-05-19 19:10:00,603-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'SRVNmzkFlJUZ1xbv6CHYoPfcpqtjawse', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 19:10:00,615-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:10:00,615-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 19:10:00,615-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[I6]={'partnerOrder': 'SRVNmzkFlJUZ1xbv6CHYoPfcpqtjawse', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 19:10:00,616-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 19:10:00,616-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，渠道回调0"[M6]=passed
2021-05-19 19:10:00,661-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'hpyocSEBlkZfNXaWjUPbYu72LgRtTrx8', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 19:10:00,670-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:122)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:10:00,670-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 19:10:00,671-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[I6]={'partnerOrder': 'hpyocSEBlkZfNXaWjUPbYu72LgRtTrx8', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay_hb', 'directPay': 'ZHICHONG', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 0, 'voucherInfo': '', 'voucherId': '', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 19:10:00,671-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[J6]=各金额分摊不等于商品原价:{code=101;message=各金额分摊不等于商品原价}
2021-05-19 19:10:00,671-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+渠道，可币0"[M6]=passed
2021-05-19 19:10:00,708-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'GeL4kgOqzH0AxoRphb2wSFvUYZf3P9yD', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}})
2021-05-19 19:10:00,724-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:10:00,724-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:10:00,724-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[I6]={'partnerOrder': 'GeL4kgOqzH0AxoRphb2wSFvUYZf3P9yD', 'partnerCode': '5456925', 'originalAmount': 0.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'alipay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642230', 'amount': 1, 'price': 0.02}", 'voucherId': '62642230', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '1'}}
2021-05-19 19:10:00,724-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:10:00,725-DEBUG-lib.common.case_processor.entry-92-开始更新"可币券+渠道，可币券信息不正确"[M6]=passed
2021-05-19 19:10:00,754-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': 'xjWhsGqXNOk8wbIRZtmPA7T6a3nVeigK', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '205.196.161.74', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 19:10:00,771-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:10:00,772-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:10:00,772-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[I6]={'partnerOrder': 'xjWhsGqXNOk8wbIRZtmPA7T6a3nVeigK', 'partnerCode': '5456925', 'originalAmount': 0.03, 'amount': 0, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0.01, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642236', 'amount': 1, 'price': 0.02}", 'voucherId': '62642236', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '205.196.161.74', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 19:10:00,772-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:10:00,773-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+可币券+渠道，渠道回调0"[M6]=passed
2021-05-19 19:10:00,808-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '2cqCTLNj1bgSWxY4vzBh3rsXEHfutl5d', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}})
2021-05-19 19:10:00,826-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:10:00,826-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:10:00,827-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[I6]={'partnerOrder': '2cqCTLNj1bgSWxY4vzBh3rsXEHfutl5d', 'partnerCode': '5456925', 'originalAmount': 1.01, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'qqwallet', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642234', 'amount': 1, 'price': 0.02}", 'voucherId': '62642234', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {}}
2021-05-19 19:10:00,827-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:10:00,827-DEBUG-lib.common.case_processor.entry-92-开始更新"红包券+渠道，红包券信息不正确"[M6]=passed
2021-05-19 19:10:00,858-INFO-lib.common.session.dubbo.dubbo-52-dubbo invoke语句：invoke PayService.tryPay({'partnerOrder': '2wzAuqP13oWEJKmaTHOhnFMUlyZeLsDB', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '244.7.187.172', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}})
2021-05-19 19:10:00,879-INFO-lib.common.session.dubbo.dubbo-55-Dubbo Response: 
Failed to invoke method tryPay, cause: java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
	at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.dubbo.qos.legacy.InvokeTelnetHandler.telnet(InvokeTelnetHandler.java:131)
	at org.apache.dubbo.remoting.telnet.support.TelnetHandlerAdapter.telnet(TelnetHandlerAdapter.java:59)
	at org.apache.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:187)
	at org.apache.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:51)
	at org.apache.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:57)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.oppo.usercenter.common.exception.system.CommonSystemException: 不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.validatePayParams(PayServiceImpl.java:114)
	at com.oppo.pay.paycenter.service.impl.PayServiceImpl.tryPay(PayServiceImpl.java:55)
	... 11 more

dubbo>
2021-05-19 19:10:00,879-ERROR-lib.common.session.dubbo.dubbo-86-Dubbo返回异常：不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:10:00,880-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[I6]={'partnerOrder': '2wzAuqP13oWEJKmaTHOhnFMUlyZeLsDB', 'partnerCode': '5456925', 'originalAmount': 1.02, 'amount': 0.01, 'productsName': 'SecurityPayments test', 'counts': '1', 'ssoid': '2086776969', 'channelType': 'NATIVE', 'payType': 'wxpay', 'directPay': 'KB', 'presentAmount': 0, 'countryCode': 'CN', 'currency': 'CNY', 'kebiSpent': 0, 'voucherAmount': 1, 'voucherInfo': "{'vouId': '62642238', 'amount': 1, 'price': 0.02}", 'voucherId': '62642238', 'tradeType': 'PAY', 'contents': '', 'mobileNum': '', 'imei': '', 'imsi': '', 'ip': '244.7.187.172', 'mac': '', 'model': '', 'appPackage': 'com.example.pay_demo', 'appVer': '265', 'sdkVer': '1.0', 'channelId': '', 'gameType': '', 'extra': '', 'remark': '', 'discountInfo': '', 'openid': '', 'brandType': 'OPPO', 'mobileOsVer': '', 'platform': '', 'screenInfo': '', 'factor': '', 'notifyUrl': '', 'subPartnerOrders': [], 'payContext': {'plugintype': '0'}}
2021-05-19 19:10:00,880-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[J6]=不使用优惠券时, 不能有优惠金额:{code=101;message=不使用优惠券时, 不能有优惠金额}
2021-05-19 19:10:00,880-DEBUG-lib.common.case_processor.entry-92-开始更新"可币+红包券+渠道，可币0"[M6]=passed
2021-05-19 21:14:39,478-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 21:14:39,809-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 21:14:39,886-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:14:39,886-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.100:6379, 10.177.85.103:6379, 10.177.85.98:6379>
2021-05-19 21:14:39,886-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:14:40,143-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:14:40,143-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 21:14:40,143-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:14:40,190-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 21:14:40,191-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 21:14:40,200-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 21:14:41,112-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 21:15:54,740-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 21:15:55,011-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 21:15:55,082-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:15:55,082-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.100:6379, 10.177.85.103:6379, 10.177.85.98:6379>
2021-05-19 21:15:55,082-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:15:55,332-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:15:55,332-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 21:15:55,332-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:15:55,381-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 21:15:55,382-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 21:15:55,389-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 21:16:59,870-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 21:17:00,189-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 21:17:00,269-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:17:00,270-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.100:6379, 10.177.85.103:6379, 10.177.85.98:6379>
2021-05-19 21:17:00,270-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:17:00,518-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:17:00,519-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 21:17:00,519-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:17:00,582-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 21:17:00,583-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 21:17:00,597-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 21:19:11,168-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 21:19:11,479-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 21:19:11,581-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:19:11,582-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.100:6379, 10.177.85.103:6379, 10.177.85.98:6379>
2021-05-19 21:19:11,582-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:19:11,836-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:19:11,837-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 21:19:11,837-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:19:11,887-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 21:19:11,889-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 21:19:11,897-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 21:20:51,081-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 21:20:51,647-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 21:20:51,725-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:20:51,726-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.100:6379, 10.177.85.103:6379, 10.177.85.98:6379>
2021-05-19 21:20:51,726-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:20:51,999-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:20:51,999-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 21:20:51,999-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:20:52,040-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 21:20:52,041-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 21:20:52,047-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 21:21:19,546-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 21:21:19,866-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 21:21:19,943-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:21:19,943-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.100:6379, 10.177.85.103:6379, 10.177.85.98:6379>
2021-05-19 21:21:19,943-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:21:20,205-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:21:20,205-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 21:21:20,205-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:21:20,247-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 21:21:20,249-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 21:21:20,256-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 21:24:15,095-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 21:24:15,419-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 21:24:15,488-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:24:15,488-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.100:6379, 10.177.85.103:6379, 10.177.85.98:6379>
2021-05-19 21:24:15,489-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:24:15,739-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:24:15,739-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 21:24:15,739-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:24:15,774-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 21:24:15,775-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 21:24:15,790-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 21:29:32,353-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 21:29:32,635-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 21:29:32,714-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:29:32,714-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.100:6379, 10.177.85.103:6379, 10.177.85.98:6379>
2021-05-19 21:29:32,714-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:29:32,968-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:29:32,968-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 21:29:32,968-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:29:33,017-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 21:29:33,018-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 21:29:33,024-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 21:29:33,355-INFO-lib.common.session.http.http_json-181-原始header：{'Content-Type': 'application/encrypted-json;charset=utf-8', 'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/encrypted-json;charset=utf-8', 'User-Agent': 'EncryptJson/1.0', 'X-Protocol-Ver': '3.0', 'X-Protocol': {'key': 'UT6aTZ14FydY522g9RFasWr+qQEBn/0TdJPECjLyXY0K6jemF1K/fx61p5xEWYJWCkLR3/Hy+1BFOJnGBTkd/Bc8/AzZ0K9/l+qDl+u6RHTeypc68yNC/xhY9iTDzG/7MurVmAUtuyo45QHuKUlO8fwSPUOP0FWrorxkeoBXTLo=', 'iv': 'bVJOa2JUWUo2T0F0eWVYQw==', 'sessionTicket': ''}, 'X-SDK': {'sdkBuildTime': '', 'sdkName': '', 'sdkVersionName': '', 'headerRevisedVersion': ''}, 'X-Device-Info': {'model': '', 'ht': '', 'wd': '', 'brand': 'OPPO', 'hardwareType': ''}, 'X-Context': {'country': '', 'timeZone': '', 'maskRegion': '', 'locale': ''}, 'X-Sys': {'romVersion': '', 'osVersion': '', 'osVersionCode': '', 'osBuildTime': '', 'auid': '', 'ouid': '', 'duid': '', 'guid': '', 'apid': '', 'uid': '', 'usn': '', 'utype': '', 'betaEnv': ''}, 'X-APP': {'appPackage': 'com.example.pay_demo', 'appVersion': '', 'deviceId': '', 'ucVersion': '', 'instantVersion': '', 'ucPackage': '', 'fromHT': '', 'registerId': '', 'overseaClient': '', 'payVersion': '', 'hostPackage': '', 'hostVersion': '', 'dynamicUIVersion2': ''}, 'X-Safety': {'imei': '', 'hasPermission': '', 'imei1': '', 'mac': '', 'serialNum': '', 'deviceName': '', 'wifissid': '', 'slot0': '', 'slot1': ''}}
2021-05-19 21:29:33,460-INFO-lib.common.session.http.http_json-188-url:http://secure.pay-test3.wanyol.com/api/pay-flow/v290/get-process-token
2021-05-19 21:29:33,460-INFO-lib.common.session.http.http_json-189-原始body:{'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'appId': '2033', 'appPackage': 'com.oppo.usercenter', 'partnerCode': '2031', 'platform': 'ATLAS', 'appKey': '2033', 'sign': 'e56a1c29049b0d6893b8823bc27fc340', 'timestamp': '1621430972029', 'nonce': 'lAiofj4S'}
2021-05-19 21:29:33,623-INFO-lib.common.session.http.http_json-193-返回状态码:200
2021-05-19 21:29:33,624-INFO-lib.common.session.http.http_json-196-post返回：{'data': {'expireTime': 1621517373630, 'processToken': 'MkgBn5quhkSupFQXQAv8SE'}, 'success': True}
2021-05-19 21:37:30,711-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-05-19 21:37:31,043-INFO-lib.common.db_operation.mysql_operation-110-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-05-19 21:37:31,117-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:37:31,117-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.177.85.100:6379, 10.177.85.103:6379, 10.177.85.98:6379>
2021-05-19 21:37:31,117-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-05-19 21:37:31,379-INFO-lib.common.db_operation.redis_operation-35-连接redis集群成功:[{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:37:31,379-INFO-lib.common.db_operation.redis_operation-41-redis连接:RedisCluster<10.3.1.189:6400, 10.3.1.44:6400, 10.3.1.79:6400>
2021-05-19 21:37:31,380-INFO-lib.common.db_operation.redis_operation-76-connection list: [{'host': '10.3.1.44', 'port': '6400', 'name': '10.3.1.44:6400'}, {'host': '10.3.1.189', 'port': '6400', 'name': '10.3.1.189:6400'}, {'host': '10.3.1.79', 'port': '6400', 'name': '10.3.1.79:6400'}]
2021-05-19 21:37:31,435-INFO-lib.common.db_operation.mysql_operation-129-成功连接到测试专用环境-MYSQL：{'host': '10.52.54.122', 'user': 'opay', 'pwd': '_UI7xHubrhTPIP1J_T4so7SU7ATCrUzm7cAh6TdBLLHWUSQUQqD8p45xVQzV3Czi', 'port': '33066'}
2021-05-19 21:37:31,436-INFO-lib.common.db_operation.mysql_operation-53-执行sql语句：SELECT * FROM `pay_auto_test_info`.`test_env_account` WHERE username = '14441120298'
2021-05-19 21:37:31,444-INFO-lib.common.db_operation.mysql_operation-61-select_one查询结果: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 21:37:32,070-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 21:37:32,070-INFO-lib.common.case_processor.entry-79-{'name': '直扣支付结果页', 'tag': 'smoke', 'type': '+', 'req_params': {'processToken': 'MkgBn5quhkSupFQXQAv8SE', 'partnerId': '2031', 'rechargeType': 'DIRECT', 'activityInfo': []}, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': '{"success": True}', 'comments': None}
2021-05-19 21:37:32,532-INFO-lib.common.case_processor.entry-76-正向测试用例数据：
2021-05-19 21:37:32,532-INFO-lib.common.case_processor.entry-79-{'name': '直扣支付结果页', 'tag': 'smoke', 'type': '+', 'req_params': {'processToken': 'MkgBn5quhkSupFQXQAv8SE', 'partnerId': '2031', 'rechargeType': 'DIRECT', 'activityInfo': []}, 'actual': None, 'status_code': None, 'expected': None, 'is_passed': '{"success": True}', 'comments': None}
2021-05-19 21:37:32,536-INFO-lib.interface_biz.http.user_account-30-账户信息: {'id': 5, 'username': '14441120298', 'pwd': 'yf12345', 'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'ssoid': '2086776969'}
2021-05-19 21:37:32,537-INFO-lib.common.session.http.http_json-181-原始header：{'Content-Type': 'application/encrypted-json;charset=utf-8', 'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/encrypted-json;charset=utf-8', 'User-Agent': 'EncryptJson/1.0', 'X-Protocol-Ver': '3.0', 'X-Protocol': {'key': 'OELwjzPWFRy4tI6U3nuZwo2zyZXXE/HbhmujiJy4wZt5O5RwWKJj1xkuc8ALortCtg42OWI6+fO0xqfduBVpl0XxwXXOiZqhPZFnWs5o/JZmyPbQK3P1jfakYKZFdrhhYy+Tyu3Ot4fqRi8uXVIcKYgHorS18O/RgR8CG9Fzt5Q=', 'iv': 'RXpuVFZhcUtVeDAzcjVCTw==', 'sessionTicket': ''}, 'X-SDK': {'sdkBuildTime': '', 'sdkName': '', 'sdkVersionName': '', 'headerRevisedVersion': ''}, 'X-Device-Info': {'model': '', 'ht': '', 'wd': '', 'brand': 'OPPO', 'hardwareType': ''}, 'X-Context': {'country': '', 'timeZone': '', 'maskRegion': '', 'locale': ''}, 'X-Sys': {'romVersion': '', 'osVersion': '', 'osVersionCode': '', 'osBuildTime': '', 'auid': '', 'ouid': '', 'duid': '', 'guid': '', 'apid': '', 'uid': '', 'usn': '', 'utype': '', 'betaEnv': ''}, 'X-APP': {'appPackage': 'com.example.pay_demo', 'appVersion': '', 'deviceId': '', 'ucVersion': '', 'instantVersion': '', 'ucPackage': '', 'fromHT': '', 'registerId': '', 'overseaClient': '', 'payVersion': '', 'hostPackage': '', 'hostVersion': '', 'dynamicUIVersion2': ''}, 'X-Safety': {'imei': '', 'hasPermission': '', 'imei1': '', 'mac': '', 'serialNum': '', 'deviceName': '', 'wifissid': '', 'slot0': '', 'slot1': ''}}
2021-05-19 21:37:32,594-INFO-lib.common.session.http.http_json-188-url:http://secure.pay-test3.wanyol.com/api/pay-flow/v290/get-process-token
2021-05-19 21:37:32,594-INFO-lib.common.session.http.http_json-189-原始body:{'token': 'TOKEN_7t5kusT0owaYVytvYSs24P1SYARqhdd3XUKbxUtfC3TV7vmJ8OoliYh5lgZHhNtr', 'appId': '', 'appPackage': 'com.oppo.usercenter', 'partnerCode': '2031', 'platform': 'ATLAS', 'appKey': '2033', 'sign': '6fdc40fed9e71ccca1ee152baed8ac88', 'timestamp': '1621431449503', 'nonce': 'G15dr7zI'}
2021-05-19 21:37:32,705-INFO-lib.common.session.http.http_json-193-返回状态码:200
2021-05-19 21:37:32,706-INFO-lib.common.session.http.http_json-196-post返回：{'data': {'expireTime': 1621517852710, 'processToken': 'NmemizNQCwHibjEUmJHKYJ'}, 'success': True}
2021-05-19 21:37:32,706-INFO-鉴权-35-/get-process-token return: {'data': {'expireTime': 1621517852710, 'processToken': 'NmemizNQCwHibjEUmJHKYJ'}, 'success': True}
2021-05-19 21:37:32,707-INFO-lib.common.session.http.http_json-181-原始header：{'Content-Type': 'application/encrypted-json;charset=utf-8', 'Connection': 'keep-alive', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/encrypted-json;charset=utf-8', 'User-Agent': 'EncryptJson/1.0', 'X-Protocol-Ver': '3.0', 'X-Protocol': {'key': 'OELwjzPWFRy4tI6U3nuZwo2zyZXXE/HbhmujiJy4wZt5O5RwWKJj1xkuc8ALortCtg42OWI6+fO0xqfduBVpl0XxwXXOiZqhPZFnWs5o/JZmyPbQK3P1jfakYKZFdrhhYy+Tyu3Ot4fqRi8uXVIcKYgHorS18O/RgR8CG9Fzt5Q=', 'iv': 'RXpuVFZhcUtVeDAzcjVCTw==', 'sessionTicket': 'VhuTKTU1WKF5wBWtz+PvBE/QCCDgNana'}, 'X-SDK': {'sdkBuildTime': '', 'sdkName': '', 'sdkVersionName': '', 'headerRevisedVersion': ''}, 'X-Device-Info': {'model': '', 'ht': '', 'wd': '', 'brand': 'OPPO', 'hardwareType': ''}, 'X-Context': {'country': '', 'timeZone': '', 'maskRegion': '', 'locale': ''}, 'X-Sys': {'romVersion': '', 'osVersion': '', 'osVersionCode': '', 'osBuildTime': '', 'auid': '', 'ouid': '', 'duid': '', 'guid': '', 'apid': '', 'uid': '', 'usn': '', 'utype': '', 'betaEnv': ''}, 'X-APP': {'appPackage': 'com.example.pay_demo', 'appVersion': '', 'deviceId': '', 'ucVersion': '', 'instantVersion': '', 'ucPackage': '', 'fromHT': '', 'registerId': '', 'overseaClient': '', 'payVersion': '', 'hostPackage': '', 'hostVersion': '', 'dynamicUIVersion2': ''}, 'X-Safety': {'imei': '', 'hasPermission': '', 'imei1': '', 'mac': '', 'serialNum': '', 'deviceName': '', 'wifissid': '', 'slot0': '', 'slot1': ''}}
2021-05-19 21:37:32,708-INFO-lib.common.session.http.http_json-188-url:http://secure.pay-test3.wanyol.com/api/marketing/v290/get-pay-result-activity
2021-05-19 21:37:32,708-INFO-lib.common.session.http.http_json-189-原始body:{'processToken': 'MkgBn5quhkSupFQXQAv8SE', 'partnerId': '2031', 'rechargeType': 'DIRECT', 'activityInfo': [], 'appKey': '2033', 'sign': '8cdef52252ae9adbed47ef89ee56843b', 'timestamp': '1621431449503', 'nonce': 'G15dr7zI'}
2021-05-19 21:37:32,762-INFO-lib.common.session.http.http_json-193-返回状态码:200
2021-05-19 21:37:32,763-INFO-lib.common.session.http.http_json-196-post返回：{'error': {'code': '101', 'message': 'partnerCode must not be empty'}, 'success': False}
2021-05-19 21:37:32,763-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣支付结果页"[E6]={'error': {'code': '101', 'message': 'partnerCode must not be empty'}, 'success': False}
2021-05-19 21:37:33,017-DEBUG-lib.common.case_processor.entry-92-开始更新"直扣支付结果页"[H6]={"success": True}
