2021-02-23 13:02:35,182-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 13:02:35,483-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 13:02:35,524-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 13:02:35,524-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 13:02:41,417-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 13:02:41,421-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 13:02:41,422-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 13:02:41,425-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 13:03:35,122-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 13:03:35,397-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 13:03:35,436-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 13:03:35,436-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 13:03:35,798-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 13:03:35,800-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 13:03:35,801-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 13:03:35,804-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 13:05:28,651-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 13:05:28,938-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 13:05:28,998-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 13:05:28,999-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 13:05:29,360-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 13:05:29,364-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 13:05:29,364-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 13:05:29,367-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 13:05:29,368-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 13:05:29,369-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 13:05:29,448-INFO-fiz_db_operate-26-可币余额：476.3800
2021-02-23 13:05:29,476-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:05:29,482-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "97238248382326"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "LzrIfDG0sKyd5a9vV7S1bPO4FnQUCoxk"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:05:30,005-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f24bff6972894efa8b2327d91ad03d7f"
s_p: "OWNsbWxNODVwQmN1NHZjem5lSWliY2cwd3QxQlZTV3dWaWpiem82VUxuVmNsdFY2RU1OQ0JDNW1DMHlKTk5VZ0FtWmFKOWx6ZUZId2xYQ1BKdmZ0VVQxRmRYZjF2emkxdVlsRk1GRlZFSFNxUEhRQ3lvTFo0NGF0RmhkS0NkeWt1SElDd2o0MVRkVHJzRzN5dTExN0ppUlM4WUVhbkF5SGtBaEt5alR4SmEwb1JRcDE2OGdjeUNTdmZuY29QVHM4ZWJKS3o2MmxMWXduR2VLOUxOZmlPU3ZHYVVTUGI2c2tmQUhMUFFMbkJ1NVZzbHFsWHdqeU1uczFibFlOZkhjNVZyeEIzckE4WDNrMEtJNGp3cDNNdnZYbXZ3M0s4ZFF0UW8wa002VjFpSmdUU2RBT2FTWXlydkZadUNITnAzMzlkalpwTVN6VlkwbjhNME9wRUJ4bmJNbWVxWm1KWWdEd2swanA4QWN4cHd1VVh3c29INEtpd3lUc3prVGl3bU1VcklCbWZMdXdvYjBxNWNROXdhR0lna1hsQXdlOWNtaE41WWJxQVVuS3R2bW1PU0N5RHlBbGk2SEJoUFdSYUZxTzB5Nmh6WVhHT2VySnNrS3lBMFlYS1FpUTRLeEVIYXExRXYxTkNOaFlFOG5CRGZaZnR4ekQ3elUzdWwybXNzUk8wZWpRVFhiU3A3cmtKcVpSaHdSYUtPRWZmUThZQldENDYxaEY5WFE1QkE4eklnRWNHeHNTUnF1dUJidGhGNllhMjc5T1daNXFhWm5IbUZiOGVoREFtMElmcHlJaDlTRldvSW9POEVSTEZSWG5ZaUV0d2FaM2R6VGtYV1FMSFpFQXBnV1NRa2hXUUdmOUFUSlNRU0VrMU9CRDFET3Q2d0tOaEJ4U0UwRlNkdE9wdWhrYjJYRjZKUUpUc1VSczNsQnNzQjMzYWNzTFZlc2ZyaXJRR1hIbHo4YmlXdTIzaks1STd3V1dTMzJscVppRGNyQXdyTVhiQ2J2QngzYzY0NkR5YzZEaGxHYzNTSGZWdHJKYUlHeW84azlMNTBETnNBMTE="
m_p: "UQt19GZ1UnVS4NARiD775nAiU8ac2CMuVW4MYvMXS9doJD1NrGyNGlh9q8c80u30"
e_t: "1614164732458"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "476.38"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 18
}
userinfo {
  username: "156******06"
}

2021-02-23 13:05:30,406-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:05:30,406-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "f24bff6972894efa8b2327d91ad03d7f"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "TdTrsG3y"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "9.91"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "wZPJQIU1KV7cNbMx4OToa5LpS3fyE8tj"
}
sign: "vitGZ5RwLM/z5IOWCdV7IuUt1AAnemESfURqx9xza+n/wTzDnZ6WzPxy1UVIXllHaiGkoK8DYxbONqP9cDsZxHVW560WorYJfXnf/ZQ9oZkyMYX93zLK2IxlTvpyLDDTyTprjM8ghaJo6+qSKCvA5EQAV1rO36c//KUjzcv/sRksCy83DyN7Jh0Hgx/dJ/a6n4WjWcrdzMLRgHHEFw1mqDZz6hxevJUwRIxxOjS5R5+y4vxTaXkh/kU87Cxtaeo+a8nnEalr927rsJjX66s0lkx7VJe205R/a3+EEptkDOOE6mfgu8LM63KnUma3SWckbMWxfjR17jJq8DbFW9IrXg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "f24bff6972894efa8b2327d91ad03d7f"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "TdTrsG3y"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 991
  count: 1
  productname: "RECHARGE_SPEND_PRICE=AMOUNT"
  productdesc: "RECHARGE_SPEND_PRICE=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "wZPJQIU1KV7cNbMx4OToa5LpS3fyE8tj"
  channelId: ""
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "J0ZGFn9gw7ZgIJpOeWgYy4Z09gajezg0MWrAH/4KLBXupgUEbLjGPJVgh/tjvexmoAavSiMswsH0qo+FjN8dXV2a2EDAaEkQxgYzNyGaHwQH6x4+4WYPi/+Ns91xf8/q2Yc1Pqkd8AefUTWbJfhV5xoTU05t+/9lJJ4S83EByD0="
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 13:05:30,876-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"2d9e9d10199f4e17afa1e7f951415b08\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23130533277421a510a811f3ece96e0000\",\"sign\":\"77C76E8A265200F7A6106FFD0151E716\",\"timestamp\":\"1614056733\"}"
}
payrequestid: "KB202102231305322076075925126742"
model: ""

2021-02-23 13:05:30,891-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7209430474665413669796305781]]></transaction_id>
<nonce_str><![CDATA[79XBAqKtsjMI4eR6Uup2Z0o8iydQSFHm]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[516DD23992DED0C3D0FE6DD61046BFD6]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231305322076075925126742]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>991</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223130530]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 13:05:31,125-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 13:05:31,125-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 13:05:31,132-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:05:31,132-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "30116471246340"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "7TwKsQlYutVyGMq14ApJ2PILOUknzeB8"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:05:31,248-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c267c2aafbc34cf2ab942de9d8d980e4"
s_p: "T3NZQ1RSbUVhNzFTa3FiOWpGME9IeFRwVklycko3WDR6TlByUENCZGhZRWl1anZQOTRwNm96a2Rqamw2QlJLMXcydFkzQTFVazZiMEcyQ04zRWZJakVtUzdWZjVjbHVWY0xEUzFITDZJbHdReUtVTWRva09jUmJ1Mm92RTIyTlVtYVhraEh2TFpaY1JBUHdqTWYyNDRrSUhMT0Z4M1hvR1J6UTBmclNveWVlSzRrV3cyUDJsaThSa0t2YnFQMXdIdDlzdVNHbjJmS0VjTzlmTTZOeTBjNGxHZXhkeEpHUjlnQzFNNlNlaDNxNmpiZzQ0ZGZZUXRCQ01sckxwY05jMDdRbXJ1Q1V5SGsxdFg5TlFzbmJoWFc2ZUVId1VPbk5JTWpCamkzemU0ZzFPaEV0UmlwV2ZtWWZmbVA5OTBYcXRUWFh1VFdoM1JveUtEWUlDa09uQ2xwc2drVXZLakVSRE5EZXZ6QU91RktiOEJWc281RWE5bVdydFlmVG41UGRTY0pRR015c2lCZFpOMHFHYlFmMEY0aWszZEFPU1pEMUNyRE1iQWlEWnNmZ2x5RVo5cTFHbHZHWHRZRTJoNVdPOFp4M3lQald3WFlTdTZ2YVdzQ0ZORlJad0VWSWw3ZGZPaEhid2RvQTRRaXlHcm92RjFrVXBZRmwwRjFNSFhOazZMOTYwYXdXVjQ3V2g5S2tBNnpzdDJmc3hENzB6dGNNTnZjUHBXQXE2TEpDUUdJMGZ5TWx4dEdHWTFkSnZsTmpZS1NncFpVTUlvN0w5a2ZpVnJ2WEdWbEZOVzQ5ZnhiT1lmdldzTkR1SHJUMGtaUWpiZ0VTTDdsTW01ZGJESHR5dHJjcGdnS0RjcnRIRW5zdnFvMmlNNXFDRFBUVllYNEpjaGN0U2E4TUVJb3NqUTNDNXNmVDl3bnFsTXJOWFozZTBmeFJGOGNxYWRQNmRpeXJBVUFSaWlNTW5VOTJFZnRiekhrMlU0dUFSYVFadGhVc1J3Z1pGWkYwd0ttaHd0Mmljd2ptbFZaT3RBcUNSMDR5TDM3RnJRQ1Z3WDBhRUhQREM="
m_p: "Xw1926cma5JJkugB1ENg0vH3Sr5ZvFt22EAWFymIMnaNFy1Pw8p4vpF0R1184Me0"
e_t: "1614164733680"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "476.38"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 18
}
userinfo {
  username: "156******06"
}

2021-02-23 13:05:31,253-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:05:31,253-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "c267c2aafbc34cf2ab942de9d8d980e4"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "fIjEmS7V"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231305322076075925126742"
version: "260"
queryType: "PAY"

2021-02-23 13:05:31,299-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "9.91"

2021-02-23 13:05:31,300-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 13:05:31,300-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 13:05:31,303-INFO-fiz_db_operate-26-可币余额：476.3800
2021-02-23 13:05:31,303-INFO-recharge_spend-52-可币余额正常
2021-02-23 13:05:31,304-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231305322076075925126742"
2021-02-23 13:05:31,309-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14946, 'pay_req_id': 'KB202102231305322076075925126742', 'notify_id': '7209430474665413669796305781', 'partner_order': 'wZPJQIU1KV7cNbMx4OToa5LpS3fyE8tj', 'amount': 991, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 991, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 13, 5, 33), 'success_time': datetime.datetime(2021, 2, 23, 13, 5, 30), 'modify_time': datetime.datetime(2021, 2, 23, 13, 5, 34), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '{"cutAmount":"0","id":"0","type":"0"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '0', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 13:05:31,309-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 13:05:31,309-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231305322076075925126742"
2021-02-23 13:05:31,313-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7632, 'pay_req_id': 'KB202102231305322076075925126742', 'partner_order': 'wZPJQIU1KV7cNbMx4OToa5LpS3fyE8tj', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 991, 'amount': 991, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 13, 5, 33), 'success_time': datetime.datetime(2021, 2, 23, 13, 5, 34), 'modify_time': datetime.datetime(2021, 2, 23, 13, 5, 33)}
2021-02-23 13:05:31,313-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 13:05:31,314-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231305322076075925126742"
2021-02-23 13:05:31,317-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 13:05:31,317-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 13:05:31,318-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 13:05:31,318-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "wZPJQIU1KV7cNbMx4OToa5LpS3fyE8tj"
2021-02-23 13:05:31,322-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 13:05:31,322-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：None
2021-02-23 13:05:31,322-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 13:07:16,073-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 13:07:16,358-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 13:07:16,404-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 13:07:16,405-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 13:07:16,777-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 13:07:16,780-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 13:07:16,781-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 13:07:16,785-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 13:07:16,785-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 13:07:16,786-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 13:07:16,789-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 13:07:16,798-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:07:16,798-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "58468015629999"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "sGWljMVCZH6gOaN0SXe3P4ub1iwcLrQo"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:07:16,988-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0d220594177243ed8f09fbc4a6b65919"
s_p: "YXdLWjJVV21rdEhRNnU0cmVNNm9IWjl4UmR1N3lxcVhKSnM4R2J5VjZCV0dhaHNIb1BadjZncjNjTTJxWDF3c20zaHdabWhiQjFLOFJFNkZWekNEU1JlbjhYTXZMa3BpRzJhMDlYYVZWWXZwd09CM3VaOXNpZG9Zakd5WmhZREM3dGNOelFoWUlrWGYyWHJjdXM1RmhRbFY1UDdUNW5BT21VWlh1bmprOGpkUDJoU0tMSHl1cFl5SzFOWXhxMWloUERWVHIwRzFYOEsyUlV2THlXTmNMOG5MaW1SNkw0UThVQVRXa3hzTGI0NXl5MjA1ZU83MFpnZVc5aktudmtvbkRUU0lSSFl3MlB5YU40WGQzY2NWZUdHbExwOFY1Q3RHcU5URVhvZ3hpZG41TGN5d2Q3NWRuUXVUNDdtRTBxc1Z0TTRtM2FWd1ZVT3ZTcmRUcXE4azhLbzFDQ09oNTZjcTBSUk5VcGZiaGJjWEhHSk1TclA4ZTBvcFJLcVZoNmV1UlZoUUxaa1RBTnMycVVKdzNCeWVUV3B4YldUNjNVWjN3cERhRWRGMElzQjNDcXdjRlRocTkxdEZvdWVSeTk5R2YwNlE5RFlJeUMyTE9lOVNpbWFxN3ZrcmRzOEZ4ZFM5cU95OHpQT2FtNnRrVEg2ZXVwWVZPZ3ZJUVdwNE1XdDZoY0JXVmIySzdLVzRHM1htaTlDSHJQWmVDbEpmdTRYSU1uU3RhTjZLQ0JiRWk0RG93eWZValplRmNCVnAzSENCUUszSkE2eWhqNjc1bzk4N2hETE1kNEtlOHFLVU9wV1ZEeU5hRVEwaHQxM1d6NDhpWHZDZ0NaU0hvUWluZnJ0d3VOVE05ejVjSDFDQXNlcTE5cGM1M2NFOWt0MXgxeEVqQ2V2U3dES25Kcm96Mkd1MHBzdVdwNW5XbGE1U0ZUYUFsd1M3UE1QaU5nSlhDQXF2ZEtiWEhqZHlhZmNkNEpQUkdHQ2NDVkNEYnZGWlN3OUFUV2EzOFc2Qnl2dTVrUjl2VXZRRG9LVVNyNWt0UmJjT2haQTVpNTFOY3BlUUw4bkU="
m_p: "Lo457pOO3A3L6CYIG01Oh0c9BSN6Z4CGaTqF8VTMl30AwOr7Le5gqwO1adMSn2iX"
e_t: "1614164839413"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 3
}
userinfo {
  username: "156******06"
}

2021-02-23 13:07:57,320-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 13:07:57,561-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 13:07:57,603-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 13:07:57,603-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 13:07:57,972-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 13:07:57,976-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 13:07:57,977-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 13:07:57,980-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 13:07:57,980-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 13:07:57,981-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 13:07:57,984-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 13:07:58,076-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:07:58,076-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "24854314787688"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "q2Bt98DMKsiwmVheoNlAU3X1RG75xE0a"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:07:58,276-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "6ac21212452645d484e0471f3fb7604b"
s_p: "NzNRaEJLZ2VFM0NVUDI3TnNFdTJYYmZkbU9PTWZ4Mzg3R3YxNzhOM1o0MzB3WHlsTDEzQUpVOEU5dXhmdTZjaWh1UGx3VUROWVdjMEJxZldMQkU5d1ZSQVdlUmdhRWpIRmVybHVFTWhkM2dRTFpDSWFmY1hPV2FjWFdBclROWk9sd1N4QVlxc3MxeTVDR29IVXNQWjdsM0JMRHRhcEQ4MUoxSmlNOE5HN2tIbG83andva1hwdWxXMFZFTkJlaEw5NkJxcHFMVEFjRTBRU0FhUG5FOXVBV1ZDdHZ6d0MzY3pOWk1xWHBJRzdabU1vU2R0T1ZaMUowMVQ2bGdYNXA4UlBPVExpSnJ3VjVqVmJJM3RoSjVOU1NJOEF4OWlxVlYwaVJ3VURyYU1vRG04WmNJS3VOejdmaVR6UHBqeGdrOWQ2TDM1UXpJR0hsWkJHU2lYOEEzcFlVdVFVYVROTXk0YmRTZmxJVFBwTGJzeXJzUkEwdzgyeVB3WmczbTNsTm9YdERLUXJsbTFjb2tyTEtSc0FJOGExVkZPZVBWZ2dDNWpjZ2FHMU1iMzdEMUE2TEtzd3JwUmdrZXlja0xnZFRqUU53VTE1TE1ROU01cmcxNHhQVzZaTXBVYjY0UUlWZXdtd2lFemttenlNODNaeXVWYTAza0JGMEQyOXZZaUtNR1hlWUNoQXphS0dhS2dJaFRWTGVHZmhoalNpYVk4YURETDB4clB4YWRNaXJ6eWg4Y3ZMbHNxQU5VZUlaU3dhUnhVY01JVFZ2ME11dWZUOUdjUk5UMTNKM1F6M1UxS1VOdXI3NmhmakRUcnR2OWptbnhVZk9LaGNtbG5WVUNxM2JhcVZiaTdLaHc0UThxbFh0c2ZIWXNkTjlQN1BLTEZidFdTQUFNQ0N2eDVEZVUzcGt0czZjZFBDTDdnbnZvWmMxcThRNFYwb0t3alRvNEhXMnRxUE5CUVJ0MFllTThPR3U5SDVSalZPVjlGMEZzTjRjbWNvVWplZVdtYzF4QjFmVGZJdkV4ZFFCeVl0OGh6STVMMW8xdTFNZUcyYU90VlE5ajk="
m_p: "9Tj5vjJkU39XK0282TvrVMoHnoqNfsww9Gyh5390jDi3DJtp6Aujm2F63WveN6yB"
e_t: "1614164880743"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 3
}
userinfo {
  username: "156******06"
}

2021-02-23 13:07:58,297-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:07:58,297-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "6ac21212452645d484e0471f3fb7604b"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "oHUsPZ7l"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 0
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerOrder: "uAr3BNb60ivSzlDjVfaTtEFwpIohZJg9"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "b1FMPjrSBS2Aec8P87d0tJMKYfUQmwXsaIL8RJWLI3Iaui5VvjpcoNMKJZMLArYALRkpJ1zowBoefkgFf3tIJaBBrSCEFjxz+/nYo8b7e+6WsCY46aAUCne6P402kC+VsmiNFr+VKAIKtOhNSfi6xLJG5ckqZBBVsn9Ep4/rKWU="
order: "5859427010995"
ip: "120.197.152.211"
factor: ""

2021-02-23 13:07:58,453-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "1010"
  msg: "\345\217\202\346\225\260\345\274\202\345\270\270"
}

2021-02-23 13:07:58,470-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.93', 'batchId': '77819231672382117120248456926692', 'bizNo': 'sCZ8YvNSB0t9fu2GpnH6aTqegIL1dEMD', 'operateType': 'PRESENT', 'requestId': '67108604011212395244369999004042', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614056878465})
2021-02-23 13:07:58,514-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.93, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:07:58,528-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614056878526', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.43', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 13:07:58,557-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234447'}], 'vouIdList': None, 'batchId': '1a1a0b12eb544c428c99ef0a2b8c9953'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:07:58,572-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '1a1a0b12eb544c428c99ef0a2b8c9953', 'batchOperateType': 'PASS'})
2021-02-23 13:08:03,617-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:08:03,625-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:08:03,625-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "34233139302908"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "hECDSoT58LGkH3brKsJuMZznycvxNai6"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:08:03,732-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0144d8677cb248f485516f092ee36459"
s_p: "OUFvRnBRWml1bldkTmdHcDBaOWhsREFLbmJmTVJJeXgzTTBEbGpKenQ4ZDNlRHdneDJwaDhPWUE3b25KOEZ6QTR5bVdHSjhxTEh5dzZpOHFWanBDSjhSV1ZKR2hlaXcxblRzYzNZbnZFcml5WUdKM05Rb1V4SWNpWjNiM3VCWkRLMW9idERTbVVLOGlWaTZ4Rzd1TE1rdUxvQU1vSGtUNkJFRlQ3aEVJVzg3S3pFeVdxWVRCdEhEWDlXbG12bmY1ZVZvR0FkdTBRcHNVSlNWWUhVbFNRdzhOd2t0SHZoRU12RVBxTXkzWTRRNVd3WnI4dW10STU5b3A1ZnNKTnl3ZHlpcVVnMHp5YnlvU0lLR3F2aXdMaG1XU3JmS3dKZDBOUTh4ZWRldlhuUmYzMGFoVUllMU9FeVZQcWlNeGlCdlVuNHN6V0NjSE5SNnpHVk1iSjFvZDkwcmI0dGVWTlVieTlPOFBTRjRrVjE3aGgxcUNjcVpocU9jSFpVd2ljTUpVN0lodmdPS0h6VUl2SnZKb3BuZUJZdjlxSlpaUHJNcXBRTDdGYzFkNDMyUUZjQmFob1VoM3lKZGhhaDk4RUZmZVlyeGJ2d3RRS0RaeUZ3VW9BVkhTMnBYbGVmRW13QmtvQUVQUEd5alhhUnppYTlmTDd2dnh4VUlodVZqN2F6eklNdzRRNGNLNmFKbnF1Mjh5N2R1dUVPbXkwdE95czRuTlNmQW5TNWl0SXViOTVtSTZiUlVWbUduRm9jRGRHc083ZE5GMG1uZ2ZZS25OWnJPOUU3ZjBNbzZzRTZ2Y0lCSWpYVlJMWkNCUEIxNlRWU2FoWVBsRkhvUFdzQTI3QlViYnBCT0pNRE1PQjRVNE5oUkpZNk51VkxhenJ3NjZBTWJnMFhIbnVycGxzSXRvNlpPSWlWS2J0V25leEk3TG54dzB0TVV4NnNKRkloaVhFWEp4elNCdHBsUDF3TG9tZ0VHZ2htR0o2ZzFURkRGUXNMdk5MNHNYQkZCZnliWkQydWxNUVhCeDFUdk5QUTBZTlNuOHJsbDdwNTRmWVRZNDFwRFE="
m_p: "iEUfZOAtM6ig94j49QDuFp6UR319bG6WrqUVK2PPwZIN4KnN9fpb1e998t509EYG"
e_t: "1614164886200"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.93"
  vouBalance: "0"
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 4
}
userinfo {
  username: "156******06"
}

2021-02-23 13:10:40,914-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 13:10:41,187-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 13:10:41,229-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 13:10:41,229-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 13:10:41,605-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 13:10:41,609-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 13:10:41,609-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 13:10:41,612-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 13:10:41,613-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 13:10:41,613-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 13:10:41,616-INFO-fiz_db_operate-26-可币余额：0.9300
2021-02-23 13:10:41,643-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614057041639', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.94', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 13:10:41,673-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234448'}], 'vouIdList': None, 'batchId': 'c2079608dd094faf819331274d1ec860'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:10:41,686-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'c2079608dd094faf819331274d1ec860', 'batchOperateType': 'PASS'})
2021-02-23 13:10:46,730-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:10:46,738-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:10:46,738-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "08425726471505"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "gzGJTMvLq5YA6nXtds0lKjOiaS2E3HQw"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:10:46,878-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "62f712528c1a433ca77ac49a3dc94e90"
s_p: "OVNIZ0kxbk5IckY2cjBtU3pBSng3aGJ6WUVGQUIzM3RyNGloNlAwYXFwZTdZYVZiR1hiWHpZYTlPcUkyWWRoSkdkcGZHbXdFZHNuTmZwSjFYQ1czak1IWUxzYVdiaXV5Rk5ia0VqcXVndXJGckF1dGNyanpnWUdGQUk1WjR1cnUwQmFpeHpjMnpub3ZiTWlUT1RsY3VLbWtmWFNHMzhqdGwzZkJHSVpPbXdIUHZFdFAzR0JtTURiOXdOcVB4S2dlbUFGVFpNd0psYWdsSXR4NEZSM1VsclVyY1ozS0k2RDV6eExVdm8xUFRkMml6T2h4NU80Rk43cmk3MTI0Y0d6U0xzdGpqeHJpMmlWT1FBcjJkTm5wSGJyTEVRTnV0ZGdlaklHYnJ0alB0RmRVSk9kaEdZOXRlSTNUUldKQXM5aU1sc3B1R3FGb2drOUVMUmR5b2YzSGVoaFp5TVcyNkE3V3Y0RmNSdkw5UFdCZlVtSXlmR3JnRXRmTnJiZ09FbmpJeldoaU81bDNsVjRHQUFXaXRwQ25sWnE1R2R1Q2FKWkhQeW1keUxEdm1rb1RsdFFBaW1UQVVHRFhpb0V1UFgzb2lhSk9LeEV1ZVhINWs0UjJCRGJuclZXeFVPcHJlS3JPcXRTOVpDSzFua1VFZ0wybnJjM3BRN3NJc1A1eUpySjBiNGU0aEFOVndOckRrVkN5R0Jscmp4UVNsVjlIelpZaDJkd0FwNWI1UG90OEllOVpLN3dsblVXRXNJQWE1WG85dnZFWVdJYk1ROFFETGZXb2JxbG9VWjFna29VR1ZZbVU2TVJLeU43THFGMXVTNXpicDk1YlduWmFIZEdlMG9SMllyVGs0MFk5dElETWpieWZ0U3pZZ2p2RFhzMXZGcXdqejZVSjU0TGdIUnVFalVMZkZXclJWZFdKV29xVkVtMkhUSXV1aG16bDVHM2JsQmJkb3RhUnl5N1RCVHlBOHhmSXpQTDczbFRTdkw5cUtiMjFNQkZyd1lXZTlJdXhzWHVUSEw2Slk4VDNUUGozZXJaT0xXN0ZQdDZrMUZXVmVQenk="
m_p: "yJnsM2Sw1iMBYctLU670oC64uNsuZDw5CN3P6P727gc1vH7KZ1ch3FM90Lw47cC2"
e_t: "1614165049337"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.93"
  vouBalance: "0"
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 5
}
userinfo {
  username: "156******06"
}

2021-02-23 13:16:27,901-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '466.38', 'batchId': '31540471594259795474428749735169', 'bizNo': 'mpGucPwZlU3Ms7Vt5B1h6ejDFERWbkgX', 'operateType': 'DEDUCT', 'requestId': '83760031621683204738092820516176', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614057387898})
2021-02-23 13:16:27,981-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 466.38, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'DEDUCT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:19:35,019-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 13:19:35,259-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 13:19:35,300-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 13:19:35,300-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 13:19:35,702-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 13:19:35,705-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 13:19:35,706-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 13:19:35,709-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 13:19:35,710-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 13:19:35,710-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 13:19:35,713-INFO-fiz_db_operate-26-可币余额：10.0000
2021-02-23 13:19:35,721-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:19:35,721-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "83953684863489"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "mzpf8SA95C3bVBldyg6nGvu7IjeUiqOT"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:19:35,846-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d01c56aecc354fdd9692bea0b9c92cbc"
s_p: "T1RCQ202OW9EUXFGaFBpQm5tVjIxVGVJT1QzWXhyZmk3UW9kQnVweks5UVhOWW5DMk1kZW9CWlFBT2NjV0VjMlFtRkZjaW1VOWdiTWI0MktRRlFiMlNzOEVSQWUzYzFYTGhpcmJGOGIydWlvZVo5RktkN1hQS1BHOEtpTFJqVXpOUjJDcWdWNklNSUVqN3R4clRFa0U1dDhiM0dNUnF1eE9CaUVHRlhaNkk3Z0VOV01vUVNwYkJRMDE5YURGVnJON1E2UVg2elR4YzJLUVJBc3ZxMkp3bnd1OVBPTElHaWY3Y3FvUFMwcHFyNFlGM0l0cGh1QlRwbHpTUWhEY3lSUElZeFJqNEMxNVFmR3BTaUZyU0JHanJqR2owSWszdTBmSnpMbkpTSWN2UktqcTdvbWhXNFllVzZ0cG5JbzJZRDRkRDhiMmVUMWg1Y1o3MlRTdnJEZTdEcWR2VXBrWkNtbUplRGFhNktDQWNPeWdWYlBrY2prZEdlczM4S20yamlVc1hsbkozOVExM3hkTHo4MXdrOXIzekQzT0F3RmhEcVlvTDBCMXdzN01ISEdDMzZoRTVoMjgzdUNYT1Q4MHlnYWdXeGY1bG5uSUFTaXBoY05iQnFFa21VazZzR3dKRll1R1c4VzdTbjFvRGZGNzVHcWg5ZHpNbXg5V1dVV0F2U2RFWTZ2Y3dEbnBxOTI4V2lNMzZvOGVzcnBQMWw0RXdnTk9EdUo2VG1HcUJYbDJpN1NNQ1ljRWZTRTBYY2t4NExQUXVheGwzMFFPTm9YNWY5d0RMQVVNSlM0VFFPZlJZWllobFhJRVNvTHVmY2ZUbXFTWEluVkRrdmRVZ3dqZHV4VTFPZW1CODFkUVdNc0d1WmFENGxPOUhUMzgwdzhGZ3ZsVG1lTWNFZkVMMlBQcUY2QUdqNE95YWZvMUFRcmM5cFIyd2pZZEJNY2toQlY4N0hPS0syWVNZOU1BcHMwZlNrU2ozd0RtdUtBbG00WEN0TmdpVWlwemJmSnhMcHdtdHlJcUxnVFJpOUNSdVRBbVhjNGxYRWNNYjhra0oxaDdJSnY="
m_p: "89XodKf2R1Is62uUbACGlHq0i0qH5813SGD6JOVRx273240y6Lr05ioNBLw7966C"
e_t: "1614165578308"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "10"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 18
}
userinfo {
  username: "156******06"
}

2021-02-23 13:19:35,877-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:19:35,877-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "d01c56aecc354fdd9692bea0b9c92cbc"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "qFhPiBnm"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 10
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "FDphv54dwMs0SECrgZ1UWioaJquRTf98"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "U6RQwYoNmnN83keAuSaLJb/1LW068envA1LWoMLn5DYbC3Lx/d0XjTerf8gqAYzTLiKznsyAModJxOFEkQrx12XpAXaAZibGhHeqNkw3HV8ePP/6xdgspvKBrsi12706FNz2CP6DBEf0c2ohV545Bvsgl1zExcaqf3EwZZVLMrc="
order: "5033591185311"
ip: "120.197.152.211"
factor: ""

2021-02-23 13:19:36,014-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 13:19:36,028-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.84', 'batchId': '98931189927964192090419791567382', 'bizNo': 'uFravNjRYdlECDKk4n8MBQJA2i0sePo9', 'operateType': 'PRESENT', 'requestId': '66563548381688729701040275786538', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614057576026})
2021-02-23 13:19:36,085-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.84, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:19:36,102-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614057576098', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.93', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 13:19:36,148-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299618'}], 'vouIdList': None, 'batchId': 'ed61b57b5a5d44beb9a54becea56b9ef'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:19:36,161-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'ed61b57b5a5d44beb9a54becea56b9ef', 'batchOperateType': 'PASS'})
2021-02-23 13:19:41,192-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:19:41,201-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:19:41,201-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "91263277229311"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "yDaYZf0V9u5ETX72Oe3scUn4jbitK8kp"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:19:41,274-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "1835320ad44c413ebcb2f48b62a02cf9"
s_p: "eE96ZENmaE9VNlQydzFzU1JaSVlMZm5iR09hZWZGVGtLRVdoWWRoZkxxYWVkYTV5ekMxUGZpQ0tBS21ZaGR3a21kZjRvODNmdUlvUkwyQlJhY2YyQ216REFBcWZJT2x3STRxYXVnMHE0UGFCODF2NnFXcnlPbE1WTm1aSmc0U1dxQ3A4cXhaTzZxQ1drVjNnUHFxNUVRZkJ4UVROdjdDQzY2NzVSTlFxMVBtdEVlNnVaWEE3d1N4TWNramZDOE5HZW1hQ21FaDByQlpXbXBXQjdxUGs3WHJsUXVkaE92V3oxTHF1SHA4N2FUVEJ1MGNiaVh3TjlSZnMzVFk1Yk9VZUQyMmZLYTFvN1p1RWdCSWYxbUJlT0JENHZicHBiaVZYcDNaMmt5cWxEUTVOR1BvV1ZZeUV4cTRBWnlsME5aalNucklobmZYaGJKV0x1V2FicUhPTEJJZHo2cG5Ra3hJU051OG1sZmh6ZjdTZ3dOUWZhakhyQzF1bTZGTWRBSkdMWnZZalI1YjZEcXBLajgwOHZJMnY0NUIzWDBwVlZwanBlSHRucWpkcElSZ2xrblM1T0llQ1FNeTliSGxNSG45bFN1Y1VBenV6dnpiNjhDbUpDTjB3R2lrQk1QWEZmR3U1emNBSGZ4WlJxQXI3OGxHRFVoQ3VEMzl1bXJUMFdJT2NKcWxOV2pxcFQ5elBMOEk4V29LMnowc2xhSUk5NlBBWVp5cTdQZTRtTEpJQlI1cEhDMk5MbXJ2VTNFOEtiRjVRNjJmNHRGaGJyeWQ2aHQ5SVU0VUZ4cnBtSFAwVDQ3UnBITmpVNWNsck1WWDdqVGxNVUJxbGhLNG5RUTZidFRWN291MkdQZkV6U0pIZU5IQmVzSDhLODhFcmVNaEZhVk5MWlJUeXZDY25IWWtNZVJ1OEwxSDZXcnZTNWlSdE1ZbHhSTlVzbkRHdTh2YlJJb0NZUjMyVmtWM285RDJ4Z3UwSHJCRnljcEdoaUoxcndNb2w5MjdvTWpZYWZ4djlNeW81Mjc1VndndTBobXJ3MWtickVEYzFZZWl1akxHYW9RWWg="
m_p: "0xuz2tT0J8Cvd892Kq7p3mcW0j9zDy0I6ayhfJ4W216Zc40t9gl6vRQKuhG5WW0p"
e_t: "1614165583746"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "10.74"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 19
}
userinfo {
  username: "156******06"
}

2021-02-23 13:20:10,798-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 13:20:11,073-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 13:20:11,116-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 13:20:11,116-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 13:20:11,482-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 13:20:11,485-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 13:20:11,486-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 13:20:11,489-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 13:20:11,490-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 13:20:11,490-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 13:20:11,493-INFO-fiz_db_operate-26-可币余额：10.7400
2021-02-23 13:20:11,501-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:20:11,502-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "48397397656531"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "sGlPgeyRHSEif29zMNxj0c4mOYLvUrk7"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:20:11,643-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f66015ffb23e4487b00b6e39c19e084c"
s_p: "cGpEYnNZdllNM0hoOFZkOXpTc09JS3VsYnlyY3FydUh4Z2dER3FJZWJHamZaNzc5TDFYa1RRM3gxNUNtUzc1b0NXb0poemtrZjhSQk5Sazc4dVJxNGNuVGpjY3U4UFc2SDZyTU4wdklTQjhNVE9obHplNE9mUFlLbVJUY3V0ZEZubDNTQ3ZRVTRFWFFXQzB4U0Y3U3JjV25FTnczQVN3YUxGbW9sWVJjSFZwbEJCeGRNWjNwa3FGZjJ0UWNBclVtb2xuOVU2N3dIV0t5RTdyMW5yNVdpNlZsR0JzeVhhcFBFVVplSlZ3YmxrSDdhRllkWjhQS0hSRnpxbDRJbnRyWjI0dFcwSk04cDJFOVA4cFhycTZkallpN1RPNFBlbkxNSmZsY1Q4ZU5RallLM0VZUFJ1VDI0RWdwVG53Q2N5WjhtT0MzeXMyVm5qdWZPblgzS21BTTgwQkV6YW5HeElaZjBNSlltZGsxNVNZZzAydTd3QjRZVTB0UFZ1NzR0VXduOHBPQzkxNm5tekNVaURyM0NTdTRPaEdRaXBFUTFYV0wxcWc1OXNPU2pWVVNPdU5OVkRXQ3VsbEFGZ0ZUOTNwWTlGNjhnaUxXYWs4cmV5Rk5yeHZkZWVxaGljNzN0cXRnT0x1MzY1bThieG9xTXNiaFBHZ1NKeHFWc1Q5cjAxUm9XN1BMMEQxS1lub1ltZW5DT2NUZU41VlFHOHlGRnNkczRQczBvWlNkSUR1R1RlMTBGNjFVS1d0b1Z2OENDUDlwdzZtOXFEaHRodUczRnAxQ3BCZlN3WVdPVThIYUNTdWhGaVphc0I4Y1BUMm9TMGdoMThZV3RRdzg5dXFuYjdrOXVUTVpPaUlLTHhycmdER0ZLOU1sOHlraEo2ZGtwMkxWa0kwM1kwSGpRVnEwSm9VWFcyRWtxZzlnNnIyVVpwYVB3ZzdscjdEeENMZnFwVWVnbVVMS0pSOXo4RkI4VEs1TEZoc0ExZmRzckZ2N3AzU1FQYTlUUU1PeGJNdDNRWDg3SGlGWHVLdFczY0NaWnhUVmw1MWNscEE0UmpIeVRNU04="
m_p: "7vaEo40Ahk68Z485CN892M7543Lz4V80dbxS49i2v5jHao4M4C87k9HgfX1VSQjD"
e_t: "1614165614104"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "10.74"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 19
}
userinfo {
  username: "156******06"
}

2021-02-23 13:20:11,667-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:20:11,667-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "f66015ffb23e4487b00b6e39c19e084c"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "cu8PW6H6"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 10
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "VpQSqZEDuO40zgGlK2WkUcFmh7jPw3fb"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "fd1Qli06toYGS7xiugoWN19keMSOq2gnKth5nJWzwh6h6gF8bzhMU54E/2LGVDI4TECFG4nvZkDeasqRFTC3cK+DbMP5HNf0aAjkBfLM47z5axcvzGrSmtgMWwZT0RvADsdmzgKVuHnHtD4HtQpeMOdgE9XRPzO6aqIfc37LvI4="
order: "5247942328691"
ip: "120.197.152.211"
factor: ""

2021-02-23 13:20:11,786-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 13:20:11,802-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.83', 'batchId': '19959962127133074090140023041234', 'bizNo': '3oJyRrkm8419fYzSqT5KGHnQagstwuCU', 'operateType': 'PRESENT', 'requestId': '82076431698780861106195310437403', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614057611796})
2021-02-23 13:20:11,825-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.83, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:20:11,838-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614057611835', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.9', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 13:20:11,858-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299619'}], 'vouIdList': None, 'batchId': 'bdf61eb73c394e0a8efb7ee69ec3a9ae'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:20:11,871-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'bdf61eb73c394e0a8efb7ee69ec3a9ae', 'batchOperateType': 'PASS'})
2021-02-23 13:20:16,911-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:20:16,919-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:20:16,919-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "12461961200242"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "fG9gQ5hr7s4WeOtVBbiJEj8pKvMPx6nN"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:20:16,996-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "331b418c2ec24db3b0e804271ef1bcae"
s_p: "bUhsNTJuUENJRkM5Z21NUktVa2hDQ1cwcURacU5EdHVBWUhITjNyRGxuaWJGVnJrSzdrWGdVN2I0NkxDQlRjUlpQemFtMVFOSGRoVWZ0S1g2S3dZSXk2Zld1UU5wc0JoeGxZWlc0RmRyZUQxMzkyb215MDlmdWhIaHBaQnF3U3c2YWJBYlRKUXYyZjhaSEd2YmdyUHFKa1U3T2sxNXB0VTJXVXNnUUtMVzgwaDROTWViY0E4c3o0UGJhdVJSQmhrOWhHeWZXSTZTMmVOT1ZVdEt6ek5uZ3lzMFJ3MWtPOUNxalRieG5CeUs2NlIyempuc3UwUmJ3RG53NEttMGZKQXFOZVB4VTRxUVJ1amI0MFVKOFF3M2pHT3FnU3hLcjJ1NkZXU0l2a0kwNkdZeVlyS1g4OFZjRTBjSklyZUVLbzJ4b2Y1cmQ1b0tKd3JhdzhlU3NjbDVOZDQxUkVrdUhKVjV6RlNydnpDa2htalNkSE1BeGYxYU5iWmdVUkVSNXlVZ2l6SmQzQ3F3UkcxSm9OeEFxMnZTbGRGS0k5dEZNZGthWXVRQUZYOWM4cFBHdVRkdU9WSmd1UUM5cnVHeGJMaEJKT2VIUHR4b0xFdkNGeG1YeWV0M3pzS3NpclBneGZkUmY2Y1pwTW5Hdm9xS2FyRjd1UXdaY1JnT1dOd3BZd1MxQlc1aE91UEM0ejlkVmlEaEJldU1zS0dMY2tXMThoaFpPZmp4dzZ0eUxiZjlJbFRYNm8xcDlQRzA3ZUs5VjNGNlNhSjJadlFGdkhYUlNEU3d3QkVWN1FWb0xBWFFsYWJuQ3p3QUxYUWhMYlJ4dlRUM2tVc3ZMSUIxM0ZjTlB1ZGlEWDhjZk10cDJvdmNVcXRveXRTcUQ0OGdnZjNuSHZaemlZSXV6SXpDZTFZU1ltSzYxQXpNZTZyeFNQSnRKWlYwTXFUUlFDVlVxOGs2R1F5Y0RDcGZ2TXV1WndQRWg0aWtlWFVrWlo1Z2xTZjViWThLNkF0NGdsalVPZXJiZkNHTU1YTldON1o1U1hmdXBtU3NZeWxpUHZsVDNwaGZ5dXg="
m_p: "k2KyIp2vFqToue1tk9Bcm6sF4I5HUY39I4Jl945MNCVrL4cGuu0fh5JvyN9QW70j"
e_t: "1614165619465"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.47"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 20
}
userinfo {
  username: "156******06"
}

2021-02-23 13:20:32,446-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 13:20:32,775-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 13:20:32,819-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 13:20:32,819-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 13:20:33,198-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 13:20:33,201-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 13:20:33,202-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 13:20:33,205-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 13:20:33,205-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 13:20:33,206-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 13:20:33,209-INFO-fiz_db_operate-26-可币余额：11.4700
2021-02-23 13:20:33,219-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:20:33,219-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "11002933213603"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "N1njugbSGlFyLm5dV86p0XiZCwBMYUv3"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:20:33,367-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "791a28c76be640558f2fad345c91f6a2"
s_p: "OUVZcGt0Sk9jWXRFZlFYMzY1OE1acjd2RFlrVU5jakFTR3BTM21xSENmMWxmVUp4TEFCQTZiRFJiOTRHUmxKNmNYT0xyajY0NzloSjR0b2M2RmRBNkZkUnpVMTFSWHVmc21reEZLTGFZZ0VzN0lRSURycWJRY2d3ZHpLQVdNNG5rNlQzdTdWOEZkVnBHdncxTk1ZRGxvR2dBVEt5VEplQ2ZzMDhuQUk3SHZHN01EU21nWmVucWZyM3hkWEJYT2JESjFRMzVKa1dweWhPOGhRMERweEFsRk9ZMmFGeWpIUjdIZFhBVENMaVBLZnozNkRBdnAxZDBxZldsbmhJSkZTalpscDRzNXFrZGxtMzNsc2txYWh5OHRkeHlMMERTUnl6QllWSzhmVDBZU2ZvZ0NybEFnbWFnaXh3cFhhelU3c3Q5M1dhUWlleWQ2bHIzU3dpcE1Pb3JKc2dMM3N0TXdkWGxOUzlHb1EyZ2hFdFpSeTF4VjVjU3lCeTFJSXh5eUhHYkpHcVQ0TFVuRExaMkh4cllXT3JnaXhHcHRYeERQeUx6SlUxenVubHVvSTJBYUhCSU93U2FIMk04d3dmVGkxSHpHbnBIakJYNHAyWWNaN3dmdGhkT0Fjd3J5TmMydmdhUmJPaDZ6TWlmckIzNTBZUUhjTVhhYzFUQzdSOWpVUklic241elV6djJLMjI2VGExWkk5eHQ2WnBFYk9YUzlMZE1KZDZYWVJRQnlpQ0Q4WFhqZXYxUEJxRTNVMm1CV3JyQ1BLSHQyR21CSWZtWkpNRlNUWDBucjBMajQxUlFqSmg0RVl5T1dVdlNjd1lFeDJlWTZCdnRoTXVxODlSdFN6Nmd4R2l6ZmpSOFhWWGJVNEIyaVBBR3RrQmN3ZXJEZXNMcEJCb0pCM0pGdWt1SVE1NG16dzR3ZFk0cGRUUm1yWE1qUWcyWGtKWnRScURhM0E4RTJOaU9GbjhUd256aUZTNVJ4OXBraFJCY2p1MXEzaG83Q3VKdFNtY3lxTHZtV3QwcVlrOEswTEJtZGJKejJDRVBIZXVnV1Q5YVFuSjdWaFE="
m_p: "oJgLS38B7Gu9086pX6FtW584yCSXJ8N1hfId650n2rJ2b2Kb7s2xTK7mA6vM91Rf"
e_t: "1614165635779"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.47"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 20
}
userinfo {
  username: "156******06"
}

2021-02-23 13:20:33,390-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:20:33,390-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "791a28c76be640558f2fad345c91f6a2"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "kxFKLaYg"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 11
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "Uekyd5QrRulsMAwvHKxVD4piJoBctW8g"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "RXhdMTx7QwB2HZyQBQ/ZuoyA8EiWuJVrY9HYcYnY55HsMNPjbHBKeHqYbV7aF6X9VtX5XjrBx7jdO5Bd/FC7N0iQMpWkGKd9bzVyJNYl3jxShvIHa6EUcuRiFf0lvtSoEpmHa5UrFFXxX7C+qwoy2rpNzvJb5PblV/qqdTkcyrQ="
order: "9240303235050"
ip: "120.197.152.211"
factor: ""

2021-02-23 13:20:33,518-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 13:20:33,536-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.35', 'batchId': '65193884355818778253792569753687', 'bizNo': 'wlJxREI8h74Y5jmAqN01FZoGH2PSyseD', 'operateType': 'PRESENT', 'requestId': '34190146268427083973174347528324', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614057633533})
2021-02-23 13:20:33,561-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.35, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:20:33,573-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614057633571', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.32', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 13:20:33,591-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299620'}], 'vouIdList': None, 'batchId': '7c8bb2848254463db7243cfae4ac1ccd'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:20:33,604-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '7c8bb2848254463db7243cfae4ac1ccd', 'batchOperateType': 'PASS'})
2021-02-23 13:20:38,645-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:20:38,653-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:20:38,653-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "02356906515006"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "uyDZFYWMldKj528qXavBfURrV39kTQex"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:20:38,736-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5277059f87e6419e9d3a19ffe21b3496"
s_p: "MHM1aFQ3aW5kRTZtSEhmUjZsdVlhd3pLQ1lTN3BheFhGZE5lMEJzWGM0ZkhUS3BwakpKR0hRNjl3U0pjeW9EOUFydUF6YkxZTVI0Y3hLYkFjMVNsRlFMekR5NHdnVm9XQ1BkakU5QXE3eDV6U3k4SDAzczhnanNWNmVWd3g4NVU5a3VrUmdOcEJWSkpZMEp6Q2VHbTJHeTcyUkdoSEpMOGlVWnh1U3E2emhBM05JejhkUmN5aUlQS1dDM004MnpNT1FIRkxaeFAweE5FaDNwZlJhRmZYY1RYQ3B1RjBBTGdRREZLVTNJWmFLdUZ5SjhqN0ZKcWZ0aFV6ZWZOWlBqcjF2MkRta2tQRFJ2ZmRtaGNrVWRjbGtCbVVFbW5BU2xkeFlGZVI0eU5BUktONko5UDR4d3loY1prN3c5S3htWW5QdjZDQnpqeEQ2ZTFuaTNZdWEwZDlmZUMxZTg4MnExRU9kNE5ocUxOeFd1R0NOVjNxVTFkeW5XNHFKM1JEeTdTVDZ1d29vQzV6TlJPcENOUXZnRjg4YmZjbE10Mm02SVVEOUtJVVlveDE5OWtqbFFidnU2Vkk3RU1PVHhIbWVBNWF0RlNPdmNiNmlVMVdrTVVWZ1ZZMWJKSDdTN0FCb1p2NzRJOVNzeEFVUmY4WWZPcmtRSGR5Z2dFSEltSGpMcGtsZ1RvT1RDVjllcTl0anlHTXNSb013VXpzZW9zc0pqZ25FSk1mZXZvekFSbmx2MEowQ0Y4ZE5ialIwdUdTek5EZVpsQVIybzBtSUN0QUNlQ1BacXZrWWpwb2RIZG9kUGV3amJ4ZW1YRzFTUDQ4VFdkU0cxYjllcDl5cXFaVVhpS3NmU1YyVWZXQWJrN2tWYlk4VGsxcXpab3d6SXBZQWd2ZHU5UFZTQVAyTDFmWWFBQnJZbXVOSnZZazBId0dmdzR1b3FSdHIyWFdXV2YwZkw1UzZZbHpIUlR2a3JZY0UwQzRES1FlYlNDSjRIY05lSWMxV3RiZ09PTnVBVG0xYk0xT29lc0gyb3dPVkNKN0p4RGdiTmZINEdyYzZFR3Nyek8="
m_p: "Us5SEuO3qdwQqp6bxl1C6Sb6N62tjbTRKz6guGNhbbswQ8748wJ57bRlXm52u075"
e_t: "1614165641202"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.71"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 21
}
userinfo {
  username: "156******06"
}

2021-02-23 13:21:12,873-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 13:21:13,150-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 13:21:13,190-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 13:21:13,190-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 13:21:13,599-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 13:21:13,603-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 13:21:13,604-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 13:21:13,609-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 13:21:13,609-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 13:21:13,610-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 13:21:13,614-INFO-fiz_db_operate-26-可币余额：11.7100
2021-02-23 13:21:13,622-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:21:13,622-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "46305384325291"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "namejRgo9NPGsvbOuCtW73qd6By4x2DI"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:21:13,714-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "03f2c6040b8d4f5aa5f4625cf61bfffe"
s_p: "WTJ2SGRENG1WclhKVVkwbDhSNGsyUTVrdXVVWnA0MFV3bE5LcXpENEt6dW0yZFR1UHNlbkJET3VLNVRRT21rOENuMkdKUXRIcDR2Y2VTbDRUR3pwQnY3MkJET1lNNDFNcnUxU3hhOUx0ckRYdk5NRFExT2xzR21wcVpXajJvbUl1VmZheW04RkZqTllhOVF0UjZuYjVZZm5WamduS3hwVVFnR3NoN3JqclhFWjVRNHlKdE9mUDBtdVNObnBUOGx5VEpCaHM3ZUFvOVNQRlZlRlY3ZTRvMkE3ZDZuSXpaRGtZNmJVcGNQT2J2WlBhTFU5dTNlVzhTbFV6N3BuNENvMnE5cnNCWk9VTE5JeTJodjZTUEpOaTVqYW1HczJPY1FiQTBERFNBUHFOU1cxc0VIZE9Hb1dhQXpReTljT2t0NWhmUzNFMXI1T3N2cWpTamNOSjBMNkFIbEVUaENFVUVWWFRFd3FaSHowRVR6UE5uUlNJbTM3c1FuSVBWSHQ1QkhKeDBSZW1wZXY4Y0R6bWh3M01GV21VRnVVeFh0WGU4dHlzb3ZxS2ZNSXZ3d2hKV0Z5djVycmNuWXdkMmo3TTRmNGRvTlMwbmhHWVdiUUEwN2prMm5KblpyMmt0U3JxU3FUTFl6ZEVzeGdJOXM4T1F3UVVYQ2hMSDY4QmszTTQ2ZWJVaWdTaVVmTXo4VGZsdU9ubVRRcVdQeHl6OXExUlFybUZicjhFeFdLSTd3a1I4dE1ybWxRR2dncVQ5T2RMemV1N2lXQWM5Rmc0YVFMNFpLSkJIMWd6cG1sRjdFRG9aNWRmVjRWY0NtRkt1MEp3aVB1NUVNSm1FNTJXejZ2aUIySFNvWTQzUmRzSHlGZDVaS2JPQVVtWlhITGdRVjhzOUllMG55ekZ4dzFZNHZLMndnS2pTUlJ1b1haOTd2OG1qWHZlbUZleW5FMzNJYjVWU0xWbjRSa3BVWmNMSWY2ZzRiSmF2ZW9jZ2g0Qkg2THluUmwxVnVRb3lSUkFuZTVTWWNFbWwzWGJhMUdsUW1SZmtWdVZyc3NOY3hBNWZ0d213M1A="
m_p: "s197Jj5ms7TMjyd1m5c7yv23k4N43C68Ckh28oG9TWt7g45CM6811750YQBHJgQ3"
e_t: "1614165676176"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.71"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 21
}
userinfo {
  username: "156******06"
}

2021-02-23 13:21:13,738-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:21:13,738-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "03f2c6040b8d4f5aa5f4625cf61bfffe"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "D4Kzum2d"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 11
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "M2W9jlYxdXT3BHN4CuQemtcD0irIy6nG"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "bk87mClmHhCRopArYMOoBsMRW6rf+h3xeYVFGlo/2SAW8twwczsAPdUjosS2B2XMpcPOoQ+vNbQuwzn92J3pT0ts6ejRYAkhhUFFWupPIKk6DQ0i5k0vKdt0YvRVFcB0VtnA3DQ53YdF+/NaSCtyrywJAYfESWYvtKyhEeIhCKs="
order: "0941292813972"
ip: "120.197.152.211"
factor: ""

2021-02-23 13:21:13,878-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 13:21:13,895-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.06', 'batchId': '64643257574877699668754108229137', 'bizNo': 'WejIKFLRBQfk72goiAVMDZHq9yhNnszb', 'operateType': 'PRESENT', 'requestId': '22171885217537008671462737403915', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614057673892})
2021-02-23 13:21:13,922-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.06, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:21:13,939-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614057673937', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.87', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 13:21:13,957-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299621'}], 'vouIdList': None, 'batchId': 'a956db9a840440fc850e17d691c0a412'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:21:13,973-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'a956db9a840440fc850e17d691c0a412', 'batchOperateType': 'PASS'})
2021-02-23 13:21:19,014-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:21:19,022-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:21:19,022-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "92556124970486"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "1nlNHPgzorfxpKuD0L34FkvZQjSItMw8"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:21:19,101-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "96d5dbabf5b540a2bee0e59868f0da0c"
s_p: "V3cxcVhYaENCV29xdjlXTzk1RDVKOTVZTldSZzE5eTltZUtHdW9kN20xOElYUGpFMWQybHV6Q080Q1p4V2l6Q0U5eTVjSEJBUEJzVGV6RHR0UGNRcXdDSVdSRUE5emRpcjdEOTRHSnN2RUpXWlprajJzSTI3eFZPaXhpVVMzZ24zUEVUV0E1MjhFZ2V4TUdJV2tGT3FPODZjVWtPZXRTMEhENEUyQmlmR3ZPdVBNblJ5SmpIRlp4a3lZVVRLbW9JRHBZaTdBSW1pUm1VTkI5WFdYVk4yYjJWcmZwenBwQWJUUkN2V1VwTHlTV0FuRW40NkxxTTZJSFVSN2dZMVY3TkZkejRzMkp2ZWloZlJuM2lsazRCS3oyVDBnTmxQekdZakhMelhYNnA2VDJqd3B4OGZGVWxYNDV5NTExVkNlOUJXTk03Z2hOUzdsNmJLQVB4WUprQ2p1YVhLU3VKU2RpQk1sb2RRc0FFSHp5SVJZdFBXRWN4WFhvVFB5bWJGcFFJNmxlUlpyczNBM3NpQUthd1NXQ0ZJWTNYVXhpOW9UVDZNbHlNR3dtOUphcE9ZZ09aaVJJS0FLbjFVZXhDbnJ4bUVVa0dHekxtc29XYVlBZk1tbTdSVUN0Z1NaWkZpd2NwZHVuNnRKdWJaMEcyenpMOWRDTkNwekl3enZwcWxnVURmbUlINDRiY2pnb050bVE1eDNqZDJZWWJoWnlYbUtwVVdhZnY0UGJjMllJVXM1NXJDSXlBZFl5eXRWdHBPdVlZUTdnR2o0VVBPZ05zaHU2SlVyUjNScVVUd3BMUnBSdkk0N3JUQ2dFVE9YRloxdXRSSWFwdXV2Mm55ZDF2SGFVTkFCWnRLejV4SzhpSGx4Y0l4NHFLdFJGaWJyNUt2dVhUVzZINk1lWjdJOVNVUzlKQUNacENwMWIwakpFbmFUcUdCc3pqOG9IR082bEVHZHprMUFYMFlYZE8wakRBQVh5aFgzaHZIMEhuRnk0VEloR0dhejVPR0c0OWxmUHA0OWJyOHRWR1V0aG1sR2h5RFFlV2gwU1U3R05qN1h2UmZNRjQ="
m_p: "RG0POP70syZKV9QTk19kUCv2wSDDl7W5357u0zM2vNi9iw7oN2WpIHbuQ0BT1t99"
e_t: "1614165681572"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.66"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 22
}
userinfo {
  username: "156******06"
}

2021-02-23 13:22:00,101-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 13:22:00,379-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 13:22:00,420-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 13:22:00,420-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 13:22:00,774-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 13:22:00,778-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 13:22:00,778-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 13:22:00,781-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 13:22:00,782-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 13:22:00,782-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 13:22:00,784-INFO-fiz_db_operate-26-可币余额：11.6600
2021-02-23 13:22:00,795-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:22:00,795-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "97527981624668"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "MVy1KRB5tI6lsu28rThxJDkOfvGonNeL"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:22:00,886-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ae20b939718646af932ebd13607ea0ec"
s_p: "czRtSGEyT2pGTnBLVldHa1E4bXlCaGd3Rk9uRXJWeFNkVmx3a2l4eDRQUExiYTZjQnhvVGVlNlpuanFUbEkwRnZRZmxPbHRTUzNwRVF2T3U1TDRaNm9ENWRuYjZRVm51OUNXbXVjZ3R2c2xMSHFLVWJna01iVVJqbVNPaENYNHlKN1BaVG9zMHJUUTJaSkNIMk9SSXNHSlNTOWV2a0lQM3hBd3c2eWJ3bEFXZ2VGbkVGSWNlVFZVbUFRTjRPOWREcDhOS1pha2VPT2pUbGloejFjcDhRdUF5b3FxUmJ5cllZWkw4VkxDbXV5VWlxb24yUDhXaGpHY1RCMEdHeGtsbmM1ZDBENHA1dGVyZjFLOVVTV0ZQQXk4RnVHWTNKRGw5amNubUoyRkd1U3k0Uk0wQkZOajZIU1ZqMElPSXN6WjdVcUJxdHFWeDJXZVNjVEZoNTNCTXlyS21RWGlQcWRYN0VvdzROdld2d3d5bm5Oc2NpSkhQbG1CZnBHeURoNTM0UU1sMTNpajVtSFA5aUV5bjdBOVMwaWNVcXptWlhzeUJOcWxCRUxHTVJUMjAxdDN4dWJrUTdLMGw2bE5sZ212MjhRckdCTFhJZGt1YmMyZTNPYm5Gb0U4VWF6N0FLNm9TS2R1UjJIVFdzS2tvTlUzanJVd1JRRkFveFp2bEhGRktHMWFTZ2I1bDFXRFpkcnk0aW5aaXpPZjdFMGhUREJWTUhadnZmaTU3TU93RGtNZGR1OGlNZVEyRHNHRFlNTnpwWHlydGdTVEJGZmVnemtSRzBMWVM5ODduZzRlMFZBa0sxWEtJcmJLZWIyTElVTjNxcmc0d1AyNGcyWDZYQjFvamhINDBMWDNzNWtHY1hJU1FXWUNWbVBhTHZJa2FzajdiRW9iTUFRT0lXS2xVUzBaZlN2MDVza0dqOVpqY0hqeVJtbnc4d0RlenRNeW9Hd210YTREWVJPMDR3ZnA2Y3hxN0VDVmlweXMxN2xzRlp0NDBUVTdVek1pUXI2Q0dwUVJTV1pDZDllMkJkdlByb0lOVUs0SU5PWkZ5V0NxTlJKV1o="
m_p: "4kFaV4gD629J9GB31IkZUHBh8kZn1684Lv446m9StOL5q6gJpV0Z12Cz6l2fDbE2"
e_t: "1614165723355"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.66"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 22
}
userinfo {
  username: "156******06"
}

2021-02-23 13:22:00,912-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:22:00,912-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "ae20b939718646af932ebd13607ea0ec"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "xx4PPLba"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 11
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "NcVgEUmBv1K3klCRLX7sx5z9YuJihnjf"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "RzDIyjHdSuAQY5phsozIUWdIFJJ1PL5KyVl60d4gF1QmazdaLpM1UediL/hiEVbdaU9/m7yNzpf2nAXy5pju1S54YJC4tLyXWfCqXo/1aa1Orc/l7Lr9uj11ONXbb3VV1uuJEiFg0zxUXq5Eae1Go6EkpDkyWKzF/HyUkFp5qDM="
order: "9437357381279"
ip: "120.197.152.211"
factor: ""

2021-02-23 13:22:01,026-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 13:22:01,042-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.58', 'batchId': '94981914572361876843305317570446', 'bizNo': 'dAanCbq6LYplrmOxGXk4VzQi07FyMZDg', 'operateType': 'PRESENT', 'requestId': '71075760830365617711606541447725', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614057721039})
2021-02-23 13:22:01,066-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.58, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:22:01,080-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614057721077', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.49', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 13:22:01,100-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299622'}], 'vouIdList': None, 'batchId': 'd2705b7b11834e4b92d6baef1faf804b'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:22:01,116-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'd2705b7b11834e4b92d6baef1faf804b', 'batchOperateType': 'PASS'})
2021-02-23 13:22:06,161-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:22:06,169-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:22:06,169-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "00366847560456"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "5MBp7crlNgLKwAneEfoP0yvdqQtx1FzI"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:22:06,267-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "cffdd9c6ab9c40418cf6c281ee7171fa"
s_p: "QjU4Y2FrZlVlVkVKeThTUzBicUNsUTFBeGdCQ0FGakNqV2Q4MWNrVXlEa2diM2NFVk41eXl0QmdTV3VvUlVjY3FyTmNPZ0hMaXFPSlhOODVqYVQwekJRcUtsQXpNWTlUZVlsYnlpM3o4aU9RV01tMTJsYmZtRTl1ZlQ0cTlhdTdNYW9aMEtXUFRMaGtJRlFqRlExMFdoTVhqS3hRT3hKTktkeVR0eTFMcmJrc1lvRHZTaU5Yb3dEOEZpdTU1R25jTWUzd0pNQmtRcXFHelFMRExQb21ldW8xUGRSWjhoQWNseUJZZUJzSGp0aWhHdE04amFjS2g1ZkFNTGR2SE1heFJYTnpzTUc0dW9sSkdpbVQ2clNLUWsyZzZxejZvMHRZODJWS3kwMFhoNkRNTkh6bTgwcHFDS1p1dDB1OEpwdnRzRTJJMnNnOGNHbktHMWJMSURnOUhtRkVxaHBSRkxpQ1NYTjlVZjZVbGtaQlJKR2xFS1psdUZVODd0Yzl5aDFHVTFqeEZkUVFIVkZySmdoWG9mQkZDOEVLS1NvZTQ3RVFHWUxWMGhLNGJuSEFaTE9qdmd1NkQySjdUNjAwZXVsT3Rza1c4QXNZU2k2ODVhOUw1cmV3MHlYRXJuQmVwT2ZNek5ra1RYd29uRVI3ZGg3MENhTFFENUJod3pHdE43ZE5GRGdXczZ0YlBKSGNKdHlLenJHZUYxRFdPaGJQaEVManBVTlZZZUxFZjBGTHpZUkp3d0hxY0s5S2FETEM2cDJmUHdxekRsbUxVbE9QbE9XRWhyZWdRYnhWdVd6c2JDWXBqd3d2QTZheXdmUDVGUWZqWDBrZ2ZhUHBLQnF0Qll4NzN1TjVFYVR1emJXWHpRT015U3FDS0QwY3BnM2ZlZzRlVVZjQndhaUNDM0VKRlBFQnFiUzNFV213OXNIcHVnTEJnRGVyU2ZuWUpZR3lsTEZtWFNTMFVrcHBLSW43UW1mUzgxRFgyZFdFUVRMTmhoU1h0NmtWcTNEejlLSmkyamZwdXpJTnYxcDQ4d1EyQnRYbjNWblFscmdmZXlXREdMdlQ="
m_p: "40RrI8Idn44ts5V7QYRO4Ca4K8CuK427d1evp6j3168bwxe832A2yQBHd4Oy59iJ"
e_t: "1614165728716"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "12.13"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 23
}
userinfo {
  username: "156******06"
}

2021-02-23 13:22:06,291-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:22:06,292-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "cffdd9c6ab9c40418cf6c281ee7171fa"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "AzMY9TeY"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "8.62"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "0sS8T3aeuO2Nq6HbzEKP94ZgDFG5ry1h"
}
sign: "cBRaIrKUuJXgubwzC/VjGzK2ajifTGgFqYH/BdvkHSEYR662+Q1q5VNyRPzngQFg5cwfgrlWjXY6nXY0TlHsKEO6VzkchKp5eXhKli1xeW07ke6tQNFL6QZE05N9yfIq9kJYS5lGpnlWi7bDkT7SO8xIzBLxmJCkEZwTYy4FyPUV1l8hE7S1/sAiiur+XYCBm85gg5hRF+gm2/6xnqTiMBSb+zSo1NaU41HmVDtbwHcjHrgxbcMwJtQ6bQM/NOhgGtTY0k7yV8+flKRcdM6sDugF8Twv6kX8nCIWg2mYZgyaTuV7g8RHXx9pDRUNNfLZkB0R+Etv9ngzE8UpwK+oAw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "cffdd9c6ab9c40418cf6c281ee7171fa"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "AzMY9TeY"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 969
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "0sS8T3aeuO2Nq6HbzEKP94ZgDFG5ry1h"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "bnU9JLd3DvosGHi72nxEM/gBBmy0Q0hGxmEnZ1yxGG7Z6VoQF0PWmt0sRGC3uNw4caQUlhCx2JdQzVYUZMoQ8pKmQIMrPVnEP7mHmG+IpDBdmTfvqBbMFgWkpMvQZhU0jdob8KXsUx2y5zHv75MUJE8WwW2YMCpFWZzxKICMD6I="
  appKey: "1234"
  voucherId: 62299622
  voucherType: 2
  voucherCount: 49
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 13:22:06,716-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"e4ddd7ef90ca4083b62fb6015ea31568\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23132209142805439d70139a7836ec0000\",\"sign\":\"24C67CDB460A5F973BBDFD6653BD5C02\",\"timestamp\":\"1614057729\"}"
}
payrequestid: "KB202102231322082076075925013772"
model: ""

2021-02-23 13:23:24,503-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 13:23:24,777-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 13:23:24,818-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 13:23:24,818-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 13:23:25,200-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 13:23:25,204-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 13:23:25,205-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 13:23:25,208-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 13:23:25,208-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 13:23:25,209-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 13:23:25,212-INFO-fiz_db_operate-26-可币余额：12.1300
2021-02-23 13:23:25,220-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:23:25,220-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "19450428985699"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "EIrDeSvMOg24Nzj5KRfiVy1koAh3tTYZ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:23:25,323-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "84ec6e48e629446789a89d30537a7dd2"
s_p: "cG1ETlBZRzl3UmN5VVkyVUh4ZEJCU1kxV01Db3dPODI0Nk1UZEU0NVprZUo0QU5WaW9GTHR3MmhqUmJmVlQxbUZzU0YxbWUxeFNXelNyZXhqSE9FTmJPOTByTGp3YjE5R3BzVkM3NEFLTTZKSUROelZvajRKS2hhbGR6R2NmT1VKSXJCQk5KN0xGMWhRMENZVU9PVFFjeWlCVUVtUjlFQm8xRWJpOFc3TzdIbmhqQkloeXVHMmxCclJqSUxwd3prY2Z1VFNITEJ3M3pSMW9xMEZTcjlMZmRPZE5YZHd6NEgzQjgxckd0MDhFdE9uMUI4eTFlWjM4VnpTU2VuQmxJSW5SVGN0bjk5b0M4SVcza2lTMkMwT1N2Y2RtZWpaY0pzU2lVR3BsaEVocTkwTVVTQVFCaW91U0lpMEs4STZnSnAxWGtyekdjUXRScnlYdWRBaDVwZnNJbzdCUjRKQWdTczN1dEU2c29xSzdYcWpFc1RyVEt1TVhyaWY2Yk5TYWZ3VGNJQnVPRjNXUDJ6WEd4MTlZaUZtSldIaEF4bndrdzNyVWZjSENiSVA4NVlBRUZ6andxcEFRSDdyN3BqVXVHU05TSVRva3ZUUlVMZkFKV1daVlBTRm1uZGdWUGtJY2gwU0RzYW9mcHRuWXZoZmhOcUhORXM0dG1ucm4wb1kzTTJYUUhqbEJzdDhER1pvVVJJZHRBTUptaUtpdWx6RG85M3pRUDBIRUdHWlhaOXB2NFVabmpVRDhYZDUzamVHTk1DbURMNkRiOFZVaG1tdVNIU3BWcVNPemhuSlZKSmVreFVzajQzSDgyaW4wbThpSkIyN21iZ1VkcFY1V2FrQTFtMXdRNVI2RjUyVTFYZTg0MENsMUZhYzROc0ZEdHRBc0Z5cnZqZ09vRm80T1RJYVRZbE96c3NZT09aNzF6cVFNbzhGQ3ZHYlNFM3VYOUE4dzRwVVExMHh1MDQ2U3J6aGE1emdQR0VBbGt5cm1mZnZSUDlxZHV2RUtSZXo3a3FKdXFBSEZBd0FaY3Z1ME5kUkpCUUIxaGpxSG82T1haT29WRDk="
m_p: "VR71UM5vG35ulCV712h6FV1YckRg545MKfUetaB723PKS8I1Sr04uAW3ANTE15C4"
e_t: "1614165807786"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "12.13"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 23
}
userinfo {
  username: "156******06"
}

2021-02-23 13:23:25,356-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:23:25,357-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "84ec6e48e629446789a89d30537a7dd2"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "KM6JIDNz"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 12
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "OmQckHDsjItE6PKqW5arYZdbgvMAoR2p"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "c1cbvsyOagQbWEo9Xpi5I4+MGO75yTygom4HsUjPhfZjvI7mWUuC7GIdsYrG13I8C02kMKaXZcDHobAGjcsrKiJgjYLZRz6LnDAUb1AB4NqfCId39pKPQtuLH+4fbrcpleLhGWcoz1d7gu92prKTpHxeVCu0i4zvc8v432ElwH4="
order: "6739723761527"
ip: "120.197.152.211"
factor: ""

2021-02-23 13:23:25,471-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 13:23:25,485-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.14', 'batchId': '92102592645043069873728894416712', 'bizNo': 'AJQMb7uLfkVY3tlRPF4DCsz5Zn1OTBe2', 'operateType': 'PRESENT', 'requestId': '46605755042842920628641361267686', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614057805481})
2021-02-23 13:23:25,509-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.14, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:23:25,522-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614057805519', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.37', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 13:23:25,539-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299623'}], 'vouIdList': None, 'batchId': '795118719cd649a5abd68d23a11b3b83'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:23:25,552-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '795118719cd649a5abd68d23a11b3b83', 'batchOperateType': 'PASS'})
2021-02-23 13:23:30,590-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:23:30,598-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:23:30,598-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "50029931621973"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "uWySEHrAmpZlvnhk4jPd3wUc85NLV9Gq"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:23:30,693-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "9181e2e69bcd4b12acf71adb5a1d3325"
s_p: "SFBMbWcyM1BOZ2o2bUNNUDV3MjgyTkdhczlmTjFWeEQ0VHg1M2NjWDZmREk3SklFcjd6RkY0b3pSUEFKNzFndmJTa1F4Y25hTG1WaExWZVdhOFI2UGdEdUx3NXJ4SUU1NmZtMWdBemo5azdsNEFKVzlERzdaZ25UelRaWHlyRDZoZjB1THN2WkFDMEdrRzFlQXhNVkxacnZJZkU0cVUxaVNyRVptQ0c0UnQybUtMY3NLUW1hQk5zdllBcGZuNlM3a3cxSVh1Q3ZHS3JuaWRDZmQ4eXM0WUs2UzM2NDd4Nk9hYktUZDhlNThBZzFYMXd6UzltMHM2NDBNYW1WMjdRaXZyS3dxQ2ptY1FjYlZSaGZtSzNQVkZrTmp2SnpEVXVpbEppODZrdFRaa0Q3d0dWSTZwQzNOb2NlYUpjRUtnWGNERzRUZ1VMd2MwRVZTb1VjMHE3T3pNVHVRTzA4Y0tTZ0FJM3IyZ1pUOVBWOG5mYmF6UXhnUEZjZEk0RzBMQVVKNFhoN3FRVDRxeXd1U3F3V1VLd2NucXB6dWdicjdMMFNDc0E0YmJDZkVjNExHVmxLUGRZTEFNa2ZuN3B6Slc0Zk5sU0tMRmRPVHB0b3A4Q1ZiYXNKczd6ZTZrVndQeDFZdHBFN0dGQ3FMTVVxaG4ydTFxVVdUMFF5RGlWNXYyR00zTWFqd05yaW9DQUZLZlZTN3c3OWpEOTBtcHBVcnJaeXdNdDlKc2VCdDBQYmlaR2ZnbE9wUnN2SmdCelFlelZvMllvU1dDSzVqZUJKdXJzSjMybnFLd2hCSlZ4bGEzUWZRd2lXUVpvUUpuTlNnZGNlZ0Q2Q2w5Tk8xbGF6dkZyMEJ1UzMzaDJjVHJES1B4TWFNdjJsY2dtWGVma0RrSGdkTnh1UWZKR1NnQlBENzVSN2M4SnFWN1ByQkFiNFJ5UGlMVUxuNjZ6MXBVYjZ1eXRVVHI1aTZ5d3lKa1BDb2ZhZU84eldTc3RTQzlyaEpmd1RUb2szU0x2bjlJOExBcVVZWEN1QkdUTzVTbDljVXdWRE4yZWxHR3BYOTZWd3I4YjQ="
m_p: "3P4P40l491v1shi5izC1j6HwU1ZOgM16ImxVUd4auPzmMSipIvj692w12U23dKud"
e_t: "1614165813152"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "12.15"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 24
}
userinfo {
  username: "156******06"
}

2021-02-23 13:23:30,716-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:23:30,716-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "9181e2e69bcd4b12acf71adb5a1d3325"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "AC0GkG1e"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.39"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "3MNcAgVSyJeuX5tvnHhwKxPjfQ9GY2bk"
}
sign: "RIySkvtmjdyfLXjTLfOSxf59wQ2m5CCtMFy17V4lwl3sPH5g9ZwkJ6aiLIykjM4Q188scyDkNm87OWETl+jQZ5E+et3RWyESAaR0aOWoECKG+mISlgHJum/YAfOQxvYzOB+cydgG5oK3tQIu9FTSDOP92Bdweg3BnwS522PoXCGYvNCe91ZiOhEw2vbc97sg8yCkdCTiw3MpQMuBrxv5ClW2hZ9TWXui+VaMFNLGuBIUK67vB1QHZupmit+oOekk8UNbPon9dI+Onj1VcJdaNqy9VWnkC08UuaD5CSs+CYhNc61qWTZ/rxADzJLW6BHP5KGuqHRhsWVSHOHcYDUHwA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "9181e2e69bcd4b12acf71adb5a1d3325"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "AC0GkG1e"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 90
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "3MNcAgVSyJeuX5tvnHhwKxPjfQ9GY2bk"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "TuvRVWtVMpGeCgjJUaBhBQBj2BS1/j7/Cp+q6HGZU4DgHLodRio858LEL7SrTXT/Vtmhq7qBFGY+CNTqbOFbD5XGLcf5jz/Sz+YnR9DbdrqTBbaGHvi61olT2vJwGK/98HjRQgsYlcN2K4yBtDebOKFh5x0c3WodrzIPIJ+eyv0="
  appKey: "1234"
  voucherId: 62299623
  voucherType: 2
  voucherCount: 37
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 13:23:31,088-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"d0e578b21e57452286b5c565c21e9eef\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231323335314062c91b8afb34d7afd0000\",\"sign\":\"04DA813C22298A3BBF8A1339AD50F37E\",\"timestamp\":\"1614057813\"}"
}
payrequestid: "KB202102231323332076075925582312"
model: ""

2021-02-23 13:23:54,220-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 13:23:54,493-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 13:23:54,535-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 13:23:54,535-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 13:23:54,911-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 13:23:54,914-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 13:23:54,915-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 13:23:54,918-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 13:23:54,919-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 13:23:54,919-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 13:23:54,923-INFO-fiz_db_operate-26-可币余额：12.1500
2021-02-23 13:23:54,931-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:23:54,931-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "11589501850273"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "tIl1nOZdPQ0b5k7GU2ioKXJeq8HYjLCF"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:23:55,026-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d35c1bf8f5a5429599f77491b08536a6"
s_p: "SkYzcEhtZlB0S011Q2J5WnJDSThDbmFzUzY3SUgySjlxeFNMRVdJU2Ziellod0tqcVhlcVFyRHVSN1l4ZVNkcGxZcW1oQU1WZUVDT2FhSTlqY2R0ZTZIR0xVeUIzUUViZVlMczZPZGNmbHJwZHY5Y2JhRnJVSGhtWU9ST0JXb01WMWhhZDJrN1RxQVp3TVdqTnE4YllIcGtQMkpVeTVtVTBlMHZ5bkk0RENGcVA1TXpYYkdZZG13QVhMRDZZSUUyYnhjVkFkTUIxejVLS1JnQW9rVFdSMUNyNnljalc1TGxNZkxvTG5yakdVNnBTeDhWdmtWYlVJSDNUUWFDU3JrZEpPaWl4djlmenR6M3VIUDVvNkY2VkRCZjdlSEhmQnNqSXhwSWJvYmJRVVZrYkRwdXNIZGc0SGhYUmRIWEw3dzVQTW9uWjJDdFhtWDZnN0kwWTQ5N3RTRFNieHRab25DNHA2ZmRueWZEdjFIQkdQV3VGVDZWalZtQkU3TE9rUnQ5a1Fjd3V4Ujk4ZmlwNFhsVnZQQVlZRTBteEJJVGJEMGF1QmdMc0ZrVHVMSUVvN2l1bHN3NUlIb0lNaW9MWUtpaE9nTkpwd3owVHFGQmhYUmZZdmlSTE9CN21VaFBrVml2cE9yS1NDSHpiNXJxYUhkVzBxRElPemhJVXlnS3h1UWRiTXkyaFJ2U3NYdjF0Q1g2UEFXRUhFdHBzS0V0TzZCSEJuWVBzVk90R2F2bjRjN21VUmQ2V0xHQWp2eG1tUzBTY3ExY3ltb01yRVFKWHNXZ1BGSEQyR0Y3c2prY0NDcUhKTDR1SnRPZmxvQXh2V0VhSzkzZ1RpckxGenpydTM2OHR6aFRwUnJ5UTAzVGlCTnZ4eDlBTkhDV2pFNVp1Znp6Y2tPcmtNTVFxeUlZaUhDa3UzQnFKMHZhM2w4bDhneE5RZm1HWGpPcnJITDYyb1U1RlBDYzdUaXZWZlhxNUZ2RGVRYVBVY0lxYWpacGVzNVZDYlhoUDFSU283RE92RU9Odkc4SEJtdG11YmJvS3VGRlZnUWpXRTBlMUEwOW1HMk0="
m_p: "aJWzNq6dQ1d0D84s058HD055w9pjj0gxa577wEiqQA27j7kCCw89Q9TpoG90awys"
e_t: "1614165837490"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "12.15"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 24
}
userinfo {
  username: "156******06"
}

2021-02-23 13:23:55,050-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:23:55,050-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "d35c1bf8f5a5429599f77491b08536a6"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "0vynI4DC"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 12
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "JhDWMxC5nAomVfX7bH2q1SlzwBUe4dca"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "W6g+0eXt/29SKL0noiZbdOrOffArcTUFv2rFjgKk9CEbhUNSQDsy1Th82DTEy2rL+8vyBPxtuwkRsRyrdITIrGFf2VP5pWfmGgc4wQJNZTNUmb/Zi0k8L3TdreJmCy5cFm7ILwlP3l4s4wgaiL0Vl78fMsJXoK9loZtay2iTpZg="
order: "8765310098268"
ip: "120.197.152.211"
factor: ""

2021-02-23 13:23:55,176-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 13:23:55,189-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.59', 'batchId': '22399991987775761014939725085701', 'bizNo': 'LXAcxyq248DTBFVznMNZvUhJCdest9j7', 'operateType': 'PRESENT', 'requestId': '63332579900916347104673679350030', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614057835186})
2021-02-23 13:23:55,213-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.59, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:23:55,228-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614057835225', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.49', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 13:23:55,246-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299624'}], 'vouIdList': None, 'batchId': '4034339f403b49da93308724d9562fa2'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:23:55,259-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '4034339f403b49da93308724d9562fa2', 'batchOperateType': 'PASS'})
2021-02-23 13:24:00,298-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:24:00,306-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:24:00,306-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "97814061170096"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "s9rqEJUuC8RWO6lIHADjMGtYwpaFefNn"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:24:00,400-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "6d5f102db8b445ebbc54dda67b2c28c0"
s_p: "THBieUdyWjBkRXJZbzc4Znc4cEw4N1dwVEZmZVc2NTlYejlkb3lyQW5Ybk4zc3pCVFlQWlczM3FUTEdUZFFvMzNVS1haaVlFNFY3aXVMQm44anU3V0JwbFFvaGtmRDZxQ3hUbVZvUm9OZUFKWHN2Z3RoSDk3NlZucmU5TXh1T21SNkNxbkhsc1lZV1F6MDlpOGtEVERLN1Z6MVYyYnNzRjExNmduMlN3cjVXSkJoQnBlU2QzeW9CaEdiR01wejRJN2V6NzBXMFRnaG1uQm1iNjFUNkFBTUl0a0V0a2o5MHBIM3BwZmlTTU1nU2ZTQjdZSnRxaXFqc0R5V2E5Y2p3TU5vTTY5TFFwSGoza1VmT1hra0dlRXhHNnJjaUM3Q3hzVlpMWkpXWXVYOFhkS0hSeG1BZjdGWGZEcnFNRERQN3Vuanl6SndJUWZ5eFJSR2tJaWVlblhBNXFkVjh2YTdXTXBlTnVOVnF1bFZaZnNEZU5sTEV3bDV1alVIN3RuYnFrM3RkSFVnU0Joc1N1R0pRanhQbjVTblB6UDkxTmJMUkp1RXBueXhLVWdETGcxVEFtaUwyQmlOaWxZTnVrTzJ4RFdvdms3ZGhtODc2dUZZbjJtaEd3c1dYZkw5WkV2Umx2QlJEYVJhSk4zMXlkNUJQT1gwU1o3WGdIc0p4TDliRmRJaVBhbkZNMEN0a1p1ZlRyU2dUQlF4aG8waG9iTlNSWE44TURlOTU3ek5mYUpQYTE3dUhRZmlRUXZSV0tQeUphNFQ5OUJKUEsyREFaUktUUU80alNiUGNGOXZsWTV3SnhRNkdqT0lXNXQzR3Y2cGtNTU1jS3JtSld6cEVBVG1jNmhzVDhBSFR0cHN3WnY2NDBieVBQeFlUQVpab2ZNWW94OWZxZ09CTUhhYlN6dHNKaE84SDd1ZkFEdmhaWDJHam5SZGFGR3YybFV1QmpjNGg1dEdPaGZ1QXplOXBVaEF0eW5jMjZib0ZvV01ha3AxYUNvaUhNWVJheFE2c2N5MXNPRk9pYWlyS1VvOHpsN2JNTFkwdFd5RWV6dkRSaEN0eWk="
m_p: "247Zf8167I2j0x0o4620XoPW5ej6W176782ia336s1LM925G5NBVgsKD73T9NlH7"
e_t: "1614165842864"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "12.62"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299624
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 25
}
userinfo {
  username: "156******06"
}

2021-02-23 13:24:00,426-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:24:00,426-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "6d5f102db8b445ebbc54dda67b2c28c0"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "PZW33qTL"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.12"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "2zFdVXPiM4R3AtmnecYLpb0BHWKETjOv"
}
sign: "DTsCHd9Y+yjU3GXoCnkb1m7Y2YB8imcGmjblXiNe8PEOwRXUuMePEMXozpEOcGObJeVYVYNZeIbEkPuMsN/DuZbdwZvAYiEdJQTN/W4XSMhz3VDGrY8uoqqt7x2bw1K93sp5sLA0gdS0FQPtgaV/jkMwAlEKJLePZ+SQNWubtgR/nqJneonvVEd+fb4lTKZdKp8XOiIRyxCTC/fkatsAOTvnNY/+U0P16ReMD+7Te6mR8qeXZwqVnp/A5xKRix6OrFHOx6RhDU9ARYTVRzPJGsWRz3lJR4f67bjs/R8yytztb6bsqMeWOecHFPDy7nDLV4JRa8RVnPAdaT9yrrozuA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "6d5f102db8b445ebbc54dda67b2c28c0"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "PZW33qTL"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 620
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "2zFdVXPiM4R3AtmnecYLpb0BHWKETjOv"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "B8td8JFP3X0wxkcrwx3G+HWnNK63j46RLNJZDCZbrpCS0DquydIH53eZUyhneGZFkB+3HkhD3AaT2+pHq3fKBCfEkDZmMWYojmkTv4YXSToSdzzx4RRydpeOhw8kZJBkZDeaVigJmBVr2QtI5WZ057eDGx3ztK1wOeduw30Z5KI="
  appKey: "1234"
  voucherId: 62299624
  voucherType: 2
  voucherCount: 49
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 13:24:00,723-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"d60abeb902d940e69dda9c6cdf8f7a43\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2313240315795163ef4cde6aa622640000\",\"sign\":\"44030B867EB41CB53B0B98F97C3C086C\",\"timestamp\":\"1614057843\"}"
}
payrequestid: "KB202102231324032076075925244202"
model: ""

2021-02-23 13:24:00,723-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4389829931531031426235669825]]></transaction_id>
<nonce_str><![CDATA[udHEzD4nX3LA0BvfK28FIVxZrcl1Q5Uw]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[882207EA83391B61A0D17E838888F8C2]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231324032076075925244202]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>512</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223132400]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 13:24:02,085-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 13:24:02,085-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 13:24:02,092-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:24:02,092-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "16644836603066"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Z3mXzLIixKWTYfynjr5v1Cs24e9Fhl8U"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:24:02,215-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2f6bb3ff6cb342ab850575cf17111037"
s_p: "WWVSR2F5RG9yOTlxdlUyclVBVU1hVFNKTlMwdDV0THRjd0h6akljUEswcHVidE1SZEZPRkJ0bVB3QnNqUXBBdmdXdzF0U1ZReTYwWENUdHVQVzN6SFhOVWtTcUxEYTF5YmtNR1ljaExIRmtmU1pjNHRUQVBrSE5rTVJJTGN4N2xJYWl4bFFzakV3ZlJBcGFrVTgzZHZPZ0xwUHlZd2M1VGZkcDBSYUJmeG5ZYjY0cmJOR2F4QWhuRVFvOUV6SnJ3OTVMM3FUVm94U3ZmZDJMSkZ4U0VlTGw5SDJYdnBzeUQ5QU90Qkh1b2tWTzE5SkxSempwSXhITnFNUjZ3NGFPaVkwTWdjSkZGaE9ReWN5cWdnMDRuMEhGSWl0TERXZmZLZDllYURzNlJuaDNWc3VNNXJJNW5HSWxhU252VVpNUk1oeG51NEV3VDdQWlRYclpzUVY0UGZibW0zZkE4aG82R0NVWE9qdzBuZ0sydXJyRjF5YXhyMzVqbEZMY1R3c3luY2ZpWXU4ZG5aZ00yOG9xeUxGYUg4VnJVWnJDdFFqajZSYU9wbEswV3ZJVmxqYlMwNGdMVXd5bUlEUkpOQ3Z4NnBwYTd1SE5CVHQ2aUtSSTFmN3VRMWltOE5ZUmpxWG8zajdKcWZhdVZjZnJFNmtmYjU0cjJCZ2FNMDBjOWJocGswWmpqbTdwVjEzSTJoZ1ZKbHFtWWZ0T0tRWUxZcmhlZWhqeThqSHB6NWpnZWdjS1dvRmphZTlwekg1RTJCZHlMQlNSREF2OFhFUEYwcGFpNVhmTTg2cktVcTQxbHp1QUFiRTlSQWVsTUJXOUNacnBTUE0ybVlQWE9BRGR3ZVU2d0J1U2ViZkRCeXdEa3JLMUVqVzkxaHNSVTRwSDVycGM3MnVXMGdKNFp5WUl2bHR0WVNNWEVueWs2ZjJkb3lIOUtIdFR4Vnk2VEg5V3d5RE5TeGF6TGJEUDVhcHpSUFFtVzUyYzFoTE14SUFudTlERVJuWWpkRkNsd3loSDg4OWZiUVBBM2lKRk9ZZ21KWVE1NkZRUkxMWnlYMzRBOE5Fakk="
m_p: "0g4gq73mhNKzmhGjhLOpw0kvaL79zHcg18pJq002k4bWtaD1te1w806IQu45F66q"
e_t: "1614165844643"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "12.62"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 24
}
userinfo {
  username: "156******06"
}

2021-02-23 13:24:02,218-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:24:02,218-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "2f6bb3ff6cb342ab850575cf17111037"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "aTSJNS0t"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231324032076075925244202"
version: "260"
queryType: "PAY"

2021-02-23 13:24:02,287-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "1.08"
origAmount: "6.20"

2021-02-23 13:24:40,465-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 13:24:40,703-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 13:24:40,758-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 13:24:40,758-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 13:24:41,127-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 13:24:41,131-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 13:24:41,132-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 13:24:41,135-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 13:24:41,135-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 13:24:41,136-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 13:24:41,139-INFO-fiz_db_operate-26-可币余额：12.0300
2021-02-23 13:24:41,148-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:24:41,148-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "87846619077447"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "H9nq6dzcLIp4Cs0ktx1fwiEmylaYZ5DO"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:24:41,239-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8a8b53df8ea34b1e98bbaaf4bd66b24c"
s_p: "eTY1ZUh1NFhWU3RjUnN6SmJObVo1VEJMZlNuWmNkTDl1d3oxSVBqT1hTYVowM1E4bExoUHZjVHR4Z0hlVlpYZnpKWmlpTVVqcGFLNlk1eGhKSnZrazBMQXVnTUYwWm5lTUJnQmRvdTJ2ejNPM0JMZXhYcmNPYnhqYmNnNkY3WHRFcUk1endVSXNPYVNkOG16a2pMNG5XRzcwNktNaXM2SWc4UmNVSkliVEVGRmlVNnpIekV5N2pBc0pXcmdMckJETEd1VWxPU1JOa3lldU1RVmlDeUFUTEQ5ZG5YVzI2MlI3bVNWdzVKRkN5ZjJzOUdpSHM5RzNQM1pBSmRuNUFXbFY2N2RBWmVLb3hzaVpSVHBoeDNiTUdTSXFrdjRlR2xjNVFUWkpCRHpzZHY1N1pPMkFzWXlnWjRmeXFuV2RQd1plSWRJNlFoR0RlMUJ6QkxIZVE3STJDdG5lWjR6aFFNRVVwSndYUEU4UUY4YzRnQkRiOWpuc28xRXhCRVRJbXB6RXRUUG5zWGkwOEc4UUl3azVxdG11OEdKVlZzS25WVmhNcXdwZnVGdUNDOEZPbHJTenpCWWVzUFBYNXdOUEtoT25hQm9ESkdYRjJ2eTRDRHhCY2FyM05nV25kZ3FlOGs2bDNxUkJCckdQOVhKaW5XUzNJOWxzcEFSWXAxMWRFRTE3aXR3Zll5dXVvc1UwNTJFZURqV2lybVZiUldYM1A0OEEzYlFyd0haTlg2TzJhT2twWDdJVTVzVHBNTmk2TE5vYkNvWnFRSllxVml2V1Vkb0I4Mk1RUmtsVDgwYUc5bk90SHFQbkFYcEd3VEtpS3BoZ01ycllBejVxaEF5RjhlZ1h1Vm5XajZWVndkUGUwRjYxZkZEeVc0ZER0dDA5Uk5IZ1R2M2VVMGZTTkVPRTE5MUZKN3VIQURtNWVIT3V4amNESDJaaWdiRkpIajdRSEdqM2o5V0FFbnFWdUhabXJtM0RHQ0Q0ZDZ0ZDNJd0l6bmQ3SFk3ZGJrYm5LVURzZzdCaUdsRGZXaVZQSk5HbWE4dFZyTzhSeVBTSzhnZ1pzMmY="
m_p: "5i5c01XlWJ3FEKMH2syQO7EV9432z3D8d0HRu9X4JN36w35w23417BJ1T6G0J0Xt"
e_t: "1614165883708"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "12.03"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 24
}
userinfo {
  username: "156******06"
}

2021-02-23 13:24:41,265-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:24:41,265-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "8a8b53df8ea34b1e98bbaaf4bd66b24c"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "XSaZ03Q8"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 12
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "fMr6wgRUEtmOuAzd2PBWH8pGaJ59Qxkh"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "RR10g0oxk8Bm8QByi/2AwVOf7VKRulnjd3zErf0abzfswQ6I1MGhdhzqi8AnH6fS9860dSWZ38v/A8gCp48I+eDP+UYpv9PPRR993nXdzCj6wBuGw4oVIeDL5wSWlF0iNmPZV/A5dewD1wHrzr0Krb9OhNG0bFVfh6j9Ww7exdw="
order: "2220766428523"
ip: "120.197.152.211"
factor: ""

2021-02-23 13:24:41,393-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 13:24:41,407-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.95', 'batchId': '80304140474755450242979499288224', 'bizNo': 'doi6XTh9EvnPgJ3A2pVeIKZkCtwQ1r7M', 'operateType': 'PRESENT', 'requestId': '46023578692289625559644485996808', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614057881405})
2021-02-23 13:24:41,440-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.95, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:24:41,454-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614057881452', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.86', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 13:24:41,473-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299625'}], 'vouIdList': None, 'batchId': 'be50560f9e354987b123540294a595ce'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:24:41,486-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'be50560f9e354987b123540294a595ce', 'batchOperateType': 'PASS'})
2021-02-23 13:24:46,527-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 13:24:46,535-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:24:46,535-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "83308723094754"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "tuo1R6mIEdibZABSU0rQzY2csXj5hJkC"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:24:46,609-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "75ec2962c30c4059995b1e4f7b6d8a13"
s_p: "MXdtZlEzSEpYWEZUNlFlMEFpVExET1B6SWdRRUdCU2ZINHk4elJDcmpSclBvMWZIZ3U3eVNudlBsUFlCMGkyRzdNNTNiQTJvVzNIVG9uRW9mZ1RxaEtqTUlqbUZ3MEZuZWpRSzBYTGl3YXZ4emN1dFhVQ2ZnSmxXNENVbFlCRHZ6S0NCNjNLcE5odDBac1BvUkVoeXZCQWRLWWJpd0tXazNMNzlTNUJ0Y0lTRkY2VlFBZXVxQ1hiWkpqcmRBaVFSR3dMWnllU2duZG5ycnpyNUU3T21JTk44MkVwaUg3dXY1RTRpa3NzU0ZKRnpVaEJ3VWxXUGhYd1NMNUU0VG5Vb2JRNVl1bFh0TnpXd05vWk50OUhVeERCcGpKeUxwU2tlR004bVFDYlR0bmIzOHNTRVE2aWdjNlZ6TGFPMEY1NUxsdHZsbWFEeWNma3Qza2NCS1lmQzBYZWtNYnYxVmt2aHczRm9hdVBxWVc0N0E1cG9XbmlmbzRtNURETWJDOVRuOVh2SkR4Ujg1VlUwcDlBNGxPQzlZbE9ZUEtpZGd3WnNob1FwSmVZZTNGdUpmaEJWN0FxNmM1c1VxRkpFVFpMbVB1OU1HN1d0eUlpeXMzczZicDN4T2dTQnY4REhsNlBVWHptdlRVSnNqZ1FtWVhTZkNrR2N5Z3NBM1BaTE1BUnpOODJoVmE2N2FhRXRKV1ZrRk1kdm56Y3pXeGNmaUZPN2xPUDVXR1d2Z3J1WXEySlFoMU1kcjlGQ3dYMUdCcmM3dWhHT2IwZ0pVdFNMdE9zbEFnRzY2bVg3OHd2SldiNER0NldPU1lwVlpMVGREZ3UwVGxYZFFRa0FnTzgzWHVXU09pWHZmYzJyYVd3SUJ3d0VmQVh0clZSRlBWVzVNN1dLSDdzZ05oQVhYRFhTdVJUUDNwVWxHVm51T3BTMWNQM3lBdFExUXEwOXBIRmE1SWpvT0N2NEIyTXAxY1VrWVpsd0tuS2doSnNUM1h1eFNQa2EycmY3YTB6a0JpU0FhNzJFbWdJVUJzMmhLRzdDa2lhUEtYMVhyc0QxZDB1MEphZTg="
m_p: "OoWV5Z1Wg7D1I8i9nHcrfKE7p1lTxpODBRWEj88g7ZaAz5y1zVZqUU3Li1vYI5e0"
e_t: "1614165889084"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "12.86"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299625
    type: 2
    minCousume: 100
    vouCount: 86
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 25
}
userinfo {
  username: "156******06"
}

2021-02-23 13:24:46,635-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:24:46,635-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "75ec2962c30c4059995b1e4f7b6d8a13"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "7M53bA2o"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.89"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "PMEeXgzi6VboTyI9qcRKfrLDHs37xCav"
}
sign: "5/dquzatUHAGrtAQH+Vjmf6PNp+8LlPEXcHsIPB+1L/NfQAanJJI9Q6sJzBG1N2uh8udYQl6xsQmML69TFZe6XWxc36JEwoKoseaHoeypg8GIYAbMatRPi2/3wO/LDztNmKdPHd6q+GsASiIDAGmaoFMmwdkswjRFVsTrZjY+dsA5HCOw/pV8lab20Sit6NrcchNvIEsyB/dv4dV55z4cvnaUsiPnTnQWndURa8CQ4OO5avb06JCntnwNzkXuhOp/VViUkgYVzLwBg69Hzx01U5f/B/gPiRGLWaNXRGa0/KqvHODYYXpg2+gawS4W/TuK4r5RrakxfWamEJWEcWR1w=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "75ec2962c30c4059995b1e4f7b6d8a13"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "7M53bA2o"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 270
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "PMEeXgzi6VboTyI9qcRKfrLDHs37xCav"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "EwdsvO92hSKKco/T+O6dHfRiHdvp+RUT+JTcJQMUef4QPqCxz+B5Knz1zXNb59+JoA6LJLkoFm0Wpd8pUgZnvp0FcqdHzE64gGvPP6zzuyti/2fnaNEM6hkcKmYC5HNq3oEYMuKu9JfcPrNVx2aJOzg5fayZqSesqSdjWnNKAeU="
  appKey: "1234"
  voucherId: 62299625
  voucherType: 2
  voucherCount: 86
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 13:24:47,011-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"9e138c1cfe0d427ea66e50c8c762adef\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23132449454051828c9c94d5f67fd50000\",\"sign\":\"84558461053F6FCDC02E7F49B978D1FC\",\"timestamp\":\"1614057889\"}"
}
payrequestid: "KB202102231324492076075925215052"
model: ""

2021-02-23 13:24:47,012-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9223361159450094283157251392]]></transaction_id>
<nonce_str><![CDATA[Ffepgs8NWOD2MrlE3TdyBhAULH17YvSq]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[085B77520D9E1614692963BAD37EE925]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231324492076075925215052]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>89</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223132447]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 13:24:47,111-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 13:24:47,111-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 13:24:47,118-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:24:47,119-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "57949014225071"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "XfeuUSFYLnEB4M3JKiopsjQkCaNx5l8v"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 13:24:47,205-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ce8682eaef954cdf8178e61a2e22dd0d"
s_p: "Q0lsa2VuN3d0Y3lFNDhKYUQ1UGp1VGt2VWtZcms1VldjNjhoWjN1bnVDRTl4WXFOeWdIMzA4UFpwbDZxYnRPbnJqZ29iam1mSzllVVRmYld3SnFlSFk3bFVnWXVTYTd1RHJSNzFnY091Ylp4WHpIdVNyMW5OT0lVekhQS1BEYmxUbVBId3kyN2FqZkMybEVZbUJZc2dDMXB4WE00eTNVMjlwbzJtTjlYSW52czBLTlBNT2U1UEF1ZVZqYVZlTjd0aEswYW5iekpvSFpSN0VnbkJjQmU5M01LbnZrOVRaWlNQRjRwazJlUmhKRXQzMWxyNGprbGd4QmVGd2M4eUIyaVg3MnZydEFNWTQ5ZVZWZkEyaGsyY2tETEs4ekVuTkw5MUQ2YjBSVG1nRmZFR2RlZXBOY2lTWmdBM0dKaWFVUkFuaEJOVUdwM1h4NUtnVDU4blBqWmlvN1I2N0xPZnZxSUJJUGZlWUl2ekdZYzVmR1czSGU3RjVxQmVCRm8wanlYbFJuZEFiNUtibmJXdmFSV2FLc2hieUdQT1ZZc2VLbDZnamZ4TUppTGVUVDZ2S0cwU25HMENieGdJZ3U2YVN6ckVocVY1UjgydmN4aWExTUtWcFo0bDk1MVlCUTNSTkpOa0JTTVBkdDRVQWJmU0ZUSEViSU9FVFMwSFZnd0s4QW9UVnFxQUs1WXYyWlBKMVlUd1JzdTJ2RDh5dUpkTGx3TUJjTm5Ga1RmdGlpeVk4anJycHR5MEw4YzVvTXBDNkVDcXJDWXJOMW9iYWc4SWJPa0lLOFpPM0tWUjBFanVpeG9Gak1vRXNvTDkwakh2RU5wdUpmckUxMG1odlNuZDNmWVJ2aXB5YmJsYk1tbGQ0VkY3YjlOMlVVdGZJN0VuTlhoY1RaNG0yaUhBcXJKSXlrbTNKcTI5TGliSE0yeHRaM0twUXNabXRoSDlkbkRkRTNQbFpEUVFvTXlPWExvREpPSk5oTWw3TGVPcVdQN1pxTk5TWVhCeDM0bzFEc2xoRndRVWNKT0ZxRlM4M2tSTXZJSGdqbEltMnc5TWhjZ1BhMjk="
m_p: "Y9at668Ww26OJyu2iZaEX2hHqBo4I69n194RWPBxIt28FxV821FOorWVL7G832vI"
e_t: "1614165889670"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.91"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 24
}
userinfo {
  username: "156******06"
}

2021-02-23 13:24:47,212-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 13:24:47,212-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "ce8682eaef954cdf8178e61a2e22dd0d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "mfK9eUTf"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231324492076075925215052"
version: "260"
queryType: "PAY"

2021-02-23 13:24:47,266-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.89"

2021-02-23 14:06:29,383-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 14:06:29,656-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 14:06:29,700-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 14:06:29,700-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 14:06:30,375-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 14:06:30,379-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 14:06:30,379-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 14:06:30,382-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 14:06:30,383-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:06:30,383-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:06:30,386-INFO-fiz_db_operate-26-可币余额：11.9100
2021-02-23 14:06:30,395-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:06:30,395-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "80875713876074"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "61Fk23R8LCwr4xp5taZsQWmAB9vendVJ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:06:30,506-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a8e21d10926c4815b13399898af8e2db"
s_p: "NjFUNEVXT0ZyVGNRdFRSTmNBR1NKNHpNbURUaDZjMzFDQ0lhV1RnWTE5NFN3aDhzTXBtbFZQZ1RvUHN4akxOWG9sZnJ2V0ZFSXNUWHNwT2dHcEpiWjE1QUtTOGJIblFWZHBPcGtyVEhXV3ZUUURYZGNnZjY2eWk4bENETExyeURuRVY2NGN4U1gxMFNnWXJlQWxKRUxKM0ZkUFJYSTJCTmNsTERTQ1U3UlZMTkxGMjdPcW82aG5KYklQeWU2OXhMdkRvSEFRY0lpR3dJNnBxd2p4RWRLdFdwMzJ4TDJZYThPY0xRQWRVS3Iya3UybDRRSTRxQnVZS3pLZVdXMVNmaVBJUFVSdkNrWHZRNjVFV0RTamlUTDlIclJHZVVCcllwZnpDNlluUU1JRWNpb1haQTRTZ2dxWjNJNnVObTVFNVE0aDEzeVJtWTRyQmZzbHk5OEw4WW41UHJ1ZkJTb0R2V2drR1haMW5sc0RoNXRaU0s0cUlnWU9RT1JmQ2U1QkhWUnNLclFvbGxGd1dFQUU1eXFodDhJSlM5alVPaGhIbHJsd3hvaVVNY0hBYzhhUjlVZGU1RW94RzFiRGhTUUdjZXpUYkNYdnNuUm9SSEJxV2N5RkQ0SFUzSFQ2UWRzTFduUWhmSXlTRm5LdXVCZ2dXR1NGZWNpYlRORktHdDA1NXRRMVZvcUNVNnBMVkFVaEp0VGlKOGpZZjdJNFBFTnJlUW42TDRpWUR3Z3NQMmp3QnAzbkpWcGFlREVBM042STljVm1La21acTBwRmxEb3RRbE1zdXNieDhZYjI1bkVsOUN5d3pXeXJkMEFNRXF1dFZubFNwdjE2cE4yOGI0OVJ4WFZrMG9WZVdmbWhWRGR3RTdnamYxeG1CQTlsUVJZM2pyMkdGTmhyYnhsaVNUYzZUNm5rWnRrQW96OEk3YzNudE9qUWcwOENzRWxETU9NZ0RsUENta2VudDViNElIcmFlQUxzeXBFZjQ5dE82eHBacTJhSjZWOUVBR1RHNDN6T0dVWU8wMFk1N2x4OUx0U28yOUk1UTU1MG42RXUzM1pPTHo="
m_p: "z446vG8de01T0K110EOEuf1b2p7HZZaRsjgXxZHOg798md4s0hXrSHCY9GuGdUt2"
e_t: "1614168392970"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.91"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 24
}
userinfo {
  username: "156******06"
}

2021-02-23 14:06:30,528-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:06:30,528-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "a8e21d10926c4815b13399898af8e2db"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "dPRXI2BN"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 11
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "sxLhg2l5ot1Y03FzOPkiT4dIwymej8KG"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "D7oXzxR/1s9qvmXTauwzdjjWlBOVZXJZlkSeazr0kBbKeLJyd1FuBAux0bjw+f0fBB+IfiVLb6rRGvRIrFZ0qsLzga8fRIzBj986YQ56qXwKEKc/9vrsx7i/w9FwwAkdBhYiacFpzuNoeS4L/9UZHu3nV4tWf5YCouqS1G7sXNA="
order: "6077009011510"
ip: "120.197.152.211"
factor: ""

2021-02-23 14:06:30,673-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 14:06:30,688-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.68', 'batchId': '63138318811788505941734644513718', 'bizNo': '4jK1QJB5spCZmwUIyHtF8aNdVfM9Y0cP', 'operateType': 'PRESENT', 'requestId': '28342736039367352182827832715542', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614060390683})
2021-02-23 14:06:30,745-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.68, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:06:30,758-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614060390755', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.9', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 14:06:30,782-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299626'}], 'vouIdList': None, 'batchId': '2ab0c2afc44940a3a5edd1a3b583b819'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:06:30,795-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '2ab0c2afc44940a3a5edd1a3b583b819', 'batchOperateType': 'PASS'})
2021-02-23 14:06:35,836-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:06:35,844-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:06:35,844-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "67121780678818"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Wm6TIgMOjeofHqsiK0EcVZLXbvJGnD75"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:06:35,938-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b3afe5d27e3b49b0a9e3f08e4ad1deb4"
s_p: "VGc0TFJCZE54T2VBdGRuNnN1ZGVUUGlVRHFmZmlnVHVKYzFkT0Fid2t6TzlZb0txYTZNaG45OXpUU3FBZ0ZwMnQxSGdBQ0ttU1d3dWNqVkFJbVFPWWhxVkRVQlBCOXh1NDlIOTNHQzczNjJlUTJoMnBJT0s1Y2lsYnhHUjIyd002ZkdpNG9ZWmpMcFI0czBlRGNCSzN3NzhPUXRQN015N0NXMm1ZSWJtYUNiZVViYVo3VTRxZE5QV3FBWjJKRHpGd0w5RXdjWnVXcEdpakh3MXlOamQwQ1lJMTZIU0gxVUNXeHNYUFJFejcwTzZudFc3QzdjODJuYzduYVVzUTZhOWF6UVQydnhUSldFc2V6MHgzOXM2ODY0SFk1MjlaTWJLb2E3S1VlUU5BMVk0OU9mWHJvWTlNcnhrV20zTjlXWG5td01BMDJ5M2tFdnlvdmV5aTlKVWhXUWM0YjI0NWlUbHVvSWVaZnRyclpMRGNjSlFXeVB1ZE5RemUxcWgwZzF3V2ZqNndVUEk2UzlocGppenY2b3BOb05HcGpHbWR4ZHd1QXkyMnZKTFB5YzZyYmVoVHJwQ3JxenJCMkl4bk9LcVFibGZvNTlWZDlpREwyVjBLSGgwaGJERDRERUd4UkZVYVBZWWRWTVNzNnExSGJrQnBpQ1pTNTVrakpiRkpiQ3kwWVJzZFd2dHJiQWpYOTVoVDVHOFBmdG9NUnNLc01sNzJJMmU5Wk8xa0Q2bDRkTUdZUU1rQkVTU1d4eGR3cEg3TFhCZUZtQk11emxhVktFZzFuTlBsY0hxd2NrdTJnaXdCQ2gxZWMwTkFYMmhiUUE1NjM3S09pQ093M2FIQ0tQczc5ZEVjTkVYbXVlWUI4eTFRamRHanFscU9oRzZIMlluUWJVWEEzNDl5NTlTZnNhcEh2a3FJZUNQQTVDcGRBRk9FaWtnTkprNW1GOXFPTzFQeTVLNkRwSWJTTkg1Y2lqMmcyOXlTWU1aY1RHeE95TlA3NXpqeHR5V0Njb2NUTm41aDhiOTdtOU1LSVFyd29ka0d5eUNVNzhsZUI1ZUp0SHY="
m_p: "7Ld807Hthvdw4jV4pd4eJh2DIym6WQ70qm5O57ahzpiOZ12iHVt8H54QTm0ujMUe"
e_t: "1614168398391"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "12.48"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299626
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 25
}
userinfo {
  username: "156******06"
}

2021-02-23 14:06:35,962-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:06:35,962-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "b3afe5d27e3b49b0a9e3f08e4ad1deb4"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "kzO9YoKq"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "2.39"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "iFvMpJDfl89Xj0ASaZkumwtPcIBzrQ4Y"
}
sign: "WLuokx3vvS6iT3D3qXHIHTTbu4FYBAbRwKggLIittOvSPz6Udf6X3xmhq2qPqKf23jSiDYM1tvTYETmzO8XNEHee3G5/ok4mBl7RKyxvUJe3B520/XpN5wii+G4NBgaxBztE22K/TNVukdYa+9pG7dpuHYgi4DWs5Ly59Nc73BzoW5PuDA88/RZOsHKAhZ+it10iUIit85htxzrN6Fc65o+4HVDd3/DlPGwNTyxP5569ONUDFkKJ/AAcNOOFldqVP8211MVSscwSirAuK34MhQ4xy87oKK9uinDXOEkzb70pR6NYpUehuAFEspe6fAqRH1X2S1Xl8y02xv+mOHCxqA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "b3afe5d27e3b49b0a9e3f08e4ad1deb4"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "kzO9YoKq"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 397
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "iFvMpJDfl89Xj0ASaZkumwtPcIBzrQ4Y"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "W/+zDNQj290aufVVSigoPgv8j8DK9sxoc7c8993QmUBLq5FwQjMh+MCAFkwyFOggH+yOaSMPcuKQlZ9Cs2x5YRatgcJjlabzfLMoKwjFo1QflgM0C2I9QDfULsCemb1BcbKBC7VoBckQhkdKz3vf1LAIXIkm6pf0xdsi/A1SXIk="
  appKey: "1234"
  voucherId: 62299626
  voucherType: 2
  voucherCount: 90
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 14:06:36,387-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"6447c408731f404395a598b26e43fd38\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23140638820274c47bfb7c773d60750000\",\"sign\":\"1D9899513F3EBD683B2359EEF49574BA\",\"timestamp\":\"1614060398\"}"
}
payrequestid: "KB202102231406382076075925558062"
model: ""

2021-02-23 14:06:36,387-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[0255428976854971836601458025]]></transaction_id>
<nonce_str><![CDATA[ZQWvzj4BgHtrIEk5UpaX78ROFw3oeNGP]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[B66F33960D0CDE0D0062F67C91371F18]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231406382076075925558062]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>239</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223140636]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 14:06:36,540-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 14:06:36,540-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 14:06:36,541-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231406382076075925558062"
2021-02-23 14:06:36,545-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14961, 'pay_req_id': 'KB202102231406382076075925558062', 'notify_id': '0255428976854971836601458025', 'partner_order': 'iFvMpJDfl89Xj0ASaZkumwtPcIBzrQ4Y', 'amount': 239, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 397, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 14, 6, 39), 'success_time': datetime.datetime(2021, 2, 23, 14, 6, 36), 'modify_time': datetime.datetime(2021, 2, 23, 14, 6, 39), 'trade_type': 'PAY', 'kebi_spent': 68, 'voucher_amount': 90, 'voucher_info': '{"cutAmount":"90","id":"62299626","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299626', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 14:06:36,545-INFO-lib.common_biz.fiz_assert-36-订单表信息记录异常
2021-02-23 14:07:06,702-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 14:07:06,975-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 14:07:07,015-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 14:07:07,015-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 14:07:07,218-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:07:07,218-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "97615582086271"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "INqv0wt2edJaEmUL9u1pryxQflRCj5ZF"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:07:07,346-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0656d01a917f4912895e52bb35beca89"
s_p: "MFRmV2xaOHZTYzV2VkF6dnJMVTBsdVRFcGhHdTZtM2I1WmdQRzF2cUUzWUNYNWdtdDlmbHhDQ1c5Nzd3Tkl3ZzI5cjg3eTZHYmRmQWJaZGlUQk1iNERDREpmVFJVVThZYmhQWEJRSkFmNHRaZTFZV2RMRnRTbDlVSlFYVnRqSjZRUXptNjN5MXJ2R2pEWW5VY3FBcVluMjF3Rkh3bDQwM2xDOVRsY3E1ZE5HckdkZjh5STB1M2FTV1FuT2puWldlZDlvNGk4a0hYUWV2QTBFMUgyZXRhd1ZZN3JtUzlieHRVSTd3a1ZQWFZDSWM4eFlXRmNqSG1yVUhNcVpDOE5FUktUalZYZ2lndkkwa2pNZ1UyQTA1UnlhWlNXR1V1UEVBaEk4Q3hXaGk0Z3pRQ2F6YzRuQ2RTR1lHUEY3aXE4UjdZRmliN0p6WThUUmVkV2lQVGt5eXU3NE1DbEUzWTRLeXhLcHJ4ZERNYmw0ZVp0TzZXelhxYTRtQ1pNcHN3dmNZVkpLc0xQdkRSdVgwZTExV2o0ZW1SR1ZTY1V4ekxQaGtCQkpmaTQ5RE96ZUk4U1dlaWlkVTNoWk13cGVZYlFnNXFLMGhOMGd6SlNOZ254QmNhbkkyUmxFQnZVNEY2S1N5cktpdU1HeXdpWU9LMWxOelE2bWFTdllPOEIyY3pvZFdxTUZzUFB6TDllb1VKbjFKU2hUaTlpOUVtbVd5MzVzWXl3TlJwSkQ3S2w5cWpGclRuOFdhVFVicFNhdUlHVnlwSk9yOXVxR3BwYUI1c3ozZGRrVHVlWWlpNWxGMGNRQzBQRVhHVkJxQTYwOUkzd055aGVHUVIxOUtmVFB0V1dlb0xnYkkxN0ZGc0JaaGs1TkhMQ25hRlpEbVp2bU84cnZ1djQ4VndxdHh6WEZ4T2VNNUNxR0U3Q253NTR2VlVqMExXWWVoRmxHeTFRQU1kMWpHOWppNklQNmlmeGEzSGhCU3JGZFRkSEdWdVkyak5odEdRYm9UdlBBOXB0WEluZ1R6RTZMNjF3WjhTNWQ0MTFtZVZleWwyZ2JnNHlLV05JWHY="
m_p: "46jP7q0iZ28voB1j11k79oDoG3Tt008171w7426yPvEn4ZSBWT81Mip44maWHEG8"
e_t: "1614168429815"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.8"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 24
}
userinfo {
  username: "156******06"
}

2021-02-23 14:07:07,352-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:07:07,352-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "0656d01a917f4912895e52bb35beca89"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "NIwg29r8"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231406382076075925558062"
version: "260"
queryType: "PAY"

2021-02-23 14:07:07,410-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "2.39"

2021-02-23 14:08:18,050-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 14:08:18,332-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 14:08:18,379-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 14:08:18,379-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 14:08:18,748-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 14:08:18,751-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 14:08:18,752-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 14:08:18,755-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 14:08:18,756-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:08:18,756-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:08:18,759-INFO-fiz_db_operate-26-可币余额：11.8000
2021-02-23 14:08:18,767-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:08:18,768-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "63400052622268"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "20otnOKwiab98Rum1lTSNBC4VxcJphsE"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:08:18,858-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "3ec713ae555749a3b83a9520cb267717"
s_p: "TkN5RE41WGlHZGVwczRPWFpvTGFQcUxXUTlJOHZPSDFWWHFRZnV1ZW1OMFVqVlFjU3J4WEljb0s5N092QUVGeVVZUUxIcmlTV0VuMXc0ZHJSa1ZKd0lFMDZ2RjFDYmZDaXNybTBCZ09RUjh4bnp5S0J4VmhldjBRb0dlaE9oMzhTWTRCems0WmhaUktwcWhQcnNJeDFvRkRYeU9LQmZBbmFrandBNXN0QnBBcnVnTWh4cnZpVXBCdjZFUGpDOWx4Q0ZQQjB1OHFoT1FKUlpwZ2t6OERpQktBUlQ3UVVEV0Q4SzBxZzZrYVZTc1lLcDM4RmNoQ0tWemc2RUg3OEhiWU5ia3NIeVNpdXFPcDRPSkFHbE5Rc243Y1VrRk5ONWVhQVZiSXIyUjZXN2lYRHlyME5aanl5ZHNqUmhRS0d0dVA5cTc4cU81ODFXS1Z5U2g0c1Y3YlBiMko0cXhDZ2pNcTZsVUhCUktEcEFXRjRhS3lOekZEUFZWeUhHWXAzQ2NXVldQSGlZN3pQMU0wdUtrSGFJR1preTZtMndZaG9lZTBtQkZuTlR5azBjVjlMb2JkeEdsMHBlYzdUdjFZTFJ2dk14Z1c4cGIxMjhjUTRTYXdKSFhVUTFyZE10VklRYVF5T2t1VTE5ZXVSV0gyVXUwYkRPSzdXRGhiZlhCM1E5M3NPSlJFN3JYTm85cWdteU55cEU0ZVlyTkdhYUNwSkRReFhreHBlS1dGYzlPNlRYQlAyOU1STkZkUVhyUDJMYUI5UnU2SVVjdGdmVHdsYktmcHVRNU04b1g3VFZBZUQwZkRQNEhRZVdWS2JIcHl4c0ZjYTBpUGMzSWxxU25CdURSZjFvRFZGZmZ0eWRGNWxKU0dFU25zS01ud3ZsT3pQVURlRWpJYmFLS1VySFlyaUNSTVg5bUpGMU16TzZUaVhmckl3WTBEelp6VmtmN25lajNtWFNpS08xZE4yaDZzUmZBMUZhYVlYRFBhYm9uNzRndEd5RGg5QU9WRWhrbXdNb29vTmNqVHZNZUFYTXFnbVRXclFSMktDMG5XbWZWYm40Vmc="
m_p: "n7AaZHc57w2sNX0b5eBOUFvlHshCWkCi3LWwyYOeqIo4S2a35v51X5BG9787yrlJ"
e_t: "1614168501327"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.8"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 24
}
userinfo {
  username: "156******06"
}

2021-02-23 14:08:18,883-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:08:18,884-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "3ec713ae555749a3b83a9520cb267717"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "CbfCisrm"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 11
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "I62eQCFnputKbOUXADJ9k3PSWE8MGHsm"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "HKbh9reingIvCsJJ6T9hx08Kd7qsa9v5FFlkgY2kOGnpA4bWu7FvKO7/LNCtFeZwbDx7AEZhzVcm/Gl1uYWRw4I7vmieSm/tiR8zaqLgQZATx3xghpzmcBXbj2gUWS7bgItKOqOHzV/tmv5JWwc+ljfak3L+4YpEfMRwO1+cSBc="
order: "5779268582211"
ip: "120.197.152.211"
factor: ""

2021-02-23 14:08:19,083-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 14:08:19,096-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.11', 'batchId': '15953859311929838119629357954250', 'bizNo': '5sXb61nEMtP29wzakCOeQ0vfYdD7V8rp', 'operateType': 'PRESENT', 'requestId': '92149263569394712999197784630866', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614060499094})
2021-02-23 14:08:19,119-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.11, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:08:19,132-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614060499130', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.72', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 14:08:19,152-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299627'}], 'vouIdList': None, 'batchId': '4065c1599db5451ab321161712b4e578'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:08:19,165-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '4065c1599db5451ab321161712b4e578', 'batchOperateType': 'PASS'})
2021-02-23 14:08:24,209-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:08:24,217-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:08:24,217-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "06576958041461"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "pnmOzNaIWUyljvoHerVbE3DPChY6QAZf"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:08:24,297-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "21f57f8ffda240b8bf1d0449486016af"
s_p: "eDdMdm05Sm5uREx2NTB5cTJneDVIMmZERzJpOXZDZWFIMFYxOW9LVW1taTFNM1JHWlppNG5IWGZNRTRXMEVKbE1tWTZ6Q3RKUVlsWGpaNzdFaVNsMWtCQkVQcU5ncndFMEZ1MVFmaWx6cWRUdnM2WXB0c3NTWXJFbVlhbEhiZ0tzaU1CRHV3eEpIT3prSTh4QlJlRXJkUXZ0cDZ6U3llQ3VNQTVQQmJzQ0tlYklzSmQ1cXIyYmJiaGVyRUpZbjhXeVVjbEM2dVJGV1QycEdnbEZMc293ZW9ZcU9RbEFXcGpndFNIYUQ2b1dyNzNxbjYxS0MwSWVVSXFaSms1bzZSSlhQd2k5S1diamRqOHNoWG4wdWs3ZktZRWN4MU1ZSFlZb1dadVI2THd6bHAzSWN2MjZsR1RZWmRLTVZyZG41VjJVakZUSkxmS0xqMzU0emZURFhSM0hMVTdCeFM0OUZQelB2MGtUNjk3OGI1cmdrMThXdkxiS3RvNlVEZkpXelNCa3BpMDNyeWFsd3pBR0FsTW1VY0RROFg3R3dCWnBPSk5BN0p2ZXNrU28wb0phNHBaVjNEYUhTOFpndEVaWVhKa1h3VHBXc1VsQThnTjVzNHBYbG1CejB5WTBwRlZOdWhoY0lCZWk3MjlHeWRtV015VzF5bW9xSzhacUptRHdYa3NhWDVwb3FQeHVidlhVazB2d2tFWGJoUGpkaHBxZG9SMXdnRm5HUVYyV2xpSVYwRkxONHZOWnJER0xkVFFuUm1kb1hyR0tIWVFScnJOTk9lZDMxV0FUSmhXSWUyWkg0bzh5QVZvVTZZWUZFNEFPNnJrd2tmNTc5U0lRd2pzNTlpQktRZWtqQThKY3ZyRXBFOXl0VnZRQjF6NVdXQk1MQ1BSRlVHRUt2T25rWHNtbFFBUUxkRUpONWIxN2lOWFhmUUNOekJrNXR0U0J4emlWdU04SWdZcjY5dVBrTnE1aHY5SjZjelFzMllOWG1jN0JBQ0gxOW5MSDlSdFI3R0pxempvemY0Mk5DWXI2SXVKTDNQWVZZbkhwM21NZDVFQnZYeDA="
m_p: "757zppW8hF6HWE12V4I73PafpWB4P4pbGJ32Gh47HrdzgN0En0V3BSXcjtyScOz6"
e_t: "1614168506767"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.8"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299627
    type: 2
    minCousume: 100
    vouCount: 72
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 25
}
userinfo {
  username: "156******06"
}

2021-02-23 14:08:24,322-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:08:24,322-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "21f57f8ffda240b8bf1d0449486016af"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "QYlXjZ77"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "3.18"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "MeNq0AXxLci7pj8vb9C4VRtmdhl63rUK"
}
sign: "BDJosvJ5+F0aU/NU70/ywC56gPRiavSuW+8glOZRPodFn7IekeF6MsU0pJGOjSEOyAhPlYVl85F2mwh/IuiXUrvVzRJCF/XC/wXYANNGeURArIft+fG4B/lBJx7T+s/QSNDFD5EBXidfhIE52JbyVKHg/YuQ9fylJ9QHlrQX7YUl8rYWW/aPIQs0vHeFFmv6crpA4WHURxloPSrjS9UOkPFM02KT7TfniIqK7E5r6svS0xdTDXDdJiCWiGBj5IgX1i1GziUi7c8x/m3FMaEovSiLYG3W70TNGEUF5vPvVFMTqgIGkABfalK9RTojejCh9abgrBwofjYtidMvTlvsEw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "21f57f8ffda240b8bf1d0449486016af"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "QYlXjZ77"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 401
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "MeNq0AXxLci7pj8vb9C4VRtmdhl63rUK"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "aJzikABx9ScIBInq6i7buFpLHW3iE225sD0tCjNl9BFNq7wYeSCJRfW0lP/NkxkKwi7edrKBPG6pQJiMn5gjOCZ9IWNZvmLH6jez3kbNkfIMRHjVgXyzZcodAI5vqVTg0wtc8N547MJJZ4yp8eNRttrwEXae3VIlY5XWgX5L7zM="
  appKey: "1234"
  voucherId: 62299627
  voucherType: 2
  voucherCount: 72
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 14:08:24,738-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"d50d306f67854b9fb55519f298869324\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23140827165197c19da6fef1d05d980000\",\"sign\":\"745BF7DB4FA40CB76CFFDD34C9778CF2\",\"timestamp\":\"1614060507\"}"
}
payrequestid: "KB202102231408262076075925362332"
model: ""

2021-02-23 14:08:24,739-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1824025166881470363230758419]]></transaction_id>
<nonce_str><![CDATA[UPOctuX7zwgjrflmodbR5VN0W4YG6AHi]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[107FF150C18F36E606AC63F0D905E942]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231408262076075925362332]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>318</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223140824]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 14:08:24,900-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 14:08:24,900-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 14:08:24,908-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:08:24,908-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "52463086016334"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "nyKGifsS0ANJEhgD9u5IU3rvqVWOBZFl"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:08:24,985-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "78a929476ec44ad5a754345575cbcd83"
s_p: "TlhFSUszQ2g0WDhuSWg2STd1QmNTMDUzYzdsYW81ZkN6U0Ziam1CdEp2NjU4UDN4UDRMTW9BeVdLRWVJMmlaR3VPZHR2dnBkaXc0b3pFRmhRQnBqUGZ2cEJ5eTB1blNCeHVzQ0J2R2dVOEtZQ1h0T0JWbThIeU9EcERiQXdwVmVXRjd3RFU5SWZqaGJxQjJUNUZMUDBNRmpiWklnY0tpdHAxU3dHcVpDQlpXVWlzSUwwVmhUMmN3N2xEc011TTNVZVdqaXBUVjBNWkc0cEt3aGlQOGNNejNDekl3dzRXbldEMUE1ZHBQbGMwT0hwOE5HU3d3VE92V2tCbTh4MDJlOUZ3MWdmNDJNZDhhZVZaODd3ckMyRlVsMEtaNVpWQm9VQ1JubjFyMzlyck1JVzlyZmVtUVZVQXFXbXBheDljNW5ZUktCb1VVNjNrd2JoOXVYc3pjWUlHeFBhclhkN3QyMER6SXB1MGdpRlFTQ1BHaWcwT3RiUWVhY0UwSUMwSE1PUlR3SGJPUzdGeGNCSUs1MElzeGVzVjhTSzhrV25XU0pEWlJ0WmdGUGt6azh4UjNTTHFFcmJ3M0wzM29SNzU0eHRneHkwOURkdHFGbm4yS2c3a0wwV05aSHJ1RjNIbWpESmVSUjlDU0ZFdHRtUldoeldhVVplVVRyT2JnQzNFUVV0VlVtMDNIeWVwUlBXcjcxR0J2ZTB5TzJ5VXEyeWNoUEhlYkZBNlVleklKWVRNSjMzdVRqMG9Va1RyYTdic3g3Yk1LT0s2NXNCeU5mMFNKcnU5dU5SMnNyNzA2dnkxSHlJSGRRd3lTNjEyMzRrcDBNeE1zdXFUclNNMXk2UEg1NFlQdTdkaXR0NVNISGlQYkNVTFVOMDNjaXZTeDVWVU9temJoSWx5aTJnY3NXOGRnOG4zR3FLOU1XWTBkTkcxWnUxcHJ6YXRudVpZOTJDZ3N2YWR1WTZxZFluU2xzRDMyY0tDVHZ0WWVrSHlTaDlRZUVwWEVKZEF4N2laRGRqbktmNXpCZXZKQlpOS3I0bldEQVg3dER2WURsTGNOSHdITTU="
m_p: "4ZIpHcLwgP320R47k623O4RufSG8qGHyx61E3b88762ysGa90PqNY2fiq0DTF7C3"
e_t: "1614168507457"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.69"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 24
}
userinfo {
  username: "156******06"
}

2021-02-23 14:08:24,986-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:08:24,986-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "78a929476ec44ad5a754345575cbcd83"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "pdiw4ozE"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231408262076075925362332"
version: "260"
queryType: "PAY"

2021-02-23 14:08:25,032-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "3.18"

2021-02-23 14:08:25,033-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231408262076075925362332"
2021-02-23 14:08:25,037-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14963, 'pay_req_id': 'KB202102231408262076075925362332', 'notify_id': '1824025166881470363230758419', 'partner_order': 'MeNq0AXxLci7pj8vb9C4VRtmdhl63rUK', 'amount': 318, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 401, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 14, 8, 27), 'success_time': datetime.datetime(2021, 2, 23, 14, 8, 24), 'modify_time': datetime.datetime(2021, 2, 23, 14, 8, 27), 'trade_type': 'PAY', 'kebi_spent': 11, 'voucher_amount': 72, 'voucher_info': '{"cutAmount":"72","id":"62299627","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299627', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 14:08:25,037-INFO-lib.common_biz.fiz_assert-36-订单表信息记录异常
2021-02-23 14:14:36,861-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '1000.00', 'batchId': '27551869962919159573469272968419', 'bizNo': 'D30yCGhopuMfLHW4QdAvciZNKbmIXzgw', 'operateType': 'PRESENT', 'requestId': '88184502512990730545999517138010', 'source': 'test', 'ssoid': '2076067541', 'timeStamp': 1614060876858})
2021-02-23 14:14:36,925-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076067541', 'timeStamp': 0, 'amount': 1000.0, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:31:41,826-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 14:31:42,078-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 14:31:42,123-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 14:31:42,123-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 14:31:42,614-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 14:31:42,617-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 14:31:42,618-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 14:31:42,621-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 14:31:42,621-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:31:42,622-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:31:42,625-INFO-fiz_db_operate-26-可币余额：11.6900
2021-02-23 14:31:42,633-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:31:42,633-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "32709277744245"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "YrfKp3JdcCIHWgUNlt1mysRz5V8eOu6j"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:31:42,752-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b02e54ca465a4c99801bf2469e94177b"
s_p: "cHJZcWtmVklpQkNJWXNkT3BiR2NFN3gxSE5TRERkd1ZIa2J0MjNqYWtRSUlLQUhVMzRLTmI1dkN5SnNjZFRhcmRoVjE1clZVSmVxY3JtU3FKaVNtNERrWENHVXVVa1E1dmRGZWt2b3M0M3ZnbjdlblozUkRTQkNIQXY2ZWxLMkZoVkpiNE53QWhzT2txdHdPSEZ5YzB1RGt4ZjRjVGlhN1hMV3lTVHNsaXFOdEZiNEh4ZGhmM1Q4QWQyZ1pETWxzSlVicjRhb1Zya3Zob0tPZ3J1aW1ZVUNsNjF4V3V1dVpSdkNjNUtzRFdMUXVJVnhUZktzQUdtcjFnS0xIRDJsekZIUHM2cDFsejNFYUdGaHFDRG1xRzBkNVhkZjdmOWZHd2ZGMmdScnAwUHdWYTRXOEo2a2M5cVlKWFN3Uk5yd1pwYVJoM0lWUnpwSnI1Ulk3QXpOTFNaVm5BVGM5ODN1TjA1djVFNVkxeWI0MmpRWGRXTVZGQmxSV0ZsMDhDR0dBS2VmaFJVNENWWm5JNVYzelI0cmpwZFF1M2FUSEdaMElMR2tVeHpGYkZsZzU4T0d2UnBhNEVLNE02dkJPR0hweERHZkt4cXpTeW94TjNBTDRMSVFQdFJJa3ZaMFliU05GOUp3U0VUTkJ4Z0VZSGR4MGIxV1hnZVE2eXdSTWYzS0RWa1ViTjF3UXFVMTFKOEJ0cVRtcXFBQVZtVEJmdkUzSEdIQ2JHT0N0bTFia1ltSVFxRnNuZG5kdHhObTNZUlYwS2w4SFA2aGhoWDRKYU1QclJaTDZhRnUwYTM5VVA2VzAzWjhLZlpyR0l4WHR0eklHaGNXNjVFWHdISWFPUU9FM3pYSHZpN1JaZUVwOXlSNnhzVFFRSmNzVkFMYmtMNzJ1T1NXbzg5aVVWMWcxTk5kT1lwbG10NkNvSHpxeXByd0Y0b0wxeWx1QmJ6am1LRkJNRkJ0TGN1Rk91VTFzSjBMeVVxVHdzaUkxNjkybEVsWmVvZ3J3bkVXeExOaUxtR3J2UU1yT2ZMSUdhRzlERllYbFY5TXdyYTAxd1JFY3ZtYWQ="
m_p: "ze4c9Ag1Z58l5Tk1Rnp4f720JL7L52OHR7r7ltxUjN5S89R7bV792bEmaxcK9451"
e_t: "1614169905190"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.69"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 24
}
userinfo {
  username: "156******06"
}

2021-02-23 14:32:35,648-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 14:32:35,895-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 14:32:35,937-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 14:32:35,938-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 14:32:36,302-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 14:32:36,306-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 14:32:36,306-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 14:32:36,310-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 14:32:36,310-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:32:36,311-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:32:36,314-INFO-fiz_db_operate-26-可币余额：11.6900
2021-02-23 14:32:36,322-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:32:36,322-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "76964729753857"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ysMxE4Wcw6fKbhkdZj82ua9OAnYoRX5T"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:32:36,413-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "555ca2452d714fcbaffd9259fbe01574"
s_p: "NDVqeEMyNkg5aWRGRlNsMFd2b0U3bzN3TUtDTFB0NGh3WmprMDY3alFDRXo3c1pjbW51Y05pN0xvd3hZUUk5a2VYZFRucEtXMFhVanhSdlJzcll1bDZuYm5MdVQ1RE1CeWNHQlpuclNPVmV5YVVBMTVpVkswWUppR3BBTE9xVWNYMFhCTGE3ZjU5eFE1MmdvMXlwemV4YlNmY0RmTGY1TkFBYkE3bGNJbUE0c3VaWUM5czlyZ1VER2xSMHFVSnE0N3V6OUJ4V0pUWTRPYzdxV2F6Y1Z6c0h5cklJSHNmcFhISXhmNWs4ZGZKUjMxSXc1TTVVeVBLcW51Nk5tZnZhcVp3VDA1dUN6VlB6cXgzNjk2dFkxNGxXQTVTY090M3dnRUVJMTVnT1ZBa2RNSW5zcE92MWJUREY5UzJTdFE2Rm5IR0dJTjhQNGJTT09TRzk5ZE5acGN5R3pLZ2RzVDRsOGZ6UGtrcmJyVkl4cnhxMkd0SFhHVnFWM2F4UUxhTVNiZWN2Tk1CTUFVUTNRQ1NaMnduYWQ2eFN2T1FHdFo4TjdEYm5tVms1akp6SVNCSEwwVlA5eGg1d3BSUHRidXFVV3JZZ2s0M3VDQmE1VU1Sck1PT2VlVXdlUnpCdUVacGxtZFRSMktLZkRRM3UyR1dhYUFwVWZhdE56VmxJQlVBVHZzbUNqbE9lc2s1cVpQSTg4SFMyTzVlZGo1amROTEJnV3N2bTZVZ3dEeWNzN1ljcFczYnNNRGpMZmp0V2RSR1lNYUQ2SUw0eVMyak1iajVGVVhDdEZtMVp1d0NRbzRjRGJlN0FRaU9obER4ZmRWNUJvN1hhNFljSUhhWms3NHI2NWViVnJrdzE3QUlZYzlvREFvMjc1d2lZMlN1MDUyYmM3YWQ2QWZCMzFFOE1YckYxeVVROUhva2ZPR3NGMXNKZlUySkJTN25VN3d3UHBLNG8wd0x2Z1NUa1N6SzJJRk1OdXgzTlFNZ0FlSXo2QXozR2tIeTE3TVl6dU9RYnZvdUFZNUpsNTRLcjZ0bnNPTzBvcVZtRWR1NFNWSFNSRVJER0Q="
m_p: "5Aq6X9RL2bDkT96FrT2CCWfUFAhOPFpvf7eiIB66M9ogA1zVr61l3G2ZQwdzR76p"
e_t: "1614169958871"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.69"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 24
}
userinfo {
  username: "156******06"
}

2021-02-23 14:32:51,143-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 14:32:51,420-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 14:32:51,463-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 14:32:51,463-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 14:32:51,835-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 14:32:51,839-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 14:32:51,839-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 14:32:51,843-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 14:32:51,843-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:32:51,844-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:32:51,847-INFO-fiz_db_operate-26-可币余额：11.6900
2021-02-23 14:32:51,856-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:32:51,856-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "79901246820932"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "FCj9Y8fKITo4x32X1EmqiHpZzScUuGPt"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:32:51,945-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "9cf639f27f484dbd8bd456f53f9ef05c"
s_p: "MGo2b1ZCbGdZNVFyUmFCaWpWQ09aOFNLUE1BNU1ZZ3Z6MmFZMWlmaFdwOG5zQmtiRHRncEQwZDVON0VlU1JZcjRFNXNUMTdlZm9ZNGplSUVReFF5SW13YzRLYUpyeGxzQjN5bjVEQTNBYnREN1l5TFQ1TlYyem5YV21uVGhhUjZSWGpPcE5IQzhTdmVBRjZ1QWZ2VDlzRHVQcTI3ZzZCRGQ5eEdibUFQdTh0YTVyc0hZWFdVZ1pXeUpLZGNXVkNoNjByMlVJWER0dWszVXBQd3h1bXZsaTBOanpiQjlRelVrWXhGT3JpMklHaUY2MHdEazk3M21uaThtYU5Xc1drSllBWTZiN1lOM3ZjWkswaUNRdVpSVDFhbFViMVV6QkZEWmRUVzVBVmVMQmg4dVBVOGpQcDJTbEdOMzQyWHEza2lnaEZ0RTZqRXoyRjN3YmJkaWxYSlBUTTJTQ3BBbjMyWlVxYXFCWEpSaXlwckFUTUlJdG43Tlo5YXZzV0JNdlFqcTlPeU9ncHhGSDZob0d4dHdFNkhnQ3JuZENpdmdoaG9vM1JPQlZYZ0NOOEduY2dGbENUeXE4NkRuZklvVGk1OTdXanVnSTlNcXJpcUhKWThlWlNOTEpEQ1JaaUczbE04dHk1cHRVZVBRZ25uY1ZnRFlza05GN0d3NFY5NnlrdzdZQzRiQlMzM1NLUjhuYm9oSjRvT3BlNmZmNkVnVHJUdzI1VXBrVTdDZFBIa1E0QklxOTFydHdaelJrMk93bml0c0cycUxnY1dWNWM2d2lPQ1FGbGtMSDVDVDB0OUUwVVNKOXU1MUtVWm5VVWcyOEtKNVJUS0I3TTBnTWNrMnhkUGVpUG50VFBQdnFJRHVLckZFa2twamlvVGxBYzlRbHZhRXlPdmU0RUdvNlJjU29iR3hCaWVHb2VscXBqNFVDQUJ5aWFtaWJXOVpsYWcxQlVDOFVtaDZ0OG5vOGc0dmNzQ2xLcWUyY0EydXBpdEJYSkdxTGxHbjJuTjhKdVBqbnk1WENvT3FjaXVFV2JWUFQ2YnN0Snl0cDl5dVgxTkdVdUs="
m_p: "Fvk1o0LrNI0vWtLRVl0Tlun1Q0fI4538ARjM26myP4wuSz3l7KAB1vpgg7la7Zqp"
e_t: "1614169974402"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "11.69"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 24
}
userinfo {
  username: "156******06"
}

2021-02-23 14:32:51,966-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:32:51,966-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "9cf639f27f484dbd8bd456f53f9ef05c"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Pq27g6BD"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 1169
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "Ly2z9hZHQ7N1IUgn8lupibC6cKGvDOaJ"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "C2HlnqVD1ewgw0Uv+zGKh54vV29LFg00WGI8D9qO27XvUxHjSxIM4KUodUlKzBbq9tJVglyl1uZ9q9FYAfg6JnfAZnRVJAaIIafEC4XC2DveHsmOZroe0QknWzRb34Sv4hPnuCNiVUTmVCw/Uro5/sTg2kqzKQjuX21byX6ifDo="
order: "7256113364429"
ip: "120.197.152.211"
factor: ""

2021-02-23 14:32:52,105-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 14:32:52,122-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.47', 'batchId': '53003528857776755879203047428933', 'bizNo': 'klujfQbTeMq68Zn2xwWEgyDvmctH9OSP', 'operateType': 'PRESENT', 'requestId': '16307785360670887213716056444292', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614061972118})
2021-02-23 14:32:52,151-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.47, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:32:52,166-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614061972163', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.23', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 14:32:52,191-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299628'}], 'vouIdList': None, 'batchId': '545a3800053142bfad7426693e2bab77'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:32:52,205-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '545a3800053142bfad7426693e2bab77', 'batchOperateType': 'PASS'})
2021-02-23 14:32:57,249-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:32:57,257-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:32:57,257-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "65307401176512"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "nHWIROESKCdV31Uz2kpLAYasgPhT4fow"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:32:57,345-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "71e854ffeb1f44829f59d5d3f08e750c"
s_p: "amR6ZGJxUnN4WlVXSFlmcVR1dU5PQ3A1azhZZnVzRU05QVA4b2xDZ2c4RVdZb283UVA4cldmSU8zUzVkSTFZQnNONllBUXZoSlhzZGVsR0xEUEw4QlJCMnQ3ZFVsZ2xvdHJSdmxmVkxVdHE0WGt6dndXczczMUl1RXhDRVZMalBFZElRVWpSbmR2Z0x2RkozcjhOd1JRbGxCbFNocjBiemtBaWg3U0RhdGlRUmhNRkZ5TXNQNUtCbjd3dDFENTBmRWJ1Q3lQQmNndDk1ZUhQZ0tFWHJYNnBHZGR2Q1BLSmRoaVJVaXVUbm1WcnlMb21zSmFRaGdyZGMxdjlLcE5MU3oyVnNQTlFJck1GdEFCbFlmQmN6b0JsQWl0aGZxTVMyaFZIN3hHQmFTcDBwdnF6QkpZREg1Q1FkVkEzZ0FmbDI5UWwyb2J3QjJJVVppc1ZGb3VoNkM2QWd1dHBWbmZoakd0VkRzV3R5cTBYU0R5Zjd3T09vWE4zOFFWRUt5aHRoTGJuZTRkYldnSHNMWm1ZWlNXMms2QjVMazUwU052cXlJbGd0ZG1neGI0UjJvYlFEM0t6bUdpUmxrdTBZVHdGZjkyMElGWkROY2NJS0lRRmt1dDh5eGxaY3pBN1VHbHNSOGkyZ1dtaFhNV3ZsaVJwbmtwZm50MVd6b25lU1lTRzYxTmlsa0FxQ2pSaW40bk9OYlNXM2tNdEo1TzZOWkcyajJNaTBDWmpNdG1QdERReEp4amNkWlJublhWSk5OZE9VZE8zWFNrM2ZhU0pJNTZjNHR5RUNBMmExSE4yWWpucHM0cXUwOGR0dWkwZ0dnYmZSc3FvNFJZcHJwcjVuN3NQeUhSbHdIakdJZExFTkZWaTFKZ0Y5Umx3RUNuRWhpb1BzS0hSUkpJRklIOHdhQ1E4VzdabHJnR3pCdDZCQUFIVEd6ZTVpdzlZTzFlUDlmV1g3QVppcEExc25GZ2ptTGI5NWM3TGF3eDBralRwT08zT1ZYQXpTUWcxb29VNFdxTU8yNkR5eUkycnBQZ0hFQk55aWhmQThJcHZNZGJvTU5jTTk="
m_p: "331A7o0N5n263J2314qctF1wKp9DaYyFm2W0h4xCa552w2zRs4B34Oq6aTxEj5tP"
e_t: "1614169979807"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.47"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299628
    type: 2
    minCousume: 100
    vouCount: 23
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 25
}
userinfo {
  username: "156******06"
}

2021-02-23 14:32:57,369-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:32:57,369-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "71e854ffeb1f44829f59d5d3f08e750c"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "xZUWHYfq"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.65"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "kJmybrduTIfEQg82sGN50YzqWF6HC973"
}
sign: "keQ/3dTA0h1kdS+z8Zz/cMmWIjcqUJ+BK4WmwXVCFFzK96mr6bujMKO+F5Njj3SXTKwXNkpTMMONb2W3bkN+TIE/Npt29jq/0kZt9tfYmEO/bw9G6o7iv7JsJWAFRGVRt7V6pre6H/RoekSpgw7b2LpHbKHtQtzzgPIxEmeQzFrazjpBXhXafg9fd756J8XyOuT+jXkk2W/QjxkjJOkDfmG1dDymWs/FCFxoZV4kHVfdWVwxbmv27Fdu6zbW0lzowELb0KUddlOHEOcn+DpzUqzxmjoeeZYIKvF1eioWWfKgtM5yZ1BewbNsFEGgnf7uSZq4Jxnthw+Z1rFu6YtUdQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "71e854ffeb1f44829f59d5d3f08e750c"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "xZUWHYfq"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 635
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "kJmybrduTIfEQg82sGN50YzqWF6HC973"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "ZMdcvzwJ+5vNtsys9aYgwG6GuWbPpI7HQzjh+ysfyrw4Lv/HYknYLgs5DuskYJSbXifHDYzSMH0jsWJyJttBsehd6JePzD716p1lGdKNtCj2ynI1BsKIOlanLFMf/+TDumC9pv/gw/5kX920dP2YHXcFSThaiIy8fnXpIATYI5k="
  appKey: "1234"
  voucherId: 62299628
  voucherType: 2
  voucherCount: 23
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 14:32:57,841-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"85336c9fa27a4c76bd8a3568b942b439\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23143300258873cc30a4a0d3245cf70000\",\"sign\":\"4893FF48CCEE4D639C1078D205953D16\",\"timestamp\":\"1614061980\"}"
}
payrequestid: "KB202102231432592076075925721082"
model: ""

2021-02-23 14:32:57,841-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[0548372787178449610691064845]]></transaction_id>
<nonce_str><![CDATA[Rnmi2oaDB6hWQetxbMJq8TdcvlA0kI1F]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[139566946D3CDB7F7E2CABF53BFBD07E]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231432592076075925721082]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>565</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223143257]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 14:32:58,017-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 14:32:58,017-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 14:32:58,025-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:32:58,025-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "27267967578226"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "kU9wqZpc8ednD6VCPzLmEoM7OxSIYhTv"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:32:58,120-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "82253c2b4e184b1fbfe8bd3ed43712be"
s_p: "R09QazljRWVhSlU5OFBSR0NJMHhmM2gzSzBBa0JsQlFzYWNBMUhKT2RFN2k1NUhyUE1BVUZ0TnBsMTZmQW9XTkRDQXA1ZWlIR2NhbEVTcVZmYkJ0TmxLT1RsdnJjaWtHczFrNjVNYVhQN1dYTDJKYk5MdVZNSnNOM1VONzFHdXk0UnJCOGF0cmpEd3ZTWXR0UHFkV1l5clg2RWwwM2hkQ2JSRjg3dGpldU41a2w5cThxTHd3bUlMeUZ0YlUwczc2UldXQldBOXlLTmVxZUNlNWFtUjJxNTRLb1NIUFpwUXhYVTQ0eVpjZ3ltS3BHWVNRSVBEQUROUkUwSGlQYjE1RXgzckFKZmI3T2xCWGxXdGtORzE0UDh2dnhnNWtjOTNCQmFsYzk1Z2hJdGtLZ2lCQUVJNUFOWEltdzEwcGQ3WkJDMFFlTUJGUlY1UnQzNVZUdXpIQlJRRUtIbXJlSWhKZkE3UFlKNlZxc1hxSk93OVJNbnNqU3ZvM0owRFBnSU4xZ3E4eXdBME9CdWVFaVlLVVpRSVUyNDExMHhDSFBtNXVWYmRVc3N0U09LWktQSURPMW9oWDF3a0Q0cENJTTJiSDZkeHJQdVBucUhlaEJZd0lWU2xBOTdaaXlzaW0zSE5sNTRMbjFhaVB0QkdQcWhIMkRadzdRMmN0MHNuT28xVzZnZEoycWo1emRwOURibTNHTXBjZlFNMHZzZTVlNzFRQ2VaTE5wVGcwVnpEQnpDSkR6MU5BNVVVUWxpT200VEdOUTZuSUloU3ZocFdQbXlWd0M5OVlnRG92d21TOXJWcE9OY1lheVBsNDI5bGNxZmt1MnFxMEhHQzdKT3VwRVVaN3F5VlhEeDRoZFRhQ1ZIVXB0R0lvakxUME84dld6ZkdzMUdJek5nd1lMcVJGNzVZVWRVUEVPTHdGQUxGb0NFdlEwT3pLNGNsSUNEbW9UUVJhblBLb01sZVR6cndJMVBKcTZzVmlaaTByZHU1RnFZUmhpeXAza1hmRzVNWmZZY0ZyMDh5ZWlBdjFvS0NhR1NHeURjYWE2U0xWdHFub3dsRlM="
m_p: "eT8YE1Ci7N4r56EH38nSTG0IJWH40SW1n2Stkm3DLi8dqoJ41rFoK6g15Po788y6"
e_t: "1614169980567"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 24
}
userinfo {
  username: "156******06"
}

2021-02-23 14:32:58,126-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:32:58,126-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "82253c2b4e184b1fbfe8bd3ed43712be"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "KOTlvrci"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231432592076075925721082"
version: "260"
queryType: "PAY"

2021-02-23 14:32:58,177-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.65"

2021-02-23 14:34:12,240-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 14:34:12,515-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 14:34:12,557-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 14:34:12,557-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 14:34:12,929-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 14:34:12,933-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 14:34:12,934-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 14:34:12,937-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 14:34:12,937-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:34:12,938-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:34:12,941-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 14:34:12,956-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614062052953', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.65', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 14:34:12,977-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299629'}], 'vouIdList': None, 'batchId': '41c2340bbe0d4ef9ad87175f432724fd'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:34:12,990-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '41c2340bbe0d4ef9ad87175f432724fd', 'batchOperateType': 'PASS'})
2021-02-23 14:34:18,031-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:34:18,039-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:34:18,039-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "64342887074552"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "7AklHSmpEXJQ5G4xFcoL3gORnfT0tKhi"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:34:18,134-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "08abeedeeef247d8a70c12f8b800d8f2"
s_p: "bDgzQUlPYlB6T2h0T0F0WDV1SDBQOHpoWGc0bWpCSFRiQlUwQ2l0bGlvdXgzREpVbkhUYTBhamp3ZmVFbVRWZHRGRXQ3YzNUdXNGT1gxZm9rcWM1MWxMQlFVekdnTUtyNExOcElPM1NFaDRzcTlja0VDYURPb1g0eVd6V3o0Mm9VbVBSVldaZ2JIN05GUGpZSk9CcnQ0Q0xlU1JBaGtnSkdQQWllV2RnYkhvOFA2NXpPWGh5T2pteHk5d0xGY1dVUm91T3l4OVJyYjFOQWxGakdZTW9Pb0VFRDJtS0xOSjlYb3o5cm5TUGVrdGVnSUxRV3k1UlRsSmNUOFczbmlDcmJSQTVPak9FZlNjdTc3YUU1SU84OFp1TEtnOHNCbGt4d1ZIRnh1R05jNmNVVm1lV0ZoNXlkc2dvSVJFZEsyRTVaTmVRcTJyWElQeVNSMU5SQW9TWkc3emNHbTlWVUpNS2tIZEtaV0VHV1lmMHJhell6VjFuQzZLY3RFZEw1NFJiUjVRRlkxUVhnaXRyOFpFTXdQM1V0cHNCcXJUZkk3bXVZMkd3Njk4MUdrdm5NbzkzZnVrZkRna0JmTzhwTElPYUdSUFM2YVlxSjNaT0pyR0tNUllqaWpkc2xaVHVrT2V0RkxYTUlnNzZIa0R3TXpxVG9PbGd2WUMyUlIzM04wU0p2WmNUUnhJSWs4SW5XQmdoY1liMlF6WE1uUVNReGdYRmhSS3llVERiVUtHQVNmdUg5Y21XdFNQMXNCdnZWSG1BTzNHM3EyVTc3enh1M3duaFI3OFNwMVhPUlpXd2Rzc1pFbWFWWjF1UjFUcGtZUUZrTnRhQXNicjNrWE5XRlBZT1FlWXdSclJhdnA0dkl5RWNnTThNY3dCNmdFMmVqblMxM0pBZ0dVZ0N1Sm5IR0tuRkdmSVdPTFdSV24wWTlrdDNBSWVCdHZLeGdpSndObDd4T3hIME9rWVVFUEp3VlU5amc3UnNkR3hPc0VBaEtGa21iczU4eUZVTGZoclJ3WklIaHBVY1pxQTRtVVBZQXlLSXhDZ1ZUQnBESVNlMUZOa3M="
m_p: "5F6fhGEXkV474Z3x7JOD486KXkTbo9f9dY4tM7Q17Mq2Dmc1qLG1EO57s1l9QpPP"
e_t: "1614170060592"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 25
}
userinfo {
  username: "156******06"
}

2021-02-23 14:34:18,160-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:34:18,160-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "08abeedeeef247d8a70c12f8b800d8f2"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Ta0ajjwf"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "3.72"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "DBrKaPijYAq9bXgQl5xwhNcz8pHe3osv"
}
sign: "h0TeLYnvFCCATHXbMldFKx1Y/qxgxm7ht7b9sMvnpyBu1YN/zvRMD5GSsrbr7lbfD0dJNTTQ30oFzlGxRpl4xdxf5ihkhstluojjc3zc7mmNspeoyC34374/6RtEow8mGS8CHHIOtpJR/OBJCJCOjTL4uWUfXTfDkmYaLKYJ/qkuSATyFDuoMYzZsCCVnLvDcct6SizomPs6bBcQ/fp7WfFljPUMyDT1aBxB48Krr+iOI+w3LeGnBao4JieUJB1uFFGBmpU9VqPJCx0bYl0BWJEETgpS/HAxE31EJbsOr2b2vYk0MjzmvLaCptyzt1DxxqxDyW5DcWq6nIeIoRRlnQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "08abeedeeef247d8a70c12f8b800d8f2"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "Ta0ajjwf"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 489
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "DBrKaPijYAq9bXgQl5xwhNcz8pHe3osv"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "epp1kDRCrquHM1+hpfj9r5Af5lJ8S+vwI8rX/cGMVumTjUrh0OilZo6uuc9Dy/sedAKTvI/A74BpVMPwnS7A3ujt+FnshGbnXwch/jQoPjKUQx13IjQI4rEygz+6SwTrJYUdR9EZjjaS2jlYU2AhqcNSPagpznrBemHs15nR2RM="
  appKey: "1234"
  voucherId: 62299629
  voucherType: 2
  voucherCount: 65
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 14:34:18,556-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"b3e4f2d891a447e3af199d9202b5eb44\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23143420984622f157ff788f9e9aa90000\",\"sign\":\"24F0AA175491E1B876DECE515DD7510C\",\"timestamp\":\"1614062061\"}"
}
payrequestid: "KB202102231434202076075925058532"
model: ""

2021-02-23 14:34:18,557-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4455493871956162420909495219]]></transaction_id>
<nonce_str><![CDATA[6VagivRGISsWmCwuftYBAdJMX8En3zUQ]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[922DC95B6C8B17A724C5CEAFD07121B7]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231434202076075925058532]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>372</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223143418]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 14:34:18,710-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 14:34:18,711-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 14:34:18,718-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:34:18,718-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "02268510850148"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "tz9g3CL1hE7flIOb0HKq5jV6WRa4PXwJ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:34:18,796-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "debd068ff4bd4e869851cd7a605a2201"
s_p: "QTVtQjNBRUtDWHk1bEhFeXVOQ2NMcTN6djF3TnVCU2FIVVpacGtWTzlLeWg3RlUzeGNVckliVTNwVGZOSHRsUGtweGxaZU5aVlFQZXdVVjc3YnJ3czlaaVlwbDMwMmhtSHFLTXphVE1mV3Ztck9JWjFkYVpnQzMxSGVmTnF5YktZRVBGaW9WTURiZ1NCbHdWTzBUWFBkS2xvaW5WSDVXTHl5cnE0ODF3a1dTbnZNakN3bDlrRTZRdVNwUFp3aFVMUjYyODA5aGI5dlFZSWpiMmFYNG5LSllrMFVtYUpkV0kyMmVwbTlDUk9GYWN0VHhXa2hmcjJzU1ZtZzFFVGRUOHhVcVFIcUwwckxWNVhkcW9XMGpTNkw1b1FSeGJWbkNzN1RsVXI3eTVHU3NwUlE4NktRTWhVbTVpc1BNaTZSRWhRUzk5QlpsQzlMdFJqOWxGNVNrSERXVXk4RWl5WHB3Vk9UalpZeUZ1NGhUdEVXbkhsOW1qcVByV1lyWWxMaURjRnNTOEJMZ2Z0OXIzV3NaWU5ZaDdxWEgwMGpsRUZ3RVd6Y09XeG00ZlJaN3ZLbEM4NTZUWUY4ZUdaNHZRTXpJbHVQQk9Ua0lqUEFsRUVQdVdYZmxOZ0FrOGlzRVFCOVZDQ1hLSGtoM3RMdDRGRE1Ic1JVblNxQWlsWFRJRWhXT0VYdE9jRlNSYjRZajlJbzRjS0VldUN1SWRUZTdlTlExMERKalpaYTB2em0ydzhlU2RxNHpJVlV4NjI2SEVteVFNSDJVVDIzSDFNaDluUGd2UnlCZ3VxNHhUMzFmRFpDZzBTeUhmSnpRdUdOWDVCNEhJNng4TmpFWUVBVHhwb3FBRWkwTE9rbktiWmdOY25hWWphSHYyRXdiQ2EzNFFNcE90aUxGNENXZ2FIWVRwbXFCeXI5VEtJWHMzVlY1Wmp1aWNON3g1eFNCajBHUU5adkhwNVJkcEk5NGhEZW9WZVpqSVRGR0ZjcVFVQk9Sa2ZIWWJuZnFwY0NtbnlKc1ZEWDd0aFIwajBFQWpzQkdaaXVtT2pCem9hY09uMHNpMlRLdTM="
m_p: "l60D7U30USawtNDq5p8s4l3eY55u9d79c5dGKmdDg5s9nHBjJ6E41oq606S51Nj0"
e_t: "1614170061263"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 24
}
userinfo {
  username: "156******06"
}

2021-02-23 14:34:18,800-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:34:18,800-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "debd068ff4bd4e869851cd7a605a2201"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "fNHtlPkp"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231434202076075925058532"
version: "260"
queryType: "PAY"

2021-02-23 14:34:18,858-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "1.17"
origAmount: "4.89"

2021-02-23 14:35:28,086-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 14:35:28,326-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 14:35:28,369-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 14:35:28,369-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 14:35:28,720-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 14:35:28,723-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 14:35:28,724-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 14:35:28,726-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 14:35:28,726-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:35:28,727-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:35:28,730-INFO-fiz_db_operate-26-可币余额：0.9300
2021-02-23 14:35:28,756-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614062128753', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.59', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 14:35:28,788-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234449'}], 'vouIdList': None, 'batchId': 'f96ecf4169df4fd69ef3d27712572fe0'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:35:28,802-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'f96ecf4169df4fd69ef3d27712572fe0', 'batchOperateType': 'PASS'})
2021-02-23 14:35:33,843-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:35:33,851-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:35:33,851-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "53245869694037"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "2y0GHf3cgpmFqPdv9o7WwztTeUKrjRuX"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:35:34,046-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "fe6ab37d285748a39b5d2782326e3981"
s_p: "bXJHczJyNnBMSVZHd0tjU2tuelp1cG9sTUpHTm1GbklKSzNCNWFlVFlJTmRFdWg2UjBteVBhMnNlWldMdVM4a3I0elAzUlByemhWREx3ZHZwTVMyV1EybDNIcGl4SzIzdzRrRWFtTUV2aDNKdTFLRXBkWk93ZEYzak43WmE4eE02bkJzbFpRVzJVZDVTeWxSa2FCSVJNRlFXMDBISXQybzJxNFQ3MnNHVVZQaHBCQ0dJWmJiRDRQZTYxelhQRndoV1dtbmRCMm9TOWhuRjIxVDF3RlVFUTNQV0p2V3RYT3p3TEZMNE1ka1YzTkx6QVZFWVZDUWdDU3h4MUdNanFkNXpseTFZNXR3OUp1UmxiMk8zMlZzSFp2T3gxSGdJMzA1cURGT0ZrUDk2d3VnYXRUVGFPTWE0aTRVSXREOU9RNkZOSFluVFJSN1FsSVNuWTZqeWIyamZiRHFmUFNJa2ZTMzB6RjlYT0lseUNBb3VudndXNzY1bG5qUzNCSlF2elJsMVFJVjVkdlpCVjVQS1JMWTJaUWNscDhlT1RvbE5VdnBCRVJsaVRKckRmMWNuZHdxUTRtdzNDOFpPUnI2dTJsNjNseWdSODhpRU5Nd3UzcVFOQUo5Z1kyT1JVTzZwRkh1RHVocjZxdTRkQ1NXSElRQ3hHZ0NoZDhGSU90dTVHWUpYbEVMVkFDWDJKbk9wRkx3bzVuTk9XWDNFWThwdzJ5SEFjWGpUaFBkM1RScnRjU1FEcW14UlJiMk44ZlM3YWVnaFV1dnhSYkNlamlvN0FpZ256WGRqMFRROXFxRjlxNnhxWkVpSHBpQTlqS3hLVWY5cUM1MW5idDhIWXpSR1ZsdXZsNXJVbWhySUZ2U2U0ZmxxdDQwQm1VT2hHbXJLZWJMZXhrUEU3cmNYcW9LNXJKZWNBOTI5bG5yNXpuMTZWQk9TaGhQMnZUeDNvcWJXWUZPcTJzcGNhcm9ydXhoaGxFMUtaTkZQUUhtaEFEbWV6SnhwT2V3UFpIdTk3Njg1TGhzOGJDWXgyQ3Q4RWVlTTdLbzhpRlNZT0NpeHN0bXhFSnM="
m_p: "5KQxx557gGPc7bFgU7vxAhQv7s2oIP20c1185eSOSULIKr7AdAGJ733X9TbTqMhE"
e_t: "1614170136468"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.93"
  vouBalance: "0"
  vouList {
    id: 64234449
    type: 2
    minCousume: 100
    vouCount: 59
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 6
}
userinfo {
  username: "156******06"
}

2021-02-23 14:35:34,068-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:35:34,068-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "fe6ab37d285748a39b5d2782326e3981"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "3Ju1KEpd"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.52"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "uayStnVwBN9AYvQrsz10kiRZ8dbJLC6I"
}
sign: "H+jDtjH9Bp8K9bJy8AdoSLveZQyOWPu1pMnHLM+5F5EWf5FuMvDxgpwufJnTMECMjrrcwYc9dhlGQxD6RTtE5ZbGyoKiAbnASNFiRDj04CPHSF1U3vjIHAXQLLeWwKVrSVkAwrqvzqg8GlaJR2z8rvnBd48HEq23v/bkFcH8FtRD+RhsX4ybQU0sDSlRlKm535EuuLkmarxYDxbKgoygdMgyQStcqeV23Hz6J6NXhvOsntQNiDEJfDi620PN3aDMU3DimqJPL1fLM/fgYD7KtYsTVpbG+EbSyFMMvvS9H59mwFPQjsJAXZc1q/DBlqCn6pKrbt0z7a68hhSG6aq48w=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "fe6ab37d285748a39b5d2782326e3981"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "3Ju1KEpd"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 625
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "uayStnVwBN9AYvQrsz10kiRZ8dbJLC6I"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "bXtprwsnE+YiJs1M3XEK5TjCSgPJ8f82GD9nqbZC9fpRVbTfzO1gtXQQ7zURFFKfVlnAZOZsoPNQihd6KWcG3pqk3aEeZ8RpgXyzQKb1UrRPE3pb3SCybk3otzZikjKPedU5NkjrSL4D3BlKfqpuXLI+1bqQSiLsZQetzUJwQg4="
  appKey: "1234"
  voucherId: 64234449
  voucherType: 2
  voucherCount: 59
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 14:35:34,612-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"7fcf174bdb67477a87a81c6affae9a17\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx23143537036337904a8d8d37c612300000\",\"sign\":\"EE8449EE741B7B7A15CE8114BF95C0EF\",\"timestamp\":\"1614062137\"}"
}
payrequestid: "KB202102231435362076075925788402"
model: ""

2021-02-23 14:35:34,613-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8975946290145063544359385088]]></transaction_id>
<nonce_str><![CDATA[qpPSVFTlD3LZmbouijfaHgk5Q2eNdzs8]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[DF7BF6CC99A9C9F830649A2873BBAC8C]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231435362076075925788402]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>552</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223143534]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 14:35:36,090-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 14:35:36,090-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 14:35:36,099-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:35:36,099-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "67887107774248"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "gFDSGAudxlhwnYbMT6BUI9Oj84cytvoJ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:35:36,197-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "491c76bd17a44fc980e20ac07cb84e44"
s_p: "NmJUbTdHdk9FWXkySGhqUFViSVQwV3BSa3BHWHRvU3YyYllIN1I4a1VSVnl3cHFNbkI0QjRjTVFSVFBRb0pqZkEwU01iZGpsWjBIb3RSSkxPRFNDUDczRzB0UzdUbU1LbDJQYm4wbko1OWtKcFl0Y1hCdGNQMVhUdTJhaFpsYnNKQk51MjFyV01qamp3d1FwV25mclZwZDNSZzNWTjRhN2tJNnU0a2N1S2FVSk5uZm1vazRTTzhHQWVKSXgzQTRyZDE2VnZ3eFZJTXp5MGZkaDFyMjhPN05BYkp1Z3ptdXRyRVhNUm1UVnI4UzB3RmhwWE5WZlJBcVY4akpuSUs5WmEySDBDeTJZRjJGcXloSXNVa3RSTlJpYVZKMTF4OURmMlJpME1WVWZxOHNncEZMbTRJQTYwVUxYWW44ejU2QlBrWk9ydmFKNDIzMVMwVzlRakJ4cm1tNjR4NGlhbUFuVmZ2U0h0c2RuT3pzOXJiMWIyZ001ZzFmYnNFM015S3R5YnQwOVFSZlpkYzFhSVpVanhrMkNoYkQ0ZjRCVU15YXdHN25sekljVHpGV3ZQMXQ5ZUtQT0ZkOXNvTURmVVFvVUpHdHBxR2IxQUFGbExiWnBHY2NRRzZTTmpRRWx0eGZ6VUFaeHVOSm9odGNKSTlJSmJNN1dDZko1aUlZOWFZV2Vmckh1MjJqR0J4UXFGSTdROUdaWng4NUtZcU9scENNZnpZTzJvZXRVeVlYak5YT21icU5PYmFyMmIzdFNYT1VqaGg1cEFoUVk4aXV4aXZtNDJsZng5RVdVNUlwZzRRQkN6U2FqcHl0UHR6UkFnUFhEMDhPZmZNSkdCUGxKNTcyYjlOOWFpWWhPNGZqcFFmT1dqS0QxaUp4YXBOcnVqR1FqdE1tNzdYU0hjRDgxZjhtTVlUYW9iUVJ5WG5sUm9QVHdtbVBFcGFreWIweDNuWnVYSWQzRDhPa0s1R3QxYVIydGI4c0ViYWdHOXN6d2JrZmdiOG41bWRaclpHVG1LczNidVFUUzVRNzRqNzhQc01FbmxYaDBRQ21QaFZKMWJybkc="
m_p: "JM3A5hw4zXc2S7363N26I88wUc8Jv74Zv4Mq3prCW0cs7h2O6SeXwJC2i23YBp4S"
e_t: "1614170138668"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.79"
  vouBalance: "0"
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 5
}
userinfo {
  username: "156******06"
}

2021-02-23 14:35:36,198-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:35:36,198-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "491c76bd17a44fc980e20ac07cb84e44"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "XBtcP1XT"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231435362076075925788402"
version: "260"
queryType: "PAY"

2021-02-23 14:35:36,273-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.52"

2021-02-23 14:35:36,273-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:35:36,274-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:35:36,277-INFO-fiz_db_operate-26-可币余额：0.7900
2021-02-23 14:38:25,492-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 14:38:25,742-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 14:38:25,854-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 14:38:25,855-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 14:38:26,208-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 14:38:26,211-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 14:38:26,213-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 14:38:26,216-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 14:38:26,218-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:38:26,219-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:38:26,222-INFO-fiz_db_operate-26-可币余额：0.7900
2021-02-23 14:38:26,241-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614062306238', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.21', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 14:38:26,267-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234450'}], 'vouIdList': None, 'batchId': '7fefd99f679d40b0b6b68d2bea253f65'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:38:26,286-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '7fefd99f679d40b0b6b68d2bea253f65', 'batchOperateType': 'PASS'})
2021-02-23 14:38:31,329-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:38:31,345-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:38:31,346-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "11870897979473"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "LrcyfU2gbl6kj8SNpo0B7DixG5T4RVIZ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:38:31,504-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4b5249f3445d4dd69a4eff852d99f823"
s_p: "QXVpWXh1TlJnOWJBQ3IxSnM3dXlvWTBIdXJxV3NBTGR4YW1Tdk94VVVzMUVMbVF2NkZ5amE2UHpJdGFaRFdCUEluS2gwc2RmbFdTWmZUR0NDbFdSaUpTR3NBdVB0NVo5UG9WYjAxMWU2YkhGTXZialNDWG1YMWNoaGozQVFDUHhHQkxyR0xzc0pJdFFGanpUTzM1eG5kd3pFbEFGYkFONGNwdHJtY29LWENEUldXanVZNlRIZWE0eHBBeXNSVkZUNU42eFQzdXZZWWhTcktBbDBReHl4UWhQbkZjeTZUa1FhRERoQllzV0tiU0dmRHlKQUVpNkN0ZmkydjFNVXUwRm9zRmhNelRiajM4Y1pNZ3pyTUhzNGpmcDBPU0xWcXdqM3J2VHAwQlZjQ1EzdkhwS3I1eE1BRTdpOUJhNllzZWMydzBBeGVNbk5aOERiY1IzUm1XWmJYa1dEbFMxdzl2aGt5WGNlQkNlTVpSclVQVFRVOFB6a2wwTEVtSFoxMEY1aGVWRkczSEJEdjdaRzI3QWlQekNXcTllWFRPdzEwaks3ckZKWVBWMTlNM0tEWWxuOG1iaUhmNWhqOWFTY3NxWE54a2d3SDZLUnNKTFdTWjdHdUFXdEh5eXBrTW5mdEdDc2RVanNINEJReW13WWNvQ0Q5dHVtUjBjNUpjMnRzdU5XY3UyOXFMbjRoeDJsa09Ia0U5RmhiZFJEMXhwc3BqZ2ZBWWR3R2xaam5UQXJVOFEzNVZpdmRENEZ6TDdqbU5kUUtyd3I1RU9BVXpBd1V5RFFwT3FSZnZMNE5UNWFlNkhPZ1BCYXVFVzQ1cVFuYkNPMkR0RndRM21mR1ZzVDlaYzdiQlJyRjFNS01Ua1JXdDFrWXJtSE13U1RsT0pyNzNUd29CMDFXUmJjN282QXJ2N0dYUE5aZE9CQkN6OGc3WTNFZ0plTktCZ3dpR1JCVFhxRmc2a3BneUVkVTNVZEJRZExxVWo1bjNJNWpKdm9wN25QWnVMMmxtdGJLTFhTbDlvQ1MxZk14aUFzZWt1Sll2WGRua2FUS0ZYbDRFZlpDZ2M="
m_p: "U7Oy166C9iWMJ3qc1553s3249a9VU4ckWv1uS85Aa0a8i4WleBFNg74z3006D5nv"
e_t: "1614170313944"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.79"
  vouBalance: "0"
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 6
}
userinfo {
  username: "156******06"
}

2021-02-23 14:38:31,568-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:38:31,568-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "4b5249f3445d4dd69a4eff852d99f823"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ssJItQFj"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.21"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "fOb263zhqsejaAmpQDi1yCouHcJ8wYBV"
}
sign: "WPk2lQXFJLxDqoWCA2VsP3RIdIBJ8f7u48b4TRMXnK6UgqIWBmUAoMnn+PhjFJOD51BdoLYUzBKWi4adcdD3WU8FneS4Zojpzg3bUBNhFewRwVHk0KrXhXT1fC5f/v/o/pmEqldwogw1o0M1oAPrD1PhX9XbS8SCf7ojbiqUkghiDqxWFWdK+tX3ATvPjEvL2RYQsIOYwPzLYL1Qgs99VxYjbNVCmCLj56DbveqGYh8kn+WLPvcyNI8+DAujlFjsfQCyrCUZ/K10MNPcjxGx3tMcBgoaODFFuU51UyrIKsy+vhxKkbsqLXUtc87SQxHO0BEDPVKOGXINHotbHe51Ng=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "4b5249f3445d4dd69a4eff852d99f823"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "ssJItQFj"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 528
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "fOb263zhqsejaAmpQDi1yCouHcJ8wYBV"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "HLWZZodK2LMQVRnZkmRrAYDUGALn7t88mHa+C8T1sQZO+/JEzwkCFdWKnu3pxyh0rr+dTokSxm/wH6RiCVCpYSu+4rn6G4KDT34ItaGNQQNugFpCA7oAdVJ3Qt4IMkxIStn2ibP10sau6Occl0Jr6MPc23iemw2c4MLKvCQdKYk="
  appKey: "1234"
  voucherId: 64234450
  voucherType: 2
  voucherCount: 21
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 14:38:32,083-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"d5fb4c44526b49129af2c4072e16cbe4\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx23143834504486c7355c015e79c4220000\",\"sign\":\"599BBC17AAF6D0D1F2A30BF513A8BEDA\",\"timestamp\":\"1614062314\"}"
}
payrequestid: "KB202102231438342076075925040812"
model: ""

2021-02-23 14:38:32,084-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4366337418032342315855629624]]></transaction_id>
<nonce_str><![CDATA[nNlytoRdpI0OxHsge23AGKrPqQmVFvJW]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[5A2D27CD505B8421779D39B143D745B1]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231438342076075925040812]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>421</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223143832]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 14:38:32,222-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 14:38:32,222-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 14:38:32,236-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:38:32,236-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "44989364499876"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "n61jicz2amRlgdJVyXuDsYSLMC0b5w4v"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:38:32,353-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2c852c5078e944c1b7eb546c6da3633c"
s_p: "YjBZSjhFTURLNUlFb2RmSENtRWc2bXdrTGFFQnVsN2Z4Z0ZXbWZDSUUyb2RYbWhFTzl0Wkk4UENyRmEyZm5MdTNQTzR4Rkdzd2NpYVNpQkJ2UWpzU1RRSHY5YjFCSHBHS0xEa1FSSnZNNDhLN25SY0NaeFVXQWNweWdPR2ZzOG84NW5neG1wVk0yZ1dRNGJJejFKYUhla01nWTVtVUh0R3RsRjc2TXJzcVFIbndpcWRQcXFXT2NMWkJQcEhHV1I4aTNyeXlHeExFc2o3NG4wN3lzcm5JRkRJMkYyVjh1MTZ6ZExRQ1Q2dVdWdjN4MFdxb0lZMEpaSWd1SkZEdFBDMGRQUlFhMXRmNU0yU3BvZGFLeVpXdGlYYTk3SzFsT0w2ZXNoa0JuVmkzT1daQzB1SzE0NGV3OWhCOUxkdTBPSG0wRjNaMGV0cE1YNU5pRzhlaDRuVGlhN2RZdVFPUmp5QkdNaldUaDhiN3J0S1dmd0lTTHRHelhaSFhZUnl0ZjlUOWpER3NNN0FlRWlsQndMRUZZTFJJU1dQckFtVk9rUThyS0xRYXN2Y2xVVWprWnEyMkF0ekw0NGpPVVZsZHV3WklWcWFha05kc3lkVkJ4ZVN4bHdabmtPZm95NlhySnRQdjM3djZzMkR0RzdFZ2I4ZXBDZnpmQm1NZ0RWNG9keWVPWnVFbmh6UUkyR01iQkxQQlVtSVJKSjRLV3N6NGVncjRnMEM4M056QkhNc29RYlRSMzRBdzdlY1dBbjUyQTZrbHlMQUJSZGtpZlZ2ak5MTzNuMWhnT2lhWFFzcWJ2eGFkQnc2NkVsUm5YdTIxT05USG8wc1ZlU2dhcDh6NzFDaFRKem5DN3VyVTFOeVRZMDZXcU4wdnE5NVptMU5FZWVhM1pkckVkVTlmZjNHN0lFUmZZRmRzVk1lWVRBSDF0Q0VVd0l1UUVQSGJxMDFIOXlzMkpLYTZmeXpnaXc2aklSejNGNGViaGVxNmliWGtsZTdKeHVvaVB3NWdvclZqZHVkaUVwbnk2NTZpbDhURkFpa04zSjBsTXNxV2hxVlBoOEo="
m_p: "mN8L07Knh1n5j87634YT1BzM5pb8cLqNwbN0W76D37UjnhbX1of57hrFsGz29Q2v"
e_t: "1614170314798"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.79"
  vouBalance: "0"
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 6
}
userinfo {
  username: "156******06"
}

2021-02-23 14:38:32,354-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:38:32,354-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "2c852c5078e944c1b7eb546c6da3633c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "BBvQjsST"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231438342076075925040812"
version: "260"
queryType: "PAY"

2021-02-23 14:38:32,454-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "1.07"
origAmount: "5.28"

2021-02-23 14:39:22,989-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 14:39:23,267-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 14:39:23,382-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 14:39:23,382-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 14:39:23,747-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 14:39:23,750-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 14:39:23,751-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 14:39:23,755-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 14:39:23,756-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:39:23,757-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:39:23,760-INFO-fiz_db_operate-26-可币余额：0.7900
2021-02-23 14:40:35,421-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:40:35,421-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "31135438436012"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "lNArVjvuLgWSfU0YKw5DxCtF8RXzyqm6"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:40:35,590-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c19c9180a7824e5fb937118423a6c5af"
s_p: "Qk1nOXUxY2hOb2dxYkNqVFlRQnh6ejBxYXo5Uzh6WE1mR2Z3S045SHdBZjk3SUpMaWRYOXFlNVV5a2R1OGRWNHlWSG5vUUIwY1BvRFpZVTY4cENXWjBBWkE1Yjg2V2hBSGYyN1ozUnJLNWczcnlld2lKclk0Q3piMXVZTnBoYjFVWFJ3Z3NBV0lZUlJRQktmNklUUTZBRVFsbVIyVkJRT2hIT2prTG1qSTI2Z05saXZENHJLMkRIbm9abTNIeng3bFRSeFhBckZpYWxob2Q2VkxkajFiaEFKWkw2WTZjUEVZM253Q1R3N2VxcjJNVGRyb2RVMkNGYkNpdXhXVVBwNEdRVkRNVnR6UGxUdkRrcWZjYTVpbDlGVUhxN0tjRVRIdU1Cb04xVVJ5eHI3UUh2SnpuenVhaDJLaTA4RTlRb2ZxVWFKMm8xWTd5SzVtaE4xZ3g5Z2d3UVVBSVNsenZnTjJTTmtTcWNOQ3ZMUEdmQ2o4MlUyeXBhVTF2QUtsbTlIMWV4N0c4SnkxdVpFYnVNd3ZiOEd0bFJqVk1NVkUxdHhOMHA2QWdvOTAyaExIaHg2RGtBM1FQWkkxUGZiNlJudE1wNmFxOWEwVW1SR0taZXI0ZWRIbHlCOWJ0d1V1U1R0MDFHNkJ2Tks2bUV6RnhsaU9oYzFoRnhLZ3oyTUhad3JQWnFHTFh4TW9ZWG5QOHdXa0lBTFIwSWhPTHNEZDAxMk9HVmdHdXo2YXlyUFR4VHJDVDVpbHR5UFB2ZUp0QTNTeW9rNEl6UXNjYTdWZUY2Zjh5S3ZwcnkzQlZUUWN5dnQ1dU1TR2FtRmFTZ3hxTjBpclp1YTZmYjFBN0F0cTFISVJQVzRqSDYxbHNYR0VaM2JWd0FJeU83amJpTVhnZ00xeTdPZFdyZWluSHF2dmFUZnZ4N2RiNHVNemxDT1Rrb1dhVUpFTmhWckFPazVEdmNhTFNkNkxTQ0NHZU1XVTZSd2lGcXJOTEwzdHBDOHJweUtGOXpQa3ZGNzVLNzlSaEg4cFpoNERmbEdlTnVtOENma3lTbEd3TVdCUmdvN2hZalo="
m_p: "P0hWyCf267D45pRFb1ZBiDvjTPFj5HkOAp7Wmm3GbD1Rugf0oE5q75rEd1XebpSp"
e_t: "1614170437997"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.79"
  vouBalance: "0"
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 6
}
userinfo {
  username: "156******06"
}

2021-02-23 14:40:35,641-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:40:35,641-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "c19c9180a7824e5fb937118423a6c5af"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "R2VBQOhH"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 79
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerOrder: "2CgGzUl7NMVrFRyYtapOmKickubE0oJs"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "BhUU2JyE7Dzyt07awzE5NwfNuSSbEy6Deb8RVugttGJQcl/iiMWfyS4JWI2JrCrG3g2vmV+6yhU0YByaze8IB9NDOuIIolB3qppFnYg15tUS6fvZjPghhM6sDY/j7iMJ/L38ZbZR+V+lYOxC9pUqJWgUIusoIOXfSG/NznsZyH0="
order: "7897969983497"
ip: "120.197.152.211"
factor: ""

2021-02-23 14:40:35,867-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 14:40:35,889-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.41', 'batchId': '45983070678717730984919416552800', 'bizNo': 'JqwQsAydPkFW4eLCrYD3KNoIpRXiEaZn', 'operateType': 'PRESENT', 'requestId': '36938421775857335533631025358877', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614062435887})
2021-02-23 14:40:35,913-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.41, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:40:35,939-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614062435936', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.62', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 14:40:35,958-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234451'}], 'vouIdList': None, 'batchId': '1272ab6731484154982f5f9329d4c33c'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:40:35,977-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '1272ab6731484154982f5f9329d4c33c', 'batchOperateType': 'PASS'})
2021-02-23 14:40:41,013-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:40:54,791-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:40:54,791-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "02941563486739"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "vdoN4gRS6ksBTxbJFan2pw5u9lXmQyWD"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:40:54,908-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b54ac02f8f31462d85d1a47032b16212"
s_p: "TGw1SWVJZ0NBc0JNcFZ1TkFxTnBXbUI1S0NrRkpzTHdhVG5xV3cxaWdic2NoNU82Q0JzdnJteGZ5d1JBaU5SSWhiY2VmSTZOVzZheFE1REZ6Y0JVdm8wajI3bUtLQUNobmFGV2ZCb2thZjB3Sm9nRVY0UmcxREIxWEI4Y1hOMlhDY1V5eHZxUTlPVUhDV2xzYlg5Q2xGOHViYUY5T1BSOG03V04yYXlwT2Y4SWVMdGFMcXB6YWVmajlGRTlsV1dPelN3a1lqWWMxaEY1SzQ2YUVYY3RyN3Q0TG93U3Zabk5OdnpWSWpmSnFXYmVpUWhzODd0TlU2UHp0bVhsZGVSb2ZqRzlmdm9vbkhkaHo3YmZIU3psTWlqSGVuWWhqVUVaNU03ZjVJRnFFcFFQU0h5YU8ySkhJeWlVVTRpSThCWWEya1BsRHU1YmV3UXVleGtTRVJweWc3Tzh6bmFsQmszR3M5YlR3dmVNQlQ4ekRGS2U4SFUzemxEb2JVM0tNUW0ybEhFbWVJWjJ1ZlFwQ3p1THpZRXRzV2c3Y2RFM0cyRGFPYVJuZ3ZHUlZPdU84cTlSR1Vac0lOUFJyQVdlUVhkV1BTNFo3VDRQSUs4bGZ5WTZFUkJHVFJGSTlGTGYzNFZJZXRZY051dWtrWGV1RUVJdUdyc29pZDFvWFU0T1N5c2JSWXEydHhtSGZ0ekpGd1VGaE83MXVrb0dwSE1DYnNjZ2ZMNXlFU2ttcDg5SzVyNjkxZlVLSkVUVGJnQXNFQkF6Y3pNb1BLN2p5YVhWVFZKc0lLdWJnWGlsSGpUVGU4VXU0MHJyQkVaNG9QeUc4bE45YUVRYUNLZTFWd2RCeWtFb1VvcllNOXM3TVJMUWhLOGNzSjVtakNWcGJ4cG9kTmsxYzIzVENwbzZEamZ5Q3pHTFJZRzZONlpiNTZvUmdFQzFDTWFqVzhMZUpUU3ZHSDl0U0wxYVdFNG1PeUNLbHRwV2I5dHZEUFpkTVM5UmpmTWpsYzlJSHhpMmdsbVVYalBnTHlVNVd6VWRJbXhhc012TEVyNTE4d0FRQmF1MEc0NkQ="
m_p: "0sDF096DybYE8c6n96m6tGG2LC7gKLKg5g9LeIz6ndf1k8LQu0zrqv4P0HPkh6n1"
e_t: "1614170457378"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.41"
  vouBalance: "0"
  vouList {
    id: 64234451
    type: 2
    minCousume: 100
    vouCount: 62
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 7
}
userinfo {
  username: "156******06"
}

2021-02-23 14:41:20,045-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:41:20,045-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "b54ac02f8f31462d85d1a47032b16212"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "0j27mKKA"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "3.96"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "DhnW8ZM7fxSUeiCH2B9YoQp4qagG0wFE"
}
sign: "Aoetjon8PiuFgZHgydBspZBe4u/TqtV4S0wHzWPGrVL2sGu3tWAL9H+yePcNoeggOMoJIP7bSOrUGpqYh6dAtpsbTFfIFoWy1AaBmKctS80ZXR14LBCjaP43T51XyCNKUdFtA+SEv5GmtiQ4zPXMoeeHa/riGRA1GBVQ1gqSelMsZBYN2hXEaHdw6kCYRfpZ5EWl4OBUi/1DNXDkDSrHEClJk02oRhqCtBV1hPRO2qgYVIYuM4Se80T15VAguY8Uck5n/92MrQHNwkbD+1jioY1GlRE60lZFrGeznHy0f5pE0SvWj2nIWAzkdf7bO4Gj99RWuxUk4DtcplgnrCInrg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "b54ac02f8f31462d85d1a47032b16212"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "0j27mKKA"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 499
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "DhnW8ZM7fxSUeiCH2B9YoQp4qagG0wFE"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "T2NHHXeFQzzmGz7y4tiVfgCGKVZgZBCDLBBB7YTtbCt3gaeB7IMwYF+lYjkLBuinWyiRBk55F6d79LhUc1erv6XqQRdCuVnNmRISQq0uNqsBlOOKdCIzHzpGsWexcCuqI/Wm3a7EPLF9Y7K3NL1V74TLqnf5zSNXEq3+qN14D7I="
  appKey: "1234"
  voucherId: 64234451
  voucherType: 2
  voucherCount: 62
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 14:41:20,543-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"33d04ef150fb426796a943919af9f3fe\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx231441229618996542ce67a2b60d1e0000\",\"sign\":\"A35DF816C46822762D2F72362EF7313F\",\"timestamp\":\"1614062483\"}"
}
payrequestid: "KB202102231441222076075925570442"
model: ""

2021-02-23 14:41:20,544-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[5073388444825693302804783262]]></transaction_id>
<nonce_str><![CDATA[2qxOlMzto1TRG0yBEnXCgcVPej7pHuvK]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[1BEF25E03EF56CEA0D71776CD8FC3096]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231441222076075925570442]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>396</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223144120]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 14:41:20,669-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 14:41:20,669-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 14:41:20,686-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:41:20,686-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "71288891586486"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "PpISytDdKcbn5ZFkmEONYsVRgJ7vjClr"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:41:20,794-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "15b0820083bb42e2b4d31cd8d3667fc7"
s_p: "ekJqbHJWdnBOazNrcXVOb2QyeXlMVEhEdVFTU3I0RUdrZE9jeUd1S2ZXRVBqTTltMDUwT003dVN1SjVXWlFGY0xSOE5FOGY1NFBKbmJ5Q2c2aFZwWHoxdUphc21jSmtwT3duS2xDZEZta0FpWjVrSENGaUdmNk9kcFpGeXpoVTNSSUlHdVlwWjlZTFhHV3VTSjBTUE50QjJra2dCZjNsblhGaWFlUjJvdGlZTksyOTJ0S0NYMUdZOUtxbW5aSUdINjNwQTY3RVpDaGFXTVY0Y3psQ0ZTemRqTjN0TGNHd083bWZaQ0tYMXFlY1ZQelJEUjhBaDE3cTA5dVNvMnI3azE2d0VkUWVUUVN3cVdzc0lySldNZGJReDVmbmEwa1V5MUx5emEwb2FtR1Y3ZWx3REhQZGZ2WDJtWjQ4Q2pjQUJHaElXaVhpdlNYVWpqWG5lUno1OFZFR3M1WUhWTUxrVzJBVWhzRTlLaEpZT2VKUDZtNjJYeVpqYUlvNlBBc1dWd3N6S0xlMXpDbjV4S2t3Z2kzcEJyNFYxSXNjOXpRVjhrdkQ4T0pickxBTHE4Mjh1UDlReExWbFlyazA0bTlJQWF3Z0NwTTRnWG42OWhmaGZkakZ0THB1aVZ6bWdRWG5BeVI5TXRMRTdNS0xRbExUWFVxZm03Um1Bd1BDTk1SVnlFY1EyaFp4Tnp4UVhKVENpTnZrSDBYNlI0aHFDRnlWR3RzQnVaRnV3ME9CMERBU2wwYUdRbEN2VVBCV1VHU0pkTldrWEFyTGhBaDVrSnpsOW5LY2dmUElURUJMZktlWVFhSVBEUVlPc2tqSVJINHAzV1ZJY2R3QVZKaWhxVlJGeVlnbjBYYUpXS2dKMk5Sa2RORmdzQkhYZ2VLZjIzek1IamJ6OWRiMlN1MWt0MFMwbjJGQTFjanozVHM5UjZxWXMwbDl1NGp0cEpjOEtHWG5iY3dQMXhkMzZxbGIyblBvdkIwTkVud1NzMjllb0FpVGJ2VVA0RHBFT09oUkplamNmZ3piZGVRWnBMWDVyZDg1c1pIVzBwME5wcmVmWkE4M1k="
m_p: "K8Bl709L2HZ0532HcACM4CTnr380vuVNpIKqXXzzFtMNT13oCr5TWR90E3al5p7O"
e_t: "1614170483265"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 6
}
userinfo {
  username: "156******06"
}

2021-02-23 14:41:20,795-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:41:20,795-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "15b0820083bb42e2b4d31cd8d3667fc7"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "OwnKlCdF"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231441222076075925570442"
version: "260"
queryType: "PAY"

2021-02-23 14:41:20,875-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "3.96"

2021-02-23 14:41:20,875-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:41:20,876-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:41:20,880-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 14:41:20,881-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231441222076075925570442"
2021-02-23 14:41:20,887-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 21495, 'pay_req_id': 'KB202102231441222076075925570442', 'notify_id': '5073388444825693302804783262', 'partner_order': 'DhnW8ZM7fxSUeiCH2B9YoQp4qagG0wFE', 'amount': 396, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '58.255.79.104', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 499, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 14, 41, 23), 'success_time': datetime.datetime(2021, 2, 23, 14, 41, 20), 'modify_time': datetime.datetime(2021, 2, 23, 14, 41, 23), 'trade_type': 'PAY', 'kebi_spent': 41, 'voucher_amount': 62, 'voucher_info': '{"cutAmount":"62","id":"64234451","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'combine_order': 'N', 'voucher_id': '64234451', 'factor': ''}
2021-02-23 14:41:20,888-INFO-lib.common_biz.fiz_assert-36-订单表信息记录异常
2021-02-23 14:53:51,364-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 14:53:51,604-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 14:53:51,645-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 14:53:51,646-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 14:53:52,008-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 14:53:52,012-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 14:53:52,013-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 14:53:52,016-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 14:53:52,016-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:53:52,017-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:53:52,020-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 14:53:52,035-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614063232031', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.04', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 14:53:52,061-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234452'}], 'vouIdList': None, 'batchId': 'a11188c8faea40969ca954d61cb6f6f4'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:53:52,075-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'a11188c8faea40969ca954d61cb6f6f4', 'batchOperateType': 'PASS'})
2021-02-23 14:53:57,114-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:53:57,122-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:53:57,122-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "97039922098687"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "LSXf2w5KETx6MVNa1ijynbqBPIUWu3lt"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:53:57,331-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bff12f6af2f24b7f8b23e25ec74cb28b"
s_p: "YU50aThseUJrM1hPeE10RE4wNWxrcWZCTXoxanZkWnVJcThnRzJoa0NzTjdnalpYQW5RRm9xN1hSSHFZYWhCY0Jqdk04dzhHc0RCVU12cEFIdUlQamNuTkRKdjB1QWhJaFZFaUZmVFNENFlsVjJ5UE1YTkF4TUNiNnozcFVVOVZEUFNid1VHQjNsdXVRRUxyUHRUVEdKbGF0dmltaU5NaEVyRlNOMjlaRExCTFVJWEJRVUQwQWdUd01LeUFIaXprTDlCbG45d3NUOERWVHAySXpPaHM3MmNCSlVkdm9lUWx2R09QOVlURjdMekVFN3FSQW9RSDZta0FiRVc0U29nOElBazh6Vm05ZzZORjhzTnZxWDA5cFZPREZuSGp4VVFrZlpnMHNieDdkckhjMnIzNWpabmFZZ1h0bjlnTFEyYVlrRXFwaURTNE9mYThydnU2SG1hb1hpUTNNc0lHbkZwbVY4anBxbmxzQ0M0akFkZXZ0bExSTjdhdzBvM0prcXdsaWZiZzZyUzUyN3A0ZGZLNTJZa0hBQTMycHk1STNBWXpnRHNraU9kS2szRGs5MUUyS0pqczkweXBDQmxYS24xREZMdHpmRnZ5TDVMWENpS2pJNW1jeFIwYUo5N3VpdG0wUlptalhVb2c5WTlmeU45eU1aRU5qRmh3ZHdOTERoY3ZTS3RBZjhLSTc5RDBUeFFxd3JRdlVITldMMmF3QVdUZFdveUlSS01WTDQ0YUdnNkJRVHB5Z1NudDBLNDVJV1dyS3pROWpjOW9oaGVQY0V5dXpDWk1hRjF6WDNUc0FueTZWQVIyczA4OFFFNVRRQVkxbGtpQ1VTdFNzendsUld2RTlvVkxPdlZQbWZ5YmozS1NJcEdVU05wRnlXbEtYcXlNRjd2OVNlVU5CNHpVY2o1NEdpZWptMVBCdlQ4bHQ1bzhzRGwyOHRiUm5CQVlXTVd1WlE3Y1p5NUxQaENOZXVWTEV4aFpON1pzd3B1bXZGQ0ZtRldqUFJ4UjhvenM1YVliR2RVR3FKb2JDZ1B0NFY2Y2hmWDVVVHZ3VDZ6aGJKQ3o="
m_p: "9y2hE70l8b7m8B1hvXzthrOaeX4G5A4krPzqim5Vb167po66CJPQ22Ng8Aq43G8T"
e_t: "1614171239768"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 7
}
userinfo {
  username: "156******06"
}

2021-02-23 14:53:57,354-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:53:57,354-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "bff12f6af2f24b7f8b23e25ec74cb28b"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "TSD4YlV2"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.71"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "3INRDj4SOgeaJsfdAb6xm7CQT85twZcM"
}
sign: "Cio0TvgKpTSwqGesILL1JqBgokR8FXbVt2pfcrm6tN2l2ZHXkPNP4HmuAJdBa2LLeN+RoP41aPVa+8QDiH9N6x4uqwWqg0BSnJHuNkNbUl9oqaOGbyKMI2JWPtkdWikOkbCZBixmeXeXAbdx7M9VyLyyi25zZMLBD42bu7pZEy6baPq5GOABwmMwOtrRxkdk74yfoCQr2r4AVBBldbfZk26omjqdW8fMJJFHHYhqTf4JMrBTBUdidjV0ZjiEywjq44EuZJo35cZdoHBG8D+6m3zH13fYxB4dTf6wwQlvUKd1TVGbMea9rYu64qkefWRuzkjOpiYE8WV/fXmv3bYeCg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "bff12f6af2f24b7f8b23e25ec74cb28b"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "TSD4YlV2"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 582
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "3INRDj4SOgeaJsfdAb6xm7CQT85twZcM"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "hZIvb03xearucWgVl7yKmEKe2wZ+t0kaMWeCMAbqJT+6i3KYyrPW/QUx71bk1544ECZmtBzfofxCWc53xtNntmPMIWX5FbQApcpjdLn69H24u1pTYBz1Hyor/yJt22TbvGH8cy/8BhEuuUX/uNZPVI6qoiVb9asKrvVVKUeUi6o="
  appKey: "1234"
  voucherId: 64234452
  voucherType: 2
  voucherCount: 4
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 14:53:57,845-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"35a55950b0c24785a6ad6bc779dbe643\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx23145400275176f3a7208770c5175c0000\",\"sign\":\"59E8FC53E5BED040E81EE80DFD6F52F0\",\"timestamp\":\"1614063240\"}"
}
payrequestid: "KB202102231453592076075925705122"
model: ""

2021-02-23 14:53:57,846-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9914552821302246965500449713]]></transaction_id>
<nonce_str><![CDATA[FM7mDnO41vIhHY3QlUXAdK0NW2JkgEPi]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[473E298375DD7C3450F53C9611801F7F]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231453592076075925705122]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>571</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223145357]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 14:54:00,434-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 14:54:00,434-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 14:54:00,442-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:54:00,442-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "70691110040923"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "oBEnC3ckHrOdh2imaALwIS8uP0UzYVbt"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:54:00,516-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "42f9eb22349f4af893bf30ca1c7af489"
s_p: "UzdCbDZjVFV0RWpscGU4RFpnMjVnTGpZMFMyUFAzUE5RVHV3SGZXbXBpd1F5QjVTWUtmdDh5b0FMV1FsekRlMjdvQUFTY0thTDVnYzFtNUxPUmw3UlhxMVZxdzZmUGNYVFZETXk3NWZwWE9KNzgyMnZHWHd0d252U2FhQ2ZEaUI4dGFlNHpLRVE0dmw1T1owMDRsSTd3QnhKNzJWeWEybnk0cHNiSVJVdWtqQ051WHpyTlhWWVlIMWdpUnhGdk5rcU93eURWODZUZDhDeUZ4RGtld2xDalhjUkxxN2U2WVplRkltWDc0TDVyMHgzVzFXYnBrU1dqTFVVaTVCNlR2OWVzSDhVTTZ5Q21XdTl4YW5XZzNDNHdrQThoQThWQnVhWlduNk9ITFNaM0RKN3lyT0drMVZpWkJKTnpsd3JYUFl3WmdJeTJJOENsU2hibVloc1JJTlp5cjA1Ym9wNzk2T3JPRk5TQlJaZjdIMHVhNHRXOExXNm9OUVlYTVVBNFZIOW5qMzJrOGYyRXNMVlliWFBkZjczNnBJaXNyWmtMUXd1UUo1bnJJTEZOdnExVHVFeVlDZWY0b0pFc0hCZU9USkJjcGJjTUdSQndJSzdzbU5SRUVPdnJrZ2lGOWJsVWtad1BoSlYwYjZjcUthVkZValBxYlZFOWd1cXNmVEU5MWdDaWRRODhPYUlYYWV3U3RMRktWT0xUYmV1ZjlIUVJFS1FmS1kzb1Q4Smg5d2NpRm9WRVZGdFd6SDBoc0I4V0ptOGlaYzlTSGxWTDl5YndKOXhGYnFnUTVjbTRaMWF5SzZjOHhyTkNCMGxEaXFkeVNFbFRSdHgzRWsyU3RyOUZ0VUpJQVRmTXBNdEdvT0NXU1E1RElxT0NESFppTVJ1WVluU2txYUxXNjZsajAwRHZsNXc1Y1FucTZjaEQ5TGVtS1c3Y3o2TERoanRVUk84S0dBc0p5YktSRVRRdEVYV0ozY0RGejlxV1lDM2R5cXdreG4xTUNqWlFVblBRQ3lTTlJnTFh6NTVqQ1VSMkZWVTVPRjExMHNTOVkwRVBUZGwwVHE="
m_p: "F3EJ0sB0E7PlXIT2c173BtR70W2bv3ts9gYfOetOq2KEDv7osYz29EKK0xhbnvg2"
e_t: "1614171242982"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 7
}
userinfo {
  username: "156******06"
}

2021-02-23 14:54:00,517-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:54:00,517-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "42f9eb22349f4af893bf30ca1c7af489"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "04lI7wBx"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231453592076075925705122"
version: "260"
queryType: "PAY"

2021-02-23 14:54:00,575-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0.11"
origAmount: "5.82"

2021-02-23 14:54:18,862-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 14:54:19,140-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 14:54:19,181-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 14:54:19,181-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 14:54:19,557-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 14:54:19,560-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 14:54:19,561-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 14:54:19,564-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 14:54:19,564-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:54:19,565-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:54:19,568-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 14:54:19,582-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614063259579', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.36', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 14:54:19,596-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234453'}], 'vouIdList': None, 'batchId': '1c32938bd34042108ff4a7c2b9316d77'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:54:19,609-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '1c32938bd34042108ff4a7c2b9316d77', 'batchOperateType': 'PASS'})
2021-02-23 14:54:24,647-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:54:24,656-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:54:24,656-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "63508084589931"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Dri7Q6EapMJ8ofYuhx2AImOPBKzUHTCN"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:54:24,737-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "58c6a8e7b0914582834c482de27b3e04"
s_p: "Z3JicWFvZjJLOFVRZzRZdFBCaTBKbENaNXEwcDRQaDFqb2NaRVl0aGcyOGQyRjRqTHVITW0xb3VZYjlQVlM1S1UycXlWZTlHMlN4Ylc4MnRiTmptMjhnT29md2xYRXhiQU1SSHRNdkc3Z2JRMVJKZ0FiQUtBT2o4S1NOakc0NjdsODV0VHdGa3lMckU1RWJCdjdTS0kxQ2lQNDJvNlFaT1FUU1BTWXFsRnhleVpKTG9JY1Rpc1Y4SUlVR1lUWklhOXhIeDdPYUw3alFTdXRGNld3MkEzSUlNVnNSM1p1YW01Nnd2NmFLQUp3UWV0d3BjQmxmR2h3dzZoSWw4QkJORjdqdTRDNk5oOWJrQktYOUlpMjc3TXlwaVZiT3pnamhEUks2aUNWSnBJYmQwRkdtU2c1SHFTTHF0NnJRUmxranI3RjFWaUozS1B0NUJFSWtCa2o2WTJ4VHBjcDZzRnFPeEZSczhFTk1UZGlUbVNST2liaTJNT3Q4ZmJ0b3d5MW9PZkRkdUtaWDV1dGFZWXBQcjMxb3RRWEs4SnNFZTZsZEhKdmxkTThWRTJYeUFGUWFycks4ajFwVGFMZzhQcFJQTWVUdVQzQ3BRVmI5eHhZdjl6U1RuSjhRazl5bXhQYlN6Y1F3cFpDVE1nRXlhRFRSWFFjdUxpaUFJZjliV3c0dVAxQ2psVkx3bHB5V3VvYlFqVHBmWEZlTVdFMlJqY2Z1SDhieUhScGVQT2toTGFpa1lJc2hjUVNHR0JHWkltYXFESU9OU1RjekVFQzBwajRCcml5bjg5QXY2d0F3b21Dcmc5bnI3MHFGM1lOTWhCZG5neVdsaVZhejRzN0x6czdUQkdSUGU4QlZmWDlEd3c3UFJCYmgwSzY0T0FRcmRoaEdNY3ZTRlBOUmNudjIzREhOemZrTDJVOEtnbjJxYmxlRUpZYzUxMWV2djVzQzNPajB6WktWREMzT2tjcVpJOG54bEFFb0l1RmQzOGpSeFVZOTdndWlzSXowbGhyd01mS05SVHFBZHpWM0lHaTNWSHdyQzB5R1RxVEtIaEx4VlF5ZkQ="
m_p: "8yu5KgU50dGu158yuqAhRSTNLB9eZ12149Po11lk4TRbKMM4AdE88v6h57ja15en"
e_t: "1614171267207"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 8
}
userinfo {
  username: "156******06"
}

2021-02-23 14:54:24,760-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:54:24,760-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "58c6a8e7b0914582834c482de27b3e04"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "SKI1CiP4"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "9.92"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "loc6KAuPLH2BT1XbhCnV7SdOZvDjg4Yk"
}
sign: "NJcRig823dZCF2cS78FCHSrpe4DDUcFHyG4SQKx0o7FBdb+QSdPLQGVHSd6mzt6m6o1/Jwy8yoZcSu4uyQVqza//edAD5V+Fh8dKfHjOKKRn/gTU8hnTiUv3ullHW65dmzvoBZ40jmZq9tT6dYUnzOwRtyQiTskf0dbj28Yfy/BwooEvx0PQvPOES2QV4rZmBlToit754wm6KG7goRUC833KSD9fR7FljudHMomSprdRiiZA6OI9Ta9iPI9brs0xF18ejMsyNPpndoVLQfpp2VrD4xPMdS16Qh1JOa1Ic4k8CQg1+01NBx/x+wzzjFh5MyLU10mFxAyfzX39NpBbcQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "58c6a8e7b0914582834c482de27b3e04"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "SKI1CiP4"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1080
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "loc6KAuPLH2BT1XbhCnV7SdOZvDjg4Yk"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "aeS0tHq01o/Gdcey0UaMAJI9YzCGMG83szK0AH9+Db7itrc/vlYMdfHmD7erH2VO6g9vinOS9gRIX7tkDeBzOrhXVCYDG6mpsxxexXYEcRdeBWf6W3BPUVdt/OjYtMN9d6/3a09UYxjZeWYFMEGOrA9X1/5hMEsGMRkH6wcKIBk="
  appKey: "1234"
  voucherId: 64234453
  voucherType: 2
  voucherCount: 36
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 14:54:25,160-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"e5bdf0bf6a5f4309b7beb7205aa5aa52\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx231454275887249c1c4e4f6ecbda0f0000\",\"sign\":\"07FD9EA5FBB980A5FA9227A1E53283DE\",\"timestamp\":\"1614063267\"}"
}
payrequestid: "KB202102231454272076075925385172"
model: ""

2021-02-23 14:54:25,160-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4134922618925198463056309730]]></transaction_id>
<nonce_str><![CDATA[hrt1a3THj76gNiyS4uFVvKmMP9ple2bq]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[7F464CA0F7F74F208C525A16B33191DC]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231454272076075925385172]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>992</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223145425]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 14:54:25,259-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 14:54:25,259-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 14:54:25,267-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:54:25,267-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "69829788594066"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "nRSk2epgYLsXA89z6qvUMNbdxEm1jZJD"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:54:25,351-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d8577c326b664935acad078f474ad03d"
s_p: "bmdxQmFLeHB0V0VHY1pwdkFuRjlpdGdSUzE5aUFFUWZEZFUwNnVSUGl1WjhUa29JdjFwNElvb2E3cDc3bFZpRk5xRU1YUEJEdTYwS2MwanMyTjJya0w0Rk5pUHdSTjZVT3ZlcUo0eU4ydmloV0dBdk5GSkRZdDAzbHBVUFdHV1lwRlQ5NHZpNmltUnRGZ0QwY1YzZHdsZWx2YXlPRVpjQ3ZwUWVOZHJWQjhNVjdtMXZheDBjWlB3bmtxV3c5NzB0RzVLbW5teW1CTk1UYXZzd0tWQlN6TFU0WDZtTTFFVmZQcFVlUTRoQVlKVG0xWmUyOEFMS0R2UkJnQ01NYmNHRjNMVVRUdXM4OUV1QU05dnpDWFA1RWlZZUNna2tCMkpMaHQzdzRLOXFEcHlpcnIyazJ4eHNxQlluRVJURm1YRVU2YkxRdFJXdzZXekU2WExBMTZhTEwyMmlOUUlsdnBEV2dPZGN0TjJLMm9tVFJJUXJPNHZJS2ZaTk1GbVV6NkNtY3hlWEthbUV0WXdHemRvS1A1YWNwOG1FQ2FkVG1Nd212U2dKc2RPMDI2YjB2NjNrVUc5czBhOTdLS1A2WHlkYWd0TFYxREE0SXNTNFRQUm45MjVmQmNwOENncEVBdEJPbVFCN3RrZ0pWOTJ2aXYzYnhnNHVpYXZ4dkh0N1FyOU1MWEdPT2c4V0ZLQ0NTT2xkYmtxNlZmNzVBRnh1WXE0RXcwME9ZY3ZsZUQ3NnFYMTI5d3prNzlsbmxLRDU0YnBJMkVENnNvV1hSOVpxdTJxY2pXTDg2RVpEbnJ4cEZlNEpTRTN0T2ZBTG5RYWFYTG14ZThROHdoaXFvNWY5aTNTblIwd3VRZEJaU1JqTDBoVnRzV1NQdm1NOHN0bkM3UzRmSGNhY3k0cE1LM1g1emM5NTJ2TFhqOHR4RGJOUk1Ga2I1bnJnSFQ0RzZHakZJbjlBSmcybGhua1UzVGxWbXU2ZDVtQlJqb0pQNnpjQldmWjg1eDM3RkhWdFRsdEptYms0WHlWU09HN254d3Vjck1iUzdFTVlsSndoYjY3b1FueVU="
m_p: "8t3M0K45yqzehwVuwm368DqQB642v494M595tn7uf1413EZkc707km893Wf5J41H"
e_t: "1614171267823"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 8
}
userinfo {
  username: "156******06"
}

2021-02-23 14:54:25,352-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:54:25,352-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "d8577c326b664935acad078f474ad03d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "2rkL4FNi"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231454272076075925385172"
version: "260"
queryType: "PAY"

2021-02-23 14:54:25,424-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0.88"
origAmount: "10.80"

2021-02-23 14:54:25,425-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:54:25,425-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:54:25,429-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 14:54:25,430-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231454272076075925385172"
2021-02-23 14:54:25,434-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 21497, 'pay_req_id': 'KB202102231454272076075925385172', 'notify_id': '4134922618925198463056309730', 'partner_order': 'loc6KAuPLH2BT1XbhCnV7SdOZvDjg4Yk', 'amount': 992, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '183.238.170.71', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1080, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 14, 54, 27), 'success_time': datetime.datetime(2021, 2, 23, 14, 54, 25), 'modify_time': datetime.datetime(2021, 2, 23, 14, 54, 28), 'trade_type': 'PAY', 'kebi_spent': 52, 'voucher_amount': 36, 'voucher_info': '{"cutAmount":"36","id":"64234453","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'combine_order': 'N', 'voucher_id': '64234453', 'factor': ''}
2021-02-23 14:54:25,434-INFO-lib.common_biz.fiz_assert-36-订单表信息记录异常
2021-02-23 14:55:10,537-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 14:55:10,819-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 14:55:10,861-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 14:55:10,861-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 14:55:11,227-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 14:55:11,231-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 14:55:11,231-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 14:55:11,234-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 14:55:11,235-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:55:11,235-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:55:11,238-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 14:55:11,252-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614063311249', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.27', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 14:55:11,268-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234454'}], 'vouIdList': None, 'batchId': '5fa0ee3c7a8940a4ae95218804e998bf'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:55:11,281-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '5fa0ee3c7a8940a4ae95218804e998bf', 'batchOperateType': 'PASS'})
2021-02-23 14:55:16,316-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:55:16,324-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:55:16,325-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "55820246066656"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "qDdF3V84XBMgu2PWUnNIrs0fHYAeyLbj"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:55:16,422-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e0804b07395c4514afddbd92617919a3"
s_p: "bG12V3lFNGtneEhHNUR4R1dIYks0U1NDSHp5RVRFZzFnclJGSVJkbDlRSHd2dlpBY2JaU0o2UDkzUG9NQkRyblI2SFAwY29PQ2FHMjlDOEZLUDMyTDlFRW1IaEp0ZmlMMWZ3a2kzcklYeVo5SlZ5RVZVRUVlOXRURGE4NXhYTkU4M0VJbDhqWTVMbkZtNTljbVlseTlLaFIwaUgwa0RPQ3JQUW5UZG5pM2c1WUFkVEFTZlA4dG5KbDZFaFdiTFptdnRHY1NGVG54Sm9wMTEyMU9EUUpjQ1ZHMDVNYktuU0RHSWp4b2N3eUtEVk1vYmpEbllNUFFhOFNrbmdXSlpQOGs1VDAzeVVlenJXaUtHRlpnOGtpV0JtMFpXSzNkZ2FrVXduM0JjQ3lPVEdXeGUwRDcwdUs0VEVTelBLazZUOTNiR2lvcDI2OWpNYmdUY3BQRngwRE5JRzJHQzRuNFc0b2I0eEpaaEJIbDA2OFpjanhCSlpxWUF4ODJvMWlJemszNkVmWHZabkpGV0h4em1vdkh0VDdrQ2RyZjFjSWY2alU3dlJlNWE4eTFhYlh6NTl1bHpYMDQ4Y05EN3p6cEZHdmJTMkNrZnFZc3cyUXhEZUlNcUNkWjl5S3B6N0ZJVmtteDRRTkplOWZCdVFZTm9IQTNWRkdDcHRiNkdXbTFzbGdwNVFWVWZuNmNUTWZUc0lyeGNpa3VzWlhwT3pxR3RpcGpOcTMyRzZKeFkyMVRobXg4Z1ZuWTFnODhJMWJITWFJRTJabDNSY0pUSUlNZElWYmtJUmVXVzZtemw3a3B6bkNGbGs1NTlEdDVIZk5USTY1cXBCS1pWM3g0ampyRlAzZzFrYmZ2RnYzM1FjT1RETFRkU3BxQ1dCT1lUT1kzMldseUx4VmpxQUFuY1ByaHpLU2hiNWhRRzNXRUl4VnpBd1h1bmtFYThGdzZoNG5RRWNIMlk4OVRmdlZiTlJnT1ZpaGt4NDRQbmNQNWpTSkFFTEFEbWRGNXhxTlJweUFxWnRvQmtxSFNsMnkweGxQbE9tdVRXM25lOXVWd3VDWHk3ekk="
m_p: "qcd68Ly5Kec6NpCY8k2dY5mcZ0CLC4F72dG153c79IA4X3n6Z2MHnjkw38G1FRA1"
e_t: "1614171318882"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 9
}
userinfo {
  username: "156******06"
}

2021-02-23 14:55:16,444-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:55:16,444-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "e0804b07395c4514afddbd92617919a3"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "0coOCaG2"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "1.99"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "SQUcGmzg4aYHZhBtfiCDdMN1kxEJ08Vb"
}
sign: "YxGuTp1ZTgO9BjEr75aZ7VQVWNKvcTj0QjkadT8i7+U0SMDxailxTb2VHlCDVHh2wslb4pBu1iMY2SN5Ha/n+42T4OwwCfJ9SJKxwntOxbnpd5PIvt29PoKiPd8bIlChfhY+VxkBWRsNIeeNyIC7X2rLcQJq/+B+iEhRsqu9maUDH3d9u2FCCEZx1YVV50dntXzu+ZGU4ENyTw6T/Gx+JK1bhKHtCoUXLda+Y6TqClXFVc0mPRD1JiTGTQRMpE6JM0R0N8Pa3Dpd0GEUHxUHKiVOf8XCyCvDTG2/Gu0wtp6KLJzgGtiqhZ/kJ8PwVbc3p9OV8odcK6FyPloovqUleQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "e0804b07395c4514afddbd92617919a3"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "0coOCaG2"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 309
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "SQUcGmzg4aYHZhBtfiCDdMN1kxEJ08Vb"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "DFxTorI5Xa81b4b2n4TLHeLaotkkGV1nZBoQb1XPhIdxkowRioJpgC1OjVbbJM6VQZWnr4kT8mhLbIbGo/TZLLw4dg0SjoVt/ZfTUpE1atWtJGuQ0qhpdY0seICXKf9FqaMWmEr90QUvTpCGvrT6iF5YHS6VEBfigYu7+iE4kAs="
  appKey: "1234"
  voucherId: 64234454
  voucherType: 2
  voucherCount: 27
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 14:55:16,853-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"dd481bea23a04199912c0a32ddc952d9\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx23145519282852ce2264d4fe74e4260000\",\"sign\":\"7FBAD3CC7D8DAFEAAE315DA618F6CD6C\",\"timestamp\":\"1614063319\"}"
}
payrequestid: "KB202102231455192076075925233132"
model: ""

2021-02-23 14:55:16,853-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4204214511218176553682107370]]></transaction_id>
<nonce_str><![CDATA[efOlps9EUat5H7xoJ0GYR1CT38k4SLmg]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[51091025C88402D1E0FEF4A5BF32EB4E]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231455192076075925233132]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>199</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223145516]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 14:55:16,943-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 14:55:16,943-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 14:55:16,951-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:55:16,951-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "18666893763058"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "eYvM7OwUNqs9p8DEcLBgjnTKCturaFbz"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:55:17,019-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "944c8f49046843d481582d5d1f363dc4"
s_p: "SkluYk9mdTdEZHd2TFFGWE5uejBnM1FtWTRvZnQzS3JpZXJRS3ZXTFZVTVlOVDEwUFoyakFtczZZaUhJOE9qeDA0UU1vdTAxcUNTalVBYkVxUDBSVTkwVU90V1ZLaXpYQW5Fb0hKendlZ2hIRjJNaTNUbmkzNFo3amlEQVk0am1od3lxa24wTUhKamk3UVhFSTBjdGdFcW9nTXNuTm1vSU9jYXlmTUo4ZnJ1SHc2MGNSVnRuV3J1ejM0QkRwTnVJMDZRMzBwejN1eUszWXYyNTJGbFllMHFhTGhlSktwSEZmb1lDRlREZmFkSFJIUFFXMW45SkY3NDFENnJGc0dlM0pIc2R4c2JBbm1RczcybWxPd09nR3V2b3RVM3R3SzdCSDl2NjlyUGw0d0hwQm03dERIY3ZUZXNMaUNhSTlFakZtQmhLcWdFcm9vNm9hampOa0pIMXF4U3RyTGlMb1UzQkYzM2ZRcVEwNTZuVFdwTHR5ZlBXVzI4dXVDeG9oWmg2Wm15bFgzODJHQm9INldISlhQVVhXRXNUR2M5Wm0zZ0ZDWGRYWm1QY1Z0VjMzeWxBWmZZVG1KVmx5SjFRUE9OMVRUWnltQnlOSlR4eE1IYVQ1TVJzSmZTcXpLM0FjcmR3QjNhUUhnQllGYzJ6TFo4RXU4MndJR0tYNkJQcXFJcFNFQ2hiSm45UkdsaVRLbUNJT3k5bk1jYWNCTHplQWNjQzZ4dUR3YU9lRWh5cTVnNnVZVFMwSkxMWFlxaDIyRGx6QWwxekMxaTBVVHZkanpTZ052VlZiNzl3YVhiMGlyV0VXN0JPenduMEowZlNNdmhHYTNZMUcwdkZZR3FGMmNPdHNJeHV2MUlaVDZ4SFFmVmwxdFFkYmNzdVRuSzQ0QkEyUzVGb044bEhQUU5GY0h4WWh5VFlTQ3YyeWRUVHAycXN1R2syUk9LNGtvMWVvU1RCaFA3QnBsSjhWdkt3aFVwTVVxNjhwaElMekg0b0duZ2xOMTBCelg2TjB5NjBldVpJQXJvUmVNU0NBakE3bnFMN0NOT0FnalpMRUpqa2Jnd3k="
m_p: "99OF9665Y56IthXxbx6rOpMd23s6E98kuCqx9GXupg0qpND2m8n18NLRLE080k7g"
e_t: "1614171319492"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 9
}
userinfo {
  username: "156******06"
}

2021-02-23 14:55:17,020-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:55:17,020-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "944c8f49046843d481582d5d1f363dc4"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ctgEqogM"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231455192076075925233132"
version: "260"
queryType: "PAY"

2021-02-23 14:55:17,078-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "1.10"
origAmount: "3.09"

2021-02-23 14:55:17,078-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:55:17,079-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:55:17,082-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 14:55:17,083-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231455192076075925233132"
2021-02-23 14:55:17,087-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 21498, 'pay_req_id': 'KB202102231455192076075925233132', 'notify_id': '4204214511218176553682107370', 'partner_order': 'SQUcGmzg4aYHZhBtfiCDdMN1kxEJ08Vb', 'amount': 199, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '183.238.170.71', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 309, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 14, 55, 19), 'success_time': datetime.datetime(2021, 2, 23, 14, 55, 16), 'modify_time': datetime.datetime(2021, 2, 23, 14, 55, 19), 'trade_type': 'PAY', 'kebi_spent': 83, 'voucher_amount': 27, 'voucher_info': '{"cutAmount":"27","id":"64234454","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'combine_order': 'N', 'voucher_id': '64234454', 'factor': ''}
2021-02-23 14:55:17,087-INFO-lib.common_biz.fiz_assert-36-订单表信息记录异常
2021-02-23 14:57:41,436-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 14:57:41,720-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 14:57:41,762-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 14:57:41,762-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 14:57:42,163-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 14:57:42,167-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 14:57:42,168-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 14:57:42,171-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 14:57:42,171-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:57:42,172-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:57:42,175-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 14:57:42,190-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614063462187', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.81', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 14:57:42,214-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234455'}], 'vouIdList': None, 'batchId': 'd08a307260ae44968590bb6f25d4ce02'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:57:42,227-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'd08a307260ae44968590bb6f25d4ce02', 'batchOperateType': 'PASS'})
2021-02-23 14:57:47,265-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 14:57:47,273-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:57:47,273-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "92289386506975"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "mGEWstqALgulNRrvyj8QpXBJ71cd2oCV"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:57:47,375-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "52d7667ec9cd4d39b71a44ad05c55c7a"
s_p: "VTA2bXhFRTFLaFY0ZTlXNG05QWozbkFxMmN3V2xIN1pCV3U5cllHUlY5d0VwUEQzWlF3aWNyb1FVQzd4bmFCdmpTS3lzY004MjVuM3I2VnNGSDJMNXpPRGJQaURUZ3RWMGZISVFPcWczQXJBSms2b1lybTNXUlF2RmpSRzFxMjE4NTBwQ0d0bEtUallVVUZFdDRxRG9temV3TGdqSWZsdlNRN3N4UDNWNm93SlBDUnJVdWh4V3FSUlk4bjdVSEpkZXRPR0VUT3BWeWNLWHFnYm1RdzAzTkRTV1NoV1hLcll4MzhkdkM5YktDUnVNUUl2N1E1NHc3elZCVUwzQ2dnTUxZT01sU3l0akptcFJ5dUtRUXJxb2sxZDN5MmZROTFMclR1S3cxWEVtZU40NFZHc1RHUmhpcWVJUHg4M1VDN28xUGFqN05vODBZM0dhREJxa25kOGpYN2d6QmxsZEw1cjlkdDBNMUJ1NVpOMHpWUlBidFIyVzRhU0R3bjRCbzBkbmE2dUd6R2dPZXZFQ202QTN2V3A2ak51T3pUNmk5MkF2SGhUTEYwa1F1SzUyOXRkZFVIcVVJNVNNYzJ1ckd6a0ZVamUzczlqZEFtVFFJWUdKUkNjdzVNdFNxYlBTYzI1WHNUZ2ZsUFc4eGtycDM2S0Y2ajFJOEZaQ3hkSDluWE5ITVZOQ1U3Vm1kOG1TbldwUWlUMVRTb1N1Yk15bjltRGxEVjZIa0Z3bEpaVTZiYlBCZkpsam5uU3FQUUc2NjZDNXlHSUpMVEhwQm1sc2NrZUc3cTVUM3BoQVp6ZHpXZHFUbFZPTEJ6MmFuSnZCZklxcWJRREFDcGlZZXdSRTRaY21KMkRrQ2Q3ZTVyTU80TDl3eVZKVVRuUTBxRWFmT3BoY1ZNZjhMTlNpcndBbXVyYjR5Z1ZrTTUxZ0U2dWptYzA4azBVVG9qMDd1YXhEVmtqVGNtWHNlTUJiMzhYb2s1Rk1qc25DcExObjRHRFN6Mll2WlFockVtOHpUTU5Rb1RnTlhNWERvUFFYNm5rZjEzQjk0Z3RhWlh0dDdxd21nQ3Q="
m_p: "X48Q6r2sGA4pku3K4256Ee20Z561zgANl2SYjxs7vvJBsnDwBKRMk35oR80AfIN1"
e_t: "1614171469834"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 10
}
userinfo {
  username: "156******06"
}

2021-02-23 14:57:47,397-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:57:47,398-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "52d7667ec9cd4d39b71a44ad05c55c7a"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "t4qDomze"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "3.68"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "YwUsh7JykM4LFunT1DWbjv0lG2CNdfZX"
}
sign: "CqYi0n+RMwL4/mA3BdQytbTYS7gh96uexKH8RVbr2fSwiN4CBZWXKBYIRGl9wZmG37D7yKsAKd+H4WCB+sh/xkYxmdSuzhpgImqVI9Lcs79LzYDC0ixlNZb7VM/bxdfGkB/LC0ZQNZg6U8OT9hWChaGEKIUP4u7mdZLoy11cmkWK6BX+pLdJ6U0+5bycZl3c+FEKKf7B8q//+ASMLYuy/95ZLMfHMUnC6aW07bPhrX/hgjk/RXIdoTCEFcwt2NNPtS62fGrhVNO4VQINU+RzPn39jwzkFuyfVyuxpMTrNVPWyOgvJMu4XXfQBti2atvOAKfR0/8de0wuDyLsSQPK7g=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "52d7667ec9cd4d39b71a44ad05c55c7a"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "t4qDomze"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 534
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "YwUsh7JykM4LFunT1DWbjv0lG2CNdfZX"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "OuO4SrfddA6QA6+j3g9bZPeC0qjRRU12s1sDO+cCvn/gODgfebKEJyqWBGBsKQ4Hj2S7FagCkaxrj6d7U68tdPrinEA/444y3UBPX8cmY4J9u40fbP/cDEAJIqO2yw1iVk4aKLBuOUqPNVxAGoZ7jg5dLIKeP2ztmKitBBT4PU8="
  appKey: "1234"
  voucherId: 64234455
  voucherType: 2
  voucherCount: 81
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 14:57:47,850-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"c047555c86074c54b4f43b3cbda4b864\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx23145750274750fe296df86a3c299f0000\",\"sign\":\"464391EA735E64B37AEC81B3670C7B8A\",\"timestamp\":\"1614063470\"}"
}
payrequestid: "KB202102231457492076075925131612"
model: ""

2021-02-23 14:57:47,851-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[3420114071426420923027537916]]></transaction_id>
<nonce_str><![CDATA[1ozxewEnqf7RHI2thvsSMCJGYUaT98B6]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[08DD3C31E6DB18430121A960E739FE15]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231457492076075925131612]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>368</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223145747]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 14:57:47,961-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 14:57:47,962-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 14:57:47,969-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:57:47,969-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "77367484377130"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "7IBMAEPmo6dnOWevp2TQwibKJfLuZxqG"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 14:57:48,043-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2954befb70e54ff8981289c664a4e2cd"
s_p: "VHhQRE9uQ2dmYUJUbzNTMTRjSG5oTk9mQ1hGbWwzMHloMmNWUXJhYmp2VXNuN09ZMEdTekpwREM4Rktaem8ybnBDcnlzaUFQV3J5WjNYSHRzQVN0UjRacFhRT3ozdlV4SDhKMm9hREd1S05aRW5SM2JzQkJWYzZLaktmamxHeWJYSHQ4ZjNQdkZkaWd6TEx2SWRLakR5Y0I4QUZrSGM4MGNNRm5JbDNEdlROR0RkcFhhUk5lMVkyZW9RcVBaaXg4SUdXekZRUTNHaUZ1WG9TMVZyUU1Pd2tsbHpvTlJ3bDlEOEtDdFVCOHU2S2ZabGhjRUV6cGI2ZlNnQlN0QUp0VG81WTBKWlRSMTZSWjVhR1BpRWhKSkR6T2lmV1JpUWhxY0JVWXdoOTNWd3ZrTEFXVTl5Z3RlSmJFeUVFNlI5ZWVnMkJidVB1Qk93eVowbGJGMGNWbWtOWWFiblkwYzViNEF4czN6dXluR2pFSFlvVzVvbnNFVk5jR2Jac2g3WTg5MXF0RWhNSEdmOThTVnJ4SlhDYlNaaGdCQ1hJYUo4QWJVV3diRGNoOXA3bFlteFc5TWtyV3RpVHdZZXRzaUVtR3ZqYThLRDkybE5wS0JvcWMwZzV5U2NPSVQ3ejVHWTdYcElSUDloZmQ0Q0I2dTIzUGJJSDU1TU1OR2pzOWlQbXZISnIxRWx5emtjZEFmdmJlZ1NpRk82MmhFSkV4eVhSNVlIV3BReFhEMGtHSDF4cDJXUkhSNWpkWFp3UEpPdVJmYXhZcm14eGU0WHkzZFVBM1BSR2NtUExjQXFBaE9VQ3RkQTlieUROZU5LSTBvTXk3NGFlRzJhems3d2RZU0RLRUFGZWFhUm9KSU8xOGszRnF5ZjNkbU9lRHRVS1BqOEpsemxseGtmQzZJTUpCc2gzSVJ3aXRubkFBaEpob29aeG15dkU2aWZ3dVBiNkxsSVJqbXExNTNqVXl5RndKMjkxZVBPeHpYRkZabWNKN0hoNDZ5WGFyUzg4MkxkeXQyYVB4REpXUEtyTEZ5SWF2czZvTW9OaW15YVdjWXVWMGpVU0Y="
m_p: "CTTV8a46G8DLENZIJtOXx26Q1MF7hXD1aNK3yN6g9EG06e4X8lHwrAi5Nu1PAd55"
e_t: "1614171470515"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 10
}
userinfo {
  username: "156******06"
}

2021-02-23 14:57:48,043-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 14:57:48,043-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "2954befb70e54ff8981289c664a4e2cd"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "3vUxH8J2"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231457492076075925131612"
version: "260"
queryType: "PAY"

2021-02-23 14:57:48,105-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "1.66"
origAmount: "5.34"

2021-02-23 14:57:48,105-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 14:57:48,106-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 14:57:48,109-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 14:57:48,110-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231457492076075925131612"
2021-02-23 14:57:48,114-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 21499, 'pay_req_id': 'KB202102231457492076075925131612', 'notify_id': '3420114071426420923027537916', 'partner_order': 'YwUsh7JykM4LFunT1DWbjv0lG2CNdfZX', 'amount': 368, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '183.238.170.71', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 534, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 14, 57, 50), 'success_time': datetime.datetime(2021, 2, 23, 14, 57, 47), 'modify_time': datetime.datetime(2021, 2, 23, 14, 57, 50), 'trade_type': 'PAY', 'kebi_spent': 85, 'voucher_amount': 81, 'voucher_info': '{"cutAmount":"81","id":"64234455","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'combine_order': 'N', 'voucher_id': '64234455', 'factor': ''}
2021-02-23 14:57:48,114-INFO-lib.common_biz.fiz_assert-36-订单表信息记录异常
2021-02-23 15:00:05,702-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 15:00:06,211-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 15:00:06,252-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 15:00:06,252-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 15:00:06,624-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 15:00:06,628-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 15:00:06,629-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 15:00:06,632-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 15:00:06,632-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 15:00:06,633-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 15:00:06,636-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 15:00:06,651-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614063606647', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.1', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 15:00:06,672-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234456'}], 'vouIdList': None, 'batchId': 'ae27603d82c7422faf7fd171c3e23c35'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:00:06,687-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'ae27603d82c7422faf7fd171c3e23c35', 'batchOperateType': 'PASS'})
2021-02-23 15:00:11,715-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:00:11,724-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:00:11,724-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "37563615387349"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "QdkI82Ff43mjtvcaOJgVpWe0KXbLhzEu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 15:00:11,839-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "efbc9786fdaa4dafabaee23996c42505"
s_p: "STdqQ0VXVkpaVGtVTEE2dUFrUG82ejhmQ1RQc0QzWHdxYk02YmR6MTZWYjV0MzNuUkJoMjVzYU84eXZoQkFKeW9Qa1VmTHlhcFdTaTlsUUdQa1QyTk9MUGdNQUZWQ2tZcHduUGNjYXhUZE1yUTJUNkVJc1hmWWg1TDViUm5JWXdBVDVmZlYyMkEwRHAzYVZWWFl6amxiTERMUW1ZVk1zeXNTTkFkZUI0dHh4VXVvUmFhNFRNcnkyTno0NWE5VTNoQ0s0bWljZENaU1pZM1FYd3VaRjBkR2VXTFJYUmxuSlBoNTRMRWZZNGdUcm1rQnJsNXZ6d1Z0RVJjejZaOUhxYzZsUmNsQTVYa2V6dWlXWVUwUWJxdlVnV2FaS2tTRjJaZ0NiWEZPMVVhN3NzbUxUR2JEeFdOa2IwdUxkUWl4SDdHWkhrdFA4cGtoYnVrcGt6OUlYN3plWU1aOW5Qb2ViN3E2OG1XT2xuR1VBd1JvNW05cHkzVXA3cXNWcXFtclh2aFRDOEdzT1pKazk3MTRiZ0NzU2s2Q2Qzd3J0VHoyUEt4aTE4S3FhaDE4a0kwMGZyMUZLMzJBV1d5a2kzUHFZcDl0ekRsRGlFUklNWFo1TkV4WVVla2pnckxPTnVHTUZJSGRsb2xuNHZ6bWNzUXZlNHpmc25wZ2lsZ1F5Z01GbWNPYTBjeFBwTVlZNlhLQ3YxZUo1UEhtOUJhN3U3Qm9BY09BQTN6cGZpUU1PZXRzSVMzNG40MVJLTlNxZzUxRDQxdXh1WkpWMGdra1owVDB6YTFLSE91dXZtbG1LTWFWczdRbmdpeDBORDU0U2w4RGp4bEY4Zlc2T0J0MUIyd3NXVXZ1UVVQRmx0OGhqYkNSSFNueTNPVXNJYnQ4QnFOeVBCS0lKU1NpcTVPTkFmNThOSTZSUGI5WDR4bHowSmZGMk5rSWhSZWUxQTJDQlR1QW9qY3UzVXBnN053dVp0NFY1VDA4VDU2bWRHN1lsU3BnNWVlTFpjNkd2THF5MkVTOXNncEVPMkIxR2dDenpBaGhHS0VzcmY3UEE2NEg4MTVIS3E="
m_p: "yY4U4CKg15jM84na163BnrS6HMd03ddl996d9Tl6uE833DPhA1Dgi62k12II5BIh"
e_t: "1614171614281"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 11
}
userinfo {
  username: "156******06"
}

2021-02-23 15:00:11,864-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:00:11,864-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "efbc9786fdaa4dafabaee23996c42505"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Si9lQGPk"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "6.94"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "dR5C3Ng2phOByI6i4wSPTGZf8vtoK7zm"
}
sign: "KRCE+9PUbQvpstcG6ebmvxU3qD4mPJ8rXOS5SMyn+FxDgAtarbsx8y/mzSLfRRMr1Wl0APCK3HWAcZUfdJTYPcfM5650vdo4APlAWj0bNEiEsjBKvU5CGwhv1NgvPE4VwEEULa3yRbJXL/V2aN6PVCRds+2oNPkkDExC8aAFaKAtIGUWRVHwa6s0m95A0aCb3q2q3DsxayliXwYijk1qewFDZG1SqwsYYQyxa1c/IpTs5oqWRme8FpR0q3Ah3f6e2EeP8NTso0/tG3QOzgse5l+KRkU+eFHHTwGvFwJQFCrlQ59aK7EK+Lz2x36h4H8/VzWn1DtzUm83M9TW6vU1/A=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "efbc9786fdaa4dafabaee23996c42505"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "Si9lQGPk"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 749
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "dR5C3Ng2phOByI6i4wSPTGZf8vtoK7zm"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "VGYulnTSRrepIoOj2bZkNrJDRLY6V6P84YGIlERAMKzyqcd8Ma8oawEswW84Ea4ZzMqR9RPSyYX5EcAmGVD1x65KQE5KOnLPVZSluH2otNC1CgtwQZC4ebpuc4ktDAh6dN3Os4xk4RGclm9ETcin+vvODC3LiKuOvD9B6ia5AYQ="
  appKey: "1234"
  voucherId: 64234456
  voucherType: 2
  voucherCount: 10
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 15:00:12,280-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"42accbfb92234a85a195b3e3a8416f45\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx23150014705791cea3530a955f4e210000\",\"sign\":\"0781F180298C7B7AD8C01C3F737725EE\",\"timestamp\":\"1614063614\"}"
}
payrequestid: "KB202102231500142076075925052682"
model: ""

2021-02-23 15:00:12,281-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[0301337800921929158766137145]]></transaction_id>
<nonce_str><![CDATA[GzTQwK7bs1OdmBkvY9aEeLA0Srn56ugH]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[97434DB7421FFEC75E6668BF68F785E2]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231500142076075925052682]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>694</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223150012]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 15:00:12,400-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 15:00:12,400-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 15:00:12,410-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:00:12,410-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "99438001800053"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Z7N40lE8fWAtmTgXweDHvosLQFUJyYc9"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 15:00:12,483-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4eea31d29b694ae8a5d0fe93662033ec"
s_p: "ajkwR1JNRDRKN0ZaNk1Tb1BiR0lzVnE4U1U3NmJxVU5BbjBlNWtPUkFjS0w4a2dUUEU5NHhDNnBQbExJdFBPOVB2OFZNdDg2U2R3UVRxa0JFZldFMDZwVXJCVWlWemJKVW5rRlJKaWJNU3gxZjhycXZxVUZpTmVsbXR0VWtWYzdmTnN1TE13U0lRbXR4cnNBQmlHTlo1TG1IenVvYnJxUHVGRHlpakdnY3RnaVd4UXhRaWhDTERxNEJEakRPN0x1Q1ZQdFRneTc4SWE2VmhYM3NrUTFsZ3pEUDFVTWdrTzNDTGV4cDlVVllrdk5tbWEyUG1ZN0I1S0VoVjhCUVpnUUlObjVTcmZzNWhEQ003ZEs2ZDhwUmVJdjFaTXFzSlBENkQ1SVR2UjN1eDc4RXJnWXdZbTNSWUpjQnJFZnBhM0g4NzBNMWM4dmpXbUNxajMyYXhuTm9iWnljRnd5Z1pMWjhwSUo3aGdpTXVqaUZhY2FnTDJPeHcwTHZCNWRkSm1USG9ZRGRxdkpkSm5nNmRnWG1OUlhmSmZjRjFCOTNQd3BtTW9xZ1J1QzhCeVNIbFJpMlY1bVN2MEtXNVU5N3JlMzZjdUtiM2ZoczlMVXQ2UmRKSVNuUFRXZHNIVzdKSjJHMWVCZ1drNnQxODZ5RmhzZVZFMnhuNGlwUFBpUG1JaHZOUjNuZ2N6UGE4SEJqb2dFQVVJM3NwSmlwOFNhTlZUV3NSVEZ3dzJQaENvU3E2dXJWVUR2dGhJSE5jZnJtNWZuWmd4TzJLZ2pTQ0xUdjlXUmFMRFF4M3Y1MjY2eEk3aTNYY3daRFBNUXI5OWt1czRQNXRwQmVLVmFJRXM2dVQyUWJGWFB3TzRrQ05jYWdPODRhb3N3MUp5ZzE5MHNxYlhZenZNMUpVVnZ2ZmRzRWthT0s0SmtqdXV1SHI2S3AyMEtGbWFkdExlVzRsUlBENlhuS2gxVFZhMzJLRzVsNmxKbno2Q0pkTlRBSXoycmw0am85VGJGbjVFUWpBNDdtdHJ0dFhURVVEeFg0ZFpZZGxKVkJDOWlua0pKNjBZR2VlVE8="
m_p: "a96rSLcvM05KeCIk6Uw9bI1b07U48652J842KTzQ657t2h853NqO5Ze3Od4Q5P2n"
e_t: "1614171614953"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 11
}
userinfo {
  username: "156******06"
}

2021-02-23 15:00:12,484-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:00:12,484-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "4eea31d29b694ae8a5d0fe93662033ec"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "VzbJUnkF"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231500142076075925052682"
version: "260"
queryType: "PAY"

2021-02-23 15:00:12,559-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0.55"
origAmount: "7.49"

2021-02-23 15:00:12,559-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 15:00:12,560-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 15:00:12,563-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 15:00:12,564-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231500142076075925052682"
2021-02-23 15:00:12,568-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 21500, 'pay_req_id': 'KB202102231500142076075925052682', 'notify_id': '0301337800921929158766137145', 'partner_order': 'dR5C3Ng2phOByI6i4wSPTGZf8vtoK7zm', 'amount': 694, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '183.238.170.71', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 749, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 15, 0, 14), 'success_time': datetime.datetime(2021, 2, 23, 15, 0, 12), 'modify_time': datetime.datetime(2021, 2, 23, 15, 0, 15), 'trade_type': 'PAY', 'kebi_spent': 45, 'voucher_amount': 10, 'voucher_info': '{"cutAmount":"10","id":"64234456","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'combine_order': 'N', 'voucher_id': '64234456', 'factor': ''}
2021-02-23 15:00:12,568-INFO-lib.common_biz.fiz_assert-36-订单表信息记录异常
2021-02-23 15:01:56,833-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 15:01:57,106-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 15:01:57,164-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 15:01:57,164-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 15:01:57,531-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 15:01:57,535-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 15:01:57,536-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 15:01:57,539-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 15:01:57,540-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 15:01:57,540-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 15:01:57,544-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 15:01:57,558-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614063717555', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.63', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 15:01:57,575-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234457'}], 'vouIdList': None, 'batchId': '1273cef7eef64f07b8442770ea7fa797'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:01:57,588-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '1273cef7eef64f07b8442770ea7fa797', 'batchOperateType': 'PASS'})
2021-02-23 15:02:02,631-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:02:02,640-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:02:02,640-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "65120363459773"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "UiFLbpJ4nqMmGZv3ls51oNBx7Keg8CIc"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 15:02:02,739-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "80b5fe116f434930b7accfd1dba7af3a"
s_p: "cE85azVxSzJPeFc3MlNoejRSc0xHMTUwbHYzMjVlNk5IeTRZb3pLSjV5WnZKQ24wS3ViMXV0UTBNc2dITHhzeVhQTDE2ZWF4aFMxT1BXckNrbjV4SXlFVWpVb2hrSjBjNUM5R1p6c2JZTE40TzVCUFNsYVRGajN2QzFvTzBTdEJqV2hxOG5NOVVENE5OdVpLVER0em03UkxFRndpd1VXNjZRQ2R6Y3pIaTZsTHQ0WGQ3dWQ2RlZ4MHBOY2twRzJJNnpvanhiSGFlTEtxaUV2eXVCb3JpWVRUcFQyNW1FTUZOdlVCRHFqNG1xUVZZSG9QMWlaZ0dTQmc5NGh4TzRNakFBSk51NXVsZWtraWk0aUtpdllJWUVWc1lxdjJCZkJtWVdJWWRCR2VSdGVNdzlsYUI4WFZOdzFzZE1CNHRLM3Rld2FudTNESWtjejJJMWw4Qlh2aWVQSFVuSWNwNXlDbFVGRklDQXlkZUhIbUlVVUZLaDNlcGZQdzFkN3JBYWZTVko2NlZQalJwUDRpa1JvWnFpRnpsZlNBd3NxWE5CVU1MSm1UMm5hbHQ1REhSdU1sdHBuVkk1dVZpMXdUWm13S0xUY3MwQm5aa2xObVhTa0VENDdsaDBWRTdLTVNla0tESHBIVVBYeUM3blNrTzJnckJ1dU9KR3dKOHJmbmlFamgzVGJOWTNCR3JMNHREWjB2azEzazJZZWN0d01TNnlZb3M2cHRxY3hGeHo3WEhBeW5JenlVY2ZYV0xKQ0tZWFI2dUVjSnduNEF0Qm9QaThMVzc2bkp2RWVCQWNPSWFoUHlmd0xTcWJNZ25yQXdwbWQ1aFk5djkwbE5nNHd1NjE2NUZJMWduTzdGRktWQXZCMko4SkkydE01alFvYkluZEt6VllLZUlYYjNoQjFqTGNVczFWV1ZtSllNQW82aFc2em1IcVBtbjk5bjhrNG5CUW5MVHc0bEZjQnVzYnZNaXJKOWQ5ZGxqVnR4MkdSeXJ3eDBEYVMwaUdicllLRmhaVjFIa1YzVXRTVm92ZDlDWmhmTkg2cHh1RFdzdXBzdUl1SHc="
m_p: "s5S3vnk1j8G0og24g85fiVtN945Uo04VgaaMhxqF2yWxM0o66XpWG15b06nosLd5"
e_t: "1614171725195"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-23 15:02:02,761-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:02:02,761-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "80b5fe116f434930b7accfd1dba7af3a"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "EUjUohkJ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.61"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "VrOiuNEXcvbI1lSB3TRe4Fa2nxf9k6dW"
}
sign: "uC8yNaT06BkC7hIac2hyBsimCHSCb/mqOAI4XsFa5FyI+33MFWZPXUkYiKvF7bnctw5xDiOWidTApYNqHIQF3yWZF8irFnfNSae+YzIFlqfCJARNueNGDRlTBrkSMjI0iR5yl7Az2PiwWuTN/jU3ZBou0SWchNh1OzbQ84ru8JWHCpsgivAfRLLgtO7Om/EIW1InT9rqDZLOu8NehCGGMUjUmUdZtP0/Zwd6emm17JfNEaI8rU86/gmSfJn2VceAlcZXvqmD3PBJBAUe2/VldWuLT6uTs4OKbRSbJL29UlQTlemMLfHE2UpXidY3aV+kAc0A/blcDf3FY2NQMzCBBQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "80b5fe116f434930b7accfd1dba7af3a"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "EUjUohkJ"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 667
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "VrOiuNEXcvbI1lSB3TRe4Fa2nxf9k6dW"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "MsqVZDhycoovl0BfT2PQIaywQdGlkjqWzgmWIuZPAjYUhdQ3RBBljtSExZlW/6QnZotmoHE/c2N1liUfGCHNdhZkzF9AxbUlEXYPTkomT/AMCLnKS483yI7mJNyFOZKGKo94Ucj8NboEWYiDxOWKoDJcq1/NNwPmR5Q7+Fvfz4Y="
  appKey: "1234"
  voucherId: 64234457
  voucherType: 2
  voucherCount: 63
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 15:02:03,192-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"14051e751451404994017c496335e1b5\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx23150205608731d6ba8c17c0acd53b0000\",\"sign\":\"085B493F093512C1F8FBB5A4FA3C3131\",\"timestamp\":\"1614063725\"}"
}
payrequestid: "KB202102231502052076075925033242"
model: ""

2021-02-23 15:02:03,193-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7762919101839742612973526132]]></transaction_id>
<nonce_str><![CDATA[OgRFzCIQNJ7PK2B4GoZVh3jry9v0T1Ll]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[0FD28E020A76A430A912113F91F90213]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231502052076075925033242]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>561</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223150203]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 15:02:03,288-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 15:02:03,289-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 15:02:03,296-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:02:03,296-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "96617630708408"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "PBINm7TYlv6UzGVkDdJ42s1ZfCwnQLaK"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 15:02:03,370-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a218e5d92e654a7b92e58024f4888e38"
s_p: "YzhTQlRpRTdBaFllVUFrM1Q4cUFHdFU5Y1ZOb1ljYkVIZGVFeksxM3FaWDBudWEzbjdMYVhoVVkyOU1iOGlZQmhmVlVINzhwaVV2RWRRRVdTemJBaHh4YkRCeEtNQmZZTEQ4N1RBQTVqRWNnSFNpUGZQcnU3aDlLcWUwMzcycEFkYkc4SnBmbmNsNTBQTE5ESWtoQzQ5UUNxTVdVUWNDTk41YzRVT2h3TWtFTUU0bWZocUZGUzZmbVI5REp2MWZPcmEzREpmTzBGUDl5cDFndzhGRWo0ckx0TWsxNjVKcExwOVAxdXVQUjZWNkNrTnBqYnprUk5lSGQ4THZ0RngwdkcwdUNsaFBrREJXT0NiNXFKbHpwYzdWN2Y2M2U2bVBaaXBleFpOeFlLaWRzQXB2aWVDUnRnRXFWVEZYekhXbHdocFJKNHh4U0JqTG5odlI3YUdONzFOQjZyMWNQNnhydlhXU1YyN1d2QVhyeXVDOWZYUnBEY2tTNHd2NHYwMTA2cUlpc1h4THY4OE4xR1RkNzhFUkhpUXlLb0R6M2NFNGVIMFlFSWZFWmI2cDNHcUhOSEZzMDA3WTNtRWc2aG9qTFNEQzViSmFkWkIwMWVOcEQ1b09vajRFb3NRdm9NSUdVWDN5eFBYb3lDUm9uanhqeVgyN0dFTUxtalptamZHQUNRc1FKNzY4endpYllpM2JUQU9RRU5mU3N2S1o2ZGhveUwzdk55Q3RGaVNjNE1SRmhCdUxNNWlUTkRTeE5vbTNJOW1TQ3EyTTA0a0ZucTYxekV3d3BYZVI2Z1J1bk1QaFZETjJHZ25nemdZZUptZHp5czV1ejJwQm1HSEs4NTVVTUYwQlNLcDFKV2tLV0Y2ckRGMjNSRE40NFZIU2NUMUxxbU5sMEVmZjV1aEpnaXA3RzlEaHdHdDAxaWZrMVJ2RDZMdWM0YzJldWRwSlZlYnZpMGFZZzBHWERUbEc5cnhKN3Nib2M2SU5KRm9ucFlGS045bTloNHVqVG5BVlcyUXdOd2lFeXJkVVluTWJLaUQ0aUVKVDdmeEhSNnJGTUgxRzI="
m_p: "FiKyxjBf5F2R6zd4d9TVkH7tlZ9fbF0vPhgE3Ze14Pn19ZU3s7T47P8lv5wcUt4M"
e_t: "1614171725842"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-23 15:02:03,371-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:02:03,371-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "a218e5d92e654a7b92e58024f4888e38"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "vEdQEWSz"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231502052076075925033242"
version: "260"
queryType: "PAY"

2021-02-23 15:02:03,421-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "1.06"
origAmount: "6.67"

2021-02-23 15:02:03,421-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 15:02:03,422-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 15:02:03,426-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 15:02:03,427-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231502052076075925033242"
2021-02-23 15:02:03,433-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 21501, 'pay_req_id': 'KB202102231502052076075925033242', 'notify_id': '7762919101839742612973526132', 'partner_order': 'VrOiuNEXcvbI1lSB3TRe4Fa2nxf9k6dW', 'amount': 561, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '183.238.170.71', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 667, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 15, 2, 5), 'success_time': datetime.datetime(2021, 2, 23, 15, 2, 3), 'modify_time': datetime.datetime(2021, 2, 23, 15, 2, 6), 'trade_type': 'PAY', 'kebi_spent': 43, 'voucher_amount': 63, 'voucher_info': '{"cutAmount":"63","id":"64234457","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'combine_order': 'N', 'voucher_id': '64234457', 'factor': ''}
2021-02-23 15:02:03,433-INFO-lib.common_biz.fiz_assert-36-订单表信息记录异常
2021-02-23 15:02:42,690-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 15:02:42,949-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 15:02:42,989-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 15:02:42,990-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 15:02:43,369-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 15:02:43,372-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 15:02:43,373-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 15:02:43,376-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 15:02:43,376-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 15:02:43,377-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 15:02:43,380-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 15:02:43,394-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614063763392', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.55', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 15:02:43,408-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234458'}], 'vouIdList': None, 'batchId': '1b7cb30934dc4f5183d88ac33c968cce'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:02:43,422-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '1b7cb30934dc4f5183d88ac33c968cce', 'batchOperateType': 'PASS'})
2021-02-23 15:02:48,461-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:02:48,471-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:02:48,471-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "73604547885990"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "peqCPucrAUdRmQ6SyBYJiW2bhOHlvKVs"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 15:02:48,572-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f76ab8f3afc1495891b930e9f2dffb70"
s_p: "U2lNbkpwVXpBa2ZIeE5CaUZQdHRObFlYdXh2RE9IYk96N0pWVnhZdWowdFJzdWdTdDFBTnFodnB1aWQ2VDRSaWY1MkJiVUZTZ1N1ZEgyVHZ4RjRiUFFvbkJOcUU0YmJEblE0djJmTmlibjFUbWVBaFpoNW1pWDlBQ0NwRU9oZHh6dnk2eTV1b1hMTks5YmFQUno0UlE0S0hYV2NzT3Y4QnRITHhLSjY4MWhEaDJpYnBFbTRHaEM5SzBnMW5VTXZRNllISkJlc1ZtbEp5NWhxSmF1MFRXWDdqNnc4aTdya3ltTlpzR3hrTVUxQTZZbFhobHNqRkdvU0NkSENqR1pFSGgyVUNCQmF2QXZEMXhGMXh0cUQ3SFRzNERBVjg1ekNxYjNiSzJCVUlOSTYxSjRSbGRKSHZjSE5HajFxMm5EdTJUMVA4R2VtVmg3TW05TXptNTllTmFDUGlIS29ZcmJVcEVhVXR6MW9EWXc3NmpucHlUMHpWOG52a1Q3Y1lzeWF6U1oxQUJST2xIZFM1NjhxWm8yRnRNbjdoOU9VV2FveUtkQTNIYW1acjE0cm1FanprNFMyTHJQMWRrbjNGR2RYRFZSQnAwcG5qaFBDOGtPMjMxeGJzUWE1eVF5VFlQd3hmRUtrd3JVbTgycllieFBZWWU5WDN0QmxWWEVBdTkxZ1NLSG1Pdm5yVHBOTDMxVUlEcG1kVTVwckRlQW5wb0o2eUdFR09DendhSjltcUQ2Z2dJaHdYZjFkUTU4OUREN0NHanozZmlBdTlzNmZxY2xUMThubTV4U2NtMERnYjZZd2taQXVRVHU3ZWdxRjVSUEptM2MwYjJlYm1HMUg2bHZucXdtVXJYb1hZVWFGR0paMXU3dTJTREF4S3g5cjc0MWlQa2R2Q3l0VU9hT0hlVWNlUWl6Q0s2aVc5RlJyZ0g1ZGFaS2tEeVdwUVZEV1hDMW5MSFdDdHluQk1IVW1kb1VvRmFOcFNQZ0FzYlpaVjRxcTgyM1N5c1JVV2pFYnB6cGVFOFhhUFB1TzU2OGhwaG9HbVRDTHdRbEg4UDFFT2NCUjA="
m_p: "5G20uh22xi21M3SQ40jJV7jO91lC5Td08C1bN10562o3n56L5mgSk1ZWyGFS4PT3"
e_t: "1614171771026"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 13
}
userinfo {
  username: "156******06"
}

2021-02-23 15:02:48,595-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:02:48,595-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "f76ab8f3afc1495891b930e9f2dffb70"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "XLNK9baP"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.88"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "Zv2qUSJ4CVhbNf8Rm10Y63cdDElu9yFI"
}
sign: "FnyQjpp5bTKvTxyOyUVtWmHuqaI4bFpifbbhh4AQJTVhPKoeNw1RqZve+wUoigavVNAjd77mWVQsYB7Pkl7u1eF1xS3dtUB7aW0EfIKwh94bXsN+jMUD9mKGWXTRM3T8wqq79CAxCuE1OWepKc0oOxoNpzFisAMonl70MHvFpBdHcGpTHLSKkPheo3b3Mjs06P/RSbaHjzONFTusPf1uVLE/4dU93GC8Q0lRk4r2CO8x14txNRhb3XIDk+2dVydF+kg2F9Lqr5Dpa/OMcO8tXv530ect/abAtSItyMWgts+LAzx2msSy5DmVpcwvEnpyzXbABfCACII0NYyR5rFuIQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "f76ab8f3afc1495891b930e9f2dffb70"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "XLNK9baP"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 169
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "Zv2qUSJ4CVhbNf8Rm10Y63cdDElu9yFI"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "FALSGlIeL/+v0jtfH9kLipzppPVYKOq3htAYPqMsQFVR+f2BGXySWTbS8a/hJg6xyjoLzLlifOYOy2KnubkpZn9kkNwDPNhw//uaejCZcI/w+WPLDeqiyLRb3xjF9BtuW6FG/UpTtHqrE0bV+BO1wwSmfmRcaeAW/+x7d0BXFRQ="
  appKey: "1234"
  voucherId: 64234458
  voucherType: 2
  voucherCount: 55
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 15:02:48,990-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"c3abe8ae7f464479821ea8bc316a6a4b\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx23150251418673f729154db2c6499b0000\",\"sign\":\"139E7603FC1B01DD5F15356CC6AC6C77\",\"timestamp\":\"1614063771\"}"
}
payrequestid: "KB202102231502512076075925603002"
model: ""

2021-02-23 15:02:48,991-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8286529736633996489792304701]]></transaction_id>
<nonce_str><![CDATA[mrXzTelYoyIEbRich7QuJpK6PMvgGBd2]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[FDDEB6D644C9051D599E5E624C4F9D60]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231502512076075925603002]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>88</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223150248]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 15:02:49,081-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 15:02:49,081-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 15:02:49,090-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:02:49,090-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "78936061377716"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "TSmHMNlcdfeQjYgbyLIp8s0xivPBG5za"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 15:02:49,156-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "dbc20b8080744907a4e8ead5723d99c2"
s_p: "czRSOUpvVUI4SXpUMXFkZnhMMDY5NXpSdXczTWxaaFM5UlZ0dHZiZUtZU0lWTmRWOFhtUk0yRXVOTDVDcXpscXVaZGoxWEl1emJKY1lucUlOMGV5UUtETHpHY1FVcnhjbEN2WHY1eWw4WnVzZ3BpRFJza3VWWXBxbEprNTVFeTM0TnFydmN3V3lFSEd3bEJOWVNGWUZCdlFUZVBubGxYdmVTWVhOa2dST3lFT2tzWGRjVVF6MnpvU3czT0FzTFNlNnp5VFJLYWp4NW84cDc2TWxRemJtZENWUW1EMThTTWJJY09zYlBUbk9tTUxMN1g4Szh1aUhSWjFtdlhXdng1T1FsVVVsWG9XQ1UyTEN4bkx6NGNFWFpHanB4bW4yNjlUdFZsR0RQTzVpalkyY3RXY3N0OWthV2FFSUFldTlIMG8zSU1HTHpYS3YyZmJFUThhQ1AyYUhEWnFzd3BzcmEyTmlLTlMxd3ZYeFkzSXV6TVlFVXlLdGdEQTg5MTBIYWZVMVJPVnJDQ0hKaEFCYlROSzdtdnpnWGZSTGhWNTlsUURnVG9KdUJ4UXBNaVp3ZDZic3A3SkwyNmlDYkdIT25zcWVHN0lDSUYwMk9aZVIyNUdDR1cwMlVlTEtyUkE5eVcxZDk0d0locGpPUmRlZ29ZdnlsUGRDTVFXWUZXUXVJeWVQNDF1MUFtaWkxVVl2d1dWSlRHOFRNdmdmVnlVWFdXclZKMFNWNk1zSktrbzBGMEJNQk5MNmt2bFlVbTlrQWw3SENPa0ZDMTRrdTlxdG1LU0xDelBYVzRsc01qT1o1ejBMRkdGeUM3UWMwSHFLMEhtenV2U3lSZEdsMGdMOGNwOENCMHQyMFByY213VGJORmljRXlPVHFWVGVucW05TXdJZmNjYURKazhEMmZkOEdScTU0VHRZeFFQZnhNbE44NjNOMHo1bFRGZEVTbzJhVW9wY1lLM2Q0aFRMeXBFVldLUkJEendhR052QWxIemVLbVU4TWJ6eTJEQjRGOHM3SjJSblpEajZTZ1JXZHZvU3pQaGdacVVWTmc4ZndyVHVQTU8="
m_p: "Iw9wa6F1s4o47u5MlOR1T40Wm7x1lb32G3jJK34RHZFBaeVeXtFj7Le483A06f1U"
e_t: "1614171771626"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 13
}
userinfo {
  username: "156******06"
}

2021-02-23 15:02:49,157-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:02:49,157-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "dbc20b8080744907a4e8ead5723d99c2"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "qrvcwWyE"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231502512076075925603002"
version: "260"
queryType: "PAY"

2021-02-23 15:02:49,310-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0.81"
origAmount: "1.69"

2021-02-23 15:02:49,310-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 15:02:49,311-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 15:02:49,314-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 15:02:49,315-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231502512076075925603002"
2021-02-23 15:02:49,319-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 21502, 'pay_req_id': 'KB202102231502512076075925603002', 'notify_id': '8286529736633996489792304701', 'partner_order': 'Zv2qUSJ4CVhbNf8Rm10Y63cdDElu9yFI', 'amount': 88, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '183.238.170.71', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 169, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 15, 2, 51), 'success_time': datetime.datetime(2021, 2, 23, 15, 2, 48), 'modify_time': datetime.datetime(2021, 2, 23, 15, 2, 52), 'trade_type': 'PAY', 'kebi_spent': 26, 'voucher_amount': 55, 'voucher_info': '{"cutAmount":"55","id":"64234458","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'combine_order': 'N', 'voucher_id': '64234458', 'factor': ''}
2021-02-23 15:02:49,319-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 15:02:49,319-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231502512076075925603002"
2021-02-23 15:02:49,323-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 11263, 'pay_req_id': 'KB202102231502512076075925603002', 'partner_order': 'Zv2qUSJ4CVhbNf8Rm10Y63cdDElu9yFI', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 169, 'amount': 88, 'kb_amount': 26, 'voucher_amount': 55, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'FAIL', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '183.238.170.71', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': 'USER_BALANCE_NOT_ENOUGH', 'request_time': datetime.datetime(2021, 2, 23, 15, 2, 51), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 23, 15, 2, 51)}
2021-02-23 15:02:49,323-INFO-lib.common_biz.fiz_assert-55-trade订单表信息记录异常
2021-02-23 15:45:23,024-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 15:45:23,312-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 15:45:23,447-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 15:45:23,447-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 15:45:27,908-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 15:45:27,912-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 15:45:27,913-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 15:45:27,916-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 15:45:27,917-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 15:45:27,917-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 15:45:27,946-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 15:45:27,960-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.56', 'batchId': '07339193531386246503060468515386', 'bizNo': '6c9eCOLm5vRjaiHXIWtohNpqS41lrxBJ', 'operateType': 'PRESENT', 'requestId': '12832539072012104907773329552635', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614066327957})
2021-02-23 15:45:27,991-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.56, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:45:28,006-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614066328002', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.15', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 15:45:28,027-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234459'}], 'vouIdList': None, 'batchId': 'ecec8b5319114ccb9c44e1409e232d9a'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:45:28,041-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'ecec8b5319114ccb9c44e1409e232d9a', 'batchOperateType': 'PASS'})
2021-02-23 15:45:33,078-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:45:33,156-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:45:33,157-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "08710105968371"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "vZyP9knTaFLqXs3iRNUIM27lztDf6G5u"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 15:45:33,334-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "fa1bcd48ca1e4a88b47294d01ca5ebba"
s_p: "bFA3cGVxSVc1YktvajR3dEFPRlNJVjgxeGgySW04b1FUSFBjWkF2RTludFhxcVJwcTlrbVdyd2ZPVnRzMU94UkhpQnVMSXRUaXhnT3hUMGxGZ01HVGtXd2h1T2ticURyZE5CWHhaM2ZzWHVLYWYzb1huazc4dTNKMVRWMDNtREpTS1RZdTZsVnRkZnppRXFWa0FmcDRveE5JS3NSTXZxR0tMWTZhTng4RENIV0p0N09NcVhQb1ByVWZyM21RczQxdUpLRldleWxseEhIQ0hlWXdoMlhUbmNGSkd0RDNaWmhHZk5hVmQzSDlZVFFWNVdaa09DZ3ZrSmJrY2ZSZzBxdkpMMkh1aXp3UEZMZjJ2SjVxQk9tdmxzVmdBb0JoQTA2a25QRVMxRk9Ud0VOaWZaOUFTa2F3WmdidHdDUDFvNnQyUXUyckpCUTlVQnhEbEpSUWFhRnBzdkhEUUIxWG94U3k4YzlxRFdXTVlETW4yOHBmd0JuSHZNSVB2RDExTHBPQVM3UVdsRldrT01KVDlNU2lhOVdyQlVtRDF6VHliRkpyMGxsczM4bjdFN1NxdlVkcE1JUWhXRmR6RVlvUW9lbzd3QXVGRndaVjdTRjBCZmIzRFpGSzhCaGhEckxGNE10ZTEzclhEcVRNa0lxbFBYTDhaU2ZyQ0tpV3p1MHJMTkowYVU4Ymx3czUzRFlHcmZiemVib0VsZWpxOG5hbXZPeERQUFBIc3puWVNuNFhKTVZDRmRDYkZaQ01Zd3NiaXZVRWtyRDliRVVMNXZjRzYzZWFUTW41dnBWMVNRd1NpNlFmYXMycnN2WFdURGRrbHhpd0Fpa09nS1oyMkQ5NlB0eFc3Nm5mWjlsN3JGdjdERWRPOFJVekFHb2NGemR1ODBlYnhVRVd2QmhpSjNNeTBzd2lNRWp4clVMWk85Z3YxTm9pNVNIS2JadW96NnV2d3VGcGduc0VlbWVXaTdheWRtSmEwaTNRWUszN0I4VkZEM1AxZVV0ZmNNazUycnZ0bHBSdGd0azVXWHRMOFgyRHBHTDQ0OGg5TlBaU3JyMTE1eHY="
m_p: "nqkh8741TyxGXw0IRUY4IuO0ncZ4G9q57oP0T2Yi43yI2vVTYqV702Z0gCrj6ybP"
e_t: "1614174335802"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.56"
  vouBalance: "0"
  vouList {
    id: 64234459
    type: 2
    minCousume: 100
    vouCount: 15
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 14
}
userinfo {
  username: "156******06"
}

2021-02-23 15:45:33,363-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:45:33,363-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "fa1bcd48ca1e4a88b47294d01ca5ebba"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "BXxZ3fsX"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "1.45"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "lQpKwXVELaWBPGjCS9JOTzvq3U1fAc64"
}
sign: "iiF66EKR8fVLMmTq7LqXPPkD2F836wmMATsalWJ0rckOXFIGrqwhhcBcOygnvht6ZWkS/wIRoT9bcB3A4vh38GlkNz8hh7Uhpz4wAR72BRhkJv2onnfzyRVr9Lujgsz3dKQvCtVUrY/LC0S8gNSbredWbeGH6bKbm5Hs6I4rFfVWqQV5ngdOyBsNjaUb4D/Wpl15x1n1bsTGS2hdt+kiYBH4vTdIfGW65hN/gLnoiyWP5wlARdhhE6+Mk7hBmmMPTMy3eAB4b+8XLNeKGz+QYJ0QbKuMtcyYOVtRMMBzSw3mOLph5RNxVNHyhU13WJdlEQqgL/j32xWEBNAeyz+wwg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "fa1bcd48ca1e4a88b47294d01ca5ebba"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "BXxZ3fsX"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 216
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "lQpKwXVELaWBPGjCS9JOTzvq3U1fAc64"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "ce2VKHO8i1Af1DtlEOnFuShBlQOAecXkfTpuMncLKYkGu962uKE5+8/pmkpBCRPUcx3yLkEKljiwhGH1DIkLuw7RuC3sOBHz04vZr1euCPcMCEYN0FlAYzukGrm7AFh6XEc3CUTgAwCmahml8Nmi/dzc7A016c63cWQJaE4gjJ4="
  appKey: "1234"
  voucherId: 64234459
  voucherType: 2
  voucherCount: 15
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 15:45:33,808-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"885e39a45b7c444182e978f37457c5f7\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx231545362387640aac79e44ec33d710000\",\"sign\":\"F4C381093F345B55B99B76CC764BBB47\",\"timestamp\":\"1614066336\"}"
}
payrequestid: "KB202102231545352076075925762862"
model: ""

2021-02-23 15:45:33,830-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[5591083874834759152475513837]]></transaction_id>
<nonce_str><![CDATA[LCdIbnpmAjxWDHOVy3hP4qQJfawBTrlF]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[86A303E09365BE0F10BD37DCE557E9F6]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231545352076075925762862]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>145</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223154533]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 15:45:33,956-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 15:45:33,956-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 15:45:33,963-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:45:33,963-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "03228252027453"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "FlxGeo7iYXu9rTBR8Lkw1JCygtKMAsIE"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 15:45:34,057-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "da88a8e27d8c4d7f82ef9122a58d47d9"
s_p: "Q2Z4dGVaOGdOSzF5cEY1OXAwS213c0dFSWNTZE1IT1oxM1FYQTBZbGF3THFnbzlqVEQzQUliNnlDcVcxYVV4MVBJYkZHQ0Vvd0tXZ1ZnamI0OUdUZVdhQjdGMzF0ZjFoZ0tVOVp6VlhLRTVWZWpoeDRJWUNCaGFmMXJJM082WE5HTno0bHA2OW9wRUx5dnFkRWJkbXd2NzAyN1I5VUp5eWNFZGFqcWlRa1JVenNoQWdTdWtycnozZHRobjJOS3RHZEVPU1lsRWRqUTFNNHc0dlVUMXUzb0Q0bXA4RWRwYnpYaHA5Y096dlM0bHVSVlVjWEJjVzhRUXp6RWVoVHJUeEV4d1JqdjMzUHB3ejV4MUVvb3U4b1RwcDk2TEdnbU9TS2lzejJSYnNLR2lZRk02dUZxaGRBdDhRZjlQQ29pTDRNa3hOMlJ2MlI2SDFHSjJZSzZNd0R4UExIYTZOdkl5UmxHenBMWkVDaDU5Qm1OZ1g4a2pNZlhqaGp0dTNscHFHSGs0NE5xV29NUFVEeENwV0VFNlA3cDkwYkFGdzBoZDc5bUNwcngwODFZc3JNajhYQ0o1czI2N28wSmdWZ25Na0h0ZDZTckFGcGtjZTBrZzRBRDg4bUpwYWZ4ZjFNNlhaVlB6MkVQcG43RTJHdjBRNTVVaGdxM2FJT2NaczNsVk1xd3VpSVpUaE1icGxJa0hNallDcG9KMThuRzg2NUkzd201ZTd0OWQwSEZidWxhUXFhcTZMU1RiVUprRmU2VTgzb01RSVRLa29zVFB3YnNCSjNUelJnUldZR0d1eUdlN3JtVG42bmpWTFZLdFZmcTdSYXdzaXNzMzRFSTgyVFViOHdQQlBuM040TkJBMEw4NG96YmRHR1Y0NlQ3Y3lmVHJzNWVWeXhmTlJQS2Z3bHd4VHU4bVl6M2toUlJROWpzT1M4SzlDVGRnQTFEU1EyRTBLTHZHSWFUUnJLbVR0ZFVEVVI0d0dGWWxmVGdWQnJrSWhleHR0a1gwaWF2NkJReHZuOGtvUHpWcDhIQ1NVMzRVb28zeURiSTNIaDY1V1ZwREM="
m_p: "70JVo8j4Lw158l4Go1E619KS7aL71L5Q0j4n2lT7T0Vdflm698RTx5E3Ay3nEshW"
e_t: "1614174336543"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 13
}
userinfo {
  username: "156******06"
}

2021-02-23 15:45:34,057-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:45:34,058-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "da88a8e27d8c4d7f82ef9122a58d47d9"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "NK1ypF59"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231545352076075925762862"
version: "260"
queryType: "PAY"

2021-02-23 15:45:34,116-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "1.45"

2021-02-23 15:45:34,116-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 15:45:34,117-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 15:45:34,120-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 15:45:34,121-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231545352076075925762862"
2021-02-23 15:45:34,125-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 21503, 'pay_req_id': 'KB202102231545352076075925762862', 'notify_id': '5591083874834759152475513837', 'partner_order': 'lQpKwXVELaWBPGjCS9JOTzvq3U1fAc64', 'amount': 145, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '183.238.170.71', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 216, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 15, 45, 36), 'success_time': datetime.datetime(2021, 2, 23, 15, 45, 33), 'modify_time': datetime.datetime(2021, 2, 23, 15, 45, 36), 'trade_type': 'PAY', 'kebi_spent': 56, 'voucher_amount': 15, 'voucher_info': '{"cutAmount":"15","id":"64234459","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'combine_order': 'N', 'voucher_id': '64234459', 'factor': ''}
2021-02-23 15:45:34,125-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 15:45:34,125-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231545352076075925762862"
2021-02-23 15:45:34,129-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 11264, 'pay_req_id': 'KB202102231545352076075925762862', 'partner_order': 'lQpKwXVELaWBPGjCS9JOTzvq3U1fAc64', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 216, 'amount': 145, 'kb_amount': 56, 'voucher_amount': 15, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '183.238.170.71', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 15, 45, 36), 'success_time': datetime.datetime(2021, 2, 23, 15, 45, 36), 'modify_time': datetime.datetime(2021, 2, 23, 15, 45, 35)}
2021-02-23 15:45:34,130-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 15:45:34,135-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231545352076075925762862"
2021-02-23 15:45:34,139-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 15:45:34,139-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 15:45:34,139-INFO-lib.common_biz.fiz_assert-79-tb_recharge订单表信息记录异常
2021-02-23 15:45:57,455-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 15:45:57,731-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 15:45:57,776-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 15:45:57,776-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 15:45:58,159-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 15:45:58,162-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 15:45:58,163-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 15:45:58,166-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 15:45:58,166-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 15:45:58,167-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 15:45:58,170-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 15:45:58,185-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.36', 'batchId': '75284702984471894941324145608892', 'bizNo': 'NgoDSwknaLHO5TP9xWjUQcJIedGZFi3h', 'operateType': 'PRESENT', 'requestId': '76955192544195025109392942772013', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614066358181})
2021-02-23 15:45:58,209-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.36, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:45:58,222-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614066358219', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.48', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 15:45:58,235-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234460'}], 'vouIdList': None, 'batchId': '6064d92aba4a4e878682892b35843137'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:45:58,248-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '6064d92aba4a4e878682892b35843137', 'batchOperateType': 'PASS'})
2021-02-23 15:46:03,284-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:46:03,292-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:46:03,293-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "62387689564416"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "wNv6kUbXCaoWndF2A3MOcRsZxlT4Gymf"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 15:46:03,381-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "fdf37de7f98f4242b6b2c98afb1927b2"
s_p: "RTl6d1o4UEdJaE12ZGtQMmJ3U0hEVjlwajdTS1JLUXlTdDRnZEVkY3NlMjZNbFJzZmhodDdoVDdqdjEwZkpCR0J1YVhReE01MnhrVTlmUWRxRlBWeEhGMlNiTnB6TEdCNjJQTXlVRlg5bmw2MVRxQzEzY0Z0NUtHMFg5Yk9vbHczQzNnWUdacVpPeFFibUQyZTNXQnZPYUZNc0JJYTFUbVdZcG9CSkVpVVo2Tmxha3RhOEl5dERGcDMyV0ZRMWpBU1BtWUw4YnBMZlIzZW02NDR0Ulk1YTRVUzF5VW9NSGxsMFdVR0NQQjZid29jNWkyajZ2ejFITUVuN1IzVEdSampoZlNjZVN5Vlk0cWJ5QXBnenJDTXgzSjYzQVl6MDZvbjBpMWtaU0pYOHlEVWFzUWV3OW5DQ3huZHRneWF1ejVsd1ZPZzZvMklTTThKV3ZTbUpwcXNKZHZTNGxqSzFnOUVOQVVPV3ROcDBJWkRvaEhqellBVVpFcEUySDl0bUFocHZ3eHpyTjdSYXVEQ3hodTR1TzUzUVZSV0RGVkZUMU1kZ1FEWHl1VlBCN01JaXVBdkd1eHZ2Q2dCVXhqSXpiRXF1T2kzMHJsQnpwa1g4Q1Q3TWZDa09GOXM3cnRvTG9aQ3A2alozQm81WEdPOTZxOG1PVFJZajJLMkdPUWQ4SVNVSmowZEV4eFNDY1VJNEV1dlRHZGE4bE1mMWhVUEZMOTk3eFpGdlgzWmNEa2RqQjBBRU9EMzVFQWVjODFHTEhpb1BOamxDUkZIYnRNT21Rb2M5YWpVM0NqaTUxYUtoMEh5TDJtWERjTk5Ra0xBbW5DdGtxY2kwOW1DeWhUaEZVYWZVSXNiU2Y1M2ZESFhlS1FFaWtaVkJ5NXk0VTZXZ1daSmhWN0JXTHliYWpteksyZFgxR2VIeFFFdG5BWk5ubVdyQWJHSFpDWk8xNUhwdmlYMVJxckVuTDI1endWQkkzNlVvUjM4WWdmZE9xQXhlYWVGbTBNWEFQc3BoTGZnR1NDWHAxQ2UwSGZUN3hqNkUxdmUyalhIY2xGZWFEcTlQejU="
m_p: "ME189S6bLiZK57k9060jbR7Hukct90N488oA22Ds5sxuga9ni9i8ukO6lh6W05W0"
e_t: "1614174365855"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.36"
  vouBalance: "0"
  vouList {
    id: 64234460
    type: 2
    minCousume: 100
    vouCount: 48
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 14
}
userinfo {
  username: "156******06"
}

2021-02-23 15:46:03,409-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:46:03,410-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "fdf37de7f98f4242b6b2c98afb1927b2"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "2xkU9fQd"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "7.22"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "tFSHgYMfUB7T1yj0XPdO96vZlWkzh8Rp"
}
sign: "R0FXoQTNq47MNeG79ZT/+xKGZdQ+dFCksX0p1t9G2Chu/Lu/GLpeUR60mRzV6/YzynzlCtozKFYhkiJnvSMu59eZ4u2rbkKOWP9awwMxY4W1XoVxFW9vDgFpa7u7N9uw67d8u0Fd3z3MisVz7N9wy++FtYOKIXl3F8/IYpqpH4Jd+h3+hBhYpn4yD+eAYxR+9Oh/GbZscM7s4Px8RIL63+++fI59nbHpD3GAcewjZiNO/lBKUQ+lM/dD/c9iwP3+wJzW3CFUBQ0OBuxHf1xiP4/Jausj5EJh+D9SbRLLZc/TOEs970V/tMQJ+V2l4X1nP0ft27lIu+2cHCPnapK5MA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "fdf37de7f98f4242b6b2c98afb1927b2"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "2xkU9fQd"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 806
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "tFSHgYMfUB7T1yj0XPdO96vZlWkzh8Rp"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "dd9jnfnB9dmjgdmj2vje26Uj2wOs8c9KFYfj7VolkD/HuXIIkL76+WzlbqScl7ebahm++JjCJjgV9832+upd4NIMkmutYoIp/3cbYXix5jjrBr+VIisHZP+hltO2iJPqDxkNRqCZgMGdW0TL9hYdbEaqrquQfEYiPzcoj5GZxmQ="
  appKey: "1234"
  voucherId: 64234460
  voucherType: 2
  voucherCount: 48
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 15:46:03,831-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"02d417afcaf8467882a6a25c8982c5d9\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx2315460627075265e49007e72c2a470000\",\"sign\":\"FB37D3B2C1A367455BA8E594202E1C0D\",\"timestamp\":\"1614066366\"}"
}
payrequestid: "KB202102231546062076075925234012"
model: ""

2021-02-23 15:46:03,831-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9164409619307884262184918321]]></transaction_id>
<nonce_str><![CDATA[UG8R4cQdouHwYJfPaK0ViSEyghOx62t3]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[3901CE85B3C7829EA328036DE2C5005E]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231546062076075925234012]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>722</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223154603]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 15:46:03,912-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 15:46:03,912-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 15:46:03,919-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:46:03,919-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "91062641640314"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "rEA1MSUdvgmB6KipnXRZJkljq4ehCcPW"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 15:46:03,980-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0e928c993a05448d861ab3ce45b5e352"
s_p: "M2lrcVpTRk0wcFBYN1hSSmI0WlQwUUJ0aFFOWGJMUlBLWmlkc1VXNDZtRlo4ZmtNdUZrVmhzMjE2Znlzc2xvSFNZZm85VER2Q1RnZ0pScVZ6amI0ZzdGUmhVSkdRZFVhRkI4c1dIbUhpUDM3TkVxWUlrN3BZOHhSRjhqOE9qRnBLdE1vUUZKNlVPMGQwZE44dUxPcFRSeVYxVVA3SXZjNDRGaVRSQWZLblk2ZU82TlJzYnBTaUVRem9TSkFRRTljcDVmaUVjeWNYSWNiamR3Y1h4WkNwTzNNcVFhMXFWY2J0UFo5OG5OUEhQd01YSE9yZWJpOEd5emdLRVRzOUFKYmxtZ2JVT1lmU3NucUJ5NWhPdjluNGd6RTZxcW5SdDU3RjlmRXNERjNNdHk1OTZHNG15dGNUZzRHb21pU2lKNHhxMFp4dFdBVEUwNFN2NjRVczVTWWFYS3BXSklVbTRpSTd5VmdGREx6RFhsT252WnpoT0Q1djRKaGdwaG1wQ0tNc0g0a093a0dhT05NVDU4ZlE5TGRVQm5sN1JYbFM3NGRXazZnb1hQa3FKYTRFR01za1IwVFpFRUVmdTVHY3ZuM29Bb1Jma3A4S2xYMGtmWXNRclh6SGFMOGRlMmNCbWpRUlZFc1dMQm9Eb3VMc3dJUHFubDBPenE1WVl3aFFlN1g4anJtblV0T3ZMcjhicU9GeDBqcTdYNzdCSUVxbzFJS0VmVUl5WlQwM3JISzZyczBvdFhFNHRoSUs2RU94bnppbWVEajNtWVFrVVhtT2hGSmMydTBUb2dZOGdkWTZZYUx3SzBHQzZ2bXJvb1NKem5JOEZiek40bWhWV1lLM1FCblBTMXBjTFNDWUU5OE1ndUE4VElVbXpBZzVFWU5Gd2o1OGc0QW5Yd2phallMOUV2dnRaNjhDeG0yczl3THh1RXpMTG55OW5xUnRoeG1PM1VNNW5mdFJ2Z3hiR29WdTR3c3RFR0RZSUxCYmY5Nm13RmpRbWF0N2tuTUNjTEVLMWNCQ2RkZmdPekJ3a1RGeFJUN3VhRzdXZU5PaGxYWHNnVWk="
m_p: "2FD5O44hp0ONMLRxc7rg7cfdEv4wtx32p3I3LVR5k5E13bFkV1HAIza538fLHi1R"
e_t: "1614174366471"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.36"
  vouBalance: "0"
  vouList {
    id: 64234460
    type: 2
    minCousume: 100
    vouCount: 48
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 14
}
userinfo {
  username: "156******06"
}

2021-02-23 15:46:03,980-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:46:03,980-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "0e928c993a05448d861ab3ce45b5e352"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "0d0dN8uL"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231546062076075925234012"
version: "260"
queryType: "PAY"

2021-02-23 15:46:04,042-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2001"
  msg: "\344\270\215\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\345\271\266\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
successStatus: "1086"
discountAmount: "0.84"
origAmount: "8.06"

2021-02-23 15:46:04,042-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 15:46:04,043-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 15:46:04,047-INFO-fiz_db_operate-26-可币余额：0.3600
2021-02-23 15:48:31,579-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 15:48:31,855-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 15:48:31,900-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 15:48:31,900-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 15:48:32,263-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 15:48:32,266-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 15:48:32,267-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 15:48:32,270-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 15:48:32,271-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 15:48:32,272-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 15:48:32,275-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 15:48:32,291-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.16', 'batchId': '90426993924313141126067119906417', 'bizNo': 'cPBzxinN1dOFjXkrVKJI04pASZGoYQtv', 'operateType': 'PRESENT', 'requestId': '90449372452029739689849873301171', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614066512288})
2021-02-23 15:48:32,319-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.16, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:48:32,335-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614066512331', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.36', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 15:48:32,356-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234461'}], 'vouIdList': None, 'batchId': '9e422963bc8d49aaa9619e718f5de9e8'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:48:32,369-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '9e422963bc8d49aaa9619e718f5de9e8', 'batchOperateType': 'PASS'})
2021-02-23 15:48:37,395-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 15:48:37,403-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:48:37,404-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "31738088206380"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "seGNlDf8hgBX57r6EHSFqTLo9VicMuOP"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 15:48:37,514-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d953cfb8de784a09a8c9e82e1f73dbfa"
s_p: "N3o0RFBHNEU3QmhKNXIxTVQyenRSWkVPZDNvaFFJU0xyVVRWejJURDlRQ0RQcVBFMzR0cXNyeWNoM1BoZG1wMFRJM25vbWRiUno4cFp3NkowM0oxMURwTGdTcVF6OFJwQVQxeVB6M2dDdWVpZ3NwZ211VkxWYk5wRjhnQ2Z3eGhYYzdtY0dEZ2ZlSExGZkpkU2hXc1NZMmM3NEZhYlF3c1lROTZ2enpKRURsbk9mejlKN1RJV3J1YXpQVUsySWEzY2RVWEF1NlRZV25ib0tVMEJTSFloSXIzZW9sNWtHUE1nV05HSGFZYXdPY3JESlJaTDFzZ0J6b3RiUkxHM3d0OWpCa3NMTTlzRDVSVE9tbmpTRHNvbklZQWVJdktLZ1hnU3dDbzR1OGxrYTZ3YjkxMDFJVkhURWpTdVVkWU5PRnZGdkEzYVdsaHZ4Vm1CcGRTcjN3eEhTWFhDZ3dQWFdqV0pXSHVOYVNzdk5TckJUSmJsbXQxbkdpcG9JTFVMa09wQzVXcU54ekdGcUN2cjVZQm9Vc0hwbXNhVERkaUd3OHVVb24wTjZkN0VGQkJmeDhTd3E4eWlTVXVtam1zM2ZQN1BWNnRnNVlVclBGTGlHN1VpSnd3MjFlcXNnUjFhTlhZV2VPQzRBdUJxQ0xGd2FNb25xVFNIYVZlZU94MFM4VEhkOHljQ21Delc1MFlQMHRQUzd5VGw5M2RsalcxbkhDSzR6ZlBuaTJlVENsVlhSMGRJNmI2MjdjOWcxWkh2Tkw4TTZxNlJ5TWZaZE9CNFdhNUZ2MG1sbzdyRHBsQW9xaUhRU3Q5ZmMzbVdocXBDRWhjTUJ3OE00SVB2UXlMbFVLeU9wcXJrOHJyaXJ3Z253RHc4UTlETFlOVkg1MThpWDhIWTM4UzgxczY4S1dOdW5WMjQ1cG95ZzIxaWM1bXN1QzFzVFhiRkFYd0llbHpIWTdJVGdNbUQ5S1Q3MXFJZ1FHb3JFUk5KaHFNRHpFN0NZNWNYQXRMY0JUVmEyUmwzUFhicVlTTkNJVGk0bkkzNGQ0U2hZTGMzVTFkaTB6a0U1T1g="
m_p: "qcM0na8u6PG0V8b081RR99445ki3VoRn4L08o0f9iA0I6VOWxJKRAguM99yPQq2a"
e_t: "1614174519977"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.16"
  vouBalance: "0"
  vouList {
    id: 64234461
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 14
}
userinfo {
  username: "156******06"
}

2021-02-23 15:48:37,538-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:48:37,538-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "d953cfb8de784a09a8c9e82e1f73dbfa"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RZEOd3oh"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "8.48"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "xAD6VyUKfBlgequ3EjdSbwGoMkCYacXJ"
}
sign: "5eczWTecipEpEe+lWUZnZh1o87dibrJArEOJy4eFym4naGjKUUa2LHDWP3KC2yTnJ6/ZQgXesqUpdC6C+cSfQZLQ5va2mQcx1hznX0MsIkyK1b6oia1mvZu8zRTPp99lRTQfJlBGblIrDypgYZLP2PNUKZV0+/w81p4Z8pLPibNfZsvJYuI3kP0NWSGOldOLCcVY/BUnUlEYjs7E7bqMxuSHQRk+wWBW/X/05IIjjTkfl/0QIn6jyR2SC1KcYIgBPiIQ7ACsX29inm2aeyvv8MBJwWvwqNDR1kGjpD72e1pU79T13JDN0c5jYd7wM7JLrB4vJo6JoyE394egCXhwBg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "d953cfb8de784a09a8c9e82e1f73dbfa"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "RZEOd3oh"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 900
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "xAD6VyUKfBlgequ3EjdSbwGoMkCYacXJ"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "JcumEj8OlP13XzWzqikEfC9pOIIPKDXKz3SkFW+S+Q0nIRBfgAx1T9RVNn6ouKUAp5rmLHU6nHqGQrvam5WluZh/kY6ifI0mbrFF/Uad/RcsJgqeTCxTU/fywTfW75PTDAbBWjU5W5HMTAYEqB87F6ue6yA1ebmZALf1kCHZiNE="
  appKey: "1234"
  voucherId: 64234461
  voucherType: 2
  voucherCount: 36
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 15:48:37,970-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"15d0c97d490d40b1ba3b19495a6775b4\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx23154840411127a79687e2a7f7287b0000\",\"sign\":\"887B4C6BE362213BE39B6D0F302A5CAC\",\"timestamp\":\"1614066520\"}"
}
payrequestid: "KB202102231548402076075925084052"
model: ""

2021-02-23 15:48:37,971-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[3447002261085114710289409497]]></transaction_id>
<nonce_str><![CDATA[L19S2IjerByVftzlOMPd0Wxs4cv5n3bw]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[8FEB58A7670E997E08878B21B860C353]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231548402076075925084052]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>848</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223154837]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 15:48:38,066-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 15:48:38,066-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 15:48:38,073-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:48:38,074-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "37062741020127"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "dnVAEmKzkSCaNGLBXxI4f5Z6MPeqsYtj"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 15:48:38,145-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e467ec426ad94ed5920a03026a658d7b"
s_p: "M0ZuQVh2YmV5aHdJVW1KcFYxU2c3YmFJZ1kyU0FRN29JWFB5eE05bUJLWFpqUDExVDdyNEdOWDZQQjJSbFBTbUplQ1NVUmoxaWFmU0dmeUxOUUJjRmw5V1I3SkVKclhwekJFYUNQYktiNldzRDNLMnlSZUtFTXhIcFg3YnExUjRVZXI4RmNIamRGbXYxRTBQWGVsOXpGSUo2Q2F5dWpoR3hiU0JscjBJa3o1eGNwVDFiUnJiQW5DRGR5OTgzb1pEVVMwVjhHOEt4VkJiOHVNU0RwejZGWFBxYTJjYlRaMW5PNUZPQTVTZ3AyaTZOaVRGT2F5MFdJb081MFhGWm1jWFlERnRYdDc5cE9qSUdhYVpoVHpnN2lJazNLdGZSV1gyekFoaXBweDRDSnNZbFFvNGV3QmIyS2xwZlF5Tk1VZUZDY2hMdFRTTjNUWDlielh6Q29OR0ZYdXdNMFFOWnQ0d21wUFhlNGx1dmtwSXJyaVJkMHlobFlZOUF4SXV5VzJFR1JrOFlWTmk5TGxWVkN1ZThVWTJXSzNLUUJUSW1OaTRwTDM4Y0xNWG9nZDR1TlZQYlhVTlYzUE9wdkhGT2JJSWs3SU9rTE5kemxWWlp4VUpQYVJ4WG1kRFlLMmlBQnBUQURGMk9zM3E3bUZmU1dyb1NGY1BnNk9oN3pidlc0c0VDcmIySVJxeGRYcUt6VVJwMGM0b1o4Mmc4VW5na3I1c2szQWhTWThiYVBOV2NWRkhBUzZZMTN3dndPSTV1M1N4Um9RbHpRQVZlT3VFckFsTkpsaGJLNXRSR25tVEtMdUtQWUlLek9SVlk4MTBkazNOcWhLeHNaZlhWZjAwWTd3YlIxVklYZ2Jvb1Azd1Q3SWwwa2lJQjRlTFN3aXd2MEw3RjdWRVo0clpsQmQzdGpMNUxlM1JIbkg4MGJTSVV2QlZDbVVHMlhxbU5Cbk5LZzh1REI0NGFoWHpHVWQ4TllXVndpN1dBUDYybFJqdVBEaVloTHgxRVF1d3N5YUE3STVCYmZIWFc2THlJelRmQ044OTg5Z0xrVHhTQzE3dE92aFI="
m_p: "62rT31qA4E3122fWYZ65bIMw5lgez2J8s7a9LvCMCfNv34oq546XT39eyr1Hb9Zs"
e_t: "1614174520629"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 13
}
userinfo {
  username: "156******06"
}

2021-02-23 15:48:38,146-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 15:48:38,146-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "e467ec426ad94ed5920a03026a658d7b"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "2RlPSmJe"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231548402076075925084052"
version: "260"
queryType: "PAY"

2021-02-23 15:48:38,201-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "8.48"

2021-02-23 15:48:39,201-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 15:48:39,202-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 15:48:39,205-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 15:48:39,206-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231548402076075925084052"
2021-02-23 15:48:39,210-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 21505, 'pay_req_id': 'KB202102231548402076075925084052', 'notify_id': '3447002261085114710289409497', 'partner_order': 'xAD6VyUKfBlgequ3EjdSbwGoMkCYacXJ', 'amount': 848, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '183.238.170.71', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 900, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 15, 48, 40), 'success_time': datetime.datetime(2021, 2, 23, 15, 48, 37), 'modify_time': datetime.datetime(2021, 2, 23, 15, 48, 41), 'trade_type': 'PAY', 'kebi_spent': 16, 'voucher_amount': 36, 'voucher_info': '{"cutAmount":"36","id":"64234461","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'combine_order': 'N', 'voucher_id': '64234461', 'factor': ''}
2021-02-23 15:48:39,210-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 15:48:39,211-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231548402076075925084052"
2021-02-23 15:48:39,215-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 11266, 'pay_req_id': 'KB202102231548402076075925084052', 'partner_order': 'xAD6VyUKfBlgequ3EjdSbwGoMkCYacXJ', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 900, 'amount': 848, 'kb_amount': 16, 'voucher_amount': 36, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '183.238.170.71', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 15, 48, 40), 'success_time': datetime.datetime(2021, 2, 23, 15, 48, 41), 'modify_time': datetime.datetime(2021, 2, 23, 15, 48, 40)}
2021-02-23 15:48:39,215-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 15:48:39,216-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231548402076075925084052"
2021-02-23 15:48:39,220-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 15:48:39,220-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 15:48:39,220-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 15:48:39,220-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "xAD6VyUKfBlgequ3EjdSbwGoMkCYacXJ"
2021-02-23 15:48:39,224-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 30447, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '183.238.170.71', 'source': None, 'systemOrder': '2031_xAD6VyUKfBlgequ3EjdSbwGoMkCYacXJ', 'partnerOrder': 'xAD6VyUKfBlgequ3EjdSbwGoMkCYacXJ', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'price': 16, 'count': 1, 'r_cost': 16, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 15, 48, 41), 'updateTime': datetime.datetime(2021, 2, 23, 15, 48, 40)}
2021-02-23 15:48:39,224-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:21:56,252-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 16:21:56,529-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 16:21:56,577-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 16:21:56,577-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 16:21:56,996-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 16:21:57,000-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 16:21:57,000-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 16:21:57,004-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 16:21:57,004-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:21:57,005-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:21:57,008-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:21:57,022-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.87', 'batchId': '72821291520587849336395713563023', 'bizNo': '8Sxwg4C6KcH1X3qrEaYVhljpD0dIeJMk', 'operateType': 'PRESENT', 'requestId': '93501423897357650418482885911654', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614068517019})
2021-02-23 16:21:57,087-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.87, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:21:57,100-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614068517098', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.46', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:21:57,130-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299630'}], 'vouIdList': None, 'batchId': '10d03ad4cd6745fda738297415e8fcc7'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:21:57,143-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '10d03ad4cd6745fda738297415e8fcc7', 'batchOperateType': 'PASS'})
2021-02-23 16:22:02,188-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:22:02,196-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:22:02,196-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "82759648091441"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "q8c0ZRzBjDnaKiHg6Lh7MSkOxCJT3VpP"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:22:02,365-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "093ddda479bf4555aa0af82c8aad17d9"
s_p: "R3RkUkd6YWVIckwxR3A4VHJuOXNISkJNUFNSUFpwSllFUmJPRWx4dDZKU3E5dUJjQTdmQWRncFRHYzZHaVYxOTFsOGtLTXBPY29BUGp2SzJyWXpIV21UUDNXSEt1cWx2blROM1JKMmNhZHdiR09mNG16ZlI2dzUxZ2ViN1N1MmFmNVR2c0VJejZ2cldaY014YmhjdUtCSjQybDlUeGNOMmhHQVRJSjhUelY2ZklwcmVuZVpHMEZBRTZIU0RRSWNLaUJSc3ljMmNZVWJqY2N1dVN6WWdUYVhwaUJNYU9zclF1YXBUTVB0VGZ2YzZLQmFFTFh6WGZJdWNpSUxSc1NKbXVqODRvTW9KQWV2aGR5SDFUOXdzWGIxcGV6bkw0V0NQdXBVSUxEU2ZwUWhGZzRmWFFJbnBTQVgxZ0VnY3g5NUpxcUdJN3pDQ2sySFB5djNTNmd1cHJkcWlVb29QcGR5ZTZ5NzZSNGRob05LajhuREV2ZXdWYmlhbXNWU3g1Y0RxbWd4SjNvdUphUUhHZndmMzN4SWJmN2R3VkRFRVB3WlM4UXhZOE1JZHM5MHY0eTBvSVFXMmdSOWlneTdWTXJFeUc1d3RrellJekx4YUlOTDhHaThOd0E5a2xBYTBWNURtTVA4andEZ202VllveWxrT1p3SFlIWE9Zcml4QVQ5UEZNRk5sUGRUSExvUUh2UnphM2xnU3dsek1pV2xXU3JxTE0yV0hHRmo4bHpZR09sVmVIanF5WnQzcmxOMGVvcEE0UlFlb29LRzlBUkxjRHZ0QXFRTjhRc1dZc0dvb1NmaHBoQUJwcTZCTnlVdjJmdkxWVVU1SndzeWJXOGZ3cHRZOHRGc01iR3pZVDVXMTBUYkVHR3RDM0lxbVpnVkluZVkzcnF2T2NSQ1llUnlsVzJRd2F1MDV5Z2doQkV3UVFrTGhRY0ZPaXJNTVJtMzc0V2FIU1JlRjhLU3NBUjFCNXBoNDZvSktPNk1KblFaeHFqMUQyTzRISzhCS3FRVGo1eEhBSWhkZFJQZU1tZWI4TTNvbTNlQUNJRk5YVjY2YVBxdmQ="
m_p: "VI58377xf6W304K146iA2DEB4HXX342VB7c78jmmktgkuu5ARDVkwtp40o22rWuZ"
e_t: "1614176524818"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.87"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299630
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 26
}
userinfo {
  username: "156******06"
}

2021-02-23 16:22:02,393-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:22:02,393-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "093ddda479bf4555aa0af82c8aad17d9"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "wbGOf4mz"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "rRQKznd3H1A7bv4kthsai9fV5ZgXDIJo"
}
sign: "Sm3/1cTjAjlL+lnHqGGtonKOOhEEbKlIndSfZse8a8a1KaUKFy2K5Ilxt0skV7JAqAHdhLBBuyGLWFQ0V1gDuKKHe/GqHKOhcRX/mtkp+huKeOh0cftcgVPrxpEOmFqHJmqytIca249cL8hHTarSgNBg7EUyC7SS1TYpELQzhCNLpIdiqMblg7ypJFdNe8tUp/O6ag28kltxp9dZ8t4TSZhfvLQ1+aKlBb/ab+a0exYFrujmjBPszmwVeguBkFwcARKEOy0jmSAJRXNDGIV41LM9JcevOzuI6r75hdVekqJ6UVZm2CddP5D1nkFiIHGxzAAjcZg99JNawCLxB1d/IQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "093ddda479bf4555aa0af82c8aad17d9"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "wbGOf4mz"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 534
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "rRQKznd3H1A7bv4kthsai9fV5ZgXDIJo"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "bwxlvzEMTIxyCghINeZE3OaZIOwFHvXnzp5CSdvHsbsiuHo6sXrkJhaEQMdXyqlkvp+k1NhLwAn1HkS0s9N4v4TvqtL/Sn4FjXNdnnlIZE9Ic/tswJi4mysp400JEp9rAmNBW16U8Ofgv4ckchU7dp93y91GcQJg74MWfHIxXZY="
  appKey: "1234"
  voucherId: 62299630
  voucherType: 2
  voucherCount: 46
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:22:03,092-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"2a36cd5bf1fe4a559b5705c820568417\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23162205534467780a4b6f399690190000\",\"sign\":\"FC56DA787080B7FAD09444A20EF91684\",\"timestamp\":\"1614068525\"}"
}
payrequestid: "KB202102231622052076075925540852"
model: ""

2021-02-23 16:22:03,093-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7668804639381173408206211232]]></transaction_id>
<nonce_str><![CDATA[7NthgEylnXpzKR3Mf1TdDxU2P5wbWYHr]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[346D20BACAADB2360FD4F65DBC0B3B41]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231622052076075925540852]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>401</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223162203]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:22:04,929-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:22:04,929-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:22:04,936-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:22:04,936-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "43515934474381"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "E2FSYMDN8Ups6CjkOQZuIwy7o4areRHn"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:22:05,038-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "7ac08cc408ba4bcc9eb7cecb7f88d666"
s_p: "Sk82a3IxRnNYcjdIbHczeUd2b0dnRnV5VGVLR3p0bWV3bWVzczd1bDJLZGtsaVBCMlJkaklCOTI5MVk1ckFZaFpPY1RETGtQSTlqRmZmS3lIaEFxR2tCWFhOM0lGSG1WWWtISjRkemI2MlF4U2U3bnBVdGdWYjM4M1VaakRRRmkxRHFQVlVPc1V2OVJackdXVmlBNUNOVFlNRHg4b0ZYUmNyN2tZVnZjRGwzTFhlSkFOMlVPQXpIeHFSc3JCZDZsa3gzVDlqTVBtR2ttQ2FxYUhvVGdEWFZqR1FmNThZUDdVM1BJcUJwakpSMXVpNGdxVjkyUnY4bkJlcnZhUXBGczI0b3RsU08zdWVacjdoWjRXcnBWVEVFQnVrNTljeVNUNk1qSDg1a2tqV1BxbkNuOVUwOUEyTHNQcEtRSjZncnVVVENydDlmMDhIb2FuME0yamE5U2phRm95aDhtYm5ZSjB0dWZHZHRsRUdGZTZ5a0pvckJWSlJwRGs4V25BQUdseDhLYkNwUUR2a1JlbzZTS1ZGVThZaU9JNGRCTGdrYnZUQWhFODJLTksxbWltd1R0S1VmanRxWWpOYWxJSWd3OTZMVVA0c1Z3cjZMVEVGdlRrUXJadHNmcHdSeEs2RldKYlR6WVRVY3dnQWw4anBsWHhWMUZ1ZFVkY1Fpd09FUFBZd05LVG1Gd0szNnFJVEloamJNMzJlbmh1emZjSGdCbTJpbklWOWtrQnBuRHdMMmxqaTN3VXV1blE4eE5zYXBMWEt3c0tOTDhaS2V6Z3d3ZERXQ3NvV3FVSVpIeUt2ZkFYUzdFMUIwcmtrOVJBTVVFejRNQm1HTTZJc29SdjZyMXhEc3pPYmNudzZ0cmdPVlZwa3NENksybm1KZzFZNk5aR25lMEFXMVJBWkQwVDdlQzZYbXMyREQwaVVjNjBMOW1oVEk1NnpuSkJsQnppT0FCOWFoMGdGNXRzRUJwWHlqMnZMaFZveFlSNzVWd0VvWkRsZm51U0t2a0ZwU3ZRTkpUWGVxV1hmb0lXbDE4Z3V3bEV4amZjYlJUVFc0VThsb3Q="
m_p: "N056T811wp8TOueL1w8yN6C3E2DviqofbhjwX73BgyaWNOm71k46CZo44s68E79s"
e_t: "1614176527492"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 25
}
userinfo {
  username: "156******06"
}

2021-02-23 16:22:05,042-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:22:05,042-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "7ac08cc408ba4bcc9eb7cecb7f88d666"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "KyHhAqGk"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231622052076075925540852"
version: "260"
queryType: "PAY"

2021-02-23 16:22:05,259-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.01"

2021-02-23 16:22:06,259-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:22:06,259-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:22:06,263-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:22:06,264-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231622052076075925540852"
2021-02-23 16:22:06,268-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14967, 'pay_req_id': 'KB202102231622052076075925540852', 'notify_id': '7668804639381173408206211232', 'partner_order': 'rRQKznd3H1A7bv4kthsai9fV5ZgXDIJo', 'amount': 401, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 534, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 22, 7), 'success_time': datetime.datetime(2021, 2, 23, 16, 22, 3), 'modify_time': datetime.datetime(2021, 2, 23, 16, 22, 7), 'trade_type': 'PAY', 'kebi_spent': 87, 'voucher_amount': 46, 'voucher_info': '{"cutAmount":"46","id":"62299630","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299630', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:22:06,268-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:22:06,268-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231622052076075925540852"
2021-02-23 16:22:06,273-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7653, 'pay_req_id': 'KB202102231622052076075925540852', 'partner_order': 'rRQKznd3H1A7bv4kthsai9fV5ZgXDIJo', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 534, 'amount': 401, 'kb_amount': 87, 'voucher_amount': 46, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 22, 5), 'success_time': datetime.datetime(2021, 2, 23, 16, 22, 7), 'modify_time': datetime.datetime(2021, 2, 23, 16, 22, 5)}
2021-02-23 16:22:06,273-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:22:06,273-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231622052076075925540852"
2021-02-23 16:22:06,277-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:22:06,277-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:22:06,277-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:22:06,278-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "rRQKznd3H1A7bv4kthsai9fV5ZgXDIJo"
2021-02-23 16:22:06,281-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 114, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_rRQKznd3H1A7bv4kthsai9fV5ZgXDIJo', 'partnerOrder': 'rRQKznd3H1A7bv4kthsai9fV5ZgXDIJo', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 87, 'count': 1, 'r_cost': 87, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 22, 7), 'updateTime': datetime.datetime(2021, 2, 23, 16, 22, 7)}
2021-02-23 16:22:06,281-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:22:06,281-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:22:06,282-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:22:06,285-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:22:06,298-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.87', 'batchId': '27564087818203751757885071307797', 'bizNo': 'bCwNQnjMUtWHG6Zd7uvJTx4FkLDloY0h', 'operateType': 'PRESENT', 'requestId': '48136629926635986551066164563575', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614068526295})
2021-02-23 16:22:06,327-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.87, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:22:06,341-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614068526338', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.46', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:22:06,359-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299631'}], 'vouIdList': None, 'batchId': '2064b71cc6a244f5875aa7399c031c14'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:22:06,372-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '2064b71cc6a244f5875aa7399c031c14', 'batchOperateType': 'PASS'})
2021-02-23 16:22:11,412-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:22:11,419-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:22:11,419-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "14238938688825"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "hJvuURW1YPDTNFk6g8Vx5GnQCeoLKBO2"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:22:11,557-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2d3ed5fad2a04d8cbbfe3f4573913b23"
s_p: "TUFscUJEUURnblNUS1JtMVRNUjRpalJZaEZEOUhIdlZoeUtHUFRVOVRMblFCUHMxeTVkeTRUNDFsSVlkOFFVbmtRSGM0TktTZ1N4RFJwM2ZCU1drZzdVaFNZRjBhVTh3TWwyMzhNS0JSZ1paSHpSZHVDeURmdUtKOE80bzBndXVFcFcxWHZDUVFIa3h5bGdTY2NOU3NIN0ZTWDhqUjNHb2lNU0RxT1J6NHNBVjFONk11Mk5OVVJMZEp5UjdZRm8wb3VVak92VkY1VEpSN0N3NTNuS2lzSGVzN2lHM3dURTFVOVd1T1RZSzhIUUtxQUNLNHVSdkR2YmVlSFhBV3ZMaFF5SGR1TzltZDF1OHZGZWxCWXJqYWNkdHVNTkh4aGNFWHpDMmw2VGxXVXpQY1J4RXE2TU9vU2tvMUVYOEFCNUwybGNWblpNMU42UUI2TU5jdms4QThEWWJ6a1BHb3BkcUxMSHdIWEdyWWllUVg3VVpuQjU0bk9EaXdYSWs4T2VUeGpYVng4Z2FCWG5FbUU1OUJXOWZBQjJBZ1I4b3g4NE0zNnpoVXJSa3RjTFJpMWxERjBzQ081YUpONXR6bGZxVjVncURwbUJmb0dYQlVtOVp1SXZQa250VEdSRTh4TlVSd0tuUUg1Nm4xZkdNZHhTVkNQQjNldDVlU2xRTkRzTGI2YWtvZEU0QjJ5TVZTa2loN0xXdmRkZFRySkVGcTNwcmhlendFZFFQOU5pM2lXWkFQaGFoUE1KU1U3aWxNV0tseGppcHB6Um43VzBla05aNEtrZ0NCaXZkZFVLQWMzYlY4aklkMUF6ZU14cnh4RFdoalVocm5kbWZQa3ltaWFmbDZNVHJ2TUU2ZkdpODhzRjBhWnliY3pCMGFPOHFQWDZHSkh4Z3pmT0JSdzlJZXNvNUlvNWdUODJRYjlTZk5qRThyVkEzMGZDNWd0S1ExZWNtNzE2OGJnUFdnYlp6ZnFxellBYlNFdVh4eWVHWjRjYnUwRHVJWFJEcWg3RmRXUmVZV2tlWEladmpmVWdmTG9UTlRka2F5NkthYUxyREpMakw="
m_p: "IU6eT8Heei0VmRJL83EaUWdXd04i73X661lY6JN4k8v9r6tTpQ02T4u9953l364Z"
e_t: "1614176533976"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.87"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299631
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 26
}
userinfo {
  username: "156******06"
}

2021-02-23 16:22:11,584-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:22:11,585-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "2d3ed5fad2a04d8cbbfe3f4573913b23"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "W1XvCQQH"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "MgcAe3su1ONU5aH0CVb7y8xplmwdY9ot"
}
sign: "Am5ytU2/tpHIwKAGnmED2JSY8agg21iYNg8XKHfbvFxz+XHB0tqWsN0goXjHvqOA/wu32P4ZwPFjEAfQDRvkd8hDzCHDJ1NSFSOfHuuOyRsoPztJe9iBv6Th2j2x7PLKgHcZBQsOLUthT/kaaxjYWJj1UErxqQTa0coJ0ojHs7cWbWIWTuWMWapxJPX4WPxUIuf9w2Lb/uB+9A5UnQOAPRYu3jZTXorUGw+shLZ5TY8kh8ZHrIsMOa5Hke199+DwMp/BlLicVxf7cHiPLesam1Ha74R+5UHuSEybTWBslsvqta9h/iv5eE1whSGeZnKJf+H3x0GWVvy3+F6U5mSWag=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "2d3ed5fad2a04d8cbbfe3f4573913b23"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "W1XvCQQH"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 534
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "MgcAe3su1ONU5aH0CVb7y8xplmwdY9ot"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "PxnBD919PoQgz9vj3I7omcWIUepaGLu79L16rVLYXoMcmo6EW9nYyOFfwoIeZ09prW0n0OQicSzX2MJluXuLiArcpGJ+X3MWZkypq933Og4b3f+bEV/0nPG1pVuRHGd2QaB9I8+z7H6hHLHiKz3oZLYh6e+h8tnnxmEWczobFxQ="
  appKey: "1234"
  voucherId: 62299631
  voucherType: 2
  voucherCount: 46
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:22:12,075-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"3fb90f72d58d4b5da30e950ad883edf6\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23162214483941e61e5f9e100c0baa0000\",\"sign\":\"3129E400FA1C5A93DF403BBBAD5970A0\",\"timestamp\":\"1614068534\"}"
}
payrequestid: "KB202102231622142076075925046212"
model: ""

2021-02-23 16:22:12,076-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[6835469399483921592554881525]]></transaction_id>
<nonce_str><![CDATA[tUhkQ7aLDPFSnzbvflgpswYOZI3x1rV4]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[3D4695855071B7A65C5E00289472F35E]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231622142076075925046212]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>401</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223162212]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:22:12,178-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:22:12,178-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:22:12,186-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:22:12,186-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "21354267071468"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ySIKiqcvPf4Qp5lAwtbxZgL6X8DY1ed3"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:22:12,272-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f2d9292d727f42eb95a6f29390b9ba32"
s_p: "Vzlmdk9HTUhGcGRjUjBzY1NlanJMS1lyRjJqeGFXYzhZR29JTmhrUlBLU0hjSVFGRVB6U0dQd0xQS0lrNVlpVUdBTFZrNWFnZkp0MWVaMzJ0b2ZiUWhaQm91b0lYOXFWbXpzbXZDUkVRQmFiaGw1ZUNqRGpWUHBoT0RXbEdVNlY1a0JlaUdhTENHc01ja09zOFZWcUJkalFNakNNaFJaYmUzOTVuSEpSNkdCR1ZXenlBeGU0ZXdVUFUyNlFXdjVlS3NxclllZUlOTEZiNVRzcDBTQUhGeFNZTzFneGVKUXdDeHFad3BGcjBrMVAyYzJFUFY2OHFCNVlOU2RUUDVXMFZHYVBCaHc1YXRrSnd6QVp2Mjd1VXF5Y2hOeUZCWU5wa1FIQkUxWElJaldnWjJZeEhzRk9sWGtiWmtQeTBxOU5ZTDF3UTh2bFY2VHBCRlpGYmpHa2FRNXJzcGZzV045UE1uWWNQdG1LSEU0QUoxYTN3SktwRkJoTHJjUWhadWtLbnFKeEFzSnVqYXIzZVloa3J3dTJTaUxROGI4SlhXZkU2TW1qaVFYZ0xjV0VmemtKSDh5OUhiQU9CSDJBT1hnR1J1NVhaR09yc09FbEZEU2JYNjFpa0pQcVppNjc2enp6YnFBSUZibEZ4MlExY1JjWVd3UWxKd3lLWGVyTUJDd05JZlJuS2tVUzBBUVhld1FqVG9rbVNKajdHdlJqcnJ1bmxzOWtpejNpU0c4SlZDRUJWUUFJdHA5TXpGNFhFWm1pd0tIS3Z4Y1dGbWRMdE90U1AwejlJYnJVWUgzV1NjZmY2NGdLVm5qMEZIQmZ3dWV4MDl0YURTa1VMSjBxSUFBcFM2dmFTZ0NFaERBSHhRSXR4bjB0cUlJc3Y1NHFpZTVtM1BtRUdOVVZPRWRRcWNMQ3U2M0E3Z2pTeEpFZWowT09JNzFhZWI4WkxaM3FxNTd6aU0zQXFUR040dkc0b2J2UWVzVE8yQXJ3SDMyVlN6eFZEYlcxMjZCQkdxZ1ZKb2RSeVJ1ZjFiTDJIU2N5Y3lTd2F0RVhYbUphNFV5RHB0ZFE="
m_p: "f9j46Y37f1F8fIgBpJWItXL2td605zlU6d0LwV6DqNuUo537xB531zmx2Gm8NS1y"
e_t: "1614176534744"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 25
}
userinfo {
  username: "156******06"
}

2021-02-23 16:22:12,273-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:22:12,273-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "f2d9292d727f42eb95a6f29390b9ba32"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "PKIk5YiU"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231622142076075925046212"
version: "260"
queryType: "PAY"

2021-02-23 16:22:12,328-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.01"

2021-02-23 16:22:13,328-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:22:13,328-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:22:13,332-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:22:13,332-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231622142076075925046212"
2021-02-23 16:22:13,336-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14968, 'pay_req_id': 'KB202102231622142076075925046212', 'notify_id': '6835469399483921592554881525', 'partner_order': 'MgcAe3su1ONU5aH0CVb7y8xplmwdY9ot', 'amount': 401, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 534, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 22, 14), 'success_time': datetime.datetime(2021, 2, 23, 16, 22, 12), 'modify_time': datetime.datetime(2021, 2, 23, 16, 22, 15), 'trade_type': 'PAY', 'kebi_spent': 87, 'voucher_amount': 46, 'voucher_info': '{"cutAmount":"46","id":"62299631","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299631', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:22:13,336-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:22:13,337-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231622142076075925046212"
2021-02-23 16:22:13,341-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7654, 'pay_req_id': 'KB202102231622142076075925046212', 'partner_order': 'MgcAe3su1ONU5aH0CVb7y8xplmwdY9ot', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 534, 'amount': 401, 'kb_amount': 87, 'voucher_amount': 46, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 22, 14), 'success_time': datetime.datetime(2021, 2, 23, 16, 22, 15), 'modify_time': datetime.datetime(2021, 2, 23, 16, 22, 14)}
2021-02-23 16:22:13,341-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:22:13,342-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231622142076075925046212"
2021-02-23 16:22:13,345-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:22:13,345-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:22:13,345-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:22:13,346-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "MgcAe3su1ONU5aH0CVb7y8xplmwdY9ot"
2021-02-23 16:22:13,349-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 115, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_MgcAe3su1ONU5aH0CVb7y8xplmwdY9ot', 'partnerOrder': 'MgcAe3su1ONU5aH0CVb7y8xplmwdY9ot', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 87, 'count': 1, 'r_cost': 87, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 22, 15), 'updateTime': datetime.datetime(2021, 2, 23, 16, 22, 14)}
2021-02-23 16:22:13,349-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:22:13,349-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:22:13,350-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:22:13,353-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:22:13,366-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.87', 'batchId': '93299414951292751080941099943323', 'bizNo': '1Xa3BL8dor9VKmACz0TwbYgjs4Rfvq6k', 'operateType': 'PRESENT', 'requestId': '35957139626213930663175520326894', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614068533363})
2021-02-23 16:22:13,398-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.87, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:22:13,412-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614068533409', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.46', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:22:13,430-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299632'}], 'vouIdList': None, 'batchId': '377393bcd5d447bc9ff997771892beb5'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:22:13,444-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '377393bcd5d447bc9ff997771892beb5', 'batchOperateType': 'PASS'})
2021-02-23 16:22:18,474-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:22:18,482-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:22:18,482-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "38208790001263"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Q9evsNbEROIU8awVTo0y5rXu2Px1gGtm"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:22:18,580-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "dc38df45fcaf4d27a393f0a82879246d"
s_p: "cnpaOWIzQnRsWFFKZ241bkF0VWJuS05hNlkzc3VSemQwSHRMTEhCdkp2SnoyVk1BNlZ6enZDeThXUjB4eUdyQUh0c0hZd0R1aml1NjU0RkRSRFoxYjl3S1FIRkZFaXg0Z2dEc1ByUDZIUk9IV3NmQklTVzFiSllPMXQ5NDk2dFlGczZ4RGtpSlJlY2JXOE5XWk5XSU1TMW9rSXpOWXJTODNtaG0yb0lSS1RrYnJoMEFpVmIyMXVtRTlISDFxQlFKdWtzaEZnWUF1SHg4Yk9iUEM5dkdNRmMzSFdFTkxkVzRFcVJYTUcydDFBd0VzTTlYazNPeERIRmhxTmo4QnlhemZxNkM2M0ZLNU9oQ3l6STBFQkVaNk9ybHdDNHQ5YTlUdWFvOTR3anJZeUp6ZFhnMU9BN0pEc05xNFlHMDIwVzVjbE41dzE1OHE4NDVRVnFDdnlNdXVsTmJTMVhZakYwMVRHeUVQRE9CZ1FKZWVFV1ZzSWc1VTVWaFpEZ0lFcllERXpuRGQ5WDBlNlNMTkhUTjVZSHpoY2FPNTcxZTFEdkNSVU1oMFJaWUlqRTRsSlRKNmlHeUtjMFBpTjU3eDBVN01EbVR6b3Rsb1YxZXN1SHZ1VGpQeVhjS2hCR0Z0Nk9lMG0xR3A3a0ZQRTdjOFlOV2RWejJWQXRSZFBRaFZTUWdPQXFkVmdjcWlub1F0aW9vejI0cjJGUXd5cTVmaGg1dDRiZzVoRVc0OWttbG9wbDFSZU45WjI3VWtocFJvVnljc290aWR1MkdEYlBjM3l4ODBMZ2JaWUU1ZzNRR0pSRGY5YkpIc2ozcWlmWE8zUWRoQ2lWNVZTdURNNmdpNnl4WnpVRTd0ZnVRc3VPRUhoUTV6NlVnSHAwUWxCRDZtem0zUXNhVUhsY0FTV3lOaFNIOWd4Rlo1NWppMzl3R0NVREY5UlBMMmlsazZDbW95eTNPeGxvN3lhTVNpQWRzSU5ndlozYjY4ZTBWVllVM09QanQyQ2huZm03elJPWGpNOE1vaWthTnFFZ0xTWWpETGVzaXFzY3NpRWdqM3FJWnBFcWU="
m_p: "y5w49GV2Yld6RDDaUbH3UneLCadX4EtvwF6lr83xfZQ8u25L77585QE72q6j6c77"
e_t: "1614176541046"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.87"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299632
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 26
}
userinfo {
  username: "156******06"
}

2021-02-23 16:22:18,604-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:22:18,604-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "dc38df45fcaf4d27a393f0a82879246d"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "WIMS1okI"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "TgsQqhaeAuyE3linCMfGK7R5oLBdmSDw"
}
sign: "BlKF3vXy/IisGRwcemuwtJ6CVG8tWXEByQTnN1PobXixu3drg/Pw0hxMcaliLXvSFMOWWIEat35reFNrOcUPgySfq+F69Q+nVB9tar9mfbA0rnOIazmtAeL/EDUd6FueSrqn8vV5LM8F9ODq3a1JRYuHXhTSuvew4HicQbReqeg08Tmin9RJYhng6dUMnr2AK0FSaJNDKmSxvxPenEX8BrzHz/BdIFGXqKiaGWDawf1AcLR02Aun/n59repeXp9aa10W3IDTjCmxRHoNTsQTWhTfdf9wMWY6rc8dRNlIVsvuWHXexHVpV3Ox6frP7UzZVu4ao/AyurUxGUUjoiVY6w=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "dc38df45fcaf4d27a393f0a82879246d"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "WIMS1okI"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 534
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "TgsQqhaeAuyE3linCMfGK7R5oLBdmSDw"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "Z6EFSZAwKZyo1Iyey7ekSNsVhAtIkIqIoVl4/U/rtZ7Jj8EbuZ5FT1n9KxbzcpO2YS7GYvdFnn4lTuJGGZ2sMN0mY6ELLjLN0abc3ocE8B3dyjsghD1xPuWJO8Zb44I+4ipYjAPDwVO5MOMuOJG+qSBaU4BRCAG3AAoyKJIw4e0="
  appKey: "1234"
  voucherId: 62299632
  voucherType: 2
  voucherCount: 46
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:22:18,946-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"811d5ddc5a0740f0b4542175b91f5b9e\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2316222138995508823103b20f4d400000\",\"sign\":\"7B2F229066334896E3432500ECAB1F59\",\"timestamp\":\"1614068541\"}"
}
payrequestid: "KB202102231622212076075925444802"
model: ""

2021-02-23 16:22:18,946-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8376737588321679833011936745]]></transaction_id>
<nonce_str><![CDATA[OR9HykXCbM0cIUV62PNAnvTlQjrfqgpY]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[7FD7FACFC087B1CA721E77FCD1D8FC96]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231622212076075925444802]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>401</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223162218]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:22:19,058-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:22:19,058-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:22:19,066-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:22:19,066-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "47510988930344"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "RQ4EMy6g9vzcIFYJ8Vmq7lAaxsSdkbKL"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:22:19,148-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "136e8d3b95f4462291856d2b2d584ce3"
s_p: "dE5aeGVvRm1FMW9oNktQc1JlNXNZN1d2TkxtUjh5TDF2ZWpBd09xdjI3RlRlVlowMW9hVEVUbU1NY0pMWjhvRmxIcWRUemlMNldmYnJVVk4yYXBKSnJuNVVrcHAwQ0cxRUsxM29KVHhnWVFPbFQ4alpISEJJU0w4U2haWWJDZFk1RXN2QlBCY3ppOVZhRzhhWXZiQTdIVHJQZFNJY21IaENqY3hQNENaN1lEd2FtNllGVUpsOWd1b3BucURKR2JhekRIdGlzZEJ0VFVWdEppbkY4UHBXQWRUODV6ZGJJOHk1OHp4VDFWS2lNUXVlOWc1eXhDeDMwU3M1VnhVVW5zZWZGZEhvSUVlbDY5eTNxQzBMVWNPeVJ4YnQ0ZkZmN29DQ29teGs5Y3FrQkVncFJpUXNGYnpjUW5TWUdVbENuZjVCYXFTSnRvWnFVMkxJRU9sMFVvTmQzaWJjb09Ub1dsaWFaUkRmMXZHbU5qeG5jWU1uUE1GZDFyODhZRnQ5cW0zN0ZHTVN6QWNuRFFHOFVnNWVHTEtXcGQxaDRsSEV1ZkpiVEhaQVVYblRsWHlGUlNpYzVwTU9EeW8wNkZmMFhqTmR0MEVqZEFDd3Yyc0NNeHNtMWhuamF2OHhiVTZ2OFFDQUYwR0ZWRTdmMEN1eGtMZ2JlM0V4SVFuaGJrWDNHZ2h3MVl4a05ZelpYdnV1ajlESzBRZjg2dVpJMWZaVUt1MG85YVhZaUlmUjhRaHJlSWZpeGt0RmN4cnpTcWkwSk45cTMwOVNETmxvdlNMdTBDZFdWaFdrZmtFeU5Nc1RqMTk3cGx2YzJISDJtMkNETFp1WGptazZxMFlpVW5GWFhsM1hpRlBMZTJYREhCQXVVRWdpVDhwZFA3MmdzWjZtVWVJWjI0NUJBZURJM3FtUm53dTg1NWwyRlE1cmRCUG12YUxJanhLM01oOVl3enB3V0NkanZibmJKNVdYRlIyNlJiY1BDVnV0M0RGMmtlVUJTQ1JvMW5HamNqcVdPZEs4b0NWYks0eElUTnZtRkJaVHdtckpJSHE5TmNGUWtTQjMzb3o="
m_p: "kJtqdS3dPY3xnscro94WB9Bl8WVvKsd7kRt7M6DZQg55O0035m6s30w5662mPbKw"
e_t: "1614176541621"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 25
}
userinfo {
  username: "156******06"
}

2021-02-23 16:22:19,151-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:22:19,151-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "136e8d3b95f4462291856d2b2d584ce3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "5sY7WvNL"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231622212076075925444802"
version: "260"
queryType: "PAY"

2021-02-23 16:22:19,203-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.01"

2021-02-23 16:22:20,203-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:22:20,203-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:22:20,207-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:22:20,207-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231622212076075925444802"
2021-02-23 16:22:20,211-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14969, 'pay_req_id': 'KB202102231622212076075925444802', 'notify_id': '8376737588321679833011936745', 'partner_order': 'TgsQqhaeAuyE3linCMfGK7R5oLBdmSDw', 'amount': 401, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 534, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 22, 21), 'success_time': datetime.datetime(2021, 2, 23, 16, 22, 18), 'modify_time': datetime.datetime(2021, 2, 23, 16, 22, 22), 'trade_type': 'PAY', 'kebi_spent': 87, 'voucher_amount': 46, 'voucher_info': '{"cutAmount":"46","id":"62299632","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299632', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:22:20,211-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:22:20,212-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231622212076075925444802"
2021-02-23 16:22:20,216-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7655, 'pay_req_id': 'KB202102231622212076075925444802', 'partner_order': 'TgsQqhaeAuyE3linCMfGK7R5oLBdmSDw', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 534, 'amount': 401, 'kb_amount': 87, 'voucher_amount': 46, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 22, 21), 'success_time': datetime.datetime(2021, 2, 23, 16, 22, 22), 'modify_time': datetime.datetime(2021, 2, 23, 16, 22, 21)}
2021-02-23 16:22:20,216-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:22:20,217-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231622212076075925444802"
2021-02-23 16:22:20,220-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:22:20,220-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:22:20,220-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:22:20,221-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "TgsQqhaeAuyE3linCMfGK7R5oLBdmSDw"
2021-02-23 16:22:20,224-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 116, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_TgsQqhaeAuyE3linCMfGK7R5oLBdmSDw', 'partnerOrder': 'TgsQqhaeAuyE3linCMfGK7R5oLBdmSDw', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 87, 'count': 1, 'r_cost': 87, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 22, 22), 'updateTime': datetime.datetime(2021, 2, 23, 16, 22, 21)}
2021-02-23 16:22:20,225-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:22:20,225-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:22:20,225-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:22:20,228-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:22:20,242-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.87', 'batchId': '99537396128858249398198697098049', 'bizNo': 'hbCN5LnjmJiRVEzqHPpvuGS26o0WFwA7', 'operateType': 'PRESENT', 'requestId': '47773580698138852189564513524347', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614068540240})
2021-02-23 16:22:20,274-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.87, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:22:20,288-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614068540286', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.46', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:22:20,307-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299633'}], 'vouIdList': None, 'batchId': '2fd63af444d348da9ddb4e76d2a17042'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:22:20,320-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '2fd63af444d348da9ddb4e76d2a17042', 'batchOperateType': 'PASS'})
2021-02-23 16:25:17,295-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 16:25:17,547-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 16:25:17,590-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 16:25:17,590-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 16:25:17,939-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 16:25:17,943-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 16:25:17,943-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 16:25:17,947-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 16:25:17,947-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:25:17,948-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:25:17,951-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:25:17,965-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.16', 'batchId': '74307417077847978775903225018115', 'bizNo': '21hZ4IjtSwEpBzNsvKXiaDg6AqMbl3He', 'operateType': 'PRESENT', 'requestId': '51908191583091742013351204386562', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614068717963})
2021-02-23 16:25:18,008-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.16, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:25:18,023-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614068718020', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.8', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:25:18,055-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234462'}], 'vouIdList': None, 'batchId': '3538730c1d7f43339c308df6fd55da65'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:25:18,069-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '3538730c1d7f43339c308df6fd55da65', 'batchOperateType': 'PASS'})
2021-02-23 16:25:23,104-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:25:23,112-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:25:23,112-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "82028825294671"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "D4lmojsIzNT26KJkU13VgOntb58EBivp"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:25:23,361-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8b4084b142c34f70ad205ff0054662c4"
s_p: "ZmlkQmRZRGJ2NEN4RUZteHpVUnFGWmdlQ2s2ejUxSTBLdU9XaTJpelg1VXNVSFpKY2RQUHJqWVJZMnBhS25hdmdCWnZ6b2ROc21LSjJQMnBWeDFZcWxxOG9Lb1B4T2FueVpmVExvYkRWcUxiOUx2V29WaFh4cjlkTHQwQjFBQ1p1MG4zUXdnUndycllYcEJVQlhJaHpGcFY5S0Z0Y0txZ3l3emVtN0tQdll5bXY4TmxDUWZxWU9xMU95aU5FNGJxUGxxTTJtSkVNZ1A1aDZKZWJkY3FNNHBzd3dEaTRlcmsyNERsRTVZbVphbEFrWmREeWo5a3lOY0hkWVA3bFFHRHhkS1NQYjgyUTcwS2NMZWVkM0huUFZweEpKWk93cTNFMko3WkJLZkNqUUpDY09CQ2NmNTd2cWF4V20xc0N3WGpoQnJhYmtKV2FuTHVFZmlGMEc3aHNtSjU4YkNxYkxXaXo3aDNweXRrUHJDM2xHTmI3djJvcGY4anJlaWtKUFd6Y1k1MmlLSHE0cGtVRE5pWDZ0a0IzSzVnMmtSVFpteWNQOGpOdHJ4dFp4NjU1eWVGRmpLSmROVmVJckNLTmNPbXl2Mk16bUxZQkp0WllwaVRMNzlRZFN4OFBpZTdmNUp3NENEM0RrWk5LSUhwTFlXOVVTRFlBMUc2cU1nRjBPQ2VyQVdZYWcxSVJzTE9WQ21VTVF0a09PVmtvN2czZTliUWRCeWJIaVg5TXNGTXRIUHN0bDlGbzBqSHBJSURvRzJDS3Z1bUJkWnV5UmF6U3pQang1eGNXcnE3d2t5MFJWcjZhSTh2akRoSWZ6VGZTaTZVQTZZR0Q5Zm9yQzh6dTRmVHB5c09zR0h0R25VdmU4UjVtZHZSTTh1SVF2ZzNHMzJsWkx2WkxxMUF3SkZiMk1OS0g0MWt3ZXI1MzRCWUdmczJTaTZ4U013RkhMcERyb2d5Wkdzdk93UFNVa0pUOENOMU16NzZtYTJFQjNUazE2MnY4d2FsRDRBdVZwMzVrbTN5WFZ4TXRDVDhDckg1RnlDSHFnZ1RjT1ZxQU1lRTBTQ2k="
m_p: "40xC1yCL5SMu25K1D37L70t8R58w8iz5U68Lm99Tp8A0n7WPpt8JC2y3pQJ4uVlJ"
e_t: "1614176725806"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.16"
  vouBalance: "0"
  vouList {
    id: 64234462
    type: 2
    minCousume: 100
    vouCount: 80
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 14
}
userinfo {
  username: "156******06"
}

2021-02-23 16:25:23,390-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:25:23,390-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "8b4084b142c34f70ad205ff0054662c4"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "1Yqlq8oK"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.75"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "qt4or3DFIy7dJnhMzCugOYcPAHNvSKLk"
}
sign: "6OTHIra3XK6xxSPTjMTlB7qNMHqM0cO3f19xs6NQnMsy84yYsiITiG1rOFo3b2BzZsTHezJuJMyCn+sKCTpVtMLaGxREcOb6TEX8N/HaFZ/uqyzNTw8aqpydwlxqcBP2FWZ9r/7HqvOkhhiL2fpp7YTcS/oss7pHgA7nwjQpHCZ5UKScq53JBE+eon92QvUSHV1wOqPWSbWS6EJKmw6cxs8e+0j94GltPggXl57SzsLOC4g6sBtoiwmiDKF2BuORCvvTRO6z3VQDoIxsRLZP9QJ//Ei7FusbkB1CfiofXiVP1qLCmqcTeF2fBRqzXngWQQfZ3sQWcSUwvHND5ecadg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "8b4084b142c34f70ad205ff0054662c4"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "1Yqlq8oK"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 671
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "qt4or3DFIy7dJnhMzCugOYcPAHNvSKLk"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "CBc41rkKdbY3iPLWWbUjhNPg2nmVwBQ6/9qA9uGsDg4qvFCCESMyMQF++vlM8hk5WUgEQqBnaaVn74hLEoiZ0zW7shhyWmtUkqBFD23XVTyO/4L8a7WxTZCRAryj8NWPj7+mpniJ/YLC/gzE/l9MmhdKsmeKl/V6GjlW08dahhQ="
  appKey: "1234"
  voucherId: 64234462
  voucherType: 2
  voucherCount: 80
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:25:23,854-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"76aea7ee5e73423898ae3450ac7a492b\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx231625263078518f41db1aae8169ba0000\",\"sign\":\"559B9EA59076D234D65F36A44A4D1488\",\"timestamp\":\"1614068726\"}"
}
payrequestid: "KB202102231625252076075925312032"
model: ""

2021-02-23 16:25:23,855-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[5405887097997397390848402210]]></transaction_id>
<nonce_str><![CDATA[Y9D5UrEzhPcVoMufva0H7X8KFlsjpGb3]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[C07165377EBF6C5C499E9FCDB5CA9379]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231625252076075925312032]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>575</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223162523]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:25:26,448-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:25:26,448-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:25:26,456-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:25:26,456-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "00392474009959"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "RX8gxHesWIQP0Gpv6FJZmYa7t4LNbKBA"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:25:26,585-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d9b06d081061463284efd2078a466c2e"
s_p: "dHd4alBpaFR5MmZEcEtvVXVGVlBvR01aSmVQcWJGODlMTk1YNlI2MzhETmdkTlhRY3dYVlBuRkR3S2J6NTR1Z0l2YzNyazFGdUZhRUE3NHJWYjJQdlk3Vld6YlVyZnpMa2xZMml3U1Y1Q2tvd0pFZ3ZlcTN2ZW9YVVo5RWw5Zmh5QnNjQzRtRUhnU0hGOVBEN1lMcGI4cm1VcEJuVEJ1UmxWMWJ5SFFoY0N4WmJxUXRmTFE2ODRYYllmMHpOR3p4RUgzdVlTQWFyYUQ4MUtTbGdKYkFVTGJ2TEx3Z3hHVkNJaE9idjlBNGJlTTdrYURkWHAzaFBHem15Zm9xOG04dDJScnpiVjdldDhJQ281dG1QbHY4akFuclladW9jdURnUmN3Q0tYZ3dQbVU1bXg3OWN0WXhGTUtwNEllWkc4cWlzU2FVR2FOWmNiUHFFYmVTNzVESzVZTEVSMjNON2dKWW96QzJKYkwweE5KdHBMcWVkUnpiNmxlSGVMUjA1eXNDZUtlRTFwZ2pQd1Yxam5jaTcxcG5vMHJkdkhkQUZQeVRWd1FPNkJwRHJJM3JwcGNYMGQyUjNyZnY1Y3VSMjV5NnBGUTBhVE5MZ05oN3pqdUJCR0RBZFB4VlVnUGt3dnpNbDBCTWxLTUN3R01oVnVhcnRjWUFOV1A5YmdSZnplSUNOMWlCaFQ0V3JMcUp4S1VtejFLRjkxcVZ1YXZlTHhQdTh1bEN5b1FhN082M0R3MDIyNWx4d3d2S2tFZnV3aFZBT05lcENJREhXVFJBRnAzQ0RDQmxxcUtzcnNGYnNTdzFlVFBZcFNqeHoybVRWNHVQN3Y1Z0xxOTUxR3ZGWEpYbVljN3ZHTGI3TnlVU3BXdUI5WWtyNTZkS1R2SnZ0Wkh5RVlCZURhNXU1TkFTSXhSM21CcTR4SmZLSEh4bmdPYzRiQlJ3RmVxOEI1alltc2hVNGlQN0JJN3FUb1BieDFrNFNEWHBsS2pFYzZXM20yckdNYmVTNG1jdFFXNHVnZ1dTUXRRMWJ5UzNNeU9KYVRKTXV0MVh0UUVYTlZxc2trUk4="
m_p: "6FW11Aak4gfz72961LEk5a2GqLN41z9YeKVgT040E01s7f0N4W9lnHgia1d1ekfh"
e_t: "1614176729023"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 13
}
userinfo {
  username: "156******06"
}

2021-02-23 16:25:26,586-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:25:26,586-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "d9b06d081061463284efd2078a466c2e"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "mEHgSHF9"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231625252076075925312032"
version: "260"
queryType: "PAY"

2021-02-23 16:25:26,650-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.75"

2021-02-23 16:25:27,650-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:25:27,650-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:25:27,654-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:25:27,655-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231625252076075925312032"
2021-02-23 16:25:27,659-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 21506, 'pay_req_id': 'KB202102231625252076075925312032', 'notify_id': '5405887097997397390848402210', 'partner_order': 'qt4or3DFIy7dJnhMzCugOYcPAHNvSKLk', 'amount': 575, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 671, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 25, 28), 'success_time': datetime.datetime(2021, 2, 23, 16, 25, 23), 'modify_time': datetime.datetime(2021, 2, 23, 16, 25, 29), 'trade_type': 'PAY', 'kebi_spent': 16, 'voucher_amount': 80, 'voucher_info': '{"cutAmount":"80","id":"64234462","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'combine_order': 'N', 'voucher_id': '64234462', 'factor': ''}
2021-02-23 16:25:27,659-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:25:27,660-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231625252076075925312032"
2021-02-23 16:25:27,664-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 11267, 'pay_req_id': 'KB202102231625252076075925312032', 'partner_order': 'qt4or3DFIy7dJnhMzCugOYcPAHNvSKLk', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 671, 'amount': 575, 'kb_amount': 16, 'voucher_amount': 80, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 25, 26), 'success_time': datetime.datetime(2021, 2, 23, 16, 25, 29), 'modify_time': datetime.datetime(2021, 2, 23, 16, 25, 26)}
2021-02-23 16:25:27,664-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:25:27,664-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231625252076075925312032"
2021-02-23 16:25:27,668-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:25:27,668-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:25:27,668-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:25:27,668-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "qt4or3DFIy7dJnhMzCugOYcPAHNvSKLk"
2021-02-23 16:25:27,672-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 30675, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_qt4or3DFIy7dJnhMzCugOYcPAHNvSKLk', 'partnerOrder': 'qt4or3DFIy7dJnhMzCugOYcPAHNvSKLk', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'price': 16, 'count': 1, 'r_cost': 16, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 25, 29), 'updateTime': datetime.datetime(2021, 2, 23, 16, 25, 28)}
2021-02-23 16:25:27,672-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:25:46,581-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 16:25:46,891-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 16:25:46,933-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 16:25:46,933-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 16:25:47,336-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 16:25:47,340-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 16:25:47,341-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 16:25:47,344-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 16:25:47,344-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:25:47,345-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:25:47,348-INFO-fiz_db_operate-26-可币余额：0.8700
2021-02-23 16:25:47,357-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:25:47,357-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "55980080679737"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "is3G6zDdPAjlWtF81RxUecOJ0794gTkZ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:25:47,498-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "3a72b6e2295d40e2b42d9ae1cd208924"
s_p: "aVBUMVpnbFpHYUNNcVNDV3VoR011akpXMnpZVnI2Q05OZWFLZUpYQ09UWjE4dFBUOVpxSDFsU2c3akhaQjI4bHIwVk1GR3NYblk1a1B2ZTdxU2hOMUc4eFRiSjQzUzR2bEpVdlVYdlpsTHQ1R1UwcDRpa2lvWmlucDZmQzduUkk3eGREWXR0WjV2M2FleXV5SDdmQ1NlSGRMQzNYZElKTTVDM2dtZFl3M2dOaGJvTXhEdGdUSjJxMWpKNzVWZUZjN0tqRUtSeFhKSEU2MnpOSEpFNWRnZTlhSFVLdWFscW9ERHByZlExVGZ2dzM0TE1ua0Y5NTJRa1dUTVMwaWgyVXJEUFMxWEVQNXB0Z3VTcU1XczY5NW1sckFGWUZjTmFUc00zNU15YmhjbTJCRXY2ZGNQS0NONVJLRFY2elhJWnpnejVCemhQeUNkSGF4WDBISWQwSUI4MFhzbk1EOHUzR05XdzY5Zk9xajR3WXJjbkVHWWtTcmIwNEtoQXU2dHIxSVhZVjhLWGVwTE1KRzFsZFJHaU9kOXNTYWpZeWRtZWZFUGZjaE43WUtNMWNPcGRLaktyQktCZlVtbUp1WW9XbkJyWXlORmtINk4xeG0wZXU3ZnhDTVBPMUJmbHAybmtNOGp2QUh3TjE4U1lWS0VHVDgyWTFDUnFpZjRuem9Tck03YklRazVUMXUzUXlkc0lPUVVoTU1ldHp6SkpqWDJLUmVMOG9MbUVYQVBPUDN4aHVWZHFSNXJRYnFYRFZMQkRrbW10YWdveEdhV1RSWWZLdWFwSlE0aURlcHVPeHR2TER6SFpRMlN4ejA0TFdCclg5MWV5MXozbHZ3UGVYZUpmZU5lM21LYUN4YkxDS2tXSGFveTRLTGY3bEs2WEg5SWxXdVhwNmJXemZ4aWN0MjZ4U2JhOWdvalZFVnZSQlo2UTlPVFZGMmpUc3dXNWJoSHJpZ1dUTWthTHZwVGQxd1F0MnhGU2FEa3pGdVRTRXVJa1hMNDNhdmtyNG1VMUQzUEMxVlZDQlRqdlJmTVVlc3dETzNMVkZYWkJmeWREZHhUU2M="
m_p: "sqSF8C9e30g2JNTm6gRxS6WgOOD83sm1Y6blsf2fuz2WH54pl6O37E6u96N03NnW"
e_t: "1614176749958"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.87"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 26
}
userinfo {
  username: "156******06"
}

2021-02-23 16:25:47,520-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:25:47,520-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "3a72b6e2295d40e2b42d9ae1cd208924"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "inp6fC7n"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 87
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "2wKiubAQSsaM43UBgy5dIJV1clXjOhLp"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "iRW1uXhk+daMp+gvr18a+7jruGqKFCq7xbsF51B1UEtedqRXcP8tnNdMzJMN83bZ5XNwcfwRJocejxZ2H4wdfaJ1Bd6ZLcz4MUWeABf/qo0byavaCjqa8O4p6KcdylyXQW1hsDtr/3o0Bv59p8xow2jlpP3a9ZlzE/tDJpjWzPo="
order: "9555787618497"
ip: "120.197.152.211"
factor: ""

2021-02-23 16:25:47,715-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 16:25:47,729-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.4', 'batchId': '73977066838570618144566453139634', 'bizNo': 'jF35rWIANKmJc6wnbULSXgy7HMsdCkY8', 'operateType': 'PRESENT', 'requestId': '26502070682131964949162612565167', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614068747726})
2021-02-23 16:25:47,764-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.4, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:25:47,777-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614068747775', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.27', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:25:47,803-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299634'}], 'vouIdList': None, 'batchId': '5d1c2c44860c480baa5c6b7c49c4246a'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:25:47,816-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '5d1c2c44860c480baa5c6b7c49c4246a', 'batchOperateType': 'PASS'})
2021-02-23 16:25:52,858-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:25:52,866-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:25:52,866-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "79028275488997"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "27koH3GuQrTZzmJMEWUlD0INYPdLcven"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:25:52,959-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "363e4af1603f4d97853771aae19267a8"
s_p: "ZWZKUGh3OUhpa2doTUhPQlBHOXVGM3NHWWRTNWFtaEtSdk1Fd3Q1VktOYjJuUHhiRlJ0WWhXU0ZjS3JlVmx6YkxYVEJ0YVN3ZGtudkFnQnBzRDVmS3g3UXpvQklmVDFRdjdmcVY2S3MxM3M5NlZOQVNYTnZDSTB4SE9PcDZ6aTVrS2lmQ1NaZmxVakhlU2VxdVY1OFNBSFpyYW5XdmZtdTM0R1R5VWdqVFIyRE1WakF0SERTcFNJM3dyOHh1MHE1bXNYNzRvUHphcEpGVFQxcmR5enh6ZzgzRTRQZ2J1ejNzZkZwQ0tsbWJ1cWFXdUFmQlhsRk1jek1NS3NzMkNPZ21PWkZ5a0xIUVlYYU9uTFdXTGR4V0lyNzVmblpsaGVCdW1ObmFBSnY0dXJ3TjQ5NUxzMEg3NmplTkpsT3pqcndMdTlRaEc2STZJbEtMN3RyOG5RTDY5YWpMUHlDZjhVUDh4eEpMalJaUDlQd0MwTUNFY2o4MmNDTDR1OG5EWU5BTFFiS3dXaGluYnJCcmRxSHlnU0NYeHg3ZG8zakcxTzJiS2xHRkJ2bXBYelB5ZWdEUzlsWkZCbTVwM2hBamdkM0JxRnY2VGFBNGRjSkJCcUFYY1ZIYVJCTWlTdHR4VzZoWkRnUDdqSGtzT09tcFNpZWNhMHN1N3VMOGtWblNiSVM2NmFydmRBanNOaXNNVWlXTlNHQ29FQTgwQ09ZUVI1WkZNcGhRU2FoRkoyWjZ0Q1AxM2hXMk9oWEZjWnVVeVFQaWJxbzA0c2VqdDAxNEtOTmo4MlNUdEduRUhSYVM1WUJ1VzNtWTNKeWR5ZDMwM3JwWTZkNDlPalJ1MTVDa1kzQndUWXgwUktOOE4wc2c1eEpPQ2wwNDFYdnp2MXdzd3dGb3lGOFlaM3BDeHpDQk80N1hMS1pjcHBBM3A2OHFGNEV4aVNZVHRSM0M3RlY3SmVKYnVjNkhleERyd2VnSkFrNVFQdkgxbUpZRDJoR3dOUzk1cTBYT2dhYWExTFZXOUZUOFpVOU95aVBkcnhWWnVzVEp0YXgwSDVORHJzcTcwNnc="
m_p: "797zj7eF8gO042X9u1HT7NNvB5994VaOW6Uz9WVj25Q4lpT9Q67hF2hrNrxf41wk"
e_t: "1614176755426"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.4"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299634
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:25:52,984-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:25:52,984-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "363e4af1603f4d97853771aae19267a8"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "reVlzbLX"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.92"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "YKWb4BsxFQLXDoAuVMc6StGHZ1Ewi8kp"
}
sign: "vHxNqRm5vLOCuhmfJjk8QMh9br/6UkTobCX63mAWapyU1vrF8w7oR56+tO7eJ6MFgWSY57JegP8p73vsNzGuIvOQnmD/p5MCzIi7pV3sByeg12fpW8b7hvFvM2iKj/oCspUYrsh9NRWfkqb6ss03T0pyz+0aklbqD9phGQvTU2A6uQDt4KE98lKCLdK2oE559wpDwyy5JYBb6mNmHLV4/GNMik0inUx5WHtAN90lp+LXIycIcGdZDgBBiR+en9yEf094YKpWPftPFdg/zX+pZZN1/riJTOFgdYXxam6Qx3g5EWZGIjfQsQbXsuoGhZU/xOdGDuZonsKN30SxJfrPjA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "363e4af1603f4d97853771aae19267a8"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "reVlzbLX"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 559
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "YKWb4BsxFQLXDoAuVMc6StGHZ1Ewi8kp"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "MSbg5zNvu3SgfwTWegUiuOs4UH4JVow1mSIy+tT3FEUirYauBtjt9ASGCvHVzd8h2peS7fxBa9D3PMqWPw+WnOiYC1NztkeUOBWX30UrATktEaCuLkt3al5YYFR6hyv9Uww0vhA11WuvzeXoUckYRQdpNDYp7ixTB7E+pe8V5W0="
  appKey: "1234"
  voucherId: 62299634
  voucherType: 2
  voucherCount: 27
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:25:53,356-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"2d3c3b0bd57c4d8789ed7fc208700a3c\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23162555808930bf52ad7106f2e2880000\",\"sign\":\"5BD32F5C4791C24710D5402D3ED3D652\",\"timestamp\":\"1614068755\"}"
}
payrequestid: "KB202102231625552076075925330822"
model: ""

2021-02-23 16:25:53,357-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9860465456821206063213237569]]></transaction_id>
<nonce_str><![CDATA[3tBlz1L7WcGMxmkXyUaKZjvVpCdN4Q6e]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[6DAD3951F016DE13FF20559682D91818]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231625552076075925330822]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>492</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223162553]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:25:53,488-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:25:53,489-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:25:53,496-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:25:53,496-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "46053348124788"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "XsLDgapjPz83qZ70hetGmxF5M2BYQACv"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:25:53,579-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2842a3cae76145299f9a0826c6f863a2"
s_p: "cHVpS25QM1lNWWdHTEhoVlFJTlhrNmNWWXgyaFdtMHNCZEhjNWJxaFdlR3NqT09LOTNMdkpCSGZMajlyOUs2QkVmVktOc2JIMHhsSkJodGRNaFUzQ2I5MHBVczhjbHVEM2lzUnhhSXowWThKTU1TakxQRDRtR2N0aTMwMTlQWjkwZG5ibk5sS2UwVG80eFpEOXdkNnJ0dW55OFVEeVFzdlBVc21pYUFHT01mWEprYTdiMlRQTGtWVGdFZXZMdERGVDNzWU1SbllFRWFWS2ltSUZvWXd3N1A2VE9tVGJLdGpMUTdkcXN3alJYVFlYVmU3cTk5Wkg3Q2ZUT05pNzJONnY3Mm01TUpRblFScnZaMkZ0bzRIOUdBQ0I3UTB2VGhmSmtUSmhENldmdnhRNHZ0OUVJNGhnOGI4NVVnajVUMkY4RDM2NjVsdWN0enVrRDVGVFg3Smt6NnltZnpzQmdpWmY4ejNjNzd0RzdKVk1TeUVWRlduZTY3eXZsY0J3NERrRmZVQW1oYTlhdzlLdVFZVER2OUthVlI2Y0R4R0Z1eFo0T0ZNanRScTNvdm9OeEJCRHkzQXFPVVZoN0pCZ3NvQ21MY3oxbWxVVmJnUlNjcXAyaDBkbkFkbHg4ZVE3eEtNMEloeFdJVzg2dGJEdERiR090emRzSEkxdkhuSjUzM3lUaHowZlJuc0pKclRzMjNFTFV1Q2hqOTRGbHpXRnlKSjk0NDZPSjloaFB0YnBqWE1aVE1xUVJrbHlhaE9WdEcwQ2VHMVA5T3VtaGFOZDRCT0VNd2xRdGxJaXo2VEI2MkprenVpTnJxSzJnS1h2MDR5V1U5MDYzcU9Zcmw5clJyWmg5V25MTEpPd2JpWGJLWVVGWXdKMEtCRHRFQnFDR0h6SEJqV1R3ekJoZHp2MW5uQmJDWjhnaTR6bDczSUpVQ0twYUhXdmdhZnA4SXJScWJ1bWtnR25abnVKaUdBeWR3M0NJbzJpMkNqUmxuQWNnbW9oVWtmRmdpWkQ0YXNwN1FxS2V6Rzg0WHNzYmwwemFEb3NNemEwTnowbGxOWXpkaU0="
m_p: "0fTrQXaxpkgV5Y7z0GP9qm1xR6PnWSd62llD4eaDzEwomvpp179iiU0sSCY5Mc3o"
e_t: "1614176756054"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 26
}
userinfo {
  username: "156******06"
}

2021-02-23 16:25:53,584-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:25:53,584-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "2842a3cae76145299f9a0826c6f863a2"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "0sBdHc5b"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231625552076075925330822"
version: "260"
queryType: "PAY"

2021-02-23 16:25:53,645-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.92"

2021-02-23 16:25:54,646-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:25:54,646-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:25:54,650-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:25:54,651-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231625552076075925330822"
2021-02-23 16:25:54,655-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14971, 'pay_req_id': 'KB202102231625552076075925330822', 'notify_id': '9860465456821206063213237569', 'partner_order': 'YKWb4BsxFQLXDoAuVMc6StGHZ1Ewi8kp', 'amount': 492, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 559, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 25, 55), 'success_time': datetime.datetime(2021, 2, 23, 16, 25, 53), 'modify_time': datetime.datetime(2021, 2, 23, 16, 25, 56), 'trade_type': 'PAY', 'kebi_spent': 40, 'voucher_amount': 27, 'voucher_info': '{"cutAmount":"27","id":"62299634","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299634', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:25:54,655-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:25:54,656-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231625552076075925330822"
2021-02-23 16:25:54,660-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7657, 'pay_req_id': 'KB202102231625552076075925330822', 'partner_order': 'YKWb4BsxFQLXDoAuVMc6StGHZ1Ewi8kp', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 559, 'amount': 492, 'kb_amount': 40, 'voucher_amount': 27, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 25, 56), 'success_time': datetime.datetime(2021, 2, 23, 16, 25, 56), 'modify_time': datetime.datetime(2021, 2, 23, 16, 25, 55)}
2021-02-23 16:25:54,660-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:25:54,661-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231625552076075925330822"
2021-02-23 16:25:54,664-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:25:54,664-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:25:54,664-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:25:54,665-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "YKWb4BsxFQLXDoAuVMc6StGHZ1Ewi8kp"
2021-02-23 16:25:54,669-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 118, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_YKWb4BsxFQLXDoAuVMc6StGHZ1Ewi8kp', 'partnerOrder': 'YKWb4BsxFQLXDoAuVMc6StGHZ1Ewi8kp', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 40, 'count': 1, 'r_cost': 40, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 25, 56), 'updateTime': datetime.datetime(2021, 2, 23, 16, 25, 56)}
2021-02-23 16:25:54,669-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:31:18,933-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 16:31:19,206-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 16:31:19,252-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 16:31:19,252-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 16:31:19,736-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 16:31:19,739-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 16:31:19,740-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 16:31:19,743-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 16:31:19,744-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:31:19,745-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:31:19,748-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:31:19,762-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.67', 'batchId': '69172277357080324045043226805998', 'bizNo': '3fLIdZCTnbBW7ovSjR5mh8UixXqAzM9p', 'operateType': 'PRESENT', 'requestId': '96370310870192120349987584032325', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614069079758})
2021-02-23 16:31:19,829-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.67, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:31:19,842-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614069079840', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.14', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:31:19,866-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299635'}], 'vouIdList': None, 'batchId': '20886b4faaff48e7bb221a0502b237c2'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:31:19,879-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '20886b4faaff48e7bb221a0502b237c2', 'batchOperateType': 'PASS'})
2021-02-23 16:31:24,911-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:31:24,919-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:31:24,919-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "92302007467944"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "gqebGrU8RzLcOvjlYhpKaA6PXwiTo9tI"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:31:25,047-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "856f9930c21041649a8948d07fcf14fc"
s_p: "eWRVQ1EyT2ZPcDh2ZTFOV1B2S1F4MUxRTjJvcXk4dnFuSXVJV05IMThVSTA5NENPUlFLVzhTcmNRQ29tbElVdFpaOUd3cXJ2M1VqZTlaREtxRXkwOHZPVEk2aldhYkk2VWpIemFmSW9ONDJnNnFiYUoxVmNsM2pjOEJYS2NqM21vSmhSTEFWc1VLaFdpWGJrbzIxZzJ0M3dVeW9RNDE2VjcyMXVUQk1mWmxSTXR5TUNXSklyMDVMMnRxT0pxcXdGNGo0MzRIUU5NM09mczlZcWkzTU1UckZXZGM3MTk5QWZldmNqRlZBQTlYR3dEYzhrc0VEZDU5cXFudHRwaVBaQWVWSVVDckZrY3h3akExckR6YjBFODhiT3lvc3Z1ZWwyNWFaNFZ3d2RwR3lxdXlrc2FsajVLcXhEUjR6YjdZZGNEa0RXM0dqZmFiZ2dmUEM5bDN1QjhVTlk5WTRtN2Y5ZWN5SVVFeDVjUkZnVlhtVzZESTdwYW9Xb1lNWkt2NlhmOFFYWktNZG5xTk1KQllJMnRCelJKdDBycVJVT2p6NUE5dGJRWURqa1g2Q0xuNXJFeGZJck5Wa1BLTkxCbnhqUlI1NkZjRGcwZWhPMGhvb0ZLTnl5V09KSUhoMVpMb212OFBWc3FZQTJyRlpXYXJSbkxJZkdzODIwNE55QU5uNFNsbGpyUFFiQTJ2YjUwOVFxeWZuMVhma1pDVW9tQ0Vpc1FpRVRkenVlbHJnZU5rTWJtN3Bza0p6bWRCbEV2aHI2MVkzTUdSbzlTb2YxU21weEFtcXF1NDQ3cUpxV1dJTHZEd084RkFmSzI2TXk5RGlPYlQySHZJV0RuSGg2NXI5VFZmOGhVT3pycldJS3VocXNYQ0MxOTNVeFZxbG9hT1RQTHFEeGJoY0xaZ09LTEVFV3A4SjNlVlBYanBSVzc5QjhHNmJJVWhaTmJaeVVTVTk3cTFSWWN3cG9YWlhHcGtDWTNNZEFmVHJIcTUyT0h6TFl3dzdnb245OEROaG5aYmRpUkpCQ2Z2UVJBUjMzUWo5SjAyRGJFcVQ2YnVLQjlFODA="
m_p: "tMEE8V69wB6Vp4NbOm9577j91e86pr1y3frv1a8l2M9Cu02gFrTQIV79B57PUzB2"
e_t: "1614177087515"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.67"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299635
    type: 2
    minCousume: 100
    vouCount: 14
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:31:25,075-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:31:25,075-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "856f9930c21041649a8948d07fcf14fc"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "y08vOTI6"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "9.11"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "1mDCqU5YGy4XNSaunxdWhtcvkiPBIMRT"
}
sign: "cx275kGE1bKo/edtV2u7uR+zh6tQ4aIJCnkiNf3BlDDOvo4ZGs9LTfUL/Hj0urS9+hRY+O3OXnA7q4OT+FfHFS1aZSU5TiVV9w52+OiIz/rkFSmYJ+fEoN46+ToEOsyi3ItUPrPEkUnD7rdsvXkWNMChKW1q8j3wiyVKcdrSdjoD10Zmmolo2SMCAyTUInZtzxfaH4kIF9xBnEkmY8gylPETlTOYmuvRHRt0HimBTXD0Nt9YHWNSOk++i8V3he5tJ/1tGht79BGoxh9+QDQm6cb/ueFEkkQPDeGEkoCaqyLFKQNgAF37bpQPmQShrMv/71AktAEsZy3N0Gf4SXva7A=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "856f9930c21041649a8948d07fcf14fc"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "y08vOTI6"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 992
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "1mDCqU5YGy4XNSaunxdWhtcvkiPBIMRT"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "WnPUZKndDUsR30nG6HF0cqckiF1Q2mTTKASDEd22l+o4eJFcIuuTZGBl4DA2KXs7FfbTzGYpGYMV4lw9wzHI1CxVzogTo37Xdw3gzBpXxDEG71mcX/u96yKxYr6p1uflUfNke9EhVd51ZDhYcrTlZJUmw2ylO191JKhL3s+at9o="
  appKey: "1234"
  voucherId: 62299635
  voucherType: 2
  voucherCount: 14
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:31:25,495-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"055f0768f7774ef6a6e5bb7616fc7238\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231631279486940cc40c6122cf9e5b0000\",\"sign\":\"384CE5ACDC4F91A433AF00F74C83E415\",\"timestamp\":\"1614069088\"}"
}
payrequestid: "KB202102231631272076075925705722"
model: ""

2021-02-23 16:31:25,496-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1753213374258139599802376202]]></transaction_id>
<nonce_str><![CDATA[TvaiLd6ypPD4nIjbJ5s7SoAhc8FCXGNK]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[B1FF6A399A46AA2DFCCF4D607314B5C3]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231631272076075925705722]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>911</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223163125]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:31:25,621-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:31:25,621-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:31:25,628-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:31:25,629-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "93046212525187"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "mNkTGvInVRZgM9hafbYw4qjlPFKi8Bo7"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:31:25,710-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8374605d35ad40609d2c51a93a0c03f0"
s_p: "QzRZSVNPMzJNWFNETVU3emNWMnRnbzZQcWNLdXBCaWVKdmd0bWZjZlZtZ204Ykp6czM5VlNTVkkyeWpCd0xQWFhqT3J5eEhYUXNpUERkNWpKWGhBeWNxeU1ZdmcwMFdTTUVYVGxqMklOak9aRGt0dkUzTFFIRW1hOU5QQnRub2NJUldUYWwwTUt3QnJzcUJ3Vm5mRUo0bENDN2lQeWVVSFFSR0pnQ0RBNVZFeUZvQ2xkRFFUVFYwQkJYZ1I4S3NLb002R3VBUm1CZHZBQzlTRURvajMwU091NlQ4WjRFbFhVakZ0SzI0cWk0dlRsRXg1RUd0NWNxM1ZuWUJNRnhUT1JkRE9vTm9KdUxpWVVqMUJnVVQ2cWRFc1VmOWx6Q3QybFNwelRJc2VHRTdPSnRsS1pHRVVqaWFMTWtVV29LeFV5TEFpUWlxZHVidzJSWXRqaGppVHEweHBhTXRKTjhZb3JLZlg0WjBHSXNMZ1NlZFNWZDRHOVM3RDVvRzVmamYySVpUQU9UNk5yQ3JvRTJsdEZUWkdMY3NGSGMwQmZDMVJ2WnFNbWRpUE1FYzI4NjdyMVFFTmlDNFZzR0dmaWR2WjN1M1NKMU5UZ1JpSEppb24yMEdveDVxeVF3UzBvZGZiNEo1QUlURE5MY0F3THBGMW9mR21KbkdtY3V2Z1NHVWRzNExZTlM0cHlQM3NsU01wemQ4akF5dUZaWlJoaFI0VmhyUUdOYTBTdEtUV0lTODJncVAzT1dNQzZJMGJyTWx5aVk2Uzc4OUw5RG1rTUNIZ0RHVTU1ekRHTFo2UWlvbmpIbmNxTm5RMldIeHdReTZ0YXZOa3ZDNWRlN3RzYjY4d3lFS3JlRXpwaUxHdzU2dFFnM3kwcWpCdGpwZzdZVmRMZW9PbUQ1cWNTclhiWXZaR2JnMElXZ2lGSnZqVHZMb0pCQm9sNnNaQU9xUEVjREpmN2RMdm4wZGxXMHhZQW8xZWxXbTZzZWltTVVXb1BnUnZxenVyVkRyUWF3M2RYSFN3UnpMZVU4ZmV3aEJCVnQzWExHZVNibXduT2RvMm1GUDg="
m_p: "3g2llIcAk5s942CFubme60M1n4Rkrd7R6yOgE2ULYW205G9N9p57Nh09J5SV0z4p"
e_t: "1614177088185"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 26
}
userinfo {
  username: "156******06"
}

2021-02-23 16:31:25,715-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:31:25,715-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "8374605d35ad40609d2c51a93a0c03f0"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "5jJXhAyc"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231631272076075925705722"
version: "260"
queryType: "PAY"

2021-02-23 16:31:25,761-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "9.11"

2021-02-23 16:31:26,762-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:31:26,762-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:31:26,766-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:31:26,767-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231631272076075925705722"
2021-02-23 16:31:26,771-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14972, 'pay_req_id': 'KB202102231631272076075925705722', 'notify_id': '1753213374258139599802376202', 'partner_order': '1mDCqU5YGy4XNSaunxdWhtcvkiPBIMRT', 'amount': 911, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 992, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 31, 28), 'success_time': datetime.datetime(2021, 2, 23, 16, 31, 25), 'modify_time': datetime.datetime(2021, 2, 23, 16, 31, 28), 'trade_type': 'PAY', 'kebi_spent': 67, 'voucher_amount': 14, 'voucher_info': '{"cutAmount":"14","id":"62299635","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299635', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:31:26,771-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:31:26,772-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231631272076075925705722"
2021-02-23 16:31:26,776-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7658, 'pay_req_id': 'KB202102231631272076075925705722', 'partner_order': '1mDCqU5YGy4XNSaunxdWhtcvkiPBIMRT', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 992, 'amount': 911, 'kb_amount': 67, 'voucher_amount': 14, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 31, 28), 'success_time': datetime.datetime(2021, 2, 23, 16, 31, 28), 'modify_time': datetime.datetime(2021, 2, 23, 16, 31, 27)}
2021-02-23 16:31:26,776-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:31:26,776-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231631272076075925705722"
2021-02-23 16:31:26,780-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:31:26,780-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:31:26,780-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:31:26,780-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "1mDCqU5YGy4XNSaunxdWhtcvkiPBIMRT"
2021-02-23 16:31:26,784-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 119, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.13.218.233', 'source': None, 'systemOrder': '2031_1mDCqU5YGy4XNSaunxdWhtcvkiPBIMRT', 'partnerOrder': '1mDCqU5YGy4XNSaunxdWhtcvkiPBIMRT', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 67, 'count': 1, 'r_cost': 67, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 31, 28), 'updateTime': datetime.datetime(2021, 2, 23, 16, 31, 28)}
2021-02-23 16:31:26,784-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:40:11,537-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 16:40:11,811-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 16:40:11,854-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 16:40:11,854-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 16:40:12,228-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 16:40:12,231-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 16:40:12,232-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 16:40:12,235-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 16:40:12,235-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:40:12,236-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:40:12,239-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:40:12,253-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.85', 'batchId': '42418121617892581895252720658769', 'bizNo': 'Z0TLPaAigME9tOk1G5qboRV8SHBKyI6e', 'operateType': 'PRESENT', 'requestId': '76427190069351383360652807787813', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614069612250})
2021-02-23 16:40:12,289-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.85, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:40:12,303-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614069612300', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.47', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:40:12,328-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299636'}], 'vouIdList': None, 'batchId': 'dcd50d2384074a39bc994b931c8b64f3'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:40:12,341-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'dcd50d2384074a39bc994b931c8b64f3', 'batchOperateType': 'PASS'})
2021-02-23 16:40:17,383-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:40:17,392-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:40:17,392-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "54359565313667"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "fyGcDP1gQSh0YBrvRTipWduJjI3sCNwb"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:40:17,515-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c03421ccec744e498bb13870502af412"
s_p: "Y096RnVBT3VKWVdubEw3T3ZtUkFTY1VBaHByR2RmRmlQc2FpUUdFNEFYcjRKMmFmN0dsUnFxcW9BUUFlTHNKR1FMeEtVUFZNV2loOEZsNEREQ2hPbG41R041MWdoUXdVZkJRaVFYeWMwemJUVlJMWXZxaGFycXFxdVd6V3VsdFhoOGppN2hzZ2dFOFB2QlNTSFNSWW50WXFJb016Uk56bGxlYW44b3dOMmJnelRGZU1HQXhSY1hzb1loQjV3dWd2dmZoQWwxeGdZN1Z2VkVHbUZqbHliblNkYnRJZVdGM1F4c3dXZUdTSkNqMTRjM2hLZkZNVEtvZnBhbWxIeEJJSmVJeHVhYktGM255d2ZpQ1FWNDNUVEFSc28xc2NnbE0xcDFzV3dTWUJOSXdVbWdNSm9QU3BMRzJLbWt2eVpoVnFncFkxTVdadnZCVlgxY21ObUtpSnh2Tk9QUlBGV3FLemJpMVl2Yk84ZGxmcDU2UDVkVGhPQm5PS0labWdYZDhXOHNzYUMxbWtkUVNydnZsd250c0c1N1pCc29QUXhlZ2JvQVhLdlQ2MGswNzJPVUg3d2VqWnVRYlNyME1sN3UxSVEwSDRjMnFkYXhiM2V0TGxrWUxkVldIdUtxSEkyQWN1TXpFSkt4TE11R0NQbjk4YVJtNk84WVM2SHFPRWhuNDEyZEU2aXp2WkpnWEJRdGNqNjRjTnUzenlla3FXd3BBRUQwUGd3bWtsdk1xcjZIZUFONnBRdUhublFoTDNHY2ZZYktURzQyenltS2I0bmdnVGFucmNjdmpwVm5naUZZa004VlN2SDRTY3FYTjcwWldza04wc0ZhTHlvSW1rWXFXTGlxS1lZMzF0a2NFanJwRjJ4Y3E5QjhVR0NpTjdTVWpWNUNqMW9JWHZoUlo3Y1duWlRaNzJzV091UTB4a2JrNDFKWlpWaGFaVlhRVzcxM2t2Y0lUaE03RUlIOVU4ZTVEOVNqZXpWUjhOSXAzY1luZEMwOWFwSHV5am1jS3A5a3hMaWlxQnFzTFhTQU1oZFNWb1RzYTdYcE5BUmpqczU2YVE="
m_p: "gh7Gb675h897jI3lVOYztfi949V6IdIb5LREL7V6Hz0H8T8kGh6CAhHMS811CcUU"
e_t: "1614177619989"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.85"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299636
    type: 2
    minCousume: 100
    vouCount: 47
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:40:17,542-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:40:17,542-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "c03421ccec744e498bb13870502af412"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ScUAhprG"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.75"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "gn12pkP6e5iXBw8uMD9mvHW4jAfJlbFC"
}
sign: "X9nX+fsaPPeDEdSk9U9eIDW3UdaIktuGKxPCrhALD8TdlpDgpFzB9X5IAy27mDIjHd8PWeKb+0YBOeydiyDi/hRaSVEkyK3vGQZdVEtCe1lAwyeej5n5HECh1iWWJVcETgaBuR4wqMHkNALmdCyLPlI7ya9X1BrImLy6Xivr42ImXBoTb+/ejH7dIF1p6gFe7Oj97tc8qk8/yJu3AuTF2tlBtwACUh1cB9DE/OV3GknBozn0juQ8pJdgpbwyqsXhyw0kf8Ht8Iso53grLiGctD+8HawhgYfWSIt4b/2o2hgswtybhjqBUeo1elVNYrtxnsRkRrcdAIbqoimEtUw1Vg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "c03421ccec744e498bb13870502af412"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "ScUAhprG"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 207
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "gn12pkP6e5iXBw8uMD9mvHW4jAfJlbFC"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "ThjxkZczqoEoXoU3cVDXf4DZYdu5ydl+VIfeWOJevLPIY2n4zwnVkBa/ussXUir9p03E9gW2Ap4yhklzNO2QURNO38fhSwC1M1ysSBw7qd7h4Zi7/GkHVwkuVY307uDK++wRRZ9WuJAlDYEVqEn0t53ytpPgmWdLgxUnxzBPvXE="
  appKey: "1234"
  voucherId: 62299636
  voucherType: 2
  voucherCount: 47
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:40:17,964-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"cb7aeff88d52422d83c4edf2429c4b5a\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164020414459bccb4a09f9c6e5170000\",\"sign\":\"3322EBF0E223B5C40736D89214DBF923\",\"timestamp\":\"1614069620\"}"
}
payrequestid: "KB202102231640202076075925342322"
model: ""

2021-02-23 16:40:17,964-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9282712431042623429882971947]]></transaction_id>
<nonce_str><![CDATA[RQaXoVyTiJYLre3067cxzOpG8Wh51djD]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[3194433FC2844DE9EEEA3C637CFB9773]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231640202076075925342322]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>75</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164017]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:40:18,128-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:40:18,128-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:40:18,135-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:40:18,135-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "41061971176111"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "LBqldmOHY4FxVP2WZK7CUnz9SMa813io"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:40:18,220-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "fc464e8a21ea426e8ebd6574a5783528"
s_p: "QTFYb3BYRjlhQmxxM0YyOVM3OHZ1SlI0bjlVTXhyNHZvaHBtWGhKM29qVlZDOUd2VDVjbGwxVFhIVGtTbTZMTnVKUEVaTHFOWkFRZ2FzSVFHMUVTckJDbW9ObXRqNHUxd21EbXZ1WTl2MVliWEE3RTQyRVNVN2c2Y1NRaTBIVEZmc0pjanMyU0NLTXB2SVdRaEprUmJMd3I5amd0bFJiZTBXdmVVbTlhWEdja0FPSkFHVmFPaUljcWZoQjhYNEY3QkFkQzl5VGFXSDBRUlhQbFlGMzZid2kyUVB2cThyd2MzUnlGbHJaekJvdXdzRmtVM01UTkpFRXByTHlkaXV0QXR6RVJxTEtOMTdZVGVlVGRrUFVkTVBXSk52NVJPVUZrcVl2VTh4akhuZXE1RkNrMlFGdTdnclhmYW9QUUdUbmdrVEg5eFJIVGxNTXNQemRhSDFEVEw3eFl0cjhLaTkxUXpjc0xDcGhhR3JSUE5uWEtvMzlwbTZOQ2dSYnhobDJaQWhiY1JINlROTG5vYkNRMmtXaFNjQ081aTBJRDF6VllEWGlRazdVT2xQWXUxSVJwaDIxcDJ4SmFFVkphT1NhbEFkbnV3RElIdzBlM0p0c0FjRzlHeXppUzFxd01wNkFZOURJOHRwNXpCbXJCU21ONVU0RjFKWVFaOFkwYll6NjB6dGhPajFlRGJUWWprTjVnS0o1UDBWQmNuQmhCWmZqT3ZxWnhxdnhKR1FMb0xmRWdISTJ3bFR6c0syZG4xTnNqOGNtZ2g5MU9ybEVDaWNCeWRHU2w2aVFYS1dHbklIVUgwdnE1UFpndTVpMTlyMUVva1l0ZmNSMWtZV0F4RU1vNEM0aGtQZTRVRllVdXdPdTlKRFpsdzVDamZYd2NsTHE3MzlIMnY2MUZSYk1KU1FZZTVzMmtPU2ZZQUFnQjl5TE5iTGliV09lVlhDeFlaZ2VQakl2VGFUVDdYeVljaXVZNkp3Ums5NGxFYVJoYWJpcEdTYzZIbzJYNnRVYzFLTU9TeXhvZk9sSGZtNGlLbklxZW1Oam53Nmp0QlZvMHNRNEY="
m_p: "v0C3jt83uBWOnU4QcrPRvm331nEO83NkJaVT04Br7DvCFBpzdN0Y7m4WZfbf67mY"
e_t: "1614177620696"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 26
}
userinfo {
  username: "156******06"
}

2021-02-23 16:40:18,226-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:40:18,226-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "fc464e8a21ea426e8ebd6574a5783528"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "oNmtj4u1"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231640202076075925342322"
version: "260"
queryType: "PAY"

2021-02-23 16:40:18,277-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.75"

2021-02-23 16:40:19,279-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:40:19,279-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:40:19,283-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:40:19,283-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231640202076075925342322"
2021-02-23 16:40:19,287-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14973, 'pay_req_id': 'KB202102231640202076075925342322', 'notify_id': '9282712431042623429882971947', 'partner_order': 'gn12pkP6e5iXBw8uMD9mvHW4jAfJlbFC', 'amount': 75, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 207, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 40, 20), 'success_time': datetime.datetime(2021, 2, 23, 16, 40, 17), 'modify_time': datetime.datetime(2021, 2, 23, 16, 40, 21), 'trade_type': 'PAY', 'kebi_spent': 85, 'voucher_amount': 47, 'voucher_info': '{"cutAmount":"47","id":"62299636","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299636', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:40:19,288-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:40:19,288-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231640202076075925342322"
2021-02-23 16:40:19,292-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7659, 'pay_req_id': 'KB202102231640202076075925342322', 'partner_order': 'gn12pkP6e5iXBw8uMD9mvHW4jAfJlbFC', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 207, 'amount': 75, 'kb_amount': 85, 'voucher_amount': 47, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 40, 20), 'success_time': datetime.datetime(2021, 2, 23, 16, 40, 21), 'modify_time': datetime.datetime(2021, 2, 23, 16, 40, 20)}
2021-02-23 16:40:19,292-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:40:19,293-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231640202076075925342322"
2021-02-23 16:40:19,296-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:40:19,296-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:40:19,296-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:40:19,297-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "gn12pkP6e5iXBw8uMD9mvHW4jAfJlbFC"
2021-02-23 16:40:19,300-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 121, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_gn12pkP6e5iXBw8uMD9mvHW4jAfJlbFC', 'partnerOrder': 'gn12pkP6e5iXBw8uMD9mvHW4jAfJlbFC', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 85, 'count': 1, 'r_cost': 85, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 40, 21), 'updateTime': datetime.datetime(2021, 2, 23, 16, 40, 20)}
2021-02-23 16:40:19,300-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:45:23,143-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 16:45:23,417-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 16:45:23,459-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 16:45:23,459-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 16:45:23,818-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 16:45:23,822-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 16:45:23,823-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 16:45:23,826-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 16:45:23,826-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:45:23,827-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:45:23,830-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:45:23,844-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.75', 'batchId': '73294108350287741787530502182348', 'bizNo': 'ogfApetJawjhMUuSxLPc7WKInQ4rOYvy', 'operateType': 'PRESENT', 'requestId': '20303762240196121378595643400920', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614069923841})
2021-02-23 16:45:23,903-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.75, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:45:23,916-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614069923914', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.16', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:45:23,935-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299643'}], 'vouIdList': None, 'batchId': '63fa13bf12ca4694a1a9968ad7b02278'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:45:23,949-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '63fa13bf12ca4694a1a9968ad7b02278', 'batchOperateType': 'PASS'})
2021-02-23 16:45:51,016-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 16:45:51,297-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 16:45:51,337-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 16:45:51,338-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 16:45:51,783-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 16:45:51,786-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 16:45:51,787-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 16:45:51,789-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 16:45:51,789-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:45:51,790-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:45:51,793-INFO-fiz_db_operate-26-可币余额：0.7500
2021-02-23 16:45:51,801-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:45:51,801-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "15149300037145"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "eQIxwPuVa6bpThcOCjEFvRH5ANDX7Ymr"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:45:51,934-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "54a9d3a854d14b308349b781c1c09ea8"
s_p: "SmlvSWRkWEZXZTRDd2kwbkNOeFNoVXVTZ3RBUVZuSXlCbVo2QkZ0VjBUVmtrOG5TeGJpRXd2T3Q1NWhUMW5hbjRTQVY3SmZYaFZJTWdwb0M4RTk5blJMVjVXSVVncGZKZlF4ZkRsS3k3NldXNEFPUUR5cVVQMFhNS1VFc2tYZ0JLRURubHV5aDgwMXMzMlhadFhlNzFlekpEY1dOdEdUM2R5NW5jR1NJYnI2STFoQTZsRWp6cmRzdDdlSnBIZXJ3NTA4Tkdtc1hMbFNTQ2xYWkVxRFpueGtsczY3OTJ2QWhab1RyeFNXTDJvR283ZTF6U1dCSXpSOEdTaEgwTThrRTBDTmx3TFJRMXNqejNiSWgxeDNIdkpUTlkyUlFjWnhXcU9yS0dJVDNpSW9ESWh1RVZKRVlxZlB4Wjlja3V5T2JWZVFtTm8zZjlvZXlDRkhwUUd4b1c0ZkdIYmVHRUp2S0NhZm52ZDBxMmdsTWFiQnhTeDNEWGN0MVRYc3gxSnRIT082N2Y3VUR4Um90WUpRbkVwQVVHdGJOQjFKREhEVzZYc1NtajEyRUdzVkNxTElGR2pVSEtHTHFWTzRIY0VWTXZ6WFg5akRUSkZyWjVSMVVoMGdWZjVwOUQzdTJDaVFoSTljQW1maDRnRDl3NG12blNzN0RmOEIyZDN5eU41RWk2T1JBSmM4Tk5sbUxwejBFVm9FUloyMTlOTk45dmpwZEJuVEtRRldYTDZlUXNJME16cFNYcFJwTXliU01ybFg4UWZTQkpEeHNROWllOGhtU29kem5KcFo3MTFNVlJZaTJJYTlxNzNMcFRPbnBoUUtiYWhEcmN3VEJMa3JxSFhibjl0RXhjNFl2VmZnWU5wUDZMV3gySHZaMk85dDlXY1lNemhRRjN6MWQwOUtDNXA1ZVZJMGFNbFhyMkZSQ2FSZW5VVHdFb05CNFlXbTQwWVhtZ01WZHZ4d3BFNVhIOU9oN0lZREdIVXl1Y1NKa28yN000aGVmQlIwZlFCSGs0dHFyVG9Rc3FrVGNiemcxSktLbGpobzdBZmVFVjhMMndQbnQ="
m_p: "Up918692K4e7ge1Pb6V68FM5B3O2Jz7vZT0l8w00282Qauuhg66Vx83lEqtkQ4jB"
e_t: "1614177954399"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.75"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:45:51,958-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:45:51,959-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "54a9d3a854d14b308349b781c1c09ea8"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "LV5WIUgp"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 75
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "Rj4YyVLIXq8GpDPmSn0o6k1KlWQH9uUx"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "HxUB+C7uSobJu/Ro56T4O7qS2+GdEkY+8Nouu2fBUkwVOeF+V0z+GcAZ0SjdrFKARVhhH7xDHOvxvDW2NtpTCbvh7OXd3P2fNY/OSlL0zDCi6lBYy+MnytDYW66ReqCiSI3G+tWxRgl+Gw4jODE3aEMaBU0BzunnuaikazWCuwk="
order: "4600607742755"
ip: "120.197.152.211"
factor: ""

2021-02-23 16:45:52,107-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 16:45:52,121-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '45051496547134151639287612241055', 'bizNo': 'wD6g9mAcYUqosyN7tiKrdpM0jXkhSPev', 'operateType': 'PRESENT', 'requestId': '43497563355768713066846070488027', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614069952118})
2021-02-23 16:45:52,157-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:45:52,170-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614069952167', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:45:52,188-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299644'}], 'vouIdList': None, 'batchId': 'dc53a9a5d8b748578c9848ac96da37b3'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:45:52,201-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'dc53a9a5d8b748578c9848ac96da37b3', 'batchOperateType': 'PASS'})
2021-02-23 16:45:57,242-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:45:57,252-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:45:57,252-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "51929791706534"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "VCOKH6QyelMz3PcrSIZqL2AD9bmiJ4Bp"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:45:57,349-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "36b4cb6e2862445b9b7dd96f8e49ec03"
s_p: "a0ZEem9FcHFqSnFvQnlQcEtQQ0NpRFI4VHVMcnRLUVV5MzBFWm8yN1JRWVV0Rm1aV001TUNLcEtZUjZ4cm9ubHFjNHE4R3p0aXU1RE5iQ0dqNzJnTTR6b3R1YnRBWFd2dFRCZDE1SGloa3gxM1dHdTJmdDBwdUJvMWhBQ2dtaENnMFpHUWJTSm1RdnlSWGYyd3NpS3NSTkxuUmgzTGJMME1OSlNNTGlCS3BlS1QzZkxwZUs0YnVzN3lvakNYWnFGcVExdVV5M0doVHFuSGtobVM2OG90ZHRlQllxcE9oeFRaeURDMlhIZjJOdm1Edk12Z3lkWFJYS0hsMEZlcWZYVWszT2tuZlVsN2xPR05qb3RhaUFZZk5NaHB1RWJrM2ljU3BKNFk3Rkc5R281UkxidGV5a0FjT1NZYjNYck5RbGQ3S1VSbmp2UzU1OVQ5OHNMQzJoWlMxNjV1S0xjSnV6RHdzWDNCUTlHb0k5aWltVTR4eXlEd0FxZEtod054MDJLUDNzZ0lodG9UTG1jcU90bDhxTDhPS1BGYTh2S292MlVERmF0dXNINEx2VDRVbjZIYUdzRnRZcWNlRTFqS1hzSjREdUFKbU9kaE5yRmttam1TUHRaUmZKZTlYMFI2RkRuaDVXYkxCbmdFOVdKdjY4Mk9HMUIwY0o0WERpeFNlM0x5ejZxcUtFZkZDU3VmWWJuV3lkNWd1azBjdUI0T3BFUnprRHVxcE50ejBMMHdSd1NCcjViTFp1VHBPVUhucER2OWd1V1RnendsMFVEY0hEckFNVzdkcUY2ZzVFZkJkak9XNEJGSkVmUnhNSzg0YllPb2JxVkN3OFZuTnJuWDg1MzZabVRNZk5idTNmSlIwTk1wQUp5c09lUExSNU9QcXpEbjdMRTBpbzQ4MFppN21BS2FyR2h2TmVKamxPNVBrN2F2OHRjbEo1eFVONTJjNElyUG1UOGhaZlVocHYyRlg0ZTF6aGNEY1ladXFlcjhXeFR3UkZabDk5MmRTVkRmRkJuNWtGQm9LdEJGQzhUUE82ellubmFKa1p3NlFlUVFublc="
m_p: "eQ7G2UFQ1JtCdX2Er983hPX24k43dG25K5S550P9S7tnr81m3xPuybpbEP7Pn5yJ"
e_t: "1614177959813"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299644
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:45:57,378-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:45:57,378-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "36b4cb6e2862445b9b7dd96f8e49ec03"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "2gM4zotu"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "7gdMhDT3CHUFZkm810KsYeLitoWlJBIX"
}
sign: "pF48nktjb69z/8H7aATT/xWbLL/mxPLaftaR7D5fCLS6ik6xvX69RlI5WzgMINV0KCEHvZsdfqDUmm42oJBgXQxqa9s1jp6Tq/FQWiZJWcTIZkYWWmB/dV9MUNGM4IkA9IVJJIvZaqRguJup6tvY0LnEFJTEXuYFtN3HNFJnbZkmfXdSpBptNgvgTBtZs/6DgAKDhoScz77XfyXwJjP0148G6OegQVSt2GXT+Ipup9Wa0xyFdI4q+CYUsep6ShRGYF8tSmx44lTp1EEwetphIYDnjhyAnpWPZePG2aGymID4kPR1CiuoMj2esSNx/sOErg/0lSwsvW0+ihXiAv+jRw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "36b4cb6e2862445b9b7dd96f8e49ec03"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "2gM4zotu"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "7gdMhDT3CHUFZkm810KsYeLitoWlJBIX"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "PfDs8hNowRKwcc3wnoc6PaYvWlxYj1K6wE/fRFKS1JlIZeE2otgTwW5OrjuhNqyShSAjSZ2o10DEbeLPpL6CysvzvABgf4cBPRupiGkpNHbtEO2+gKBQQydoHlbflowxG+utcE2U7bs2Zbo3nFpc0v2/rizmRSI6+EtmcUgY64Q="
  appKey: "1234"
  voucherId: 62299644
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:45:57,814-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"07f63939ee814c4391e83ce79d9947b6\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164600253231c134d224a32b3fea0000\",\"sign\":\"20C7F70D08CF2DD82ECE70BF2C8306B0\",\"timestamp\":\"1614069960\"}"
}
payrequestid: "KB202102231645592076075925287622"
model: ""

2021-02-23 16:45:57,814-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4913028864880234369201231733]]></transaction_id>
<nonce_str><![CDATA[i0AcawrKu6ZMonSePk4GjtFRWx2lNEzy]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[C5494E5F52774556E9A5008BA4888BD1]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231645592076075925287622]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164557]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:45:58,013-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:45:58,013-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:45:58,021-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:45:58,021-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "81423679979757"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ukY4SftW25vngCcM3Js7qiD6hpeb8wQN"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:45:58,103-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "11344e1c993d43a38ab491d4e572d3a9"
s_p: "Q1JPN0hmRnVQZFhLMnNGNXdKb0diYzFDeU1wTFBaNGdxSjBYQjRQY3RHSTQxQXJmWTlkcjdqaXpVa0RoT2FzM2s2cldGTzN3cENNbUQ3bU5RNEdZdUtZNFBXcHBNRVVXZkhFQjZVZk1PRjJLaUEybXdWdzZCTUZsRVlybDJiZmRXRmhnQ0V3Tjc3N1V3OFRrTGRGSzVya0YyZEQ4dW52WjR1aDJ3OWFxazFRQU1DemdSSWU1MER4VldCb2tQU2dnN09pZnZETDlXT0tZODVFR2MxUXdnMEMzVmlLbVFEajdRd3owV1VNbUtVQm5tRzNzM0JYMDc4S0Y4cWZhQmZuZHMxZm5FbDFMZE45aFNLbExZU0syVTE1TFhkTTk4Z1ZjQ3RtQVp3WW1jcVZNNHQ1akFreWZicTVOVjFhaW9TaDROdE9DRUVESkpBVFJsSTF0RnNxdFBwcHh4aERrVG9JWEJLcm9SVXh5ajBEcVA5VWxYdldqS2t6amVFMGU4NklYTlNUSDY0V05vbzN3dzRMWDVoNUZzQUxnZjZXVDZVd3d4dHg4OW93NGFXS2xvNGt0NVRDaGF2c05TN0xZcXVDR1ZpaUxVQzhvUTVYaXh5ZDk4YzU2WlZtMm1WZVF6NkVaUEFyb29sV2tOdVpUQmE5TGNpWndoNDFDNndlU0hLM2hyenVhREZQR3hmb3pnUUl5cTNWeHhjVW1OZzZTeG5oYUFhRW9welJoRktwRkw5RXFCaWpZN2ZUbUtPWEhmblVhSUtNSGVtcW42Z3owRVhqYUIyUWVBdkFQNExSVEhBVU9zOVJ0Z3ZlYUxvYUx0cURHdEJGZTZiQnY0TnlYNWM4Z1hOSk5XYlg4QmFUWlJqcldNSm50U2E3UUNncGY3NjNSUDVpbjRWS2N6N0pocU5rcEhwbWFucGNzQXBWd2tIY25WSXdjc3hqUXIyQ2cwdXg1N1FvY2RuY0hvN2RvU0hyMXFxeDRNWGRWcXpuOUxPT0p0N2hFeVhtdHI5Y2hCUkY3N0RhUW9RaUZwcE5XUE1aNE9VMlBMdDRVTFRLNHpmZEY="
m_p: "8W7b6k3S8iwLH72R90jpJ4I3Ir2I9H0Q161U6P4RB3n9gRN0Nh28aVQ8671Jz0U7"
e_t: "1614177960579"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:45:58,104-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:45:58,104-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "11344e1c993d43a38ab491d4e572d3a9"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "LdFK5rkF"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231645592076075925287622"
version: "260"
queryType: "PAY"

2021-02-23 16:45:58,151-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:45:59,152-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:45:59,152-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:45:59,155-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:45:59,156-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231645592076075925287622"
2021-02-23 16:45:59,160-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14975, 'pay_req_id': 'KB202102231645592076075925287622', 'notify_id': '4913028864880234369201231733', 'partner_order': '7gdMhDT3CHUFZkm810KsYeLitoWlJBIX', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 46), 'success_time': datetime.datetime(2021, 2, 23, 16, 45, 57), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 1), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299644","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299644', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:45:59,160-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:45:59,161-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231645592076075925287622"
2021-02-23 16:45:59,165-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7661, 'pay_req_id': 'KB202102231645592076075925287622', 'partner_order': '7gdMhDT3CHUFZkm810KsYeLitoWlJBIX', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 46), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 1), 'modify_time': datetime.datetime(2021, 2, 23, 16, 45, 59)}
2021-02-23 16:45:59,165-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:45:59,165-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231645592076075925287622"
2021-02-23 16:45:59,169-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:45:59,169-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:45:59,169-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:45:59,169-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "7gdMhDT3CHUFZkm810KsYeLitoWlJBIX"
2021-02-23 16:45:59,173-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 124, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_7gdMhDT3CHUFZkm810KsYeLitoWlJBIX', 'partnerOrder': '7gdMhDT3CHUFZkm810KsYeLitoWlJBIX', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 46, 1), 'updateTime': datetime.datetime(2021, 2, 23, 16, 46)}
2021-02-23 16:45:59,173-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:45:59,173-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:45:59,173-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:45:59,176-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:45:59,190-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '02136096527524245001768638452849', 'bizNo': 'tPIqHYGKB3jSw2W7QsvcAZMeLzEDRxai', 'operateType': 'PRESENT', 'requestId': '29606885702408359501767522241960', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614069959187})
2021-02-23 16:45:59,216-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:45:59,230-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614069959227', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:45:59,250-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299645'}], 'vouIdList': None, 'batchId': 'a1220b563477483eaefa5e3310b228eb'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:45:59,262-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'a1220b563477483eaefa5e3310b228eb', 'batchOperateType': 'PASS'})
2021-02-23 16:46:04,321-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:04,329-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:04,329-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "88899298190041"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "dz7PClgRJUu3e0ai5QDjMxFLc96th4Tm"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:04,416-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "7acf7a883b804e89a31adcbbea51ba14"
s_p: "Y0lkRFF2WkFOTDBIV1lYeUxEWGhKMTRpUENQRlJKOGNwQmEyalFxaXQ4b2R3cFQ3VmJUOE8yY0k5YVJhZ09iMWFBeEVvVTdBbVQ3UE1Ha3g1VkhjMk5PTGpuaXBQR3I0cUc0aERjVnRIQTdLekE4NVhTeUxheHdxTXJzWHBBYnBPdnByVjBsOEpaWEM3OUFrR0ZDSnViN1duUlkwcUNNTmRzTmdhUXZ0UktweDQwYnFvSjJPdWRFcTZUVVQ0WnFwTXB3MjhxdUFHVHE0WkJFTWZ2dXdJNVk4WDh0Zms1NGF6aU9Pb05WRWdGbFQ2dXU3Zk1Icm9aU3dxdE9Eb2xwOHRpYW1JNjNVa0EwZUJ0MVpKU0gzbFRDaVhWdVNnS2lWRnBiY09xTnFXZ1h0ZDNLRUdrdFRJcGx6OFVXWDdlVW5wMTFRT3N3enJvNWtrczZwQjRTcEw3QzZMRUdCckRCeEE5WHAzNEY1RXFRWGs3UWhhaE85UUJTa05NQjlFRHNtak0xdU91WW1SbmNXcE12NnlMeG1iOThRMjNQdXRtdDlvdHlWdVVXODJ0NzJRUkxqQ0hoZ0syR3dLakdnS3VteVVERTdqckE1aFZGU3ZFSHJzdDJEYWpCVVdJaUdmSmJwc0FNdUtlc2xXOUl0V01YVTd0VFFJR015SDFvOFJmQTRJdGIyR2pYQW9HanNJOVhDeU9XQTlhcW5lN3k4bUVBZkgyRGlGejFXNmpJd2RHUDRGc2ZJTnhlNkpUSTVjWmgyNjJ5c3BjNlhWSEg3Tjl4M0xmbFhtNDRNM1RhRXQ3WTR6T1B0eXNpVTFwOEd0U0NGNU91UDhmMzVwR09yVXVnQU5oN1hXMDVkbEVuYkRHNnl2U04yU1hzYkIyUnliRnIyUlppeUNpV0YwWFZHTnZnWHVtTHlSYVdXbXNUS21NMEFoWFZoUEZKM3pKb1VZb2hQcFA2VDJ1c0tqUTZYYUxpVjJrTnR6dFo1S2I0cjI4UHBIREc0WmZEWlZwYUZUVnc2TkI4b1g0SEpWbmhPZmpGbEluSVo2YktZYUtyTGFTSEM="
m_p: "Ke1wO2a249EDE66jKzGv5J872VN7C992Vl90iv63z95isV7Z0Y3p80ZcLS3J3q2s"
e_t: "1614177966892"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299645
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:04,443-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:04,444-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "7acf7a883b804e89a31adcbbea51ba14"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "J14iPCPF"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "Bz2n8hgiRu4pafbtGc0IxoXdlj95JCZA"
}
sign: "UnYBFgJ5YHMuJCmkfbfQQlYAmEbGrvTq3lrt3jPptlsfr2eCq+CSbSd6i0XVFOofn+7soTVP2gbi/9gTLRmoAPN55EqHr21HJXcWVf/aeLQc4q5ARfQtQtiHgHxV7TdSqG3rqKXeEobMa5Bk8Ft0InNTUBE8lMYvEQFobzhiyeKy4LD+ir0Q8qFEpPYWcuIMKISGLZG4h53kCFrdaoaXmiWAFA7Qezjc1mpOjCf5lqzWtk2Xe/Y2dvHqrDCB0pOX5iTH6Dze6nXUvoq7bx2s3fIopV/06Af5nk8N8Xy+svZw9yOFWohzM4Si+Uan8RQd9QEG+Xdsg/WP+AEl2iwy3g=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "7acf7a883b804e89a31adcbbea51ba14"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "J14iPCPF"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "Bz2n8hgiRu4pafbtGc0IxoXdlj95JCZA"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "W8YUX5DsDoIXbptKKNZYhsTN1GWDQziwkL/V4cs84VciHTLG/llTRfu/lnJZbPLQneXfLvfmezPtpg1AlLxXNVpt0Atig/saTjfotgfNH4eVsapKIIRbK7ivg7sypdCwh53NXHUtRPzKrCFGPesn9GPgX45A4awyGvPQ1ygdraU="
  appKey: "1234"
  voucherId: 62299645
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:46:04,860-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"086ca24f3db14d50922d00a8752d744d\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164607309498c6f4bda1de0153a80000\",\"sign\":\"4BB8843C4A56B52638087994D82D662D\",\"timestamp\":\"1614069967\"}"
}
payrequestid: "KB202102231646072076075925827542"
model: ""

2021-02-23 16:46:04,860-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[5881688430407467646699073382]]></transaction_id>
<nonce_str><![CDATA[PXtDxlr1Vbgca2n6RBMUkdSjZvseLHfJ]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[9053CE66801273DB420F91EB4DB9DFB8]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231646072076075925827542]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164604]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:46:04,978-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:46:04,978-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:46:04,986-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:04,986-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "04407781324269"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "vKYNITG6xWohaQ5Jlmwedz1A43P2iy7r"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:05,065-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "53d88b0c6ddd4355bc127074540fcb8a"
s_p: "ZlB4Nmh5WE9BTEVIclhjenB3NXYxdm1CREt2VWZoMThCZXYxSEpvUms2SlhrYlJyNW1xWmN1R0VmblRTQWJ0WG5XQjFseTRySWZHS1poUktSMVExRm50cG1JbXkxYlVHM1lOZFpTakpVOHplcnlwTVNPRWE4WVE5V3FMd25yMUM3RUpkdVFkbWJOQUhPVndFRnBvRTdmckVlNGNmN0szQTBhcnRCYU90VjNJWHl1Q0Z5Q3lnUENZSnE0NVZUZHA1a1B2Z2xITlJBV0tQZjBSUHM0dkltendYR0RsSWdPSDgzanVXUGo5N2llYzVWNnFMWjh0NlJtY0pEallrVk52cTN2MGQ3SGU4aFlzMEZnT3RaWVFEVmZvRXZjT1A2Tk5TZ3VVZmFJSmVNUnFCaDRtQWZ5akptaDFmejFDZm1GSk1DZTBWejBnRzNKMXM0MXBCVlR1N05LMlk4TW80cGQ4MXk1a1c3c1FlU1lENnYwRnZXZ3h6SXR1QmNmMm9JTUZuMGJyOHpxRXpQTktqVTdCdDFIUHB6ek5FZGZjc1Bqa0YyRG5ENTE3MWtIekZ5a1FFMW1TTmJXU0hJZmtzSnlPempQMjVJYTRieklxMGppY256NHFPNXhrbmhsaEp6UGZRVzVNUUxLN0hKSUJlSDJvdVhiQzhmWXQ3U2pRdnpMQ2hQenRmZHVrM0NDT2dZUzl5UzlrR1dibzJYT0ZHTXJHcGIxNExMU1l5aU1ZT1lkeFZPdklPTHdRNks3R3AzVEN0UTVvazhVSTk4MkZOb3dwaXJSTHNIbm1LZkVsRUhTN2U0R3J2NktCdjVWOWlNNUVQUk5aS0YwMk9BYkN5MUY5cjllMUdFcEs5VFdMOVZqcXRMOUVUV2NteFlTU0V2RzZQZ3pNb0RiTnVmek5sV2VJaWxwbzNPb2JiMUtjWWFMVm54WUl6VzVaZGJnZUhBOHBmNEhQTktXalJEbTJjWmZuMldLMksyYjFvS1J1Qk0zTE10R0VFM2lzeXRHVW83WmRmSlBjZlJVcFI0YmhWR2pIWURHaU93R0VIQTJHVVRORzc="
m_p: "61y93pt09JF8U021NtYJqGDevbR27S962U7QDp6JXrhLo7uZV6YzP7VBXz0CmpMp"
e_t: "1614177967544"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:05,067-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:05,067-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "53d88b0c6ddd4355bc127074540fcb8a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "e4cf7K3A"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231646072076075925827542"
version: "260"
queryType: "PAY"

2021-02-23 16:46:05,123-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:46:06,124-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:06,124-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:06,127-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:06,128-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646072076075925827542"
2021-02-23 16:46:06,132-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14976, 'pay_req_id': 'KB202102231646072076075925827542', 'notify_id': '5881688430407467646699073382', 'partner_order': 'Bz2n8hgiRu4pafbtGc0IxoXdlj95JCZA', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 7), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 4), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 7), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299645","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299645', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:46:06,132-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:46:06,133-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646072076075925827542"
2021-02-23 16:46:06,137-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7662, 'pay_req_id': 'KB202102231646072076075925827542', 'partner_order': 'Bz2n8hgiRu4pafbtGc0IxoXdlj95JCZA', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 7), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 8), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 7)}
2021-02-23 16:46:06,137-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:46:06,137-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231646072076075925827542"
2021-02-23 16:46:06,140-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:46:06,141-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:46:06,141-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:46:06,141-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "Bz2n8hgiRu4pafbtGc0IxoXdlj95JCZA"
2021-02-23 16:46:06,145-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 125, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_Bz2n8hgiRu4pafbtGc0IxoXdlj95JCZA', 'partnerOrder': 'Bz2n8hgiRu4pafbtGc0IxoXdlj95JCZA', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 46, 8), 'updateTime': datetime.datetime(2021, 2, 23, 16, 46, 7)}
2021-02-23 16:46:06,145-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:46:06,145-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:06,145-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:06,148-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:06,161-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '35795330482142657355542815551279', 'bizNo': 'zNDcjkSoT3LGZmqJ2nYBUs7FwvxWE9V5', 'operateType': 'PRESENT', 'requestId': '80738977511903550452335826121875', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614069966159})
2021-02-23 16:46:06,198-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:06,211-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614069966208', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:46:06,230-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299646'}], 'vouIdList': None, 'batchId': 'ee8ea19bc5424bf6949b4c204dea1596'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:06,243-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'ee8ea19bc5424bf6949b4c204dea1596', 'batchOperateType': 'PASS'})
2021-02-23 16:46:11,272-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:11,282-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:11,282-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "25260746436632"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "I7iq4JrY2DxSClVPaUm8Rg9WsydnBhev"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:11,367-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "cf373416ca1846f1bbebdb9c6002515f"
s_p: "ekxacldzR05CUExtbFNXT3FUaU9INnJaM0xQNnB5VHZLUmZWWG9OYktIMDBhbTBHTG1DZUV6bE83UFJ5OTNTaXNCNWxSQmVFZG44dTIzdXFudGx1NExOcFVrc1Q2NHRFN0wxZmJDRjR5WDlZckg1ek1vVGRNaXR1VmNZSXJtQktEZjNpcEFzajZIOTF4RXpVMHhLWnJtY1hnbjFQT2Nqa2NESFNqNERQRDUwc2tacFR3UEFwN1oyYm5TQlRsWmU2ZGtKWDhBQXVCT1k0TGxsOEp3QlQ2VW1zNFAxc1hYM2pucE4xMWlFNXZvOTJwN1NjdHN3em5qa1JjSWRLRm5BVzBVdGpveG11dUZXY3F2SGZnczhwMWEwOW9rYVdTOGdMNGFCMzJvTEw4Uzduc0Y1MHF5OXJHaVJlUzNtUk1zVEJJbVZaQ2FkaXRMN1NvZmpHMjRRVU05Ym02M2dwSjh1V0pSQWdWUWpiZWcxc1BBS2VWRk91RWxDOHJqbXJDMWNSNXR1VDZ1cDlwWWRJZ2U5eDdmSDZSS0thU1pJYXdKUHl1UXFlU3pnU1R0cW9id1h4dUswM1J4RENIemdmWTFTS21ZRVY4bFVXcXJmdFdhNzU3VEhLakJPbVE5SmZDMHoycTJKa0oxODlDbHkzazNnOXZBNUF3OUpPUEoyTE1pa2daNkRlOWMwdnk3NVlXVUxMQUh3enVwUUtSb0JiNE84ZUZlV2tDTVNqZXR1c3FucnpPYmI4bnl3elBKWUlaemlaTXh3c2FsemxwN0pmdE5CMUR3S3E4N09CcDRrZklqamhweGlzZWI0UHd5VVNwak5hb09qZVk2UE5MVG1GQUYwclZ1bnNMZ2tCaUpoaFkwc1V3TjBOSFF2cU9jY0I4S0dJZTlmeDZudTFLQlhOd2VKYjdZVFEyeTd2SlJxWkNUS1BBZUMwTTVzYmhnRnQ1eVpyUGR5ZFNFaVNtWjhVMEZoWlR4WnpteklLclRocm54c1g3SzlGZHpwUnJ1djdLSVFjSUZWWUxEdmE2ejZXc1pGek9JWHJwR1c2NGtQYko2RFo="
m_p: "cKVpY2Wwg63L6wm68Q1O42557OK0EuLOBE122v7D0v1G2dH1fI7UGg6W71HV32J7"
e_t: "1614177973843"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299646
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:11,391-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:11,391-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "cf373416ca1846f1bbebdb9c6002515f"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "1POcjkcD"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "0VL62WMyze4vx9ClFgoSwaj1kABPEJsp"
}
sign: "uktO0F0fpJyjnmrPdlUdJ1nCM9amGKKHIm2qKJ+m/d4E2/pvPjF+VSC8hNxPkWHKjit6o5A2XrhTKw6lqLj/sHEv0fR3Q+3INd3dbW8r24t9w6jdzvrRucMlGXKVGlUHEohddgmsLRKzuLJQ/U9O4M6QX8b9wCxuWSdKAlq0dbrffWwLtPq+mJ9ft1gPFJJL18o10DV+F4f4sB/Mmqs2v6SnHP6Q15w1j9/UKS9a9cg1NgeJbqK/k11zn6EABohn9aMZyC2UvhlbrLqIgvkj/TdeU3vjgIlrPAQI/TLyorkYSceaBiI610tppcIOPc3hgQqXwf45VkZ2W6YHQxAx3w=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "cf373416ca1846f1bbebdb9c6002515f"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "1POcjkcD"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "0VL62WMyze4vx9ClFgoSwaj1kABPEJsp"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "inQwkOUS1p/Pg4YnaAooVmQLxP9cQjAozau8eCI9OTwGx8GcKAd+nmYfmK2CqCkJ3Fjc0gBfF+yBfTZqoK6p9U/OoJbdbHMYmkeDNHDGUnkx3O/TgRNebw1JfFo1UxtWja09vUgbUDo9nBxli6NBuOdMf6m5soEVnbGjsdwVLc8="
  appKey: "1234"
  voucherId: 62299646
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:46:11,846-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"e82446c29c7c466da02010191db3017b\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164614305615460ed4875de83ddc0000\",\"sign\":\"90B1706075FBC187279645E241C29BB3\",\"timestamp\":\"1614069974\"}"
}
payrequestid: "KB202102231646132076075925370462"
model: ""

2021-02-23 16:46:11,846-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2425875298905940436075407117]]></transaction_id>
<nonce_str><![CDATA[9mRk0bWrosUSTEnPqwaZJYQcgfih5FO3]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[4643BF02FDA3FB5649C599B804AABE73]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231646132076075925370462]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164611]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:46:11,948-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:46:11,948-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:46:11,956-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:11,956-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "20766888702202"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "L3MjIC4NvxXBbAg7zHuoQ5nt0wUFmfR1"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:12,073-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a384354c67f04380b97dd27848cc347c"
s_p: "NWROM2ZJWUdxRUk0N3FTbVAwamR3TlI5b2hCOFMwc2V3OGl4dWtUSmczdmo0bnNKbFozM2ZSWkJuUEdENE92cVBTYzhnOTVYbXF3b3hqZW82ekxoODkxeTBzWUUyT1NqVjMyWGpBN1dIN1JNTTl5QnNsTFdPQk9vVkNrckJXWjRha2lvZXdEaUszT0xxME0za3lrZGxOVVhoVGRGRkVjVjc0WVlQQWoxYlp2dkJJM2dmOGp6Zkk5dzNkV3Q2WUF0dnhScDZQTjN2aFROWHBYZDFYdkJMSlNUdHlVbW9ZSFVuVFEyRDZpaVROZVM0TzJSTFlNdGtnZHZ1UnRLcFNVUm16YkN0ZTVPTWlzZkFCZ1FwV09QY1V1Vm02SWxKTWhXOU9GdUdXREI5TFE2Vm11T252Qnl3Wkc3WmNpVTkyYmZmZlBMWWlDTElvcGNFQWtoaE5LeXdyTGVWV0JhTFlKc0NDMmVubENRWXlQaG5xTVg5cGRJT3Y3Y0NraElYQ2dKWlZCZUxHektHb1pBbWlMeTZBODJneDdEdGpiRkZHZWtEbk04eFFhM1BhNGpFaXBjcWJXcERBaE5rZXhGTmhmM2FMTlBnNEtueUViWFlERDc2R0M3M2JiSUFOdFk0OVVzSlBKVTRmZUZGVk1GWURaZFBSYkQ2T0VyT21YWHdPYkNXMXpLb2NDaGxnbXdsWDVGNk5zY0VIaWtQNlRyWEZJUHdYU2hwU21XN0pZeXJjaHdtN1ZYdmdqQ3ZsSkoxcmllSkZQTUhpc0pjcDhod1IxaVYzSXRRSUs4N1duOXdJQkZkdE1mRDZvSzVISGd6eFlFUXRlNTlIZk0xbWR3YWNWT05rOU4yUkxJcVpBR01OcFlNRmh5NHhDSTNsVGREQjJTRjc1TXc5R0FrTDJSR1k4UkU1aHY5U3I2eDhWUjhpdFB1allCZG0wT1JDeG5NQnMzbmhHYlFnT3hJMzVPNzh1TWNHbUQzNWhJSlYxVlM1Y0pyZ0JlUmJPMk1SU2xvakpXMzY5RmlzeEV5R2Q0MkdmbnRmSGxHUW1DcWhtZ094cjk="
m_p: "4DiymHJN1HgotlTgt46wK9Mp3zgGY3kMGfVI344HR6DZe3960b9Nj4ZL5gstT756"
e_t: "1614177974515"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:12,078-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:12,078-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "a384354c67f04380b97dd27848cc347c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "5Xmqwoxj"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231646132076075925370462"
version: "260"
queryType: "PAY"

2021-02-23 16:46:12,124-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:46:13,124-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:13,124-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:13,127-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:13,128-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646132076075925370462"
2021-02-23 16:46:13,132-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14977, 'pay_req_id': 'KB202102231646132076075925370462', 'notify_id': '2425875298905940436075407117', 'partner_order': '0VL62WMyze4vx9ClFgoSwaj1kABPEJsp', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 14), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 11), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 14), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299646","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299646', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:46:13,132-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:46:13,133-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646132076075925370462"
2021-02-23 16:46:13,136-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7663, 'pay_req_id': 'KB202102231646132076075925370462', 'partner_order': '0VL62WMyze4vx9ClFgoSwaj1kABPEJsp', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 14), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 15), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 14)}
2021-02-23 16:46:13,137-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:46:13,137-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231646132076075925370462"
2021-02-23 16:46:13,140-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:46:13,140-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:46:13,140-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:46:13,141-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "0VL62WMyze4vx9ClFgoSwaj1kABPEJsp"
2021-02-23 16:46:13,144-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 126, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_0VL62WMyze4vx9ClFgoSwaj1kABPEJsp', 'partnerOrder': '0VL62WMyze4vx9ClFgoSwaj1kABPEJsp', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 46, 14), 'updateTime': datetime.datetime(2021, 2, 23, 16, 46, 14)}
2021-02-23 16:46:13,144-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:46:13,144-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:13,145-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:13,148-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:13,161-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '31258393847562749088411389515191', 'bizNo': '7a3iHq9pBZd1xv8fLyS4Cwlh0APMejFJ', 'operateType': 'PRESENT', 'requestId': '86497400736336851693773247406180', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614069973159})
2021-02-23 16:46:13,187-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:13,202-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614069973200', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:46:13,220-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299647'}], 'vouIdList': None, 'batchId': '5b05e00c1291416ab5af0ac3119d91ed'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:13,234-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '5b05e00c1291416ab5af0ac3119d91ed', 'batchOperateType': 'PASS'})
2021-02-23 16:46:18,276-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:18,284-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:18,284-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "84463224112265"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "mZgcdj7HYU2pGvWO36eCIMlwz8q5JQXR"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:18,378-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "41c073924b9c448a9b4e14d2124536d0"
s_p: "YUU2ZFpKUjN2T3FNQ3BWMDZmdndNOEx4amVhR0pDazh3WlMxQ1RsYmFuRHp6UFV0ekRQbTNlTGdCNmpQMVhibTJrVTBrekJsY2pyTVU5SWRhRjZNYllGVW5BV1U2UzlUTWFWcVFsenlRREVEMXpkTWNOeGVPdFhFSXdZMmk2TVdleEtZYTNyTFlpNm9nUHFaUzRocHdnanhldmlxNWJzT29FWTJGM0RabmNNQUh1TmhmOUFUQVZ2eWdITDhCZnVGTTR5V29zZldJR1U5Nm82UkZxM1FES2NjQnJLamhzeElMN2ppeFhjWnBOUFpHY240R2VhbW5icHdMT21Gb1kzY0o3V29hQmZiNEwxZ0JjOGNtR0FEZ0NFVEpVd2kyUWdXMUVnZ2pjVVpZeVZpaE9mUTA2SEUzWWkzZFl0MFFiNUphQ1VoUkJnUWN0UlpRajJ2N244N3lxZTVHbGdNYWdEZWd6MTVrQkNydVNFUzNTZU80SXVnVlpzcXlvSVNVZEtGd0ROODNNNlkyM2xYamc1MDNwV3BCbjMyZ1k4MlppUmRaQ0lJeDJaWVpTWFJ3d29VYzkxb3ZDTEZCN1VraUoxSmw0RGw1VDllRzFWWHpEQm1GM3lwSFFzS1A1ZlN0cHNSVWRNT2tyNjJOT0dHMFdHN29ybVZINDZaM0xySlc5VjFaTXVEQnRhVjNsYlVicnFROWdxNmExNHJ4cTFmUW1PQVg2RVlRS3J4N0s3dnpjZGFabk5jMVNJYlhENXJ0UTR5WUhlMXRFeEJMeUJaTWdxczhpSW44N1BoU1A4bWRMTjJ1Z3AycjhrTmZMMWNuNDZ1cE1Ndmxrbkc5V0w5YnJDM2NsekRUVndqaUhCY0RXcnZGaWRGNGhzcG5uRlp3MlBFUFo3UEZPYjJMN3NoYWp2bWVOMmpzdzNwaXhWMDhqa1J5eGNpWnZYVW84S1dpaXd3ZkFGZEt3ZVJzb2dUMUQ1ZFo4MWVSeW9FMkd5amZlUWVDRjVicW1zZUtFUEF0ZU04VW9oTzREMk9PdWQ4b25iOXBTdW55MEx0VDBMRHJrTkc="
m_p: "4b6NmbWR5IIzzsgTLqt2MY8p045qHk9l2h0o3275Adk90j039HlIMKMhd8FMCB4i"
e_t: "1614177980846"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299647
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:18,404-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:18,404-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "41c073924b9c448a9b4e14d2124536d0"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "aE6dZJR3"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "6kuqY5oriaHwx9yjZsmftF7VXRld8pOe"
}
sign: "mylGq0NLjL7PS2UsREw/dPPdZfNa3fQy0TnkMzZcl4G0mjbYZjc7gEQNSBTrW/JDjr949rCtuU+NosutE2fxWN5OU7aYQq3p5qiYPTFSZABrXkynXHqGEzf6U3Hq/xPkujs9jDwg0aqeOv7O4ttIaPSyVgawtaWS+3T3dyUUK8Xi3bpm3mlWDWGjQJGnVVPvpsGDxVJzlVlnppBPAMbsLVoQqktpXmPWywu0xwzOVuSdF6/YOKE+YzpjSa2zylU/0bV3FzMxPCuOTm93hQMb5Qx53oyRb9DTFUTuhCk63VPco8GJDWsvFg3WQJMVgUuYUSF1fEhoplauE0RO1zQ5Eg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "41c073924b9c448a9b4e14d2124536d0"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "aE6dZJR3"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "6kuqY5oriaHwx9yjZsmftF7VXRld8pOe"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "GAblnxWfddrwpJK6Qtwxd2GEX+zAtPUjUUNA9uvnn5RUtKU35MDtaGQR3P2deBY3tczUGhLorp+c2CsoHwz6dxD78mAZbv4n+hCVTrboF7ZeebXqH4PrA1KtoWjRR/Ezy51rk9eNtzg98c/AiFm/frZvV4Tag5xH0Bo5i3+tPj4="
  appKey: "1234"
  voucherId: 62299647
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:46:18,698-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"a14e09a205c74de38e383b31ba5a9976\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2316462114484821d1b30b37164e520000\",\"sign\":\"4A9957F834BB08D356F0763778047723\",\"timestamp\":\"1614069981\"}"
}
payrequestid: "KB202102231646202076075925636362"
model: ""

2021-02-23 16:46:18,698-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2124635816684270046751390407]]></transaction_id>
<nonce_str><![CDATA[G1XWFUjSTKgLa4omCBNRq97Hhxe8nYDv]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[087AD2A5BC5ABBE1BB4DE84128234E94]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231646202076075925636362]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164618]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:46:18,796-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:46:18,796-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:46:18,806-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:18,806-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "13216410225515"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "KThP6cC3ISlMaFYy45f9D7n8tvJrNGWB"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:18,902-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a9836649d97e4f99b2e4136bc7e2f614"
s_p: "UktVMWI0UUx6OVVNYlZDdGQ4WHZ3ZmdtWVN1YXdvYnJ5QXB3UDAyZnN2SFBXWWlRaXJpUk5wMzdkUG9Pa0EyRWNNaVZ3N2w5VUhteFpIMmEyRzlkeGxTSnRieEk5OTk1OXY4ejUwZ2RPemZxN3Z0ZVhOaE9zZEV6QVJtZWRDVFRjd1R3QU1jUkp4bmEwc0tXZ3ZBOTVsbDZ6cTMzb2RJUllBUFZGNWtjWFdQd3RYZ3RKdTRNQ1RjQTVTR3BSWEgzV0lxVHN1M3ZwSmFSQjg4T09KSm5wQUdlUXdpNGRUdGk5eHl0THdObFlIMjNUVVNaOThuelBPNGo1R2gwRXp6b3BzTjBWZnJJUmhrVXZ5ZE9xODJ1MFNORFA3ZTV1YU5mNE16M0IwSVVrMmtYdlFJNHhMR3piRGxZbTNnUlpWaUhwUU5wcmZIRnB6V1c1aEFrWktpb3k3VkxqeGNXdktuWkYzbkRLYVRPZDZLc1NnQ21QTGlEWFRRMTM2cjZIdGxvdlNUTVR3RzZXdHl1YWxVTEhYbTU0NHBpTERoMzdpUGJjRG9HSnJqTUExTlhmNDdDcUp6VHA0RkxIR1BmbVJhTG13bm1XNjFmcHRSMElrNmRJdzFKSG9FSjgzaE9LanRtNG9BVld0NW4xYkNRVGttR28xdzk3SnhXekRKVmgxeXg1aHdPbGN5NG9ZcUs0cUlPVGY0MmJiaG9JSnJjUUhDeVhxbGJBZG1zYUliTjJiU0daZG5nYjRWV21wTnR6TkNBZ3lxOFhJUzQ1OUU2anVsTVhvUjBickt0dXhnRkdiTWs5SkxCYUpLWjF1M2JKMVN4Y1JVVVh0VlRZU3czbHN4MkNHQmNpNW9Tc0dVaExsRW1MV0x5a0tWcnpycHA4c3ZIaGw1Mlo2RU40UzlLN1JHeFJNcUI0SEVjRXZWUm03MnZHOWQ1OGhraUZZZzgxYmVnWXZiTlNEOEFYd2N5NFEwTWZ2dEsxcWpUNWUxRVphandTNHFWb09aaGpGdEtRakxLV1FpWkgzaFVHSVo5MkE2YUlWSGlzTHEycHcyWnlqeWg="
m_p: "j7YUBfBn91fn02Q96A10G2175W19q5m7ow57B8p4L84yJ7KnJ9BQ1kP7E1IP3dNl"
e_t: "1614177981384"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:18,907-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:18,907-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "a9836649d97e4f99b2e4136bc7e2f614"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "TTcwTwAM"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231646202076075925636362"
version: "260"
queryType: "PAY"

2021-02-23 16:46:18,950-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:46:19,950-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:19,950-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:19,953-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:19,954-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646202076075925636362"
2021-02-23 16:46:19,958-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14978, 'pay_req_id': 'KB202102231646202076075925636362', 'notify_id': '2124635816684270046751390407', 'partner_order': '6kuqY5oriaHwx9yjZsmftF7VXRld8pOe', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 21), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 18), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 21), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299647","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299647', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:46:19,958-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:46:19,959-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646202076075925636362"
2021-02-23 16:46:19,962-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7664, 'pay_req_id': 'KB202102231646202076075925636362', 'partner_order': '6kuqY5oriaHwx9yjZsmftF7VXRld8pOe', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 21), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 21), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 20)}
2021-02-23 16:46:19,963-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:46:19,963-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231646202076075925636362"
2021-02-23 16:46:19,966-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:46:19,966-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:46:19,966-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:46:19,967-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "6kuqY5oriaHwx9yjZsmftF7VXRld8pOe"
2021-02-23 16:46:19,970-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 127, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_6kuqY5oriaHwx9yjZsmftF7VXRld8pOe', 'partnerOrder': '6kuqY5oriaHwx9yjZsmftF7VXRld8pOe', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 46, 21), 'updateTime': datetime.datetime(2021, 2, 23, 16, 46, 21)}
2021-02-23 16:46:19,970-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:46:19,970-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:19,971-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:19,974-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:19,988-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '84297675413935846861563750375978', 'bizNo': 'afIcMBJFvuEHTj0LxplVPhN6AUbyZX7s', 'operateType': 'PRESENT', 'requestId': '91362162078869977078825512637100', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614069979985})
2021-02-23 16:46:20,023-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:20,039-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614069980035', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:46:20,058-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299648'}], 'vouIdList': None, 'batchId': '89080248d3b54588a76587736b30de0b'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:20,071-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '89080248d3b54588a76587736b30de0b', 'batchOperateType': 'PASS'})
2021-02-23 16:46:25,116-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:25,127-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:25,127-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "34238014447129"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "J1YR7gVLSOplkUT92AKH6GBXo0WNQhPF"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:25,221-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f91c9e46ab274be59231caab98c8fb11"
s_p: "OVczM2xyVXZmY0N2ZXVaVUpKOWk5MDA2QlA2MjNmRjFSM3ZlWmdSbW5iZzNXQ1Vpc1NiSEU1MHlIclJLbHRHck1CeUE2QVpsWU9MaWdKbUZHWGo4TnJ3anN0cEJ6WktDQWlTU1NyNGlIenRNZlpyOW04ak1ERTdjSjlPQjRhVWFoRGhraUhnOHdMbzl4dktwaWVmSXlJaXczU2ltWTZ6MmNPcW1BS0F5Y2gyYUhOSXFHTGV6NjdXUUZlZjF1UHRaYmhEUUlFU3I0V1lNbGJjSWg0ZXEwN2NnSHJiTnV2aGJRYlNCUlg5TE52aWJSRHV4UTBOcHVva0loR2pNU0ZtdWdPYk03ZHlTWHpYbE5IM21lc1JqVWc3VFo1cDJMbW1UTzNjak00MXR0VFc2UFZIbkpObUpDN3MzaVhCOEZyS0pWYVY4YlpmZFNHcFJ1OVdsYWI1T2RibXJPT0pYd3ppR0JxTXo2d3Vyb25vN2d2dW4wc202SFRhUzNzNVZDT2taQlJTRHBzd1pMM1cyUWhPOXIxS0Jxbll5Mks4d3d1bWphV3pkTWpHM2NacG1xcGNXdUFHZFR5RGswSUEzQ0JVRUlLNXRpQ1Q0SGJkYWVJb2NTeGQyNHFNUzhhN2NXWVo1NEdETTRMSHRHZTJUMzBmWTNuR3BQVWlRRHpKOXJBMXN6QkFlMXZ2TTF3Z241U0VGMEdqQUZPMHJyT01YRkoxMXNRUXZyYk1yb2tQMlFpcFRtN1ZlT3VLNEFMeHBNZWVVSnNNYVhmZlhTa29hYUxLc1BjdURBR1JDWk11MzJKcHZOa1NINFo3UFY1MTZDeGREaU9TcElKdnozdzFQRTJkVUF2OHpXYkZCUmE0MXVsWm51RGZydW1RWno5U0NWNmEwWkJwbWoxcDhmTXI5RTJMMnNpWFJFbmU2c1BqSTBEaE01NTFBZGJHdDRkaUNYTXJOeWtSc1N5TE1XOURZTDB2ZTBUSlNPWDVpMGZhNTVqQkRIZ1o5bllZVGdweTh1UmxxS1lPVmR4NVo4eDlMQXhmZ2VSYlFScWRnaksyeWY0Y28="
m_p: "G1ZBvfF5bI0M6yQsK5oSQtZcJLFWrsd9UN8JCyb605EAR7iPYV16Aw6EdK51EY5v"
e_t: "1614177987690"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299648
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:25,244-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:25,244-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "f91c9e46ab274be59231caab98c8fb11"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ZlYOLigJ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "IKACb4OV3RywfHjdiUYNs0rkPJovS1El"
}
sign: "aXJ0VuhB6LONaTeLpLOzoP93LPXTFibgGA+jgSBkhWLOM7Qwpijx0yWei9Bth+gjWIGhis6ERhL+joWaDNkXq6q8+6+IEnN/AcgBolnXcR1DNy50lGr35RqKfYIFg9rSrlTLKD7P2l9Eq1IQIPEcLsBs6MuEQ72791kwmew3FueJKEDPf+FaG4xyM6ebQy5KT0M2IzmxClvYKK77Yb+hn+OEol148PiEio91J1fL4gB6GnJHeJ7Lvm7O8aHBYC3V9Ys8tCQ8lBDjd4r5TYnX7snFYWBAWY3QVpB+1HGtgfVVtxf1XpymBksQsetQo1V7o/zvfODQOw7XR0fwHBhXew=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "f91c9e46ab274be59231caab98c8fb11"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "ZlYOLigJ"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "IKACb4OV3RywfHjdiUYNs0rkPJovS1El"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "dZkXb8H6nSu+VDHISLiFAWuqEFYZpOYVrz2Vt2cB8cU4s15xn684JLznrygauZJ7Bv5EFdZf8HRFUDwlo81//tUdRv6kYWaFTGdaQ4tnYJqvD+PZ9GQMDBqD7MDS4QUAfDgNgsCVbeHxWedEqGVIQmrl0cfBJFTCvtyqLmD6+Gw="
  appKey: "1234"
  voucherId: 62299648
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:46:25,545-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"608f26d2d0474f9385a4950e645e15c9\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2316462799590003ccc9183c5d04f80000\",\"sign\":\"BF85A818E871C9D69249CD4D1D88D649\",\"timestamp\":\"1614069988\"}"
}
payrequestid: "KB202102231646272076075925523302"
model: ""

2021-02-23 16:46:25,545-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[3587788872045000601584336290]]></transaction_id>
<nonce_str><![CDATA[hfSrcyAE7wimusMx2Ila4RUQL91bKeoF]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[C065AD80C80641BC3176A527E14AAE66]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231646272076075925523302]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164625]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:46:25,641-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:46:25,641-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:46:25,649-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:25,649-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "19942412460835"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "smwSdUJLuorP1Eqn5IkxGtHpazV2yAT7"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:25,729-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d4596c74fccb469a877b0bc8c56793b1"
s_p: "aG5Xc25iRjVVVkVsUlNZOFMzRHlqN21UVjdZckpodjJMQ1JLcUZUOTNPMnBJMElOTnBVTjNyaDU0NUhqQ2hYcmc1YU1ucnVKNVRSdjlNVDJibUt2bVBKMUpUc3Znb2h5WVl4Tm5iVXYwZjJPR0NSaWtFdW9xOXNGMnRydHlBRzV4U2xCRTB6M1RwRHRDOGZ2U1hXSWhuNWdkeFFvdlBITWw4U05GMWsyYnFpWlpxbHZORzJVVkI4R1dBQ2QwamZlUHBGS29aTWtaWXRwb1NxNUVmWHd4ZmZoQlRFZnpYZFB2a2JMZ2RmakFvdVpPWHZtUE5JQVFNaHIyU0hVQUQ4bDAxMHd3aER1eUZSTHFycU1sTHM4SEs5Wmx5Wmo0eGg1VWZSYVZhZ0RoNTFHWkloT1l3OWVXNVBLaDhBNThscjl1aG1ZVXNwaWRqcnhzbk9OQjdQYWxYaGRnVjlBekpSaG9ZUE1xcFZFblJlRndiSUFvYXZlUE1XU3hlRFRYdWZtMWJudk1xa1J2VWExeVlQRnlxbXNJT0d6S3d1UFJVNlk2ZG5XanYyRkFLVkIxYnRLS1VKNnRNc2lnTkFMelJxekg0NnJnTGtyY2gySUtnQUwwSHM4aHNJNnhjRU5SZjlrQ3RPUG1makxReVhOb3g2THVZVGE4S08wVXdKY3E2QVI3QlhkbUJ2YmlaTm9VZlBNQ1RpVE80WDVxY05GbVRmU2VRTDlMN21BNERmWjNTVUtjWDJ0a2dLSDVqeEs5RXg5MTI0QTRLRUNNczFGMXhCQXlOUUlwemY0blJpVEFoZFJHU3k1cDZRM3dvUWk3UktZZUdiNWFuTUVLMWdIS3l6NE5HUzVKWlhUYXRzQXJScXVmckV4NE82MVFYQjBtejdBV3pPaWZ0THYwQ3hGU21ueFEyam9ZbXhxemY0Z2xDbjJNSU5UQ0llQlFMQXpJY0J0bkNrcnAzYzd0OXE1WHkyYXAwd2xhYXQ1R3RzaU1lSXU3YTdUNVJ6Z0lwaE5WUjF3ZTZoS1lHME1VVG15bjBJVG1IZFR3eHVlS0sxMDlIaWo="
m_p: "N4K3i8B73vxYY2bxg9NaVy1ooY3u4EoA4l54i54973B4lkvI62UBi4JSM4jRh1QU"
e_t: "1614177988207"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:25,732-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:25,732-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "d4596c74fccb469a877b0bc8c56793b1"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "svgohyYY"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231646272076075925523302"
version: "260"
queryType: "PAY"

2021-02-23 16:46:25,777-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:46:26,777-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:26,777-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:26,780-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:26,781-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646272076075925523302"
2021-02-23 16:46:26,785-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14979, 'pay_req_id': 'KB202102231646272076075925523302', 'notify_id': '3587788872045000601584336290', 'partner_order': 'IKACb4OV3RywfHjdiUYNs0rkPJovS1El', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 28), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 25), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 28), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299648","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299648', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:46:26,785-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:46:26,786-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646272076075925523302"
2021-02-23 16:46:26,789-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7665, 'pay_req_id': 'KB202102231646272076075925523302', 'partner_order': 'IKACb4OV3RywfHjdiUYNs0rkPJovS1El', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 28), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 28), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 27)}
2021-02-23 16:46:26,790-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:46:26,790-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231646272076075925523302"
2021-02-23 16:46:26,793-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:46:26,793-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:46:26,793-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:46:26,794-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "IKACb4OV3RywfHjdiUYNs0rkPJovS1El"
2021-02-23 16:46:26,797-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 128, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_IKACb4OV3RywfHjdiUYNs0rkPJovS1El', 'partnerOrder': 'IKACb4OV3RywfHjdiUYNs0rkPJovS1El', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 46, 28), 'updateTime': datetime.datetime(2021, 2, 23, 16, 46, 28)}
2021-02-23 16:46:26,797-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:46:26,798-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:26,798-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:26,801-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:26,814-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '89563747960284757038154717900004', 'bizNo': 'cZDgmbeTtnhl6R8N25JGVkLU7qIEOSrC', 'operateType': 'PRESENT', 'requestId': '50813264049071057955191397442134', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614069986811})
2021-02-23 16:46:26,837-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:26,851-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614069986848', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:46:26,869-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299649'}], 'vouIdList': None, 'batchId': '3a58a03b5a484dab9b5ef697d6862108'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:26,882-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '3a58a03b5a484dab9b5ef697d6862108', 'batchOperateType': 'PASS'})
2021-02-23 16:46:31,923-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:31,932-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:31,932-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "54478375100189"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "YpTwFV9BK5hR1C78NJmDXnLo3AUEOyue"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:32,016-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "9a386bb986004cea9b279c151b2f24ec"
s_p: "YTZYTUxEckRwaXAzeTFHZThub05kQXQ3eDNsN1E5aVJJcHBENnBXcEFlb3RrYXl1M2l4OUM0NmJsOWVsdlhHTU9FZkx4aEJpNmlkSktyODVTUzBwVHp2Z2JzejNQNFJNN3lzSGx5V1NucWVCWmRlVEZXSmY3MUlYSlM0a0FGN2xNM3BaSUZkUmM4NjY4NUhFMzhMcWs5VDV1b3pSb0ZMUnRYczdINTUwdEh6OVNHbDgyTEwzWDNwUjlpNDhoZ3hMQ0V1S3pEVGtNZDJMbjdBbllKYTZJZ2llek42NTdUUjNUSzVhNml2QkMzY0diQlNwb3kzT0p5UVNtenJscEI5Rld4SWtYblVwSEl0cUFoRnpiSW5qYXdaU21YTXg5cGJ1bzV4eDloaGRoZ21FOTB3ZG1QTFhTSXg2ajNJSVBvZjlmUTZoTHRLMzBxVDVjNm9VNGRYZ0tyZUtIakhTNkxBeXBxVXJuN0d4M1BJQlBrZGFLb0kwNXlKNUpqQVJObEE5bEJ4RjE0TFlSM3M1VlVNeFpZbnZ4d0FmcUhSY3Z6UkV2bE1nTmVtZlZjS2p4eEtlSmhNRGR1RFpRem9jZ3dRNHVtRFZVdTFFdkFjemN6WGJpdTA2Y1RVVkZUN2RwbkdJRUdPbUEwWWQ0cnh0UTNVTmxCc1NtU0podGhpWlhmREdmbHB6ZFRLdE5NZWZ3ZEJHZFRwOEJmZG1FOWdsaWhjb2pBVDNnQTV1T1NDdEh4eHVPWUFXY2ZtemRSYk1OWWpqbzFBeE9rQmJ6ZmllcGtWQzFEQ25OTzIwQ3BpbTc4QWQ3MWRURWc4N1FhNXZYM2NSRjZBMHU1UEw1WUdVT3lvYTl2TnFOWnN6SndyaHFWS2hONlNqaElUeExpNjFETzVjQ0pYZU5BVFFIejVLVnZPeU53QmFXR29rZUNielhEOFh3b3RkdU1qaGJ3a2NxZ1FWUHVFa2pwNmJURmw2NjFhQnRWMlpwOFQ5cnZ2M25sR3lOemVZbkFDMldYdEp0eGVVWGNuakpYeGI2NmRBM3F5ZVVZT2NGTElGVmptSlpVUE8="
m_p: "5W9X8lbaRkj1Tr7lBH1RwY50he08O4ongFeTmX5K6ia8IF7q5RY1p35x8eGy543u"
e_t: "1614177994489"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299649
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:32,048-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:32,048-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "9a386bb986004cea9b279c151b2f24ec"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "SS0pTzvg"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "KcyX8rZDMGqpfQRvO697Wm5eIhdwEgSL"
}
sign: "dfpwj0IamT14iQWgP5NJ/irS699/SNE96FY7uGAy96/w5RI6aWSMALBF5c7hdf+YsQkjMtDpqWLILpUjVDTD3ycnsaVouGsgUWNSnv/je17djj8VgAqZ+ir0Klhnr9N9Qkd0KJXFOwrMJuoE6uPdRdcjhquBrhOzlxUPPTktNxl/06oMVhHpJ7/FVDHBUKa4FILEtetbRK/0Lq9a90WxI/2fmd0hYJxQ4cBCDsprQ88McFj6Zck65z9QSN+KhY4PhMHZKT1D6s5VZbAjSj0RNtSKv0l8fTGIMmkPX1XtODleII/xGHrjOAzc6utShIhwVPn1KybRBuCEb6UgnzSpIQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "9a386bb986004cea9b279c151b2f24ec"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "SS0pTzvg"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "KcyX8rZDMGqpfQRvO697Wm5eIhdwEgSL"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "BI5s/1D+LCKHucP1EDS3z3glyGBXutAfY1gGE+m8UDCav6EJjjSs0VaBlXg4m5mLvEfo2i67BRBqbSy6oG+40yxSNlsqAURA5SY8JD8Q8U+mtncVQBRO4y53Y9ybcYkzWWoDGHcZ0hPjY2otiAORGue5ZJslLtNzTLilhaAY9sY="
  appKey: "1234"
  voucherId: 62299649
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:46:32,439-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"64e9112d1c8748678159c70cf78024c1\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231646348954197e81c43a7ac94e920000\",\"sign\":\"22529ED3D6A5AB0F13B6BF377A4E96AB\",\"timestamp\":\"1614069994\"}"
}
payrequestid: "KB202102231646342076075925146052"
model: ""

2021-02-23 16:46:32,440-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[6419203042407729565648359488]]></transaction_id>
<nonce_str><![CDATA[vpFe9N67ZTRUj8grLnSwDfYuxEaqJPHO]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[F41F32A119E36C01FC8AE22DE6A07916]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231646342076075925146052]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164632]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:46:32,545-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:46:32,545-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:46:32,552-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:32,552-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "43708180216641"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "0T7Y9FpkWdEVgbIMNSBzL4UmGAKD5J3w"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:32,647-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "9be1d0f109824b44ae927f5d08ceb18e"
s_p: "dlJnWWlzZEJpUmlMQzl2ek5zVUNOZ2RTUVNNNEp6d1hBNTg5ZHgxVkl5ejdqc1Y0TDE4ZFl0dUQybW52NGxPS1ZrQ0Y5WTg1TUdZTEhmSGVRMm1UdkkxQzRmMWluQ1dOSkMwRUFTTW1tRTB1UnhpRXlOMm9NTEZJejdtVUxlTUh3bkw5ckJSUWxaN2d2SFRlNkhMR3hIR1VmUHRPWGM2Rm5URUp4MWQ4aDNDT0dvRmF5U0ZvZEwwYWFOMzdtRHN3RE93WUREUTV6aDFOTEtpc2QwTlM3MlMyelpJdG1zbnp0cWdrOXljYUpVS2J6c1JISjRxVmtGVVBjTkI2MjBmWWYxOHRoeEVFellybkEwV0l3Z05NRTNidkhyNVR2YW1ZRkxmRFRTZ1kyanFiSDdOZldkclZlbjZSNWZ4UnpMU1d2WHlzMGU0Q2N2U1pIWDlpTGJTbDVhc0ttSnlxUmlSTnN4U1hDQ2lTOU0zcndERzNtaWY0bGZPcG1oM2t4UzR0aWFHWmhWMkdwOXdqNUtmMWJjMEtDRmNQRlBKZ2dNajJwQXNJa0pqNE81YW5WUjMzM0NCZEgzcmxRWktYT1JNQ2lmYkV5NGxDSlE4R0RoZWZDMHMxSVR6am9ibDczTkR4TkFvTnlEeXVEOUxwSHhzV012eWd0YUVCbXVQNW4zazY2bmNaekxlTGFweDdwcTRHNFl6MWVnNEZNWUhTeFQwNXFKU1Vack5kd3VEYTh6NDNlWERsTFVmZm1pWTZhMDFORmZ6WGk2c2FoVFFVRkJVQ3dkQkpRaWlCY3FDQXBVNWl6SnRDWEZYVnZDM1pWUktMa1BFNU9ySmxYUmFtb21XSVg5OTZsM2l3eGdKZ0ZFT3JLVFd6U1lPU0lIeElLcnFPbjVnYUphUlBIVEFXeDdjNFg1aWlleVVDa3E4QTNBMjJWcHh1QWtjT1ZlTmlnRnhlUXJIaTdhRWxSRVFLNmM4bHJ2MVJBY3N2b3JwSGgweG9CamtDQlZRSjU4dkN1c21DS1BPZzZTcFFNc3o3NnhLTG9tNlQ5S0QxMmRxTkpuUWY="
m_p: "5W7510eMMnU4X2J5CUCJLv074bvB6z5V2H4b0f6QIm1q5v318xe6oznRl056bebe"
e_t: "1614177995112"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:32,654-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:32,654-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "9be1d0f109824b44ae927f5d08ceb18e"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "MHwnL9rB"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231646342076075925146052"
version: "260"
queryType: "PAY"

2021-02-23 16:46:32,700-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:46:33,701-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:33,701-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:33,705-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:33,705-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646342076075925146052"
2021-02-23 16:46:33,709-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14980, 'pay_req_id': 'KB202102231646342076075925146052', 'notify_id': '6419203042407729565648359488', 'partner_order': 'KcyX8rZDMGqpfQRvO697Wm5eIhdwEgSL', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 35), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 32), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 35), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299649","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299649', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:46:33,709-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:46:33,710-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646342076075925146052"
2021-02-23 16:46:33,714-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7666, 'pay_req_id': 'KB202102231646342076075925146052', 'partner_order': 'KcyX8rZDMGqpfQRvO697Wm5eIhdwEgSL', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 35), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 35), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 34)}
2021-02-23 16:46:33,714-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:46:33,714-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231646342076075925146052"
2021-02-23 16:46:33,717-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:46:33,718-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:46:33,718-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:46:33,718-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "KcyX8rZDMGqpfQRvO697Wm5eIhdwEgSL"
2021-02-23 16:46:33,722-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 129, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_KcyX8rZDMGqpfQRvO697Wm5eIhdwEgSL', 'partnerOrder': 'KcyX8rZDMGqpfQRvO697Wm5eIhdwEgSL', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 46, 35), 'updateTime': datetime.datetime(2021, 2, 23, 16, 46, 35)}
2021-02-23 16:46:33,722-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:46:33,722-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:33,722-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:33,725-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:33,738-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '24197815658119179587687446412957', 'bizNo': 'dfcpuDTqNow3X1ZOPQs6B4FJMGy0mlYj', 'operateType': 'PRESENT', 'requestId': '83341743879897722015554094207470', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614069993736})
2021-02-23 16:46:33,764-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:33,777-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614069993775', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:46:33,796-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299650'}], 'vouIdList': None, 'batchId': '7cbe03b625ce48b39d808935c9a0d1f8'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:33,809-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '7cbe03b625ce48b39d808935c9a0d1f8', 'batchOperateType': 'PASS'})
2021-02-23 16:46:38,850-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:38,858-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:38,858-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "18344238023066"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "aUueWJkvxmT2pVcM3zf4YBgnyF0PbRXQ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:38,938-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b07331c9ec2e486084fc0881e401248b"
s_p: "WXY3YWVBUFNiRmxzUU5oem9HSTVvbm9tclpFaEpHZ1BqT2kzOVV6WjZYUzFQZUdEdk8weUFlNG5uOFNBTVNza0dKYWE2QThQSHJLMXdVNWRVWGltdEdKc2Q4R21xYTRuSWpSS3N4d2h0NXRTckoyeEJENHl2SW9rV1NhN3pFOXBxeldpRndkQ0dFajhlbW1VRFBYOVlLeHFUMHY5MVZCUW9hUDg0OUdETHdubEJySmJWT2w4ODh2ckZzMnpYRDJSS1JJTWdXMGNmRzV3RnBJOEpqV2dQcUxUZ1RYSHQ1alhUanpBUm5CRFUwVGdUa2dqeDYzclVPWXFmMXd4UlJnT1REb1RoY2drcHRGdkE4Z1VlSmQ3cjZYTVlPZDc0emF3RW1RSWNQeTAxVVhCbTd6SjRGRWFYUzlOMFZVSnVqN2lxY1hQcVMwdVNFOG5Yd3V3TFRCb01raU51Q3N2cnB3elFZN2t3SlhmdnV3cUxJemFicVM4NDR6anlhNVNCM2l0REFtSUR3d1dKVmJzMlpub0FEaWlLTEdYYkIxQXBaNVBVZk91NVNBN0hzREJOeGhnMnYxOE1HTE13NGdOZlpBaXpqbzJvVVpXQll1WGVMWGFIdldOU2I0RlVqbjF4TGlrVEhVYVFHQVJrTTNqWG14TDlwNklzUmlhdjVDRFFuU2JqNjA2djlzdlRjcUd4RzhhdU5meHFUNkdtcE9NQzlMd3FkU05TUjFmR1RXZWU0QThDTVBLN1pYSmlXQ3FoNWRpZ2RHV1RrRmV1WFViTnpxUGpLSGpxbTZGOTNTU3lNM2hCZElqTlJ4YUNKWklvNUY5bllpRjd3Z0NFMzJRck1qR05PanVNa3poczd2OU5sblBBV1dKWTE0TVdqQmlvQ1J0b3ZwZ28waTliSXZjcEZMNE96Z3JkWmlKSGFQblVqM1ZpejRCVlBSUThDVjIweTAwVWJ0NGl5NUFJMXcySFo3ejNKc3RQdjZJYjdnWVlLTktHakRxVWFDR2NiUXhWSkFQZUtKWm5LQ0V6d0JNN290VUdtVnJoWjBmd0pmSWFhRUM="
m_p: "P39vZA15Mj3O6VHEuTP653thmiND87TcrGX6Nnq1l7XzEIZs5c0f1mSaW9BSTR0k"
e_t: "1614178001415"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299650
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:38,961-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:38,961-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "b07331c9ec2e486084fc0881e401248b"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "X9YKxqT0"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "rmYMkA2ojgKqt1GblafX8F5RNcH3y6nh"
}
sign: "yerJ7bncqdgSx3epvMlcdClYbMz9sqREUScrXxxH+Hul79ejx8KkFtqsYI2CswvB0cn8WuNDIR4npTQVP0HolnU2z5EtCH+/lE2IR4upAIfd/I8KUcz2T51gsdH989C8CMXY9+iq2tgsUS55yS3jcfxS+88W4TzWzA4G8Pd3yEnZav7fM0AyG3eRtOY9eYkE5L8oWdiisd9Mo6WBXHQWlEVk5Ky2u4X1c/I93gPjoOX+HNGi7PE0ucDaCEDv3UcQBgfmuFz6BnbsT4oP7kq2CWAY8zBA/g7zIgju0tehiBWia6DoSb5cONKGCGV+edy92Mm4ik2Sp0iKLzCoekGxdw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "b07331c9ec2e486084fc0881e401248b"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "X9YKxqT0"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "rmYMkA2ojgKqt1GblafX8F5RNcH3y6nh"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "Hq064P4OkHxIeTfiOyTQ6OuIyr5XOJRI2JhtKFZiIkj2Zi2QTe2BqqSWhZeq1Fn8n1EKyE83nEItXgaYFbu1JBORYci0ahDxjuABrKCXfyYzb7sOfgfz7tWm8MxUqm/F1Q3AXXhRcAu3f33HXug/310OPDg4mXim0LY00CYMSaI="
  appKey: "1234"
  voucherId: 62299650
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:46:39,356-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"3e9cacc60992482ea18c73454b1dec3e\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164641809149582f555b0c8df8e30000\",\"sign\":\"EDD86543B1B2FA162FC8D8D97F1C61BD\",\"timestamp\":\"1614070001\"}"
}
payrequestid: "KB202102231646412076075925750542"
model: ""

2021-02-23 16:46:39,356-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1926186731442344371432076220]]></transaction_id>
<nonce_str><![CDATA[9GFU5sWk1bZx72DnYVvBeywzdgpJmaQC]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[2658AF016ABFD6B952268EDB388D9E4C]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231646412076075925750542]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164639]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:46:39,449-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:46:39,449-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:46:39,456-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:39,456-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "14695969727424"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "PsYDwXnQ7tGpEOrRhoMZux3jmqCgLV10"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:39,535-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8fe6c4473ab6497b8930930d96590963"
s_p: "d2RzVjl1MVRtZERPMWk3RHVFNTcxV0NNZ05aeGpOR0JTQVowSEhjYjN6eVIxRmM0aGhRelV1dEI2M1dqeVF0UWZjOG9wQWVseGFDVllHTTQ0dW5QeDFMUEptRDlqR1N0a3FxZmd6RWY5R0NVU3ZwUEVnSjZXZVhyN3RUcnNnOTFLU0o2RGJpR0hXbW9vNGRiVnczMmlkekVVUzNNUnpnd3YzdzFlaTVvVDFXZmljT1R6UTQwS0ZhZFJWR2FzVk5GRmtzRU9NWURNbWgwQXhWRk12YVQ4UzUycldNMElTQUxKMnViNUtibFp5VHA3ZkRBZllEdWVBZWcwWnZLcmlNU1lWSk1waTNJbmJRa1hZR3RmOW1XVHB3aVR5MllRNGRCQXZNUkJIRW5wak5XN1AxRlR0RDdObmxBYXJzYmhLR1IxMkFkd2RZbUtWaUVlT09NemZybzBMWmxxa2VpQ3FsUDBvUUcwbUo5TjBvU3dWcVp6RjdGNWJHRk03OUJXWFJxbzlmSWROVEtoTmF6cDFUTU9RM2FsMk01Q0VIbkh6VTFjM093eXlDU1N6SFZSOHNMSjcyQjg0RmYwMUM5TTZmV29GZWIzWGFqWG1ieWR3dDBsSkVKeXJCMVJ5QkhFMmpVdzF2ZjhTVlM5bjhOSXdFUnMwY01zR29POG9uZTBZaXZyTGtoV1JMNGdISE91QWZIYzlKR2l0YWN0dG5JQjRFakc2TlZhZGNhU2FIeWJHU2drZEV2RjB2MDFsUnVBc2ptOEQ1M2dmNFBrQ1R3cEJoSmRPa1ZQbmRrem5jRzdCNTc3eDhiNHNYcmxDR3ZocEVkcjNrcmlyNm1WRTVPZ2pXQlZKdDI5STFKYW1DNmNlTGg0OUpPMU12MU5oRFBuVXN2SkZlR25CUmhkMnA5QzNXWUJhVmdCNllsQUNzTkkzMDBXTlRwNHBuOWtnY1pWQ0ZxekZ2MHlJZ0hKSEkwelFmRlNJbGZETjR4cWlxQXN6NHFPdFBmNnE1Rmt3WTRvZHBkWmY1d0ZLYkFMOE91QU4wZnBVeU40R0k4MElkZEdWSmk="
m_p: "4s13hvO35Fuu4qx6L1GE88e71xQQ3c1sH17VsgeTS120W6BZtSU2twq68BhkaEK4"
e_t: "1614178002014"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:39,539-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:39,539-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "8fe6c4473ab6497b8930930d96590963"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "SvpPEgJ6"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231646412076075925750542"
version: "260"
queryType: "PAY"

2021-02-23 16:46:39,581-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:46:40,581-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:40,581-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:40,584-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:40,585-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646412076075925750542"
2021-02-23 16:46:40,589-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14981, 'pay_req_id': 'KB202102231646412076075925750542', 'notify_id': '1926186731442344371432076220', 'partner_order': 'rmYMkA2ojgKqt1GblafX8F5RNcH3y6nh', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 41), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 39), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 42), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299650","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299650', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:46:40,589-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:46:40,590-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646412076075925750542"
2021-02-23 16:46:40,593-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7667, 'pay_req_id': 'KB202102231646412076075925750542', 'partner_order': 'rmYMkA2ojgKqt1GblafX8F5RNcH3y6nh', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 42), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 42), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 41)}
2021-02-23 16:46:40,594-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:46:40,594-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231646412076075925750542"
2021-02-23 16:46:40,597-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:46:40,597-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:46:40,597-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:46:40,598-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "rmYMkA2ojgKqt1GblafX8F5RNcH3y6nh"
2021-02-23 16:46:40,601-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 130, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_rmYMkA2ojgKqt1GblafX8F5RNcH3y6nh', 'partnerOrder': 'rmYMkA2ojgKqt1GblafX8F5RNcH3y6nh', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 46, 42), 'updateTime': datetime.datetime(2021, 2, 23, 16, 46, 41)}
2021-02-23 16:46:40,601-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:46:40,601-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:40,602-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:40,605-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:40,618-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '63027236916199686789929701458324', 'bizNo': 'k9JQfFjolbLAZ8dKV4zniG2MwIUaOsB6', 'operateType': 'PRESENT', 'requestId': '10690466237196423515999099795014', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070000615})
2021-02-23 16:46:40,643-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:40,657-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070000654', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:46:40,676-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299651'}], 'vouIdList': None, 'batchId': 'a619be87dd6d4fde80fe7f464739b247'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:40,690-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'a619be87dd6d4fde80fe7f464739b247', 'batchOperateType': 'PASS'})
2021-02-23 16:46:45,729-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:45,737-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:45,737-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "19869450786314"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "SUo93527FeNMkqt4KYulHzcnExvCfiQO"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:45,816-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "580dc84b812e4038b9f1e2038ac45943"
s_p: "NUlTMFlUY2FDeERyOGVUeXhuejlqTDhlNjRnbUVEaFRVdGxNd3RKUDlhTWs0bW8wNkhDQjVCZ2dEWDlnbmlzTEFLM0JwMVRiZEVBa29QMldSN09aQUkwREZHVUJ4bWFsbml4U3BGYUs0QXliYk9OcUlHNDJiNGlVVUNHWmt1UjF4UFRmdjFSY3FLY0FxRER2cFRkVnZwTnVpV05oUndnbTRnaUFPYjE4M1A2aGcyeFgyTFZlTHoyTHh6ZzJBcXhjYzl3NERsWGNaM2JYQUxlY3hqazFvOXhqbzZXVEdoTWc0VWttRWFZVUJhQTl6ZXNyTFk1SmE5bXZYd3g3bXo1MjcwVmQwNDFQQmVhTnVhWUdzb2g5ZnJJZE52b2U1ZUllWjQxNkpMbW5LenZCWFRRbFRnWWE4cDE5T1E3QVVnRG9WMDhiU2laY2JJbHpUQktEa3BmSjlwSlZubUllcTNCY29Lemw2NGpOWXJOTmd3emE1NmZ5OG02WktYNkgyNW9OS290QVkzSDdZUEtMcEpETUZpcVBDZ3NrMTVBME5BcVRVVHlwenlUN0t2NlIwZ0Z6OGxUVlZENUdtZFpDeWxRM01RN1I1WHZxcXlzNDJ1aE5UUzI2azlmNURsSnZPT0pqNTN2NHNLdlg0MTlyVjAxZnpxajhxVXV1c0l1bnFaWW5SZ1VKN095QkM0Y3E3TDR5Y1FXRDhiWUl6MTJUQ0I0Njl6UWZJMXpSR2lxTWxFcklIdDVZTkFuTkFJM1pCelFxRlp5cjNXU3pHOGtORWxZTEJ6MGtvTHhzZFFYdGI5S3pqQmY5M01GSlFobk1kekp2UTdveUtHUFlLMmJkektwUFg5RG9DTWhaSDhPWUJVM0VlbzRjYzlsNlZMbFlMYURGMTFQcExIdkpldGpEWnNpQkZmazFqOER5bFltMTRLeTE1dXdjTGZMdUpSQUFJeTAxMzVha21ja3FaMjVORVVwckRLWVNkdHY2OWo3ZzhnU1Y1Y1Y5eVhuZ3QyWVNMamsySTBWTXh6OWo5ODd3bHY1eEF0TXhkcjQ5ZThwSGNLVnU="
m_p: "n49LND1Z56f05gn4whqIQNYPP0oSvbyu1ACqaNB7o5Xi3w932m9rshBdo1iF95xY"
e_t: "1614178008294"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299651
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:45,837-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:45,837-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "580dc84b812e4038b9f1e2038ac45943"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "TbdEAkoP"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "lsTea9nRCNgt4pYxb87dKcqXMBwHJyVj"
}
sign: "VoCsUwJOg7os2x7Ap4Eqgh2J7Xi5w9oArnCxFB546TQeQAfbWRafTQQnEDopdoIJVgKh9SWp1ygLwL2gRMGpCT7bzEqwEfYtsjMvDgGwN69GDeDQlROXljxca9VpZA47dQkungPHxE/cCnK5PlRuwue0XlAAi9F5eWn2ElrDROJRcgPvr+QpGUnk1Jy9TkLfM7QgFREM8ubMuPhVZh6oLLhdr0TUxJ+3IgfL+1xv+QX3JoTepgLqEaaWDgkADhoeWVfnVSMquQm86t5ZWGrGh2FlCtpMuD7tnFZjLPD2HjGnX3TEeIi/49jmGP2EB6zXRG/weNGwTSqdf+i2xtjdZQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "580dc84b812e4038b9f1e2038ac45943"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "TbdEAkoP"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "lsTea9nRCNgt4pYxb87dKcqXMBwHJyVj"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "GRAo+irNljN+SImlR7Aut+Na6q7ff00pUN+/KuwcB/7h9lufVhfmwUTOtNL5LbbWoDQ37QqpRaTrc0/iRsncV6vZMCYUKQV0SeXUnHBy2CDjyPCdbvGmDX58nyCk9BXqvGPlltDz6FsWh2avaKDabauBahRmJ/g4NL1DEhdlom0="
  appKey: "1234"
  voucherId: 62299651
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:46:46,190-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"ac8d90bd58e44189886ce6295a8bd872\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164648642981782c46b5b4352fad0000\",\"sign\":\"8D77ABE39DE03073A5DCAFCE8C2C253A\",\"timestamp\":\"1614070008\"}"
}
payrequestid: "KB202102231646482076075925270302"
model: ""

2021-02-23 16:46:46,190-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[5977216835767564253993469727]]></transaction_id>
<nonce_str><![CDATA[mAY2pdgctnG8QxaWiMOyDfE5vB1hs0Vb]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[1EB9D02FB7A3470C93A54A5BBD485067]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231646482076075925270302]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164646]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:46:46,286-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:46:46,286-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:46:46,294-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:46,294-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "14557091092960"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "DJ3LUZgXxflVjNTpeCtKrW5G02uAOoPh"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:46,371-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "181e83471d3143d88528b952dd8c7d49"
s_p: "UHdsVWtsNFZ6R0x0b25ZdUhHWnlxb1pkdmxvSzBGS1RHc1E1bm9VdUVxYjhNUVRsR3AxaXE0TE9XZlJSQjlydjNBZVd3T2xPcHpUbVZwTUVNeTRwb2kyNzRaU2ZNUnd0d29qSktpbkEyTkgzM0c0ZVUzcWVkZ0xaZGJXQVNlTm0zVHBrcFBlMXE5VHRJSmpuZVdRQ1UwSUVTZU1DYVRrdk1RdGR3Ym1rN0IxZnBaYk80bFdyV1VBbGZuYTBnczVENzNwNWFSRnVTWmNiMHBEYlpJOEdsWWcxelJDYWhnT0hWc2RNSW04MEtsS3NrbmpmbmdtN0V5UG5MekFWeEszZ080WVhWV2p0ZllMQ01YblRtZDhlN1VUZEF5UWZ2dTdBcU15N2NMZUUzSkdiMFdGSVd0TGtZb2NrbmQzbTNsZ3QxUVBhdXF5Y3AwUFJEMTJxTDV5VGljYTZhN0p5WjNLQTNBWXJoV1NUck04aVkzbExaYW5jbVJva2lKd1gwV2VZU3hkcEEzNmk2TkdDUWNwZ0N1YWpPclVwRk52VEU0OWdESmt5dzloakp0bnhBZ0VDaHZIMkJmSUdoODZKWW4zZ2F5WmFoanUxSlZKMUo1RElrbXl2b28xbWdUUVI4RmJQM1AyZkVXUTRwWnJCYUJ3eDdYMEtPT0FzSUZUY0FkNHFSbEZmSFE2Wmg4NXgzRTZ6VDZrdmk1T251VXAybGNmUXBDb1k0R015aWpaY1pWOFUyMlVCeFVncjhRdXBGVzBONTI4c0p6bWJBWVR1WlFTYnRxNThQYXM1eWo0czE1OGp1bllNOEROdGxQS0FSSVk1dW1pZFZHZTVTUnNGamM0aDJFWk53bzRUVEdzdWNzOEI5cWcwdUFGcW9iTjV5dUlTeHFLbDkzYWNZZVA3UTI0VlVQdEp2QWcyMVI1N3plREpsOTJCdUo0bHIxZWEzOGEybVZGOTNyS2twUWdIZ09jbjFmMnZnRjZiNlRCajRMZTZSOUFnWUFlQXVVeU0yTVNtTGhWNW01aGpEVWJxZVNudDA5RmQ3MVFkZ0JwN0NCeHc="
m_p: "YeivbKCZM2u4PN429FEMO5JcrdI5lq85LAS37A507g2N9OFup2nK3jg1UgAg03se"
e_t: "1614178008851"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:46,375-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:46,375-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "181e83471d3143d88528b952dd8c7d49"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "dgLZdbWA"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231646482076075925270302"
version: "260"
queryType: "PAY"

2021-02-23 16:46:46,421-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:46:47,422-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:47,422-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:47,425-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:47,426-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646482076075925270302"
2021-02-23 16:46:47,430-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14982, 'pay_req_id': 'KB202102231646482076075925270302', 'notify_id': '5977216835767564253993469727', 'partner_order': 'lsTea9nRCNgt4pYxb87dKcqXMBwHJyVj', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 48), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 46), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 49), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299651","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299651', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:46:47,430-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:46:47,431-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646482076075925270302"
2021-02-23 16:46:47,435-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7668, 'pay_req_id': 'KB202102231646482076075925270302', 'partner_order': 'lsTea9nRCNgt4pYxb87dKcqXMBwHJyVj', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 48), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 49), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 48)}
2021-02-23 16:46:47,435-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:46:47,435-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231646482076075925270302"
2021-02-23 16:46:47,438-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:46:47,438-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:46:47,438-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:46:47,439-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "lsTea9nRCNgt4pYxb87dKcqXMBwHJyVj"
2021-02-23 16:46:47,442-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 131, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_lsTea9nRCNgt4pYxb87dKcqXMBwHJyVj', 'partnerOrder': 'lsTea9nRCNgt4pYxb87dKcqXMBwHJyVj', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 46, 49), 'updateTime': datetime.datetime(2021, 2, 23, 16, 46, 48)}
2021-02-23 16:46:47,442-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:46:47,443-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:47,443-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:47,446-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:47,459-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '34627181306384063782974290053058', 'bizNo': 'MPCWbaqBxpTF45KDHNkzd8u7ArygmLnY', 'operateType': 'PRESENT', 'requestId': '01676125811354898282827357513102', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070007456})
2021-02-23 16:46:47,511-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:47,524-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070007522', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:46:47,544-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299652'}], 'vouIdList': None, 'batchId': 'b6b37e31d9af41e7931004777f7cb43e'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:47,557-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'b6b37e31d9af41e7931004777f7cb43e', 'batchOperateType': 'PASS'})
2021-02-23 16:46:52,586-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:52,594-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:52,594-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "05463922970621"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "y3nDwIzohFmHYlNxriPfQGLCvde6kc5R"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:52,676-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "840508e275084e74b84798386c39397d"
s_p: "bGZ3V2tTOWtFeUllbHRqSEN6MXFESDJQTVBwQkJOV291TnkzbkJTNFBrYXdid0JiWUR1N2psSFdmWUVkU3J0Q2trOWxiVWRVandBQ3lxQTlyclJFRU5QM1FSVnQzQjZDMUMxUHBlbXNGM0NhZzg1Z0RCU0s3NWFzdmxwQlhuSVdlUVFZU3hkUWdIclB2bnNtcE53cG5tTmx1ZnN4bUxUQ3phbU5mcEVPa0RvT3VHenBEYzJLZG9MQkNZam1iT3JHNXY3Y0hZVXNXTEZpd2g1QUc0R3l2aTg0eGZodHl5ZElwRWZjdFluN2ZnRnFLSGRycmJxUDAyV1V5Uk1KQzJrUFBEUENzMkowRlNvaXIyVlNFRjFXN0xwVEIyOFhabG9FdUI1Z3o0ekhMNVI3UTdQakJxUVFaTzg1YnZFSnFFVjY5emtKZnczUHppM0V1NzdXRzVIMXc3cXgwVkpLU2FpTlcyUFlONGZkRjFrM2xvd0U3RTVhWVFINkhKdkhJMXdkM2hrY0NremVmTGNyZXQ5d1dtWFVnbTd5RkEzdXZrQk9mRHF4cnpKWW40dWFYOXNJVEFUODVPWkpjSG8wTzlOSmxnQTZDeFg5M2hYWFhzVlNNTGFxcUFPRmFDYWVBbWpuaDlnUjRHemhmdmR4SU9Ya3hrU1lpTktteDBINEdCZEh6Qm1QdTZRaGxhZjhmdUpvUkwzR215TjFyQWM1VGFyaDdyWGRkUHZoWk5kd014Unh0TFVSYlpENWdpYXdRWTZkZXNsQmhkWmpucEMzeHI1TmJnNk5qOVRTa1FIVjByN0ptOG5sZm1QTXJoMVZqRDMwZ3lTZUkyYVFrVm1QN2ZNd1NDWVpaRENNWjY0SXVCMGRJTm9GdmJ5eEJiVnp6b1RXdzcySHdDVXpMdVdjR1VsVzQxZW5BOVA1N1RsTlRVTzFacUVUSHhhQ05laDJZS2lLT0R0bkliNnU5Y1Jhdkc0VzFZc1ZMeDJSdXduakpzdmp4Rm1lQmJuclQ2cE5Pc01MTVV2SjdtY3NJUzNsUnh6ZnBtendzNmNSdWVWT0ZzR3U="
m_p: "UXrz4pRAO8qzTsp0ziLdcSIDv63d37t91Q7WVFH5v0k0D10S1i7DMZydwOb9JM1n"
e_t: "1614178015153"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299652
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:52,699-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:52,699-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "840508e275084e74b84798386c39397d"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "SrtCkk9l"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "naXNSq5uWvlJpjExtrKiOMh0beUC3YR1"
}
sign: "AJQxF4yrZwUWG/eRgdi9DTTOWTU3BmobsHCgiGUxhoUsa2KXIPaxJMwBNzKbao2Y2kN2R/P+Xg+kuLWcaRj96MmRV+mP3orxyhflxu8iegQkx+/POt4tqIVNn53WYoH14BXr4gToO4pQIqZymmO0DjHzNMWeEwR6Wy4144sLRaBah5HAHXJnox2XyVl5w5/1PJCh+yd9r2u9Tx6TEBxZ6hwr91rdg9hmewee89Yynt9dFgIqgMtjxysbQq/rX3tlmnF9DhLBVnjFa/8KVlwWItwiBcnPbP+yrzyx5oAuypJdaLMEHdvoVgMllWpv7rhrBUFIOXsRNOqtwj2cQUBlyQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "840508e275084e74b84798386c39397d"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "SrtCkk9l"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "naXNSq5uWvlJpjExtrKiOMh0beUC3YR1"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "TCh29ojQEF5yxtdcxYIVJ71vgS5VaFkeA6U3iZFicWXbOV4wru8VBOXaaFqmNxWO+LeQLYKY0PQrDoGAPBOErjWUIKPAh0ZRTPZB8+LsC6pP/tJypOxz6FEjCvNGhbAxJ4tQp0kZdoVJePFlX3bNr6rBRuoWUfRC2RyHSEhWT7k="
  appKey: "1234"
  voucherId: 62299652
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:46:53,108-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"3cf0410081824546ab1361011a6d06d9\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2316465555575456d2917ecf6be8bc0000\",\"sign\":\"C16CE80EEB261B0F958C3AF55B33BE32\",\"timestamp\":\"1614070015\"}"
}
payrequestid: "KB202102231646552076075925044012"
model: ""

2021-02-23 16:46:53,108-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[0157036810908767097822293301]]></transaction_id>
<nonce_str><![CDATA[cxsWlOFqoeNp7a0DGYmwIvyk3z8UXLTg]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[2E18308F439B6ECBECAC01D8D64323D1]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231646552076075925044012]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164653]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:46:53,225-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:46:53,225-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:46:53,233-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:53,233-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "53649755031536"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "6BilhHeRVOqw3sKy92tWF5xMvo0pPaEn"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:53,313-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "236d6703efa043df9d106cca1a7a542d"
s_p: "emlUcVRDRVEzMVJCMDgwZjRGSGV2dHdmazBDcWFIWWtuZlVZS2Z3ZjVPSTM0VEhET2pyUEYxSDhaNG8wY3E0cnYxYWthS3c4UGcxcHd1YjlqTERrdk9tenVvdzc2NFR2NDFXM2l6UmNBc3hrNEFFMVBGMnlIdkhXRFFuWjR0U2xaa1NSN040Snowb0Y2Qzd4WnZyV2xvdmNUcmVaTktMTHVQSERud3BOWEl6UHlmeVRhVFlycmhxN01JVEJ5UUdjMXFJdnJxRUhaN1hCMThWSXhyZUs4TnNSazdsMnRndVVSSnJpNVMzTkhDU3NWUFpXaEE2a3k4aHNyQmp6dE5aUXdwSmVqRndDc0Y3akVtYWlob2tKYm9WdUgwZ3RlRUp5SGRGMjZGa3duc1Z5Mlg2YmhrdkhHZFYzQklJT1Fab0daSXVoazJIQnRTOFFOV3BiRXplVnY3OHh4OTFPdXlRNmV5ajhtaDE5Rm01WDl5VVk2UEFUNFdZU2dwZVFRblk0dkY0b1RZN2J6Szlvcmw5R2p2QVg3a2RJRldCanBvVlNZRTFHTjZWSFlCUWxiRkc3SjkycThaaEZHYzJZSUZkdTBzUGpHcmMwcnlsVEhSV1RYRHV1bjUwWDRsamt2U2tHdlpMNkpiVUtmcFBZdG9ERWRsdE15RTlQZjdoYnFVWWV4OU1DcVBwWHRRZEIxTXVtSjFXM3dDNHRkcnpuWUY5c0xQR1liZ2hUTDhFeXNoM3A5N09lcnFjTU9ud1g3dEc4bmMwdjY4Y0wyd21vRUx3WUZjUTBIWVZtbzJFMk5wbmk5VWZkQmRmZkZvaGlUUGo2ZTdDMlBVWkNlZmN4YVcyS0JVdjk4aWhlTmpjSnB5dzd5blFUU1Z2OHFJYmthNFF6aFhCcEpkUVpmRnNpNmlzRWsySll5SWhQbFZEbWRCREh3dlVhUlMwc3JrZWt0Wkw3WFVIVWtqVklHNW5oc2ZHcFFPN2tRU1J2TzJ4bXdLU0Z1amdHMllqak9iU054NTVhYTMwZ0FXWkltZXJSTlVOTXEwVVJpcHlDYTVMTGFZMHk="
m_p: "c2Z3J5O0R3nmo8PLZzKXFpW7864jAN2up61ZxAc8CRkn2l2V843U9F02XsDV3MgS"
e_t: "1614178015796"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:53,319-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:53,319-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "236d6703efa043df9d106cca1a7a542d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "oF6C7xZv"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231646552076075925044012"
version: "260"
queryType: "PAY"

2021-02-23 16:46:53,364-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:46:54,364-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:54,365-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:54,368-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:54,369-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646552076075925044012"
2021-02-23 16:46:54,373-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14983, 'pay_req_id': 'KB202102231646552076075925044012', 'notify_id': '0157036810908767097822293301', 'partner_order': 'naXNSq5uWvlJpjExtrKiOMh0beUC3YR1', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 55), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 53), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 56), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299652","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299652', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:46:54,373-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:46:54,374-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231646552076075925044012"
2021-02-23 16:46:54,377-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7669, 'pay_req_id': 'KB202102231646552076075925044012', 'partner_order': 'naXNSq5uWvlJpjExtrKiOMh0beUC3YR1', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 46, 55), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 56), 'modify_time': datetime.datetime(2021, 2, 23, 16, 46, 55)}
2021-02-23 16:46:54,378-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:46:54,378-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231646552076075925044012"
2021-02-23 16:46:54,382-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:46:54,382-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:46:54,382-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:46:54,383-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "naXNSq5uWvlJpjExtrKiOMh0beUC3YR1"
2021-02-23 16:46:54,386-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 132, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_naXNSq5uWvlJpjExtrKiOMh0beUC3YR1', 'partnerOrder': 'naXNSq5uWvlJpjExtrKiOMh0beUC3YR1', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 46, 56), 'updateTime': datetime.datetime(2021, 2, 23, 16, 46, 55)}
2021-02-23 16:46:54,386-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:46:54,386-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:46:54,387-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:46:54,389-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:46:54,402-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '25398450052288695988648309455570', 'bizNo': 'dMpCJO6jWBP5fnSYhtocKGwru2vzHIl1', 'operateType': 'PRESENT', 'requestId': '42918579485900350210327121151779', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070014399})
2021-02-23 16:46:54,425-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:54,439-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070014436', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:46:54,457-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299653'}], 'vouIdList': None, 'batchId': '8fc2085c90584bc1828a611e0926737c'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:54,470-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '8fc2085c90584bc1828a611e0926737c', 'batchOperateType': 'PASS'})
2021-02-23 16:46:59,507-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:46:59,515-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:59,515-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "92096206193746"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "JCDkLuHPi5opTSW6v4RU2QymnwjMalN9"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:46:59,611-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b199f8f4347b456a92814a53574c4b26"
s_p: "dkFLRjBkM09ramlicVpOODJmYlRNWTVlQlFKZmo0ZUJobFpLZUtRZFZDNkdlZWVMOERHb2JsQTRMM1NIY0ZMRmFvSm43b0NaZWlzeG94SGhvZG12cnBKZW1BdXRvSGQ0SHZoemUxVWdJcTQ2NEl2amZ3NEVmTjZtT0tkdWlGQlkyTGRwN0FRWlN2S3NBOUhzWFVZaEpnU0lMaHBnWTFpUXpvNWVRWGNEaVBhS3BZUmF6UmNWTjB3aWJjbHRtTFV5U1FkcThBc1BtSDRSR1I4YndNN3hTdFFPdGE3SHpiaHdNdXhlMWxkVURuSEF0bWZrcU9RQkFOVWVHMFhBeGhNamFFS3NCZU1vNTB0RTZadGVjMDV0VmdwOXR6MVhZdTFncFhvRXdmcHZVUUN3eFFQVHZ4dlNTbTd2YzZMdUNuTE5ocjNMQjBVOTRxQmZNWmZITWJhcWJ6c2RPQUJkcnVienZUUDBLRkN0eEtjR2NmQWMxV0hlY1hxb09GanZMUW9iV0JHNVRBVkVySmlUNE1lS0JaeUlTRWtlaVBJblFmaGQ2RzdNdGIxOXNudGhWbDFEVHpNaVJJZUF0VDJIdklHaUlGVVlVSXF1bXJqZzcwVlVwcFN2VmZaWk9GdE5qRFFFbEpOUGUxcGZiT3k4YUFpbm9WelZrSTBMdmh5ak1SODE3bHd4ZXJvRVM3RkFtTmp0eDBxaGxCRWt0c1RnMHE0eGg2UmRNbW1mVXJBUmNQd3Q0S1RHNWZydkxnZ2x3R0xhc2pMaVNwNEVwVlFQNUl4cm9zNTJuMEtsb2VuZ2pSdHFpWHljSFJiTzhDQmdHa3FpRVN3bEZCOXNNRjJ5aHZ3YUFSdXB4RXN2N29yWkZTdTU2dG9oa0FPcW9xVEJTY1BUbkUzSXVmRklYQ0xTY2RaWXI0YkxSQjN1ZFJxeDRHWmViUEo1Z25GQVJzMzNGd1NEQ0dGTm82MjNmY0tUdGJBSmRHekdJSWRUcURUSmFVRW5XaWYyajNJSUwySjNLcDRTUTJmZmg2T0s2TXJEbXRhbkZiRDFTaVBkWHl6NHpBaHg="
m_p: "4l0SNR2C4Ru96mzJ00zNHKTR9AOLo99M91K67TiB4AV027Cii8P7Q7396S97R9Dr"
e_t: "1614178022078"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299653
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:46:59,636-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:46:59,636-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "b199f8f4347b456a92814a53574c4b26"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "7oCZeisx"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "cYFqHZM7P8paIQVdg3v5rbXUnDlxByKk"
}
sign: "4vvF0M8OYhOf1iZPPxHGzMWDkBb0mHb1erMoPPm1zadZbpn5eN+Vx6YsgxSTKnYSWqjfBwO8zkWF28Emqgyj6rG4AhGdzeXMhpj04jt9/8hmm9n7GaVeSwMKl3BTjHZHkLa7E7JUWuX2RHAK5Awy93AMf8knNM0/ZfZc+Slc3j3omi828Mfi3DTcTyFNUmth0MM97c+fEDxcFZslnIeLnKPp1NaWkoYgRJAAXQmhFGfekMHFokI577KVfBTJrdoz1SUSVUutSlK3tPL6G7uk6HSZDIWkH26m+q+zEGFRGzBBizAnpolBWs6ILqvc6/0MhoHMn4/MHsTHQ2uysm8CnQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "b199f8f4347b456a92814a53574c4b26"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "7oCZeisx"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "cYFqHZM7P8paIQVdg3v5rbXUnDlxByKk"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "h90KiX4QtnhHNg47V3s9ozmZMGpV55TmV3u7yvYS+ZcXvu0ajMR7ANm4OYSOpgcbj0iY8E3MM/piG9YXQ1Kzn29kb5s7Smfj9lIywmcfVIubZiSoYE3/H23JpUmYgjR2EJIyoLCZXCsv829qKx0OZVTUr2AwC4kQV0dBryXm6PY="
  appKey: "1234"
  voucherId: 62299653
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:46:59,953-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"ac24f2b2bba144b8a9fecd54e9cafee4\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2316470239528718f6f67c1c39f56f0000\",\"sign\":\"7170EA3C226B42D3B4AE421288A937F5\",\"timestamp\":\"1614070022\"}"
}
payrequestid: "KB202102231647022076075925246822"
model: ""

2021-02-23 16:46:59,954-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9328403452186200153760677311]]></transaction_id>
<nonce_str><![CDATA[8PCVXRor9sDbafKyFp56GSdhnlwjIOzg]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[EB0D16BF3A27370C89C5EA94B9FF02EE]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231647022076075925246822]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164659]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:47:00,060-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:47:00,060-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:47:00,068-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:00,068-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "48966374888894"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "OiqL6EwaTXuvUfdPJcrelDNFGms0CSB3"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:00,167-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e1228926c9b84cddac301e0b78de5566"
s_p: "cWpENnlKVGQ4MFpLcDQ2YlpoQ2QxZ3N6UkZmSUlaTGxkbmlSbE5CSDd5QUFXT0ZQeU5DUXpBNHBzV2IyNDdEMXduSGx0SWNjVTBMM0JvQWVSODF4UlRZZ0lWRzVvc1lOV0ppcWFpcERNUEk5b1lTbllKbHduS05Hcm83cUZ1MVJ5NGJ2T2JJc0VZWFFlZ0VEd0VtZXZabVBHZ1VKaEx6UFo4MDhYSkdxbnM2OWQwbHlpM1ZxazVZTWtUWjh3WENkWkVlczJJUlJmakpCWmtNY2xEMjZOa09DU20zcXlNWHhUcVhZbHI5dDd2dnMxRU1vR25QMjNZV2x3QmcxSDZYUE9xY01MR1h5b2xhd2hFdmI5V283cWExclJCSVdnQkhzaUxpa09hd1lLdzhzWnpBdDJVSmsxVTJxOHRsdHNhSXI0MVNFd09nejJqZEp1TEFOWUlLRmxKTVVwbUhHN3U4WjdBQ1RpOGVZeEs3aGF0QW1qSTdtbW1XUnhEVTRycDRRQ09ETlUxbmFwNEtBUFg1NDdGYmxUZms4TnhTeXVzREFOdEJVRXdpc05Fc25OSUpOY3RNVlhPdGgzOW1PR3JpRFdrWFkwdkUwVXowYXcwUFlmNWNKTFZCRmNkczgwUUlBT0RpdFoySVNHUkwzM1FpVUw5MEpIU0NUWEpRaHBoTFViQTJ6VDE4TEFPY2xWUmxUWnhRQkp0U3ZjT3RiTzdBYXZjbXpFNkJYWmRORVFMNUtSbXByNlVKVVMyY2xoMjZwU1M5YkZwQTd5ZXBKME11YUdsMWsyektIS2ZyaEhqMnBibE5IV0VhdXAxT0hYR2ZSYnBKdDVHNTZiVWhKUnd2TXByazJubVFFMFlPNmZINVhhTldveE45VGp4aUdYM3JTaFpGY0UwdUsxRnRvQlRaeGM5YXUybUR0TjVIZ256dDRaV3AzQUVqazNCWjNJTVlxZ2QydEdRTWVlbkV3WXdZZjRuc0plN01MV3NHbVRjQVlFR0ZCOVRZbDg2dzNFTk5PSndodVdjTzFpOHhLOGgyNjd4VnJpQ0dCb2xrbHo4ZGI="
m_p: "pt21QqrvEEo92T223CS4Z96P2e3DahYUAzPep565X421mLTMd18mWJn4A7Z6749g"
e_t: "1614178022626"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:00,171-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:00,171-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "e1228926c9b84cddac301e0b78de5566"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "R81xRTYg"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231647022076075925246822"
version: "260"
queryType: "PAY"

2021-02-23 16:47:00,214-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:47:01,215-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:01,215-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:01,219-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:01,219-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647022076075925246822"
2021-02-23 16:47:01,223-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14984, 'pay_req_id': 'KB202102231647022076075925246822', 'notify_id': '9328403452186200153760677311', 'partner_order': 'cYFqHZM7P8paIQVdg3v5rbXUnDlxByKk', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 2), 'success_time': datetime.datetime(2021, 2, 23, 16, 46, 59), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 3), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299653","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299653', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:47:01,223-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:47:01,224-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647022076075925246822"
2021-02-23 16:47:01,228-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7670, 'pay_req_id': 'KB202102231647022076075925246822', 'partner_order': 'cYFqHZM7P8paIQVdg3v5rbXUnDlxByKk', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 2), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 3), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 2)}
2021-02-23 16:47:01,228-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:47:01,228-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231647022076075925246822"
2021-02-23 16:47:01,231-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:47:01,232-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:47:01,232-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:47:01,232-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "cYFqHZM7P8paIQVdg3v5rbXUnDlxByKk"
2021-02-23 16:47:01,235-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 133, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_cYFqHZM7P8paIQVdg3v5rbXUnDlxByKk', 'partnerOrder': 'cYFqHZM7P8paIQVdg3v5rbXUnDlxByKk', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 47, 3), 'updateTime': datetime.datetime(2021, 2, 23, 16, 47, 2)}
2021-02-23 16:47:01,235-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:47:01,236-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:01,236-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:01,239-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:01,252-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '15621772435719839488193088048238', 'bizNo': 'AljPCuFocf4Lsy3hW0i6gkN5dHEarSRD', 'operateType': 'PRESENT', 'requestId': '23692577064499258586339713732631', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070021249})
2021-02-23 16:47:01,285-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:01,298-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070021297', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:47:01,318-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299654'}], 'vouIdList': None, 'batchId': 'd1aa524103cd4f8dadd01e6c0ca158be'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:01,331-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'd1aa524103cd4f8dadd01e6c0ca158be', 'batchOperateType': 'PASS'})
2021-02-23 16:47:06,372-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:06,380-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:06,380-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "58642431507442"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "fGIT8c1ienN7KxSb6XruHl9gjVLkstJQ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:06,461-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "9473990b6edd40c8b8265e484e982151"
s_p: "NEJ2dXBPOGFPUUJ6OGZtNUZBYUNqZnlkYUlWTElMa2JsM3VXUklNUWpvd2FZZDZSWTl3NEY3SDduVlZmR0txQTZBdG5oRjl3blRIVVJBOFVBdDJzemF5R29ZQzllWmVqOVE1Vlp0WlNWSGtDejJ1RG50TkwxNnBkbWRIZ3F1MG53V1hWSnlTM0lvZVFFdnFTYXZseDNvS1czVlk3bE5tcHdkc3BDT29ydGVnOFY3UUU1NHRrQ2lmMWVwOHBZQ3hqR2piN0lBanZHcGNsTnVUVWRqZnFENld4NmZac3htS0NTcDd6WkhwUTUzTzU2MFVjcEFMdUVYWnNKSzJmbTRQNXJndUtpTThrSXdiR0dKNVZ4OU95cFpZemxEZW1oSlA1Z1ZjM3VKUEdQcXlHMm1aeDAyUkpsTVBkbFVDamh2U25YcGlFQjRSVGVMaVYyRVVtaVRmdVVxUDRFMjY0WFUySmFjQzEzUEcydUxqWDVDc3VqU2ZHeUxHRnM4Z1c1V3dDQ3FEZTdmM2F6NEUycU5sanBOYzAyOEZiandldlhJR1RDaXY3bVRLc29xeHh5MVFPYzJkZU5xd0pRbklTV2x2TmFEcmZiQXlzU0pQMDJVdEZtMXBUN0NFWXlVMWVTeVh6ejhYV3ZVNUJ6U2dudnVUcFNpdEppTzFqazU0Q25KeUlwQ0VRQmx3R2l0UGRKN0dSblRFQ2ZvdGplakdQZ0M4eHRKVkhOOVRVMHdOTTZ4UTQzV2preUN1TUlKSUJRakp1SWEzSkpKZXlEa2ZkZXlmZHlZT3lIWnZaN2NuYmoybDg4UW41MUx2dXAwOEhRcjZlb0hPU1J1WEhZM0ZaUmFpYTJGSVRKM2VkWmJuQUpjWnF0QmRjTkE4YTRtRHQzWWZLTURScnZDUHkyeHBxY0Y3azNQaUtudEMxSGg2a1pNQUZjZHg3WjRTYU1qMzZBWmVqUk9yTzNENTZ6RFpXeU1Zc3JWOTk2NVRFTlNDNkl6dVVFdGQzYTh6Yk5ENll2ODEybUI4ZVNONGgwYXNlbFdiVE82MWlnUG5QRTRRZENTSkU="
m_p: "66sglb21xi7t1tDa9126MMd4U89z9iI5P2o2o1C73FGPy7d4x6p8A4fWWPbH7eM4"
e_t: "1614178028939"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299654
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:06,482-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:06,482-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "9473990b6edd40c8b8265e484e982151"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "6AtnhF9w"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "KfyE897pUmclxsZVDYXvi5FgCrNjIPTB"
}
sign: "U4M3yzXPglEsraqrHU9Mm5qvVEcYBWMME0rww1olusE+azG4NJWCnO6p9bS6u8pLtkRHLUHAJic1eRdgkIS+yMpi01RqQOF748dko4bBqS9qUyoyUGn9Bp14tatXIh87tmXZhBUXV/oTcWMnSrlr4NNmsi8n+tz96xik4Sy/3Xpt5i6nyNUMLtm8eqj5WNBk3/G0WR2CUc1+OWkYlqmNrvi/Wd8381JYGsUlStsWbC6AM2oYptBFTlPFwnHBnl1WuYGiVZyGH/prkUFSuv2+/ss6C/ALmEQUJzuUJo43LkJmjSsmL7SGkDowcUh3b7QFqUjPra7cC5M5F544tGk8qw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "9473990b6edd40c8b8265e484e982151"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "6AtnhF9w"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "KfyE897pUmclxsZVDYXvi5FgCrNjIPTB"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "RQohWoiktjv0XokZR62LERJaOU1J9Oe0YAnY/k05X0D7BYyIAEvkLpPFPQwrRkWuW7HaYgexitcOxKWDPZHrzXEPQ0b0S0cb+6qmt6xx+aMhjYSW6Tc792mHMofgF1vgGVTl0buO7XxHRTUT3ws0L8T0sECiNIUCVxkIS1Ftyic="
  appKey: "1234"
  voucherId: 62299654
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:47:06,866-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"e80f68e01e6f4792bdc51f3a80bb2203\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164709317186274f550e3ef640670000\",\"sign\":\"0DB4B82392AF026CFD2B43C3F633E905\",\"timestamp\":\"1614070029\"}"
}
payrequestid: "KB202102231647092076075925727412"
model: ""

2021-02-23 16:47:06,866-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4328371707230230155453953625]]></transaction_id>
<nonce_str><![CDATA[Uo0ITD4k3v8HqsN7xp2wVaZFSXKMGEgr]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[772F19627B0FB93AFEA6B5554F6B1478]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231647092076075925727412]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164706]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:47:06,985-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:47:06,985-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:47:06,993-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:06,993-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "34511603529636"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Iwf2UrleKXJuYdtTzDN1s0mF54E3RyBp"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:07,081-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c623dfdb7f0f4ba78e5259acdeee63ee"
s_p: "VE9aUmNzNFQ1cDYxRGNMb1VtS1FIY2plQThaaHRKUTNUN0pFVG1hZW15SGNENHVjTWFiUDJVY2t1dFd0SG11ampINWRsYVVxTFlTNHpvR3dvUlZYRjk2WVc5bWhROTlDTlkxR2RsN3NBbnc2aFJkVXZzQmxKQUc3YXNGUEhTMkZETThpYzRKWGo0NmNVSXFyRkpDWFNTUUVSTFVYcE0zU3B3UXFrc0xycWxMUmZMTWtxSGs3d2JqNlNZelRlcmduVHFKNm9zWFN1SnRRMFUyeGZLZjZDY2RXTVpxNVgwaHplOXlFSms3bkRlWGZzd2pvQ28yVHk1cHFLSUxyR0VOVGVWV0xSWFhJSVNQVWNRemZqcDdOcUxMNHJka29Ld09wZGI5RTl2cUZwSGJvZEZyTmozRmVJcDRJY1ZXcU9COGRTM2pPVURXWjhvUzQwTjNYY3hidzk2ZjQ4dTF5ekFOeHpVR0QxVDJOWXdCMjNQZFo2OVFHYUIwZ0VBbVhIZ2ZtSE1OUGlNSlp0TWk1a1ZVamFpV2JxdEJpVzFZMXpNTmhJcFh6ZWNtcGRuMGJtdlVCcVVzNEo5Z1JHOG9nMjk3aVN6Z3JBcTkwd3QwQllhR3ltckR4cXhONUVCRnQ0S2VmSlJDZ2U2ckNJa0xTTE1wWFlPdWFVb0ZzNWNiYnd3NzNISmF0UHJvT0VVSVlzZkZpOXhFTUpxZ0xvMVo1QmhSeFIyZ0M4MmlwVjA0OXpJQ1VRWlh1RVVNakdPTUxBbzViNFZoZ3RRSGFOSkJDY1FkdHNQa0lBYWRZWlFPcmhMWmprMmE2cFVYR0FSY3dlRzgxaGhxbWJMMHVUQmE2dTdXbnY4Vm1wZm9ZaTl1aHZsNXRFNEtUbzlEWmFhV3Z3R3N1aGNQeXZ1ZDVCSGlxcldxSHVabnFVbDVnTHZUeXIzemZjS250b0IwZXVyNU91cVhLeFE0MWhaOUFzZDFQSno0SWp5OGsxcnprUm1mN2ZIV1lUcDlYWWtBOW51RDRhRElGTVVwek5pUEI4MnI1dmltanJJUk5hRGoxUmk2NXYwcFM="
m_p: "1VHwO911j50zbspc4BB4w4Epc62hPkK3GS0QP9x5BtxX5juc98i58n7X1vwinq0t"
e_t: "1614178029551"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:07,083-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:07,083-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "c623dfdb7f0f4ba78e5259acdeee63ee"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "FPHS2FDM"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231647092076075925727412"
version: "260"
queryType: "PAY"

2021-02-23 16:47:07,133-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:47:08,133-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:08,133-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:08,136-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:08,137-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647092076075925727412"
2021-02-23 16:47:08,141-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14985, 'pay_req_id': 'KB202102231647092076075925727412', 'notify_id': '4328371707230230155453953625', 'partner_order': 'KfyE897pUmclxsZVDYXvi5FgCrNjIPTB', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 9), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 6), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 9), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299654","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299654', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:47:08,141-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:47:08,142-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647092076075925727412"
2021-02-23 16:47:08,146-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7671, 'pay_req_id': 'KB202102231647092076075925727412', 'partner_order': 'KfyE897pUmclxsZVDYXvi5FgCrNjIPTB', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 9), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 10), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 9)}
2021-02-23 16:47:08,146-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:47:08,146-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231647092076075925727412"
2021-02-23 16:47:08,149-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:47:08,149-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:47:08,149-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:47:08,150-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "KfyE897pUmclxsZVDYXvi5FgCrNjIPTB"
2021-02-23 16:47:08,153-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 134, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_KfyE897pUmclxsZVDYXvi5FgCrNjIPTB', 'partnerOrder': 'KfyE897pUmclxsZVDYXvi5FgCrNjIPTB', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 47, 10), 'updateTime': datetime.datetime(2021, 2, 23, 16, 47, 9)}
2021-02-23 16:47:08,154-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:47:08,154-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:08,154-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:08,157-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:08,170-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '80726903726849887688416419967865', 'bizNo': 'nWkd2upzOPhbUBITCfNL6RayGqQAoV53', 'operateType': 'PRESENT', 'requestId': '65821126215691679966783676496486', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070028168})
2021-02-23 16:47:08,202-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:08,216-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070028213', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:47:08,235-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299655'}], 'vouIdList': None, 'batchId': 'c622a64f63f4483d8202e2e050992e51'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:08,248-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'c622a64f63f4483d8202e2e050992e51', 'batchOperateType': 'PASS'})
2021-02-23 16:47:13,290-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:13,298-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:13,298-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "40042223392700"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "vpzagOENG0iJY2RPLeAyUnX4Bkl8muWd"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:13,417-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "cec73d102b334158b864b0a1c11c742e"
s_p: "R3ViQ2Y4RmIwSHhtN0dybFBEQjVob241SUE0RVg4WjRaMmRxSHVKbGVXb0pwa1NqMWllenJ6N0tsT3loREJZTDlYdHRyQlduRXdJS0tiT2pEejFKeFZQN0ViWTI3QXhlSEV1S29pTkRjNXlCV3NYS1NDOWpxSVpkcGFXV3gwYXpXSFc4bFdBVEp3bnpQN2pHSGFwR1ZENFE1RGJuMlRuQUFaTzJVZTIxbm1PUXp3S25RZHZ0RDAyVnFrNmFqeWFtOEVFVkZ3clpZMzJ0dElLTVg3ZWlJeExvc1A2dGY4c0w1VzZtOHhFTjJqZExEUWNtSUVGdmtKY3ZjSENjMmtybk1QSGx3eEJnNGs2Z1JQVXJaNEJMNmx4OVlVTWY0RjBBOUs5V3hWOVVrajQzMFZFTlhJUlprWTdnc25GNkxTMjJpVEJVaGxYYllCeGtwamdkZGVJMzJYZGRkU216c0VVVkZMQjVyMlY0djgwemo1YU85cG5ES25TQzloR3pkUUpZWmVWRzgySmNMS2Y2MktWRTFIcWlsYmRQZVJzbHFKSmxlS2owb2VNVmR5ZVJ4bWgzZmN3MXVQNFZkMEJvRVV4VTBlQXI4czY5ejU4U2JlMldEelV2NkI2cEs3TjBnNEJ4MDI4UUx6ZmkzMzgySWhLbktnZVdwRzFwbE8xSlhKaVY0RktWcWd6RkhoZTJqRzFFV0FaZTZRenhOYm8wdXd1bFlsQmdFOGszdGlYOTNxR1E1aEZLZVZtb2tNNTEzckNYZEJFa1JpYTBpRTY3cjh4VHVTY0xOWEFzbzhETkw1ME9qeGRZN25yWVZnMnVmSlpXenA5amdSRVFkajIxamU1S1lmOTlIYVllUU91dWZzanlZNHR3YTlHd0k2RlA1Sk9ON0pMTGtiQlBZNE5nU3dPV2VqdUVZVEcyZlF4U0oxR3lzYk84Qmk2Zmloamo0bHhYUENZdm9LTjk4ZnA4aWo1NmZIVnVyc1lZZEZCR3BtR0M1TmR4WXhzeXVMT0dJUXNGYzM5SFVURUdiRkhrcmphSDdlOGg0cDFWMUtlSU5MdjM="
m_p: "Qf0D2TC5m3z7Q8eggJ8iq3Sr7x24dMLLf6j29T4vEw688bpG75gcoeBkj49HiI69"
e_t: "1614178035863"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299655
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:13,441-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:13,442-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "cec73d102b334158b864b0a1c11c742e"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "xm7GrlPD"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "AdJlUtpETa0Xo4CxB6G123KIs9MrONmS"
}
sign: "Mqw2eey2DDzbVGgrOLf7Ir5lSWF8KbKK9z/Lh0scjnOlvNppPaWl0ktvUdJydH5spYYizt4l1fvWRdZPZZQBoe8i23LtdPuGjw6bzMfJLOfkZaudu7tUby2Tf6KLB7xxnslgMBcJIoiOdhFQuhaWDCDmxt2oih0CzuXOkIOhjwWfdHB7whGB4svOJJvayohMOB1Y76bvqH6OSyGJOFgi0At91rdsBVI7JuR9L3j/+5yPfMhEFsmcEiNQVvHu+SMGlyhJhi+Yj73og6q0S8x2X/9ySK0KWYg7HpDV+osvk6V3b6IaZf9J52fQuwGbjkGBYWtke7wwYWxDJnbpHUtXTw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "cec73d102b334158b864b0a1c11c742e"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "xm7GrlPD"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "AdJlUtpETa0Xo4CxB6G123KIs9MrONmS"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "FpMs/tGK/239CYcnQlclRCd+tPRxLyiFGkD9f6nAODvPAhDjtnTh71WeCmHyr4g7xpF6piWZvsnDCkAmaFM9hj2WGnMZ7iKa5jCj/ITXTyh1xr4dH88cJl0BZgF2WnOFptYpyy75pYVYt8C/gYU7hBuyqRXHf6uOifCaxJpIQmQ="
  appKey: "1234"
  voucherId: 62299655
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:47:13,754-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"2226086395e84a449bd1cb5f7dd0e7f5\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231647162140701d3afb126ed859a10000\",\"sign\":\"8C638582D699F2EF13F899DCCF35B02F\",\"timestamp\":\"1614070036\"}"
}
payrequestid: "KB202102231647162076075925366022"
model: ""

2021-02-23 16:47:13,755-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2727650728676543707122701688]]></transaction_id>
<nonce_str><![CDATA[0abKmqNHdT1LAo8DU9k6rzluW3VCnQFS]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[433655DF5AE78AFB0E768C0F2056B82F]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231647162076075925366022]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164713]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:47:13,857-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:47:13,857-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:47:13,866-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:13,866-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "28707825564455"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Rtgu2qQl0HoYWwiTdSnhcDKb7XfzaIes"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:13,946-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a7016c1187fe4ad38268e1ccfa0f198c"
s_p: "dnFPcVFtMTlwb0cyTDR3enVmVHNZSGZxQ1VjaHg0dXZlbXQ3TDJTNmRJelk5V1RnZ095Nm80VTd2NWNXckNxYlY0MkZnb0JzWXFvTE9iRjZMUmVweUVYYzJsOTVMOWxYSnpmZU5aNExPY2ZxTzNaUHpQTzcybW1sUE5JVEgxc2Y1dk5oRXBsTTBMOEZEY2lpZ3Q4S3E2Vk9aUXVSUmhiQ3BubDJNbzdHR3J6OFNjdzhuUTYzMTBzVUJwdnlRdjJQZ2ZBZjE1Y2RqTkpaSlp5eUt0RUQydmZVdzM2bGlhNEhoNGhsWGhSSVF0TVhJUEJhanlzd0xUSGlKenRIVGE3Rm10RWVMdWg2czE0RmVWU01Tc0RaVGRtUGVXd2o0TU9kUU5NUFhzREpzS24zZERLakRqYnlaakZWMUFsSWw2TGQwRDF5WjdnOGFEcGNQcVV3STZ1QmNYamw1UWExT0xOejRVRkhHVVNMYm5uV2RqcTlmcHNUVXh4S2tXR1VXNFJtOXJKRFMzd0NVeGVEV1daTUFUeW1IU0tFbTUzT3J0WjVvekZMcE5yejlFdUVicmFPOUNZeHBhNGxsWDhwTHRLOVRMd2xBQzIyMHA5M1pNQ0FjRmVZdGt1ZU16dTV4WEJXZGdKcDF2QTdNV1I1bklFa2o0OHJYREY2aXNHM3ZIZklucEI2Vzg1WHZkalcwQWlwVENVTnJ2bXhjVjhoeHR0a3U4bmNLaElKaHZUVVhsYmtvZzZxbXVJTWUwdVE1dFlGNmdOcVpVQ1ZZSUVlQU1BNWtweTFTR1ZvOXZsdE8xMFVIVndzVHY4NzM1bWhySHFjOHV6dlRsNGhlaElpc01LenNFUVM4cXZYUEdSZjBxczI1SzVTMHpVVFQ1R1A1YnFtUEpuNzExWlZEYUtlRGplNEZna21OdzZ4M3pLZ3lBb09zM1hYNDJqWnJ6YzF2akppMVpGcGNJeEdGdkdHOWtVdVR5QTU5UkVrdTAxMnVYMHRnZWsyV0ZHUTNHRFdKcUpzSVREc0hHM0loQVMyMjk4dXI3dWFmQm5hY0Qzc01RdzQ="
m_p: "9IB5Fx236yfYW14rCjhd5qB53A2AiEyCqT3n27yFZyOB38jxpo62KeXkiA98Wx8e"
e_t: "1614178036427"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:13,950-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:13,950-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "a7016c1187fe4ad38268e1ccfa0f198c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "8FDciigt"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231647162076075925366022"
version: "260"
queryType: "PAY"

2021-02-23 16:47:13,996-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:47:14,998-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:14,998-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:15,001-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:15,002-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647162076075925366022"
2021-02-23 16:47:15,006-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14986, 'pay_req_id': 'KB202102231647162076075925366022', 'notify_id': '2727650728676543707122701688', 'partner_order': 'AdJlUtpETa0Xo4CxB6G123KIs9MrONmS', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 16), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 13), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 16), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299655","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299655', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:47:15,006-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:47:15,007-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647162076075925366022"
2021-02-23 16:47:15,010-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7672, 'pay_req_id': 'KB202102231647162076075925366022', 'partner_order': 'AdJlUtpETa0Xo4CxB6G123KIs9MrONmS', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 16), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 16), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 16)}
2021-02-23 16:47:15,011-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:47:15,011-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231647162076075925366022"
2021-02-23 16:47:15,014-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:47:15,014-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:47:15,014-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:47:15,015-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "AdJlUtpETa0Xo4CxB6G123KIs9MrONmS"
2021-02-23 16:47:15,018-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 135, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_AdJlUtpETa0Xo4CxB6G123KIs9MrONmS', 'partnerOrder': 'AdJlUtpETa0Xo4CxB6G123KIs9MrONmS', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 47, 16), 'updateTime': datetime.datetime(2021, 2, 23, 16, 47, 16)}
2021-02-23 16:47:15,018-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:47:15,018-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:15,019-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:15,022-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:15,035-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '77513141247304517298339971222884', 'bizNo': 't8U6eybWMk95QczPnVqiCshSZIlODJLu', 'operateType': 'PRESENT', 'requestId': '54983703956470111717926805261246', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070035032})
2021-02-23 16:47:15,061-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:15,074-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070035071', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:47:15,095-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299656'}], 'vouIdList': None, 'batchId': 'f46ece54b9704cea819a9e380b8a1f14'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:15,108-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'f46ece54b9704cea819a9e380b8a1f14', 'batchOperateType': 'PASS'})
2021-02-23 16:47:20,150-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:20,157-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:20,158-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "70064227164175"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Qn46bLm7E5sHqlYpKr9eStGBu0kzXIDV"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:20,241-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f889ca83f262463a8eceeced42432903"
s_p: "dG1ramhCbE1ESHhjck9EMVduYzNXMHFhMm5PZDhoakcwVVdoNkhkZjR4ajVQeDJLTkJLS2xZNHY3bVJnaXFLem4zazZrSlNvOE1pWEM5dkFIMVBXQkp1NWhsODR0enBYZmpud2hZSGxLaEloQXExU3FTdFlLZFVZSGsyUjkwQ2RCVTZBbFk1S0FvNktkTENZTFhGWDBNWU84VkdpRGNMcHVzWHlndzFIajRocElLOEJXajRTU1hDdkdpMnJROTB5SlNtOVh6WHFzTzJlQmxrblBrdnFZYnI2ZXJEZ3l1UDY4QmRlMlYya09JeUJRYkFibHZsczIyTEl4TW1DZHVmT1cyd1dESU5qM2R0ejFQZTVPeFc4cU9oYlNDaDUwc1hpd3gzaXVTaTI0UkhKM2RlVXZjaUxRMnBrQTFoQ0taOXB2YWM3TmV2dmlZT0FVeHZtNHNpeEJ3ajk2RVA5VGladjRvTkl0UGdUU2Z5QkFHeFhjcmh5WklxekxTdk53dDlVeHMyeXdIdGc1ZmtEbGgwajRGQ1BtNVBpZjdHMGR1UnV4dURLNkNIRDZGajFoWWp5YTA0WWNHZFhIOFp0Vk9JaFpBSEtuT2t0bUxsbFZmYXVaMzN4VEo1a0FFVjMyT3dCUXJkQlZvM09meGx6b1FidkdhQU5Cb3diNjM5Nzc0RnNUMDVMd0xzTGdTSFdvd0Y1Mk1vUEN1djRxaDM0UlFld1FIQ1pURnhKcXY2Y1FtME9jRWZ3OXNOcnBWNXowODkzU3hXWlVmN09yWm5DbnFDNkRjVjNrcUg2ZXIwdDRyUlhvMXFxaDEyMjR3eHN0NnVCY1BmZHg4aEx3b2hKcW9LalpWcm02bm9SVFNuN3BJWTlabHZsdGhuOGE3ZDZTTkMxU3owNk5teGhBT0RCUEJ1bHpnbDczUlhQWG1vdEVNQ214YXR5UFk3ckVNM044MmFQVnNQQjFxRllKYXBqY3EzaUZUblQybUxJQXg2Z0gzVmFSblJLVXpqUGZMckNXNzhLdkFCV2k4NG9haWxCSDhTbFlSNUVhS0ZCT1dZWjhKOEc="
m_p: "556Iu7bE53ertYegH9bW349q0sjCoMx0zO6K77Y3sy4ghLMliaUUs509PSJi9rOG"
e_t: "1614178042718"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299656
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:20,267-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:20,267-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "f889ca83f262463a8eceeced42432903"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "CYLXFX0M"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "H0gCjOpleIU5fiSD4c1KAXNuwdxszqZV"
}
sign: "i1uX1819hU3MmuGYEY9/XMlVNsJDH51kvP3ddF1zoWZmVWU4ZdKtiDGRwrG/0txc0944DAvRYGKgqm3S5WHZ24thCg70BOITot9aLFthx/7jYqaUS88cXtNx0u7FuUK5PkIz0Diom5I3qs2PonnibvfL0y/R0I2F4suEDChk3t4EEwIwVPjVmJU2JOPpfhdbY/6SV6Hy1izsc1jwSL8YJdyD9SH+Yb63p4aFvqYaRLuFuwbeaE/odwYw8cdRs6RUplcHPmUiEt8l/MpBoPY6/8Krthjy6n1pPJLVFTv8FuPPaEjC+s1/0FbnHaEKDVIZbMmFFh83jLaQoq4VxjzcpQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "f889ca83f262463a8eceeced42432903"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "CYLXFX0M"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "H0gCjOpleIU5fiSD4c1KAXNuwdxszqZV"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "gl5hkjg9OibXisbkrO6QerX/PdDkDgXfvPE4YygYKoaMaJARtYY9NO32BGh7+AlrdC5GFQOzy0TvSbntAR127eWni6V5UKGVSw+bYl6RClwwpq/2qlUkBDYUu/KaLRM1cf1ZSOYSXVR4mg/7aFHdKAW3jQS5JuQBadZ3H0DHeP0="
  appKey: "1234"
  voucherId: 62299656
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:47:20,660-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"a999f4634e914d19b88899d057247022\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231647231290529ae64462813ee3020000\",\"sign\":\"7E69E3947A5D9C116E4FDB3F663495A7\",\"timestamp\":\"1614070043\"}"
}
payrequestid: "KB202102231647222076075925326342"
model: ""

2021-02-23 16:47:20,660-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4905709515787657638455235294]]></transaction_id>
<nonce_str><![CDATA[XY6qzVuJWt9lHE7cBnSCM3A1RjNhoOys]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[94F9EED7856BAEB23DEC471E40F816CA]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231647222076075925326342]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164720]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:47:20,766-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:47:20,766-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:47:20,774-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:20,774-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "39939956883655"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "hLMZjpdfrRb5Um0Y1xulACKvw6t4iyB9"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:20,857-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0565682cb0834c9e9139b32f013e1bc9"
s_p: "SXhmMkR5UWdLcU9TUXplck1yenlBQ0dLczFFeUZvbEpaclZkMjdQSUdnYUZ2RklGMGpqUG9GVk9SWUc3b3pJWTVPUldlUlRxN01pekVkTFJCRXRkSXlpYU5OQlhvNDFKWlMzQWVjU0s5eFZLWmZUYURuVVBWeFJGVThtRndsMnZkZ0g1djZ1Q0VpRlREQlJpNmxFY2RTb1daSUdpTnF6MGNCMmtjTmM3cWduUGhqVVpiOHhZblFRMUNoMEFzNzFDS2N2bUNZb1h5eWN6QVpZVlJEYzQybjdzbUxzNk9kQXpNMDgxZHZFQXNZdVc2bUY2aUxzN3JQN1lKTTZ2RzA0VXNKMVN2RWlmMWJtSUxTYnhrQ3A5VllKRHlDVFp5dTJPczBPSVJIaHdoV2dCRXo3bDFqcFpQYTByOU9ZanZEOE9xVUpGM2E0M2hRNm9lSldrMlc3T1dXRXg5b0RXejNpRVV5bWtydVpGenFuZTg2b005NmFKSkFwM0x0T0lsaWF1ZlRNUXczeG0wZ01TZkxWVlJUMklQZXU1TEUySXQ3SzYzelU1eVZlZ05KWTFsRUV0SWZRT25VUEhseTB0RXVLekJqWEF3V2c0VUlMMTJxb1JUTEJsTTZ6WjV5Q0RIdnZFUTBQQVBvWXFmWXQwdG1ydkdQWHEzaWE2NWNIRkhrTEdlaGFRR1NMMEd1S1ZYem4zM21BTUgwS2JsZFlvREpzcGY5MEtpZzV1TnJlMnZSaWU0TW56Z0ptQ1hZTGZPRk5YVFkyVDRtUTVWMGJQem52T3RFSEhoRGIzWHlxcVZHbTR1aExlclNMMnIxSUdpQnB3Y3J5MDBNRHFEbU1VUDZmQUtkU3RBNmlNTERQYWFiUUVQWkZReWxFbEFhQ2UzaHFBakJONTBJbFJrOXJJaWxPSWNmaFpEdEhWdDNvOFFyM2MxS3lST0dIS2JyTjNLT2NUVm1hblNNMGRhcUg3N0EycTI0cnhQTGZnMnk1YkRneXNPeGt5RUhxZ1MyWUIxZnhSRzBjc0xGSFJrd3lSR1FtNkRSRU1HRU5tdDg5OVowS1A="
m_p: "08lM8l5DvWf2yVCFL2HpIG0J32Ou929Mk3RGoAOeCpX0B2Uz21cK0N4P4GrO2o1x"
e_t: "1614178043337"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:20,858-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:20,858-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "0565682cb0834c9e9139b32f013e1bc9"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "2vdgH5v6"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231647222076075925326342"
version: "260"
queryType: "PAY"

2021-02-23 16:47:20,956-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:47:21,956-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:21,956-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:21,959-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:21,960-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647222076075925326342"
2021-02-23 16:47:21,964-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14987, 'pay_req_id': 'KB202102231647222076075925326342', 'notify_id': '4905709515787657638455235294', 'partner_order': 'H0gCjOpleIU5fiSD4c1KAXNuwdxszqZV', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 23), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 20), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 23), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299656","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299656', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:47:21,964-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:47:21,965-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647222076075925326342"
2021-02-23 16:47:21,969-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7673, 'pay_req_id': 'KB202102231647222076075925326342', 'partner_order': 'H0gCjOpleIU5fiSD4c1KAXNuwdxszqZV', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 23), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 23), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 22)}
2021-02-23 16:47:21,969-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:47:21,969-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231647222076075925326342"
2021-02-23 16:47:21,973-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:47:21,973-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:47:21,973-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:47:21,973-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "H0gCjOpleIU5fiSD4c1KAXNuwdxszqZV"
2021-02-23 16:47:21,977-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 136, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_H0gCjOpleIU5fiSD4c1KAXNuwdxszqZV', 'partnerOrder': 'H0gCjOpleIU5fiSD4c1KAXNuwdxszqZV', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 47, 23), 'updateTime': datetime.datetime(2021, 2, 23, 16, 47, 23)}
2021-02-23 16:47:21,977-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:47:21,977-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:21,977-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:21,980-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:21,994-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '85773801180541776754126652502913', 'bizNo': 'RzW38fTIhcX7EiHxBOwGyaCDvYegMluV', 'operateType': 'PRESENT', 'requestId': '28731518985008555722783587360761', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070041991})
2021-02-23 16:47:22,018-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:22,038-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070042031', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:47:22,058-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299657'}], 'vouIdList': None, 'batchId': '5842407d8b1c4b83989b780e8501f447'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:22,071-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '5842407d8b1c4b83989b780e8501f447', 'batchOperateType': 'PASS'})
2021-02-23 16:47:27,116-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:27,123-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:27,123-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "63043400476249"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Ow0UZkrT7yEbIFovPzt84LcmWjVlXRD5"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:27,205-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e0a37ebcf875473894190d6fcf45bf3c"
s_p: "aHVJd0x0TXdnWXp3WlZOZjlyVzJFTWxIUEpJT2RQYmFkTDU1b0t2QWZleDNwejhiQmlSc0JFbW1mVWdmYnk4NTlabjk4MmlWNTFCQ3R2ZlI5RVlFUkJ6a2JIbFF0aGlNWGRMV3pvOXFFZEh6VG9RVlBjUnlLQm1RaEFGWk0waUVQUTBpMlN3RUM5cVlHWmRCR1dTc09HNzRrdG05VWozcU5jRE80eWgyZWlBVFkxMGpUVDJONlJNM3JVdE5WOFgyTEZvaVFtUVRoWVV0bnd4TXEwbmhxZjFlRXp4SktPd3V6dmpXMVJObGs3eWdtbXF0WXA2b3ltV3NscnJ5SWVlQmVzc1NPdnlUZjh2c3d0WHlmRWJVblF3d0xJQVVyaUJ0aE5OODNZU1c2WmREQjhPaFhpeEw1Wkl3ckFMRGphdk1vVEpvUTNvWGM2SjVuWnBGTEpRY2lEMnJSWVhIRzRJazVWZkg0aVN0eXhmU3RnQ0s2N0YzYnNUZzZWRTV0WVZDeHRraHNKZjhzOWFoT2MxZjVzQmt0OHU4bllLck52QjhOZU5pd1JQOUFacGNndFF2WWFwMUJ3cm1FakFKQ1hBVEVyM0M0VWRQOXd0TE5jMzZYeXBjR1lWQUREWURrdnJjb3JVdkh3M0x1aUZXQjdnREFDSmRxeHEzOTNEUjB6ekcxZUhnem1HWU5jVXJiejQzNThGZjliaUtkTkxlMmg2YjJFTzdxcVdGcmhWcmFoSkJTTGJlVmFGV0ZxUlNvMXRtazFDTVhnYlk3bVRTVWVDR0NBd3Uya25pNXJ0V0ZwU0o1a2o5WEg3bURSemk1YVVIcnpGbm5wNHBLYnFwd1hiQ1lERTJzQkFLWUNRajNmVjAwQjN4U29pZmwwYk1QZDdQdGF5TjhrVVJpUEZQN3k0cW9wcEREUzNKYlFqdWk2R01vRWNST0hIT0hhdUFBYllYM09tanZyWmFXV2RkWTVCaXJxdkdDa05SM0c0SENLbm5BZXF4MWJjNVVxMGFYSXNyWUdDVUZaVVRNaVZ1NG1EQWppU0wzU1V4UXN2M1lsenk="
m_p: "1K8h7915BE2x3545cHDlap6x63172fvwc5A7vj9p181IfQdlyOV5k1lD2W9Pdi8w"
e_t: "1614178049686"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299657
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:27,230-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:27,230-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "e0a37ebcf875473894190d6fcf45bf3c"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "9Zn982iV"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "tXGgwmSH7DRnbljoZvJ4Kda9YckhVMp6"
}
sign: "VZg50FaLIy0VAuQOVRJ7M/KT9nmSBYCsa1barfaVchxiNhtPUTtjS8a1WDuEnUdpBnz0Coi33DFTknRnVds3TvqKxRAVpGrBSd7yGY/wvka0OQ+ER1Bl89sGEBEwVtzzbvT3d/VMsS7BENgS7jcS3nwGZBAbFbkyp69b444AvTSIsD/0pW3yionx/nDU1FN43YPnDr0AmNMPkpJpsdi6dmbIgZQqXjEpAN9uAAljpDVnFGKBBTo4zwSfH1KxjnL8JWqMRzRsmOsYuJpseJbArgQd1ZMqcAg1zrv1GncrzlChrXqIKcC1yWLVAvuKKU5Dc9nBVjDtpk5u5qXDXv+ryg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "e0a37ebcf875473894190d6fcf45bf3c"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "9Zn982iV"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "tXGgwmSH7DRnbljoZvJ4Kda9YckhVMp6"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "biWNf45oepzGAdRdm3mAzAyjw3y1tl2wAtDAW70fVK2JrWE48M157WBN0TjxON+id2WOewVLqAQRNwvbUqcbqB7HZ/fHSCc9ryxcRJICkwc8/ESaQtELDWrrcrOVge/oCG7blSF00x5flI/7Oyz6Gouu3BbKJJX6r4p8AP65edY="
  appKey: "1234"
  voucherId: 62299657
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:47:27,586-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"4b23c782d9754df1b5eeefb87d2000f2\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164730049629adbfb7fe968b1cc10000\",\"sign\":\"C93D3212A630F8B91D64A0019F43AC4F\",\"timestamp\":\"1614070050\"}"
}
payrequestid: "KB202102231647292076075925081222"
model: ""

2021-02-23 16:47:27,587-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1086249670256960767140649290]]></transaction_id>
<nonce_str><![CDATA[Ampr8ZXCDBuoentlSVFQbgEvziRJLMwk]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[0BCDC53640DD9132C43AF6A9EFF6585E]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231647292076075925081222]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164727]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:47:27,688-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:47:27,688-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:47:27,696-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:27,696-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "41878743146965"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "WY08h4M5wZzEI9BOgsLAN3dtCj6k7USu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:27,777-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "990227205372495e90df19e3548163f7"
s_p: "cklBbUV0bVdtbTBYcGRNQzBCY2VRencwVGhXeWdwUVJXSlBLWVlDcFBBT1pLRnhpM2J5ZjBpOUJsTEtOM0hiOVRyTlVadERXR083UGJ6QlhleFRlbGVwRW9uaTU2N3o5YWxUalhHQjB6WXk0eFFYcXhDMFZnZ1kxc2p1TTdURlJmcWFOM1lxTFdOQlRZcXZnS2ZOWVdlSEZsbmd5ZTdJQVc2enUzUDE1RHVCaU54OVpmcndPVXRSRkxZUnBIQkxhMVF3REdUdGlvQjhoZ3A4WHhOQUpqWGNIS21jbVF4c2ZMekhBZ1VlWG5pTXRHWTRJWkhHRldxZ3RFWHBhdXJUYWxVYlJRU1FtQzhnMGg3OTRSNEdYUXFMZDNaRVlnUzlOamdSYUlqTTlKcmRtZTJnOWtGMUNGNmFCcVpPYU5hN1dvRDNJenE1QmdLMHhVelNUdkp5UEIwNEE4Wk96T2JMR1dpQnVFUEowbFFsdDBrc1YydFgwcHNkbzlvdHFFOW5mQWdXdllPV0w4bFdMU3Q1WmkzSUd0aVJRY2w1eTlnNjdnb1B0c2hvdXZDM2RLYUpjMU9HeWVPMXUyMVk3WXRZYkRGWTVMcTQwcFlHN2UwMGMxdlVVRWZia2RvWkxMZXh4WlFvUXVBaGdFd2I4R1ZteldKcTM4QnhjS1J0YWwzdWhvZHdET3I1VmRoZjdQVkxaZzVjVWlCMEt2bWVueW1NdWExNkFBVGM3MVdjb2tJSU10VVJNYnFKY2VoSDRQM0ZTM0YzTFhBVzZrelpNc0tYNzFpTUR5cmNzeTJjTlZhYmZqVUxvZTBLdHR2N0NLZ3luVTZVQm90Umx6aHRiMXdIRUd0Q0ZuZmZJZlNBVFI4cUFXN0xYRWd4WWFObzUydlhoZzBLUExjWmZJNERYdjBnT0JVQjk1SGsxZjZCUHJyT203aWR6RUpuSnduc05kTWd4cG1menFTM0tFTHkyOXJXdFhDcjlONGhWSG9KbXdtU2w2eHFod1hwbURiRzM1T1gxQ0xIS0kzbE05Y2VlTmxuWG9nSGFZM0lnemxBdHdNdTA="
m_p: "5EOM797n7i7W617Xn36rsNOLXbQ9n6nH494A1760GL8b3gvZ5y9wAyB7EPyIb75W"
e_t: "1614178050259"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:27,778-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:27,778-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "990227205372495e90df19e3548163f7"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "sjuM7TFR"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231647292076075925081222"
version: "260"
queryType: "PAY"

2021-02-23 16:47:27,832-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:47:28,833-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:28,833-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:28,836-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:28,837-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647292076075925081222"
2021-02-23 16:47:28,841-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14988, 'pay_req_id': 'KB202102231647292076075925081222', 'notify_id': '1086249670256960767140649290', 'partner_order': 'tXGgwmSH7DRnbljoZvJ4Kda9YckhVMp6', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 30), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 27), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 30), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299657","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299657', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:47:28,841-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:47:28,842-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647292076075925081222"
2021-02-23 16:47:28,846-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7674, 'pay_req_id': 'KB202102231647292076075925081222', 'partner_order': 'tXGgwmSH7DRnbljoZvJ4Kda9YckhVMp6', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 30), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 30), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 29)}
2021-02-23 16:47:28,846-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:47:28,846-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231647292076075925081222"
2021-02-23 16:47:28,849-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:47:28,849-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:47:28,849-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:47:28,850-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "tXGgwmSH7DRnbljoZvJ4Kda9YckhVMp6"
2021-02-23 16:47:28,853-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 137, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_tXGgwmSH7DRnbljoZvJ4Kda9YckhVMp6', 'partnerOrder': 'tXGgwmSH7DRnbljoZvJ4Kda9YckhVMp6', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 47, 30), 'updateTime': datetime.datetime(2021, 2, 23, 16, 47, 30)}
2021-02-23 16:47:28,853-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:47:28,853-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:28,854-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:28,857-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:28,875-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '63029453202877961019506298219011', 'bizNo': '3v6DnNMsPKO74QxEH8gwafrWpmTbuJCS', 'operateType': 'PRESENT', 'requestId': '72800777830591353739529448755843', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070048868})
2021-02-23 16:47:28,902-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:28,916-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070048913', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:47:28,933-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299658'}], 'vouIdList': None, 'batchId': '16481c4e0ee44dfc86a48742f1eaa064'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:28,947-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '16481c4e0ee44dfc86a48742f1eaa064', 'batchOperateType': 'PASS'})
2021-02-23 16:47:33,992-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:34,000-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:34,000-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "42172517421471"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "0n2CpE1IP3xtDKFNmAqHsOr4jZfQwVog"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:34,083-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d3484cf082f84b7f8f4aa223765d14f6"
s_p: "NzdXYmxDR2xJYW10ZnVVYjZaME1Qb1pFWmxvN3dHSkdBcU95YkR2TkRaaE5GbzdVWkVOTmlWanphUUdrcGlSd1FMaVRnRGpSTmZFcWY2V3hFOFl1cWUwRm9oRXZFUUVEOHM3VFdiU2J3eHBLeE4yalljWTVjVFE2NWtyRXR2S2tHZU94T3RLcG1MVUQ2ZFZlMTZKd3gyYXpVWVlqSlU4RDhFQlJaQUFaZVlUcTJUcmdmRXNtdDBzWnRIeXNIYjM5MXdIUnNmU0c4VTlVQm01ODdFT21RZHF3a2tmRzdVaFlqSWFqcnY0R1NzdkhuWGs3VXdBUU54WFdxN21VbkFsZzRJdEUwRU43NXQ1Q1JOVzVXQ2NkR2hxekJNSGdZeGk2VEtxVWZxUHFUUHpnTTl1TVNDN3ZKckphYnBPUzhzQ2hBRkhERGM4N0VXS0hyMGtsdndSSFVvWkM0RWRxUERmUEg2NzFPTHFrSFdnclM5ZDJ3VzhLVzZHdmJ2c3l2dFlHblYwSndMWERlM2pwOGRyaFJGcnRtUUJya0E2SUlVNnJBcEhiYU9UMkg5WWt5RjdGOFJGaHYybXJsM0xaZzM1U28xMnZwcktSTHliT0llb3huam1vMTFtVDF3UlU5TlFzMFQwTWp0ck1PZGRnSERVdDNwM2tGT0NES2tDOWZyVjkyTWMxRHpBOXlaaTk0RE5kbWMxRmVBMEFncHZZQ0M3dlFTeUZHSGY4SG1saFJtNEhLMDUyd3FhdmtzOFl3VmF6eTE3empjU2pFN1J1ejNNbU1qZ3ZnRjh1ME5NZ2YxVDdGR0dxYkVMTUhHMDc1VWJEZWFaN3BHdWhhSE1Yd3BsYVR2STNJb1Q4MGMxMUVIME1xUGVOM00xaEg4NWZKQ3FuMHo4RlpDV1BTeHltc1pHRlFOSUQ1NmRYRDl0SUlkd29CYWtxOGxXNWZPYjBKcWo1N29pZDhyZW5pRjNkc1p3alljWEY2VTFMYkpBR2RNODc2c1Jzck9yMzhHaDNrYTdTM3BicUdnQWVETzl2YkVoUm9Ea3gyck95Q2w1czBHNU0="
m_p: "uq8ZkpxKjMw3u1C0jJBR0D54WWZ7lIzMFOx1S785j9AVdmct917288GIM32S987L"
e_t: "1614178056561"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299658
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:34,104-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:34,104-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "d3484cf082f84b7f8f4aa223765d14f6"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "BRZAAZeY"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "kjlLixRNF7zp5J3eUfmr1savZ86tEK9Q"
}
sign: "apbSFHG6wHxGnUYxTnTqEE8DoPnCtJlKje67kOHueUymSzRtEKnoUqQExwY8L+8nG1x2EsBV8BQNGmBsY9zdnn6BLhRBcXifRib/gH3NK1gbO7c6dSabr0IvTWpbfUFiyutLXEv1PhvV0KBsQd1F1oGD3UGiiH+wWJar9rnXTKbbdtWoxeriA4FO1dcCZXTm2ulOiyX74L5WfILvABEWAhwLc7OTCBlba/879NkzpGdjcwVHqJ0H/0WJUC/V0UHCh+U9Ee0pUcAGAXhMejTflWCI7i8cMJEcLxH3gTAbhAR7Mok6wZxq8zcKJRvKtDtLP7EsriMsTrb6+kgAqL5CzQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "d3484cf082f84b7f8f4aa223765d14f6"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "BRZAAZeY"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "kjlLixRNF7zp5J3eUfmr1savZ86tEK9Q"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "CFPPEQwHg58+rPWZ+2tfDzmYkY9fTVEB5Wdu+8pqC16KwFEmfbA2gotGEmn8TwzOGGcXwGglE0IWBHCi/ST3CARNBvIGq/+NzS+nWTsrCM+Z4UjlmHN1OIdymyWxAVF4p3+0ssZL4vnIzeRcPRJp8mgcT51D05xbU/kcS0srExA="
  appKey: "1234"
  voucherId: 62299658
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:47:34,418-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"f9293f8cf67a401fb85746bbcf0c2d04\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231647368684589defb3dbe5e7841e0000\",\"sign\":\"19F9CB286E193B23043441ECCF27455B\",\"timestamp\":\"1614070056\"}"
}
payrequestid: "KB202102231647362076075925503162"
model: ""

2021-02-23 16:47:34,418-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[0333846477276744727129534781]]></transaction_id>
<nonce_str><![CDATA[KSX5IPqTvulNDyrMLg0FW2koB9djGemn]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[1CDECCE230AE3E40535F51EF56FACC59]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231647362076075925503162]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164734]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:47:34,496-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:47:34,497-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:47:34,504-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:34,504-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "14972043772762"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "mujb2tgCsS3XVne5F6JdYWBi7IklA1rv"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:34,577-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "80532942ef094381b9befc0f05e4c296"
s_p: "bEJTN0lnUlZlS01LbUNNa2t3SU1jb25OM0JPcGwzUGVkTUtJMXJVYnJoclZZZkFKMXY2amJNQm1vUWJoOGRFZzJyNVhrQzlES2Yzb1JETkFLWUJJUlVUR0JlNU1EVmFUY2VKVlpER0lKSzE1bWhPNWpoTTVwYjNCY0NWNTlzZm9mRndOakFjejd0TUl0a2Z6ckRHalFrR0JHQUNRQ1FtVkpLSk5PRWZpOHRxdnJMR3hhdkFXUHIyTHhHNXhuNFNZalhSVFhzenBndUd6RlZqYm1sdTBsenoyTVVUZkRncFlDZWdPdnBhekVrWFA1dkdMQ0xwZEVPMzJ2V0hOT2RMUGtjNkxJZ2s0YUZ5UFdrZko3ZENyWlZpWkNVRG1jcEpwZHFWeTlYeEJnVDhUamxhdWtFbndUNnU0TGNHcUpMdDQ3UVF1Vnk3bWp0anFBUk9ZYTJQaVVtZ2w2QU45OTBGNjZqZW1Wb1JCdmVxZlU4dk9xV3VaMXU2cTZYZ2lhZEIxcmhOeVF4dDdLa3Q3S3BabnBDb0hMZEtuSWhGZzNBSjdNQkY2WTlQMkcwY0U2VWZxT3J0ekdXSzZpelZUY1ozUG92bk5QcGZsNFh0WVZLVEFZSGxGdlM2RkNOaWszU29VMXkxa1VqcjNVTFEyc3RUb3FJWk9WRTlFZ01kQTdaY1hwNEF6R1VzSTRIV3pya1plcEdyMVlscDFHODlwdHBkdjQ3WEQ4cnMwWEJ2RGhXclk0ZldLSFF1Y2plZXRabkt0V2hvanQzampiam03bFFwMU1iOTlaMWtMajUzM2dzV2RpMktkN2s3cUNaQWpaU0RLbE81VGtKcjJKcDZjcERuUTVBMDlsbXN6cFhKWkN3TVBsa05KRFc5cUxsbDhobFltN0J4RVN1TjNjSUlmUHphNkozWlZySmIxTE1GZkVTWlBDaEkxWTNzQnhpM0RqcTFwdHZjS0ZhN25xUWRpWXppczhtcWFWa3Jlbnc2SFZnZEw0cTc3OWNiTndoRmdSaDNMZHRHSElHQURDNTRocjJ5VnV1aklxbjFZSjZzcGtIZnY="
m_p: "7k9f2mm3M12PEiSl654l6XMRL0PG6FMh038OC5OH91t21hu6WnG7dA8tJy8SV21e"
e_t: "1614178057060"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:34,582-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:34,582-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "80532942ef094381b9befc0f05e4c296"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "rDGjQkGB"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231647362076075925503162"
version: "260"
queryType: "PAY"

2021-02-23 16:47:34,626-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:47:35,628-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:35,628-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:35,632-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:35,632-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647362076075925503162"
2021-02-23 16:47:35,636-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14989, 'pay_req_id': 'KB202102231647362076075925503162', 'notify_id': '0333846477276744727129534781', 'partner_order': 'kjlLixRNF7zp5J3eUfmr1savZ86tEK9Q', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 37), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 34), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 37), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299658","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299658', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:47:35,637-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:47:35,637-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647362076075925503162"
2021-02-23 16:47:35,641-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7675, 'pay_req_id': 'KB202102231647362076075925503162', 'partner_order': 'kjlLixRNF7zp5J3eUfmr1savZ86tEK9Q', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 37), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 37), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 36)}
2021-02-23 16:47:35,641-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:47:35,642-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231647362076075925503162"
2021-02-23 16:47:35,645-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:47:35,645-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:47:35,645-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:47:35,645-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "kjlLixRNF7zp5J3eUfmr1savZ86tEK9Q"
2021-02-23 16:47:35,649-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 138, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_kjlLixRNF7zp5J3eUfmr1savZ86tEK9Q', 'partnerOrder': 'kjlLixRNF7zp5J3eUfmr1savZ86tEK9Q', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 47, 37), 'updateTime': datetime.datetime(2021, 2, 23, 16, 47, 37)}
2021-02-23 16:47:35,649-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:47:35,649-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:35,649-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:35,652-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:35,664-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '26165971210447870746677425015809', 'bizNo': 'ULqoAkmHlcp8BdbJXvgSuxsCD9V1R7yT', 'operateType': 'PRESENT', 'requestId': '60305816536820073737743985843121', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070055662})
2021-02-23 16:47:35,699-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:35,712-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070055710', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:47:35,730-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299659'}], 'vouIdList': None, 'batchId': 'eedfbf4854e641d1ad2f3171316e54a6'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:35,743-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'eedfbf4854e641d1ad2f3171316e54a6', 'batchOperateType': 'PASS'})
2021-02-23 16:47:40,790-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:40,798-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:40,798-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "98452520377490"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Y0mAP4L8yh9rtfHIJzMZcwaGCxOoUSFN"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:40,878-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "148f3307bf15471ead2c60f77b4d57d0"
s_p: "enZSTThjZERkckp2TzlPaU8xUGQ4SlhmMjBPWmk3YVhwdDVzczVkT1pKdEpseVJMUjFKdE9wb3FRRjRQcTFEaDY2cTc5RTcwa0NNaXhUN0VWR1JtSWNZV2cxZklSWlJkek5xdWVlQ3Y1RlMwaXZFazNjN1F1Q1FxTENqRTdpT3RPMlMxendHa2NxNkdGZ0lvN3ZxUkZDaDhHYm5EQm4zc2wzWWtUSDdLS0tDYXBwbWNSVFJ5NFdaNW53UUV0STdsNzRSMFJFUE40SWdDU2ZaeHlvSzlYN0M4T3RpdTVmcWVaaTFYbGhzQTlSclNoenI2SXJqS29rQm9HZmRBTlN5bklUSXhUVk9nZ3VpWTdHUjdsOGFSVjc3cFBCTEFtNlVQRWVmUjh0dzhFVnhOUzYyTmNMbURTUkZHYmZiWVE4UmVNbW5KejRwbXduMFEwWUVITWd5UlFTejk5czZxNnNkT0VVR2prdnB5ZFdFYlo5VmJlQmFTeUsxSGx5TTlyTzVydk5LVVpDMDh3bWpJN1k4UFhnZjRlWm0xVUc1ZWZ2ZzdoTGtLSTRZUGN1UzVPd0V3N3daaTdQcDdkT3FBTmxZQVZ6VUpxVzV4TVU5bVcwSFdLWjBYS0JzZlh2cDdIUFoyeVJ1a1hkM3NoZHFxS2NRSWZSalRmOWpaRDBxdkpTZWZUMTNuSVEzQkNja0Z6ZldBTW9hMjNHSFJRSDU4bFFBTHpwQ1M1ZEtKelRMS3JxVHF2NmtTZ1JOTGtZd0t6NnY5eEFsMWJiMHB6eU9IN2pkeE5rbERhbGwxbDVwV3FaellLbXlYQVk1RTZxWVFmV05DS21wZTVqT3R4bzBQS2VUZ3o4MkltVWNHVWxkYjJhVUhqUzEyTkpQMTQ2VGZTeXVRenpLYzdCSzdDbG5NS3BrOW5lZWxhdWNYRDFFZWplQnFkdzhjYjFndXNXeWNZYXhEcEVLR2s1T2hodHQwbHBJOUFZUTYybG81bXFwaUNhbVpxTUhVWnpaemo5bTdUdFRha3pTZXlqNjhMWDdZQ2tnMFh6Y1V0Tm5vNXJrdzJsdkU="
m_p: "YPyVkbHeLO39nfk8HUz0OmQ556FdA8mb1IHL0X65tIzP0V3gg4Gqxn6GL46JQQ9B"
e_t: "1614178063357"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299659
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:40,902-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:40,902-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "148f3307bf15471ead2c60f77b4d57d0"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "kCMixT7E"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "fRjD0mPXyE7speSNac9CQBqTdiO4rY3G"
}
sign: "MJQ5RL6MhwMLJiGPgMlVPUIq9W6p6sDc27ZdEj5nfw3j+pRfMyi0SdexfWMGmloBtngKEIOEaNiqOeUrmTK4IKj/SUfCJvk7cehdvMwHoi5kmljJ0/8WfdpsP6kd5wM2WvPtgO9gI70Upfix/2GzBerICn/kmqmh4Z4qQdkepmgQobbNLDro4wCoTLP8cfVeXzEke1yMijxEcQCCqsX5sX7RTVEAvuGw/jajsGlgeNc1v/ri8TsFQYc3jZhLGyHJxH7Kp66oD+oB3AeRAYuKcUezC3Fd08zJnQrEQHctw0ejFaTXEAOMMt7dJo39fo7ayeCADdjyRAwMZEBypGzB1Q=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "148f3307bf15471ead2c60f77b4d57d0"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "kCMixT7E"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "fRjD0mPXyE7speSNac9CQBqTdiO4rY3G"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "ivU0XQeDCbC7yMp7HmTuouIXkV80Zgj885H+kGZUFd3sqghLFJkeLnxXhu8bHVhkcCQiZ/jrK01uBc/MSzn/wRMMy7P716kYk+/aWAUXFBzyup6F11cHkwcjYzDaLmA+zVGK59ih8anN1sWxu5wGqgX6Mg/5V1y1EJ073s25h7M="
  appKey: "1234"
  voucherId: 62299659
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:47:41,200-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"a8540e3394d84083b64a0a231c6bdbf5\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231647436574233283a5d80f284d370000\",\"sign\":\"E962B5334BC446588D35E54009B76CB0\",\"timestamp\":\"1614070063\"}"
}
payrequestid: "KB202102231647432076075925504432"
model: ""

2021-02-23 16:47:41,200-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8097634715918008426453588740]]></transaction_id>
<nonce_str><![CDATA[9mqx8KswSEg3FIXTZvz7fVQBy6Uc2OMi]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[43FB9F39FA1398637AB8648E8AD6E907]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231647432076075925504432]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164741]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:47:41,299-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:47:41,299-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:47:41,307-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:41,307-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "52943279133688"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "8vSsqC1aWYK09kmelN6HUog4P5LBrXwi"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:41,391-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a2a3e9f523234e7baa8603ea567a89e3"
s_p: "OXRYR0RnMFppYms1bzR3YndnZG5XYTVyTVhuUnRmblh2TU5YNWlpbk95N0lOOGh4SXJuSHNJbEF2NE1lMkVNdHZMUFhZcXhPQ0tDRUtJU0M0U3hUZUtiZFVFZnlHVHhTUUpkWjJVbGI1UE5GMU5pMVFLVjUwQVhQdzBaMEo4UFJ0QXdMN216R3ozMXdEajdVVHdYNko2Y0tldXZvMW5MdE03SzNNVmd0M2wwTUJJT1IydHBsQlJEZERoNVN3SVNDU29sa1NjbVhPSXdqSGd0RWxVVjRNOGZFcHJsdmhiWXhpZXl1akxYRHI2NWJzZElrZjQxSUhMUmdWUEx6SUtvdHdCM3RCckFmaDloc2pDVHJSNEhSczVRWTBQb1J0QklPamlUUndUNVNlc2poSktVcDNCb0hIdGxDa1lTVW5TS3VxdWdxVWxRM0FJN1JPUjY2dWl3SHQzeW51MTRJZ1NxNnZxYUdnZ0NXQ2dvT0NMbnJMNnBueVd1eEZkd0ZDWm9aOWhGc0FxMXpoSUJhNGFtcG9sT29hR1dBTjNpYjJVQmpoVVVvWlRxMWFaTjR5WFlST0dYV3lsUG9sTXI5VXpiVndNWGN6Y3hMMDE5MGFHTlY4VE8xZUxHWkVUcWlDOXgzNlFkc2lSaFpqcEJ1QUdjOWltaHNrZkhsMG54bVpnOGx6TE9GdXRMUXJ6ZUd3WlE2RnFrRWJEUkJZaHg3NVRFYjVPbVc1QVpWWndzZTNNaTVZRmZUaE1uc0RPQmVHeGtyRjhZNzhnMEd5eGYxYTNUTFVWS0Zvb0U1aEpUN1ZpYU5KMXliUTVSTkhwMGd2c0VrOVo2cDVjZllIb0lnZU4yalZZMEVwTkJMbG5ucWNucXl6cW43Z3lnblVRd1c3eE1wWXJlR1hMdG5BSWF5TnNqNGVQbktudmdRTjNjY0dDOHJWVE1zcVYyanhmRm1BOTRYUGYyZXlWWWFVSGllYmVIcXR5Z21Da3JCVjlhQ0FDVTdnZmFiNndSdWpidTZBa0xrQVBDNTBzRXdFVGxMZ1hkbTFPUXVoSXlSd0Y1UHoxWk8="
m_p: "30qhO19Wrs4f1V34s5mQ6OT9Pk5cnFS0s4Zu6bRN9tFILf00j41VQ6fH10PK42dV"
e_t: "1614178063871"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:41,396-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:41,396-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "a2a3e9f523234e7baa8603ea567a89e3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "eKbdUEfy"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231647432076075925504432"
version: "260"
queryType: "PAY"

2021-02-23 16:47:41,439-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:47:42,439-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:42,439-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:42,442-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:42,443-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647432076075925504432"
2021-02-23 16:47:42,447-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14990, 'pay_req_id': 'KB202102231647432076075925504432', 'notify_id': '8097634715918008426453588740', 'partner_order': 'fRjD0mPXyE7speSNac9CQBqTdiO4rY3G', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 43), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 41), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 44), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299659","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299659', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:47:42,447-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:47:42,448-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647432076075925504432"
2021-02-23 16:47:42,452-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7676, 'pay_req_id': 'KB202102231647432076075925504432', 'partner_order': 'fRjD0mPXyE7speSNac9CQBqTdiO4rY3G', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 43), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 44), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 43)}
2021-02-23 16:47:42,452-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:47:42,452-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231647432076075925504432"
2021-02-23 16:47:42,456-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:47:42,456-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:47:42,456-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:47:42,456-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "fRjD0mPXyE7speSNac9CQBqTdiO4rY3G"
2021-02-23 16:47:42,460-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 139, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_fRjD0mPXyE7speSNac9CQBqTdiO4rY3G', 'partnerOrder': 'fRjD0mPXyE7speSNac9CQBqTdiO4rY3G', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 47, 44), 'updateTime': datetime.datetime(2021, 2, 23, 16, 47, 43)}
2021-02-23 16:47:42,460-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:47:42,460-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:42,460-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:42,463-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:42,477-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '24625661298511922236714470273180', 'bizNo': '19sbEo7v5kzdFgiGNZWJy0CX8KrwtcTu', 'operateType': 'PRESENT', 'requestId': '63087247845743354147864521092328', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070062475})
2021-02-23 16:47:42,506-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:42,520-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070062518', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:47:42,539-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299660'}], 'vouIdList': None, 'batchId': '58f0a1242fd043009651cb94fd6e334b'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:42,552-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '58f0a1242fd043009651cb94fd6e334b', 'batchOperateType': 'PASS'})
2021-02-23 16:47:47,590-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:47,598-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:47,598-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "12304814704133"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "sbifUYpVP7RSaNDGw9TZgeMkthBrJFmQ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:47,680-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c1756b7d1d8b44e7a8db9ebc3080e479"
s_p: "YXI5d2Z2WHFSNnZ3T21xVzVoakdWb2F0Q0kycHRvVzB3dTI4bkhBMElhM1FtVENjN3JCc0h5eUt4anRkUnB1b1RjTGVJcE10TXR4MEprNzBFNVgyQU1tUkE5Q011akRHczc2aDRRT0FDWE5DbVNzaFoxeWdsWFZscTE4Y3NtS2Q2c3lPNklvYWV3U2ZWcVMzTVhGVm0wemM0TEZKU3R3UnNyU1RVVDlseEU0cnhtdm11VVZ0QXo5T0hDZlBBUlpuTlFHVzJVUFlrQVlBY1FOT25Pc3NRbjhPRWl6cUwza3FvSEsxa1FXQTRNVTNqVTNrcVR4SGt4R3BxUTRKQmdramtFelBnTDBFaHlVY1Q1ZURla2dhR0Vub3VMUWFOY2ZlMVJKNDRSM1NSeUQ3dUdHWXN5elh1SFN1NTJCNW55andpUG1tY09sa3pZa0pSN2t6ZEppc1VCNkRPRFp0N24xcVo2bktNZkJvWEoxU3ZpTlhvbU8wVkp3b0JIbnFyb3l3WmFYeW8zVXhiRElFSWZKSHV4cXhNZFV1WmNZRkp1NjVnTE02SVE0VmRVR1NJM3V2R3Z3TDMya3RYdWNLbEpVWVJya3BBS3ZPOW9WQWRIRE1kVzlwTEg5OGkzeHRYS3JmVzU0WFZ6SlRRSkJXMXBSUjZ0M1I3ZVdBMHB1TnB1ZHZmN09JV1FhaHViTFozUldjazNzNUhrVE5PWmwxZHkwWFp2T3p0ODJFQkQwQnlLNUdRZWpHQVI4SG1qQ0VzUmpmd2xYd25iVUg4YmVXR3lWUUhHMm1zTDY1ejV6YjZCZEt1bFVsMmhMM0tMQm8ybWtPQnNReHk2OEpLendINDU0MW1WanljcEZ2bnV1dUpOTUZ2alpxdXlvd1FaTkx5bFZtMWVLYURYVW9HNUdXTHhzYzY3RDdWMmZLczJPejBIWUVoR09QZEt6d2pNeVdscFBiTjVyNjFRQ2xSQVB6eHg1d3Nsa0JQWFppd0c1REJjYjlRZDA2YVZUbzZsSUFOek9zbDc5VkpnbG9PbE90UGZBcGVxR1g0c1pzSk5mN0NvSmg="
m_p: "AKNGV0qfknKcIS14w391st1552cYLtuG9CRroScTjo1b6N8zN045Ce6YK5g9aT28"
e_t: "1614178070161"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299660
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:47,703-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:47,703-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "c1756b7d1d8b44e7a8db9ebc3080e479"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ar9wfvXq"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "lNmtrZbsWCY7uXiGF6BLnJI8dVxTaPOk"
}
sign: "gNrKNZcATju0PQg3jgGd2faAlZ+JyyxvIY/xruK4But21Vo8k6gGLLXoFaDySn+j/LUvkMWMAikv2sBO13+dG4fU6ZRcy/9qV9UUHAuqlYR1OO2PxydfzLMQLu61VGq8R4vNEa4+SZYD9bREMvkyUrE5JUFKeO2vH/wXD9MOIvO4UNJCRrcgs76Eiy/rDGVVgp7cWvoXlfI2FnTS/ja4q+YqONBr0Tt2Vb0XOfEveR5updQBJdqx8X7Q3dRhxz+3xjDP6z37RYRt8MKbuBvf738u46yLIJP4wG2cPST2y4dAiUBk3DwmsmdOx8HR6IaUw4MHFL5vWdJ1MivxwLmsGg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "c1756b7d1d8b44e7a8db9ebc3080e479"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "ar9wfvXq"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "lNmtrZbsWCY7uXiGF6BLnJI8dVxTaPOk"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "ccMXfWHhREzJAccXNm3I0pIFBTa9cs7RsYgRIZvXYbHqIU0zyMwxU5trW/KqLJ2D/dQXCv6frBU5YOhn6jJCZmy/67d2UeT44xStjTRe1cWa+Cqd7kWRdbGQRZW60euO8SmHLdkLrL1jWaYdJc18oFurdl8IRTHwpdkfBbch3Sw="
  appKey: "1234"
  voucherId: 62299660
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:47:48,007-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"71e654543a9248c78d931dbe2ff192d5\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164750460772bdd802d0088aa9f50000\",\"sign\":\"3F916989120CC1DEA7A617D78CB37974\",\"timestamp\":\"1614070070\"}"
}
payrequestid: "KB202102231647502076075925870652"
model: ""

2021-02-23 16:47:48,007-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[6362534250321674855094351335]]></transaction_id>
<nonce_str><![CDATA[MtCmY1dEpGR7aU4VIhBWH0oFkLQ5lb9f]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[2809400B1709DC3EBB5833684C917658]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231647502076075925870652]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164748]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:47:48,108-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:47:48,108-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:47:48,116-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:48,116-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "27438078969334"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "3VWGJF7h8dPBiAEyxKgC0q2o9sMXt6IO"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:48,190-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a7dcd3509af54571861c754dcc947886"
s_p: "M1R3dWVLdVBoeTdJTFFqd0I3YkVmNFFudEt1TW1jS1g4Q3lNS1Z3ZHNna0NyeXFEb1hFbjRPZW9WOUl2RjZlakE1b2x1T3dxSzBxNzRIRlAzc0sxRkt0Y1A5VnBjMHlCWTc4M3VVQnY1MkYxSkVYaDJjWHQ1RDdGV2lKbFpoUFBZNE9JbzhnNURodllJeVRTTHR2MWs3Qm1ORnRYaDk2SE84VzJVWllrRE42U3hnUXBWcjROcGJtZUJHbDhsTlFKek1wa080WVJRUWxETmVpaXE4NXRIaU5qRGFrVlRBeThZaWRNRjluUTgxT2JOalM4anZmeldjc05KM3U3U0VPd0RDOXdselJKOVFDNzU0c3R2aDY4cG9qNkZucXVSRWx6ODlaak5tN2hxaGkwQUxkSHRHcE1Fdk55TWpFYldmaHh3S3ZTNnRwdUYxZ0tIQnVWa2VCYXo0clc5Wmg2a3pMdngycVZ3THlwMHV0elUxUmh4WnM3Mm4zeWF2U0RkM3hKZ3VPWEhlMjNPR0VRRjZLU0pucE16eWRpSFYzU3BPS3pEM3lCbU5TakFLRkx2OHFqUGhhc1VZMGNDdFd5azRoRmFJYkJ5QlpLNDhDTGZURDFHbDFaeUhqMlNjUHJBY0RwUWdWSEZGMHVBNFZKMUFmUjIzSWM4ZkpmWXBRY2pUTVZVN2JaZVhnMngzNjdUaVRKRVd4NEt3YzMyczUxQUdzalVyUTM0ODA4aE5KS3VZdm01ZWFjMlVMUTQ3b0NVVmdtTThtenB0Yndhc1dtNWZNZ3dTWkpDSnlRZnFJT0JZcnVad0QycnNnSXlVV2hUcEtCNTZJS0dKQ1RXWmFKdExqNzFxdERIS01XRkhDbk9oV3R3Z1BSdVBYQ1IzUXNxSnl1dDFhYzBFd0pOS0d1OEVPVWhWaUxGNkNIaUxQbkswUkJQc2xCMFFSTkFPTkpVYzF0RUlQcG4zTXVYZWxUZFVCUkhYVFRHVkNLVVRSS2JXQ3lFaUV2VFIwTmRVZFBpMjVGWXlFYzA2V1JwMURFNnY0WDNDVEQ2NHBZNUhicGlmcFQ="
m_p: "G0iTqLv0ioD0fwE5MM9YWH0YZrz86i01sxxB356V0Ke26HjrEUf1UG2v1sugtQ1m"
e_t: "1614178070673"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:48,193-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:48,193-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "a7dcd3509af54571861c754dcc947886"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "V9IvF6ej"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231647502076075925870652"
version: "260"
queryType: "PAY"

2021-02-23 16:47:48,236-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:47:49,236-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:49,236-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:49,240-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:49,240-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647502076075925870652"
2021-02-23 16:47:49,244-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14991, 'pay_req_id': 'KB202102231647502076075925870652', 'notify_id': '6362534250321674855094351335', 'partner_order': 'lNmtrZbsWCY7uXiGF6BLnJI8dVxTaPOk', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 50), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 48), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 51), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299660","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299660', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:47:49,244-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:47:49,245-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647502076075925870652"
2021-02-23 16:47:49,249-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7677, 'pay_req_id': 'KB202102231647502076075925870652', 'partner_order': 'lNmtrZbsWCY7uXiGF6BLnJI8dVxTaPOk', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 50), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 51), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 50)}
2021-02-23 16:47:49,249-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:47:49,250-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231647502076075925870652"
2021-02-23 16:47:49,253-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:47:49,253-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:47:49,253-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:47:49,254-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "lNmtrZbsWCY7uXiGF6BLnJI8dVxTaPOk"
2021-02-23 16:47:49,257-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 140, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_lNmtrZbsWCY7uXiGF6BLnJI8dVxTaPOk', 'partnerOrder': 'lNmtrZbsWCY7uXiGF6BLnJI8dVxTaPOk', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 47, 51), 'updateTime': datetime.datetime(2021, 2, 23, 16, 47, 50)}
2021-02-23 16:47:49,257-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:47:49,257-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:49,258-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:49,261-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:49,278-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '63780914337612770046387239341946', 'bizNo': 'F28LfpcnwOkaBeydEVD1HQ9hjUTCosAl', 'operateType': 'PRESENT', 'requestId': '76902381391130412132493956310345', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070069272})
2021-02-23 16:47:49,304-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:49,318-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070069315', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:47:49,335-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299661'}], 'vouIdList': None, 'batchId': 'f956384dc33e4246bdf11dd59fe10804'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:49,349-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'f956384dc33e4246bdf11dd59fe10804', 'batchOperateType': 'PASS'})
2021-02-23 16:47:54,391-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:54,400-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:54,400-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "18573639748305"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "yQWSLOD4amdHcZMFUeYVRftEu0qoKGNv"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:54,482-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "52c85b1ee64245ccbae3358be42d00fc"
s_p: "MmxwSzVzc09jMjdnbWlRR3dCbWt2QlRuNTl6M3RZa09ZUzBMN0RqRjVGVlZ6OE8wcjdOMDZVUVVlczRmWGNkVHNueTBGTmlKNU9YSG12NTNFeWFrRHFvSjJjYjNUa3pwM1JBSDZpTkxtemlUaEJPbXNqY2ZHZVNtZ284NnNTWnFnVEpzeVhOR3RiNFJnOTlBUjFvTERLUmVMVmtzbjlkNGFmeVNTZzBzM1BCejA1elRlc244SUFMd05jUHRnMUt6YmJ4MTBMbE13S2dkalp5aVhVVW9GS2x5MlhzaWxtN1dMNW50aXp3aDNSNVRGNVJBQzRpSkZlcXVOcmtvWEhHbG41b0VWV1pHQkNhTTg5UWprWjhkUWJtZ1ZRa3Q5emlaNnQ5eHBhYmlnSmcyQWlycndRRml5ZFF0eXh4azV6Z2RJYm1RaHRRcnJSQjFENm9ERjB3VkdobTRoOVR4enE4TXV5QXNUNU53R2UyM0RiMVBSYktnUExWNW5nUUV4NWc1YkhQMDFuUEFkbUNDU09ZMll2QVQ4cEI4TUQ3ZWk5d2lVU0R2MnNTT1VwbTE4MFJqTVBpUjZTaFhvQm1IZEJpVXVxSHFQc0J2YllyUW56VXFQM1Q5Z0E5Vkl4OU1PeHVTMFZPVFNqUEpzZ0NodlNiazFGUFBFN3RsWkxWTWJSd2pqT0JSenhNVmlTMEVGdzRrNVpCTTFMNUx6b09BblpYRVMyTktwYThLMlE2VkJtYnBCWWhhaE5majF4UnZESnN2ZHh4cUFSdFprZGxTNVdKR21OMG1lRjd5a081cnpVUjFLcVNDbTk3UGlpRUtTMDN5RkR1Q0ZicldFSUh0dmtoQmphQ3dFSFY2N1JDdkZzUkltdW43WUFnd3RLZnZCbnB3aHUxM1Q5RVp5dExmbW5zT0gxdVdIZ0NYYzBiNzQ4NVBYNWM4Sm5vdVl6ZXl6eEdqWkZiejNMMHQwUldYaFhFVUlwN3pXRGl0NUNIUTk4WmtYR3lJN29rcm4wRE9ZQlF3Q01oZ25leENwbVZNcXhhc1c3dWNWUG9lSWpySWJRbHQ="
m_p: "W4KL9I6zZ09cb368u5LqV7r5jJ436p0314SVNt2APUgb1XTg6FHt0c4wZMHK03z6"
e_t: "1614178076960"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299661
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:54,508-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:54,508-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "52c85b1ee64245ccbae3358be42d00fc"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "O0r7N06U"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "nzZ3bCYwmjoM5Fx8SBHIrJXVQOGpPqeD"
}
sign: "WU1OC/k5ZdA8YjejinvVbrzGSoHaygSxuh647AW+AoAAB/Dne+9KrMJ8MOpdGUgG2PW4sZQKi6vg0oTqTYEF1f9pKNPUBt1JAgdUiZCRmbq34nlplt/gaBtiRMYz47vJ0xISP8AufxCv4jySW3mTc+5WST9fiz/cwbQkpFpVG98KlB6Zjbig7Vld2BnUCq8xk3WMKCFUf/J5yZFAdvHPGMQMuJDAOJR9aWuQEcGSevil529Ui8qENr2iLdhV54NtkNIP7qrup+NwmUxlnMaa68XUDJ4aBivRh/gAgKZaWfnPqJW2mB4jWw8Mv7Ecypv5aBtWIFXRp+m1V5MpmVfA5g=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "52c85b1ee64245ccbae3358be42d00fc"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "O0r7N06U"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "nzZ3bCYwmjoM5Fx8SBHIrJXVQOGpPqeD"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "Zx1oQ/hJ1ncZTVbFp1t5h/owjIWzPqAb2T+lLWOJg7IgrkEF5dRnQcvAudtYeclcnhYRwOvzfUXz1XXzEg0Gn7+TJSOAPO2bEjzOhCOSmMBwUaR4gpbLasrFZKMvCfiFru1apExphsOAyT2oKuF4tcQIjXuRaIFE0IDsp6b3aRg="
  appKey: "1234"
  voucherId: 62299661
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:47:54,799-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"e1112065b0c145dab3c44bace62d924f\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231647572523363c68a988df113fe40000\",\"sign\":\"6F4CE1A38543BE03F2AAEC91F236D1CF\",\"timestamp\":\"1614070077\"}"
}
payrequestid: "KB202102231647572076075925664712"
model: ""

2021-02-23 16:47:54,799-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7466356725793771340761304571]]></transaction_id>
<nonce_str><![CDATA[3TcuwSzXhoAVlv5Rye1Kf8HsiBYE9PnC]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[3FC7E028F3651A0DF038B600EE45823D]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231647572076075925664712]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164754]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:47:54,885-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:47:54,885-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:47:54,893-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:54,893-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "54376222266133"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "StF75aYf1V4EeLmXZGpsu0TWiDdCqRA8"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:47:54,977-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ae7e935eec2049abaa32378f8a0e410d"
s_p: "VEM3TE8xWmVXamFzMjZmMlNISVplUlNmRnVJSXNodENLenJmNVVIeHFxRlJTd2xjcTFGUU55QTRiZm1MQVVsVkFXc0ttZTJxRVJBbDZ1dXdqRkM4NTRWdVlnVmhiblN1V21SZ1p6bGVxMlhEMU1ZWHhRNEh2amNqWENLVnpxNzB3VWtQbG5aMDExWTEwZ0NVam5MQk1kS3VnTFNGUnBTUGU0SnNRMjYweldlUVdYQ0thSEZVZG9xSEd6aFZ3a2FYZzJ6REN4VkNFckRRZ1ZtY1R2cklUMjlyRnlkRURIOGw2ck1mbWxaWFNZdklmblRYZHZoM2NJcmpuWkMwTFl5eUVZUXl6b3dwelA4clpvNGZXNkJsWDJmaXR0eVNKRXBIN3Q0MlJDQmdIN05OQklycDk4U3c3SGxuWjZhZUFadUhkNjRlMnpWOVB3MlFTbVJQMnJrRzdnSWhHNm5ZWUFNUFdUUTRNbmZ1NzR2Z21nTHlyQU50dWRKckR4VFVzYzZJSzlDenVjMVF6czNYNEc2bzVqdzVnSmFlelV1MlZKbXZuTkI5cHQ2Zm90ZW5hRTVzTWIxUjJYWGRWNmM2eHZXbFkxYk1oM0Z2ZGpuYXk0RUdWaFluNUwwSlpkTm14bjNoVlhtYlkyV2JRZ0luSG10c2RtWENHM3J4RURtenBzNnFNWXpNeHdvM0tZaGJHMVRWVUh6OHFJZ1ZtNTFsWXZNdWpNbXdJVHhWWFdXaTM4bGtHZjlzd1U5dURZV0gyUWtvbDVYTEU3a01KZFZuVVlHMG1tTXVlNE9TdEE0TlBuS0VBMUJJRVE4REtITHY3NTFXQVdvbGRoclNTekQxV3hKekxHbzlLMWd6MXp2VU5QQTNLWHdZZXJRa1psY2tkSDM5YndleTdIZHZnZngzNWhPRzZIbFh1RGhUNFBmR016YlpVeGtCVzg5WjF4d0FyeEFibWdUS21od2ZEOE8yR05DU204eWVPY3RPcWMzcnZBMHFhRVF6V0lsYTNjM2hZSkNqbUlDeFU2eVVoV3BHVmRKQTc4SjBYcDI3cFhvektiZEE="
m_p: "089x72ox9tRVN2Ja3M4K0UiapztJ6CSRL8GV5EATu699ik13fNVM9qsw6Kma90ys"
e_t: "1614178077451"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:47:54,980-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:47:54,980-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "ae7e935eec2049abaa32378f8a0e410d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "xQ4Hvjcj"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231647572076075925664712"
version: "260"
queryType: "PAY"

2021-02-23 16:47:55,026-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:47:56,027-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:56,027-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:56,030-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:56,031-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647572076075925664712"
2021-02-23 16:47:56,035-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14992, 'pay_req_id': 'KB202102231647572076075925664712', 'notify_id': '7466356725793771340761304571', 'partner_order': 'nzZ3bCYwmjoM5Fx8SBHIrJXVQOGpPqeD', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 57), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 54), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 57), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299661","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299661', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:47:56,035-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:47:56,036-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231647572076075925664712"
2021-02-23 16:47:56,040-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7678, 'pay_req_id': 'KB202102231647572076075925664712', 'partner_order': 'nzZ3bCYwmjoM5Fx8SBHIrJXVQOGpPqeD', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 47, 57), 'success_time': datetime.datetime(2021, 2, 23, 16, 47, 57), 'modify_time': datetime.datetime(2021, 2, 23, 16, 47, 57)}
2021-02-23 16:47:56,040-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:47:56,041-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231647572076075925664712"
2021-02-23 16:47:56,044-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:47:56,044-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:47:56,044-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:47:56,045-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "nzZ3bCYwmjoM5Fx8SBHIrJXVQOGpPqeD"
2021-02-23 16:47:56,048-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 141, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_nzZ3bCYwmjoM5Fx8SBHIrJXVQOGpPqeD', 'partnerOrder': 'nzZ3bCYwmjoM5Fx8SBHIrJXVQOGpPqeD', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 47, 57), 'updateTime': datetime.datetime(2021, 2, 23, 16, 47, 57)}
2021-02-23 16:47:56,048-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:47:56,048-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:47:56,049-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:47:56,052-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:47:56,068-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '50754607145345103873750862323468', 'bizNo': 'SErfq48O7dchL90PRZyuCsAmMHv1iUte', 'operateType': 'PRESENT', 'requestId': '32749698537427856658592138725037', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070076062})
2021-02-23 16:47:56,097-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:56,111-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070076108', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:47:56,130-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299662'}], 'vouIdList': None, 'batchId': '036be1f99923456eaa2732927a942edd'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:47:56,144-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '036be1f99923456eaa2732927a942edd', 'batchOperateType': 'PASS'})
2021-02-23 16:48:01,191-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:01,199-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:01,199-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "07800430529911"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "szYTG7HCQEF5blqmSXjyV2xravU4OZnI"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:01,282-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "832d2bf2e5b04dcbb0dd748cc8a4d6e3"
s_p: "QXBaN3JjZW8yREtWRFRJWlg4eEhDM010Mk14VXdGMW9palVzS1FtOEJMdWpwNHVSQlRHTXBoUVN6MnhwR012UEVrVUVSeVBheEg0QkE4T2I1VzVHWWdxVWlMOW9RMDhKdXVacklwTlVtb3VlUmtpWXYxZ2tjZ1YzYzBucHRxOWdlWHR1eTBjVXRtMkU0dHRFNUt6Slh2anhrZUpqSjE1S0o3eXdVWm93VVYySDdGZkRnMEU3SVhENFpqU09IT1pEbEhHZ1dCYmdKQ0R6ejlQajdncnZva1VGeWxmZE5Ga2Q1bUhYM1hleGpYNnVRNlZYYU5JdUpDUEdsQVVnNGF6ZVRYc0JoeEhaM29EdE5FQ1RoUDlMZFpLOWpxaU5BVHJoUGxLUGl3MjhqQWZ5aFByQW5JT1IzUnpvOG14UVRkM2dFN251YjVHSW5YbThhSzUzWUdocVF3SkZFUW5jcDZucmlBdVhGRWRsTXhtV0hUemZ0TDROQ21vc016SkxaQ0l5d0thWGw0RU04VjdIMmVBRkV1TzZlUHNxZjdYYXBjS0R4S25mNVNwenBKaVc4RXpUcnFGTjZnVmxkb3FjVDhpMVhYME1CbjVxaWJyZk91MXM3U3dBeWhYbldna0VQcUtHR0xkU2tIZ3ppU2R6Z1d4SU82c05zT3hxdjN0Q2tFM1lRMGVFN1V4Z2RhYVpHSFROeElWMTYydjhlbzVGUFJRUldZV256VWxmQm5NVXRKTUw4SzR1V1dyQ3RtYTlYUUVmZGdseFdDdFZUQTFqYVhlUDlYYUhhcVNPWkh1azZRZVRGT0duU3dxOHB6WW1uOFNCd0FSbGV2NktIVDNha3R2SE1raGhHVUwyQTJqc3BNZ0gzb3JTb0VLdVBxdWQ0VzQzS3RlUGJ0VlVLOUZxdGtiZE5sa3JWdXlJSFVGdTVTdTFndkpwemNqaHhlVWI1MUxsZGZrYXRDZmk0bXZOZzFrdDlZckRtNkVmZ1M0b1RlRmdtcVVTYnlwZHNvT2x4SkVPOW0waUpRTFZWY3pQdUc3NUo3SHJRY2JIQnI2cE9yeVc="
m_p: "2xzx16IjWp7nuGmw8eXJW25o6YLmtWN5S9E8Fb9490CF2aXH1sExXm4M9x8pSH7y"
e_t: "1614178083759"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299662
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:01,304-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:01,304-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "832d2bf2e5b04dcbb0dd748cc8a4d6e3"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "iL9oQ08J"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "CL6UcQw5HId4mFTlE1Jnx9qWsRjuZ7pe"
}
sign: "K8gg4grhvB8hHAkyinPFgwAo+KA+r30Jlm22odBYDydZ3cJOZOSlGwizL9a6Tq8DP3v7yhKqzJEpeo7f/6Za2ZRbC9fy/Lb81Fqc0p9YUNImKdKC/Gs1k6JMDIX5E1daaGj+n6ekpMA7rZiZGTT2JuXSLwwqPk8lKjGjDBhOOUvMSOj4lyobERhSpaTG2PI076HDvch77aMacI9GqZlKRsFHDjWkY2/o29m4OFfAokjobvEeE6949GNC48mxLg4zg9tUzwrj0AmiG9SoGnSJxKm8FbqOc47gEj6p3v0IJcy4uJQCF8QcFhfQVQ6yGhyRPArEfX74M6+1JqJVD8KNuw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "832d2bf2e5b04dcbb0dd748cc8a4d6e3"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "iL9oQ08J"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "CL6UcQw5HId4mFTlE1Jnx9qWsRjuZ7pe"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "ESFnX20+/2Da3iKoWoedRxtRe7CMOYT8rHUnuzxhlCASrqHE58LAlwISXordftKOaT6c/ldIeHiL9YX3IBUt1O1a2CXdoCplJNCs4OecaXHaQpcSrSW8YF1VQRncTgXSQaanZF2IodGpDgR5711Ql+zHGu/2Bv0R54+sLE4tfIs="
  appKey: "1234"
  voucherId: 62299662
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:48:01,612-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"1d71544a996a4d31a614625824efbc94\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2316480406497015e70aa886430bb40000\",\"sign\":\"561122547C7BBD0E41746C861907CAC2\",\"timestamp\":\"1614070084\"}"
}
payrequestid: "KB202102231648032076075925442132"
model: ""

2021-02-23 16:48:01,612-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1883863436881636372055107529]]></transaction_id>
<nonce_str><![CDATA[jFYLdNSmQuZ9oqcKhxODg542AH6CnB7r]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[78840BAF458DC9A2FB8BA8557D06D403]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231648032076075925442132]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164801]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:48:01,715-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:48:01,715-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:48:01,723-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:01,723-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "90842813141355"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "buFHshEaNU3Z5BPvTRQVzGLXISx8qrpA"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:01,799-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b173172123464d18a605b9fc4efebe37"
s_p: "ZHZqUUVnMWtZV2ZhVjRFZGhTcm1IbTlIS1dTODR5N3FOeWpHZklOT20xblN0NkdXYmxQSHBUNURaQnNYSTFjR3NkemtHckJiaFhQazNoR25xWk90cEhNY01EWHE5WVJUZ3VKcXVlaUtvNDEyRElFZWtwbzh3cGF4RUVQRnRBRmthUHk4d2QzU1JSeHdSS3htc05wWUlUOUpJVGh1aDV5VmVOdnFBTEkxbEliTDN3d2s1RjF2VXMxbDAwZWk2SVpMTWtDSWI4bnNQajZ4d2xyTWtOdUs2WHhCWEhNa0syZ1pwNmhYM2Nob215R1NBNlRkS3JKejM2dHdsaXpPYWNZZnhTQ3VDTVJWSjNvYll1cVN3RTRkUFlPVGhmaEY5dElvN1lJTmZMbm85a2tpS2RBWGowRm9TNmhTZmhiVzVkUTNQbXMwQzV3bU5GRXpGYUtQdXdjOEdiR01DTTB5UHJyMkFrZzV1RXJmc2xaSGRzYkg4emlMM293czZ1dWhYOW5RNGc2VVZHOGlQUXRxVmhFZnVBZ0hiM2VwSUhzTHBwT2EyQzVTMWVWRzNrUm9zNjFHVm1jSWE1NDVtSE1HOVdqNXp5QUZDbnBsN1hpeldhOFREN1JBOE1xR2xDa1k1Qk5CS0hyclE5eG9YRTVLWXMyTExrTHNob0RUcU9seXdrVUhNNXdWRmlmNlFENVQxanNSOW5LejdYb3h5OEJId010VWdDZGZjVVdyd3Nwc3AyZDdFTWh6TTFIWmtjUlZNVVg4UmFETVJPRGlvTGhvTXNmUllhU2tBeG1vOW9nTXpUZWNhVnQ0REJnMnFxcGw3bjI0OGhpaHRKVUtjUlo4Wk1EemVtSHpVVmo2akdQdzFVbERyaTBqWTBpT0xnVDVIY1FSUVJOM21XdHppdERwV1NzZGE2ZTZOM0xYdmhmdXIzZHJKc09LTTU1WGFLTkdzME1ScnRvMTVQQnpBcEZqaEk2S0JuZHZBcWxVV1hqTGoxTzVpejhGbXpnelo2M3FKMHIyTFV1ZHBOY2RQS1dpV1RPOUN4RnpUNzFFMDVGZXdLdXM="
m_p: "cmN6CN52T4w2J31UIX5Dg8g6vPvly89stf62l827iY7k9IMYTnaT6C54m09Ozl27"
e_t: "1614178084282"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:01,804-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:01,804-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "b173172123464d18a605b9fc4efebe37"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Xq9YRTgu"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231648032076075925442132"
version: "260"
queryType: "PAY"

2021-02-23 16:48:01,853-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:48:02,855-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:02,855-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:02,859-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:02,859-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648032076075925442132"
2021-02-23 16:48:02,863-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14993, 'pay_req_id': 'KB202102231648032076075925442132', 'notify_id': '1883863436881636372055107529', 'partner_order': 'CL6UcQw5HId4mFTlE1Jnx9qWsRjuZ7pe', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 4), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 1), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 4), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299662","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299662', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:48:02,863-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:48:02,864-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648032076075925442132"
2021-02-23 16:48:02,868-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7679, 'pay_req_id': 'KB202102231648032076075925442132', 'partner_order': 'CL6UcQw5HId4mFTlE1Jnx9qWsRjuZ7pe', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 4), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 4), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 3)}
2021-02-23 16:48:02,868-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:48:02,868-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231648032076075925442132"
2021-02-23 16:48:02,871-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:48:02,871-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:48:02,871-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:48:02,872-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "CL6UcQw5HId4mFTlE1Jnx9qWsRjuZ7pe"
2021-02-23 16:48:02,875-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 142, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_CL6UcQw5HId4mFTlE1Jnx9qWsRjuZ7pe', 'partnerOrder': 'CL6UcQw5HId4mFTlE1Jnx9qWsRjuZ7pe', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 48, 4), 'updateTime': datetime.datetime(2021, 2, 23, 16, 48, 4)}
2021-02-23 16:48:02,875-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:48:02,876-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:02,876-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:02,879-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:02,892-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '80608860011350634201505219617736', 'bizNo': 'WdgVBkHwXAE8atvYoGuq3lQTMFUZ1N9p', 'operateType': 'PRESENT', 'requestId': '93126652804974752091405782950124', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070082889})
2021-02-23 16:48:02,917-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:02,930-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070082927', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:48:02,946-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299663'}], 'vouIdList': None, 'batchId': 'e97d17872b7c45f9902e1b94da083899'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:02,959-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'e97d17872b7c45f9902e1b94da083899', 'batchOperateType': 'PASS'})
2021-02-23 16:48:08,000-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:08,008-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:08,008-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "95525196392439"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "baqFJOy5QWuMTjfZU4SBno3AgiEdzhYH"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:08,091-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "7b3ae420963842dfb38edba235038bf3"
s_p: "b215ZlFFMlFSeEJtdDdZMEtZaXBVNE85SkdLSk1vNXRPTDV5Ymk0OWxqWXgwSVpsdWJOcldjc3phMVhYTk1qZ3RrMldTSTVSVTYyaVhVVUQ4VDhCZWg3bzJqV2NLdjBYcTdZMGZFS3N2Rm9sYUJGNnFrRTZSUFl5UEltZDVyVmNTU0dmVnlma3VWZFJDOU9FbTVEMmVxY0xiY25salFMSmxaM2tSMm9QZXdUaUlvZURjdUVJNkVXUEc0QVp4Z3hTQW9rbUFUUENnV1ZCQVZ2ajlERGdFRmhPbHRFQ1c4TkJJSTE2ME96aHJpS1dzOER3dnVSWlU5ZkZHNkZxWDM1dUF1WUpTVkNCQ2N4R2ZOWWM5eHBodnVJS2NUeUpBeGxsdEhnSUUybzBEOW5jZlNJM3M0ZTNwWm1FRUU0ZWlwVEl2ZmNld3NHbWxPbUpLN1E1SnF2QzhZVVh4UVJ3WEwxTlRXMXhFTnFjaGZBTmFhZGhQNlF6NFIxbXFtZld6RGhLQzEwYzRid3NxdEllSFdqN3lYWXg3YmdISmNHc1VhaVcyS04zRnk3cmZwWnBMSGlpZlJGaHd6cmM1eXJ6MGtvSDJhSDN0cUg2ZTFZNVlOaWNQNHVDUlhzWFp0RzBvbUZtT09RTWdkNlZ3TE9zRnZqS2R0b3pzbERoeFFNV3NLMmFqOGQxV1ZoWVZxMzZhTEFHbU9SeFhMTERlcDVKbU9wM0hsM1BoTXd6aFQxUXRmTkFDUUpzWW1hWHV6SVMzUjgwVzV3VjBhWlUwUVZsUDN5OGtlWTlpNTgzTURpNTRadWt2SDZjRlRvQjQybGNIRHU1YkdNRVhHU2NlRGpwNW5mdndlbkZLeGNjZWR6YnBKN0RReE1JWnhRQlFCb1R6b0ZaSTBWWGxiRGdzeDVmaW0yZlFQQjdVaFl1ZEVxNDY2ZEVUUmxCcTl2SU5LYU1VcXg5YkF1dVFYMUJIWm9WeWxWV21lMDZsYlZPQVdCcTM5eWFhTmZCTW5CT3JpcU1uQmpQRXVWOWNFbFhFTmw0bUMwNlN4ZnRXN1FDRFE0Q2lqNkQ="
m_p: "T3iS82su4YIe9Baq30OOce1R7R2yIHmtxt6nUz55R5nf6oAb0aMDNyH0nLLIUN33"
e_t: "1614178090569"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299663
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:08,112-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:08,112-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "7b3ae420963842dfb38edba235038bf3"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "tk2WSI5R"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "QureZL0TM4sBF6Rbqh9OUWjG1xw8InHv"
}
sign: "mVNrM9ySbCX9RKfrq/+ROgilUPYpV0tYXncsxD7CnWP6gfXL8trL+niyjBpMq05wygkx+UcVqJQMcZCeqKEN7UOrGN+0rsfqXkC6MA2YxBr6QxIt2gTUBndPNa2vj2hjHjNf/Man/TpKcuXgBBvkMEqTGjfT3oBIhDZM/XEvsTd/2XLH1oWJPmjhgdp/mbjEccJaRTFZ0QwMrSCBd5VIdUdapWr5kROsY9CoL9ed6T2F8E+zhca4hjTTC8sjy4greYtxcfoRt5wpaa0x0Wg+xRrcDW4YXzEpFf/lTDPg73kjoGxylJZvZA8BxDd5U2fWs0wFug1VnORBHO70q1qaiQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "7b3ae420963842dfb38edba235038bf3"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "tk2WSI5R"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "QureZL0TM4sBF6Rbqh9OUWjG1xw8InHv"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "RCRQu+sT//FRn4nOimhf136nrwxgQpptqKSYVbSaU/sMHCFX1QAJ8tXgTKK3LH0Pg7JdKPbHEzV0BsN1bYZQ0ny3YEYmnjNo+y93kEG+8jBXjIRDbqHY+hjr+t3P0hpYq8hQ/sn7d4TT0bj+rI509UGcll/xsZEUzYuf4z5bde8="
  appKey: "1234"
  voucherId: 62299663
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:48:08,482-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"46fdf49f1e474e0fbfe87f2abc1f8a31\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231648109242734ce107b85eb67c660000\",\"sign\":\"EA023753472AB8A9B3D1B0E533364E6B\",\"timestamp\":\"1614070090\"}"
}
payrequestid: "KB202102231648102076075925645462"
model: ""

2021-02-23 16:48:08,482-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[6962282432578954433551667856]]></transaction_id>
<nonce_str><![CDATA[FKAtheuTV5xMHikQlgZEf6dJ8cL7Dynw]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[C5175B0DCCD26EE61D42EB39566D1A40]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231648102076075925645462]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164808]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:48:08,582-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:48:08,582-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:48:08,589-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:08,590-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "08523787479118"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "AWlJcDerXQV6URm9dSa4EFt2M3zhCkv8"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:08,705-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "7a8529f92a644940aa6af78fca5c13b0"
s_p: "bXVjc25wMVhEalVPUUZ2UXJ4RWNGS2tKOGp5c3VkdkhlYUZ1eWhnNktJbXRMZklXZkR5NWZwVkp2NEllVHVuRjVnaUEwZkVRTHlvQmN0cUVEMXFueWVBbkZhNFMzT0VmMFR5ZXZGcWpYdE1KaGZKTHlHTnR5OFg3NGcxeE55VWZQVzlvM3cyZDdJVnlEUkprcm9nYVBTa1hSWFZMVlVvMk5oRUhxTDZ1N3VvTzhnVWxuVE1zb3dUcTNKd1hJdWx0cnpRWmJ5eFdwN3ZNbGJ1YnhDcjRkV2V1N21kTzBPTThHa1NLYVZCbFNtRkFyR01nMWswNmM3ZXFJSm4zaERQNEJYZnJSWktwSWFWcHpUWFhTc012M3BvSzgzRVBocUlKQ1JQVU01T0JHaGhzQVRFa3RpZHlta284YXVISGxKVEpDQWVlSDNXeDk3Nk9BMEFDY1c4Y0pOdW9jOGNjSHFkWE9SREZ6bGllVlhqWnkyRkRvMm93YXBHak95R0g4NjVabFVWR3NXZ2VEWU1pUVkzaExoZlNlbU9CVXg0dFlyQzI4QlpwbW1oOENLa29TTk1zSUZjYVhDSlZndzRyWmJXR3NKQ1hOSnRpWk5jV3F6c3lwSUMzWGkxSzdYVm9XSWtqMG53ZGplS1VOOFRQeEF0UFdlQ1pIRzdrWlNjMDcydFpFNklRT2NKYWxndEVIOTFWS1lVZ1BndnhaUThZNDBINnRtbDlLSjZZTTdtbXcwNVlwYVE3Q24zM2dvTHFUdmtzQ1pKcms5VmtHaUN3Y29QR0tGbXNCYUk2dk5DWGN1WWl2QVF4aUIzUWNrSXgzaGRqOVhsVWFCR3kwbG1oMWVOR1BRWm9RUld5TGR1dVdKVUVrNUJ2cmlYTDQwTHJtZlV6Rm1RVGQ3bVFFMlk4SHBweGk0cXpia2REM25RcmlsSERLTzVYcVFvUzdObGNIRHRCQnFGYk96a0F0Zm1QZkhmeUxRUUhoWm9TZnN5N2JhWVFVNkRidGdKclVpZmFwVEMzbnQzVjNRc2d1WGExS0pCTlZJZGp0NVp2WkVtWnpEd3U="
m_p: "T6i57pr2UlZ3Vj4i031A74y93QC08Sr4n306CK88041ucJqeZe166Z11JAlvdk1K"
e_t: "1614178091152"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:08,711-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:08,711-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "7a8529f92a644940aa6af78fca5c13b0"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "4S3OEf0T"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231648102076075925645462"
version: "260"
queryType: "PAY"

2021-02-23 16:48:08,757-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:48:09,758-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:09,758-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:09,761-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:09,762-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648102076075925645462"
2021-02-23 16:48:09,766-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14994, 'pay_req_id': 'KB202102231648102076075925645462', 'notify_id': '6962282432578954433551667856', 'partner_order': 'QureZL0TM4sBF6Rbqh9OUWjG1xw8InHv', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 11), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 8), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 11), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299663","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299663', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:48:09,766-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:48:09,767-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648102076075925645462"
2021-02-23 16:48:09,770-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7680, 'pay_req_id': 'KB202102231648102076075925645462', 'partner_order': 'QureZL0TM4sBF6Rbqh9OUWjG1xw8InHv', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 11), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 11), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 10)}
2021-02-23 16:48:09,771-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:48:09,771-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231648102076075925645462"
2021-02-23 16:48:09,774-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:48:09,774-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:48:09,774-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:48:09,775-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "QureZL0TM4sBF6Rbqh9OUWjG1xw8InHv"
2021-02-23 16:48:09,778-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 143, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_QureZL0TM4sBF6Rbqh9OUWjG1xw8InHv', 'partnerOrder': 'QureZL0TM4sBF6Rbqh9OUWjG1xw8InHv', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 48, 11), 'updateTime': datetime.datetime(2021, 2, 23, 16, 48, 11)}
2021-02-23 16:48:09,778-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:48:09,779-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:09,779-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:09,782-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:09,795-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '77165230577613982297250712153579', 'bizNo': 'dgeQ5kjr9O6qyYFWPlvURBoA84XnsZK0', 'operateType': 'PRESENT', 'requestId': '09741547123102718122956927078043', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070089793})
2021-02-23 16:48:09,820-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:09,834-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070089832', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:48:09,853-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299664'}], 'vouIdList': None, 'batchId': '3085879ea95547778baaac80bb480cce'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:09,867-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '3085879ea95547778baaac80bb480cce', 'batchOperateType': 'PASS'})
2021-02-23 16:48:14,905-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:14,913-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:14,914-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "38417183858782"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "gojAE0cMF6bGeVQ5Ui4R9I7Hh1XfDmKB"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:14,993-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "1559869ab42647e3a89d9a0fb0486666"
s_p: "ZWNSZ2lRZlNrU0JzdDJzYjRGd0w3U24xYll4YjR6M1FPYWppMm0yTHFuT3AzZDhKNTg2SVl6M3k3aDRSdlR5Wm5WbG1ka0pXZDgyMG9KOGEwM1Z5Z1dMSTJLZFplOHJZNnl0eG8zVllaSWZjOTQ1VGxoVHdocXp0NHRhcUl4aHJ3T3ZwUFZ4OXFTajluVHNkMFU5Q1V5eG50M3lWOWV6dHJBbHgxcWQxU1FYZ1ZXWVNYWjJmb3BnVzN4MG1DcjMwTlRTNkdHUmozVHU4VUhzd0dsUzRoTnp6ZmtjRGJxVFVCM0NLZjQyN0lJVGR5UGZyaFdYR1hOeXB2SFE0ZGJTZnFKRXUxN29weDZxYU5NZGprVk9xclRSUDBjdnlkajZVS09SN1ZCMzI3d1JHVVZzOUpjdVk5cFJWRzBZVjg4WVBsYkxERFcwNjhUamRjRXZ2VDE3VkJQSGhTSkxuWktIbXZMeUpEVW1ocjZqZzB2ako0Unl0TTNSajBsNVozYkZlQldSU2toTDBBWE5jMFdvYTloY05td3BuN09Oa3QxU1BicHRjZjZ6MWlaalpqOGMwc24zQ1FTaEVjc1piOHoyUENEWVNrVjl3NGY2RW1yckU4SklLa0xTWGphQjdwRnlpZ3BoRmpxN0JVZTlHb1lBT2hkVmVpckxUNnF3RUxibWZVYzNvNzd1S20xd2R2VndrVUFNMTFLS3dwNURSajNBaGN5YzdodVE0ZzBDNlR5NW1PbEJZWnhYU29hR0F5WmYzWWtZVndlQlVlbWdFVHVYQURPd3BVSXYxZFZPa3hFcUx3VGdCb05ROENLOHhOdHBIcmxCM1J6VW1RdFpLR0tDcGtpRk5XM09JY1Q4NnBidVVzRk56UFVjaWpwYndHak9WMGN0MGlveDh0d0ZNVE9PQld5b2p0ZE1JczJnWWgxcWk0WEJwUFlkNHFMNG9aQ1pmbHNkSXNNMW9XeEtvOU1XRGF3czJEMFhEcHY5MmdmSHBaQXZoRzFEZ3dQbHFqZVFSdTZ3V0pJWmJWSHJWeTE1S3lPbXVrandTOHJtUjlBRUM="
m_p: "M786IP41v2ag3yfmZHdTheGXkL99hg2odqmB22v4DOai73b4r9w78pY3wZ70GRt5"
e_t: "1614178097472"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299664
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:15,016-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:15,017-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "1559869ab42647e3a89d9a0fb0486666"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ecRgiQfS"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "fqm34CW7GbDUOvP86YnkHrNStXhKjL2E"
}
sign: "yDEjac3Fs6vYLEPOvdDQSy7+ZouvXg+9zrCsN/PEwblNSHmZqGXH7+E8DRJXVKL8BcNySw2rHVpGZLv1hGGd152lM/C0pAOT9q6jFIpnHC7GbEwDunnftJZ7hhuEOLQidfDkgrK8uohoNq6B5QDbuyNQsddeauXG+nNjFlI+MDRUuihzKK4n6wtP2jELP1Tda3MM6CRo5QKb519bbqbQZG7Kwx4029tTwmiZFBL+qSjJnafZe6suB5rSoU68qLOqjNBBAEnM87HxAJN0ekZO7r9rHcMJ38YaYB4yOGhqaMHGUttx98DIJfNjwnwJ5hhvKQXdJOSLAgbnbKUZwj63eA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "1559869ab42647e3a89d9a0fb0486666"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "ecRgiQfS"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "fqm34CW7GbDUOvP86YnkHrNStXhKjL2E"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "gTIgRuE6xgJwUe3beXqzOsA0h4gbdiQrhWR4QjqDuEIyELIqpNTcPtUrIyTxo02KuRdHyCPjFs1emL+MbiH2r8QiVTSXc6pBiN7mzcUx88r938H8yTKRLVuB6zH7jhy60zLJa6ckhisjXjMWS+7TLECDStd7sCyB6SYfNS/xe9g="
  appKey: "1234"
  voucherId: 62299664
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:48:15,406-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"50b42a8dee9f4ac6b862acd3fce4bcfc\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164817866630423c570a00a43dd10000\",\"sign\":\"74FE6E75C1522F8A5C7266F37C3AC3DB\",\"timestamp\":\"1614070097\"}"
}
payrequestid: "KB202102231648172076075925230232"
model: ""

2021-02-23 16:48:15,406-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[5358539402252138411224816232]]></transaction_id>
<nonce_str><![CDATA[on0qCTiODyXBJ1z9HWGQtKwdhAfkpMFZ]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[053DE8972FBDE0467751944934D9554B]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231648172076075925230232]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164815]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:48:15,504-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:48:15,504-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:48:15,512-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:15,512-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "46246265465164"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "AxymZzG4bs8p9WIko0P7VKCwDM1aTYUQ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:15,598-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d43f0ba8c3ed4d33bac2ec2f7b07ee3e"
s_p: "VUI2NktVeWxXOHJSUXpsRnk5NkFWb1B4ZGhqNXd2WERNYUlvNVNOSHkwdWFSMmtFQ0xXRml6VnFsRWI2b3lZcmJEUXpHcXhzTGlvb3hqVUxOYUxjc2RUeHNhRzdXVUw4YWdDWUFRcGJ1TkJpOE51UHFVNXppYVZxS2I0SU1UcTVYRjd2MzVHYnE3THlEdE1rc3AySmlFbUY3ZnNiQ3Fkbk1naDhrcVB2VUE5MGR2U3p5WkFHTms2RVNBUkFGSXExc0ZRdG5TeGJWV0UzTW1lZnp4Y1N5Y0dUbklIeXhHdDVCZHMwQm8ya2V2TXZsY3Q2eWMzT3BCdG85SFlEZFJOSzA4cGtuMHp4NDVkOElaN1B1YXNrVllUWDBxMnh2bGhycmgxdWJ4ZGM2bk01Rk5wYnlaamZwaUxZdkJZQnNURlVJWks3ZG4wMGg3eWFOeHpoTDdqSlBLRmprT3RoYWc1NVkxNmlmRW9za0J2OU9oSWJ0amY2WmdjN2tmdjlVTFY1dHI5V1JXVURIZWxWNU9SQTdMb1dScHAyY2trdXpOQjZEZzd5OVA1SFRhUXFjR3VIVjJ0alBXZ0lMa25BVFFQZ2ZzMDJGMk9OaTJwQ25TQXVLR2ZDc01aVWlMdkhLbnl0YUhIUFpUSjJwWTNuNHZaWU9EblFSSUxwNHhZQUk3TjFuZmFxajFhZXVyRzJ4bmFPUWlLSk9xM1hTYVlKWHBHQzV2M1hNaGc1S3NPNWN2cDRRcXhRbW5qTGhJUGFqSUZHdTU1bVEza21QUm9FbEN1MXJ2bU84VXM4a0p3NnVrMGpBbWRwcVV1VFh0cjB3dERLRHFndWk2SkRoT21aWnNaSnFrRnAycUk2N0xxdmViWFpyaFg2M2MyanZmQmh6MWNPRWpoVXh0NTloZnloZnNlYklkeEVQcDFJUXdmVUs4RUVtSzBFN0dlQXZoNFBxRm9aUjJKMGFweHNQc1N0Rmt4M25MTzhRNmhMTE9TaDM4UHJadE9mNXR2Z2d5Qk1pcUtRdjVGMHN2VHM5ZlI5dk5PNnIxc1ZhS05aMlVobk1YT3E="
m_p: "8T35GebJeC1F01m369dOP9OuG58Wd0V1XB22tQ15S7VWzIU7se54Pavt86qY37kh"
e_t: "1614178098072"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:15,604-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:15,604-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "d43f0ba8c3ed4d33bac2ec2f7b07ee3e"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "q7LyDtMk"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231648172076075925230232"
version: "260"
queryType: "PAY"

2021-02-23 16:48:15,646-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:48:16,647-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:16,647-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:16,650-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:16,651-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648172076075925230232"
2021-02-23 16:48:16,655-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14995, 'pay_req_id': 'KB202102231648172076075925230232', 'notify_id': '5358539402252138411224816232', 'partner_order': 'fqm34CW7GbDUOvP86YnkHrNStXhKjL2E', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 18), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 15), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 18), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299664","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299664', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:48:16,655-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:48:16,656-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648172076075925230232"
2021-02-23 16:48:16,660-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7681, 'pay_req_id': 'KB202102231648172076075925230232', 'partner_order': 'fqm34CW7GbDUOvP86YnkHrNStXhKjL2E', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 18), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 18), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 17)}
2021-02-23 16:48:16,660-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:48:16,660-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231648172076075925230232"
2021-02-23 16:48:16,664-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:48:16,664-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:48:16,664-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:48:16,664-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "fqm34CW7GbDUOvP86YnkHrNStXhKjL2E"
2021-02-23 16:48:16,668-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 144, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_fqm34CW7GbDUOvP86YnkHrNStXhKjL2E', 'partnerOrder': 'fqm34CW7GbDUOvP86YnkHrNStXhKjL2E', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 48, 18), 'updateTime': datetime.datetime(2021, 2, 23, 16, 48, 18)}
2021-02-23 16:48:16,668-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:48:16,668-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:16,669-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:16,671-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:16,688-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '60324134867381236855280796850829', 'bizNo': 'QzgVbpGhaxylkTXOWoAYN01qDciH53sZ', 'operateType': 'PRESENT', 'requestId': '42913558260768874670176130775642', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070096682})
2021-02-23 16:48:16,717-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:16,732-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070096729', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:48:16,750-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299665'}], 'vouIdList': None, 'batchId': '2f08868ab0db467b98f2ab2ed9b88aff'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:16,763-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '2f08868ab0db467b98f2ab2ed9b88aff', 'batchOperateType': 'PASS'})
2021-02-23 16:48:21,810-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:21,818-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:21,818-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "38325107702903"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "B8UiTxtXy3Wu974vcbQnLkwfjeCqJaAs"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:21,906-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f4db027a9e964cb6ad0753574ef254b6"
s_p: "WklvMk0wOGVDMm5TQTFzVGhUWExUblFhUDFXS2xkMzFvYjVsdldEeEhOSnFueGhhVDVQR0dKS0c4cTUyUThka2F3VXY5UThOeEdGbnFZc1pQbW9ZMzFEQ1FqdVN1cnh2dHZiV1JjdWlsVjVDSndrNEdidW9GVjVUTW9QdVBFRjNuazZHYmJrYmJsekJjaFJMMzVmb1UyV3F6d2FiYjkxeDg4RjIzekE1Mjh0S3RtS2ZJVVFmd3FycFhJcG8yckVJQkd6R1prTms3ZDlkN0tzSzA3UUtNYlhVUERXbGR1NExuVHlVT1NYT3lrRWtWUkIzTUdMT0tIRVFVc2N5NzM0aWV5V0tUT0FnY3lHT1cyQ1hMVWt5Mk1OTlV2eHdwU25vTGhsaDlvTzM0YjdsdXZnOHJmYnZ6UTVVZ1VUR3BhOXJzNHp3OEJKRVdrQkxub0EzZWszNEhOdjZGMGFPckxKMHF3N1Q3VmlyamRNOVpmNVVzR2k0TVZlckxYUVFMeFB1YXltUGh1UmtHbkk0N3dLMWd3aEdKd2RpUlpISjZDN0pBSGttR25uQ2dYTk01SEE2QUhIQzBBQVJZM0tiYllyQzNWT0NHTVB3UEVPSlowN04yczZqVjlPM3lKWDBUbGJuNjdoZ05FdmkwaEhZOGxteUJXMncyUk1KQ1VFSFdYOGJNNXg2ZGRHUjRWazFvdXFqQ3NBZTNVeFhSeWh2eUNVOUEzYm5MRlVKRmJVODloVEFtUEdqRm9ZUFFkYUExYUtDd1FMa2phTllpdnd3UkMwRlE1aTU3YTZxYUlvTWFMdGptQXduV0R2OFJNaVViWDUzcXdXQXZLcDlWeFJ6RG51Y1ZWYk1jNHE5dmlCTzFTZk11OU9jUjFPYTd1cHNnUHF0WlFqRHZDWHhicVpxTGZjaFBhZ0M5MHFzNU00QzRBUGlXOGVwazZnalhhZlZLWDgzc2JRV0Y1ZkJnR2szbkkyQ1lpNWNEbTI2N2JMRklPOEtRak5WSUZ4Skh2S1BMeXNMZzNjUWM1c2h3eHdGd1RlZ3lZZEh2alZHVDhzMU5RY1k="
m_p: "FuxMxC9O35awu7uSHoN7d0g0rx46l1xFCL9B7qD059030pGV4Zh6b62a85rdTNys"
e_t: "1614178104379"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299665
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:21,934-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:21,934-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "f4db027a9e964cb6ad0753574ef254b6"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "F3nk6Gbb"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "0KNlAq4B67kmyfVzhocT15estQXHREYG"
}
sign: "ScPrutdpex5afK2/NiWbWc+XB0CVTSSY2JZq2HHv482GMvzbcKvZvYwNigXwVhr4K8cOQ5+4Q6xHJAkwWiebm8lG/SFSOeZFVa/7rTHZj6uqJoSN9XFV/3tU0bT/Y0WwgDkR88BOi3gJPHZQjO+pjC60rr7hYEjyZRcHFSqNRYQKesgw7W6a/8Jr4CmPegOGR46hnWV8HexmY93rQoHGe3D8e4hxlqCHp0j/iAJvzzxdy//UAHC9FfBp20A1js4LcstzJFIIYKOw99PZ+hsQbKuoG6cfzSd9lRGBMhLrGQQJH/irhCc0HUYNK5XObdUJGEFZCU5+N+eeIBrgDXnwwg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "f4db027a9e964cb6ad0753574ef254b6"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "F3nk6Gbb"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "0KNlAq4B67kmyfVzhocT15estQXHREYG"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "hwXdPHIPT1UBTSlHo+N8efi0E+PEx/7CPb8eWh6UnB1c4V4pSBxtNIIpFbj7lEi+oMTzI1B5ATE69li2YT3RkngjpuO2ClEQ512syFcnq7NaJlkCBqAmgkdTdDGHMojA2DekQ+Z5EQaR5f8wG3jr9mOdC89fIf1Ncb4iAQCpQvo="
  appKey: "1234"
  voucherId: 62299665
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:48:22,227-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"56bfddd0b736410b8a894a60633b86c6\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231648246624794025d7839984b8010000\",\"sign\":\"48049E048FCAFF612147293B422FE2C4\",\"timestamp\":\"1614070104\"}"
}
payrequestid: "KB202102231648242076075925456072"
model: ""

2021-02-23 16:48:22,227-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[5771584261969371038381772513]]></transaction_id>
<nonce_str><![CDATA[8X0A34Z5JDsgvNBRfqS6dziGot12YWkm]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[55657048049C5B22D9680F6FF1E1EE2B]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231648242076075925456072]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164822]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:48:22,327-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:48:22,327-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:48:22,335-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:22,335-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "50883030922007"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "8KV3jBQxIbwEXd5ct4L6MsRNYC9Fakrq"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:22,415-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "889398e6f60d4a668cf56e5e1f7db2e6"
s_p: "dTdFWjdqUVFrczN2QjVSVWU0c2pNbFRZQWFlaHRQTlFKSG13aDNhRzRBR25SWWpGN0l0NE1nd3dxOHBFWEpRU1pqa2t6ZURLdDRFYm5DMmc2WlN3UDh1NTl6NzFTVTZOeG5HczZnSFl2dFEyekZQbkVZRDdyaXhMeldqc2piMFZibW5UcWdnQU9MMVc2bWJnOU5IRVlqQUVVRGtKU0xJZURWWTFNV2g2ODVKZmtBYVU1ZTRncExkWmxGRmNxUWlHRlFwcHRONk9hdVptczRLV1BsRExXb2V3eXNaTnFtQzN0dlYzUnF6N2FTeXFUOFBnM1FYcFA1aHRwQndKTTIxN1U0TWNqVzhsZ0FWRGh6aG9wZkpMZ0pNeTd5NVpIOEpETmZ2WFNTTjJoRjc2UFQ5d3JhWlVtN0dCR3RkMWNvMXBhRXlRMExKWGhWT3FpWERkdWRtMThQRGtXWTlkM2oyWk5URkhFQ2NPT1V6WjdTYjhyNEsySktaRUpMTWpNWHY0b2ROaFBPTWxGYWxGZ2FCMzU0aFJ4V2E1TUVrdGVwWFM3TG03dU9YNW01NUp1ZlVWcVl4RnRnV05CN3NMSlIwclR4bGhzRGJUYnB3RVl1RUN4RzR4d01YTjhjejQ3M1g5UFVHZTkwNVA5eTZrczdDMnBoanRZcmp4RWJPZXNxQVlJTnFQZFlwRmFUZ29UTzNJbUNHdDZ1ZExSQWtTbVdsSXV3ZTRGd1FnY2xDd29DeThxdDRhSkVYMFBJUmw2ZHNtRmNLZHlJeGRWZXVpU0o4SG56cXZWU3o1Vno4bnNreWdSTFpCeHhaY2VySUdSa1pUdG05V0w5ODZkR2pOYW94b2pKV1Y2dDg5TklpOTNYTWFmYzBHbzRRTHhQVTY5am15d3M2WmFMUnZnaXpDYVBkVUVEYm1BS2ViQVRwV290d3J4YTA2QWpXSVdSbFVjOG1IZWxWMmU4eEpBSTBwSkx1U1VyNllFaWNNYnVuWWtCOEU4bVpqMU9rQnROT3daZmhSWHZiN2J6aUVFZk11NUxGYU5xNlRaYjBuN2ROaTlueko="
m_p: "jL97GUlxD90O0I3179S4OebiBsVX9I2GQVB9LIPWm890ds7w39IC834yflVfB0f5"
e_t: "1614178104894"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:22,416-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:22,416-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "889398e6f60d4a668cf56e5e1f7db2e6"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "xLzWjsjb"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231648242076075925456072"
version: "260"
queryType: "PAY"

2021-02-23 16:48:22,462-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:48:23,463-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:23,463-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:23,466-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:23,467-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648242076075925456072"
2021-02-23 16:48:23,471-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14996, 'pay_req_id': 'KB202102231648242076075925456072', 'notify_id': '5771584261969371038381772513', 'partner_order': '0KNlAq4B67kmyfVzhocT15estQXHREYG', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 24), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 22), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 25), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299665","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299665', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:48:23,471-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:48:23,472-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648242076075925456072"
2021-02-23 16:48:23,475-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7682, 'pay_req_id': 'KB202102231648242076075925456072', 'partner_order': '0KNlAq4B67kmyfVzhocT15estQXHREYG', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 25), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 25), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 24)}
2021-02-23 16:48:23,476-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:48:23,476-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231648242076075925456072"
2021-02-23 16:48:23,479-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:48:23,479-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:48:23,479-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:48:23,480-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "0KNlAq4B67kmyfVzhocT15estQXHREYG"
2021-02-23 16:48:23,483-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 145, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_0KNlAq4B67kmyfVzhocT15estQXHREYG', 'partnerOrder': '0KNlAq4B67kmyfVzhocT15estQXHREYG', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 48, 25), 'updateTime': datetime.datetime(2021, 2, 23, 16, 48, 24)}
2021-02-23 16:48:23,483-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:48:23,483-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:23,484-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:23,487-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:23,499-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '36797286432733565013546235255150', 'bizNo': 'YX1Tz7hGDoJ5RimBMVNF0WsQngaKpdkj', 'operateType': 'PRESENT', 'requestId': '28129096953855380594259453844643', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070103497})
2021-02-23 16:48:23,524-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:23,538-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070103536', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:48:23,557-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299666'}], 'vouIdList': None, 'batchId': 'db53420318ca425db47eec3272159280'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:23,570-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'db53420318ca425db47eec3272159280', 'batchOperateType': 'PASS'})
2021-02-23 16:48:28,612-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:28,620-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:28,620-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "12486750318673"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "TfPEK71rp6v2xhq4GlCyVDsOmkNo9geH"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:28,700-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4e841491bf3f4b909bb064d8e40b7104"
s_p: "T3ZLQ1BvWWRIcWp6WW0wMmtYOXo2aVZ1WVZSNGp2c20zeXhDZHNLdUxoUko2VW11c1VtRWxoTUZPWVk5amFlSmRRbFZsdm5JQjI1cHFEQmhsWUFHeXZ2dzRHVWFnRUVyOGRUSHFkazdMaFpvaWlCTG5kdlhGczR6dzlzQVprY0pVYndRemtyWFNvdFJ0QTFDV0djVmo3UkV6eHRwTFVhcVVyZ3NEdWNWUUJhQzBvY3hoYkVmd0lhWkpVSG5iVUwwR2JpRm9nYUFwNjFic3pzU1Z2aGdNR3ZTTEFCVE5mM1YyV2E4MWhhNEd6QXlFRVdGN0lYSTB3enQ3OFVGYjF6eVo2MFJkQzJuTkM2b0t3V0hOYlRWRHZNaVByaUsyaUt4TllnUjJnVnVRVFdmU0JJY3BNRFRRbWlwQlBZVEhMWEdXdzFWTlNKMFE5N1dmY0YySG9zMk5ZUFBMZjZrRk5rMm5QcHRETU41UkUwZ0NobDBUOEg0VlUxd1FnYjh4bEFZazBtbFcxdERuWHF6cUJ2eDJ3Mjh0M2xldGVqelIwVGdKUGFLSENpZUNNdkxZVVduTGxvY1ZTTmNPc0F5QVp1TzA4NzN6ZWxyZTg4cEVOTEc1T0szRTJYMDZnNUdmdllTeHRrU09IZWowVGVNWEI5Yk9aeFl2R1RFVzRjclNNaEp6VWpZNVpYd0JpeXNDTm9OVU9pZkZEeDZ6R2diRXBFT3hUOWczZlQ4TjZqRXpBUjRiY3lOb0tLbTlpVjU5SUtsYmlYVVQ2aFlzRms3WlIycXdTVlo1NVlxeUdNMGlpcm9SeGNucjNORlNwVk5idmhZWWlZSjZScjh3Z2FhaWpsdUhVbHpsZFNibHd6NHZUUzhxNnc1VUo5Um1xWlVUY1R3VDJjMDMzN1dDWTNIYVlWV3FXa1dvRWNZT3NrZXY3d3MyZ0daQ3dlQ0NEdHI3aGRiY3RaWVVRNGt1VVNoaTAyNGd5ZlA4YzR1clZIZUt6ODRjZDUwRUdmb0JBTUltTUFFTlhONWpGcnRuaFFiQUt5UnY5VHpld3NsNU16MWxIZ0Q="
m_p: "S1Z6ORr3e24Wm6tj5h60J40fr4C6B4g8ZF0Wo7C1kPL1SXB3ka16q9R5IDrww4ox"
e_t: "1614178111179"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299666
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:28,720-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:28,720-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "4e841491bf3f4b909bb064d8e40b7104"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "AGyvvw4G"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "IMhStGH163fx2kX8lLeZK5nzTyj4R0qa"
}
sign: "vXZvFQW4zHmlorrlwP7/TkV8hZ1eIs/pAe79S4GGeiMadGV8Lpzpq0/3dW5FNu+qBcRgsK9t/8H+7KpeiOXRF2T6tnofkgwGfe95nn5GjWJ86pW/T8MQTGfK7+kq9JbY8rg6/vhojz6lvli+ilF+6ObgkRWTL4A/5HmCCX8NtY1/d9in42wxNOE1qH6WOXvfxBePAvuVy+abDnNUdPamZguUrVQA38lZ1d24a3tF20zhWDSCD8vwZJ5O4icEvfTiF7A+kFjMDhhQ8omPG2Dn4uzrWRB8xOzyRwpIYwwOILOGmh88xDVbQyz71SpV3xx3soD/nA9ib1LNiM3Eoduw5Q=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "4e841491bf3f4b909bb064d8e40b7104"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "AGyvvw4G"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "IMhStGH163fx2kX8lLeZK5nzTyj4R0qa"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "hqpU/Gfg479xvqNzmq7IyjO2SkC04i1nGIeqLufSluqIMwrGTHPfp2d0RZZJONSkKpE33CTdONfRtsOUDZ70BiKk/3bY84vt0M2Z1n2J/M3nW4uh0s1Dj3xJbkSG1sC2eM+O8qtxWS6+fDUhj2HO3HIoP5YBTU7tEjJTBGPY5Kk="
  appKey: "1234"
  voucherId: 62299666
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:48:29,052-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"f7b8f2eb3eac4322bc6acecba069b86f\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164831496387394c06430d6df4210000\",\"sign\":\"02B903A8B96F28AF22446694581A13CD\",\"timestamp\":\"1614070111\"}"
}
payrequestid: "KB202102231648312076075925361202"
model: ""

2021-02-23 16:48:29,053-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7267853076187462705002207353]]></transaction_id>
<nonce_str><![CDATA[ks32vGy78mDfR6PONIFTp1gMtbidZLhn]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[ABFA97941281D13D974C91B7173827B1]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231648312076075925361202]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164829]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:48:29,154-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:48:29,154-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:48:29,161-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:29,161-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "61433203155368"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "L8DR5ewoTNYvVZzOi1K7y2kB06u4AtJH"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:29,241-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "903e80b27dab4176a7b8f6eee9cef795"
s_p: "WDhWRnR1M0kxSXZQSWYydmNRVTFPZjZZSmVMSzVPcE0xRmxvM0hvUVB2dU5DUjZodjIwYVdVbUF4RVc2MWhLRDNQcjhZa0Rhc3NKV3Myd2dxYVF6clR4M200cGd0VmtFZTl6Y05RTm9WQ0FSc21wNmp4UDNndUsyMUtkMFQ1TTBkeERpMFhQZm5zN0pDRzRDQjJaNDBlaTd0cGE5dEJNYzd1NTZIZjE0OE5aNHExQzM1MG93T1pKWExsa05ld1B6bzJCQThDMkRkWTBxRFRxdVlHZDJpYlgzU0NyS01hTzRXdTU3MHVMNlB4Nk5UbnRYd2RIR3kyM1o4ejlaVGs0Yk5oNWZ1ZDNDVWVqWXh3THd4cnk0YWNOdEtwNGxvTW85NGM0OFZaN09OTVFVSmNCZ3BKdGRjNXlvY1pNMDMwcDJITUtVSFdUS1p4bEI1TkNlNTk0eWRSSFhWMEl1T29YcGlrM3JrUTRkUmhhV0lONGRyZ1BEbTlJWUlYS25VY0x6eVZKZEUzWGVITU5MQUVJdEZBcTZwWlFaN1BTcXBxY0ttV2t1T09mTHdocVdsb1dvNG9nck9ZOURlb3JzRmVxelpRdkJSM3BXaGVJb3JyczNUbGxOMXk3SFZpRU40a2tzWWVlTGF0WG1ZcHNOTTloQXpzMUxnaGZMaUt6Z1ZYMEJyaFRCRjJJSU16bWVETWtLUk1DNTRxbWl4VGRKZEZjQU16Q29NUnBJckhwTDExYldER3NrN25zZjQ0aXkzUmJCVVRsN2ZrRnJJYXdBeU1Gd2dwMkNGSGNnNXI5MkpiY0VPVlhlczJmSUc3Zm1xWW4xV0dJZkJOQnNlRGNkZnAxTU5FdzQ0b3Qxc3RKNjlqVVJ1azBxTlhVdFpJcXlGcUtLWXdpWkFnZXNGN2xpbE1GQjEyV0Rkemd6V3FLVDhDdEVqRTFsRksyYXBTaGNkTEJ1ajlTdGtoRUdMa2VheGtISzN6UjFqYXAwSHhiUmJzWXFEa2swaHBLbWdrWU12VDVBUDREVndFRnNLSVY5NVY1cEdRNG1mQlZkVEFqdXlodlM="
m_p: "ElEp044B5O02ArI3p8Nuf1Qg1x519Iy8k47tFSkEL12xidGxN79ZR90bS4hou82d"
e_t: "1614178111719"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:29,247-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:29,247-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "903e80b27dab4176a7b8f6eee9cef795"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Of6YJeLK"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231648312076075925361202"
version: "260"
queryType: "PAY"

2021-02-23 16:48:29,288-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:48:30,288-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:30,288-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:30,291-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:30,292-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648312076075925361202"
2021-02-23 16:48:30,296-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14997, 'pay_req_id': 'KB202102231648312076075925361202', 'notify_id': '7267853076187462705002207353', 'partner_order': 'IMhStGH163fx2kX8lLeZK5nzTyj4R0qa', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 31), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 29), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 32), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299666","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299666', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:48:30,296-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:48:30,297-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648312076075925361202"
2021-02-23 16:48:30,300-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7683, 'pay_req_id': 'KB202102231648312076075925361202', 'partner_order': 'IMhStGH163fx2kX8lLeZK5nzTyj4R0qa', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 31), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 32), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 31)}
2021-02-23 16:48:30,301-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:48:30,301-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231648312076075925361202"
2021-02-23 16:48:30,304-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:48:30,304-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:48:30,304-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:48:30,305-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "IMhStGH163fx2kX8lLeZK5nzTyj4R0qa"
2021-02-23 16:48:30,308-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 146, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_IMhStGH163fx2kX8lLeZK5nzTyj4R0qa', 'partnerOrder': 'IMhStGH163fx2kX8lLeZK5nzTyj4R0qa', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 48, 32), 'updateTime': datetime.datetime(2021, 2, 23, 16, 48, 31)}
2021-02-23 16:48:30,308-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:48:30,309-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:30,309-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:30,312-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:30,325-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '72453612215505232506056952874974', 'bizNo': '0XHMWgwCa7YoInkQBqexdK8DSAPF3u4t', 'operateType': 'PRESENT', 'requestId': '62591488461082250858914382461578', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070110323})
2021-02-23 16:48:30,350-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:30,363-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070110361', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:48:30,381-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299667'}], 'vouIdList': None, 'batchId': '5878593778194106a02498d74e66a09b'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:30,394-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '5878593778194106a02498d74e66a09b', 'batchOperateType': 'PASS'})
2021-02-23 16:48:35,436-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:35,443-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:35,444-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "81489564484243"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "43n0Ts6iPZfgG5jtoLuOY8UlFvpCDI9B"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:35,528-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "9cab293ae3734a79a0976ff293e3184a"
s_p: "d21GTkNuT1FJSFBLQThGN0pjdVVpcXk5Zk9rWWRYdnVDMjh0WkV6V050eG41amxub29tTWJKN25iZ3BEd1NvcDB4UDNva0FOUnYyMW9VYUx2aGJMczhWVUlEWTRxZlpGcndrUE94UDlFV2FwVkh2RG1ZUVdjSkxPQlpsTHVMVENpRG1yVEVsSUdZUDFiRGltUkRsTUpvSm1NSDhKNGdSN1FxRVVQeWdqUmtEeEtDcXdrekVmWmNqNUlJWkZvVEhnOXdjOVVqaGZMNk9mY3lZeHhuOTJwWnVQb0owTlUyUTRSNUc4cDJOTHdiTDRDS2RsUVN3djMyU3ZnTGVUdkVmbTFhdHh0UUtQTXBRblNLd0lWZEF1aHZNZGxEdmVNblpzZ0VWNWx4aFJsQlhrUUIxb3d6djZLMVpEV2docnFibjlqN1NDQlNNU3lCdWhkajFZZmREOFFjSlhWeDZ3eE1GcTMwTWlBRk50bk5GeGJVZFBjNTR5cmRyNUpOT3pReWFEd043MlBPRWZPR3A5VUdXZ2pJTUE5enZCdEd5RW0zNDhETFZaMFJGYzRoVzl6MUg1WEs3VkppSHo0THV3cG5QeVlwNjN4aTFBSTdwUnNsNnlzR3d6b1EybExFNkdqU1ZDV0NGQUlMbXNOaHRwSEhhbFFrYkNOdjFmSUdFR0dHa2t1dlExTDYzRlhlNUFFdkdWQWZHVjg5OGMxN01pV09yMk9SUjBqSDk3bmhPWGpXOWx2bmJ0OHdpZXowcFFLU0V4QUJYWHE2VllVNkdPZnFJOHlpZ01FZU9TenMzM3F0bWVJblN2RGJpNVVQQTFuekx0ZHRhMEVZVHZTTVFJRjdLcU9rcGhpVXlCYWwybExHelFZRTMxdW5DekhOQzlKVEZsTXFPekY1a0NUTnNFSHBkUGJacDRHeFdPQzRwV21MR0g4bTdkTFZ4cGd5WE1YUDA4TmZzTWVCRmh4b0dtN2kxSllnOGtFT0g3QndKN0Q1MzA2Tk10SmlzZGJlSjBVbE5PMDNxTXVMcGdFQUozVzliMkxJYUZLUXU4dmJiZVJXVHE="
m_p: "ocrE2F0M2xVF1gCCiO5phq44Za9HD1J5e3FJ0Aa10ii5W4m9Z28q0Z599mZ2wxym"
e_t: "1614178118002"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299667
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:35,554-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:35,554-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "9cab293ae3734a79a0976ff293e3184a"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "rwkPOxP9"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "UYuFPkNRfKt1Sohr7eOB38gvmApCWLcI"
}
sign: "YPivGK7ytUMMSZpSqjsmTVXTCLD2qvaXbBdbPL7RmSM+o3ji5nEgUTd+VM0JWCDPdPejfNFVQjFl2JmaZwLp85mLcutOLK4g3DVuRDGlvOoY9bGoUQ7YegMlGco9qA2EwuhcK/NHTx1LR3hbGnKlRjlTtxqU4oyMwAsKiSz+g8IiEo+0/Kn58yNb+LfquvnT+54LHWmNsx4F4SQHZcqc23MLxkvaEzv8LBz3NGGCvsKCzdwaGyAs+gsG5zFKqhalLa598SilhMxTGgyT4I05c/VuQMx5DFvOb4En4SlgF2tZR1CkKE5Wd8qfTHxZw7k1LxQg1H2R2A4RrpIhhqX25w=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "9cab293ae3734a79a0976ff293e3184a"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "rwkPOxP9"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "UYuFPkNRfKt1Sohr7eOB38gvmApCWLcI"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "T9xTRQqRkezB/RTL3pWAgiux/1XZ9FeBpCv0CZqt+wsDKjFOiSFROYhIZM+oIKFSmu/Fb4AWs/t/XPBbJ4zf2nYrHizkba1nkvt+eOsKiCx7uAYxRVVUULoMCEGVwztbomCyCOsc4+iSYyVmp7DJAGSmK4qv9nkryF2QJ4rwNs0="
  appKey: "1234"
  voucherId: 62299667
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:48:35,865-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"69215c97fa5949d4a985dc2ddb10ee1b\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164838311524d091106e9d2bff500000\",\"sign\":\"CF35B34A69B976918A25664643F2F0FF\",\"timestamp\":\"1614070118\"}"
}
payrequestid: "KB202102231648382076075925551542"
model: ""

2021-02-23 16:48:35,865-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4925919381334934135714492360]]></transaction_id>
<nonce_str><![CDATA[S697NDbg0GBFqHduCahRiM3OnKjVZ1Ey]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[1C2B9D920F3223F3862D79ECF8A31AC8]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231648382076075925551542]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164835]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:48:35,964-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:48:35,964-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:48:35,971-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:35,971-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "97717857708625"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Yq0yskwmPhxaedlSK5b12r94DzREMZUO"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:36,056-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "37f303a1fc674a54910ed06465addc92"
s_p: "SmlVUXNWSlNzaGRmZWhVb3VmaEJMcWk0bVJ6ZWM0MVlaMjB4QlFKdDJNa2JhbWJTU3Z5T2E1ejZUWGgzMmF2akFpblZTMjUxbUpKUG1EWjgzOXBhblZvZkY0TzBzdmRRbzh4OFpxY1ByOVNBODVHT3g1cHU5bjFUZHdJaG5yWjZXVUw3SVI0WWo1NEE0UjdmUGpzblB6SU5tYkd4SVpHTG5uaGZKaFlyQTBpM2F5WGc4RWJyQkJTdTBEOEFGa3NpM3BwUElaSUc0NXdCMWtsbkdvckZjcUFVN1hVdVlnaWpHd29TaUFWU1hyRm9vaDZ6N05Rd0NDUUF3SlNvMjRJTDJPTzhtZDF6SENDSjBNZEZvR2Y3VUhhQVo3WkxtUHpYbUlZZUFxWEpHc0hPTDRYSjZEZWREM1o0Qk84bkUzZ0RsczVUV2tXbXljSWkzeW9qVGt4a25WbVI3MHJ3cmxJREZPVEV1a1B5cklaa3JKNjlweU9sZ0tFemNEcTZlVTlHMjFmYWFpbmtEbGtFQ0ZVSklsTkQ5bjdyemtxNmRZQko1UEd0YTFyaTZERkRSWGU4QlI0RE4wUVdycmF4aUtEQ0lBY0dSdkNDWHlTeWVzRldWY3R5OEd6Zm5tcWxhdnc0VEpma2tmaEthWmNvSHF0NXUyRVloTUZqTXVNOGNvbzJnNGRJVnNSOXRpS1E1aU45OHFCbWtRMEFMbHdnQ2JCc3R4MnYyZ2ZqSnRHeERiZnBpM2N4cW45UHUzTFNEcHdud1JQa0xGNGFaZ3ZDbERRck1MRjRxZ3ZlVzV2Tm03WWpzd2JLZTJ2Y0RKM0xyanBnMlFhc3dabnpoUDNQbEhDYjVJdXJ4RGJUeDFsamNhQjVBYWx3MWxtMEhIcE9vWU1xSEp0ZmxjTUhRdEZIRlNiMWNnWHBCM0J5cm5TUmNYM0RTMjVLOGtudUlSV210c01KQ284UFNaaHRHMEF5YUFKa0JURU45V1B4YlhzSVdUMXJNY2xUTGdaYUtJeHFlMkJtaDBmazNHRjRDQmhPcUhwVzRGQTh4RmUwRkZwNkxhUHQ="
m_p: "9kIj2BlD9Y17HrNUqm7Kbqfq599qN678Rda7pAzbY13Pjy2v11b5yDDJNGMqL0p7"
e_t: "1614178118530"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:36,059-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:36,059-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "37f303a1fc674a54910ed06465addc92"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "pu9n1Tdw"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231648382076075925551542"
version: "260"
queryType: "PAY"

2021-02-23 16:48:36,104-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:48:37,104-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:37,104-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:37,107-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:37,108-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648382076075925551542"
2021-02-23 16:48:37,112-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14998, 'pay_req_id': 'KB202102231648382076075925551542', 'notify_id': '4925919381334934135714492360', 'partner_order': 'UYuFPkNRfKt1Sohr7eOB38gvmApCWLcI', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 38), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 35), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 38), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299667","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299667', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:48:37,113-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:48:37,114-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648382076075925551542"
2021-02-23 16:48:37,117-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7684, 'pay_req_id': 'KB202102231648382076075925551542', 'partner_order': 'UYuFPkNRfKt1Sohr7eOB38gvmApCWLcI', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 38), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 39), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 38)}
2021-02-23 16:48:37,117-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:48:37,118-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231648382076075925551542"
2021-02-23 16:48:37,121-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:48:37,121-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:48:37,121-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:48:37,122-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "UYuFPkNRfKt1Sohr7eOB38gvmApCWLcI"
2021-02-23 16:48:37,125-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 147, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_UYuFPkNRfKt1Sohr7eOB38gvmApCWLcI', 'partnerOrder': 'UYuFPkNRfKt1Sohr7eOB38gvmApCWLcI', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 48, 38), 'updateTime': datetime.datetime(2021, 2, 23, 16, 48, 38)}
2021-02-23 16:48:37,125-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:48:37,125-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:37,126-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:37,129-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:37,142-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '55870806159270056253181777931185', 'bizNo': 'z5OmgBlTu9CR4LE68WMifsDa0rNhnoec', 'operateType': 'PRESENT', 'requestId': '64953894646948651355492026927963', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070117139})
2021-02-23 16:48:37,174-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:37,188-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070117185', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:48:37,207-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299668'}], 'vouIdList': None, 'batchId': '61521fd2dbfc490f94ec092c45c8ce9b'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:37,220-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '61521fd2dbfc490f94ec092c45c8ce9b', 'batchOperateType': 'PASS'})
2021-02-23 16:48:42,263-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:42,271-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:42,271-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "31260520040945"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "OCKvwNjolrigmuYRaAIb8EnTpqdkW7Zs"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:42,344-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5c62f0a5fecf4349a97ab3c69d93b3e4"
s_p: "eEVkdTNaOXJUQVBTNjBvMURpNlE5T3NGY3hETmxoMjhvc2psRE0zM1R1MnFKcnY5WGF5YUtjWnVRYTQ5emFQS0xJRWFyOWpPT3FZM3JON2ZJcloxdUJsS3oxS2ExT0hUVEpLbFdOYTQ2U1JKbnZvNllCbTVGNlo1Y09yS1hLeUNoRENFS0h3MUVLUG5YTUNzOEZZYW5TekswcWNXeDNvd0NIdm9KQkRDU0NsRXVpSXRXMTZCUmtRaXdUNHRXQTJiUHlvVEpqZTBmWDBuYzh6YlhkU3V0S25uUHpkMm8wOXpoNndYTWxpNkgxa1NzUEY2ZFBlT0tWY01pazlUR0dTMDMxWWw4Z21MQ1FBRW1JUXZuYnI1WXlhY0YwRnU3SEZWNmUyOVZzOFZuV1FJbWV0VGFnczNocVJ4SVBSN0hETWNLTkpuYkc4cllSMFFrdzlpVmdOTE5pUlFvNXhwc2xJcDA2am9TTjlZVEc1Y1FwbHhIRG9YelE4TTVGOHZBQU9wNjFzQWN1NG8zcnJLSzV2d0REVkZ0MUVFTmJMQURJbGYzdVBMUllwdDc4WmFNeFpzdzQxWE1JejVnQklLSjhOMmRyb01CMTdNSlo1Skd5dVVQNWZtNEdxbFp4aGRPT2VnNUVBYklNazNqOERod3M3MVpaQldqQU9VbWIxYk9DMVdVYVJLWEQ4MklLOHQ4QWxFVkdWanpXNzVyT2dOVExWSEJKRDljZXJiZ2RiNTBtc2IyeFNlWnZOVFYwVnpJSzQ1SHhPREFGSjhOYkNEYVZDS3MxU2JiR0pEWmpObnlYd1gzZVNEeXI0dmdxNU1HSkZXdXd0Q1NXNjVZRjhFSmlhQWM4MnE4QzNBMXF6ZzNHRzN3RnZTZG83NmZrQTJ5emQ1N0dsMGoyQlROcGVOWEgyempmbTM0WkVaSHpsdFJiejZCYVlEeUY5T204TjVCdzRnblFndDNQdm9uR1lDNzVESm5FZEZqSHp0MFZPM0VySEpIZTM1SUpCTTY4YkRFRmNscWN6bjg5bDZza2Y3OHpwcDhkVHZoY0x1TkFrQVZsWWc="
m_p: "9f5283DvMeuq8ZLNd2zhC4nvuz4932249b4B6292rxtCkUNwz8K96yj78tidMbd1"
e_t: "1614178124828"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299668
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:42,366-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:42,366-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "5c62f0a5fecf4349a97ab3c69d93b3e4"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "osjlDM33"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "zkpmVuTbLJygUKPtG3oXE7ifH9QZ2jAx"
}
sign: "aelGzEtO0TUiyGOndj2t4diz5RZE3npHosWWH58k68eLo+S7iR9oPsP8Fy+zVqynlaMtg+yuxpcJVwC1/2OO/GattNQo+eGQoJvSRGZOiRyK0JUi6935Hgapbnm/EOj24c1FTIuQEjepWIpHqgbvm2A4elTkJCc7UUSkHK3C4qBveE4idV/eA3k7txDTh1tO1EMZ6Efnp59a5Sj0JC+kfj612ksxj8kveO97U+rd6eCMVgQ4nRlmnpZPIBO29PitCfcLtfpO3NpDvc/fl3Bo7gmanoP6tHdE5jhBxxrDIUhd+o75366NR6AJLWdAojctFkkL4mZoM6UmDCqMiqKxQg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "5c62f0a5fecf4349a97ab3c69d93b3e4"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "osjlDM33"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "zkpmVuTbLJygUKPtG3oXE7ifH9QZ2jAx"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "fw+5lilcp51ZqiDGwN0pBt7ovmXqWkRkEeVQe6fQcPcvjGHkY7QeaF6erjcIwzvgef6Gjt/MmME5u4PFhFHPO9HUJgPxPQFfbjnkOf/HLOJYN0pa89nkvDhnsxC+oBP8BSkizQmD+Pu+9IFEuYVOV4Odmk4eBmp5qsegoVGJLjY="
  appKey: "1234"
  voucherId: 62299668
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:48:42,698-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"86cbeff9977f480a9d30e2c1e32fc94e\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164845153431f0f3e698360907e30000\",\"sign\":\"82AE9BEDA2EC85BC24159B1EF57BABF2\",\"timestamp\":\"1614070125\"}"
}
payrequestid: "KB202102231648442076075925478412"
model: ""

2021-02-23 16:48:42,699-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9206423496639163044246689071]]></transaction_id>
<nonce_str><![CDATA[QwNxbtKJo9lpdWVg6PmnzYiIX7cyMGR8]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[639F62C524E03087A4C0AA54CDDAFE01]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231648442076075925478412]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164842]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:48:42,790-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:48:42,791-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:48:42,798-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:42,798-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "92174145748504"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "KkGjQJOLSMcYuoA28DIiZ59sgNlERbfa"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:42,875-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d683f187ef334053bff0ceb73d99acd4"
s_p: "OXRWc1BsRThHWHFxSlpxZGl0R0cwRjA0ZkVydU1yQTlMTmcwU2VuNXlxeGVEWmZLU3ZaVEs1QVBJMEw5ampUMmtJdW5lR1pNdUt4bWZxa3U2OW5WdHR6YkVSUDFuQ1pMTFJ0YnZXUEZLZkUyVGs3ZnpsS0xQTDIyR0h4emN5UjhOZlZsTkhFTVpzank3VkRkWExBUnNENEIxUXZxZUprdWk3ZXN5eEdwVUx4ZXBKb3dWbUt6czdFeDlyMERxM0FTdGpic2hpR1dHM1dQMlFhaWdOaXM4THlMZ05jRVF1WjZKVTREYUdQdFhxenFPQWR0S25VWUxEVE5RVFQyRXVWbFJvR2hCRHh1RzN2UlBXN1BMVHFXUGozWjRpSVEyREJLWXFvVnJKbjRDWTZzbWs1TUdNYXBTM0MyaXBXTklSZUpZS0g1eU9ERHo2M3RGdlJ3eHg0bjZuV0RnVHo0QlZ5U0ZIczFKZVpVNmg0TFV0NjRNZUtRRFg0akJNZTJHN3pjZ2t0NVN4Z291NkFkVEd4Z0I4akdlcFFpMGQ3dWhDRWtPczV0NVF2ZkptT2hiYm5Wd1BmT0pUYVd5bVN6dWFUa1FVNFprZ1F6SzJUZ00wbllmNDB3bWx0RU9XSUtUWU9KT3BnQWx4dzUwSG44Z01ERFltbUFzd2V5NHQzNUk2cUI1d09PZGtrY2ZJWnBFYUtFVGRXT0pTVDVsRUFGU2dwaHVHNDkyVERDNktEMG1PcHVnWW9BdDBJTUUxMmVLU0s2bllUVWJ2SzRBY2xsaDhVS2x6bGtmOVo1SmJlNE9Hdnl0UFV6TVdDUjZMMURKZ1dnZ091bGVWbEhtY0xrVUNsRTVTM2VaVmJwZVVSbXVtUk5Na2t4OXRkczBaUjBzMHhDV3lZdFZRWUM1TXNvV01PWUJrUWswVXZiVEpqVGVlZllPSVFVV1g1OUtGR2MzdWJkTFhZR2lBeFNQVmowMVFjem04WGppYUtIWFlqZHdBQUpMbzc4WGRQUVllNVo1V29vWTdSNWJwajZMM0JYUTJBcUNDbDUwTEMyeTlYVW1VeDc="
m_p: "5971s3638HnSMUCLh5Be46GDpipWYPgA5tB22nDG28X57FAbnIQ33R49au1d3Z1t"
e_t: "1614178125356"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:42,878-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:42,878-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "d683f187ef334053bff0ceb73d99acd4"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "esyxGpUL"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231648442076075925478412"
version: "260"
queryType: "PAY"

2021-02-23 16:48:42,926-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:48:43,927-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:43,927-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:43,930-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:43,931-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648442076075925478412"
2021-02-23 16:48:43,935-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 14999, 'pay_req_id': 'KB202102231648442076075925478412', 'notify_id': '9206423496639163044246689071', 'partner_order': 'zkpmVuTbLJygUKPtG3oXE7ifH9QZ2jAx', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 45), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 42), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 45), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299668","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299668', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:48:43,935-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:48:43,936-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648442076075925478412"
2021-02-23 16:48:43,939-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7685, 'pay_req_id': 'KB202102231648442076075925478412', 'partner_order': 'zkpmVuTbLJygUKPtG3oXE7ifH9QZ2jAx', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 45), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 45), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 44)}
2021-02-23 16:48:43,940-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:48:43,940-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231648442076075925478412"
2021-02-23 16:48:43,943-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:48:43,943-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:48:43,943-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:48:43,944-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "zkpmVuTbLJygUKPtG3oXE7ifH9QZ2jAx"
2021-02-23 16:48:43,947-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 148, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_zkpmVuTbLJygUKPtG3oXE7ifH9QZ2jAx', 'partnerOrder': 'zkpmVuTbLJygUKPtG3oXE7ifH9QZ2jAx', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 48, 45), 'updateTime': datetime.datetime(2021, 2, 23, 16, 48, 45)}
2021-02-23 16:48:43,947-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:48:43,947-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:43,948-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:43,951-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:43,965-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '40084902141177739393706667754860', 'bizNo': 'pyjPb9iKo3QhEWklcMuNH2ZUArw5CdaD', 'operateType': 'PRESENT', 'requestId': '20993865185830646999617944960076', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070123962})
2021-02-23 16:48:43,994-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:44,007-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070124004', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:48:44,025-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299669'}], 'vouIdList': None, 'batchId': 'ff080113024f44c692d41aaf88965f70'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:44,039-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'ff080113024f44c692d41aaf88965f70', 'batchOperateType': 'PASS'})
2021-02-23 16:48:49,079-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:49,087-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:49,087-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "92946633172331"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "aloRr9XuqJFgSwbOWt1zAQNnGBMcVx2U"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:49,175-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "782e641f23964c9f87f11b631eb6c9eb"
s_p: "MlZhVGdxRnA0bG9jM1p6R3dhbmxoaW91cDlKZ1hjNVhWT1ZZU09WOHo0V1FZTjRlZnJKOFh5VGdjMk1SdWd5dTJVb0RCRzZTcXd5Y3RBdGFEOWExQXM4VUI3bko2dFNWWksxWmRkMnlrV0Vua3BucFEyYTk2cHk1Z2RQU21lZ3VIaFNITWxwcjFxV0FsVDlIRXJuQjVsUUFGRjV4TEIyZEZBZnhzWXdoRGRnRFhVTG1CUU9JSFNndlVLbXFnOGo2dFlQUGtjN0pQamxjdFI1REtZN3pKeWZiVmY2OWxlZVBvRzBVYnU5cENkOUVZRVVWSTZFVTByakZDTlhwQ1ZNdnY5NHRha3h6dFBwdkVVR2lod0xMWWxiZmtmMTJLOE1pRzByNFRCaGd6d1FwamxVZ3VOVVZFYXBIUlZRUkVDczNZY2JqMHJrTkFMaExSYTVzN0hSZkxRNzhqVDhwYzNyejZodG1mV3pkUDV4T1NqQUR6VE5kYXI4MWZhVnNyZDJjbkVaNGdoVFFwcHFPTGNWVXAweVRETml1eUlrQVdTNlpvNUZzd0VuRWFvalZydjNUY3Z3Wkt3aVcwdzloRzRpV3BWdEdleW8weVpRSEV3T2tLeDQwYml3VTZIT2FsMUoxQUtMQWtiUjU0ZDlsODlFQ1d4bDFsRENnVGw1VDNqWmtFTHh5b1R1SzBkcGFkNnpBN0F6YVNYTk1VcHMxazJOTEFHY1ZHSWFOc2tQOGJmWXB0R1pMMDlYQjl4UUR6S0ljTmRvMjRmYWNFcEZ1N2s3UHpFN25Jak55aE9oUVNHTlU0UjVwZm9Pb0lBY0VGTWVlQ2l2b3E4bmpGdFg5cEoxcWRQMEFub0pnSUVxSWRYbWhSRjR1R3BVNVJ6NEpUUFNacU1jeUs0dFFTaklQT0NTZ1NaWXhGNk5uRXRZZ0dCTDVvWlBzZE82a3k0ZVJDdnc4QnRFSjVFOGhOdWs2aTA3TTVibU9PZk5KMExqTGdscFlSWlBTbVV3UmlsSVFaMlUyNUpOaUR5dFlTUEFEd1VzQWF3elM5ME1ZNHJFMWs2RFc="
m_p: "aMAAEkcT347Ebi9Qwy536Hwv0qOd7uTG0fGna42DFry14wGu3AcMWABuuXcbBzfk"
e_t: "1614178131652"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299669
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:49,197-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:49,197-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "782e641f23964c9f87f11b631eb6c9eb"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "BG6Sqwyc"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "HQoevzx8gOLMa7RBhuIG5Vf4jCT0SPZp"
}
sign: "TOqploC0aS4XB9VA/x5+8+KR625ueKE9H9KEvavZZEfDbvmOxeXZ19RkqVtOi4ws3YQfcm0i4yWQ9fUU0GFs6QWRpJtPdnRYhbK0/JSVbaRXesxE5waD2bR7zi4g8RRb6+FEPY7D9tx/0JwS03Z0+Ev0isw+iYi7nCXqOoPcMGLV9e5zF8xVpjwkNvMdapC/ZTrdayuE5aKA4qMn9CL/qQuEw/yrS3RcfTtaAgyWUSWyNcuratfVJZdCu2hrDItP5qk2cDU32iAI3Ai2t+MN+4mi2Xn75pNPyjP9laKg6a0vJXxaSfWJJ8DJKhJ54L0b+7PadpMl652F7zKMIFee5A=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "782e641f23964c9f87f11b631eb6c9eb"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "BG6Sqwyc"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "HQoevzx8gOLMa7RBhuIG5Vf4jCT0SPZp"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "QL7N8dd3DUWulm56Dy9QUELFZ/YOeRyPelYJxf1tTOLVUt6/jarGkGBSu8EXhY95yg1IDMMz9dZtdjAiwgqDwBORhBapQsRuBwJSgg3Uw37i189JKZJvz8JlItR2qgxQkylxW+GCKW64VMVLlfionYcUXVYkRNiuNgW2CLKMSu4="
  appKey: "1234"
  voucherId: 62299669
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:48:49,595-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"906e28f83ed94aa1a6a5a2f82096aac5\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231648520512247603b37a7f3d71b60000\",\"sign\":\"125008DDC2BE3AC34FE14E5BFAD9B693\",\"timestamp\":\"1614070132\"}"
}
payrequestid: "KB202102231648512076075925480282"
model: ""

2021-02-23 16:48:49,595-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4478392650083894042769979154]]></transaction_id>
<nonce_str><![CDATA[StopfqbLkRXDrjUGca1w7ImPYBTJNinH]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[77C2842473AB15994E1C3815670FB1C8]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231648512076075925480282]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164849]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:48:49,699-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:48:49,699-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:48:49,709-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:49,709-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "47889493132514"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "GqpRTP4d7gYiXOVWCKzMryBSQkeuEclj"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:49,807-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d581281e1f5a4fe88eaac3a36c91b9cf"
s_p: "QjBTMzZIRWp6NnNrT3Q0MUVPNURJUnpxOHphZGxyQ2tuZGJSc1pLWWRpUW1DUnR0VzdrakJnVThaSjJ0QkJYUGxkRXlSNjdVdTV6cFV5TWZGRmRnVlptQzlXc2N5UWF5eFlTZGNRT3dFSFIwSWF5cFB4dzBaY3BiU2FQcFRsbnhaSjZxOEZoV3Z5dVMxa2x2WFVkT2RSWlg4dnl5UGdxdVQ3MlJZTmhnNXM2bW5hdHVzeENVZU9jVXJkakxodHhXUDkwZkxBTUVBcVBJQkFIaUNqUzRLWmdUVWo3azg2Z0pqQ2RQVUwwaUtqTUtmMldwM0dCZDAybEdmTklyWlJFeHh6YTBPeFE3d3R3NGFRSWhJZEN1WDRiaDljT3VXeHR4clowNzJRdDBpUTdiVG5mR2lEZWNxejdLd1ZycG1XaGhYc0RHSHpkaGg1WlBiRE5UZm54Y0hUQksxM2hKcDAxSEF6aDFkSG9zdHlNMjNxelBpazF5WW9aakVIMHIyQmc4YXpESmh5TDdOVXdMcW91MmdzcFlJd2VoQUpUTU5wMktVaDc1cExXa0xBaGJYaFlLUmdVN2lzdnIwQTNRcGtkTk04YW1xRjEyeThTbHRncG5rZmFyUEFTTDBSN1FRN3ZqWmtON3llRFdsbFZRVHRxeDlrbU1BS05FVzlGQmhDN01Ia2d3SWlaeTBZaG9vcW10WVdMSzEwUWF1MFJrR1hVVGxuVUdiem55cHlGS2ZWMXhleEJHd3QybmFINEpZRWNGSWFoQ3FUdmtJWXhBU3dSelR3T2xtREVEUWdrR1lwYnlFUTR5eTdFV0J1c2h3UXlnaW9wdUR6a1NrdG1KZjVZRU5iRlpJcHFkN2JyaWpoSmdUSTNYa0VZNWNRVEQ4YTNmSkN2TTk3OWJMdlFYSWlsZVU3dWxycUpyR1BKdzBtR2prV0o1Y1ZrS2hjcFV2eTRJalhGVGZKUVlMWGpTU1ZwYmNJNXI4T21MNEpEaDV3a2lvbjdyb1VGRmdZRnVSVk9DSmhLQkFldFczdnI2aUJxWElHV0NoRmNiZGJlaGFsN3Q="
m_p: "B8cSL2p6Pk16GMx3H48dYS1QhhhyXF8l30B4WoqE119r83dL7u5ALi6YrkiG776u"
e_t: "1614178132287"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:49,813-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:49,813-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "d581281e1f5a4fe88eaac3a36c91b9cf"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "mC9WscyQ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231648512076075925480282"
version: "260"
queryType: "PAY"

2021-02-23 16:48:49,861-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:48:50,861-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:50,861-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:50,864-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:50,865-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648512076075925480282"
2021-02-23 16:48:50,869-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15000, 'pay_req_id': 'KB202102231648512076075925480282', 'notify_id': '4478392650083894042769979154', 'partner_order': 'HQoevzx8gOLMa7RBhuIG5Vf4jCT0SPZp', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 52), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 49), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 52), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299669","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299669', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:48:50,869-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:48:50,870-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648512076075925480282"
2021-02-23 16:48:50,874-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7686, 'pay_req_id': 'KB202102231648512076075925480282', 'partner_order': 'HQoevzx8gOLMa7RBhuIG5Vf4jCT0SPZp', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 52), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 52), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 51)}
2021-02-23 16:48:50,874-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:48:50,875-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231648512076075925480282"
2021-02-23 16:48:50,878-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:48:50,878-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:48:50,878-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:48:50,878-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "HQoevzx8gOLMa7RBhuIG5Vf4jCT0SPZp"
2021-02-23 16:48:50,882-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 149, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_HQoevzx8gOLMa7RBhuIG5Vf4jCT0SPZp', 'partnerOrder': 'HQoevzx8gOLMa7RBhuIG5Vf4jCT0SPZp', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 48, 52), 'updateTime': datetime.datetime(2021, 2, 23, 16, 48, 52)}
2021-02-23 16:48:50,882-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:48:50,882-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:50,883-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:50,885-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:50,899-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '44319950044815871551322053259696', 'bizNo': '8kuf9ClebJqYcx4aTLgwASPszr5IyWZh', 'operateType': 'PRESENT', 'requestId': '09209459426830522570498590115923', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070130897})
2021-02-23 16:48:50,927-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:50,940-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070130938', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:48:50,958-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299670'}], 'vouIdList': None, 'batchId': '55048b49ffa2445388acf812a9531cc4'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:50,971-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '55048b49ffa2445388acf812a9531cc4', 'batchOperateType': 'PASS'})
2021-02-23 16:48:56,001-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:56,008-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:56,009-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "91143881866211"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "2XfIhZgFYSadTvktMpiN5xRVe0DoqHPj"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:56,096-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e56f19acf70c47b1953e269c731667c4"
s_p: "WHhMWTlJSkpreWlrS3RmdllTeDNCWUQ1VFZXSGJ4c0ZSY2ZWdndKV056a29RMHhHNFhMTjE4ck1wQlFLUmZqWnpqN0RCdDFBY3ZqbEwwZ2pLU2p1VGZHV0dabXhWNzVKZHMyR25sWGNDcWNod2FDWlFWUk5IUzJvNk9xTVFVWUU4VmJheVAzNzlUZUV6MFpJbXRhdzdaUXRRVVFqSldHcDVYeFlNRW50WVNtSzlvWGRDdzRoWGdYS1lhdm1vbkZVVTNud3dxWlJHR3A5YVl0NnJoczBpR00wdFdWanJ3ZDZPT09FeVZMdVA2V2tNZXJKSTNRUjV6NkhXaHZlbzlNazJXTmw2Zm5ueFg4MFF2SThhTGpiYjRkV0FRYTJLWURsZUkxZ251RE5sOGpCVkFzZUhmNHR4VEpDVXFOTlVUZ09hRmRaMDFYU2FqcE1mZFdyclFldFRHTWxhd1ozYXRnZ2RMenJMc2NockdkSTBnd0lVSmZ3RnZIczA0SkdPZzlNYkZlV2F0SWprRW5KVFBoc29RQlRvV2ZMMGw4V05zczhOSWlka05DTWp6ZG9PT1FlTmtaZ21tdW5SbWhzVTRGdnlJRWlYa2l6UGJEaUxJenNNQTRleFZSZUI1N1N2Q0dDa3dnOGNIcE9ObWMzYkFudlNXdWU4RTIwM2V0dW96WkdvTHA4VWd6U1B4WVo3d3g0Zk5uODlaMXF2TTRhQk5zRVVWc1NPajdMZmZkaTcyZFd6eXVrd1U5UTZweHBkY0RhYnhpMEVhb3hkcHdzTjg5UWJObUV3YTh2cGxMMWZjVzNjbUlOUUZ5YmgxQ3c0aVJYRXJzQ3c5VDNzMFNwN2w3Y0pUYlVNRkw1MWNPQ25SOWFsYmNMNTNRQWdEUE1EWUdjZWltcHdMeHV3RnJXbFQ0bEdJVlJzb0JaSDN1M3VDRHUwSkF0cjFjZXhXZW83UTNqbGlUQWcxa1VPTm1qM1ZpVVVFeTMzWU1Db0cyRFVaUWhSYTQyVW12VWpwUGlVMWExSTRkalJUYnZqRVd0eU1jUkRsMXFObDViNk9PcHZzVEk="
m_p: "955a3ExeoQ6lC7O0R5un41hf7n8PPssE4D4yBFs4uIHJox5NuRpYa99OhZF6k3Ia"
e_t: "1614178138569"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299670
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:56,125-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:56,125-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "e56f19acf70c47b1953e269c731667c4"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "XcCqchwa"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "SrhiaY1oPQyZ8BUA4gbDEqpmGClwRnN9"
}
sign: "sJ92dOUCsJ8h0vxZFSkXWa8AN89QWQkiak7wY+emtbTtITDpBt+/GsCbKwoZxPJFuVlFEBfIAsW2fUkvm8ZCn2VBXgnEGF0vnSUaLLhb8H+kRTaoHFiv88Iy0IbZDk9wXyk1+GF5vSLV2x/z3e39dkblOcK7gWzg2wBNXqUWy8WCVnQdfLNNbVvfNVIzKNSNRZLzk3H9mHAiieRUDQ60aK8LdZfT1AEojgYsan/sls+x5SYRD9Jb4iGpfguFD6CGYUgkD46QUWbF1ae9FzqSxow4OHgXBd0h5B/wpnIxk9kOR23pRliIGS+DCJhWA0JuRwfXJclBiYMI+EceU0eq9Q=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "e56f19acf70c47b1953e269c731667c4"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "XcCqchwa"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "SrhiaY1oPQyZ8BUA4gbDEqpmGClwRnN9"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "WUwJbrhf1U9tCoyhgefBUfZ9Kh+PYhCL8qrD4RUyjDCUwiPXCtfFagEbe0N2jFs/1goicbDuOQkUxg4OTncRmwDrIOUwDsslMBFaj33/2v4TLXLVxPB4qXWKL9pGpIpwjQOzb04efExyr3856BnbAOa9mkwkPxcehkflBa9rsv4="
  appKey: "1234"
  voucherId: 62299670
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:48:56,510-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"509a6376badf443fa256b066eaf1bb4f\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164858955868ea0f00366c7c536b0000\",\"sign\":\"D62582DAF5949A1754343DDD8A7D1AAD\",\"timestamp\":\"1614070139\"}"
}
payrequestid: "KB202102231648582076075925223402"
model: ""

2021-02-23 16:48:56,510-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9735742609661157705526863059]]></transaction_id>
<nonce_str><![CDATA[imcgfzxwVHrbLloMYdsUXjF7912WQC6q]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[893EEF22F8478FBA3F6CD487CE77A2C3]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231648582076075925223402]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164856]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:48:56,611-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:48:56,611-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:48:56,619-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:56,619-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "07727230511367"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "riyCPh04nwIf8JU57pqFcsKBMHGRuDx2"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:48:56,707-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8a45457d30a0443f9b14e744004d1cb4"
s_p: "MExSUkpxZm9WZVd1bTZmWGkxWW9ORHBHY2lPYTRVeDdaREVnQURXVVJoUzdGQTUwZ0JkTFlOdWtUNHNTVXdBVUFkbFg5dUJMNDFEbTM0SjhDaTZPNTBMMTNmbVd5MDU2cnVZcWxETnpmSkJTY05IbWpiZ1dJT3dsYmN5VDB1QWRGNmU1SnNyR3RtRmp1ekVCVU42anZqakpqSnAweW5HV0pyblREQ3NMeElYZEwwZ2RmR21iN1R5a1RxWjFBSjREckFVeFE3VUhOMERPclhTUXZVdmkxN05pQTgwY2oxTUx4TXAzM2NZdEJPTGdWSzJoVnFyTGN1MXRGSVlWdkRodmxFS2JKOWx4ODUzVzJvVDMxRmVqUEFTbTVydEp1MlhiMWVOc093SVhETkFhNHE4VnFBVU9WdU5DaldNVUxCYzFObmp5WXdxNmJ6S1JWWTVMamd3NHg0MVlUTUprWUtaRTlsa3dKSmYxVDNOVHBqaFZ2UGNpaXlQc0VzSWRRaDdObUVOQUtZeXl4NlBXNkk1QVlQZ3JyQjBpQmU1TFRHU1V6REljaEVtMUFFY2xmTlNCWWRHbjQ1YUZFNnRPdkxzNDA4eG5ZVk1HVlFCQ1cybHlVc2swM1pjRVVUVXhNOHhDd2xaU2lLdERNaHd1S1diNEJwRjIzZjdKUGh2Mnc5VVlMQjZ2Tnd4QWVNMTBkZzF0ZXFoS2FIQUFTNVZUOEtlczBUVUsxcmRrMnlxMHAyTkZTWUtGSDF5bzJwTUxOckRqbzRmYUJWNndlZTNBQndjdXRIcVJFdkNvMTBxVWJ4RGlieFZkTG9oeUpQSzBxVXpVRVl0aXRaQWJiQVNFTXBTM0VTc1NMNlRVV3NETmpaNjdTTFhYMlZETjRxMFhNMTVEYTFXRnFxeVo5UUpYUlBvbmZaM09mWkFhR3oyTjdjUlR3aHFtNG5oWTdKRXQ1MTFvMnRuRFprZlBCTWl5S0VRalZNSW1qaG1XdFlZNGViSDBDNnZ5aDhpOUFOVXl2dUc5TlVjQmZMdjVaemM1dDBJOFZ4bFI3VW8yN3FjY3J1NHc="
m_p: "9q7fFa9WQLG7P7PK6DdknK1iJ8rMprUS3T53Z2DHwtXn3019CL2Dey45q576leF3"
e_t: "1614178139180"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:48:56,710-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:48:56,710-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "8a45457d30a0443f9b14e744004d1cb4"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "BScNHmjb"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231648582076075925223402"
version: "260"
queryType: "PAY"

2021-02-23 16:48:56,896-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:48:57,897-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:57,897-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:57,901-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:57,901-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648582076075925223402"
2021-02-23 16:48:57,905-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15001, 'pay_req_id': 'KB202102231648582076075925223402', 'notify_id': '9735742609661157705526863059', 'partner_order': 'SrhiaY1oPQyZ8BUA4gbDEqpmGClwRnN9', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 59), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 56), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 59), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299670","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299670', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:48:57,905-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:48:57,906-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231648582076075925223402"
2021-02-23 16:48:57,910-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7687, 'pay_req_id': 'KB202102231648582076075925223402', 'partner_order': 'SrhiaY1oPQyZ8BUA4gbDEqpmGClwRnN9', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 48, 59), 'success_time': datetime.datetime(2021, 2, 23, 16, 48, 59), 'modify_time': datetime.datetime(2021, 2, 23, 16, 48, 58)}
2021-02-23 16:48:57,910-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:48:57,911-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231648582076075925223402"
2021-02-23 16:48:57,914-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:48:57,914-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:48:57,914-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:48:57,914-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "SrhiaY1oPQyZ8BUA4gbDEqpmGClwRnN9"
2021-02-23 16:48:57,918-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 150, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_SrhiaY1oPQyZ8BUA4gbDEqpmGClwRnN9', 'partnerOrder': 'SrhiaY1oPQyZ8BUA4gbDEqpmGClwRnN9', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 48, 59), 'updateTime': datetime.datetime(2021, 2, 23, 16, 48, 59)}
2021-02-23 16:48:57,918-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:48:57,918-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:48:57,919-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:48:57,921-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:48:57,935-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '85856080593239598077123433917821', 'bizNo': '5vtMCAnrksaBZ1x7wm46STVKJ0p23lIU', 'operateType': 'PRESENT', 'requestId': '67665868081610415410263295258839', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070137933})
2021-02-23 16:48:57,961-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:57,975-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070137973', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:48:57,993-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299671'}], 'vouIdList': None, 'batchId': 'a8009cd221b248e99692f7afedb81b39'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:48:58,007-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'a8009cd221b248e99692f7afedb81b39', 'batchOperateType': 'PASS'})
2021-02-23 16:49:03,046-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:03,054-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:03,054-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "33018443945631"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "LAIpbE5SfhsqYC9wQyrdN6TmXOz8R3ia"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:03,133-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "7dffdc5bd35747b8b3319ebb7cedbb91"
s_p: "RXg1bU1nWEZyNzhOMU9rUHV3V1VYYVJ3VEtHcWxwbUtvMndDeWUyc3YzWURMNVJucmVWN1JZR1dXYUNUYUxoOWRuVTkwUWNhNDVpNkF1eHlWeTJLRllJaUpQVWswc3NUZlJXbndOdFVwdEZwZXg3dVBSbVJRYlhza3B1VVA1UHNBejFhdVBPa3ZsRHRmYVptZ0xrak01dWE3VElScnpiODZoRG44UDc4aWxWUlBDamw5dHRyRkVCdzdTYlRNa1k5RVdSOUdualBna2V2T2JEYWNwNlJpcjA0STZmalc3OGx0dzQ3WVF0NXpZYUQybmpRSms4aklLMW1EWTNFck9XRVFhZGhPSmU0eXNXNXZsSDlDcVZDd29xb0NQb2JrUzIyMkliSDRMZmpwOGI3ZEEycjJaNm5wMWFhUFhhTzVWVU94SHA0T1ZxNUNscUhWbTRVeWpFNk5rY3JSZEExTUM2TXpGN05LQllLb05NVWhueHNQS0RhZVJNeGVCUlpVWkdZTVN1Y0VyUlFWemtnWEMxVVg2ekRSdDI4WXpVUnFabXBva25uSWlSY3hDRkthMWFHVkpkejV6NnI5WGtleWdVM2ZoNUhlY3FBT3VaMWxvVGE4OVZXWlVmWlZJcUNEeGplTDVUajlUUkt0OERwMGU2OVl1R0tHbkxlbHdEdFVaZFNsbWJoWlNxdGt0NEpNVm5nOXN0ZGVaMW9zVU5RazlXeFJFR0VxUFR5VjcyOVF3NGp4VHVaSTNUYUZ1WkM2MldYSm1mNWpyRXhqY0cxZDdIeXdWeWlOTXYyNHQ4SnlDUHRNMnh5RElCOHNWb2hFUmxjSDJwZ3h4eVM5cGF4Q3pNZFhmQnhFT3hTS3BHZHBrc3htaGZhRlpGRmNuNHBwdXhSSEZaaFA2N2htaWRSc0ZVaHFFZEtRTnFlblprc1E1U2drbjZ4bFdEMmtHYWdJZGpEeEFPREkxdzdBamNxMmF0R0oxRnQ3RTRXU3hqVElMOVV0RElHWWV4QU5kUEdPdWdMbE9YUXMzZk1qS2VKOWc1ODk0Z2xQaU13VlB5dDZqeW0="
m_p: "z8J169go4veT2qZ3EXX8ofPTF3wDCWuj900n5gy8p3A8BV78467jy4367zP3N09t"
e_t: "1614178145616"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299671
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:03,160-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:03,160-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "7dffdc5bd35747b8b3319ebb7cedbb91"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "kpuUP5Ps"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "FYI2tjDPJOCWxKfNM8kzBwVuqceT1AgL"
}
sign: "wttrjxzYOZ1BcFpNKakP5tqQvSfaz5hLqV/LSR0VudXhdPfx70lNjWO3r84yhTwvPl0NNAzhDHMjyzoReZxHYhi6gX7YHlk3Gw9bS0o/VcyCivmW6/6JaAU5BaniN/BipVHYlWoHNf3y6sbc0HvU/YUzCbqsJiIAvDQLFUa+fd7fZEoxHTNQ153Kr50WtRMrGn4mdVK2/6d86w0+qejTg4z1Z7V1cxnWpXnbApYECyqSiHj9X9qdkBaBcnq/tqgyv9IK0rXXrZ+uLFIKqPhZ9qqCZs9959dssHA9FuBWAycXrKJZdKoTYUZO/PL0KcHfwgkLuoY5gR0fxYU7OtE5vA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "7dffdc5bd35747b8b3319ebb7cedbb91"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "kpuUP5Ps"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "FYI2tjDPJOCWxKfNM8kzBwVuqceT1AgL"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "EiYfjs92lO6C0JCnzYBW/nmX1gWCya1pimy57SgGzcFSpDfN+S6pL2AeefAwibj+dgWPoWyH91zu4m8ELutU50bgbFmKm0C/vbsy/E/fIVUhrhCE7iL/d+02EG2Cx7R/cs8Jy6fKlmcUEhBA7IBfoNt2rOgnI06s6xV4oilsCaM="
  appKey: "1234"
  voucherId: 62299671
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:49:03,598-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"7da63a172769455e9b07e25525e01ea3\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164906055008d8e3209c25f2d3ea0000\",\"sign\":\"AB8C632A60F065E17FB65A91B97A9985\",\"timestamp\":\"1614070146\"}"
}
payrequestid: "KB202102231649052076075925222202"
model: ""

2021-02-23 16:49:03,599-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9334068232581486642327161453]]></transaction_id>
<nonce_str><![CDATA[vzucnA25pJVM0jOUgFmXrtDLTdQq9oRk]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[EAD4B8C61D1E46EF5DC99914D86D64E8]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231649052076075925222202]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164903]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:49:03,738-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:49:03,738-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:49:03,745-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:03,746-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "01848961378728"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "9gzWIDlUuAjpR1JrwKktcOEZfqha6Yy0"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:03,822-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "248aa849cc854991801088acc0c2246a"
s_p: "VWVuSm9UZ2h6VTJSZVU1M0RJc0xVSGhVcDR1Vk9LZkFqR2RpUlVzeUlBaGhxMVdLb3dFQjl4WjVla0JnMlNFMmdKS3hXbXFpZ2l6QjJITnoxNFpCUG82dHVMRXZYVlFLeFRxMnhMMjRSanB5NHRzQktQeWw3d0dHVXJBZTU4QWxyaDBSOFE0NlZWM0g4YlFhcVAydzNERFdsdUJVUXRTM2E5ZkxDeFdLZTRNdVlWTndWajRjTElacTFtZEpkZkltb2JDeG9OQ3BheXAzRThQc2Z5SjJRQkNZYmJkVERyV2pUcmdtOGtjcE5scFZvY2FDQ2lOaGJhSmVpZjNzM2VIcHQ0Mm96SlZxRnZYbjV0WnV0R2RUSVN5cllvS3V3WjVRUjJWRG1mTktwcUJ4YlFrUmVUU2Z3NVZ3NzBqbjBkYktNNmpPU3BtalptNEFjekhpZE5jOThReUhKSDBUdUxMR2g0UHFNOHE5MXFoajFIb2QxS016MWZkeW9uR2lEY0ZZY3RXWE1xUjF3V1RLdk9aYW1iQTNvbGhHUmM3U254cW9EWjZwZVZhckRkM3ZPeTdDaXJJdFRNd0ZDMXowak50SnVaVUxKZXJuVkJuWGxJalRFc2p0V0Y4Rkl1ZHk2ZGFHSmxpS3czQzRVWmNYZGN4eTh1OElRbFZkM1FFZGtmMEZTaGFFZThMNkRIdEpoTUdlR0x0bHl4TlV0aHlZdzJuT3haNXk0ZzZ6SEdsZUlOanlicXdSZGVCZzdVbXJSUWtRbEw2ZG1EY0NBakhzbzI0TEZaWENlTlgxbG5Ob1RVYkJFa05OU3FmNDc2eXV6YllpS2hyeWozdjZoY1djRm1YV1VndzliWlZ5cGtTaGdFUzJQYVJiWExqWFB4RXdlakZud1dGeFAxUW5ER1NoaE8yRThkTnFUdURuM09HQnk3SGd3Qnh6SWVrM0h3OVpPTk9ERHV6bVpzTFBzUHc5dzB6RUl0Rjk4alFTRGNOTmpCczlibnBTM2tkNmR1alF4SmF5SEU5ejI5TUt5YWFwRE5ZVlVhS2RhcTBEQWZRM2ZyZGU="
m_p: "j8Gyyq1mBP1VNTyahncVXZ4qXT8R36v6i35xYJ8U3MF2M9bS5tn1Oid5Je2MNh2f"
e_t: "1614178146303"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:03,824-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:03,824-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "248aa849cc854991801088acc0c2246a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "24Rjpy4t"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231649052076075925222202"
version: "260"
queryType: "PAY"

2021-02-23 16:49:03,866-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:49:04,867-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:04,867-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:04,870-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:04,871-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649052076075925222202"
2021-02-23 16:49:04,875-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15002, 'pay_req_id': 'KB202102231649052076075925222202', 'notify_id': '9334068232581486642327161453', 'partner_order': 'FYI2tjDPJOCWxKfNM8kzBwVuqceT1AgL', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 6), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 3), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 6), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299671","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299671', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:49:04,875-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:49:04,876-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649052076075925222202"
2021-02-23 16:49:04,880-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7688, 'pay_req_id': 'KB202102231649052076075925222202', 'partner_order': 'FYI2tjDPJOCWxKfNM8kzBwVuqceT1AgL', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 6), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 6), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 5)}
2021-02-23 16:49:04,880-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:49:04,880-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231649052076075925222202"
2021-02-23 16:49:04,883-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:49:04,883-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:49:04,883-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:49:04,884-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "FYI2tjDPJOCWxKfNM8kzBwVuqceT1AgL"
2021-02-23 16:49:04,887-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 151, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_FYI2tjDPJOCWxKfNM8kzBwVuqceT1AgL', 'partnerOrder': 'FYI2tjDPJOCWxKfNM8kzBwVuqceT1AgL', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 49, 6), 'updateTime': datetime.datetime(2021, 2, 23, 16, 49, 6)}
2021-02-23 16:49:04,887-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:49:04,888-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:04,888-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:04,891-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:04,904-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '09204041822376921730165412352343', 'bizNo': 'Q51bLWYOFhV3nRol7H9XyDAe642aTZif', 'operateType': 'PRESENT', 'requestId': '41534459133612497247799323972653', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070144901})
2021-02-23 16:49:04,930-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:04,943-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070144940', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:49:04,960-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299672'}], 'vouIdList': None, 'batchId': '42471ec3faf14bb1aeec6464b3b6e4c2'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:04,975-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '42471ec3faf14bb1aeec6464b3b6e4c2', 'batchOperateType': 'PASS'})
2021-02-23 16:49:10,015-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:10,023-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:10,023-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "62299901524695"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "IowOpDeA087kUWCPuBzmKvlGfHtijLgF"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:10,115-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8ce3059653cd4904b21e89b9a23580c3"
s_p: "emxTUjFjY2huSEhYOW9xNVhVNmFsUWFoek9IcDcyd2dVTDFLaExOVEZlZ2hxRU56OG5JVEtwTzREWDVCZXBlMWpPZWMwOFhUQ1JMcHZOVklxMk05VEtmU1pQcXE3NUdiOEk4TTJ0cVRYdk9pTUQ5cURaYVpJM3J0elN3UlpqdnE1RDdpZkpNZm42SVA1TTFiN2YwT1NsS0pkZjc3MG80T1NNM0lGVVZXSjE2MFl2ZFRjR2p1WURadnhZNFF3THkxZUxtNG1QWVdlNEg3djljWkw5QmU0bWdNSFdMQWtLbDBFMVJPazRQRGpNcXZ3d2VncndqamxUa204cDVPQmFLeUg4aVd2bTBJNTdGbURzY0MzT21YZTI3WnJmanhHcWhKN25HRXUzOVlSeGpYTzBZbEoxbVVidm4yOE1Sd0NwWDBzQVNVbGtVRml1alp0UnFWUHU0Wm5USkh2aXVOUDlsTHF0QnFzNG5GZWVweTJ3YUoxUWp0MTFUaUNUNTBjWUp5RUc0ajRRVmx0WmtWcWxyQzJSdUVjODVFMHhSNm5ySVVFTkFENnRLbGNEODJMWGpxdjFpVUxrTG1GYXR5ejkxSkNTcGxIdXd1OXlVOFJVVjdyNFc2RVN0MDNJOGl4VGFpSlpFWVJzVmtON1FwaDlDME91VHRaVzlrVE1SVlpNSlVoYU1hUld0dFFreHVTcXp5NmxSTlZUbnpoSUdGZllNNGd0dHJXQkh1NlNvRzBDOHRqeHJmajdjdHpEOEtyWlZiUXlJYXdNakVwTlROZWtJNXlLT2VHeFF5cFRzcXpVbDg0ZFpHTzQ1bDljdDhUQmoxSEtwY3BDWDVRMzBseDhTN0pnQXMzSDNuQnhmVklQeHJTaXI5aVRXZmFQVkgzVXFvcVJtRVZDeHo0ZElMQWV5cFNrbW9UN3NnZGd0RFJvVGZETmN3TEQ0SE9GVnl4cWdJZjNiT0Y3cmVnVEF1SERtMDU4ZXJLN0V0ekJLTXI3cDFUYlJtSE0waWhpSm5iNExqNWpJcWlFbldiWVVOZmlXb0ZSRHE4ZFB5WHNqYTlRSzQ="
m_p: "t8RNRV019tMYdglVi3fG6KZvaE0l0AG1jewj3gVt25NWyKlOoRIW3KG7zmHiO6MS"
e_t: "1614178152585"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299672
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:10,140-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:10,140-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "8ce3059653cd4904b21e89b9a23580c3"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "8M2tqTXv"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "kp19WHaVwl0FTPEtqSCd4D52ioObsmr8"
}
sign: "BIS1HCbDVYgd6D7hdt66p2iqbpA9715xsRBwKzAEQTOJeyg5/Yokjsg9/DgWAmQZ5BthNlLbyg+cONJido6ZVaWig5ABCSembST3Nsy8cCcPnBATzx/7xCN5SZG1RpDBb7yWE+B+hAeBqsIoYbEX3lYBgJqpnxhUmh63Afpvr6RmWht4DiHD6RgaOx/UYVuT2PuIQcXf4+MeJofYydTPFv6DWlM51jg3FoNL+v1JtGsx74S+rc8pJYXLgWJQG7BNwDlDt/ophjkJiceL8P4fKQ6yXmZSXCXyf9hPeWuj9QT77wRH3c3LnJeVPf5+eGOe8o+IbReeo5CI1QCCBNNwew=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "8ce3059653cd4904b21e89b9a23580c3"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "8M2tqTXv"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "kp19WHaVwl0FTPEtqSCd4D52ioObsmr8"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "Z3D0jrxS3RdO/kZsX0sRGGgAI/JynXxhk1cYRtIAsjCtSRztgHM3Yprb2K/cv/RQGVRnvCKDDBGjZ5C2+ygudvhpS3uwDpbDl+CJAFnV3yMdG/9fvBZiTDBoDqkkXA1+IzEUYbAcC4k9VXkXsuStwb91I/RZAUJZQFc+LcjS7rc="
  appKey: "1234"
  voucherId: 62299672
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:49:10,523-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"ed78d47c07334f8e99d49c43c3683b4a\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164912973395feb2c1f62e7f9d6a0000\",\"sign\":\"0DD88DA4FBB32E6A8F44B0843C0E4931\",\"timestamp\":\"1614070153\"}"
}
payrequestid: "KB202102231649122076075925171652"
model: ""

2021-02-23 16:49:10,524-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7432760787877367139636974010]]></transaction_id>
<nonce_str><![CDATA[TtbmCLsk2KSfH8rDajYlZ7UvNyVXJWcG]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[08B2AD2AE4D61AB19911E1CFE6C5B768]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231649122076075925171652]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164910]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:49:10,623-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:49:10,623-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:49:10,631-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:10,631-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "82681446914128"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "SE4Fi9lIBtA2NaoJx3YGPjnVwOvyUkpz"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:10,707-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f706656780d14cb99e93289a3515600b"
s_p: "OXlDVVF2cmVQMVVUYmY4VGlINEpsbmVUYk1JeGdVVnpEQkl5MXBpRW9uNURxU2wwSEVmMmg2RFd2ZXMyRFJOZFgxR3dJTktpZ3U1Zlhld2FTWHY1ZHBVcXBzWjZXUGtIcDlRMU50bHduUzRzOXdHdlZDWHpvS0ZSZXczUDZkeW96QmV5OWtZSnVLcXlEb25JRDR5UkF0cmFZUFVweDAwOG03SWhhdFU3Sm1kZjFjNno4dTJ1dTk4WE50eTR3YXB3bkpPdDNLNG83Q0I3bW9qT2Faclg2eHBjbVlad1o2Z2NtWGFWdHdMQU9RNGZsUkI3b1ZaMU9vR1JjTlBhazRTU3BpS2FjZ3lETzltMnNsS2NwUUVtRVFzM1pRTkUwMWg5UkM0WmFwR21LQkp5SjZOTVRpNFZpR2RrVmRwOW1HTHlPZUsxcUF0Ujg4QTN2dk82MldUNzY3aTBOSzAwQWYzTFM2Y0ludHFvcGZmR0JMWTh3MDRkTGxHZHRFSWFyV2dENHlPZGFYbDNRdUxUTEhrZk80VW9tWFV6VGdvUWF2eDZRSGRGallUaVZMOXVtTnRBdnZ6U1FLbkJxRjQ4cGtnUDRuRHBndENNQ2JWTnRVbTl6VllXTnhZN1ByZUxseGFVZVkxS2tmTFZqNGtoNnowZmtvalJGQ0UxeWxrS202VWFHc1JzT01jcnZpdmVOU1FOZk1hT0RCbTFMOHRsc2N2SzJHd1FXWldjZklrOXgwQTdSRU93bkJ4OW9hZUQxY24ydkdVRndWcnc5ZXhUUGNrbjR0cDlVcWlQY3RmUzdJY1VEODl3Z3hTYWxHcUhkcHBEUWhrUzkyV0xRa0tQdzU1ck81VDRrbDhzWW9sWFJ6aHJkQ2pzdXBwR0kyOXMzbDgyWkhmUHVTeWt5RnVTTWphZUE4U0ltM01HYThRbHYxUnpLMlNVTnBOcU5SM0dSbWZhdzl0WG5FWmY1SmFsYzYydFRyZ08wbTI2RXVKM0p5RXhMNU9sWk95Y2FVa2cyb0J0U3NoS3pRc0FzREhZbWpNWkRWNWZoWjJweGNLdjNZVng="
m_p: "M5n2hm74W8MzQvvgkT9xv4E4TS1n88v068w8T0shh5hG12OFUQ5vv3G7HCo0oi7r"
e_t: "1614178153193"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:10,713-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:10,713-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "f706656780d14cb99e93289a3515600b"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "9wGvVCXz"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231649122076075925171652"
version: "260"
queryType: "PAY"

2021-02-23 16:49:10,761-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:49:11,761-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:11,761-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:11,764-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:11,765-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649122076075925171652"
2021-02-23 16:49:11,769-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15003, 'pay_req_id': 'KB202102231649122076075925171652', 'notify_id': '7432760787877367139636974010', 'partner_order': 'kp19WHaVwl0FTPEtqSCd4D52ioObsmr8', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 13), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 10), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 13), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299672","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299672', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:49:11,769-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:49:11,770-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649122076075925171652"
2021-02-23 16:49:11,774-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7689, 'pay_req_id': 'KB202102231649122076075925171652', 'partner_order': 'kp19WHaVwl0FTPEtqSCd4D52ioObsmr8', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 13), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 13), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 12)}
2021-02-23 16:49:11,774-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:49:11,775-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231649122076075925171652"
2021-02-23 16:49:11,778-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:49:11,778-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:49:11,778-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:49:11,779-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "kp19WHaVwl0FTPEtqSCd4D52ioObsmr8"
2021-02-23 16:49:11,782-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 152, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_kp19WHaVwl0FTPEtqSCd4D52ioObsmr8', 'partnerOrder': 'kp19WHaVwl0FTPEtqSCd4D52ioObsmr8', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 49, 13), 'updateTime': datetime.datetime(2021, 2, 23, 16, 49, 13)}
2021-02-23 16:49:11,782-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:49:11,782-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:11,783-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:11,786-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:11,800-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '31541264099276339056884156592596', 'bizNo': 'EQsVawF4minjHGv9pDWUXoc2IPr5Buxt', 'operateType': 'PRESENT', 'requestId': '33824632042852679104716070578990', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070151798})
2021-02-23 16:49:11,821-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:11,835-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070151833', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:49:11,856-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299673'}], 'vouIdList': None, 'batchId': 'ae993127815c438ca9e93d1e05c044bf'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:11,870-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'ae993127815c438ca9e93d1e05c044bf', 'batchOperateType': 'PASS'})
2021-02-23 16:49:16,909-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:16,917-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:16,917-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "50711489445608"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "eGxNSLyFdtpf43KrX0AiUv9JhbmH5ZVw"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:16,994-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ccfe9d0343f44ae8bc216caa8f4d4230"
s_p: "Sm9Zb3ZvbGVnR0RWbkZpYWFrRnlDZTJyV280NlFZMUl5ejlhVHlvM01DcWJPeXFaOWN2aWR1WDNxNTBVbFBpdDNIcjRDbW9aN25EVm5heFVJd201V2xxUXJTWmlKcjRHMnVoUmlSV3hJTUR5MkJuajVnZFZBNWhVQ1Nzd3RSUm10WDRFS01OMlN4Ymg3d2dNZVhMUkJyOVZBYVdQZ1NmeUdWUU9wU25vWWgzQUd0VzZRWGI2eWJxMzlFeXg4YldMNDRHcENFMXhFN1FSckwxeFZMcXlzSXZtMVBnOGx0bUtZcDlUclAxazhQQno0cUhTZ21hOTkwUk1vdzFhSURVS204S2lrbVpWaVVGM2lmSjc1ZW1NeVlmbDZkRVF3S0VNeHI4TnFUSnJiWHgxYTgxdThtTFFPYklyWUFvamVaU0JzM3BIeE8zejFVSmFReWp3cnhFckVBS3dzRkUydkczSjhvOFYzOFdXS0xTSnBxb2F3Ukt5bTNtVXQ4M0dYWkU3N053QTJzUUhiWHZrbExDNEtKbmdaSWFIdGVDTGhWN1FqSW91STB4MXdyaHJWV1JPQ09Dam1ZcTg2RUxvdVFidm1sN0I5TExwemxadEVTRnhzaVVKOU1hNXp3TnQybFN5cGtuN05GcWNiZ0xmMHVTajhId0ZOVzBNU0l6UlpKNW42ejNUUVFYVkM1Z1Z5ck1WUXdyZ3JjdHlQT0hiRUcwdzc2UG9jWFlFNklaV0ZXZnRhcWtVVGpSaU1kR0JKTEFiN01UUFhyTmk2NHJMV0h3aGZ2QXVncWV5OXZRa2dNbWRVM3RTNWRZWFdZSlFNamxPWDBSSDUycWd6TU5LTGNtd2hPZFZtWDc5NEdESHZ1a0t6NG5UUTEzeGR6bnZpeUl2VWJHazZSTzVRRnVIalpQWTVaR0VHMHNObEt3bjVENWEwaUlwUDU0TVBCaGpwWVcxN2t4TmdmRkszd0JRc0l5dDA2Q1dyRkR3cHd6WHdzZTdMTlN0Y0JtaEJWY3VGTFpaWmRoQVhjM0JtU0xpdjd2VXpaMG1KU05SRHhZNjlzclE="
m_p: "2t5V17r8XvbSlNxa51N51Y1B98JE1XuryA1E065SG070NyB404L5JmnA3mO2snAK"
e_t: "1614178159478"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299673
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:17,027-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:17,028-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "ccfe9d0343f44ae8bc216caa8f4d4230"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "rSZiJr4G"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "uPCiTVwqeNpZWvSXdhUM5k4mrlKI8cGb"
}
sign: "ynDXel7l6Pstveu8WejY03bJ5iyoGoYXOCKtES4hkOh1vNBvKJa9wNo0iST2JtwC+ChXlyFWmDXs7aMTlxXP8KN0KsWET9ETY1GbMuBPDQ3Ra4PBJOzWTzSKM52nZQvpx+IuqkIqTnSGWiQryugtrYqQIg76T2WaTK4d7pZ9bDkhjb4/cYFBE+616+rdkr92dRe6UF3tzr8rCZx2q+DK/4lJonk65WlXED/ccWdGv2iyyeoQBQ/XHNahNc9E1kmgLh3mDxBFxICuVieBa5wGXcqJvIFLHmmvs/+kQX6XXr1ha4/fXeVP/maSkwUu7W/bh7gNT53mmtuHFpkcGz4ujw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "ccfe9d0343f44ae8bc216caa8f4d4230"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "rSZiJr4G"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "uPCiTVwqeNpZWvSXdhUM5k4mrlKI8cGb"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "SFFUogw3zj9umDtpMTn9AIz4vCbB4PpE6aswp4qIY7EAhxACcsk7eVc22XrLT6ePxJppcfx+kB+fygN0j6Hlxl9oISrV9WcPvLYagK0u6bfAVUi2WQuY+QoPa1eU5HA3rSSoihGOBtXAYfSY0LGHEyDQHbRS+MeBA3EBdNtvacA="
  appKey: "1234"
  voucherId: 62299673
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:49:17,394-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"d96471bafe7f4802aebab5d6c7f8487c\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164919846514a250f1a5fc216e1c0000\",\"sign\":\"E38AD0C2DF247E7AC44DB4B841DD7DBA\",\"timestamp\":\"1614070159\"}"
}
payrequestid: "KB202102231649192076075925544742"
model: ""

2021-02-23 16:49:17,395-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4976440509905953666269065886]]></transaction_id>
<nonce_str><![CDATA[kdG1gfxAsPtXEirzjUmQ0VyN68M7FSwI]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[BAF9E1CE8ADFC02CC3E07ADFDA0755CA]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231649192076075925544742]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164917]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:49:17,504-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:49:17,504-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:49:17,512-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:17,512-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "66054539162923"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "dNUsJ6PB87j0VWOXw95aDAzvq1ocGnpi"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:17,588-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "08876065fb154802bda634c1e90228d6"
s_p: "VlZKQmN0b1RlTmNheE94d2ZWQVpxbUJ1MTFwRDBJUzgwbDZMTllqTmVsUVFlRGpPWnpkWW9kb0VJVHpnQ1p2TFpMZVJKNjIxWHVDMXpQZ3FKOVdVaDFodVdtWlJSRUZ2MXVxS2Nndjd6aU53UWlRQnFlSHBQZE14SGd3QVZWSVZ1ekpaRmFWckVvbkJObjZoUkFVS1RwTENENlNXVzlZUU5yOGc4cW1yTzNIRW5pazRFRThBZmN1dEpuNHFSdThzeDVSb0RUNTlmSU01Y1lMQThmejFGdUNpZ2c2S0xjY0Rxb0hQMzdWV21jdzF1SGNuWWowQlcwSFZlRG84Nk5wd3puQVptTGlLMmxuN3liVkZMWGl1aTB3cWt2dVRWYkM4QmpjdXM4RldGb2tqQUV2M2h4NnpKY1lOaW1uY3ZDNEwyUERwNnVrOXdGUHN3MkZyS2FWMUNlRlRIbmw3WHNtZko1bTVtekQxRG5hOERmZVNIbEZ5djBlY29EMkt4WEFJaHM3WXdaTlRqNjU3bko1bll0ajJTdWhsWXpxTFBQOXFDUTBnb1FOanBKdTZnMWxZaDluNWFNVzNwMlQxdlFrZkRlRm9PWWJ6c29CbHp4akVLMjdNWG1zOGV0MHY4U1E2MUt5blV4TzNkZWUzZWdEZmNwUUNsQUl3WWpPbnF5ME9UN3MzNnJodjhEYzlMWUNGb3dQZmN1bUdCNHJwdFdHM1FLU1l4UVBsdlliRlo5bFFac2VCWFNQN0lqZXFLVGpiUVNNcE9IdENmOEZiNmtZTWozVVpieXlUSThDYlBJbHNsR2w0UVZJaHJvZ253bmdaYlEzbXpTcXg4YWJrT1ZNa2lsR0RJb0dOQVA0b01iSGphRHl3VHZxVU1yaUhBWHN0d1E5Ym5WdWl2R3NreTE3azZKdkRnenZtR1c4Q1hGWkMwMjN2MDZuNjRLWXRFdmhBY0loRmpUajRsbkpNbkJ5NTlvNWZHeVdBcUVDTFVyOFVYckYzR3lCbUlielV4cEw3bFBCTHlIVUNpTGFhaUpLQzZXVm9KS21rNllFYUJQUjc="
m_p: "QRNQ04fUpm2E63q19F5EWcU5F7D97JqU9o1Az0gMEv2423hH5b8h5h1MvpHn0006"
e_t: "1614178160070"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:17,592-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:17,592-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "08876065fb154802bda634c1e90228d6"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "WUh1huWm"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231649192076075925544742"
version: "260"
queryType: "PAY"

2021-02-23 16:49:17,636-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:49:18,636-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:18,636-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:18,639-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:18,640-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649192076075925544742"
2021-02-23 16:49:18,644-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15004, 'pay_req_id': 'KB202102231649192076075925544742', 'notify_id': '4976440509905953666269065886', 'partner_order': 'uPCiTVwqeNpZWvSXdhUM5k4mrlKI8cGb', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 20), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 17), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 20), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299673","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299673', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:49:18,644-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:49:18,645-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649192076075925544742"
2021-02-23 16:49:18,649-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7690, 'pay_req_id': 'KB202102231649192076075925544742', 'partner_order': 'uPCiTVwqeNpZWvSXdhUM5k4mrlKI8cGb', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 20), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 20), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 19)}
2021-02-23 16:49:18,649-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:49:18,649-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231649192076075925544742"
2021-02-23 16:49:18,652-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:49:18,652-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:49:18,652-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:49:18,653-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "uPCiTVwqeNpZWvSXdhUM5k4mrlKI8cGb"
2021-02-23 16:49:18,656-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 153, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_uPCiTVwqeNpZWvSXdhUM5k4mrlKI8cGb', 'partnerOrder': 'uPCiTVwqeNpZWvSXdhUM5k4mrlKI8cGb', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 49, 20), 'updateTime': datetime.datetime(2021, 2, 23, 16, 49, 20)}
2021-02-23 16:49:18,656-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:49:18,656-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:18,657-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:18,660-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:18,673-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '47324749764657189510974071167885', 'bizNo': 'mpdWZSib9PrO5RHlyXq4UuTE3CgG6tM8', 'operateType': 'PRESENT', 'requestId': '02248287786824490032958286055660', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070158670})
2021-02-23 16:49:18,700-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:18,715-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070158712', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:49:18,732-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299674'}], 'vouIdList': None, 'batchId': '94e187a81f834ce3b1660653058f8fb7'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:18,745-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '94e187a81f834ce3b1660653058f8fb7', 'batchOperateType': 'PASS'})
2021-02-23 16:49:23,780-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:23,787-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:23,788-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "77363173076002"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "LD8pGNfmjJK07bdwXzZnVY4hBRoHtvIW"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:23,867-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "6d871573f63148b6b3a0dbb5f4886f43"
s_p: "MEJNeUl3TUdOdHQ3VjhhRlhzdVlHcHYzSGh1WGVXM2F0OGxDVXk5U1V2cFFuZTlSUkRhV01aT3c2ektMc0xQN0Y0TEVZMzhqQmx6bU4xN3Uyb0FGOUFVaUQ0emJDSVZZWlFPc3BJejk5VFVXQ0pKRGsyR2ZRNGplc1pNQnJrUFpubXJnTlZuRUpNdGNXV1Uxb0lkNmY3UHQyOXcxM3U3T2p6cGswdXFVRWlLY3BTTWpCQ0pFVlhOczhnT0hMNHR5SFk1bk41dzZvMXNSRW1Vb1VubFVOU2RZNWpWRjU4c0x6SDhOVWRyQ1BncFF2cVVQTml2MnlqeVdiOUVBaG1FaVZubHBDczJnZnZVeEF3WHRHTGNVZlZFR3MwSUdhWXM4YUZCY0tBSHNRRURISXgxczZqdUdkaXJ6UDVSSmVYNVpLek5CZ1VOeEVOdGVBOVpYa1RjbVh4dFNsbjM3YUZuZUFnVUo4ZTQxY2Y3Q0M4OUI1UWRpd3pxUU14RjhGYlhiZlQ4NFNyQ2Z3OVdlRWY1RWhnUUg1M21xRURvaUtuMktyUFNicnR3cUg2MUNWdXZGZ0dDaHl0M0tuZHBPNjdtUlhZa1NDTVV4YWF4djlyRjdKcG1zeXRadkRsNGVnZ2JTVGRudlh3MXpoczlPelJMbGRkeGd5dHRZcVVZWXd1bEt0ZmpuMDF6ZUZSQ3FnZVR5d3A2cHJFYjhIdUdrTTkyaDV1MU1mVU1IR1ZMVXRDTDdvRG8yTlVtYzczdDhtWlZpWmZHUGRKZzRheXBZVERwUm9HdTM4eFlpaTgzNW1DWkkzNTdGeDNpaE54elRsd2hRTm8zd0dLdkoybWl4YzVJc2t2SmNSOEtZTk0zUG5ncFZGZjVkSkxjYWoweGFFYkpySHRQQ082WDhBRFFPVGE4Umw3ajBhWWh3TER0V2JFOWw5REtzWUNFN3J5NFdaZUVsR1hUNmh1Ykd5TmJURHlrdGV1dE9INjF2ZHBTWlhVc2VVazhMdFJ4OWxVWXU4M1ppZURESzhzZHA3R01rZE02ODY5NGpNalQ5QzFuQkZENGY="
m_p: "gpYb784P082XVI4Okn1wf4wFozsqVN9i0aStP6c46eV0t5e9mW4aR71K24Cl95tV"
e_t: "1614178166350"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299674
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:23,892-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:23,892-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "6d871573f63148b6b3a0dbb5f4886f43"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "aWMZOw6z"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "hsdyDfLKRk19ZcArpFTB3lb0z7Ji26Iv"
}
sign: "BcvCQ196ofkOVat+hbMhQoPCy5Fk1xljHnJA7SDJVpupPAKaiVF0euTgIU49j4Fem2t3oDlcRA1k9FCNxzqXwwjzSLDeFvTEovcwTSqbY5uZ0hnO6IyZ3GoI6dChGkrSsZQUocM+7fTIEYNRAjTHKz9drznSR1Pli260RTJbbvzielCst36T3fWCA2Ue27AP6HQ9u23+kgtxkIdEytAzmn5ze/gcbIn4lrQ6RjvaJ6fb2AA5FRsh/LYBgBRGZ3LP3xOR8oI8EguuMdsjtP74rqHXhjYUV51V3c5wFXJFZt6pe+Vx/195AfN8TxDgSz6nUneBm9eMBvdVssCvccmR/Q=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "6d871573f63148b6b3a0dbb5f4886f43"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "aWMZOw6z"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "hsdyDfLKRk19ZcArpFTB3lb0z7Ji26Iv"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "Lodtms8KoK19b1Tnr3lHBJm+bLTH3Y1K0fce0+QYKEq+U+oDansa5tXBoM96oT7Glm+I4mO0C6eHPgJdOQh/lnGEdqLlkyr8s3gnwl7XmnzkIHymJwAnlKzCQXu6ujPGjmI4/BXHRBQpu1x0emIJ1mJ+GbJwcKq3j/5jEY9CwCc="
  appKey: "1234"
  voucherId: 62299674
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:49:24,284-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"d4ad33d301ff4a1b93f80f5701753081\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231649267354170778fa4a3a41ebcd0000\",\"sign\":\"1C9FB2C963649211D17DDA0254543F74\",\"timestamp\":\"1614070166\"}"
}
payrequestid: "KB202102231649262076075925801062"
model: ""

2021-02-23 16:49:24,284-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[6877045886392174189253933830]]></transaction_id>
<nonce_str><![CDATA[ocVswBvpE7PlKr09XY6m2HNetIxGFdSb]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[E78D6A1F10080C1CF2E137BA20522BE9]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231649262076075925801062]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164924]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:49:24,392-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:49:24,392-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:49:24,399-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:24,399-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "64789840572438"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "pS6Ko913m7xzCcgtwBXWynPNuqVGLar4"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:24,477-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "fb16474b90ee4596a1c02e1fe3b6d9ab"
s_p: "d2FQOVhTUDZCcGZjNmpjYVFCYWwxRFVaZ3BCMThJY3NtWUNrSUxIU1FwenQyRnZ0aHBBOGc5YjdnNE1qTjAwa2lwZHpHRkx2czFpejZwZlVXb1o1RGpsNHlwNVZRVk03YjQyVzd5T2JhRjB5RFQxMk1CSWE4REtyNUFTblVpQkNYeU1QRTFydGN4N3NtamZEdkoxSjdCZFh3eVpMRjltOXNob2RqZFQycHF0SnI1anNUYkdUNHlTRXo0Y2VaYWh2TEpGR0NrVFNRUWMzR25SamhhOGtSR09pSEg3SEVkQnZEeFdTVWtPRVJobG00bG1tOXhpbHpJWm1UWDN1bW8zWk1uYkV4VEI5bjJ3S2xoaVlWVVNDZ1lFcEhycVZJSUV0TGZCTU5IeUg1Y0oycnplY3ppdnpIYzRIcjU4TGg2amVWUEFpZkVBZ0JVMG1rT3h2d2FqMU9xTERBdW9WblFNWjIxTWxSUzgzdTlTMjBsNk50WjRucldlMHlpQUxuemtZUFNQUUZyV1RyQmxuM2FFd0QzZk5xZFVjbkFCUENRTVVub2duaVBzYzhYaXFWZTh0c1ppWjFESXZTcmIzckZqWGRMWGFTNERGb3o4VGpidW45dlBvMUYxWVNzQ2ttYnNTcU9FMkxTVEJTa0FvS2lObERFY21UdlR3SHVLTDdxYld3bmJHUGdqU2lWNzJ6WndONnoxZHZqNUpLYzZrTWszZlZiS1dyMk9BTG50TDVKbE5iQk80Zk5USHhYOE4ySTlJR0dRWTEzSW1jU0JEOFlYbkxWSnV6czlGSEc5cDhFdWpNaGpScGhvangzTEJPMHltY3ZIZk5lMUVkRVhZaHg1b2V1WDVBbjFEUG54NmRKOXliejB0bUVEWDd3MmNITG5NYkFnaW1uR1d6NVZxZDFLSnRLVTVFSFFBV3BWTlg0cGNEZ1FKclJ5Yktha0Z1dWRIRDBxUFNITUhQVlFaNkNydGZyTnRxVDhmMDFHcUl5M1IxUDBmQ3FtRERwcGgycGMzTXNUNFpWVGFyWmh2c1BXRERlTm1LTURmYzlRU0x4cmk="
m_p: "Wgn6gK56e0O90IaE0Fv96kQ6nSS6tDbG16uVR11sJ2z2wD41m42i49z68f7e38x4"
e_t: "1614178166958"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:24,483-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:24,483-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "fb16474b90ee4596a1c02e1fe3b6d9ab"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "7smjfDvJ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231649262076075925801062"
version: "260"
queryType: "PAY"

2021-02-23 16:49:24,530-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:49:25,531-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:25,531-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:25,533-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:25,534-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649262076075925801062"
2021-02-23 16:49:25,538-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15005, 'pay_req_id': 'KB202102231649262076075925801062', 'notify_id': '6877045886392174189253933830', 'partner_order': 'hsdyDfLKRk19ZcArpFTB3lb0z7Ji26Iv', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 26), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 24), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 27), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299674","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299674', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:49:25,538-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:49:25,539-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649262076075925801062"
2021-02-23 16:49:25,542-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7691, 'pay_req_id': 'KB202102231649262076075925801062', 'partner_order': 'hsdyDfLKRk19ZcArpFTB3lb0z7Ji26Iv', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 26), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 27), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 26)}
2021-02-23 16:49:25,542-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:49:25,543-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231649262076075925801062"
2021-02-23 16:49:25,546-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:49:25,546-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:49:25,546-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:49:25,547-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "hsdyDfLKRk19ZcArpFTB3lb0z7Ji26Iv"
2021-02-23 16:49:25,550-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 154, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_hsdyDfLKRk19ZcArpFTB3lb0z7Ji26Iv', 'partnerOrder': 'hsdyDfLKRk19ZcArpFTB3lb0z7Ji26Iv', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 49, 27), 'updateTime': datetime.datetime(2021, 2, 23, 16, 49, 26)}
2021-02-23 16:49:25,550-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:49:25,550-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:25,551-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:25,554-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:25,566-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '89331026098933422150235677249707', 'bizNo': 'fDQxP7ZTeoVm4HdSLFAgNq3kC1Ilsi2O', 'operateType': 'PRESENT', 'requestId': '09517270544700780211537844770319', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070165565})
2021-02-23 16:49:25,604-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:25,618-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070165616', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:49:25,636-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299675'}], 'vouIdList': None, 'batchId': 'ba7d9407b18d433ca55ccf1ef8504d35'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:25,649-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'ba7d9407b18d433ca55ccf1ef8504d35', 'batchOperateType': 'PASS'})
2021-02-23 16:49:30,687-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:30,696-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:30,696-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "85159854044214"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "mtK7PaCnl8pHTZLokFVMcOvGyewDJ4BI"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:30,784-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "3627f2d1a95d467bae2c0bce8d6976ca"
s_p: "eGhQNW9ZRVBsc0liVDcwdXh1MzNJQzd2aXhGM2VVaTA1ZHBvWFY5TkVTclQ1TWpVZWF6WUdLRlFLaDhKeW1oVzNIOG5VYUc3OGUyem9ZVTg0a2NqWEtxUnpiTEh3QmFvN2FDUTdHaEl0dmtkVVZwMXZUcHNJSjBuUWxJNXozdm5aa3lZcW5Wb2dVZ2NBc1NrWVBYYzJERnNwcFpSZ1ZvS09XZFJaOVNCZVpUT3ZsTklnZEpWY2dsclptOUhqcTlIdkw3eXB1bGNwWDFMOThuczNzRzFKTHdkTGk5UFExUHJOeGhVMm5YWjRicDhtQ3pxdFI3VVBRSW5QZE5EVGlIOThOTld1STg5UWR1bkhCVjVDdWI0REpaME94M0hUVnRmaXJYTExWWFFsa0pObXRDbzZsaVNSelJjWVVraVVRd2NRb3lkRW5vemZidlNuNXhVVDJXbTlBa2MzSW5zbU1SNm5sZFhheVhkRE1wbXg5UVlNR1VEMjBqOUNCM2hKOWExcFNodlhrY0tRb3Y5eHA4STlWNnV0aDZJZzUyYVRYQ0FsWGRyaTByUlE2TEFYUDdyTlBiQ1dzb2NjWDc5NGRsRU9Ba3lmazF0RTJhMzUwbEhCbFZRN3ZuazBGeUtGcm5yaGNWeWtjNHBHbkJEMG1ZUW5WYllqYzBUb1A2RklKRzAzQTNlZUZaQVpZV2l2ckc2TVREUm1FRFY4b1R1NXpVUWF3Qm94bjNEbUtaUVJrVGg1ZldiMmowdm0zMmhyQTlVZUZPaUtnU1JwTlZHSlRKWWEyYlJlN2NvUXdpa1ZYclZQejdXVVU5UXViYm80Z0lmdlBmSkp2amluQWVFcnJxNFF6VXhsVTNkR204RUs2T2IzQnpNdFZHQ3Z1elhUQW1KdDRZN0wyU1hrdjJDejdwcmxZNnBxZmRmbFBVTk5sSlRkQWI5MHdHODZrUzJLcEZWeERmbzhtOEFzT0dDNHRacmk0VXZEVE5iYk52Z1UxT0F2dWozSzhGSzBmRTQ3WU02bmZ4ZGs1cGs3ZnNXeWhDNDBzUElUNUFXN3NqSVc2SHg="
m_p: "dPD48Rr6r3HtWX0kpM0u2DKi9hJE1W4f6Ojis9KDN1AfU9xSY03286WKW9u09uIK"
e_t: "1614178173261"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299675
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:30,807-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:30,807-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "3627f2d1a95d467bae2c0bce8d6976ca"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "gUgcAsSk"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "Tbd61OaQgFUDSR5zvuYA3hoJsrKknIyL"
}
sign: "YYsUIXauzxYcZlRDgC2p1NmWq5RVeJGWIw2dFbwNQuxS0nY+BUyPrts30Krt0/REDOxQK3kQJDeLQR6TY1QP57iv/Oykhpo3JS07g0LhH4pdCQELDMPjQHACZMsbJGAKctc0HR9RgFsMtL+OGogKphMZCfoupWurGnpTblbPz9dS0ncuZ+iVQQjfaHPzPiVpvCn/Kds4QNmMaXG6Fs89lN0fTuv4hrFvq9mv6/vMKbnET+NyW+t1NyTtR5wWKbN+fj7V5hjazNOMjCrGXyFUXBHplpeZLyr8CSj0Ivb8JpVX+TxvdF4Kj/RFAZhnha1Duo60Hp6H9N4cvHx7ug6GZw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "3627f2d1a95d467bae2c0bce8d6976ca"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "gUgcAsSk"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "Tbd61OaQgFUDSR5zvuYA3hoJsrKknIyL"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "TjFKkO9qFA3Mm+M83oagUWzLzXUBvx8pXaaXq2giGxqGh7F8onUP6/jqJPVVGuPJpw8/az65y6lZ3DAMHdpnxRh33bu7rP5YZC7tDxgbNZjq1yNXUZ4kdxPDwnGJ3heMJk5zhSuxSAb+azQ3mHU1iuJ0Xc8u7SrLusbHrMm0tZE="
  appKey: "1234"
  voucherId: 62299675
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:49:31,096-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"f6348838d9b94703be5a2a228b29d8dc\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164933554978dec13a09927934880000\",\"sign\":\"F8BE1500066E78C57BFBAE686B8B8B4A\",\"timestamp\":\"1614070173\"}"
}
payrequestid: "KB202102231649332076075925055352"
model: ""

2021-02-23 16:49:31,097-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9429018858098256520355998165]]></transaction_id>
<nonce_str><![CDATA[9Nta4eSfEWVIGsXP0To3lQbFiC62xzuO]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[25D4F04ECFB8FC6D63D80D43907ADBC8]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231649332076075925055352]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164931]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:49:31,189-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:49:31,189-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:49:31,196-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:31,196-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "76831614197669"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "hMKN7TpwdbHzlgoPSXtcmaRGEAJCe14n"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:31,271-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "54754c754e034cf6b1e4bffe32d3780a"
s_p: "Y2t6NlRyZHlsQzFaQXJhbmFpT0hOeWxWWnMzcXdOWVBvcnNhNk5wNW9BTFFnTjJTUXFndG5weWg0WGtVY1FoUGdlY0ZrN1pDb1c5YzRlT1M2Qmg4ZzBQb1pONVJUZG5paW9ORGRQSjZHUUF0S1FHT1duMExpRnV1UFRhQUpuUTc5NE9UaHJmZEhzYkNlME9nZGtnSEIzZ1VpVGtDS3dEOGJFeVNFcWdFbWlBQjUycUp3T3RMdU0xWVhUWjh6NDQ0bWJ0c1lJOHBJSjhmRFlKVWxFMXloYVpOOTdPYmNDREtiWlNTTFNNSEh5SG9rREdYRnNqTHhHZjk5ZFUwNXdXY3p5Y2U2Vzh3b1d5YlNPbHlyaGljN29QdFNkUm93SnVnSVFqS0xxd2YwZndaSDEwYjJZTldIV1Z2VWljcFVrelFwcG1ueUhuTmtqaGxLUXRFZEg1blZTT3BnelV3WmVyT05WU000N1dzOUFEdWhhc2Y3MW1nYWVPdlhRc0RtT1pFTDU4ZTNuY0doSldUcWZvMFVCdnU0dVhmRzV5bjR4Tm9Pb2FVSjhVejU1UXJaNXZCdjNONmgzWDNxYXhnMms5QkoydjdHbVIxTUIyRjZXN3lBalFZckpvZE1STTNKa2JFblBZNmNoNkdEekpxTHM5eVhXaUY4WURQeUlqMDdnQ1J1ZGJHUlBCSWxWZVJJbTVCbVo0NlFaSkhYSUR4MTAzN0JZUGtySEdkSW56TFNYM2VjMmU0bUk4ZE1XUnZsVlBlWEdZYWxtMHhsUEo0NXdhNzZ4bTA2THVqUGNQV1pwcUZ1Z1p6OVNkNUJYbk9GOGdqZHRDanFUM2hJaVFBQmNldVV1cHBSam1lVDAycTd6THFrZDZXY0JlUzRMWkVPTFJhSU5ENWJRSklDeXVjemxXRVFKcUlDekpZeENqekVCY3prR3VqcDV5UTVHWmR2aGpVbThZS1BOZ1FxY01UOE1NbnBGcWF3RWVDUGJMczk1cW1tbnlCWEM0TE9EeTI3UUVlVUpReUV6NWl5TlZwajdVbHhpZEVXSnI5WG54dnltUWU="
m_p: "E1V1A2v1TTpJ0H86qadeLg8aoXl9R749LS2se3k6Hd5G42p2KobS002gHY0uY361"
e_t: "1614178173756"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:31,276-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:31,276-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "54754c754e034cf6b1e4bffe32d3780a"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "dkgHB3gU"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231649332076075925055352"
version: "260"
queryType: "PAY"

2021-02-23 16:49:31,318-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:49:32,318-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:32,318-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:32,321-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:32,322-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649332076075925055352"
2021-02-23 16:49:32,326-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15006, 'pay_req_id': 'KB202102231649332076075925055352', 'notify_id': '9429018858098256520355998165', 'partner_order': 'Tbd61OaQgFUDSR5zvuYA3hoJsrKknIyL', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 33), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 31), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 34), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299675","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299675', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:49:32,326-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:49:32,327-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649332076075925055352"
2021-02-23 16:49:32,331-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7692, 'pay_req_id': 'KB202102231649332076075925055352', 'partner_order': 'Tbd61OaQgFUDSR5zvuYA3hoJsrKknIyL', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 33), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 34), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 33)}
2021-02-23 16:49:32,331-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:49:32,332-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231649332076075925055352"
2021-02-23 16:49:32,335-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:49:32,335-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:49:32,335-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:49:32,335-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "Tbd61OaQgFUDSR5zvuYA3hoJsrKknIyL"
2021-02-23 16:49:32,338-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 155, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_Tbd61OaQgFUDSR5zvuYA3hoJsrKknIyL', 'partnerOrder': 'Tbd61OaQgFUDSR5zvuYA3hoJsrKknIyL', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 49, 34), 'updateTime': datetime.datetime(2021, 2, 23, 16, 49, 33)}
2021-02-23 16:49:32,339-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:49:32,339-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:32,339-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:32,342-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:32,355-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '24699794037215207595865491038949', 'bizNo': 'Tp1cC70BVk8Zu4UNsxHS5oaqv2QWJwRb', 'operateType': 'PRESENT', 'requestId': '29663932097677434284675849517839', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070172353})
2021-02-23 16:49:32,414-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:32,428-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070172426', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:49:32,445-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299676'}], 'vouIdList': None, 'batchId': '7978f2b6f486445e992ec8db94e4a8ed'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:32,458-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '7978f2b6f486445e992ec8db94e4a8ed', 'batchOperateType': 'PASS'})
2021-02-23 16:49:37,487-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:37,495-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:37,495-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "72267982408687"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "FQRd4bohAKgG5tN98umpawMPs1JnjZYV"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:37,579-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "6dae3422d0f74441b925cea76f7dea90"
s_p: "amRQRVNxUE04NUR4QUoyZmlxOExsMUMzQ3VVcGVQWnhTbUFyY3A3M25nSVFLTm04RGdJQXVXdlU2THo1OWdPbXgwUG95c0JHcldWQTlqUEsyeEoybXNtSTFBRkliOWI4dDhHWEt0RHpaMzVtdXNwS0hPRkdmeTl1NlJrN09RZ3JmNEhoQ1lyVmtKbTF6ZjBqbFIzbXJzaEJIOXNIT0NzaThjTUdVMGE3Nm1zcFhoWjNGMjRTOEZrUDVnTHQzUEhOUnBtY0tXcjROMzRpdWRyWU1jU2VXU0RMSzNqNjJ6U0FkaHY5U0dINzh5cHRxWmtMS2hYZkhJSHNwZmw1VDBZWjdsYmFRY2FpZEgxazAwcTFZYnB1Z3VzbVJZZFhkOHc2TlZIMEFFQVR1bU90YVgxbm9ZekEwWE82WlNKa3cyNVI4OTBNZXdpVkFOaEsxdmhkWE1lYVZKQVZDa2FjWFNyd2FMeWU3OHVBVkg2eGtMS0dFYjBLMFpKNFJTTDhpcml2U3NCNzFSekE0cUpkckQxSkpyM0FjS2R2WFNvc1JVSUNlQ2ZHUmx1bDUyajBWUTBtT1ptbTFqZHdQQTV1SXl5bjFxOXhyTExvQXRWNjNVYUVTNzBJcXpBYzA4SVRST2FZdWl3c3l5MUN3RlJTN0ZjZ2p0N090ZVNob2VxVEdZWG1BQWNnNDNjbVhCaEJWWFlCSFdaRWFUTjM4bmlFempZUFZWTjJWckRHenBXZkVNTHRQRnl0NTdZQU1sQ3BlV0ZIdHpNenhUb2hadm9GN3RNd3BPakZpemE1OUVBOFhXeXRCcWZxY0pJS1NCMTZBdVJUTTB2YlZLVnZCQXpCNnEwdUFrS1E4WU10WkZLRnZnR1NHakk1ZVZBcjNieVhwT1d5VXJybW5WbUZUYnl1a3c0WE1QRVI1V0kxakdEMlhSSzRSeGt3ZjBYaENXelJTSXljb1h1TFVRNzh3WjhPRzI3SEM4N2FXQkpQU2U1S1Qxc0pIZnVGbnlSM2dFZFNCT1AwV2g0ampuMmtDSFp2Z2wwcUFNU0FtbWJLZ05UTXdZUkk="
m_p: "549hH96dhn4p5Ard7wOJXRx9BT2jvZzJaOqOzkp1AbF7svoXs24inwrsKNK37W3m"
e_t: "1614178180056"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299676
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:37,603-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:37,603-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "6dae3422d0f74441b925cea76f7dea90"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ysBGrWVA"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "CUwWPjMaGndzNkxRVg0Z1BDu4rlpy85m"
}
sign: "ritx3kNljUhzH4ukAP6D1YBZWublQLqA+A8oOUEaaYSlMCVPfehgm00d/KCDRUJ0NWIxl1R1xsmFLUqfFtQzpazQAPTySBWZW54tCB/4p2vToogYz9+QJbQ9TyhYdihtYHfKA4J2KrDdvCtP1xTcyjpg+ae5SsLrGLZkTWRrkE4z+aHAObVEObsULv+YUJlYsTnC88zpgfAXiavpmAhA7RCbvsuemIMi4btGYcP3aD43S6gbXoSdrLPxIqqlpDimM6ZiIfsJOsWA91R+eZrOawWVhZzJk5eDp+QEHXCK3Q66ankIS6jcqJ1xyLHUveZPR7YNRyhqd5POTX12kNE68w=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "6dae3422d0f74441b925cea76f7dea90"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "ysBGrWVA"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "CUwWPjMaGndzNkxRVg0Z1BDu4rlpy85m"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "Fvd1ACV8AV5beJrsetrU9YAgTPFRuZoxavaMIWq5m7kpg4ifitrq6yjKduEo2u35hLkvBcpIuR2PNEnih8gE+JmdLJUTpm0r1AD6TjKIZpH/SmWhY1VCQddkZvnZDJJAhRE7F1RUb6Z/rQZLkQ+ll/zyyr0Dnf8BzeZv7UBeMYg="
  appKey: "1234"
  voucherId: 62299676
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:49:37,903-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"d968966460b144d58137f011752eb4b2\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2316494036027979becf24108fca7c0000\",\"sign\":\"03DBF18AF88316D4A96D3172D54215B8\",\"timestamp\":\"1614070180\"}"
}
payrequestid: "KB202102231649402076075925448232"
model: ""

2021-02-23 16:49:37,903-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2929785594763955270671894520]]></transaction_id>
<nonce_str><![CDATA[n5b6FSd7iVoNeXslULgOJ8RDPxZwGWcH]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[9F1C673B8EF6DFE589B28A5B63C94CEE]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231649402076075925448232]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164937]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:49:38,002-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:49:38,002-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:49:38,009-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:38,009-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "69096621879427"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "n18bmupqD0aKeFZzEAkcVJ2PCfBSNM4W"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:38,086-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ae08cd96e84d46afb105e16970d6e1a5"
s_p: "ellwRlBVUUtsaW42MDJNd1ViTTJGdmFxTkZjc1NSOUFDYllrTmhQVTJER1RmQkNhTE1STWwzNXpVdHR2VXphNEJzWGdqNHRlYzR1amVJSE9lcWRhejkyWXdIUjlId21yYVcwYUtVZGhXQWZaaUpmNHVTbXZYTnU3ZGJCY3ZONmI0djFMakNnT2tDUkE4UGRXdHdqWFhBcE9CVmtoVWx5ZzBHSDBNU09qTWFYb1FpUHlxOXdJOFFvazBuUjNiMWZkaWZETGFTRHU2UTZRbm5OWUJ0azN6R1VtTWp1c2RHQ0J0YVhTNWx6YlplODJyTUZoNnJCUFQzYUFtVm93NzFMMFc1aEtFMnp2NWVOckYySHZYcW5LSGF5NDZsYzhvRzZVWW5UWW1XUEZ1QU5tMm9aTThPVG54a25iNXhlbnVXdXRuSTAycGIwZlZ1TE5FbjNGUVR6ejJXOUY5eE4wZ3paOG5SdEVUWWdSY3VpNjRreXM0UGtRWlhDTUFoS2JOQ2ZhWXEwZEVQem12Y2FJemVReDI2NmFxQU1Ucm55R1A3Q1B2TkgwT05xeFBCblE2c2hhWjJrRXNjU2JTTW00UHR1QlVEN0Ezd0M5aVlqd2xsc0w0QlJ2azB5cTNsTnlCb1RiOVdNekRQaHpJaGRiaTJwMGN6UmplYkptVWd5SXc2V2o3elIxV0xvV1dGZ09YdmpwblUxN2J1TFNIb0hZalNIdFVrSjk0cjV5a1UyRHpQRGtWaFEzT1dnS2JoNU5rdlN1c3BxOEphRjRlNlZlMEFCWlRUYlA5VjloTnI1SUh5TE5ReTUyOWxxUXV3RXVFckxJRE1MeGpLSUVwYkRoR0NtTWt3aG13UmgyNUN6QXMweVpIVG16OWNxT1pwQXZOQW9URzc3emozTE9uWHQ0eU9vUHJZckxXT1VlTG1zcEVKUHA3U0dINGVpejJ0NTZTdVJraGpHejAwM3RGYzQ1OFZUcDkyVEU5TE00ak9Kam9iVFdFUDl0MzNDZzBsaUdod1lqczVIeFZMYXJPSzRlelpraXpBWkZYUnBzYzM2Y0JyUWo="
m_p: "mvi42c27TGPvYdV0Cce54e2Yogs66FCknK9N9yG25Xsq68w0X1n96h20FZ90AkWt"
e_t: "1614178180568"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:38,089-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:38,089-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "ae08cd96e84d46afb105e16970d6e1a5"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "z92YwHR9"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231649402076075925448232"
version: "260"
queryType: "PAY"

2021-02-23 16:49:38,131-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:49:39,131-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:39,131-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:39,134-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:39,135-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649402076075925448232"
2021-02-23 16:49:39,139-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15007, 'pay_req_id': 'KB202102231649402076075925448232', 'notify_id': '2929785594763955270671894520', 'partner_order': 'CUwWPjMaGndzNkxRVg0Z1BDu4rlpy85m', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 40), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 37), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 41), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299676","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299676', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:49:39,139-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:49:39,140-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649402076075925448232"
2021-02-23 16:49:39,143-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7693, 'pay_req_id': 'KB202102231649402076075925448232', 'partner_order': 'CUwWPjMaGndzNkxRVg0Z1BDu4rlpy85m', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 40), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 41), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 40)}
2021-02-23 16:49:39,143-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:49:39,144-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231649402076075925448232"
2021-02-23 16:49:39,147-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:49:39,147-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:49:39,147-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:49:39,148-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "CUwWPjMaGndzNkxRVg0Z1BDu4rlpy85m"
2021-02-23 16:49:39,151-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 156, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_CUwWPjMaGndzNkxRVg0Z1BDu4rlpy85m', 'partnerOrder': 'CUwWPjMaGndzNkxRVg0Z1BDu4rlpy85m', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 49, 41), 'updateTime': datetime.datetime(2021, 2, 23, 16, 49, 40)}
2021-02-23 16:49:39,151-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:49:39,151-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:39,152-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:39,155-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:39,168-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '01357300706685863884909182658478', 'bizNo': '0XAYWpgNex6sZIt4b2huPH7DjUQoEwlV', 'operateType': 'PRESENT', 'requestId': '01400474699284403475000618284168', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070179166})
2021-02-23 16:49:39,219-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:39,232-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070179229', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:49:39,254-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299677'}], 'vouIdList': None, 'batchId': '0e456e953ddf4db099f73120d0810d5a'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:39,267-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '0e456e953ddf4db099f73120d0810d5a', 'batchOperateType': 'PASS'})
2021-02-23 16:49:44,309-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:44,317-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:44,317-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "96545612833176"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ScDzPeO2AH53Yosn6mxRurCbk91wN8ZU"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:44,399-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "269171fb358640dabee4dbaa1337e640"
s_p: "RDNDOHdaakFRTnJJN3hUeEx3Z3IyWjBXTUJndzgyVDBzS2EwRVFtRzZNclBJTG04cGJLMlhwS1h3M3hMcVhGNXo5Vk9JZU5mV0ljbDNSck5ybTZucERUQkxHaXd0Rko3MnRnV3NtaUlRSFNEYWVvUE9VOXBJSWRLZ09kQU9wTUdRZzluWnc3VUoxbVhwMDBLZXZzOVFaSHBGWDd4dWs4T0xsNm9XZm9MWEkyZlNud3RoVVZsTWxBMjhwNHlCcU5LMXN0T2dKTUpVR1FlN2tVak5tZmh1T1VsWklQWVNaMnZudGU3bEp6VHpkSnJYUVJIUEhrb1FaNkxrd1o3ZVViVjVRTVRPSWpSc0o5MG9vbFVCMXNGSk00WEFocjFKbVA4ZmJobkNoNGkzNDVzb2FWRHpBSmpHMGlsd2xHaFBFbmFhNEM4dlRNZTI0aE82cGxtVUE0U21kaUJuVXVTM2oyc09yNldjN0Naa0JWMkxzaHBzYm1Lb21kMGZ3YzNaOTd2REtPUk1VcmNQTWtNMjRXYTNYczRtTFBXZTJzY3ZPd1RjTEZpSmtWU1pSZWhkaGtaY2g3MWVhQWZDd0tUbmw0UWhxNXlpRTNaZGY0T0FCTFNiQVVIeHUwQWt4NkxqWHp2MFp0OWtJZ1pSNDAxUkp0N3lRUzZnYWZNMWFQRzcxTlZZdjhFRHZXUGRaSjFEUXdMMktsUnk1NjdFRGh6dGh1Z0h1YmdLZnNaWXEwbDhUb1FKZEMzVVdYeHJ2d0xIYVBZZkxMN2FIRkxPbmRwSFZmR1hOcUdpczY5Q0ZBVWZvbXBPS29mNkoxV3A2bmhJbUNHN051clJLbjd6TDFqM0ZhNEFRclZ3ZVFwQU9yRWlZYm1sWlBYcENXMmpsMFlMR2NrSTNQOEx3Q21ObU0zbWdvVWZEaGlwZWhhTUhwVU5kSDN2M1hhS0c5Zk1kNXF5N3lNZWRGYTR4QW5zYlRxNHcwdHRpQ3dqSkt0SGV4M2xnSzQ0ejA4RVIyb0VkVm9WRXJONHhvTG95elNsbmVEY0oyTTNqeEZaelpTNDMyeWtzanc="
m_p: "e34yD5S9455m7sa4tf2y1J27hf84CPyO92IGz0qvmbVUwx83XfMH88aqrTeGlx39"
e_t: "1614178186880"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299677
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:44,422-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:44,422-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "269171fb358640dabee4dbaa1337e640"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "SDaeoPOU"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "lcQtrZ5NfKaqUx2jOyRPHVemB0u9Tpnw"
}
sign: "e+kcQHk2sE0LZluRBpYwmTEgcxOU5lv955VMxjJvDQYudGxHchV61jyHDgVcH2vBB2BJlNHu7EUiAacPt0xHrWDfZ7K+KW+dptYyEAyJvbWk/feIxVXIcsDfrRkK8uJXnr6oFJo/X1sOR4W7J4zr3/KkifhHat31Wl9twk4Ad06zVUC1BYXnCC007Qbbd6f8YLiIoj2nU1TKv93lJoeeXVQ3LY30K9WQBQSRZaivbHP6Jyf2sUyjmdO8Cy1IPSGtgo4/WE8LDUeEbr4KWvLfsCMwo72CG3R3Utlgkkv1QixzwflyrTGBx9uJoTsh+os5NndfoUUplpx1fhLvVaWnPQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "269171fb358640dabee4dbaa1337e640"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "SDaeoPOU"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "lcQtrZ5NfKaqUx2jOyRPHVemB0u9Tpnw"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "DYy6LvkH6txqovyhZoojxqdVNigrLoMSqIRHAkGRYwbcGja+ZivIcgr4ERKfpcLt6dhr0XjL79KnvbEXjSD9kPnLpQjSN9c25ghWlTy0PDyaCE9OLzvNe7NkYXKsPz3bWFJOd+g/BYE1tH1NdWizt4v+tCtky2PF7S9zU0yMrTM="
  appKey: "1234"
  voucherId: 62299677
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:49:44,717-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"e9b3974a862f4d73a8e444e498f3b115\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164947168080bbf72f73eb1a792a0000\",\"sign\":\"55D0FF9B6228A236E904E61B40A8E3CF\",\"timestamp\":\"1614070187\"}"
}
payrequestid: "KB202102231649472076075925153042"
model: ""

2021-02-23 16:49:44,717-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4418472217266068608865220439]]></transaction_id>
<nonce_str><![CDATA[Yh8ex9JcXUb1LgHfjAM62wkzBspVrDI7]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[4D499EDAC3C8787E17F1C46C7BEA474D]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231649472076075925153042]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164944]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:49:44,810-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:49:44,810-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:49:44,820-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:44,820-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "86080609746855"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "HK6zybcwsep5X7vZBgTk2G0R3FMYIWuJ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:44,897-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c0c4b3af1991422787c19af39e793195"
s_p: "ZkdhczY1cEswa1VIT01VM1BFVDdCdGlFTGxYVk5RZjNCRUpwYlByVDRGcHJhcjdoS3pteFllRllsN1ZTaTV3TzZDWU94cGhIblBwa3pPTWV5djlHU0ZzYmRncTN0Q1cwZjdaWWsxeUtsb1E5WEp4ckpGTjJCT2FyVnJITGp5ZVRLbGlUQjNpRjB4WjZXM0Y0M3N0UTl5amF3ckNRcU5YSlVzOHlPa1ZLdDU3VlpRUllmMWV0NUhwVk9FdmpqdWI0THg0aWNHR1RQOUNkVnFaSmJOaW5LN3o4MGxRTGNNdURnQzJJNmJwUUtPeTVkWlAzSzVKN3h1UXpvRnhYNHZwOWZpenhkMXVmcENBQ0loR0pyTHU0QThPbHk3MjE1T0tLaGVhSk9Zb3RUa2pkN3Q1WGlVZzBteGhxcDBDWjhHa3F6b2pjU3ptc3EzM216Qm1GVURCcU1TMWUzaTBZVlYxVGxoZ25nR0lyeFVWYXRKanZ5SlFWM2p4b2prNXdobEJ6REVLM0MyV21rMkMwaVJIb3NIaTdwY2VsMjNEWk1JdlpwZ29acU9aSFI3NjRoeld3YXphSjk1ZUNjNm1qRjQ1bjdzSTBaRDN2YWNuQXZ3bVo4UTM4TEtKUEdxYURiRUdBeGxqSTVqZ1FOMlNQT0FVUWt6QzRxSzIxVkJxNFo2cjQ3UnRPMFZ2VU1VNHpOekJ6WGhnU3JyNlg1WW5aa2tNQkNOU1g3WEJmZEZMSzQzUG1zYjJWZjVQVG04UVFWTUZFM3FLZkdBWW9jcnU4aXlTSERqZ0E1c0pjQ0E3aVBueXdtWFpmaTFtM3RCd3R4TGR2dklxM3Iwc2I3dk0yVnYyQVFSZkFFU2VDZ2ViSHdpWUpWSFdiNlpCYklJVEtzM2pGRTBzY1QwajA3Vk5nMmw3SFZiZloya3hDOExtVGF5ZFE2dGUyZ1V2VkNodk9tU1JKNjFxM01EaW9KcmRBa1RhRVJuakZhTWdENW5nYlBMVG51cHVNRkNFZjY1cGpLQkUyVmR1VFNrYVpINXc5a3dEYmxvM2xDV2FvbXBvQmRBeGo="
m_p: "PPF4xqOrUXR11B7yYN9W2Ni1qvnggBrw0X1d8pfUSDxI477yLkDe6DhQHnCw82xH"
e_t: "1614178187379"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:44,899-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:44,899-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "c0c4b3af1991422787c19af39e793195"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Q9XJxrJF"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231649472076075925153042"
version: "260"
queryType: "PAY"

2021-02-23 16:49:44,956-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:49:45,958-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:45,958-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:45,961-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:45,962-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649472076075925153042"
2021-02-23 16:49:45,966-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15008, 'pay_req_id': 'KB202102231649472076075925153042', 'notify_id': '4418472217266068608865220439', 'partner_order': 'lcQtrZ5NfKaqUx2jOyRPHVemB0u9Tpnw', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 47), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 44), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 47), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299677","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299677', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:49:45,966-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:49:45,967-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649472076075925153042"
2021-02-23 16:49:45,971-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7694, 'pay_req_id': 'KB202102231649472076075925153042', 'partner_order': 'lcQtrZ5NfKaqUx2jOyRPHVemB0u9Tpnw', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 47), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 47), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 47)}
2021-02-23 16:49:45,971-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:49:45,971-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231649472076075925153042"
2021-02-23 16:49:45,974-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:49:45,974-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:49:45,974-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:49:45,975-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "lcQtrZ5NfKaqUx2jOyRPHVemB0u9Tpnw"
2021-02-23 16:49:45,978-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 157, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_lcQtrZ5NfKaqUx2jOyRPHVemB0u9Tpnw', 'partnerOrder': 'lcQtrZ5NfKaqUx2jOyRPHVemB0u9Tpnw', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 49, 47), 'updateTime': datetime.datetime(2021, 2, 23, 16, 49, 47)}
2021-02-23 16:49:45,978-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:49:45,978-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:45,979-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:45,982-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:45,995-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '52869386353347480734374045653282', 'bizNo': 'PELC9iG3TKbWVIgDxh6o4e5UH0QfuYzM', 'operateType': 'PRESENT', 'requestId': '21253522493074888228464581925500', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070185992})
2021-02-23 16:49:46,017-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:46,030-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070186027', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:49:46,051-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299678'}], 'vouIdList': None, 'batchId': '6031ff65755047c8bc3a721c33ab9c0f'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:46,065-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '6031ff65755047c8bc3a721c33ab9c0f', 'batchOperateType': 'PASS'})
2021-02-23 16:49:51,093-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:51,102-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:51,102-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "18772575990700"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "P5Al8ya7zRnZS6VHhBeOjgqspTKL0mC1"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:51,222-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ea45cfe307e04222b415b5f5f23b80db"
s_p: "QnN5akRPY1lJZUJmV0dIMENPcWlJZ3h0c2xCN1YwT28xajhhNlFERkdLUkR4REo0WUJLMEtYUXQ3ZWQ4U0VSSzVJYlpXOVl6aEtkV2FBd3N2MDBrMjQxUXJadUdPcUtJYjdxY1F0bkZUTmRmOUhxQmw5TElmcmVMTTNSa3dZenk3TWdLSlladzhzOFNuQ3daQWxiY0RVeDVjRG5MYjY0ZEo5bFNVbFBFMkduMERENXVzWXNWSmxiNDJKRjl1WmVCMVE0N0VBVGJ0MHJ2TWZCcVo1MUtJbHFzNHNYN2tnbjdrZURWVzZ0Vzh1Vk9ZelVLbVJTZzcyU1p2ZmRZdUYzOVlQR0hOeVFrdlAzNFBaNlNzZEN5ZVMwRHBhZW13N2ZUVWlSZURQU2dORGhTcTA4T2o2c1ViOERtTjhKME44eTYyYUVLMzI1blA2akpzWHZEQTBnU2I5bDZwRHc5NWx5ZzZhaGUzZlp3aGdpMzBjRmpZMGhqVDdTSTdIVDNEWTdGSGZWaG9ycUlBVnRDRFlpYVpiWFpSN3pZUFRETmhVWEh6bE53b3lnUjVxWEoyTWx2MnlGWVhkeXVtdXZJV0tmcmZKUGZTNmh2c3hNMzRBOUVoYzRLWVZnVnBrbk9WV3ExTTYzTEhkbFhCRHFON3E2dlVmV1ExT3lKRWpNSTltTUhLbEIxaW5FQjA3cXdiSXNsTEdkcHR3ZHU5N2RYd2J6b1FSaEpZbHVDamxuUzk4RGdLa0Fvd1FNUHo3c25FZU9ZN01YNk1WSElteWFneGRPQXhtdXgxMWt5WFVoakN0QmgxSkVHQk4ydERydFJRclliT2R0Sml1Mk45c0h3MWQ2R283WjhTbGRLMUZLeDhZNU4zWFl4Z01UN0pMRFRoalg5T3JBWldraWZYWGFMZzJSUlEzdDVibm9BVlh0c083Q2doMDc5QVFBRTFzNllrV3hTRkFqV1VpWGF1bENpWGdYTVduUVMzVG1QUTdJeUpBRlU0TGpoV3RORzhjZnFyb3p2YUJQMWNuMGdrUWFnR0xoTHpkRm1DUTZhRWtLd0RRUXI="
m_p: "j2q201yV15FE0z6FcW07B10BphJSDSzZeThQpkWV4yAKIt23Y3q3w8E99dHkMa78"
e_t: "1614178193664"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299678
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:51,248-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:51,248-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "ea45cfe307e04222b415b5f5f23b80db"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "zy7MgKJY"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "e7lAhnKgoOUMaRpxwZDquEY6CmGI09P2"
}
sign: "U62FpI503HK9mA5sBgi32O68Wlfg2Y6cwJtVf3qutua8KiacwTJB+jOSJP+9lDKOfXYrsR54ncnA/wV2wtaZWB1UXvhyE5v+axjIT6ryXr+r58hkaYk/gxqPpsyNzUwKOS9t2WMbqlwCojxLI/dR0j9l0x1t2A8T38i+WA98WmrHHsMvHt3HRCZ9ruB5oNHyVKsc0IdTChjBQHez41zVmlHaoJ5vkRbyJ0rPQrR5s6bNHLyCT20UenXjD35W2h3TMm+70AgB2J6KQki7/MVgrvP2llDbghnPH/LIrA/W24Yt4PtMdmfx7vvA+G1dEYT5EZoV92n2NA3+KQvBWVDWUA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "ea45cfe307e04222b415b5f5f23b80db"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "zy7MgKJY"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "e7lAhnKgoOUMaRpxwZDquEY6CmGI09P2"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "IGoFVr+uPr1cXappXnc2VFNytAVeZ1pcXcrTxpqdCQ65tYwyAhhvWS14w4+NWRwv3bHljj7gMaC6gv06/clfvBtW7gUUy3fOyknhuqtVJwXXNGp1Vz1kPredndPuXb3rmvDC+LH1WILERYGEwDpsBbDJpgZCUKpOy6zYocGcHuk="
  appKey: "1234"
  voucherId: 62299678
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:49:51,631-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"872d3d05953d4efab7e028f61573ba3b\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23164954084653ee4443fd68bd3c9c0000\",\"sign\":\"5280340B1B1066D2B561DAEEB3E1AA2F\",\"timestamp\":\"1614070194\"}"
}
payrequestid: "KB202102231649532076075925828602"
model: ""

2021-02-23 16:49:51,632-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2325324188574314374446030902]]></transaction_id>
<nonce_str><![CDATA[jmQCaNtrqxdhMV1UibLynH924vOs6Te0]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[A129C6D0A22850195BD38CF0CA18EF17]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231649532076075925828602]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164951]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:49:51,737-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:49:51,738-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:49:51,745-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:51,745-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "51723167509507"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "P7fL9uvcjXVNGC0we1qBRgklIU6245FY"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:51,823-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2934a65eb3e94e4599b6396e1bb14317"
s_p: "TkpDUG92eHRsc2NKcndiOFc3SHNnYVVaMEM2ZjB0UTI2T3J1VGRKdjVzRk5DTU4zUXVPNTUyNDQ2bWxBRlFLaEdpanJPMjlwcmQxdTlxRzc3a2hnQ3ViOExnWVN0aGJEdDRsbFJ2b1FkUndQMjQ4T0NzMDg1RVJIWkFRQjBRTDh5eldvNHY5Nlk5ckl4NFRUZDZPdkFXaHZLdjkyY1pVZUE2Sk91cThzZ2EyeTgyYlZyVGdZOGVhblVzczltR0hVbk82eXptVlJyNXpra2FIYk5oc1pMMEQweEVpdUVxTEw0c1NZanA5UEhKNnYzQ25WYm45eXNzWld0bldNNkdnN29GdEVOQlNBU1Z2R2JEMEh0bE4wWktxU09NcDMxYzY2a2Vua0pDWDNvd2tPcnV2YXJZUnNFWVBGMWl2M2J2RTBnSzVTamVUaFp2U3BuRmc5NTU1bUx3M3BQc3g3Z01nbGI2ZnNTRnMwek5OYlRqU09XMTZzczRMOEpFTllScDhmdUZlS2FoM2RPR2RDSWdicnJJTDFJUXdWa1NGZGU1UkRWYzU5bER0WFduc2FzaHQzdmthSjZKcGI4REI3ak1sSVRoMGduQ0h1aGkwZEpLalY0NDV1eXRhUXRZSzRrWXY4akJIc3Q4NmVYU2dKQU1vR0hIZlhNUndqRHFxbzBXcEJyWUplRkF1YWpQcUQ5QkFldGE3MTBWWW1lODZKN2lPZGlOSWREMElmQW1lVlNySUxDZzdhYzByOUIweERUbEJRbnVnTHdrMDc0NlVCd0VoNHhWVUNuNEFTUFcyNXAzc1N3dVBXV04wS1c4UzJOb3lZTEZLY0xPZnJzMWVYOUVleXFTQm5uTm96Z2d3cGJwMHAxNVlzWFpUNkg2Snd0TU5BZ0xVemNQb25CVVZFVkY4cnJZQzRGbkpWMFdrTzJyeFh6eVFVbk50SjRYVGZwS2lTRUY1RlZlWThtVmhad2ttZU5tdVlXcnZoTWVnc1A4bklmY1lVb2dURmlzU09WWmN4SFNlV1NoSngxVTZPVkJadDRtMzl1M1gxSkg4WnNEMjk="
m_p: "AocB692w917sS61jTi1uS357R87Bf1g0Ao95Gi69SqJmJ9GngQ2GEHyum8PX31i6"
e_t: "1614178194304"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:51,824-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:51,824-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "2934a65eb3e94e4599b6396e1bb14317"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "lAFQKhGi"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231649532076075925828602"
version: "260"
queryType: "PAY"

2021-02-23 16:49:51,875-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:49:52,875-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:52,875-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:52,878-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:52,879-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649532076075925828602"
2021-02-23 16:49:52,883-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15009, 'pay_req_id': 'KB202102231649532076075925828602', 'notify_id': '2325324188574314374446030902', 'partner_order': 'e7lAhnKgoOUMaRpxwZDquEY6CmGI09P2', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 54), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 51), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 54), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299678","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299678', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:49:52,883-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:49:52,884-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231649532076075925828602"
2021-02-23 16:49:52,887-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7695, 'pay_req_id': 'KB202102231649532076075925828602', 'partner_order': 'e7lAhnKgoOUMaRpxwZDquEY6CmGI09P2', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 49, 54), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 54), 'modify_time': datetime.datetime(2021, 2, 23, 16, 49, 53)}
2021-02-23 16:49:52,888-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:49:52,888-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231649532076075925828602"
2021-02-23 16:49:52,891-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:49:52,891-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:49:52,891-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:49:52,892-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "e7lAhnKgoOUMaRpxwZDquEY6CmGI09P2"
2021-02-23 16:49:52,895-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 158, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_e7lAhnKgoOUMaRpxwZDquEY6CmGI09P2', 'partnerOrder': 'e7lAhnKgoOUMaRpxwZDquEY6CmGI09P2', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 49, 54), 'updateTime': datetime.datetime(2021, 2, 23, 16, 49, 54)}
2021-02-23 16:49:52,895-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:49:52,895-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:52,896-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:52,899-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:52,912-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '18159033582528918254088171409807', 'bizNo': 'pzLc4Ki8Oj5HkZvMhwf0CYl3RPgUXTW7', 'operateType': 'PRESENT', 'requestId': '90057164162501991600452531935660', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070192910})
2021-02-23 16:49:52,939-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:52,952-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070192950', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:49:52,974-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299679'}], 'vouIdList': None, 'batchId': '585f375495fa407795aa842851f2f733'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:52,987-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '585f375495fa407795aa842851f2f733', 'batchOperateType': 'PASS'})
2021-02-23 16:49:58,033-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:58,043-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:58,045-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "92217225285338"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "heWEMS49ZvHARJrj1uy7Gzd8YPQowUf2"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:58,126-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "9b782d92f9714c7693d35e385c6923b0"
s_p: "akpUQmJjTmRocnd5SmdYb2FqeGQ5bmpqN3k4bklUbHEzZTY2em04b3dHNmlRUVdhMlN6UzVLYUFCN1ZoR211WDFKanQ4WFNJOXBXb0dDZlFlNnFRVGJmam5iTWJZWmVyS2Z5SXpYZU5nemlwZGNDaGd1THJrTmo2UjQxUEZqRjJwdmZ5cUVtUEpXSmhCZXpxYWdxVUVRN1pYWEpSNFFTZnVsTjMzckpoa0VndUU0dEdQdWZHSElQajBXMFZGZUM3RHNnWG80NjlIUzdRbk95bmM5YTJVMENuS2lPRGkxeWdISXFwMlUzMjlUeEtDSDluR0E1TDFpbFJmeUQxUFVUNDljV2FVYmRicFlxb2ZwaFNhaU9leTU1OGV0bG02bUJ1b0hYZ2xHSVEwVlQwTGIzcGtkUEZhYWJhZTBneW9YTlZCTXpkNTV5akxqcWtNREVQeU90dnRwd2xRYThqNDhLWnd5OXdhNmNuS3RpOGZhOExmZXdjN1JiOTdZc2s2bGRkRUQ5WllWNW5uNHVNT3VJV3oyZ1M5ZDhtOThHZ2VTaHlzY05YZUtkRmVrT1Z4cVpNS09jS2xSSG1wTU94bTd1VTZkQUszbFAwSmlzcEUzc2JLRTNmdlpPVnpoSzFBZHpCUmhvUVlVYVBzZ1gyaFJjcGlwdEg5bVU3OEI0dW51dndwaG02MlZaSU5scEJIeUxqRlFaMmtiMUVqWVA1ZDNYc0JrcjMwYUxYSHM5OG5HMGdDaURWT0tjZEV4bm5FYWNoZXFZVmQxNVQwYU1MaFBBVFZNVk92WDhDbnNreVpWQ01hd0M0WXUydFk0dnJyVDRscDFBemdLOHk2QVNlTEdjT3R2Zk53U0UxYTRUVHZLQmdsaWtaSnF2azdDR2lmRTE1OWd5RXBidXdIM1V1cjBBc2ZodlhKSDhlem5DbTVuRVZvSmxzclEzeE16cnhFYkYzcTJiYnlXak5MMlBtZWlvVjJpQW43dHhFSDM4OEUyRkdCMnFaMVQxUG9nQUxsZndFMk1oUEhadW5MR3hQSTJaS2V2c3ZuSmw0Z2ZRSVFjclc="
m_p: "XVh0QJRFro6x4Vx20lOXje7a3lN00HHtyg741VE1Y3062638MUAxeXY2P7rd3387"
e_t: "1614178200605"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299679
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:58,148-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:58,148-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "9b782d92f9714c7693d35e385c6923b0"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "qQTbfjnb"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "Z6b4UjE9n1HtfLkBAxQYv85iyRcmWhCV"
}
sign: "juuqVBASIiLCZOECMIea/WAHybbsFF26lxabZAIWwwyHRAqqvvvLj4jlaAz+xmpLGzQmqeOMuG8VKkUXZ2RUZ36mcd3re7vGZVlrRLkHTb+PbzHVdXU8ZwGvaVhi2M2G4Lp5PdoH9Y7F7uP6TA6EPng8pfwNUBOyOjqxZfPvWFY28ND5eNMywQ/+Nm+CGxyDDWCYr4YybG4menvvoO/rJx+Bh6S5WlaanWsbSF7IRhAQ125m1mywHBN+q/kmcv5QS3phKOrKyOpraBcA5IlUJgJn+/7V6iIkA4Y9WJqcGzCshuV6fYH9iy6FVWGSamHlEjlSmVkYA2vTFaKq3TEMpQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "9b782d92f9714c7693d35e385c6923b0"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "qQTbfjnb"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "Z6b4UjE9n1HtfLkBAxQYv85iyRcmWhCV"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "PhzzQtMZqx+pX3qBb3MLnoU1OMLsjkAn1iHfYtIeEuzVAEXi3L7nvKSZ7sFBWfdPwO2bcPYbUGOE6li2tAj4PWeQvxJphDabmFLzQ7AyZZ+z+P4q/V/CbUKEvmBwXc8Us/1eOwGPZBUMvjEXt3beypTNTYQOkAE6+bFGKdlI49s="
  appKey: "1234"
  voucherId: 62299679
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:49:58,491-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"cd6cf480fff54a12a867583df5f1018d\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23165000906697575b7e3f765d6fb60000\",\"sign\":\"9BB621A0EDD6DFD99A43EDFA8B2E5EA2\",\"timestamp\":\"1614070200\"}"
}
payrequestid: "KB202102231650002076075925224732"
model: ""

2021-02-23 16:49:58,491-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8733234149998767090505613402]]></transaction_id>
<nonce_str><![CDATA[Xm7wIbc8yhGAtUoOHCaQ9N5PVnDEz2FW]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[2E761AE8EEF73C665EDDEE456437C945]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231650002076075925224732]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223164958]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:49:58,597-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:49:58,597-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:49:58,604-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:58,604-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "17064845570965"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "a0UW2Imw7CtvHdxSLKgBzoXl4siAEDMY"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:49:58,686-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4af879e5683a4327bf5d4381dd060d40"
s_p: "eWZlTllQWG9EUUtKTmFhd0wxbDVlRnpoWm9obFZGakdNTGlid3hxMUc3eURhdUFvdnVWTGNIb1dVVW10VjVYV3EyTHU0dHVSdHRsajVNSGhGcjRJZGd2SnFpbHlxc2hrV3Y1aTg4SFB1NzZ0aXR2SzN5bnBHNDR6V29qbjUyamNKNXZ1aGlYOXlybGd6YXhpR1JWMDlNMUVvZjFNcjJUNXhXb3J5MDgzWFdMdUtHVlB2ZUt2amJxRUl4ZkQ2M3RtVjVGWERBaXlScUxSVkU1YXdxZmZYMDBjc0NxRk1SSFBOTHZLWGJ0eUpUR0QwelU3OUJ1TG13VEw5Z1RCZVBLb2JFbkZoaFFYYnBYOEJhUUs4c3RhQThHN1pTTmhYbEhRNHZHcmQzcm1mR1l1VXFsNlBObVNqakFpaUdqQ0tIdTV1NG9jVXZnQ3hSU29aV1RkUnZ2SHptMlQ1WkRONEU4RHhiNEtGajZQYUtXcHd2U3c2OHJxWG1yOE96QXlqTnFiVDZIZWJJenRualZ5bEUweWQwMk9OOVZOTnVnN0hCU0NZZmJKa1pLTFZJOFBwWjE0aU5iUk5rUHIxQzFKcDVYcVZZdGVoUm1sdUN4QXV6eWhydkJKeW5YckV5akwxY1dQMVJ0SGJMeDBzMTVEZWtoVzNlUFBKWGhQU3dzNWhaVkxFU25nYU94S0o3ejMwNXliWTR0c1RZWW5xQlBobmJlWHFqNXdSRlI5ZzRNM2w0MThZTmNONlpxdXFQR2szVmc4anNUY0FhVkdxQ0JjSHlDSHJUV201QklnNEdvQlJHQW1UUDhFc1BQQVN1V0sxeThDSWl2THhQYjFwcnFHVGp3bFhBZ1pEOW5Od091TjA5QmJ2Z1A1c012RzNTREVzc1pZVmpVTXhGSFQ4bjhYeDg1VTRjcm5MVHEyNFltR0hRTldORWhxQ1diTEVPbFc3Z2dLd0JyUm41ejdKU055WDlhclNPd3NIYzUzaXBjNktBb054UkxqWlZ5cG9JbGpWS1JUWUh5Vkwyc1pEOXhvOFRjMUoza1ZGUWY3aFpQSEhSa1M="
m_p: "rTvl6E93YxK6Zt6WUpGDi1K8yd3ltlp0o0q122jX2n935TyW92Akj164e757EFP1"
e_t: "1614178201166"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:49:58,688-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:49:58,688-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "4af879e5683a4327bf5d4381dd060d40"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "u76titvK"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231650002076075925224732"
version: "260"
queryType: "PAY"

2021-02-23 16:49:58,741-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:49:59,741-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:59,741-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:59,744-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:59,745-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650002076075925224732"
2021-02-23 16:49:59,749-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15010, 'pay_req_id': 'KB202102231650002076075925224732', 'notify_id': '8733234149998767090505613402', 'partner_order': 'Z6b4UjE9n1HtfLkBAxQYv85iyRcmWhCV', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 1), 'success_time': datetime.datetime(2021, 2, 23, 16, 49, 58), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 1), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299679","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299679', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:49:59,749-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:49:59,750-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650002076075925224732"
2021-02-23 16:49:59,754-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7696, 'pay_req_id': 'KB202102231650002076075925224732', 'partner_order': 'Z6b4UjE9n1HtfLkBAxQYv85iyRcmWhCV', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 1), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 1), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50)}
2021-02-23 16:49:59,754-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:49:59,754-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231650002076075925224732"
2021-02-23 16:49:59,757-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:49:59,757-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:49:59,757-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:49:59,758-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "Z6b4UjE9n1HtfLkBAxQYv85iyRcmWhCV"
2021-02-23 16:49:59,761-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 159, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_Z6b4UjE9n1HtfLkBAxQYv85iyRcmWhCV', 'partnerOrder': 'Z6b4UjE9n1HtfLkBAxQYv85iyRcmWhCV', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 50, 1), 'updateTime': datetime.datetime(2021, 2, 23, 16, 50, 1)}
2021-02-23 16:49:59,761-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:49:59,761-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:49:59,762-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:49:59,765-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:49:59,778-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '19870780507641163202273617657058', 'bizNo': 'ib8RFZMEDnxf9pzjYWCth5oVs2uNOmJy', 'operateType': 'PRESENT', 'requestId': '00821760774751802183379537525638', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070199775})
2021-02-23 16:49:59,807-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:59,821-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070199818', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:49:59,839-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299680'}], 'vouIdList': None, 'batchId': '4b1bf1bb9cfd40ea857b21463bbad5ef'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:49:59,852-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '4b1bf1bb9cfd40ea857b21463bbad5ef', 'batchOperateType': 'PASS'})
2021-02-23 16:50:04,892-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:04,899-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:04,900-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "54207607074862"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "w3CrMAt1kRDusWXZUH69vTn08lNmLj5G"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:04,986-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "191e1996c5194159aec2420a99856f19"
s_p: "YWE5WDVnYWlPWjJ5N3lycVduSzlxSjVJbHNSdmVrclJETWhxTkRWQjFFRm1JSWtSclh1M0tTOVFUR2xRbHZtVE83WGZUc0gzMzRCOGVZTWEyZUVnaDVRSjFpd04zYlUzaEYwOU9GMXpHM0RjSUxpTVd3QnN6dGZ2MDRiZUt5VzdVVXpnN0VrOVB6TlFKd1NtZkx0MHBoNHBTVzZnZlVKaTFkNkRRb2VwZ2xDSGg4T1cxd0locHVOaVpBZ1Eyb0d5cThuVWdpcWg0R2V2eUJyOWlhTUswbFplRVY3MnlrdlpHTjI5cjNJbkdIaTNDSFdGMUt5Mk51RGZHQWFGb0NoOXFuOTlvcURIMGpXRXhITUVIYWJQdVFzQzd5RHpBRzZjWEdqalE5UFpJcHp0TmVBblV0elVVM3JackwxdTJDdkd4NHNyUHJ6dVFpa0tYamxZTzlaRVRXbGNySGp0UlBzRWRkTFpSMHplRDRMUXpkYWNnOUZlYXFqUmpVRERNTjQyb3BZN3hqa0ZzNWFJeUNzbTFKelBNOXh5cUxETXdnYUFWQndzZUZzNGhFTlB0UXV4enRSeDUwVDVBN0R3cFBqWURTQmRhZUM0TVQ0ZUFXcUUwV3lMVDRRWHJYYnROTEdlUE9OQ2E0RDFvZEIyU2VSRElzaUdmeWhpTzFoV0ZlQVRZcHVoMWRTQVpDNllvQ0QxQ3BPeHVpbEM4THIwY0xDM2REOE5SbGM3N0cyQVEybm9QMUM3SVhBaEhMNGhpYkQ4dndkR0UzUVpqc3dyTWZiV0RsT09NWVRSVEpIbHZKaU1hOVRrUGtYNkdVSU9COFFsc0hxUHc3RFR4Z1FjckRraGw1QWNiSGNwS3VidmVXQm5aTnBkRDNUVDN1ZTl3VndmQ3IwMFFFMFZyWWlmUERqZkJBWlp5OUlySTM5ZDJ6dE5CTGt2dkNEeWtFdDRVYVNmY2tET3BubkhPU0ljeWVPUDFuTlpFdzRhZEw1NEljc2pzcHBjeklTMUZaSDQwS2hYaHJmajh4VjR6MnFMMHBJNTlVVlVpcmxaWXhWOHREdkk="
m_p: "y627l9wSh751BACXIYIj3t8pX2zCX4U8a5OB7Vu9w3X3y1ti23099OM8pnR3dUVr"
e_t: "1614178207460"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299680
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:05,025-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:05,025-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "191e1996c5194159aec2420a99856f19"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "k9PzNQJw"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "y3K9L0YHJgXcWrZvbS5hTtpjdM8Aql6O"
}
sign: "TBBGU89bybFb5y0YKeF2Pk9sJopG6ViPY29/Ag2CfKe4Fp23iwvX/R0dZm7/Y/oVk9oCG9r6Zn9+xgHphT7Ky/MKNmHzlXe2yXKzUePgfargdNFWb4EbkuaYsyJEpzYQqbtFUNtOA8RjMKCEsEaBYzwlJI23PJUSock5LAdJIwTX3uKfr1BsDpGRQAGpJtSF0+lXLm1Qey4ZFVBEwM3RfXscldKtlwROp1mYz+pys8d5mCXOc1EOzKEEVPt5yDIAzasFVfAqosK8GQJQCUpKVih24TK6vZoOh0O7rw+OM0+QqKzzwT3bguwoS3DtFDBB+qy0jZYK8m/iHZxpNQrdOw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "191e1996c5194159aec2420a99856f19"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "k9PzNQJw"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "y3K9L0YHJgXcWrZvbS5hTtpjdM8Aql6O"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "GmcZ11+94QpOoTQVQV67huVX1BTfeyEnZ77tyJi+v78U+3LgYaA0B4ZLU5eCC+O0F9iWyl32ROL/Zn0tIuTekzfwHTo/MKLPZSkkHIlQFsDPcPwLdxL9hWSoa6TSQfdYDXyWuNac0FG2KkdmnUYXGQxhm7hq+4V+ApstsiJYO9Q="
  appKey: "1234"
  voucherId: 62299680
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:50:05,320-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"450f749957a74ef98a980ba803676c44\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2316500777786431086f585493bec00000\",\"sign\":\"F6086093D416A2514428FCD7EA5E04B1\",\"timestamp\":\"1614070207\"}"
}
payrequestid: "KB202102231650072076075925351682"
model: ""

2021-02-23 16:50:05,321-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8119733676582648771087290657]]></transaction_id>
<nonce_str><![CDATA[ucKkDfMJTxHpigdCwPyWBIOjv8RQlaer]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[BD09F73880F076975306C8FF8F0011D4]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231650072076075925351682]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165005]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:50:05,421-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:50:05,421-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:50:05,429-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:05,429-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "30986790742593"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "jRNeXigwQfMuFGb09xBta4ldKAPspEzW"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:05,532-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a852c214bdf94386b5c7c60ec607dca2"
s_p: "Q0ZZNU9CRklJdm5BMk5KazNyMERjb1ZKSjNnSGRMSUt2MHR4R3Bhem5qOWNaVVpZeTZEWkZvS3BVYnR0d1FTVzdXUnliOWIwY2YzYjVReVprak9nak9PM0o0ak1xRjN3eXdWN3pWc1NMdnJFUWRqQnBKMjQzd1hzV0tPcVZzTUo0TlRFOFpaWlJtdURBbGl6RklMN0Y0eGU3dnE0Rk5Wd29yZ2V0WDk4WmRPcVRQcUlrbUp5emplS0U5NExaUEg5QlozRUhNOGNOQ0VoTk5GaTdxVHRNOWpGRmttcVZLNDlZU3JXc0g5NXNFSlNiRmNuNzdiTTVCRmc1S2Nzd0dGenJHSHdQNFFFUXN1TlJyTDhPc0tDUUZRZVF0UFhzTVN6VW9XMzg5bnlMNDBsWm1aSllZYVlCUHhyeFpUc0JxbTh1TFRRbnlaVzBqc3UzZzR0MUJZQzNjVThIcTk5azBmdWNMcExSWDRkZVdkaWV0b0xKWm9IT2FTTlFGaXFvRzljTzloMWZqRnU0N243Zld4ck03NWp1M1JXNWc1akJENmFlV3dpWGlGaUVWUkJVaFRVdG1xRVFQcW15ellQbG9zRUxtN0pScDZaQTdqckEwNm51REF2WmFMMmlCVG12eXpCOGs4Z2k2RzRwaWlSWnk2Znc5MmVEdkdVT1hmYXpQbmZqem1NSUxSc2FXN0Z0dHJyMm1oSXdkejlDU0hEVzhXOWRpdk01emZUUU9sakRETk9nOXU2WDg2OFdNd0Z1Y0hsUnpvT3NlNllITEt4THJERFBCTUR1WXhjeGY3M2pmRzVSMGQ4V01vZERuVEtlWFAyTFFlYXAzVTBPRjZTS2JJdTFoRERYVm44ZDU5ODVkRVFtcnJyRjVYdFQ1YkV1SHBTcWRQQjVMVGRQb0ZIZnV5TWNQMnZQYk5CNUY3U2gxVjJMa0FNTVR6Q0toaUZUdXl1WkFyUVpSYVBrcWY5YkRMY0lXN3cxTWthUDJGMlVKZTlMalZlUnZYMlRNU0JOdnJWMFk3M05PTU55UHJ4Mk9qYk5GUUxZdUdyYjR5WmRwUnk="
m_p: "x4WW1QAYe5S4x6126NJ80yM9dFJ3TxGX0ug9r12gP9uKzUi8slr3lQ43Xq6LOT41"
e_t: "1614178207991"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:05,533-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:05,533-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "a852c214bdf94386b5c7c60ec607dca2"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "WKOqVsMJ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231650072076075925351682"
version: "260"
queryType: "PAY"

2021-02-23 16:50:05,581-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:50:06,582-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:06,582-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:06,585-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:06,586-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650072076075925351682"
2021-02-23 16:50:06,590-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15011, 'pay_req_id': 'KB202102231650072076075925351682', 'notify_id': '8119733676582648771087290657', 'partner_order': 'y3K9L0YHJgXcWrZvbS5hTtpjdM8Aql6O', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 7), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 5), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 8), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299680","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299680', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:50:06,590-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:50:06,591-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650072076075925351682"
2021-02-23 16:50:06,595-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7697, 'pay_req_id': 'KB202102231650072076075925351682', 'partner_order': 'y3K9L0YHJgXcWrZvbS5hTtpjdM8Aql6O', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 8), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 8), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 7)}
2021-02-23 16:50:06,595-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:50:06,596-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231650072076075925351682"
2021-02-23 16:50:06,599-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:50:06,599-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:50:06,599-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:50:06,600-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "y3K9L0YHJgXcWrZvbS5hTtpjdM8Aql6O"
2021-02-23 16:50:06,603-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 160, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_y3K9L0YHJgXcWrZvbS5hTtpjdM8Aql6O', 'partnerOrder': 'y3K9L0YHJgXcWrZvbS5hTtpjdM8Aql6O', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 50, 8), 'updateTime': datetime.datetime(2021, 2, 23, 16, 50, 7)}
2021-02-23 16:50:06,603-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:50:06,603-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:06,604-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:06,606-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:06,620-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '43052982063085406253771922988991', 'bizNo': 'Gz1Q3oyNUk50c2LI67HinhKsqaJEAYmM', 'operateType': 'PRESENT', 'requestId': '93552278617812855101400458846883', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070206617})
2021-02-23 16:50:06,644-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:06,658-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070206656', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:50:06,676-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299681'}], 'vouIdList': None, 'batchId': '9e0179896215475aa3bdcffd68192ae5'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:06,689-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '9e0179896215475aa3bdcffd68192ae5', 'batchOperateType': 'PASS'})
2021-02-23 16:50:11,718-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:11,726-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:11,727-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "55089175472898"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "eKgSFW9HsXahnrq2y50UAZVLxklYzTMv"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:11,814-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "e00f6dbaafd64965a369113f791d26fd"
s_p: "TGltS2FsMEFYODZDOEhRZERnOGcyelNXRWxVQTlWSTNBWHhrM21PYzk3dG9YQndRVzFQcndPZ2E1R05LY0JOMWhQWGFVWkk4QkRTUGRtcldER3lDamZta1NVcVF0Y29iR1ltTTVCNmh4TWhRVGllb0c2M1hldVdxbGpyYkhqdzBlaDQweHAyc0Y0TFl1QnRWZTk2aWlmdkRBT2puSTgwaUhzRW45bHdRaWlxMUtDNWVWbjZkMVBJYktHUWZBNTZjbE5FVWtsMThpWjZqYWExMHR0UlBPRk9USE1KN2ZZRmNVNWtSZmVqQjdEaXFNOGpRNmpCbllvbEZ4S0dOaVo4Ymdnb3lDOUF3bjJjOGcyR0pOSnBOdzBDMG1ZWjJ2ODd4YWlQejZvM3l5WWVIMjRMTlNpSDgxcE12NUllY0hPTGw0SkVMNzZSRXhFWGhHUWtlaWhkUFZlZmR5b0ZXUjBSRXNKSEFmWDVQS3QzSmxHd041VzYyUFdVWW1CUjBTV3hMY2VBSGljcmt6WkdreDQ4aXozZXFHNzJBaWJGQ0VVR0ZjN3RpTTRZVGV3cXEzUEFMWG83aHRpajh2SlJvRUpseHN1VVkwOXBqUG9nd1E1N0Z2WUFsM0UwNTB6TlZMd2k2WnROak1PcTI1U0Vsb1BPd1dTYm16eW9wNUxGclFTUXB2c25id3hNODF4S3Y4MEJQRVFDT0ZSSHcxV2p0Z3A2akk2Vm8yRWc4bnJONVZFYmw5SXdnTUxTalVTMkdzWFluc29Ya0ptbENjdkpSUzA1RmpqcElEVVc3cTI4aWZOSHdCeTNQRFlUb041T2ZnZmlaRnEzV2xPdHRSM0s2YkNBWEVYWjd4SHVkOHZ0NUFMcEJCNzVjQm1rVmFFV1RYR1MxWGJ5WWExTEl5TWVqWGM2WUk4Rko1WXdRaldxbGl4S2lRUUtLdkVvY0trVFh0Yjc1M0RON3FESFlyY3ZBazZHdEJwSjExUmI4cVNObFR6TjFsOXZvaHZxZWpFeDB3NFNMQzg0TFdEQ2ZTejhMbXlWMTZERm1QTk02NDBDVkVNMUg="
m_p: "aNgj7dYcCp5A6X502c747IxdRP0Rq0374xD1j0m5TY0Rk85iVWxHrq7S5aiTIkLw"
e_t: "1614178214286"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299681
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:11,839-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:11,839-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "e00f6dbaafd64965a369113f791d26fd"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "I3AXxk3m"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "JsSZ6o8Ac7tmFQEVvXfBrlLRzGC0hu5T"
}
sign: "LyvJp0zd84DN8Tsl6bTJ1qZBP63XK1IyPzx2RpIzFwBjegXxlMJuXK/MKZYQ+ByngpEP/MqU2qcHhgluF+YUAOx2VgTwX3hBo3qrPl2V7m+4f2KNP5bHQEzeq8mP3RoDTLZb/W1XJVrm/FHrTi3kseiZ+0LzxRTpRZzgLfAqQZJ/bSDl5aXbqg/WgmaqOKdZy8AWQ8CBqAFOxfAVzEjAnKUZjG2DRz6N6lTSqhM6NptFJi3KayuJEHFpywfQ8nihz9ebUVt8w45xN2xfVomuA0nCfJiHrU/S4wwWGNnb5I3DR+FCXUZEs+XL92rLdRM7//L+qE8q/gi2PJRv/WnLHw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "e00f6dbaafd64965a369113f791d26fd"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "I3AXxk3m"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "JsSZ6o8Ac7tmFQEVvXfBrlLRzGC0hu5T"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "SglnkDps2/o3zXCVX7oaF7mvKDQgSyqZN1GalhmkvRoktZEaE5EZQrR7gKpki3COk8WQ89VgrFLkZnJaybxwDIk9wWuKz0r1HTenCla9avtlyoC00IGB8EIXYArqG8Qo3CCiLPo0Vu0vw8/Mn7kGVkktTanNWTk+bEGnq5rw/0k="
  appKey: "1234"
  voucherId: 62299681
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:50:12,158-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"334aa1afd6594f59a5face6734ca189e\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23165014607286f13502043a741f830000\",\"sign\":\"EAF4583714216D46BFD2A7E80E2A3B13\",\"timestamp\":\"1614070214\"}"
}
payrequestid: "KB202102231650142076075925541662"
model: ""

2021-02-23 16:50:12,158-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[6386285600079946820033562888]]></transaction_id>
<nonce_str><![CDATA[7aFItC1frpjEXVoQZlkKdLD3s0Hh2uYA]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[97ED0F437C0FD885638F7E6684A5FBE8]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231650142076075925541662]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165012]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:50:12,260-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:50:12,260-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:50:12,267-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:12,267-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "35689661929346"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "JWoZbDvSr56iVfjcHqhFQNA3daLm2gIu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:12,342-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "08778251d56e40a9ba8d40ae3e06ec22"
s_p: "eEtRb1VtcHlkUFNxYjlGdDROeGZocnNBeVVxZzlFZk1GQXRNZjNrRVprNVlIbTROOTJMNzZxVjRjakdmRWl5T0NIZ2N3NTNaWHl5blNPOG5lZG5wTEJ4eFlzMEE4c0haUE9qa3lxZU9jUWJCVjNSSnliWU42SnNSY09YWnY0d1Z2SzJsVG85OWhFU2ZvdElIdnFqQ2JSeFBwc3gxektsRzF6YWZaY1RoS0RtQVlSOU9DdUg5MmM4SjB3b1hPNkc5a0w4VGpuMTZnUVNCN2hBT2EzN3RSaHJ1QW5MNmdGMXhpUnRzUW5HeDdMRGtDeG15T3duRUVXVlhrRFRydGJ2VTRFQ3hRSXM4ekljaU50M1Nmc2Q1aTBjQVZZZE5CU3hMM0dGTEl4cDF6NHhtUkx5M2ZJb2ZoTlVHcUtNdHp0OWFnMkJhZVMxQTRvOGhSNUxmUlJJUEo1aVdYakdieHJoTmFQeEgyMGp6TVFEYkxlMHJFUDU1OWh3YTA5R0RieWZTUFBsT2JKTWNJSE9yNUNUb2JFZHRtQVFLWFVRc2pDQmFFR2NpYkZ0eFpxRHBPcDgyTG9OS2VTaWJGV1pveDNvOWt0S01WdDFLdW5ZU0FnRTFjYWFkQTNCNk8zWWZZYVFJc3pXSmkwMUxPOHUzc05HdlZwZHJZeXBOYkE3OGl1cHpqY1JiSEFDTVUySm5QazhrM202Znc3eVFmQm8zckJnU3A1TEhUNzloYkNUWlF3NmVWcTBPQnlacnBIcmI3aDZGMUY2cTRjM0hqb3ZYOEFrQnU1TXRSZ3VMMkpDOUQ3c3JDTUM3aGoyRXJkV1lQWGE5N0ZFQXlpZzJmOWdvQjVpQ2pBYmVXTG1aVzZCMGN5amF3cUp6U2cxUEdnMGoyNzFoWDZ0akRRWWVVSmN1Zk5YSEtIQUw1UWFDU2U1cmRlWXFGWnZUYUtRVVZtQWg4OFhodWxSMkxpQ1lzUlBvYlJiTEtKaGZVRzU1QW9JZ3ZiWlN3NXg1YWZlVmdoNThIR0k1UXAxcWRLaGJ2Y2FCeW1ySmlyeE9kR2lQZlk4SFh2OVc="
m_p: "N52Rm79uN9b1Hi8W5WE02MV0lj9df234183t0oI94s24FQSCt233GU9v75dJ9mjg"
e_t: "1614178214826"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:12,348-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:12,348-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "08778251d56e40a9ba8d40ae3e06ec22"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "psx1zKlG"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231650142076075925541662"
version: "260"
queryType: "PAY"

2021-02-23 16:50:12,392-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:50:13,392-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:13,392-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:13,395-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:13,396-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650142076075925541662"
2021-02-23 16:50:13,400-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15012, 'pay_req_id': 'KB202102231650142076075925541662', 'notify_id': '6386285600079946820033562888', 'partner_order': 'JsSZ6o8Ac7tmFQEVvXfBrlLRzGC0hu5T', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 14), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 12), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 15), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299681","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299681', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:50:13,400-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:50:13,401-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650142076075925541662"
2021-02-23 16:50:13,405-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7698, 'pay_req_id': 'KB202102231650142076075925541662', 'partner_order': 'JsSZ6o8Ac7tmFQEVvXfBrlLRzGC0hu5T', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 14), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 15), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 14)}
2021-02-23 16:50:13,405-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:50:13,405-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231650142076075925541662"
2021-02-23 16:50:13,408-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:50:13,408-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:50:13,408-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:50:13,409-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "JsSZ6o8Ac7tmFQEVvXfBrlLRzGC0hu5T"
2021-02-23 16:50:13,412-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 161, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_JsSZ6o8Ac7tmFQEVvXfBrlLRzGC0hu5T', 'partnerOrder': 'JsSZ6o8Ac7tmFQEVvXfBrlLRzGC0hu5T', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 50, 15), 'updateTime': datetime.datetime(2021, 2, 23, 16, 50, 14)}
2021-02-23 16:50:13,412-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:50:13,413-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:13,413-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:13,416-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:13,429-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '26168534697266528671970660771930', 'bizNo': 'm61uDjtv0SnJRoBwY9NyX3hxqHbrsIEp', 'operateType': 'PRESENT', 'requestId': '32703288627035212790447490188170', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070213427})
2021-02-23 16:50:13,450-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:13,464-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070213462', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:50:13,482-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299682'}], 'vouIdList': None, 'batchId': '6308bc7494cd4a068168cc7929a71f24'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:13,496-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '6308bc7494cd4a068168cc7929a71f24', 'batchOperateType': 'PASS'})
2021-02-23 16:50:18,534-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:18,542-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:18,542-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "74216077599314"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ZqT0eBa8GslfmrKz9d1UYyuJDV7jgOiE"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:18,619-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b18353df080b41e186b1fe19d8e7a7c4"
s_p: "YTEwdnZIT091Vk5kUXFGMUJqaWhGZnlVbktJMWZ3Um93WmVTOXpIS1RERTBuWnBNNnVuREl0RzFITVJtOGFMVkJRdmIyRzR3SmVtYTFOdE5rWGNSM3Q5MnBCWjRVUmIxN0xYTFVBMXFFdURnZktvZE5Kbjg2cHd5VGwwOFByZnRMTHFxc3NSb3FObFpCWlBYYWFxclBTNkcwa3dpTGRNdlpvY3ZkSFVzRlB3d3B6VW5RQWJ2djE0YloxUnhoMnBwVHdUV29QcmRoZkc5R28zTEJaMFJaMVQxb1Z3VUtwSHdtUGY5dm5tM0VsV1IzdkxPeERCMHhUOUJkMUZIU1Q4WTZjM2xXZ2pRaDJTTEdIVVFNbE9jQjVoMXBiclp0aW1JZzlRVkFjQk80a041a3lLWkhoTklYZmh0Q2J5anplS0w0NjRGU2tsRHZ0THlreE81TXh2Vnh3OHlTSE5HQXlMZ21vdTdFN3VPZmlkcXdSNEdWYWtjaHEycVRORzVtWmswSnR0dk9uYmc3QmQ4RmVoRUs0VjA2MW1lZnVMMndRMlJRRng4U0RWWnp3bGs1ZEhTWG9DbjF4Q2IyTFNDZEV0ZWw4elRNc1p5Sk5kRW9QQ0FLQUVvckpkWXVCcUFkZmJaQ3RkRzBqTE1OaXhSYUNwTXljVEtHZU5VZkk4ZDBsMzBJbmpWYnFkVjBrNUR6RktpeGNPTUVORDlkMGVReFIybEZiZHVnS0VVVjJQV25yTll0WU9wdE9PWWtMV2tSUnQyV2ZmZ0hzWE9zNGJYbkVIdHlabHZFODlWMk9yaXRKRXVMYjFTQ2tCRDFLeGZJcnY1dmdYM1dFWFlnYTYweHAwejAzUmVIRGFqeE9COGNiS2lyVjRVU2NESm9LN3JQUURab3lkWWNRalh4T2pXTmhSc2VnY3RXTDRDTXdGQ3Fka1NYWDNMTFh2aTFGa2FacGVSQkJyRnN1UjI5TWJkZkgxalVQZFIxSjFvRjZnMmljTGVDc2hTNEZscndVaExxSURhNDJWNHRwM3l4cW9TU2R4RDFRbnhLTnd6MTVPRWZUbEU="
m_p: "0yZ15SEQiZwIMOB39nw8Ro6h3i0760aSd5uVGl819fE80AO1JX9LUwlsN3jfO0LN"
e_t: "1614178221102"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299682
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:18,644-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:18,645-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "b18353df080b41e186b1fe19d8e7a7c4"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "a10vvHOO"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "4uGODsR6cPg0eFQBWTM2kUSJvItf971z"
}
sign: "Xvsv5rxgaDYq8E2cojfQdCyvRR7wRcVxQc7HvwoZV5aDPEvM8UE+2o/PWQF/i1ib0bXxdJjSbYTytFMF8hivkTypcapMqPw0ASYd1RPm6nwp1v6WFQJO55w5sKdRMgVmlsG2nNcR4Xi7r3y67qwofQkC9lpbB/OxTn0Vhu6tkeWJDzerMHiizxgQf1G2s7VY9zbl8wX6ALoSQFaWNuO2dLaD2ZHSoyfbwzAVOa5jpukFoq5JIRsmLCdOtDwl/VnfsDK4YpYY2FJAsaLmJSAwBZR4hCOKJhnyByj4QYrZJb/KqV7LSD/lJfNLcWw+vCOMNi0gApZ8ZuYnxcHTzLYWgA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "b18353df080b41e186b1fe19d8e7a7c4"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "a10vvHOO"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "4uGODsR6cPg0eFQBWTM2kUSJvItf971z"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "AuKRE08MXwGTOoWwMl8dBZqUVIgox62t0PI2bg0mYh3o4VuRwlMlzn5c5bHRUmC3a7A/NiSsORlFvcL7AN52XlUR92JTjLAVUWFUITin/D4qdZchdNa0PXg11xbstELLSkqsApkclg+ERTQUS0c6pkn7SmbykO9QOz6fSeE38Tk="
  appKey: "1234"
  voucherId: 62299682
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:50:19,031-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"32fe851c3615490c9279db63385d514b\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2316502147201605315282116202220000\",\"sign\":\"1140D6DFBA3F4056DF80E8C34BDDC9C1\",\"timestamp\":\"1614070221\"}"
}
payrequestid: "KB202102231650212076075925130842"
model: ""

2021-02-23 16:50:19,031-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7811824604220320719257539741]]></transaction_id>
<nonce_str><![CDATA[eb6GtCSzr7AInqWUjvhmTPDORiwB1F8k]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[B0F8636900917B9727D35722FC6F05A1]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231650212076075925130842]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165019]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:50:19,128-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:50:19,128-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:50:19,136-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:19,136-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "42944820559583"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "6JbVolLk4BdjxmAqX8ERyw3svfM1HKhc"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:19,236-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "edbfc06af413446aa36baacbd5973fec"
s_p: "ZmFWZXh2d0FjSGxHM2ZMM0tvR3cwbkJ5SjVEeDBwdThDOXhjNWZmZkFTMDJLeVdwcGdTZjd1Rkd3M004aG9xWHlzVUp1WncxVUh2WExLU2NtRlNIeTAyUkZMVXZ6TWoyZmZxTnR4TkEyakVOeUpCRUxETVJZaDJVQVQwYWQ1WDFwMFVHTDFQSmo1UTl3YnRrS3JlN0JxQjhlV3VVVERuZzJ4endKNkVBM1RVaXlUWXJwZmJxQ0xMeHNuNWRxT1B5Qkk5ck1Hd2Mza09DeHJGUm14bFR1Q090ZzVJMVNIbnZoT2hsQ2ZBOVZ3MGNQSFpxSFZMOHV2S1h6SG5YU2k0SklGTElhemlKY0ZWcklYd3FHek9xMWdwZkZQY09OTkxnSm9va0VXOThxVUtEdkRIWkZzVXl3SFFpaFNraEl3cWJ0S3g1MVQzYTNlcVQzcE9rTE1pYUtub2doZTIzUjE5cVFuY3dKbThTa1ZiMlNoOUFDaWo5TXk0YlVWR3VOeEpyNXNZeUh4SFdaOFptZ1kxZHBwaHFEc3RnVWxaY0I2U3RBYXA1Sk92TE5RQk9xZXFGemR1RmNUOElSTVhpaXdPczdZbnFuRDZwV2VLNXpuSGNvSFJ6NEh0Z0RiZU9jZFNFMmJGVENDQWd5MUNOS041Q2R5UFhCWjNKMFU4eVpYaEljRUNqczZtckh3REhYUjBVMTlLc1dob0ltQTM2b3pOeXpLYWh0cnM0R0ZCYVB4OHVlYkczNVBjZ3ZXRHZ5ZFM0eXBHR016cGJKQlV4d3p2WUlKQzg3cGV1RUk2TTZQcFRkcXBVZTN0eWZka0d2bHMzdHNYdHFob2x6QkFpWmwweGNNRGdiS0c4NnFPdzZiYVZ0R0ZIMTZ4aEpyQjVacjV1Z3ByNTlRcHBFcFJXZ3lyOEZ3REhaS3QyTVlnR0VZaEROUzUzcHk3cFJqTGE0QU5SQXZxdUh3T2VTZ1hjdGFMQVlsZGYxMmdEWThJNWhzNmtvUUtaRmRTcXNOSlI5TExyeEx4bWI0d3RyYkFLRjZuVkVTUXNOaXRIUXVMRVo3N24="
m_p: "Bh8tmm8t6MO51PLfw1yf755z6wSLF70MSsYY9IMPrEc9zv50h490Fam5Ex21n2py"
e_t: "1614178221696"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:19,238-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:19,238-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "edbfc06af413446aa36baacbd5973fec"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ysUJuZw1"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231650212076075925130842"
version: "260"
queryType: "PAY"

2021-02-23 16:50:19,284-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:50:20,284-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:20,284-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:20,287-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:20,288-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650212076075925130842"
2021-02-23 16:50:20,292-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15013, 'pay_req_id': 'KB202102231650212076075925130842', 'notify_id': '7811824604220320719257539741', 'partner_order': '4uGODsR6cPg0eFQBWTM2kUSJvItf971z', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 21), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 19), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 22), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299682","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299682', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:50:20,292-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:50:20,293-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650212076075925130842"
2021-02-23 16:50:20,296-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7699, 'pay_req_id': 'KB202102231650212076075925130842', 'partner_order': '4uGODsR6cPg0eFQBWTM2kUSJvItf971z', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 21), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 22), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 21)}
2021-02-23 16:50:20,297-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:50:20,297-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231650212076075925130842"
2021-02-23 16:50:20,300-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:50:20,300-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:50:20,300-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:50:20,301-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "4uGODsR6cPg0eFQBWTM2kUSJvItf971z"
2021-02-23 16:50:20,304-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 162, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_4uGODsR6cPg0eFQBWTM2kUSJvItf971z', 'partnerOrder': '4uGODsR6cPg0eFQBWTM2kUSJvItf971z', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 50, 22), 'updateTime': datetime.datetime(2021, 2, 23, 16, 50, 21)}
2021-02-23 16:50:20,304-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:50:20,304-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:20,305-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:20,308-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:20,322-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '47044527719461980731018588238013', 'bizNo': '53xlifjTwUtAcodPSnvLKM2Vb0msqWC1', 'operateType': 'PRESENT', 'requestId': '71238066046639475351108535734389', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070220318})
2021-02-23 16:50:20,345-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:20,358-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070220355', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:50:20,377-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299683'}], 'vouIdList': None, 'batchId': 'ed59c7d0211c46df9333f6b86c76b0d5'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:20,393-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'ed59c7d0211c46df9333f6b86c76b0d5', 'batchOperateType': 'PASS'})
2021-02-23 16:50:25,435-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:25,442-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:25,443-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "18348617535223"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "GqUWvwgXmoOQulrxs3jd19fRDPCiEbcV"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:25,526-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "62b9d259381449c2907f6def56a50b54"
s_p: "T2YyU1RvMHFZYmd2WmxIeHludERVU0NIemRyRGs4anRuVHE0dDJNVDFkdHdFSU83UUpiM2NFZnFTNEFjUzlzZ0tBREFndm9PMVZmTVVERVUwNXY0Y2h3R2ZFUGRpNVdCUHdYc3lnc0E0dHdjYUljc0tiSHB6aWhYdmN3Skh4cTVsSjZpR1RaejVmclNJd3N5am5laFZYMzRVUWxBNnNSNWdESjgwSXUwQzZ1WnhLM3VEbDlHSTlPdUdlM2xMWTNGd1RKdExKV2hwVEZodUU2d1VuWnpCOTNXYnNRcTV4OTRodlhybndLamJrV3pFUDdQY1U3NXVqM0QzcHlxUXVPODlSM3JNTENJOEwzYjY0VGNmc2dTdkdnaUxQUW1rbWlra0ppMVg3cEJMd3pjWlZERTlWRmQxd1ZlZHNlZ0d6a2d6TERPQ2o0b2xtNHZRWTk0cmdubW5FNUlEY09TM05aYllEV09jamR1SFlVVTlVU0dkZnBKVFJyNTE1Vmc3STVYTENsOExEMnJDNE8xc0Vsejk0djdyNVJoOWxYTnBpRjZLYUpCcFJTbUdlZFVyR3k3U0hqYVhDQTVFeGtpS1hpSkhwcjFCaFhJQ214VnpVa2Z3Z1NobTdkSHlwMVFKRTBkTDRXaU5OVG82Zkw3T3hZVDBac2dKQm1tSFJHcXA2ZUR5Zk5hY1NtNzJjd0RWc0w0TWY4ZFdrU01QV2xjRjVIQTZnTjNHRHM2dWQ3NVBTVGFEczZhTnYyMHFLcFZjRkU3UFM3WllhcmNQWDhDbFJaNHNxZTV2OGswdGZtUU9FQ1g5aUY2VGJONXZxWjVnMWNjbGo0Z013TkZ1ZDBoR0VsTWN3SGFSa1czdm00T0RwWXJ6c2dDWlFleFhZNkp6UDdHN3NrcnpkcVZPaTB5d0FnY0wybFY5c2pQTWd1TWpZbGdHRm9LSWVoblZFMTFTdHpnclBPNjB0TG03VzRsYWdBMDdBb1U3T2J2dFZaQUtFNUc1YVJEUEwzTnVPTTRielJScnRBaE52UVFpbG5EVVo1ajhIZUlsZzlGUWN4QVczZmg="
m_p: "518z70nWADJ23K8PS0xhw3q2W3x5iG1n6iqL1j8F2l33Dri4M67n8jQuxQ9JSSSs"
e_t: "1614178228001"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299683
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:25,549-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:25,549-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "62b9d259381449c2907f6def56a50b54"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "wJHxq5lJ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "GbvwiFS1dEU7A8JXOaP5rKDlmCec46Mt"
}
sign: "voTtOyZ4SUS5ZmTPjSJlxHqV+pJMZP0AwcPh3WTY7yR9twUJpL97+d1ABkbRnaqo83m4HfBdhRdBqVCbJ9iRdVqIrlZk1HzuDyuXR8SDf2MgBqwTliZe0NkDp5q599Lx/QoeWC+IUNS2cCpCe4491cfzNV90w+7w5UV1F3FMwtjT/8Mcl+KuP1/m0QHwdOiWpMRPto+WphxYSt4Gt4R8bpiCieilqOUNlfb5RvzDfkHsYHXYV4aMvYgFVtGDvZ+cw7Y879OkC2sLlPDFoKfIKi9jn46KvH2vurO0mHrIewiDPQPDZL5ARmPLirxmUPSH7OS1u/SOTGuZSCR4VTUWvQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "62b9d259381449c2907f6def56a50b54"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "wJHxq5lJ"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "GbvwiFS1dEU7A8JXOaP5rKDlmCec46Mt"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "eh9Zst57bDoRufhR7FiSVxwQGjOkcmjnITYEUc0frQgzDVosLvxjYDJkYayTQTkPPbmwnfLkVkQfNlRNDgUq5J4ugF54nsa6UkIet6ESA/jb9ZhQE9f2IL17t56PawRYBNDwOd9A//h0eqf5aYalwYPJPzyDoTIr89ma518syf0="
  appKey: "1234"
  voucherId: 62299683
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:50:25,919-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"f1eace78c7df452695cea0c061744f48\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2316502836767437d1fff310adbcf90000\",\"sign\":\"64A1977A2755CDAB69F42791A46C95FE\",\"timestamp\":\"1614070228\"}"
}
payrequestid: "KB202102231650282076075925032662"
model: ""

2021-02-23 16:50:25,919-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7974055782888834708031799325]]></transaction_id>
<nonce_str><![CDATA[1TrfgEl6OcQjyKtp9xqzIUFYsuh0odCL]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[93C071364C85DF056136AFB85615B76C]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231650282076075925032662]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165025]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:50:26,066-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:50:26,067-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:50:26,074-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:26,074-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "62354388596137"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "btrxOavJmpAIhXcM8zYoLQlDfUWdF7K6"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:26,147-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "17cbb6eab78a48fdb1bb6fdbb641d538"
s_p: "aU9uMGpLQW5QUU5mN0dqWnlIQ3ByQVljMXphYVN4UENobHBrZURDdzhvVWtTY2Fkdm90U01qT0MyZ09rdG1rbHowV0pVQkdnMzkyTGpYM0JzeGNvNERuaVh4TkhadE85bjl5VUhrNEt5dXdTVjY1UENnMTR6RTNsT3JjWExRQnJoWW8xcWR4VzViM2h0N2d1OFVWSUNIVW9XaDJtWG9tU0dCNzdGZkhpZ1d2VTZJelowWE41cHQ1RGUzZTRvWE5TMTZvQzgzVnIzR0RsckgyaGZFS01POFM5OGF0NmdOcGlrM3Jma2p2U1dtUlRpbXdkb21qemE0YUIzd3cwenJsZEtpSkVmOURkaU5JSzRPQTFsZ0RIS1B0bzlvZW1XYmx5UmRVTzJ2bWlTdVUyM1dXYW9MeHAyTm1uajlNV2RmWldwWVlpUmNZend0d2Q5bml1SXR3dGFGclhXclZHVFlYRUtKQUNZcHVKNFBUSkgzaUZRSFJOSjNZa1Fud2VNYmhnb293OENWRG5pSmV6QnFhUktFbW5UUk5CRDBHd3d6M1ZWbHE1Zzh6WldMYzN5S0lZVWFlM1pzUzB5NXRMME1YNG1jSGVTdUk1b0lnMUpZb0YzVjVHbllhQklVaXBUNTdLMll5RDhCUWROWE5Ub2g0a0dtcWN4a3RBSG9KTTFxVG9scGc3WmZoUzBrWUQzR2FLbzV2TkswN05BdVhqTTI2b3I3S0JoTERCNzBHWG83UENYOFBwWGtDRW53SVF4RjFSY2o2cDhaRWdDRzJjMHNTTmpmUDVZRkpVMTdUZzZmTWlRRXFnVGw3enhhUG9RaDdwZGxjUDd5MDJyVUw5SVhLeTNONWlSVXBEeXZMaGVueFRDOUNROVdENHBYdDdMNzV1TUtEVWtONjJ6eWxmS1lBbDFNVE5DSW1TdUp5UUhucjdnNHNuc3F6cm5WMXNRVWNyc29rcm8xNUZFM3ZSdmhMZlQwaEFBaXI5ZXZDejVpTWxuVzhaSXdOZDl0cDBQUWZYcG00NWVHRWEzallZY2kyZWRod1B4cGtmT0FMSzg2bzY="
m_p: "M1Nrx7xiAw5O0937np975crW2S7vl0fW52nVj82nTj6Ql48iDsXa631zb99I9sgI"
e_t: "1614178228631"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:26,148-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:26,148-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "17cbb6eab78a48fdb1bb6fdbb641d538"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "3Bsxco4D"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231650282076075925032662"
version: "260"
queryType: "PAY"

2021-02-23 16:50:26,192-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:50:27,193-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:27,193-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:27,197-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:27,197-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650282076075925032662"
2021-02-23 16:50:27,201-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15014, 'pay_req_id': 'KB202102231650282076075925032662', 'notify_id': '7974055782888834708031799325', 'partner_order': 'GbvwiFS1dEU7A8JXOaP5rKDlmCec46Mt', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 28), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 25), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 29), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299683","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299683', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:50:27,201-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:50:27,202-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650282076075925032662"
2021-02-23 16:50:27,206-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7700, 'pay_req_id': 'KB202102231650282076075925032662', 'partner_order': 'GbvwiFS1dEU7A8JXOaP5rKDlmCec46Mt', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 28), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 29), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 28)}
2021-02-23 16:50:27,206-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:50:27,206-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231650282076075925032662"
2021-02-23 16:50:27,209-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:50:27,209-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:50:27,209-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:50:27,210-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "GbvwiFS1dEU7A8JXOaP5rKDlmCec46Mt"
2021-02-23 16:50:27,213-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 163, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_GbvwiFS1dEU7A8JXOaP5rKDlmCec46Mt', 'partnerOrder': 'GbvwiFS1dEU7A8JXOaP5rKDlmCec46Mt', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 50, 29), 'updateTime': datetime.datetime(2021, 2, 23, 16, 50, 28)}
2021-02-23 16:50:27,213-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:50:27,214-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:27,214-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:27,216-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:27,229-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '05664953376026891688900220140381', 'bizNo': 'exXjyDL69ZgnCi1bvuzVmowkpr24GB3s', 'operateType': 'PRESENT', 'requestId': '67820109663581592422845504741748', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070227227})
2021-02-23 16:50:27,253-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:27,267-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070227265', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:50:27,286-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299684'}], 'vouIdList': None, 'batchId': 'af35a4b8f0564436bc4ca8d27d5e03a4'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:27,299-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'af35a4b8f0564436bc4ca8d27d5e03a4', 'batchOperateType': 'PASS'})
2021-02-23 16:50:32,343-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:32,351-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:32,351-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "03831914486229"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "hBmqPzVRwdC5eQFHJlrUnW7sLIo1p48t"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:32,434-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "636b7a27092747099d63203adb3e4b63"
s_p: "MzBWUFhxVWVCUXJVYk9EYk1RZWNESWFMNzJVZDd6VDRNU2NJekl5MEU2TjVKTmozUlZSbDYwemZZME9FUXhMd0hYOGtpeGhENXBDSnZhRTFiV1BRT2p6bUt1a282M2dkRHBKdG1EVHZySzhkR1JLaDVrUE1jU0dkZGxIaEsyZWZ3d1pjVzM2ME9INTVid0twa1A0Y29qM2d4ME53SjB3eFp6V09iUDFNTlZsUk5zckJqTUdxVWRGYUwwVWFUY3FoVFB6WGV1eTViaUMya2RXdkExbWVWZll2MENaVld4MHhkZG9IaDVjVmlSVTBRY01RTVBER0JsUTBUaFE5TzF4dlRHRnRPQXFNamdSZzdESmg0a052VURHVWJnd3hEenlWbDZFMXZ2dHhuYVNJaUZxdTg5VUlocjZYZVN5VVNwZmRBcmJvRm04c3labk1uU213b3pNZjgweDZGV01rUFJzQWEyc1c0RHBnek5xNXNYV1dYelhTYjlDMWswUUhRUHg1VFY1WHF3blJyaFVPb0oxekxNQ0FpSGRFT0QxSkNKQnlQWWhTbzU3T1ljTG5iOFQ2d2RETG0zRmFHemRWVEg5cEhJdU1RaUVZWERUYzlXeFd3Qm8zTGxlU2VQTXNRRFhxaW4ydmFuTFhoUGdreGRVbUgxUDFOQlMyTk5PV3Z4UHA3UTZkdmZpNlhQaUhQeGhxdE1mcUJYempFNmhITXRhTW9WMmRUVldQTElSS1BaZENteGlpZmd0V3lLdnFRUkEwMHFOSFFyQ0ZTR3RSZ0k1OFkzTEZaY1BYUFN0Y1d2cTVXdXBzam12RXJ4TG9ZSW5JQk1CYzhNVlZXR3ZGdFQ5S0tMa3dtV3FCRWl6MlpGS2dWaEJmRVNxd1FUVlZ3ZkpNZDdpTmo0UXBZUGI5VmxuNUd1d1RIUlY5TFlWZzBRUjNtRE1LY3V6dVk5MW9sVHlIY0t3Qk1EMVRDZWxQS1VlQXdHTVRjNVU3ZWlIZXRKenZYSnVDeDZuRjBRTzVxYUJ3SlNCclJuNlFGVG1IUnVmWTlVc1pXWXBXSjZXMHlHVlg="
m_p: "CGuGjO53t2C63TScu9xEjQcG6ECddI1ilP8035RH129Zje24u6c4u79Iv7yYCzOe"
e_t: "1614178234910"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299684
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:32,459-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:32,459-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "636b7a27092747099d63203adb3e4b63"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Rl60zfY0"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "ibP5ZgNfVyMeqosOXcudUlKI4FAatWkx"
}
sign: "aKYGf7hHEttiVA7BU+dEVdUBhBn9lfpTPH1TxHjPuD9OcVPZSwGGoC6a95YCqHiZqA92pbz5RANa6EF7tbFo0/7mnD6hT95+NAVlx0Mt1fJpqEqvTMQlOhWk6Fu4jJ/ts/YL9M88kvLrDp6rXjcWsciNf0JS2yER/1teyhkXJl81EI+8LiSGTWHhfmyPZ87RdpMQIo+xUdZZJ40K6lzciyT6RnsXUNIWOjiTkMBE/cmAfh9lzChgp17mM9cqVv8rL1IkkxcjMBsQRyZpVy6RefFIcDGasKifVw+QFGPusu7V5TggzOFIn0xe+5l8SbFv5WZsyZl2wOsHPTSPIcuWsQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "636b7a27092747099d63203adb3e4b63"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "Rl60zfY0"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "ibP5ZgNfVyMeqosOXcudUlKI4FAatWkx"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "Kgu1JSHuY5jJehrlS3OkDaSEIWBP+YD2gV14ronr9CZTTzk7ItixH1kbAT6JvK/JyWC+DGMn5SAAHij42TlXup7kUXaG8lVlCBSlUKfkklziRyHcgwHXh5wTxAxRcFFcfXb510zfe+GCjtSk6J/wz2O+mMU2cnidi3p3WR6kUuA="
  appKey: "1234"
  voucherId: 62299684
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:50:32,871-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"ffd9cd3f73e341119e8ad2cf89316338\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23165035320447677c07e8b9d7ab4f0000\",\"sign\":\"2E6774CFDC2BE192B8AA8477893EC8C8\",\"timestamp\":\"1614070235\"}"
}
payrequestid: "KB202102231650352076075925774362"
model: ""

2021-02-23 16:50:32,871-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2078941160524013616907077393]]></transaction_id>
<nonce_str><![CDATA[I4dBf83xX9AbknYvaH6wCoRjJmWLUlPu]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[FFB0C6C3049CF83F452A9428608FA0B3]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231650352076075925774362]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165032]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:50:32,968-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:50:32,968-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:50:32,976-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:32,976-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "68675214683296"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "BmhTV5zStnuM3EgULPAWq0sG6c1DkiNy"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:33,054-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4256533a28554259849e06e5f8fbb970"
s_p: "UHlRcGNKWW13eU55NkhoQ2k2TTdTa0RKQkdBS25XRkJwck1MOWFBN0Q3elpFellrek92RmhadkhuNmxYNFN5VEI2ZlZwQUlxYm1XQVU4SlJJbHZtM2xJdXNnVFJmTjdoWjJQamNsUFFDbWNxdEZSamdCc2JDN0F6MG5MYW1STTVGVm9hMVNrRkVOMlZ0eE1VbW55aWNzU1JYSmRybHQ0djJvbzV4SWV6YlpINkI2bjF3UnhHd3NHVjgwN1QwTmxFbjhIeEdWV2lLekh0WXRVNm5ENWNJM1pBR1ZsYWdvRUc2YXRaOHd5dGVuNDhPVW81amdZcGRtY1N0Vzd2TEwwSEpvUTlWVXJNUlJTT2NJejA4Nnl5QWpVc0QxWE9xUDJMc0FDeXBwSkxESEp3d2l1RkQ5d0dya1E0YVR6NXFrUFdPaUJoRTJEY1ZoOXkwcERRaVVxR3RUN1lIVzkzWmxjYkN0M3JQMkpoT0w4WGFBenBHM0R1dVBvWmpDVkpOQmFyV1pUbmZVZzdtcHVxWUxlWmV1bmZrdkJBdVRaeDVPTnFBRVBEYTdqaHJJdkVha0pFeTZJcTNNdkgwVWJpZVRvTHhoZ1VBZFZmT2RhVWhTSlcwSlZwWlVPRmV5enBtbDNEU21sQ0JNYndKeFN2U090NTQzSXpXNDNHZG9UcGFoaDhIQnNoekJnNUFYTlo0emFyVnhRUWkzNmwzT2t6Sk5tRGs5NFJpVG5JZ2lteFZBYmhKbk1XZG5zWWc1QUdWUHI5UEVhTUZGRlNBZk44SFRCSDR0aWkzQmJZb0VlVW5tR1dCWUFEaTBYWWExQkJSeEJQYXZ3MXRldUVzQmY4MXQwc25VbzJRRU1LRXQ2SnR6MmR4UlE1TnozcVJrTjVSZkJqam1PV2tsTkdqdkxhUVhXdU5JY3l1cTdtVmdoMnJOQ1RmRXlPT0tKb1JkV3BIUm5vajE2dW5uMTc2RE84VjNlcmxhcU9uUkx5UEtmek1ZWUtsSWlFYXFNZ0hKd0hkR01IU2JrQm1jaHQ5bTY1S3FQWDlGYWhSUlpMN1NGUVlWSFA="
m_p: "545PrF1U9A8B4qhM4arBvy5JSTv0w93I632F7g6028yQ53URMjN74vhTVzap1Zw6"
e_t: "1614178235535"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:33,057-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:33,057-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "4256533a28554259849e06e5f8fbb970"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "PjclPQCm"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231650352076075925774362"
version: "260"
queryType: "PAY"

2021-02-23 16:50:33,100-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:50:34,100-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:34,100-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:34,104-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:34,104-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650352076075925774362"
2021-02-23 16:50:34,108-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15015, 'pay_req_id': 'KB202102231650352076075925774362', 'notify_id': '2078941160524013616907077393', 'partner_order': 'ibP5ZgNfVyMeqosOXcudUlKI4FAatWkx', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 35), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 32), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 35), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299684","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299684', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:50:34,108-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:50:34,109-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650352076075925774362"
2021-02-23 16:50:34,113-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7701, 'pay_req_id': 'KB202102231650352076075925774362', 'partner_order': 'ibP5ZgNfVyMeqosOXcudUlKI4FAatWkx', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 35), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 36), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 35)}
2021-02-23 16:50:34,113-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:50:34,113-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231650352076075925774362"
2021-02-23 16:50:34,117-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:50:34,117-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:50:34,117-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:50:34,117-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "ibP5ZgNfVyMeqosOXcudUlKI4FAatWkx"
2021-02-23 16:50:34,121-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 164, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_ibP5ZgNfVyMeqosOXcudUlKI4FAatWkx', 'partnerOrder': 'ibP5ZgNfVyMeqosOXcudUlKI4FAatWkx', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 50, 36), 'updateTime': datetime.datetime(2021, 2, 23, 16, 50, 35)}
2021-02-23 16:50:34,121-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:50:34,121-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:34,121-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:34,124-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:34,138-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '81085703907824776307959662870125', 'bizNo': 'ErL7HpcTsFjtdgAY0S5zbG8yoi6UPmWO', 'operateType': 'PRESENT', 'requestId': '78303185283331591903279499513802', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070234136})
2021-02-23 16:50:34,187-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:34,201-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070234198', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:50:34,220-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299685'}], 'vouIdList': None, 'batchId': '170fb302fe9544a2b76fc039b059fad6'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:34,234-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '170fb302fe9544a2b76fc039b059fad6', 'batchOperateType': 'PASS'})
2021-02-23 16:50:39,283-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:39,293-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:39,293-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "74419005654107"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "CSJ7vn0635etaLYfpXQwuRKZT4xiWPjd"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:39,379-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "6953e44909aa4928a6cbeab491f703f2"
s_p: "RVdvYUxDSTZnVVlSZ0prY0NGTThwUTZnb3FHREhrN291UFpWZFd3dDhWOEtvdEZtVnE5MFJLSU42WUY2QlQ1ZmVNOW1zTXFSbU90MXlPWVpwcmtrZ3NaTFlYQ1d2ZVlhVTE3VE9nSTA3ekcwVk5wV3hIR3dLNnV2ZkRDMUZPc3NGOFV2SW9jWFNYcmZZV2JUOWZXUlNJS00wYk9mWElvc0NSZE9tbnBiTGNQb1BIZHFrYlZVUHR0V0dxRjFham1BTjBrellIWlZ5Mzh3Q2RiMWJBbXp6cE1TTlJFbjNUUUZiSHNFTVNKTWlIMTd2ZWVWbUhxQjJzelhwSVFac3hTOENnZTB3d3pxdW1hdDVJREd6UWdOSlF1WXpoTVp0R3pkV1c3c3dFTXdlbFV1OTBhdG5TT1hKOHVJekZYM3M0MHpUc3h1cFNFRnF0eDJyMFBubmVXNTI1VjFpazZYOHBUaXJzeUlyNmZNQzVDU1IyQXJMejVKOERNNmhpQWJBY1VMS0RscG9WeHFhdE9XQ3dkYlIxdGw5S1htUTFWTzhDelFwM295WEREdkV1UzZZZHlDZ1JDTTJVRUtXZm1Fd21NQkhEZGY0MHdVbGZkR1J2YmFaOGgyb1JwN2I2bHZEblNUS20yemx0RXlJd3FZUW92ZmhnU1h4VEVOdGt3MkFXQzBTc0x0d2docXRjdU1zMVo0ZVZ3MVBwSEhWVjBucnFzalYwZnRsTEMxZ09VMHhranM2VTRwdFNld2NOSmY4Zng2dFp1cVU1d0I4V0Q1VGQ2dEMzOTdCaXRUaklUbWpURm91RWNHMUduNXFqSnk5eFFPUG04MkZWRHRJbzdXOU45R3IwS0d4NjdGenVaeVhVd1dZVllub3hRUzNYdXYxaGIwNVZGM1o1eVhwTmZkNm1nZVRvNjZGVVh6Mmh4WWxLYVBBbmNBNm83M2lKQWFqdUh6dTM1bGtQcU1QMHBQaHFTMHFabGhCaENaRFptNU5FZmFJZ3VkSHZPMzRpN0ZrRnJZQ2lyWDNLbmVoTFNZak1xSHhSb3laYzFjTTZNMjhRREU="
m_p: "8NN2klMhm5QPmsDxcTAIlb1d32S8BUbJucuYQ9z3AHITyQ15mNWEYrc7OZcJLQvN"
e_t: "1614178241853"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299685
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:39,403-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:39,403-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "6953e44909aa4928a6cbeab491f703f2"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "UvIocXSX"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "uBeHmAj5cMTfwv7P9a31FhgybEs2iqDp"
}
sign: "VlZOiuUnXC+NoyZ0Yx0R7plpketZ+7CriRyUHsKYpboCcpO3yUpMdvA3VJL8O9R0+6MP1ARyYPTu0c3R37ReMWd26km6UgQv+3Kh3E8OtaP8cl5JbnRxkAOmBarD8d1h9iuOTVzj3TELUwYXm4O1qzAkKhmcOasBHgAZ61NQoF9jMa+E3FfWIiDBbVLZcc+NtjMIWUyazD4PnLs3XN0rN+Vf2uwh/eHdj/JIsCtS0zjNFpiMqNUC6M1zkj5JLaBP+GaU8rUx/njTyTOmE+vxfEiD3cyWD6BimoDYVUTaJREy05qk9HP6LNTewHGFn0GyYlXIvrS/WPI+fGO+pK2oZA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "6953e44909aa4928a6cbeab491f703f2"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "UvIocXSX"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "uBeHmAj5cMTfwv7P9a31FhgybEs2iqDp"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "c4OOLHeQPMlkVRXtP/QUo3cOTE6+A223+hQ/vXUUqJlJ+I18e5uggOCjo4qVk2ShIsnZLIfQEOJIvzgdcO+u2yXglZQx0wy62hXO4bkfcAfIzVr0oq7OUuuRovGuNo6yTT3qTC78ZbQ8eWMA/SmQslqzYZGMTvvbj/2fUC6oi/8="
  appKey: "1234"
  voucherId: 62299685
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:50:39,774-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"909158457d9b458e87cbd9e90e34469c\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23165042226982beb2e7da5e7b81ba0000\",\"sign\":\"7E7B04A7DD78D31FDD456C35FA2F03EA\",\"timestamp\":\"1614070242\"}"
}
payrequestid: "KB202102231650412076075925356622"
model: ""

2021-02-23 16:50:39,774-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1251480382059943895474345973]]></transaction_id>
<nonce_str><![CDATA[nU12WlBAO95pGCsTYu4IrQfEJMq8a6ND]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[1F83075C8894F819FBAA3DE410F19578]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231650412076075925356622]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165039]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:50:39,878-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:50:39,878-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:50:39,886-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:39,886-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "94791934885623"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ZckSi5GqH2fsEw9rg6x8NRvy03KAuCPp"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:39,959-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a290b7900f1742bdbbc3a78a4fc7c778"
s_p: "V1lyQlhPcFNJVFcwOHd1WHVWRkw4UmtRVlUzcXRDNUVSa1VmR2h0RzJqQ2dHb3ltS2FPeGZMTzBuU1FBbTFRNHZxbjJHdkwwVm0yOUprUEJadVRaZ0Y5c2xiVGhvT2V1Q1dLUkZaUkNCT2RmMEhWVmpwMU9oc0xKakVlM0FzU3lFR0I3WHlBZjFnWjVMTnB4ZjE1R05jUVNWVnowN0N6ZUpiTGIwdkZjNFl2V1JtTU16THJWajBCdEFLMzdmcTQyYjFWZm9RbHlLc0VQNk92QVozcnhUaXBBazB1UWFxdW5CS29NSGRyb0pyNEh0MERJbEVOeWZUUjBaSGRpWmJyZG4zWnp3T3VLSVRYTVFkRGdLU1R0UXcxdjhiYXlkVGVZeEU4ZGVRMURhZUY1S0l3SWZuU2tGVDRkdXFQTkNldEFlTlhkOWoxRFZ4ODU4VmZ1cTJSSU5zQTJSbXNuem9qVEtYRUx4WFJFWmFHRnlEQjJxOUVxR0hlc2RTUFpCcFdnSGlLT0NIWWptYmoyaGRkZGJXQzh1WXkzOVBzbU12bHAwRVNURXU3c2ZwTDRKTjJCRm5vRFMwUnlTMUNwU1dGcWVXYXBoN3gyTldxSzI4WUVGVW8xSlNRQmFPZk5HSWJiZzRwdG9VenlFeVZ3SjU0VXhlZkRFTDZTYjI4VVhSTUlKeUJvQzg5T1VCaGl0ZUVuaWliTm5WMnBib1pidnk1ZEJpa3loa1dFS0N3YWpZbENZdzBwSUhaQ05XZzI5TTVUeXJHMFp1MExLdlJJQndEM1hNdWVuSzRXQ3l3NWxUam11WFZuSlh1OXF1MDd4SEIwMkdaNlA0Y2hhNWJLZUdLMFBJc0hrZUl1N3lTRkROYjdVaXhQdXFRRDl4T3hUcFZSNjlacUZJWHF5RHB0OXBzaVYzbTAyRFdPNWM4amdiZHQzNEhicTNnRkpySzZoNHlZVlJBc3AybGtkcTF1ZnRRZmRIbzA3cnFaMlhySU04eWhoQURIQ1pWbjBHRGx2VWxIWXJsZzFOYzA2anNhc2c3NnpKejdoeUxTeTB1SmhhWW4="
m_p: "g4Z6dCBul93AQpD8l83kItM3lzjiPt1Eq772t4P8W1Msgkr80atH04ANds56WNB9"
e_t: "1614178242444"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:39,965-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:39,965-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "a290b7900f1742bdbbc3a78a4fc7c778"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "29JkPBZu"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231650412076075925356622"
version: "260"
queryType: "PAY"

2021-02-23 16:50:40,009-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:50:41,010-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:41,010-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:41,014-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:41,014-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650412076075925356622"
2021-02-23 16:50:41,018-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15016, 'pay_req_id': 'KB202102231650412076075925356622', 'notify_id': '1251480382059943895474345973', 'partner_order': 'uBeHmAj5cMTfwv7P9a31FhgybEs2iqDp', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 42), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 39), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 42), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299685","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299685', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:50:41,018-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:50:41,019-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650412076075925356622"
2021-02-23 16:50:41,023-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7702, 'pay_req_id': 'KB202102231650412076075925356622', 'partner_order': 'uBeHmAj5cMTfwv7P9a31FhgybEs2iqDp', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 42), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 42), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 42)}
2021-02-23 16:50:41,023-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:50:41,023-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231650412076075925356622"
2021-02-23 16:50:41,026-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:50:41,027-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:50:41,027-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:50:41,027-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "uBeHmAj5cMTfwv7P9a31FhgybEs2iqDp"
2021-02-23 16:50:41,031-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 165, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_uBeHmAj5cMTfwv7P9a31FhgybEs2iqDp', 'partnerOrder': 'uBeHmAj5cMTfwv7P9a31FhgybEs2iqDp', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 50, 42), 'updateTime': datetime.datetime(2021, 2, 23, 16, 50, 42)}
2021-02-23 16:50:41,031-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:50:41,031-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:41,031-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:41,034-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:41,046-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '34497863722458884139155587493543', 'bizNo': 'PhixndslCwHLNS1foYaUqTczv24BAuOe', 'operateType': 'PRESENT', 'requestId': '22266872527891589361456433551911', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070241045})
2021-02-23 16:50:41,075-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:41,089-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070241087', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:50:41,106-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299686'}], 'vouIdList': None, 'batchId': '48c6305b78614b0da62769972ab82c40'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:41,119-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '48c6305b78614b0da62769972ab82c40', 'batchOperateType': 'PASS'})
2021-02-23 16:50:46,163-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:46,171-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:46,171-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "26241670684365"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "NVCa0R5zfQdeELtXo4HAlcs1OP3UIp7k"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:46,255-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "12aa58eb33b5484b95df1e7a51abd17e"
s_p: "N0dDQzFUbVlGbFlxOFBZMkxsQ3FSTWtPSDlDVm16MjVDNlN3OTZQRGJ0ZlgxRWNnNlg2ZWJ2QjVaQmxnVVVXelc0Z3FxMWdqZlhsb1lNWGdHbFNWNFNqZzA5bmVDYXJFWmZ6UmdkZGJQR01OMWlWeXpQT05mRGNPTWkwa1l6aUVMc3VsSHQ2TWw2N2c0YlNBRE9SWWFaV1lMRHpzRDFoeGxkdEZCWjFLZDZ3STNZQXVtVk9EVTVvSVRaZkVieWc4N3JPS3dSNmREWDY0WThtWE8xbDlaMDV4eUM4Wjk1a0RhVXNBcjNRUnRRR0h5eEFkb1BteWF6aDZzbFRTVnpaTUk2b0tSSnhBTlV3SVNXR1FlQkNMNXFjUEhKdGMzNkxqTFBmYlpLSFI3N25wVHJaMzVrRzlUOHltSVVNYVdBRHJVZFBiZVVMTXRReGV4UWhZZVYwN1R2SVpjemZPQWpHYlhoMFBEMVF4ZFlmY1A2MEozZHRFWVBUUWZTNmRuWmdLajczT1MxdVR3UTBTSE5iMzF6YTg3eFg2ODRYekwxQmNMRUZrYUR4UUlGa0xPcW5VUHZwM1B6ZzB0Zk9Cb1QwR1RGd0lxaGZ0a1ZyME9NTU0xMDJZcm85UTNabmNYUHI5dlhhMUZ0ZlVaNWdMU3VDSzdLYXJqdEpINlY4Y2FOdkRaakw3RHAwakxpb05FYk9nUExROGV2S21UN211VERkNjdIMzlzYk1rSnR2VHNUUFMxQnVOdWRjTWN1UTd2cUtITHk2ZUIybmZTdkloRHJKdUx3ZkZVTFZEUmNXUU5jNHJMVmxzNmZpSjBxOFdFSG1EUFhKRDNNT1JlTTZIQVBOWlpQdHFSOEZuaDl6VDJaNWJIRTRJNDBrT1ByRVBRMVRXdnh6VDZRQ0JCNXpBU2hnbUpJa3FOdDdCeVo4SGVNY0hTOVZRYlBwdEFQaFlFdXJSMDRWa3B2bjNINzBiRjM5M3ZRZFJyc1k1QUFRSWdVaGkzb1BKcDIzTlc0TjRLcW1PZ3hIVmlsYng1MEF3QmVkN0k3cGxpUGJocEZ0UnRkOEE="
m_p: "NL97i316PcJ7z4Zdz0oD86DIHHldboIcIUS9QBWL29p9q8EOq963u367YR3L7gQI"
e_t: "1614178248731"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299686
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:46,279-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:46,279-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "12aa58eb33b5484b95df1e7a51abd17e"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "CVmz25C6"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "vVyU7YL9sNjmzQB1x05EbGhMcCf3XalS"
}
sign: "VlzFdXwhw4csqmpGOV28GHV5r6BnDIpX60IH7WlIdBMphoGoMuMXSlKFEUFxCJmoW+vefaopkw7YNy9v0MWRy0KszkN4jhH7J1uZqX5AClHnajh8RtqsqEMtomkoW44l9k6luRoB36sW+/MVmc/LtXA4UgKDSWdbbUeukxJTxrMjDEirXUkOP1Ih2E6iGWjGLC7dEdDJhtxGd40e3bgHXi/LUECNX5IlDJ8h+/YGjXm82a/rRDshC6tTzBvmL628LBUyUcR3RKPrinOvaImZKXg29n0Kss/hyePBT+xkUXPzTmUU7x5w6QeXtQD0JupJihg7hkcvLAa7ipkJfQmjTQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "12aa58eb33b5484b95df1e7a51abd17e"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "CVmz25C6"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "vVyU7YL9sNjmzQB1x05EbGhMcCf3XalS"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "YOFZhu7zD3VpczOTzUP9lOQYSN947f8ba7/oZmI07iLjfPW0ZU9W7WEPrv0fSUEBmUYrqqbgvF5RVgDHCH12Gb5FZhWV9DQJlnFIn6UiM7Xs65t8o/Qj/mLRKjuSY7cVr/WRTJB6SCFkxcQM8VYO0HPlaqa6HQxrZrlP63zpX4o="
  appKey: "1234"
  voucherId: 62299686
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:50:46,652-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"1638b329172542c8a16d417157d527b5\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23165049115387d9ffdc9d24197c370000\",\"sign\":\"6329637D47E009198C9BE69974D35EA8\",\"timestamp\":\"1614070249\"}"
}
payrequestid: "KB202102231650482076075925116442"
model: ""

2021-02-23 16:50:46,652-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[0843543573638850814533860341]]></transaction_id>
<nonce_str><![CDATA[PbK4cSRqUMfJFiowsezE2WkQY9ypHTg0]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[FAC2CE8E5B4EFE64132B0015D7B8A900]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231650482076075925116442]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165046]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:50:46,749-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:50:46,749-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:50:46,757-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:46,757-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "23976849446907"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "eB78lFXQAb9qPncUjLOgYiwxpH6k0ZrD"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:46,835-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "997fbf56f4a74f36baa6f51b6ef0bc26"
s_p: "SkpDMjZCQzhjZHlzdjh2eUZMOWJxNjBVY2hMVnhLMlVoVWZURE1KMnVSR3BWOGhrajJEdEZuSExreVBLMXRqbG5hR2tFODFiSTU1eHNzYXRwSmgwcGl3TlY1MzNiOHU5cUl1SjNNOFpvdUhZVUkwNFVkUlZ2ZDRZUTZiM0pEOW9YakxvbklaTTlEOTBSYlVZYndmeVpMbmtPaWhaNERtWkh2SW8ycW1rVnVHa3dkWjVMYVk1VHBWZkdhMElqS3p5U1JxMm1lMVAxNHRTbHMycnpLTFozbnNybllmOVFGU0hUeWhaUGpRN0xnS1pPMVZlR0xGbXYzMkNrWEYzeEdnOFBPR3dYQXZFMVdrZGxyOVNlT0hCRDVZQ0Q5bTVpWlhIbVFpckYzM3JLQVdxdXU1YzZoRDMwSU1vcDNaWDNsNlRSR0x3NTI5eVlWSWRRTWJwSnc3ejhCYm03YVpBUkJwb3dvU3VUZWRZTVlSY0JuMW5BYXd1SmtieDFYcTBPRDI3UGNjMDVlaFk0bm5ieDJwdk1lTGJTNjZzS3hWS0FQeWcxVzUxZ1l4dWhYQmQydWYweGlGZlM3emhDazkwcHdiTlRLaUx1UU5yc0RwVjZ0YzB5ZVJkTG5JM2g4bXZhQ1g3TkpRcHFzR1FGRkxiQ0J2Q2lzTE1NTmRiQ1J6OTFTZ1l2S0NVZmhqRFJYN3RNYnUwbWNPRmw3b0hRd05kc2NySkhHOGZMUW5XRFkyb2pHWEJ0VTI1S1lwZFYzVWhuUWtIaXZWTWNMam5NdlRVZ2tNZkg1d0JVQXBwSHR0TzJYcE01THNucnN5Y0ptREp3alRmbndsT3pUSGRjSGpCVzJ4RHkyZDdJdkpqenpBdUhOenRhN0hrZmdUdmpSWUhleG1KVEZHOUwxZThkQm1YWWRxRlJNMHkycWhERjNYZHlJbUlXRGNjQ2pTelhkUzU5TXVwOWJDUzZiVGlLTVZ5M2NDa01CVFBGemFrZ2N3YURvT3Jva2hyVmZUalNSdEQ1ZjJlMlhGRm9nb1FWVWNMWjNsemhqNXpqWk0wZFM4Rk5xc2I="
m_p: "z0481vj068zkfCBz2u0t9xdArG051a52V2Em91V9WxA0at27MVgBR2H4R54IL6f9"
e_t: "1614178249319"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:46,836-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:46,836-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "997fbf56f4a74f36baa6f51b6ef0bc26"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "4YQ6b3JD"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231650482076075925116442"
version: "260"
queryType: "PAY"

2021-02-23 16:50:46,879-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:50:47,880-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:47,880-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:47,884-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:47,884-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650482076075925116442"
2021-02-23 16:50:47,888-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15017, 'pay_req_id': 'KB202102231650482076075925116442', 'notify_id': '0843543573638850814533860341', 'partner_order': 'vVyU7YL9sNjmzQB1x05EbGhMcCf3XalS', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 49), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 46), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 49), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299686","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299686', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:50:47,888-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:50:47,889-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650482076075925116442"
2021-02-23 16:50:47,893-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7703, 'pay_req_id': 'KB202102231650482076075925116442', 'partner_order': 'vVyU7YL9sNjmzQB1x05EbGhMcCf3XalS', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 49), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 49), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 48)}
2021-02-23 16:50:47,893-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:50:47,893-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231650482076075925116442"
2021-02-23 16:50:47,896-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:50:47,896-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:50:47,896-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:50:47,897-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "vVyU7YL9sNjmzQB1x05EbGhMcCf3XalS"
2021-02-23 16:50:47,900-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 166, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_vVyU7YL9sNjmzQB1x05EbGhMcCf3XalS', 'partnerOrder': 'vVyU7YL9sNjmzQB1x05EbGhMcCf3XalS', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 50, 49), 'updateTime': datetime.datetime(2021, 2, 23, 16, 50, 49)}
2021-02-23 16:50:47,901-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:50:47,901-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:47,902-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:47,904-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:47,918-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '57861761698662704571693696856526', 'bizNo': 'GbCU62OQlD1MwSvx0mnAj4sFH9PdIq7u', 'operateType': 'PRESENT', 'requestId': '45584618482517472262084523225405', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070247916})
2021-02-23 16:50:47,938-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:47,952-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070247950', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:50:47,970-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299687'}], 'vouIdList': None, 'batchId': '9d7ad71f7ce243e292cf4bcd3f8b6083'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:47,983-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '9d7ad71f7ce243e292cf4bcd3f8b6083', 'batchOperateType': 'PASS'})
2021-02-23 16:50:53,024-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:53,033-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:53,033-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "95385907872203"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "kcPXAmSszjRUrxWCafBDJE5Mngo1wl7Q"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:53,111-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "028f7a9324064eaaab1883abcb8e899a"
s_p: "U2pBaEdKMEtnNm1JbXJuYXNhZkVXR2J2YnlMdUJ1QnRaWGR6ZWxaQ1Fnb1Y0bWVVczRZcGRCTXdHWGw1c3o1T2E4VnpNa0NUV0JBeUpiMzJramRiR3NGZklkR0hQRUJGWVM0UTdGQ0wwVEJxcGFkTTgzZzhOUVIyVzRjY0dlaENDMVJwZjhGT2x1NzByUWxXeUJwRG9LbnhjME4zdzJTZW5VZERrc0V0SUswU3lTVVBtN2hqMTdjTDZnYW8yS2dFa1ZxUm5BencxWVZONVZaSXFuOERRVEZNUFh6NHlUTEFpRXJIRFFycHFuaUZWd1JESWEzS1FlRWtKU2hNSmFRVEJ5NjJ3TlNTakRzWjFiTmZVQ3ZWbktWVFlWQ2M4NDkxZXZUdmxBdDcxcHpOMnVqWW1IbTlta3hQOVNRYlZSa3NSTEdYdUlieGtxRnB0N1FOOGh1QUVFcFpWTmQ4dVZ5WGFGWWpGYmhRa3AwYUl6OFlKZFAzVnNLaG9XYjhvZEl5VzFmbGM5cXp6U1pLVldDT1ZuVTVXcktIUTRQeVV2bkNMN0NTRDYxbnB0cWdEVXl5OHg2dWoyYXI0dWRkV3Jld2NlRFZzdGZCc3FZdVdHeElQMFhkd0dnblhxNjZRYnd2TmFFaFd5VGt0b2x1M2hyU1J3dkF0WHBHUjRDRHB3VWNrTldWYzdTV2VodHFUekpsa0NKaG9nM00wVTl0eTFlUFkyRDRqaDFtUlRuRDR2cGJDOElqZHdCblpXZ1h1SEdIMEptTUxUWnE4YjVmZEU2YzlDZU5kZEVWMDFSWEIwM2lTTUh5VXdJNWVqcU55cFYwU3dRUmpjSmVkMXJvdjFwZWVvazVESlpUQ0RDb0pMcmpXa3RjdUNIZDVrd2EzOW03YnRUb2FHeVhhZ0szWnl4ak5CRFZRV1A4RVoxUHU0c2h4OVBRY0dvQmxxOGd0QTY2bldUVFhhYU1MY1lLd1ZJbmR3d3hNQ2pnWEpFODRVTmhiSjVwRm9QNmx6aEV4NWtURnJSVVdnTTNJYVN1azNFQzRWWHVqcHI1dkhBVEpaS2o="
m_p: "s1xXBM7a449818GJz56BDQ4ypOYpt2009X4L3Jvm2cM419YriC9fph9zBbctnc3H"
e_t: "1614178255593"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299687
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:53,135-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:53,135-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "028f7a9324064eaaab1883abcb8e899a"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "lWyBpDoK"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "7CVLwziAa6mgIvodxcElWfRFTOPQShG5"
}
sign: "svZ55CY6GeloffC+3OczAUQpw8auEsRMT9HchT9FtNwYsCnggYje/HCJw8ZyQg4hqI2DA+WLyzxFQR2PDV4/WU1p2/8VXTadPuSt7XYj2fp8rUw57qSygatKvZ/KrMr9tmBlFRpSbagc7VHKSE19ieU4HiLbt63fHq/k2aTr+z5Hut7tBX+DmvdS/oVv2AkhahwBDrPqz/G81LAkvOXnvsf+BjvDqwQtFmDb4QzS7BOkaf+eS9x7X+kWhXiXWzOllir3rd0tBBFbcPRL/2NNeW2ej7PDk9a+eBUVhTn/ISle6jrrsyGOo/CVs/PPLuegnxT91zfz0q6rExHuKTVfXA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "028f7a9324064eaaab1883abcb8e899a"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "lWyBpDoK"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "7CVLwziAa6mgIvodxcElWfRFTOPQShG5"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "WUgaXwI/ttaf2T4eNTpoVXHxv8zLZEtcbj1qLtUoRcqBfvfikTMFD8izZ2D77H4g6h409WN+406KVu5M/KGums7AERCVnfN21CHYBLiXrB2J35dJJiX37UkEM7P8YvFgZ8NmjQjTozsndIFxPPgI/7pyDleU+8d9bo4DLBsPROQ="
  appKey: "1234"
  voucherId: 62299687
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:50:53,430-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"3a98293f98b74b62b06fdfd9dc9f3d70\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2316505587968975eabb223296596d0000\",\"sign\":\"39DBA354C199946B156FC73BA93CCB10\",\"timestamp\":\"1614070255\"}"
}
payrequestid: "KB202102231650552076075925588232"
model: ""

2021-02-23 16:50:53,430-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8794958916546626317490447798]]></transaction_id>
<nonce_str><![CDATA[YTe3I6lAtj4vfFdk5BipzZ0b7yNXsO8m]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[E55FDACA5B6DFE46545395A33CF0468A]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231650552076075925588232]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165053]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:50:53,531-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:50:53,531-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:50:53,539-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:53,539-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "36035853729969"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ctU1J6ZChB9Sb0HYv4seMAjREmlqLpIG"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:53,631-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "45a02819c08142a6bed265f06f104f9c"
s_p: "UmI1YkZYUjhrQ05idzBnZE9Pa3BFOWtSUURnVjYwdldMWlk4bFlZMGZTNzM4MUNiWDlJcTRYWGJERmQ2dW5PMGphT1hyam9UQWtKZFhiUkRLdjBsMktseGdJMTd3cXJxenNBckpWc1FrZVlrRmVKZ1p2NG1RTllZeVhGeU92OGQ3S2VzVzdxbVA4MEVYYzNrUU15MFcyMHFic2RHNUxkVUZsdXJ4R0hhcjd6NTRoY3dVMDZCREVKSWF2TEZObms2aWhENktncXB5eDFaMXZkTVhicUk5M1dzS1VtOW1wOUN1WTlTdGpORVNVSWUxUWR2UlQ1ZEo3OUhaV0dpUEppNG5IaXRUa2Q4T1BwdVdWNEs2dkFpVURPdmtaeFlwZ2hKMkd4Qm1JNVBsUER0WmFuV2pWdlIycUdiblBTRFFucDdoZFNlWkZnWU4yV3haQzhzQVAwY1VtUXV0U1ZmSVlhRkhGMUE1Vm1kZDZ1NGQ0V3JHQjVUQ1VRQm9XTVNYazRkVDFHakxCc2R5T2xzMDRHNjBUdVN3ZlBUT04xdWdLY0FWUHB0a0EzV0dWNUxzNWVNUUJlWnZmQ24ycFNlV1VwU3ZqRUdDZFp4V1I1S2V4S0FHS0tvZVZ1c0FScVNaY1A0S1luOGF3UHhBZzNaazNpVG53SUpMRHNHRWc2NXhCajZFQzNSelJxMVZCQzVXeXVrZnZ4NmpaUWdPNUl0dHVlaDZrVkJwTHFWODZPOHVGWk5PUXdCMWhudXk5aUR2ak5zbG5ROXR0a2owUng5dlBLQklDb1UwRlZOR1RFWndMZjZzMGphdkh4TTVMaUFIRTQyNWYxaU43ZlgweDB5YjJtdTZLN0lrTkpYMFV4aFVrTVRsNWJ6eElPelBNSHpHTkFGWDY5UXN4aFozMHljcVBJZ2Ywb1VDVnMzcEFFV2dEUXFReE1nWlY4OTJaUnkzQXdDbDdmY0JuV0t1OXhQb1NXYXRNSFlhVkR2ZG5WU2lENldITGs1Vm9KdUplSUVSRHFTQUNFTzc4S0JLS09lTG5PN2g2TDhmMG1nZ3M1ckUwWU8="
m_p: "255TdX4K6mn75LA6CAeZ3V2Wpegz043Qh8pL7y0CB93z84537F2981x35Sh74acH"
e_t: "1614178256095"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:53,635-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:53,635-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "45a02819c08142a6bed265f06f104f9c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "y0W20qbs"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231650552076075925588232"
version: "260"
queryType: "PAY"

2021-02-23 16:50:53,680-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:50:54,680-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:54,681-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:54,684-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:54,685-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650552076075925588232"
2021-02-23 16:50:54,690-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15018, 'pay_req_id': 'KB202102231650552076075925588232', 'notify_id': '8794958916546626317490447798', 'partner_order': '7CVLwziAa6mgIvodxcElWfRFTOPQShG5', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 56), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 53), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 56), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299687","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299687', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:50:54,690-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:50:54,691-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231650552076075925588232"
2021-02-23 16:50:54,695-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7704, 'pay_req_id': 'KB202102231650552076075925588232', 'partner_order': '7CVLwziAa6mgIvodxcElWfRFTOPQShG5', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 50, 56), 'success_time': datetime.datetime(2021, 2, 23, 16, 50, 56), 'modify_time': datetime.datetime(2021, 2, 23, 16, 50, 55)}
2021-02-23 16:50:54,695-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:50:54,696-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231650552076075925588232"
2021-02-23 16:50:54,699-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:50:54,699-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:50:54,699-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:50:54,700-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "7CVLwziAa6mgIvodxcElWfRFTOPQShG5"
2021-02-23 16:50:54,703-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 167, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_7CVLwziAa6mgIvodxcElWfRFTOPQShG5', 'partnerOrder': '7CVLwziAa6mgIvodxcElWfRFTOPQShG5', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 50, 56), 'updateTime': datetime.datetime(2021, 2, 23, 16, 50, 56)}
2021-02-23 16:50:54,703-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:50:54,703-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:50:54,704-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:50:54,707-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:50:54,721-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '67821654176892267355782465969410', 'bizNo': 'H8qgE4LTNI3RoBChrOjWQ0nby7cuGJtz', 'operateType': 'PRESENT', 'requestId': '70162227376069417674581801428812', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070254718})
2021-02-23 16:50:54,747-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:54,761-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070254758', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:50:54,779-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299688'}], 'vouIdList': None, 'batchId': 'c4950005ae1e4ba6ad277fec778e8838'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:54,793-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'c4950005ae1e4ba6ad277fec778e8838', 'batchOperateType': 'PASS'})
2021-02-23 16:50:59,833-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:50:59,840-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:59,840-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "64736052649025"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "rlezxVXU13BOLJSF5sTmGPq8DC2yZfIu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:50:59,921-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "883a3c999de843dcb37227ebbf599495"
s_p: "bExhMXZOSzFMUERuWGh3YUFnSXZTWFNKYVFobDJxcW96U1lLTUo0R1lvSzVSa2xZZmpBVUhyZVV6b0lSUDlsdGRzV0E0eUxNM3h4OTZScW9ZRm11V1E2Qjh6eXBxWlFGMjk1dHNjemVJSW9sSEc2a25NUllZOW5rc01abGtKYTlyOU1BbllsQnRjU3hrMWJDY3Z6d0ZiYmxOVFB2YXJCSWM1RFlyUWt3ZDBURzBWdlRRSTJBdk9LVDF5ajE3OW1SUUI0SExSS3d4MVB0NVBkUlJwY2M3cXFRUXVNNW1vNlhqZHBOM3kzV2tpa2N0R0RoeDdWMmhSSFhnTHVSQlRrblQ1U1dqTHJCWElVOHQwRjZFTDZDY0NMMHExb3NKaVRtd3JaMmxoMGVXUGowc0RKNmhGTW95T1dYdVJWaWxPTHNGM0trTDI0UTRKcmdvZXJlVzdmNnkySTFJT082eTZleGtia3BTY3RKMXNEcFdFSFNxOE54SGV2bzhIUklCU3RZbDl6VDJ1em12b1lMSmN0ZDhFTWRQazFhNkRVZkpZbkx3bDQzTUZ5aFJWUEQ2ZzdrbDExN0pZQ2M4aUg3VTFKZHJsSk9INnR4N3Q3OVNrZm9LV0U3MFUybDdPRkFUeUl1akhvMlBKYTZGdmdNS2JoU0p5cjR4eTZoVDVaVzNCSXhKd3lZVFV2VGJYT1d3c3ZnZDVoMDdqWVFzem9waTdCNlRzN1kyeTc2blIzRG5uRm9tTGllWlIyZGdyZXBpQTYyZmhOQXBzdElQMmh4eVFoOXdabVA2ak5jMXZtVW9tTUtIY1FHaERKZkhnUW84MnJsWlpKbEFhZXJjZmZRUXY0TkFJTTkxNXVlRXBTV3FDY3dxUG12WUNQZHh5TEpYNVZHTVh5dHFzenNvWDYzbWF5TEx5djJmYXpzV1ZBbnFnejBvUHBQOFZaMEZLT3B4MzFnS1hLNGZBaEZuME1JdHFCd0F4b25rbm5qUE1zbjRhSzJmQWloank4Z21KbFNsdEVINFZ6SXhDTHpDdTlyY3hncFdWUmFEcWhDa1BVNUEzNGE="
m_p: "57rhSUKs161D847G6TsCToy1Scr7nsK0au3bE7Hx8Y79Wf037Z46rj1Znr6G7ClJ"
e_t: "1614178262401"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299688
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:50:59,945-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:50:59,945-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "883a3c999de843dcb37227ebbf599495"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "lBtcSxk1"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "KfQWuHypGSVrotgXqFCd7jxecJaLlYOD"
}
sign: "D+wShrg432ugMbipTKA+F7OTJRVoHtGUdVnm0ezpk0Hi+woq1E7/6tB/Z+wFHd0KE0diXS3A3SATSuxzld1Kt8VEwXIfjsZS6UBRqrffFFgu9ZRaOC0ORBXa2X9g8MP1+j1lA9930kN+ZQEwEgOYJ3hSYU0OxT1HvJZH7m0ZowYuJ9hba/ep+OfqwUpPwoZT6knRSIddWjuqtTAgvLgd+J2CYESy6lkuHagstprD2+FKETYYyLkd0xbgkrqfRxF+2i/DH5vpOmurnzMHpVvPAhIdWCjCPaSY2/sKfvO3INTRxFJDAfABTih3ffXH8lV0YIUhQZwsk/2z+tCiRaaAoQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "883a3c999de843dcb37227ebbf599495"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "lBtcSxk1"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "KfQWuHypGSVrotgXqFCd7jxecJaLlYOD"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "ho8nIh+sKx5rCLW2XxZnWCdwoRQspH0SwZ99E0xhi6TJ0GL9epG/A7q5lXo+FQkHWGcmOcRvebKi0URQfXt3G1qJ37/VjPNcIsuExEoE2JPn/jutqy7JJoSzGtqQJShOihW2EIxaaFhYrrSs9RH5Ly2x2RosXmcYVkjnkKWkUfk="
  appKey: "1234"
  voucherId: 62299688
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:51:00,337-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"9d82e260126548b1be82f842f6b9acd9\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2316510279849374c4dba2043429190000\",\"sign\":\"45ABD63C62B1992D6C35905CB1071128\",\"timestamp\":\"1614070262\"}"
}
payrequestid: "KB202102231651022076075925426732"
model: ""

2021-02-23 16:51:00,337-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4303505242389080964093346132]]></transaction_id>
<nonce_str><![CDATA[4HJqInwmb0FKlapi2oT7PstCNMEh1Y5V]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[AAB44D3C643FB4DBA294DFC334625378]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231651022076075925426732]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165100]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:51:00,439-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:51:00,439-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:51:00,446-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:00,446-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "24802735783193"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "oIGwudvhmp935AxkljD2V0aLPQMW7RFq"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:51:00,526-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "1695ea318bd944f19bd052c1198808e3"
s_p: "R0FqM2VGSUhIaXZCQ1JBN3g3OXJJeUFaYWk0UjJJdWpuRDhRTVQ5YnBHZnBEYXZ3em1PclpEWmZGNHRxRkFJSlhxT0tLQjAyYXQ1dFpMaDdTQTM0dXhmQWJWdUhncUtTTUtZUUxMcjVQUEdPdmRtb3haNTVPNGJKUmZpWjlCdVBMdTJETTRYc0hRTE9xY3I5bGVBcDRKYjNWT1JhaHpFUXVVcXJ0amJZalMxcE1iM3RKOUttMnA3cTB0M20waEhOQVBLMkY0cDZrM0hWSVhpNDZvSzE3cEF4S01pcmpuNkRoM3Z3RktueWJVZVlTYnBVYk5PelNtMXp1bU40Z0dCT2NxR0hkQ2M3RVpqM09JOXh6bXZNMzFVMGlrbHBJWUNHUzlYaUhIQkNBS25naDJhbVUxUmt1dVkzWGpRQTVXM0hhNUtWWGV3MnBpdVBOdWtzSGZ3Z3BpdzlzUTh5VFZPSWJPSlZaaDBsQ01mbkp2UWFNa1B0dWtDWHFIT1RNdDdpcVpwR05QaFZhMndrWENuaTZkWmJ5ZkNET2ZsMUV4YlF1bWJjSE01Rk9wNTNiRTU3aHI0aUt3bnBQR1dmYjZYS0MzaFdXVUdseUJSV2h6dGFFeDI2Q1JFdjRJVTl2WDN0YkpjTU5nbTVEQnpyRnVpcFZqTUZ2dkZ3RVNJN2NCVEFPTThzWVBkTjRYblJXbmF6aUYydkt5dldVSXkwdWNVVHlpVGdtQmpMcU1qN1VTbkppcnBXeG9GMVNUSElIZFZienBRSWZCTWxjZEl5bzNpMTNIbFhubHZhYmMzbjNyUnZSYjdaU09PRnpNZWhpUVNJYjdJQ1dWWnFiZEtiQlZjRFgwMTZuRDh4eTcwSmtBN2ZqRmRLMkhhQTVhOFRuQ2dlUG1PTDl0Q2RNbG83ZkZlR1lzQ3hHSlZkcm1pSDZyVXZtY3VpbVR0dnFkT3BqSVJpb1U0cGVweXRNeGhsR2wxMTFPVVBpemNQUno1SExXam9sOUNrUjdDS2toVmVxS0JtUzBiVXRpbm55U2I4Ym5qZmdEMFVIV0JqYzJkeTZaek8="
m_p: "RvTbHI78W22zF8w67x7SXJhyQVC0H7Z6381oSHqSZA4609IM3mQPLd5e38LFmmNy"
e_t: "1614178263004"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:51:00,530-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:00,530-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "1695ea318bd944f19bd052c1198808e3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "02at5tZL"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231651022076075925426732"
version: "260"
queryType: "PAY"

2021-02-23 16:51:00,574-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:51:01,576-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:51:01,576-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:51:01,579-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:51:01,580-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231651022076075925426732"
2021-02-23 16:51:01,584-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15019, 'pay_req_id': 'KB202102231651022076075925426732', 'notify_id': '4303505242389080964093346132', 'partner_order': 'KfQWuHypGSVrotgXqFCd7jxecJaLlYOD', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 51, 2), 'success_time': datetime.datetime(2021, 2, 23, 16, 51), 'modify_time': datetime.datetime(2021, 2, 23, 16, 51, 3), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299688","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299688', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:51:01,584-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:51:01,585-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231651022076075925426732"
2021-02-23 16:51:01,589-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7705, 'pay_req_id': 'KB202102231651022076075925426732', 'partner_order': 'KfQWuHypGSVrotgXqFCd7jxecJaLlYOD', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 51, 3), 'success_time': datetime.datetime(2021, 2, 23, 16, 51, 3), 'modify_time': datetime.datetime(2021, 2, 23, 16, 51, 2)}
2021-02-23 16:51:01,589-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:51:01,589-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231651022076075925426732"
2021-02-23 16:51:01,592-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:51:01,592-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:51:01,593-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:51:01,593-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "KfQWuHypGSVrotgXqFCd7jxecJaLlYOD"
2021-02-23 16:51:01,595-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 168, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_KfQWuHypGSVrotgXqFCd7jxecJaLlYOD', 'partnerOrder': 'KfQWuHypGSVrotgXqFCd7jxecJaLlYOD', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 51, 3), 'updateTime': datetime.datetime(2021, 2, 23, 16, 51, 2)}
2021-02-23 16:51:01,595-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:51:01,596-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:51:01,596-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:51:01,599-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:51:01,612-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '93346645251479004740605942841729', 'bizNo': 'OGv3Pjmt5sbUw497CHQ0WqKAxRhcySlI', 'operateType': 'PRESENT', 'requestId': '38736687190302995760824766267257', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070261610})
2021-02-23 16:51:01,637-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:01,654-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070261652', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:51:01,672-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299689'}], 'vouIdList': None, 'batchId': '10d1bdb4ee98458da85af854225bab57'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:01,689-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '10d1bdb4ee98458da85af854225bab57', 'batchOperateType': 'PASS'})
2021-02-23 16:51:06,730-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:06,737-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:06,737-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "40313184264926"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "z9uFhm8vqLgrpdEWi3eS1CXxItls2nYa"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:51:06,815-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0f95494702b44cd1920131b87c5e8433"
s_p: "a0VZUDlXaDhLTzh5OXlrYXZ5U0xLV3pjZXRtcXZONkdueGdhbFh2VlFrNzcwU3lsYXRvVHd5a1RCa05jYVBYbGtnMUVWRUwwTjlZR25TSm1TR0FPQjhvc0xzMzRSdDlLcjl4R1ljZFZKRnJPWFFGZERzYWduOG1tdXN6VVJYWWtFamxlclRkc01uUU1RNmdGeG1NcjNHR2JvMUhnd2ZoV0pvY1BselM3VXR1UXpDNVlvcnRYTGhJaE5vRmVJZnl3T1dhRTFqbGhkRmVCMDBYYzhIalR5SGEzRGhXSjRsSGVOUlh1TzNRb3FjRnQyRmFEQmZGWkM3VENGSjUyVGs5YXdFb0kzN2hLM280WlNPQU43Q0dlaXd1OEJMYUFTR1owTXJVYWpKTjB6YWNPZkpQUlhKc3l4b1ZzQXhVZjY3aldKQWoyMkpQdWljWVp1aFdlMDdiQzZuMkhBZzJPb0ZqeUMyU0JyWDR5cmZ4WjBoZU91RWM3MkVlSTZhcVVHNDA5RmVhZk9SWDVFQ1B1MmZKdnFENFg2MVVCTXZKN0JvQVBoUXZVMllkeFFiM2NOT0pibXhsUmZDMHlBVW5Ha2M4Y3M4YlVwc0E2d0hHV3dZSlNSSm1ZaUpxZnFpazh5V2lCclNkQ1NEWjNtWk1SaUdZRmZhMDF1TXZGRXBpR0xTYWFMOVUxRW1BeWthdm9PN1lBYlluZXBEdEEySGxBdmFidGdDTWlJRXJEUXBRRXBNdm5qVzNPdTlNc3M0bGMza2FKSkZFcHBUNG1TQk1IeU5mOVIxWHk3MnhRNFR4VzNwcklyMExqb0Nvd1BURTRGZmJRcEtlcXZDSm9tSGMxSFgya2VmZFJVSFNiZVJPNkhRMFJmaVFOeWpHc0F3NjlCUzRPRUxzRnFQVTNCSUNKRGtpNGxaeW01M2VWV3dsVWplNXlueFhVbDBsdkhaelc2dHJyUms1Sk1SV1JyblhYU1B4RTFENWxDVG5wYm8ySUVIRUxMVzFSQjV1cThld2RzRnhSNWgwRUs3cVJUOE5IbTdCWnZRUzVOaEtGcjJlU2Jqc0Q="
m_p: "138d5Q8KR26zYMGB6X5ysdx8ZN89X4nGcdFcK0kb1S6F6sZLOK5O1Suu6qZgmUa3"
e_t: "1614178269297"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299689
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:51:06,835-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:06,835-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "0f95494702b44cd1920131b87c5e8433"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "agn8mmus"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "KCBxwldnXLzOktP2gcAvQJHRD3E1hysm"
}
sign: "WIomynzYUtqLGD6nC+zx8CDXe94BRavJ7MzT7cK3I/zGVOMYvjYThltg74JgYdVy49/y2Mwquz9ovqZ4mWeicJKa4Pp+BGoY4Q2AXQBFfGGUBvYjEt71vSl4q0jhT2rSPOzmtj7/uLkQft324e/JZ4Cj7+MH0D7vhRaZachrraSaBHv+3SqF/oU/iuMLniVs5bkbTYmy3tFaEs2uXThk3kIw523iN+jCl90oEtqk9cna+BiVV6GG5A6pIk+G24/xzkYWFZZBlg6wbcxt8I+OoLDs16O/POsCLOMKalSmyLSjfsksHIyBf52krFnoiER+lcaY5m7ewuBuj9Ni90UGTA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "0f95494702b44cd1920131b87c5e8433"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "agn8mmus"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "KCBxwldnXLzOktP2gcAvQJHRD3E1hysm"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "aBHim/XCLYtSyqhIBXRJUPPtY3xmHWHR3WMbWF98YXhM+8zI5f3ZeY8E/PHih5FD3+YlyYcfAJpfX7OP0DG6Xc4zGp1vrWq18bwQ1kQWvcxXe1wb8p6J6JNlxlyqVnCCYvDkYM0bA3ckyvcHcw2wBUAcHBGjyn1tcr/e+kfFd4w="
  appKey: "1234"
  voucherId: 62299689
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:51:07,208-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"4af73e20498344439c417cb7cbaaa311\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2316510965748395d1ef024c2e42520000\",\"sign\":\"FB443B48B9A83AD70ABEF6568D08E5F2\",\"timestamp\":\"1614070269\"}"
}
payrequestid: "KB202102231651092076075925162522"
model: ""

2021-02-23 16:51:07,208-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[3071604716377810921776632616]]></transaction_id>
<nonce_str><![CDATA[ALyf8mICTehNxD4oszkqiXZKp3jY7QJS]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[4028F5D552A05CBBDB4D98DC8CF79BC6]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231651092076075925162522]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165107]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:51:07,300-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:51:07,300-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:51:07,308-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:07,308-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "37558462691007"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "YMd48eFg25XN7HSTOoCEvuyLxrw61V3B"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:51:07,379-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "40bbf18febfa42dbac88877fdac4b47f"
s_p: "azJRV1pWVVczMjdCNTZWbVdqTVVNemZIRkN0OHNPVGZ2MVdJZE5sU1J0UmlGTXJMUW1ETXIwdHVhejlWdWVHeThCZE5URUZiRkI0NmxsYXFVc0t4ZTFZRHVTSGJlc0lXUGNaVkhzNEttQlVqYzhOdDRoeU9kQzhIZThWMFd3ejM3cW9OdGhrYkJNRjZ1VGp2Q3pwc3lpT3dyeFI4YXZZRTE0TTNMWDQ0V1RES2RsUVpLcFBTNkhCOWN3ZlFPbkV5VHpmTDV6dzFKdmd0d1RUbHV4QUQ1QVdOeGhlRVNKbjhhSWRlb2RzRkh4bk5uOWRESTJ6TFBUeWk4M011bnJ6V3Q4NmI3eTVvNkdVYmUyNUMwNld2S2w3aTBnNVRzYkhFcUdkOGdxTXBVN3ZudkhraDg0cThwWVdZOXZqRVVIRnBTVkdwb3VGY241UVNvQ0xneUVhQkk5V0hiOFNyUmhLODJEeDl1T2dna3hFc3FaZXdMNzd6akpLUFE1WlVKSkJ6RUVMNkpBWXdBY3R0NFk4c2hhZXY5eVpWQjE0Q3V2S2R4SFQzM0FGMnE2Z2FDcEVRSXVCQTY0Uk8xSGxYaHZlU00wVk1POE5Ub0tzYU1laGdsTUo5Q2x6V2xRNDMxWEw3bU1nTDhrVlZkWWREdXZnRjFSMlYwaHE1SmY3cEQ0Tm5ON2NUaTJSeDQ0WEhDOWI4aThVb2MweEtJNGlnbnZzOEM4eGVWb0taMVJYdEw0bnhWU2JqZUVoZ3JEUEFkUWNzZ0JDWDJxY2huWHJGMmpQZk5peXVubGx6MHJGVjVTYU1WamIxbk1xMVBVRGlVb0NUMzY1ZlpqekFBdldJQ1JHM2tqd1FScUxrN0hwbTdHTmRFUmNuUUJxcEc2aVRTazM1UWl6RU5hNXV3VEh4bFY3TmE3Wlpjb1ZPY0NlaFBuSWJCRmdIaHQxeGJsREVjNE80WjlPRkN3TlJGMHFUc2JFNW9QM3NaMzhWSXl1dzlYRjdNZnFmOGV2UDJnY0ZOUzhva2RlQXZEOVAwamlmcGpKQXdXcG11WVJYWXR5ZHkyR0g="
m_p: "QSvT496a9Ovk0yh6QCEF37Rx5jsGtfF2k3x4DiwNnC8Hinsbb6v8kdc1A3N0hky2"
e_t: "1614178269865"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:51:07,384-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:07,384-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "40bbf18febfa42dbac88877fdac4b47f"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "thkbBMF6"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231651092076075925162522"
version: "260"
queryType: "PAY"

2021-02-23 16:51:07,424-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:51:08,424-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:51:08,424-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:51:08,428-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:51:08,428-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231651092076075925162522"
2021-02-23 16:51:08,432-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15020, 'pay_req_id': 'KB202102231651092076075925162522', 'notify_id': '3071604716377810921776632616', 'partner_order': 'KCBxwldnXLzOktP2gcAvQJHRD3E1hysm', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 51, 9), 'success_time': datetime.datetime(2021, 2, 23, 16, 51, 7), 'modify_time': datetime.datetime(2021, 2, 23, 16, 51, 10), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299689","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299689', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:51:08,432-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:51:08,433-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231651092076075925162522"
2021-02-23 16:51:08,437-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7706, 'pay_req_id': 'KB202102231651092076075925162522', 'partner_order': 'KCBxwldnXLzOktP2gcAvQJHRD3E1hysm', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 51, 9), 'success_time': datetime.datetime(2021, 2, 23, 16, 51, 10), 'modify_time': datetime.datetime(2021, 2, 23, 16, 51, 9)}
2021-02-23 16:51:08,437-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:51:08,437-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231651092076075925162522"
2021-02-23 16:51:08,440-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:51:08,441-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:51:08,441-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:51:08,441-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "KCBxwldnXLzOktP2gcAvQJHRD3E1hysm"
2021-02-23 16:51:08,445-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 169, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_KCBxwldnXLzOktP2gcAvQJHRD3E1hysm', 'partnerOrder': 'KCBxwldnXLzOktP2gcAvQJHRD3E1hysm', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 51, 10), 'updateTime': datetime.datetime(2021, 2, 23, 16, 51, 9)}
2021-02-23 16:51:08,445-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:51:08,445-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:51:08,445-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:51:08,448-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:51:08,463-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '87568042086572724362123425527899', 'bizNo': '6byz3oqDh2RX8vkrd4sgQ1lAVtFj7GxO', 'operateType': 'PRESENT', 'requestId': '65083039197060120814461585475936', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070268461})
2021-02-23 16:51:08,491-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:08,505-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070268503', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:51:08,523-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299690'}], 'vouIdList': None, 'batchId': '330735a044104e0ca8aa6b7171debdfe'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:08,536-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '330735a044104e0ca8aa6b7171debdfe', 'batchOperateType': 'PASS'})
2021-02-23 16:51:13,574-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:13,582-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:13,582-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "70547858451043"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "pgTkz6ZdcmGX9QtYvyDhNe1H42Ox835B"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:51:13,663-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "3a9826a09cd743c1b413dc7ac907605c"
s_p: "QVZodHozWFNFZ2I2MjM5QkpFNUlQMGF4MGF5c2VmZ0s4ZXVKd2VsVFZuUmc3Z0JwTGNnZnI0WEE2eHEyTDgwRndQbDFzdmNla0I5U1R6eFE4ZjBDOTluQTMzWkNCb21PcFRiYlIybTQ4bVNCNG5rMXJhNVBoc2FJUGxiVTYzTXNpc3FkUGxtNDdqUlJTWGRTQmRYU3ZKVHJ4aU15SjJyTmhSZFVDd2NNQWxLU0xpd2hmZXRjMzg1SEFqYWtDZkk2QmhzQXc2N1FGVVBUdFFKczBmNzVqWG1UNnRLWmswVENkYjNGcGJhMWJ2VDI0QVhTNUtIM3pJNGt6UTgzYkt3Q2tSRjFCZVFTaXIwRmxQMW83YVlOMzBDV2l2TTZOZHV0T0FNbnVTQTJwVWNnT2VUTDdQck45ampDcDBPM2JzTzNEMjFybElXcVhjcVNHVTR4RjlnbjU0YVhVZjE0VFJ5TzZKUzlSVDBPemRYVjZ3UjM4azcweEU1cnVSYXIyTjdyZ0pSd2dMQ0NHN2xINmdXNnVnamNTOFczN21yVmZYRTNVaVBLeHBuSjlqU3Rsbk1DT1g0bGtmV3VzYjc4Y1ZWVlZTUFJFWUZLVk5mRGkyMVdvYXRYQUplRDlMQ3d4MGc4aU1mclliRG1Cbms0ZDBmZkZEZ3d6SndDVVZvbThoZWE4RTVqYnZYUXV0cWt1RW9sTWdQbnpjWWlnSUcwRjlTTEhjOFNVcUNTODE1MVhHbVRNZjl6dk5lZXBFSEdPWFlTZlZJekZGcnR3QXoxQWhGVUhTYjh5Sm9XQkdKZWplNnhUYXdlcTNXZ1FROU9YUWNyOXFOa1FZRTJEdzBmY0xoVUJaazN2Sm9MTjVPVDhtUVNwTHBaSmp2N01pN0J2dXd0d25lUWFXdjVsYkM1eWdoaVdOYWZUMXlaVjJtMmVnZWI4dTVRSFVFRmhFMVUyS0ZzQ1dLYmFsZnlqb3RiUmVkTHcxSUtTRVpsOTNpMjRSRUVwZ0xBY2tVRzZQQklYY0RhOENQZlZGQXdUc1hKVE9ZenNIRzhITktiRnh2WENKTFE="
m_p: "4Op34F8a4P5z3w3x0vdc86586VO73hI8n9499p1E626i1sQ31x0AdsdGtR3VUK8L"
e_t: "1614178276143"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299690
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:51:13,686-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:13,686-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "3a9826a09cd743c1b413dc7ac907605c"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "JE5IP0ax"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "rSVWn81ysxQz0Z9aPbcKemDoCUtgi2YM"
}
sign: "6EWvbsLOqzDjNF8inDBj2OtLe9WjaI9jvFIQ6jPGO+Hu2TJ2K0XC6IDpMcmanj9tfB4Xd36Ww8jaasv3iy3WwDKdDXWz5/hcxXD6D3hOedkBia4HkbYsO/ABlAkmh+ub4HNQf3aPx7VJW+BMgAe6g1AopFD+5MesK5CY5lsBYQFse3qU7VqlN24jSbnI7xhK78/46wQUTDAL8LVkc6JhVDMvoUy4rQLKndSn21QWpE3lWeFNtmSe0FU8Gcvxfok9KXVyvG01EIybgku68iwy2iiQOnLxZOUdRaAYbXPgrAICnBPYDa52C5NzPa7pben3c85ZUa7yYmociln6xtTZ0w=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "3a9826a09cd743c1b413dc7ac907605c"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "JE5IP0ax"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "rSVWn81ysxQz0Z9aPbcKemDoCUtgi2YM"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "ZJgmMdltKk9IFnfjBeiAciDnpYfIN9fwpuVPFhsR2xZMxKiB+XtpNOpVaijMm3LnrfzZ1dK9CtAJmk5XnFPXlIiCbrujr9/du2UwFeWL4c5HAsqobq7lPePny5nSRDiW/sURnQ/dLaaqZDAojw0WhM9i21pgwzVQqq78kFX2III="
  appKey: "1234"
  voucherId: 62299690
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:51:14,073-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"d74d997087a44c65996f1bb4e2389d23\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231651165256156ff149e21806d4440000\",\"sign\":\"00E27C8728181318BECA0866D21E802E\",\"timestamp\":\"1614070276\"}"
}
payrequestid: "KB202102231651162076075925704552"
model: ""

2021-02-23 16:51:14,074-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2242622268863137777245599402]]></transaction_id>
<nonce_str><![CDATA[0nqsNwZcYEz3BFP1WCdag7j5lXyU49xt]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[28EDD9A15E42E65DB4BD51A9C4B3B7F6]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231651162076075925704552]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165114]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:51:14,161-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:51:14,161-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:51:14,168-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:14,168-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "67060785789241"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "TfhQ4YHg2ZNL8q3cB1xGAEd9I0kzRsl7"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:51:14,243-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "823e365b78224d55883018195e7de202"
s_p: "MEpsbXhvd2xKMElvQVh6aThUTEZiWTRZNmJzZzdjdVdUOExpZ0ZjMEZnTnFJZjRGaVdpNXgybDVLM2trOTQ3R1FxZnlTbGR3MVhrOEgyWHBMZldDSnVmRTA5c0x3SkR2N1I2YUo4WG55WHhJTDlHREJDRnlpZnhUU2ZLTHpnaFFjSWZySnMyNUZEWlM3M0lhbUdqVzhkeEgyT3dBRkdadm45cVZCSExFMmpJcUs4a1h2bUQyZFhJY0dIMDBxR1l0WTFkeWx6NmJYTjQyajBaWnNXWVpqVVpkWUhHaGZVRnVnTGNJTTdORkY2ZmpsZzhrUFF2N1lFSUdaRkxBdEtSMXRVWE9OckVUc2JjWkdaeG5JZkthR3k0OHRMazBUdjEzNTduRWJJTElPUXV4UE4wVUxuOWxXT2ZTMGh1OXVJUGJiSEcxWEhpajFIQzFOUHdXc3dhc0RFUXBRR2dRMGRRbWtsUUNoaWRRZDlhWExVMjMxR0RDUkpudXg4TlV3d0NuaUd1SFVQWTZLTWdRbTB0YVg5MWVXNFNzUTVJWFBCQ3pBYm9qN0JQc045MHdJRGV2TXh4b3oybmFCd2UyUFNQdEVudWJxdjZaQVJwNFdJclZxUVd5UU5ONFl0dXRKWDVFQ01yZnd2ZlhGZjZYeGVkd2NSNE9RUkRmbEdldXZCWUFiOHhSWmtPMlN2bTVxbEZ6MUhubTRjU2hZUFdiSzdTclRlcWxzWFk5alhiSnl5blBmUExrTzhXNTBhbDJTM1hlajAzSHh3c3M5YkQyZDA4NTNNTGFsalJJcGJ0VGVGTVJTdWtxT0x5ZmVya29jVmo0akQ2ZnYyNjloMEh3TmZLWXpMZGQyNURveVlXcG1uRURKdTVVS0Q3Mk9FTkQ3bll4aEhua2ZaM0ZGTVFSMDFtbEkzUVZtTHUwWW1Gb2RuaUpPY2lvWTk3clZVNmtaMjBmSUhsN1paZElKcGRwMllyeUx6WVl2Y0tFeEVzanRlcTZWeDRQd0pnVkw0VnFqUEMwZU5jV2J6OUFEV3JCOXl4TXJOQ2Q3Q2RhOWtpOVZZWEE="
m_p: "GYfAA1Loj2nL02XszNGxQv9lm511Ct0cGhWnBSc71GN3778MEZKEB3l4CBWlB68f"
e_t: "1614178276727"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:51:14,245-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:14,245-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "823e365b78224d55883018195e7de202"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "mGjW8dxH"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231651162076075925704552"
version: "260"
queryType: "PAY"

2021-02-23 16:51:14,286-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:51:15,286-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:51:15,286-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:51:15,289-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:51:15,290-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231651162076075925704552"
2021-02-23 16:51:15,294-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15021, 'pay_req_id': 'KB202102231651162076075925704552', 'notify_id': '2242622268863137777245599402', 'partner_order': 'rSVWn81ysxQz0Z9aPbcKemDoCUtgi2YM', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 51, 16), 'success_time': datetime.datetime(2021, 2, 23, 16, 51, 14), 'modify_time': datetime.datetime(2021, 2, 23, 16, 51, 17), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299690","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299690', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:51:15,294-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:51:15,295-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231651162076075925704552"
2021-02-23 16:51:15,299-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7707, 'pay_req_id': 'KB202102231651162076075925704552', 'partner_order': 'rSVWn81ysxQz0Z9aPbcKemDoCUtgi2YM', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 51, 16), 'success_time': datetime.datetime(2021, 2, 23, 16, 51, 17), 'modify_time': datetime.datetime(2021, 2, 23, 16, 51, 16)}
2021-02-23 16:51:15,299-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:51:15,299-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231651162076075925704552"
2021-02-23 16:51:15,302-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:51:15,302-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:51:15,302-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:51:15,303-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "rSVWn81ysxQz0Z9aPbcKemDoCUtgi2YM"
2021-02-23 16:51:15,306-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 170, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_rSVWn81ysxQz0Z9aPbcKemDoCUtgi2YM', 'partnerOrder': 'rSVWn81ysxQz0Z9aPbcKemDoCUtgi2YM', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 51, 17), 'updateTime': datetime.datetime(2021, 2, 23, 16, 51, 16)}
2021-02-23 16:51:15,306-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:51:15,306-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:51:15,307-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:51:15,310-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:51:15,323-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '95772065443946083562599715549874', 'bizNo': 'tA7jvL9bkQI3Kn4Spmc6NTiaXEWo8OsG', 'operateType': 'PRESENT', 'requestId': '18099058177940525823599018691832', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070275320})
2021-02-23 16:51:15,351-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:15,366-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070275363', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:51:15,389-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299691'}], 'vouIdList': None, 'batchId': '83cca5e5253149c981b8ba43bed72a20'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:15,402-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '83cca5e5253149c981b8ba43bed72a20', 'batchOperateType': 'PASS'})
2021-02-23 16:51:20,440-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:20,448-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:20,448-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "19195786534334"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ieatdcHUCyfbDFYRvMjxZ0957A8ohIKu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:51:20,543-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "6dbedc60ef604424990ee41102f6d73b"
s_p: "VU12OFRxbWhSZ3E3RUtIMG01MTRUN0dORmtXZHVoenozaVZ3cURSblFuNE80d3JpaDlqb2p2U0Jndm94MHhCWXZua0FuTGY2OVBER1ZEaU1VWjVYSXZrMGdseWpESlFsVGp1OGd5eDdhZ00zbWFVTnIyS1VSOFdmMThhSkdZc0dFVFBSdVdkODVuQnprWWJvbkVucjNCR2l4YllscFdIbVF4aHE4UFdKbEc2Z0p6RnNNN1J6bFluZ0tmRkg0OUxydXE0VHI3MXJWWEFLYXNNWUNPUE1WaktLaHBMWlp3S1VZUUQ1RzNDQUhkbklvZ1FUalZrUGc1Z1pTNndJa2NXOEY3ZTJUeE9HZkFFeG9ucFhUTjlNTk5uZXZSdHFHNTVpVFllWVJ5QzI5bHB0aHhoWHBhNUdNVHNLM1lhYzd0ZlYxbnhJSnJJZWhUeUhJQm54cjAzeEs0ZzB5TERDdXJzcVdKVjZjdzE5MDg4VjR3OFkzZHF4ekw2QjJkRmRlZ1BTQ1ZFRGhtOFdhQ041ZHkydXJWMUtOV21vOU5lZkR6UnpYbElWRHd6bVZYOW1hbFFNM3IzbXJkU2RkS3lqd3lNV1dMdVVrT1Q3Rm9JdTJHaVpXZW1WQ2JBUll6YmdkZGxuWG4zdWZlREZpaXlhOUc1T1lmMm40OThRVWQ4eTY1QzVyRVRQNzlXUDNWa1FpMXUyYWVjNnBYejlnY2xqRmw0YnZuY29Qb3FXeWRqTWdzZ3FSRWVFYmttVXlnV0pFQVdGY29LdkV4YTNmdVBnbWFkTDJwMUZUbFgwU21vMDR1ekFMdDd6STB0cGNEcWdsUjB1djdGZW9lNXp1OXJVYnhpYzI2eVdpc3BNaGJHWWtnQ2c3bm12T3RFRXFwZ3ptc2Rmb3Fuc2ZTZHdEZ0Y3V0Q1aFdzQzdqNVB4dGtaY1NNc2FETVBzQTlJdU1hMlZId1V3djJIa0NydjdMSk1NSzlnS2hFc3lZYjg3d3NEMXdCeXhWZmk5QjNqZjRVM1BqRk1lMmE4M2t5Y09aejRWb01ZQmFXQ21kV2c4SXpxOEpaemI="
m_p: "20a9Ihb740l2bHTV58i2h5I12HB6k5OdnMCD2c2921Ky93q34f440FN2SJEo821e"
e_t: "1614178283009"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299691
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:51:20,565-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:20,566-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "6dbedc60ef604424990ee41102f6d73b"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "yjDJQlTj"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "QkgczRMGHitJ6LdZuSEB2CIX0wKb8VpP"
}
sign: "wW3/NlyBMt+SabYM/KETev8QbcshJE1fl8YKy5PLr6stoGnukDeFZfiSb4wS3oE73VhVp3z65Jw2V6CCUQoqUZ+VWRxf5BUQrZ5IoyVxa6gL9sQa4QqDxAk2NOyFodRD3eklg+4ayvgPWKYc9CTVgOmf4GW167D7X00pJDp4hgRy2hBx3CbrjRTZgAZBMoJ2+fwU53cDlK8HGKzT2XDY+3CNZu+tXuh+Vjiyxb/v5fn0mQ5LO5E2RANY3SwACMl+lrYIHA/SqZieKDMMJ8GqXGz+14ehiYGqEIPT4+8X60C6iZU9fijeKWP8EbxOjmmrVkEAI5gZHGuQgSGQV3LXuQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "6dbedc60ef604424990ee41102f6d73b"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "yjDJQlTj"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "QkgczRMGHitJ6LdZuSEB2CIX0wKb8VpP"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "EtSMitpmt14BZG3EUHc2q8m3wpekrEQ9MgbxulB1W42i5hIDk16fo6QGx4K22AHsD7sonO5WhC77qLVeOVoBGY44nS4UJmy5FZyfKhGEK07/+Owq/rjX+jbS1tu80eZy+kF67gwiDWfgZBisf+vRV0532Z4KYrm9lqyDgnsQq48="
  appKey: "1234"
  voucherId: 62299691
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:51:20,876-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"04786c9e1a234d97aba275dfb2ecf965\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23165123333253b7abdb38a11f44130000\",\"sign\":\"BC50DAA0996F995998CE6C52676D2E1A\",\"timestamp\":\"1614070283\"}"
}
payrequestid: "KB202102231651232076075925851702"
model: ""

2021-02-23 16:51:20,877-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4355749747259534164092398903]]></transaction_id>
<nonce_str><![CDATA[ZPrJ0s3UYoyx8TB2bcpENiq7HmgL9elF]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[B8A8A103AC3416F8BB2C37E69235B04D]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231651232076075925851702]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165120]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:51:20,976-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:51:20,976-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:51:20,983-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:20,983-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "75342341870566"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "dCvVZ85QJPElqyOfr9Nwgm2uScX7azRD"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:51:21,062-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a3867a5df0f043949f5c770c2470fc69"
s_p: "aUJ0TlVYRTdRMExnVHR5MnlBM0tNS0Exa0ZhN1ZZOEhWak9RSzFqUklZMFlrVE1rNEY2bTU5OUZEdk8zYTdoWXRaenphU3ZRdHd3R3VDSk5BUWFhem1zVHI2cnZ0QnlBMFBZNVBOcnh0Z0Z3WWkyUTJKS0NxSTVBQ1FmQ2RYcDlQTFkwNE9odUNBejdJZzBBNHlUZ0xTOTVTMVJtTFNFcnZscjFrYUtwVVdUUmh1VlRJRENqclA2bldaY2pGblJIRmNoVEhoRXhDS3g3UUVCSmdEdmlrb3dzc0FiWTI4U2tCTmVJSUtGd1BZZWhEOVZ4WGtoTEx3QlBzU2pZWDlkdUJLR28waGF0NktnSnZ0M2pTUnA3dGtRZ3BkRFBBWGpuMzhXczd4aHJYMk9QVGdqU3dhS2R6S2RuNWxCY3NONGVxREtkQTFPZXZvdnV2VFg4N2dwYm1IbXQwUnViS3E2MUtFNzNDU3hHanFCZVV2elhWUHByWXRKcnEydFVjMGNWbGhrN3Zsc1g1THp0SFI5QXlTQWlCZHVMNlFCVnJveXRFVkFqeVRsQ2xsUWpndzZ5eEZyNTBwaXp1MFpqT1NldnRpeXN1YjRJTnZ0UHVGVVR4QjlXcTBUMDhHZGxDMWlCQ0NxUkJjcXRSbUR5MERsVFphb1NBa0ppTDU2WVJWa0ZwdGg2aWhMWE9FOXpiSktybHFFSXRyaWY1eDlCaE55S1hQSTl1TVhDMGtTUVhRU05OWldjVm1pSW9MSjhhTWk0Zm1NSGhkaUYwbjBmMkFoRnJQbTJUNlJraGwzNGxuMWRTdzZQc1RKOXFqcXo4U1lZYkNWMzFZclRNcHd4S0RUSElCdVhtS1FjU2FKcFdlYlRTeTRjazlGcnBSNGFqZkdDZnBWNkVPdEZIVXgwb0JtR2hhTFp4czFZcHIwNkJ5b3lGNGtsY2JTYXhsbFM2REZ4OGtadXMwcnJhakJsejUxTkxKbUUxY3RsMkh6SGRMYm1ubjBFUkZHVE1YaDY0bGl1SVFTWnNmbkI2dW51Z3kyQzZqVUVJWEhBSlp6bHROcEM="
m_p: "4Hw7pBUTcoPY7U8zVeb12kHlQYYlX6haYY2AFNr0WwsSMB2XOQ0Dubc2C7SK6gd0"
e_t: "1614178283542"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:51:21,064-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:21,064-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "a3867a5df0f043949f5c770c2470fc69"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "tgFwYi2Q"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231651232076075925851702"
version: "260"
queryType: "PAY"

2021-02-23 16:51:21,108-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:51:22,109-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:51:22,109-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:51:22,112-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:51:22,113-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231651232076075925851702"
2021-02-23 16:51:22,117-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15022, 'pay_req_id': 'KB202102231651232076075925851702', 'notify_id': '4355749747259534164092398903', 'partner_order': 'QkgczRMGHitJ6LdZuSEB2CIX0wKb8VpP', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 51, 23), 'success_time': datetime.datetime(2021, 2, 23, 16, 51, 20), 'modify_time': datetime.datetime(2021, 2, 23, 16, 51, 23), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299691","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299691', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:51:22,117-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:51:22,118-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231651232076075925851702"
2021-02-23 16:51:22,122-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7708, 'pay_req_id': 'KB202102231651232076075925851702', 'partner_order': 'QkgczRMGHitJ6LdZuSEB2CIX0wKb8VpP', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 51, 23), 'success_time': datetime.datetime(2021, 2, 23, 16, 51, 24), 'modify_time': datetime.datetime(2021, 2, 23, 16, 51, 23)}
2021-02-23 16:51:22,122-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:51:22,122-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231651232076075925851702"
2021-02-23 16:51:22,125-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:51:22,125-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:51:22,125-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:51:22,126-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "QkgczRMGHitJ6LdZuSEB2CIX0wKb8VpP"
2021-02-23 16:51:22,129-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 171, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_QkgczRMGHitJ6LdZuSEB2CIX0wKb8VpP', 'partnerOrder': 'QkgczRMGHitJ6LdZuSEB2CIX0wKb8VpP', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 51, 24), 'updateTime': datetime.datetime(2021, 2, 23, 16, 51, 23)}
2021-02-23 16:51:22,129-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:51:22,130-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:51:22,130-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:51:22,133-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:51:22,146-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '39413148713971842497565198657777', 'bizNo': 'ICm2nlaJyRUbQAru657z0s1GEOMpwWXF', 'operateType': 'PRESENT', 'requestId': '52741623491482090911845993553237', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070282143})
2021-02-23 16:51:22,190-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:22,203-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070282201', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:51:22,221-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299692'}], 'vouIdList': None, 'batchId': '6c3f590dee09475984de08404984032e'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:22,234-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '6c3f590dee09475984de08404984032e', 'batchOperateType': 'PASS'})
2021-02-23 16:51:27,273-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:27,280-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:27,280-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "08175863904982"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "vzgx1tp4e5GDdh7OnPfNXKS6AmYocB3Z"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:51:27,361-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "43eca53ec0654a69a88c0ee7f9a27a10"
s_p: "YlAzeGZuTWxRdGlPTkhLMmVDb2JPTUEydnptSzBiNmFRdWZlQVBCQ3JyenR3eml3QmlNUlhobldyMWxWUlFBQzk2Z2V0aVhlUVlkdW5OY0drYTZJOUpGbmtOOGN0ZU9tbmlpZmhYNUxESEVMV2NvWDZKYjBtbXQxckNoc3JybWlzUTF5SnJKOEo3OElabVRDaDQ2dVdCU3RZZVFlYWRzbnlPdlFIV2NTUDJlM3VCTWlPYzJsMWEzV1NPbW1qOGhzRVY0RGdrQkZnRFlQcFFreE1ZZmpBWm9GcTViVXc0WkgxbnZQZDdMc1Q4V0pMRjRiWERLUWtJSzRSa2w0dnBQOTM5YVdUSHBOa1lNcG5EWjVWbVJjVmxiZFgwVkQ0N1RIVFVsYnFrTVNibkVEUkNFdXY0QzI3OGp4REUydVNJdjNvUUtzc2VPQk5ZdXhIYURWaG02SG1Id3RtVFFkM2NReDFLTmFmSENtVGxQRzloTkdWSElUYXNMc0U1T2NsSVF1U0VEVTJibDFFTXJoOTR2QmZFUTU0alE2cVRBTXI4aXZPSkFWVG5HQlQyRW1FQmZKN0hkRmV6Tmx0QmNCdERBRXVRaXEwb3VYczRCSGNSMmJ0RGZqRzB2VUlzM2ozNmZjU21wV21LOWVSNVhYdDdTVEJLWGdicGhWcG9UcWdkaWdueVpiQkU2dTNteUoySm5yUlA5Z1BlM0R1NFprNE50aW9seDVIUllYc2tIeEYydzBWdTZDaHNjYk1rVUJiQjVlTHV0dnc3M3ZtSWdIZXRXYkZHbnlwUlZaWkxLREVuVHZsa3BNajFjQjFBc3I2c2ZZcG9ndTFvR3kxVFY5dnh5TU5NUGUzZmZDR0d0STRYOVFBcm5sSFVQYVNoa3VRUjl6ZFlKcEJKQkphRnU3SENReWVNSG1QN21rTGk1elRYYkQwOXNmM0ZDMTR0NEd2QnhvenE1blNKWm9aNUlmUkxCVVI5c1pGTmI0V0pEVDdOdDZnZVRRdFcyQjNMUmJmRkJFRmR3OExySFVWZlpkdDcyZnlqY28wY2NTbDFteHFVZzE="
m_p: "A2qJYyiiyfBwWJlqp78Y65z582oE66ZIK78KN9US7ijJT40H3u7Kk006FSjqH2fi"
e_t: "1614178289837"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299692
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:51:27,384-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:27,384-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "43eca53ec0654a69a88c0ee7f9a27a10"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "obOMA2vz"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "ANZXlgCqQJU9bKB16y2RLwDGsVdWYvpu"
}
sign: "lp2rPHOs8xCevcYAvQp2Nj/LBMDGcHUHU1PrUmYHDHT7cASRRxPW0BDeINZyOLD9MIEG0TFy6xrXALl9HyaeoCA9fQ7BU54MT/ugrka/w9JsN+MtqsKi6VliG6IX4kiBQe9vItIbY1BtaDsIoUpuS5SbGCL7puplY+mABeN/WAgQWYIZx7qC1jl7KvR97vyoDzQ+sjWyWhjAxWAJItszWyr+3HUuaUliDEj1ShMSFitI4AgPg/yKtWdvdtOG+JrlZYU+Ua2v48Wjkm5DGHXK9roT/HO01orcVsOFuwB39/h7MxHj2UenC+B6C98q/vdwA1IY8cdgBX9o15fl9wTrsQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "43eca53ec0654a69a88c0ee7f9a27a10"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "obOMA2vz"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "ANZXlgCqQJU9bKB16y2RLwDGsVdWYvpu"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "FIIJTtDDuH3bV/2eRM2KjLiTovjpoRjEdPwHlGOO98y1MZP017edfmxTS7GZ7+nEaOIaAaK8CcA1VrJ+lih4A2bQaoqHS3EPNFTaYpv3NWB3tdb2U0qhT6LpPNod+HlOA/uO+EvCcMwWCXYjf8gZWi6NfXyXmeXzCGO10o5byy0="
  appKey: "1234"
  voucherId: 62299692
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:51:27,759-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"3a13e4fe32c84502997af778be217810\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231651302174569eb6569a1e1b1b9f0000\",\"sign\":\"DC82AB097B5D9C7B28D735538C975084\",\"timestamp\":\"1614070290\"}"
}
payrequestid: "KB202102231651292076075925160452"
model: ""

2021-02-23 16:51:27,759-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[3903096307324229919894635087]]></transaction_id>
<nonce_str><![CDATA[pJZkcAfLqN59devH6VlGRrtoQOCEF34T]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[F206AD7C6E1433DC4251A00C6C115D2B]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231651292076075925160452]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165127]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:51:27,874-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:51:27,874-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:51:27,882-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:27,882-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "24731114348955"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "LasIV3qxJfKecSHlgkYR0nwrOXZbAjz2"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:51:27,969-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "256fac65571041b3b78b0968649146fd"
s_p: "TVlpa3Y4cnlsdExHRXhDWnBMamlQcE5UMTNMUFBBbzNhQ2lmVHVQZEtHTThucUlzZXFLZ2Y3YTNpVm9YYlFiSmw5Ymk3UFJQdHcwRGZ2cGVEZDlEc3k4UTBJam1sUFBXNDZ4ZnBHSG9WQ3BwNUFkZU5VSzBUakFjMTVQVmNhMWhib3VOU1Q2U1c0dDVjSE5LYTJsTXpJWkNUYWRxYVA2alA3RjFjR0pPV0hTUVRscW1IZTBkVk9aRG1yTFU4enF6Z0ViY016Q3poTjBjZktFYmpib3d3TGVvY2E2QUFRRkRwUDJrM2lNemIwVTJ4NDl6SzBqblU3QmZJMlRRNTByMG9ldUVlTGw4VUZ4SjZicTJ6M1VmdUpxa2JWc1JPWlZKdFR5OWZVdmNnYmFybjU5U04xU3hDSG43cUdIa2dkdEk0VUg3Z0UxTEpjYmJNREVTTUpGZURuSGd1WXZ5Z1p3aG5xV3BZTkw0em9tcUN6Vng4MG1zTTk3MnoyUFg3ZngwR0ZGVFVMeXhPOVZrTmFLT2hsUHZETFA4UkZiU1V2THhIZ1dRdEdpRTRnbG9PeEExSEdvUmR4emtRZFRFNHBKRDh5VTVHMDFpajBmWjNIYWZvUUpEZ2x1Nml6eTc0cjJvSG1pblp3Q2h2ckU0SlY3bFk4aVpPMDRFTmhsb2o2WXRnRlp2eThwN1Y5bDBwM3FOakxsVms2VmlldnZZaXdMRWJEN3ZHRTk1SDlPbGs4SEpEZVZpekRXeGZyT2RUZDZuNkRLTlV5N0gyN2RGM1UydjV3SlFNZ0tEOWtpNEZwQ3pIS3Q4UlV6OWYySVJQSG9yVHBZRk9BUENQU3FpU3lScVg1aUs1MWpvUTFpWVA4Wm1TRTBIZ0xaWHZ0M04xeUpDQ3pzbHRseDJrb210dWhiUklRZHpOb3Z5OUhMd2FJRWZORVNaTzBRMzRtZnpOdlRVc0VieUFydHN2d01zVU9sd1h0NFZQVXZpUXV6cWhQWExHenRGd0dHVksxczk2VzNKNlY3R2E1NnRvMTBJZGpqazRQTWtROGlkSE03dWoyR3U="
m_p: "5ZAZH8T8pAQw7w829CmWtsOpCCG9747fWB7kqIwZG73efUqz0196Sv139vzRv9R7"
e_t: "1614178290444"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 27
}
userinfo {
  username: "156******06"
}

2021-02-23 16:51:27,971-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:27,971-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "256fac65571041b3b78b0968649146fd"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "peDd9Dsy"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231651292076075925160452"
version: "260"
queryType: "PAY"

2021-02-23 16:51:28,018-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.73"

2021-02-23 16:51:29,018-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:51:29,018-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:51:29,021-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:51:29,022-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231651292076075925160452"
2021-02-23 16:51:29,026-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15023, 'pay_req_id': 'KB202102231651292076075925160452', 'notify_id': '3903096307324229919894635087', 'partner_order': 'ANZXlgCqQJU9bKB16y2RLwDGsVdWYvpu', 'amount': 573, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 643, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 51, 30), 'success_time': datetime.datetime(2021, 2, 23, 16, 51, 27), 'modify_time': datetime.datetime(2021, 2, 23, 16, 51, 30), 'trade_type': 'PAY', 'kebi_spent': 39, 'voucher_amount': 31, 'voucher_info': '{"cutAmount":"31","id":"62299692","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299692', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:51:29,026-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:51:29,027-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231651292076075925160452"
2021-02-23 16:51:29,031-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7709, 'pay_req_id': 'KB202102231651292076075925160452', 'partner_order': 'ANZXlgCqQJU9bKB16y2RLwDGsVdWYvpu', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 643, 'amount': 573, 'kb_amount': 39, 'voucher_amount': 31, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 51, 30), 'success_time': datetime.datetime(2021, 2, 23, 16, 51, 30), 'modify_time': datetime.datetime(2021, 2, 23, 16, 51, 29)}
2021-02-23 16:51:29,031-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:51:29,031-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231651292076075925160452"
2021-02-23 16:51:29,034-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:51:29,034-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:51:29,034-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:51:29,035-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "ANZXlgCqQJU9bKB16y2RLwDGsVdWYvpu"
2021-02-23 16:51:29,038-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 172, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_ANZXlgCqQJU9bKB16y2RLwDGsVdWYvpu', 'partnerOrder': 'ANZXlgCqQJU9bKB16y2RLwDGsVdWYvpu', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 39, 'count': 1, 'r_cost': 39, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 51, 30), 'updateTime': datetime.datetime(2021, 2, 23, 16, 51, 30)}
2021-02-23 16:51:29,038-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:51:29,038-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:51:29,039-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:51:29,042-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:51:29,055-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.39', 'batchId': '35733595896753290135642999173853', 'bizNo': '6TEeB8J7Gch2QqUOVfRPKsxaMDCdgrH0', 'operateType': 'PRESENT', 'requestId': '59802608754125512933932708046587', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070289053})
2021-02-23 16:51:29,086-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.39, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:29,100-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070289097', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.31', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:51:29,118-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299693'}], 'vouIdList': None, 'batchId': 'be78fe44b91a48dd92cfc3def0b1ace5'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:29,132-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'be78fe44b91a48dd92cfc3def0b1ace5', 'batchOperateType': 'PASS'})
2021-02-23 16:51:34,161-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:51:34,169-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:34,169-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "44708022502038"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "z12LcjgIqGDlyCa3RdJev4xErbFHwko5"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:51:34,250-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2b43a1258af04c1dadb65b6f95e2a3ea"
s_p: "Q2w0YU9wcVFDclhxdmZZdEEzZDRBSzlaSjVyUW9qb3pXZ3UxN3UycTlvVWFLRmQ5bmZ4RnJJVXp0WnVjWGlhTmpuMlIzbWtGN2U0VWVOdkROSzk5T0ljZ1BjRnNFZmlVa0tSWkdqaVhEbnN2M1FGWEhIcnp2TTRMeHJPdTJvYnpDTUExVlUyWFRtSFFNUGh1R24xTmg3cmJPMWJYbGR1d01rQnppS3JZemtXWGR3d2JUTFRQTGpUdzY2d3FMRUxLQUpnT2xmMEdZcXQwMnBIZWhmWEh5VHZXaGtnQzI1WkdPY1lvQjBWU0NPellKbENMbU11RFVCcTBYdzNtTU1sQ1VpWmFlY2t0N1FVNzNuMmZGS1lwVlBIQlRhRFIwN0MwdElraHNieXZ6dEExbmJrdE5VcmdKVHg3UWpFQ3lnOUxMWjc5a0JYeUVlQkF5ckZNUzBWNERGOGh0aVdzTk15TUdTeUtxd25aTW5DczZmbXdWTlVUMk5CWW9CNElSbUVoWmtORzRXbVBaY3Jzb2FxUHBzUU5mN1BZRVg2V3FZMGxaZXhLaG9UYTk0VnR2Z0lJR3cxNXFiakRjNmc1ZHpucmpSTGI1NTJuT2dtc0xnNmtRMWNXNHd3cUU1c2p3eGNSclMxdjAxOFhhQmV1ZzAzR2d6UGdJNlRvamRxU1ZWM3ZabDNReXRDVVYzS3I0cnd1RWRNVWFXNnJrckczT1JwZ1RUdFhXT3o0ZlJBdDNaNnNKcU9zOWFDTjBzNVY4NllUdWNsVTBtWklrUjcxSTZ3enZQeldrUFk1dGRqZ1ZPSXNtSEE3OE9IZG9ldFRBdXFiVzNmcHNYaHd0N1NjOWZqblFjYW5yd1RUZ29DdnZ0cEh2dVdtcnA4SGlNYThsVGZSTzZuVDNvbjY0b2tBS1BzZWJPZ1hwV2JTN2NUa2ZtZlZIb0ZKd1V4dlNCbVVJMEFZVU9iNGJPUHhrTXFJR0tENDBkQVhyZlpkZnVmYnNLTW9QRkxtbmdyYjdBM3JlUlFnMWtyYWFWR3RPMnpyYzFtNFhFNzFKWmU1bm95RzhQSE4="
m_p: "zyn4O5956I2Oyeo83wYo48YUHR4D4n6bNBIX3oyE82FDbo9273yJ5h3vNaxIQ7RP"
e_t: "1614178296730"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:51:34,277-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:34,277-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "2b43a1258af04c1dadb65b6f95e2a3ea"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "A1VU2XTm"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.73"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "O6ZYWaNx1rVLJ3q2ztwoBKF70dhcuMvG"
}
sign: "P4A5Ean6a6THw6Nkbs2EQYVg4MAGSnV1sJufUKOUhS95OgKu40RgUh284mC7IA6wA6HYVCoICLI+mcimKO3a+lVettLNqW/i117mH7tdON7HbQhHBOYEozrhNRPLsHwsnyOicbqGBg0ovts0sl1csEo2Ombp99s18GRaV9JhDL+zUJZ2u0j04/XU3OpXbev3qN3hZLPH5ER9Xg+lbMxrUnVljgFS+jV8ym+gNPIOXF6CSrmvj1owlGAGPqvEZiwkgtPJNjvR82slk8dbFhOi0Nt7O+xhiHaTtWR/mStZauMB9dWP6tGLbTlTQ0nCm8ls/ZpJVrMCq6kD0a5meBWMfg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "2b43a1258af04c1dadb65b6f95e2a3ea"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "A1VU2XTm"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 643
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "O6ZYWaNx1rVLJ3q2ztwoBKF70dhcuMvG"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "JczuP8GVJuUizpyw9ajASyHB4bKe6CyKsH8ABB/LGgOAJ+Sdn9zJcYe/COxX6MZWfNFcrZLbxDnmbw9nGNsjT5H2eG1tatxlIJpiiR87SFEqWtwQAAjBj6G8k11n38BWPLTNY6akbA1O4sGuRy9NoEYo89HQ1iqvS9lZ30alhJI="
  appKey: "1234"
  voucherId: 62299693
  voucherType: 2
  voucherCount: 31
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:51:37,309-INFO-lib.common.session.http.protobuf-60-回参异常:Error parsing message
2021-02-23 16:51:37,309-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[0727826627791030592972235187]]></transaction_id>
<nonce_str><![CDATA[v6tmnqGMpJr2z5SihF1aVUALNb83IlYH]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[641E974E32C831AEF28B506E0C4F39CA]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>573</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165137]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:51:37,444-INFO-wxpay-scarlet-55-<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" isELIgnored="false"%>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
	<h2>404! 您试图访问的页面未找到.</h2>
</body>
</html>

2021-02-23 16:51:37,451-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:37,452-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "77987176443744"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "G79So54AaIdLyQiwTVqrv86bFXEHh3cB"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:51:37,535-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "41dce49ba6b24a2b9b0226489baa3553"
s_p: "c0psWG1nTjBtZDdaYVRYcnpJZFltZ2VjcG1KOWJUZ0paaHFDRUhYNEU4Zm10MG5YZ3hTYURuM0RrTEhueGFod05tUTNySXVTelZERzBHRHp2am5nekwxc0R4ZUtvMmlVUG9iY216UWtveUZqOFg4RE50RFRTUTczZFZLdkxRS1JDMnVJTG5ONFpXZXk4NktmQ0hSamQ3RHNwSGpad0pIZlFqc0N1aUlxbG5sbkFqaFpRWVhoeHBWNXNyb0hvYXZ3UzU2MTFrRTRFNGxWMU0xQlkwUzEwcWZ5Vm11bU4yVjhOQVk2NFcyTkFlUWVwYzF2b2VybkVPbHFtUkJ2RmJUWDZWSERWQm1ZNWYxeDR2aXpyODJNNm9xbk1nc3gwU2JWYWIwRVNwdzcxOUZTZFdUTEJXWUVzQ0pvb3VBWG50cThvOGh3RW1PWHpCUW1peThKdEt1cHV4ejM3VWtYZTBRU1FMQmFKbjdPSktWQ1A5Z3p5YkE0ZWIwUHcyekM5YVJrUmEzWkYwOXQ4T3JQRWZzbG1icG1vb1FPcXVqZU0yVDcycER6RFNlbzlDZ2k5SWdVV0VzcXdsbGxSTGFLWGNucGNXRWR0TWxlakFIYVlEQXVKV3o3VmhnT1c0dHdmT0wzQ3N2amxLNEpaWlJVN3RLbzRjaE9sT0lDSXJCNVFMUmR1U1JFUHN0N0RvTTFYR2dIVzFqUWVPODloRkhkVTFnV3J4dWNsS3FPS0JaZ01BTlZlb0NxVnc2Zko3QXMxMklva2dtNGh0MHFUeVhuS3p4SmgxT2Z6cXlhZDVnMXI1Wk9jNWg5enZ3aGZXQzBSTWJFOXFYQnltQW9memkzODlBZ2l6V3dFNGhoYkFaQTY2VkVYVWpWWGRzMUdFY1RPZ0xrblN6RzAwZjB4QzdYdmRoWlVzdjlDNlJ2YnBsQ0d5QzZobk9JYlJrd0F4elpHQVNUeXhSd1IxQ3hlaWFKaVhxcXBaYzk5aHkzM1dEczdiNmFNVEpTNEszWk1odjFVa1R1QWc4R3dFWUdMMTZoTVlCMEk4a0MySlk4cDNBVTFtVEE="
m_p: "FI3BV3J1VB3I132uK2JynH94wYp27Tv49pE1V4W0h3xVvbF0aa3L617fu7cL8Lh9"
e_t: "1614178300013"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:51:37,536-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:51:37,536-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "41dce49ba6b24a2b9b0226489baa3553"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "DzvjngzL"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: ""
version: "260"
queryType: "PAY"

2021-02-23 16:51:37,592-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: ""

2021-02-23 16:51:38,594-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:51:38,594-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:51:38,597-INFO-fiz_db_operate-26-可币余额：0.3900
2021-02-23 16:54:52,052-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 16:54:52,327-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 16:54:52,369-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 16:54:52,369-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 16:54:52,741-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 16:54:52,745-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 16:54:52,745-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 16:54:52,749-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 16:54:52,749-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:54:52,750-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:54:52,752-INFO-fiz_db_operate-26-可币余额：0.3900
2021-02-23 16:54:52,761-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:54:52,761-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "72911282262062"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "1LhVXqMZepkTB2uKnaHi7gQwFd6SGYjt"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:54:52,862-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "49bf2c72b95643f592b95d257a0ef791"
s_p: "MWJVbERwYXNubHc1U3B2WnozQ1hxUktLY0xwT01rcVczTjFQY2h0bk1mVlVCR2ZJOWlhWHdnNmxodWJ0Y2huYVVSSzk4MTlkRHl5eFIwMXNDWXJ1RGJhcnNYNExGOEpDMkxwczl2NU1OVG1tTk5SQWk2azJZZ0lxdEF3bGFSZjBIdzM1T2p3MG9Ybm1SNmMxZnRBWVk1WU5TbURZMmZzN0REbkY3WTN1emFzODZsRFczbzluYTVTTEtza0N0SUNkWlBuZ2owRloycll5bVVrczJyakhkd2tmMXZFUjdhemk3MXdRQkhZcEc2MVo1UmpTUVZ6dkZ5NHZtYlFGRnpJclFaOG1BVnB1cjNrQ1VHZjduNXNpQ0xXdnVqbTNyMU5jcU1XRmtRRzJtNlFFZ1FwZDdhVUVQNzJ0UDkwZmJKTVJiOGxvM2M3MjNuWERLdkZ5VWRIVVdLUm4xbkRUT1ZBVkdiMUFDTmpXbTNsc2RjVEpVU25EcW5mUEV3MnVxWlV1djB1NUlJTWs3NkJFQ2dCb2ZHOEFUYTJ6R3B5N1dYMElUY3ZVRWpGcnN0bmoySUNFSm9DM01oVGE3eURibzdrYUdUVGdUOEVUNzFraTBGZmw2NzRlSmN2Y3RHQklSWWRtYzhTRGxNTksyNXQzOVhrYkcwSnpUZjZUQ0lObHpvSmlwWTVzMkNQc3RTRUZjTlZxazFUcmdoQVUyZFc5N1kyTzRnU1E3NlhjUW00SWVkTEFPcnFDNHdwUE1pQTBLQmJoakJ5WkpqcDV3VzdnbkpuQ3oxQVlPZXdTSE0zTkZxRlpSOHdvamZ6TzVIaXZ3TzFoTTJmaXgxYTJ0NXlmdlZVV1ZYSzQzTHliR3U2RU51aEhUZjkxSXpmdk5nZ3h4YlMzRkhZdm9KSTFOd0ZDM09qbUJ6eG9FZFBSakMxeHl3eWdtOWJrNElhWjNKRktFaFljWGdoYVgxbjUyQWlMZmxtRWYwMDZQTkdKdUtudUh3RGJaSjJYUm5RcGNmTWNQM0RyR2w2dlE4bzdWS1lXSEl3T1pYSGdUckF4eWQzdVd5N3Y="
m_p: "FIzE2qetZCa49tbG6hHhW65n89lc97f7Lx9zAzIxTGDKc0Ie040yE11VAO22kaG1"
e_t: "1614178495333"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.39"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:54:52,892-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:54:52,892-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "49bf2c72b95643f592b95d257a0ef791"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "SmDY2fs7"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 39
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "i8wAQxGpkd9OJ0oIM2K5ytXSFszuCBlT"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "fK6PVNHFGXqEtk8SIYNf/dOi3gBgWcKwiSk0KZ7N6HeYq0Ws7QB1jt3qYONDxiINP+/6/B7oeCDYzcqfkLBK/3XkcL8Go7xq7DK18/k2AkPmrXXZkLwFGGTv3ZxjicJC4BgPFWrGlOEKMLfWC/kmY5m9dfJuedFDNf9UVRllGeA="
order: "1982482563354"
ip: "120.197.152.211"
factor: ""

2021-02-23 16:54:53,024-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 16:54:53,038-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.58', 'batchId': '07638485337051591481159249241693', 'bizNo': 'qxrpK64t1HvF9uhPjWbe8LBEgRCslJQk', 'operateType': 'PRESENT', 'requestId': '14252866852492620035280997200600', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070493034})
2021-02-23 16:54:53,065-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.58, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:54:53,080-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070493076', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.19', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:54:53,105-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299694'}], 'vouIdList': None, 'batchId': 'f53c134e8ece44e7855ba57d9a29f810'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:54:53,119-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'f53c134e8ece44e7855ba57d9a29f810', 'batchOperateType': 'PASS'})
2021-02-23 16:54:58,158-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:54:58,166-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:54:58,166-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "35852160424229"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "wFLjzKVByWR4l9sXZufdYNOgPbHn13xS"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:54:58,262-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c4f8623affda462ea0d3d416a6401312"
s_p: "eEFPMUpLcml6dXpJdFBoaWxpSHNJVW5KWFR3cEJFWW1oaGJNbjN1cmNJdVNTSlFSMDhvSlhGNWk1UDFWU2ZDY0tjaTFvbm1PeXVRUEQ4Z2swbVB3MWhxUVZ2VDNMWDRpa1JhMFV0OGdDeU56SEYzQWFxclNMcWh2Y1JxeFE3eHhvdzE2Q3RWcjR2RVpoQmFVZjRBNTVKZVVkcGdDVzZRVlhOS2dJWXN5OURyR2hJbUcyckphdmh5YjI1Q3NTd016VDg5M1Q3UlU2Z3hlMUUzaFVZTUIxZUhPblJ1cGFTMmxzOGxWYzJBNDVEQ2pNdTR0Z0tIOE5qS0hqY25RQzlxNWhYUzNWcWtadzJ1U3ZHSno4cXVYeG9RUk5hamN0dERCbXNpeGNnU3ZQWGZ0eEFiNzBmYlFtUVlHQm52bG1UclVWbGhUS1ZqM1ZidnpnSUxzdTBseXlhYmlwS1RiaWtmQTMyMHNpaVpCSjZGUFk1STllcUdwTVgwMTVYR0dibDlhZklDcDhoVFBGQXBFSWExc2FtUWc1TjhIYUZHM2Rvd1BOVG02Zmd6d2h3b3lYT2xiZUFMMHZYS1pWQXRsNUNLVVRiWDRWOFZpcE1TR0VacGNWZVFhaWFITjBnemlOcVVQT1NiNEI4MHFLQUR2NThkUmhHTkwzbWtBTnZyQ0lraVZPc1FaOGgwWGpJU2tPU0tkRUJvNzFhd0RQM2o4TEhOc09Jc0lHRW5qRU5yU0NQUWdGMFJoRFAxbkJiUVNZT0lRMWRrWUpiRXNlQVpoRVkwTXZ1WVNicTRKYjRaWG9OQ0Z1bGJWTW1TZlJnckNna0tuV0I0NkhKemp4WWEyY0hncGdvajBjdUE2RlRwTW9ISll5dEYyU285SUYzMFBhTm5zR3ExZUROaERIQ1N3cmFGTGpvVUtiRVlRb2ZpaGdGZTdiNVpXUzd5MFgyVjNDQ0pmV1BOVGtyeDdScWVGTEd4MmtvSlowZ0tUeUpHcVRKTFB3NDF2ejk3QU9QeWVxcEo3cWxJalhoYmkyQmg3eDY2UzlMT1BxdTdveFVnWDVaT3A="
m_p: "BzZJY9y2M55s6FD634DJ6UZxZwfK50c0273l39A5Uid21RO6X6bC99aR51i4zUN2"
e_t: "1614178500725"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.58"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299694
    type: 2
    minCousume: 100
    vouCount: 19
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 16:54:58,288-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:54:58,288-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "c4f8623affda462ea0d3d416a6401312"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "3AaqrSLq"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "0.26"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "zrsfVGSbNP8KyxAYiJoMjeLEhC6DQ2UT"
}
sign: "qWtQRGYIUmIuDbDZqW6ditju5S3+jnj0rqdAVGFk6l98Jxc5SaJ5CcK3X7KNOtdA8vcY4/DXr+qL/DNSqcVj3BkkB9xxVRT+RsOpX9k2Rozo2NsEh+vE93c9scAPgdy6YShi19i8J76pJTpEndTQ1XGqg+KpAG8BpKch9AE5GYwmwawpQMpPXlpCm6tFMzDLs66THN667yB+wgYysZEERqJhTkHLIuJ5+YcJ36PtwwGgoYt8vugiH8/WsWnqEeksats+bX79GOo0oa6+vpSfyX4NSwQAqWYS9wCj3R/nBpehu6dLqTL9R/BxKA59VuobDHV7b+o1f5zpZ4Sv8ZekTw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "c4f8623affda462ea0d3d416a6401312"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "3AaqrSLq"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 103
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "zrsfVGSbNP8KyxAYiJoMjeLEhC6DQ2UT"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "LTIiQTTOpQI/hbYA8YYzOELTTehkVLZZteG5b277xrwLAB/NUAWR32UgLRCHR3ZLarbecP3mYDJNBoWrtZyij+Mu/1PWgy8tWoeZ3e1dlIIKBg9K07rHjzJX0GyKHv3Plmq8hNtTkHi9fEqoBZDSPCYFM5lROG+IMO7+7cAhUDM="
  appKey: "1234"
  voucherId: 62299694
  voucherType: 2
  voucherCount: 19
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:54:58,668-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"61156be588514f188d1a0cf84a11c835\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231655011212249f6dda0ff23bae1a0000\",\"sign\":\"E5C030508760F30207C72DF1C44A5DE1\",\"timestamp\":\"1614070501\"}"
}
payrequestid: "KB202102231655002076075925031732"
model: ""

2021-02-23 16:54:58,668-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[5215238088794414436552245739]]></transaction_id>
<nonce_str><![CDATA[pSDuqiANJsHdWIM1nFk4oE8LrP0yGeKv]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[392678847A4484F6913DC777161EF23A]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231655002076075925031732]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>26</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165458]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:54:58,803-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:54:58,803-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:54:58,810-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:54:58,810-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "47319381213831"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "MY2DNpQSeBqw3iy1IsoFPxCHWUfObAvX"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:54:58,882-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "919b2507bd4346328a128f483752a49f"
s_p: "YTV6MUpxR1pzMW5waldWem9CczhXMmFpV2ptVzRUM3FSUkw1Z1J5U3JsUHVkaGx6MkdjQ212MWFSZlRUN04wSVl3ME9uUWxEckNmY0plaDdtZmx3aHBRUHdFM1lvUmJQaG1BYWNPR21hcll5VWZ1QmllOUF1WVNmbTN4OGt2cDM3b0RwUVlmU1NBSU11cm9yQU5RUGxocE1vazB6WXZPYzNTeXZ6WGpCOUtHMnExNGxIRmFrMFRaa3o3U3c2T09QSGtHbmcxeEVtdWc3cTNwNG9DUnVhT3p2TTBxSVN2aVptT1lmd3NHRFFlQWMyUXFVVGlYcVFqbVlZMkowSlVLVU1lTGliZlB2eElFVHdMNjJRazJRSVY5MUJ5dkZVSXNiREpSVEZlelBkMEVCWXB3YmJHbWJyclMzSmg2UzdXVlpxSXdndnp6Sndva0ZPdDk2ZGpNSXdoS2I5ZHdRWGI5R0hvU2FBcTJCZkhVYTdIR1dmWnd5bHJRaVlzcGZpMjFCWjVabFdXTlR4bFdwdUZZUFZxNXN1VmJIeVFTOEZQMFg3eHpwMlk5enc5UzN5R3FnalZONG9hMWlSQXlhaG1yaVNpenJ5cjlxR3BlNGh6SHhHTmZKY0FTR1lBRHVxYXZPYjlKVU5KM0N1aEk3TnB6Y2JERDRZVEhwaDZJSDh5emQ1QktreVZRcjlZM04xZGp3WGVhb2RVTmxzRlVGeW5nREE5M3VEQ2VGcmtwdk56cE4xbDE4eWlaYkF4SmxqcTdOQVBZM3pVbVp5Qk5XR2ZlT29udXlQaWExSXdhaUpEQkRMTjlJc1llZGE3OHFKT0M4VXFFMXFEQTBFN3pDN1JUSm5EQWtLelhxc2pXRWs2MElZRXU1U3ZiZGs4UTlFemV2ZzRBT1htb0J2TjJubVBQVFdNNndLekVJYkZjYUNaRmRrZTZ3ejlNVmxGUHl4TGczMjJDMlViU2hodm5EWmR2bUN6QmgyQVMxeUtobUFuWVB1aGdOU3FPVGlVdUZFRWlzTThXSXpsVkZGbVNKMzZVckZqWU1ISkVTdElkREVNcEw="
m_p: "Zxt7ki3HDhcY24Pk5n89F5lCMnDeeh0unRdM74pwxQsV05UNI9L2k5bxwOe039cz"
e_t: "1614178501367"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:54:58,884-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:54:58,884-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "919b2507bd4346328a128f483752a49f"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "uBie9AuY"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231655002076075925031732"
version: "260"
queryType: "PAY"

2021-02-23 16:54:58,927-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.26"

2021-02-23 16:54:59,928-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:54:59,928-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:54:59,932-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:54:59,932-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231655002076075925031732"
2021-02-23 16:54:59,937-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15026, 'pay_req_id': 'KB202102231655002076075925031732', 'notify_id': '5215238088794414436552245739', 'partner_order': 'zrsfVGSbNP8KyxAYiJoMjeLEhC6DQ2UT', 'amount': 26, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 103, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 55, 1), 'success_time': datetime.datetime(2021, 2, 23, 16, 54, 58), 'modify_time': datetime.datetime(2021, 2, 23, 16, 55, 1), 'trade_type': 'PAY', 'kebi_spent': 58, 'voucher_amount': 19, 'voucher_info': '{"cutAmount":"19","id":"62299694","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299694', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:54:59,937-INFO-lib.common_biz.fiz_assert-36-订单表信息记录异常
2021-02-23 16:56:47,411-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 16:56:47,651-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 16:56:47,692-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 16:56:47,692-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 16:56:48,054-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 16:56:48,057-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 16:56:48,058-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 16:56:48,061-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 16:56:48,061-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:56:48,062-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:56:48,065-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:56:48,081-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.17', 'batchId': '41181756402454187537228500640543', 'bizNo': 'V4Dgiw3YueZPXGBatj0Qz9oAWlv8NfH1', 'operateType': 'PRESENT', 'requestId': '20742057450241008881209547792818', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070608077})
2021-02-23 16:56:48,106-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.17, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:56:48,120-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070608117', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.98', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:56:48,139-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299695'}], 'vouIdList': None, 'batchId': 'a35122180e8e486fac0d33d98c44bb54'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:56:48,151-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'a35122180e8e486fac0d33d98c44bb54', 'batchOperateType': 'PASS'})
2021-02-23 16:56:53,194-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:56:53,202-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:56:53,202-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "57941226860149"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "p3HD7WlZPzhci21xkLg8E9MRNfOovrQB"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:56:53,343-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "faf54e9e15c24a38b75c5bc26ba8571d"
s_p: "SVlpRXJvS1JKaWhXRWFqZzA3VWk3ZjU5OXU1SkdtMmNmbUJpcEpuVlB3YlBsSWZaZGJDTDVjWFlwQjFScDJiNXF6Q293NVZheXNWU3J3bDBxMEVsdXU3ZEU5SWo4MVdMWERjVHh1VGxnMEh6ekNsUjdBT0NycDRaeXJBTHJMaHo4Z1J4MTNqUE1wVEtoUjZIYjc3bnpxdDRTOTFGWWpzb09Waldxc1VUQTlVR2lBTnVFQVRpUmlDWFpWTTdCeWFUTnNFb3BnNUlFbU1JMGRZcjU2VlRNVlE4TkVlTHNvVEJ0ZmNuZkNZeE83TnV2dUxReHhmNlNjdzRTN1hVNDZQdmtVVzFyY3FodG51OTJNZ0FkZGRmU3MyRkw2U3RERVZDTVZCMndYU2pUR05hOEtMUEloNEQ1eFRrQVowd2cxeVhHaXdRNHBtR1h3RUpQY2h0TXBJcWFOaUNQU3d5Y3YzbThzUkxTTzlydXFDWkFzOXZTdjV2QVhIc3cweTlrdDgyYmJXSzhKUUhYVjVnT0p3QmNkTDRrNEhOaDBxdXFlNEJFQkJhMnpQcUQzdDNHWWNma3BhRlNjWGFiOHFyTmVVNkttTDV3aGRib3lMNjNQZTZ4alZJMWFKa2lxWDlBVTR2aUxsazBycHlWNXQ2U2YzaEhGTEdJU1lVSDFzdXlTbEw0ZFNucmZKd29NRnJSUDlrVEJIcnlhbGZUOUdTc1dnODF5SzF4TTRGRExuSHIxaHVsdlRzQVNSa2JzdFYxZkNzaHpiTWJqbk1PcGllWjd1Qmx6cm9FaTR3b1ZhSmR3ekVMSUhUVzljNHk4eHFtU2xnRGhaNTVxakVRNXd1emFIR25GcmlJMjZxSjQyWExoZ3lhTXU3T1lqM0MyUmNzeFhrNmRWZlVnNFZwdFNOVUNJMlUyeFlTbUtKV29qeGpsbG5QZXpLYUNaWUVGOGV5TU1vUUpQQ3dVaGpRbzBQcEp0MHN6TUJVRlN1bVdGTjJZS3Q2b21ueHBBRzlOODlVTVBqYmVRcURaN3VrM0VPREFwQVdPR1Y1MUdORFBrckpSYVU="
m_p: "dp3138D0p6U5l4N853H0e9U9344OVnc3qGX398sT20U64wQ6B7rK11ke1vYZT1iA"
e_t: "1614178615811"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.17"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299695
    type: 2
    minCousume: 100
    vouCount: 98
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 16:56:53,368-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:56:53,368-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "faf54e9e15c24a38b75c5bc26ba8571d"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "uu7dE9Ij"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.87"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "p7G20dlTzcfbM1D3FLWigmOReqNxQvXJ"
}
sign: "O1I2eA0h/swGDAuGLlP51xu8f/DOJrUF/L3VmxvhHfQh5pozcLTVwQoRWlCIAz9q627/3K4u1uY+5utQBBmOxyQKwyr+1pB+fqv1Jgi2Hd2IGnTqHuFTl41R7aAGLaOD31QrgO2G8/iq/8HD8/ecgqaKCa5VimbtyRbxqZmv/obInLzaK0tqqFpiWuO9IUEgdwttyojZevsvVP/1CimBG6yDHd9SZb+4ufWpN1bZKPvxLu6Qev3dP+Uqy/jQk2pUPSEws4sutaHZUy6/zV2WXfht2RLiHib67R0uDpOoVbh40Xlk8asxzXA6ZA1jCxRdbJO6WN5/y5e8lXMvOWWONw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "faf54e9e15c24a38b75c5bc26ba8571d"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "uu7dE9Ij"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 602
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "p7G20dlTzcfbM1D3FLWigmOReqNxQvXJ"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "JpxnMnwd0I9WND/ZTBJCfEFXhzNKHLQyVApDBpE05mj80zIAOWlSf97fAZcFD9EjSrcp+0PcpAvKSqQJ1rqCe58SLKbBQm6CuTApPxCUQUJzdgr8C7Wwcn2Ej4GB0KIhmpV6RgNyLJ+CJEtW3OA0p6DdSmQe9zVZCAHzC2AXNeU="
  appKey: "1234"
  voucherId: 62299695
  voucherType: 2
  voucherCount: 98
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:56:53,786-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"695f1907988345bca78845c98978b8a4\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23165656228431ee74cea6a5e331e70000\",\"sign\":\"764F0CE7C3FC2B2F936BFDD92FF31C6E\",\"timestamp\":\"1614070616\"}"
}
payrequestid: "KB202102231656552076075925586062"
model: ""

2021-02-23 16:56:53,787-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[3502975461669784444637477529]]></transaction_id>
<nonce_str><![CDATA[9WOHKDdCrN5BLAmlRwxp317aeZ0SPy2b]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[7A161F01BFEBE37DC0C11233110EC4B9]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231656552076075925586062]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>487</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165653]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:56:53,987-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:56:53,987-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:56:53,995-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:56:53,995-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "51744006875045"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "qHc65oS3UyRJknuXmeYwIxsfQbDihval"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:56:54,077-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5ee098d6fa69432a97d75c9639fadc44"
s_p: "bWYyWmhYSm9yTkJKWERXeHRpM3RlSkxQQkF4QXlXNlBRWXlmYlBRckx4WmhNa203cmZhRXExbzEyUWdlYTBQem1oRHJLVHNWVjlOek5SYnZKQ0Z6MWZ1b3pWMUE1M0dmQW5XUUZ3WVFSUDJJb3hwM1loTGdlT3dzUGhSMDJxdWlBUkFEVlc4aDNGeWdjZGZYU05sRFlhT0NMaFVkenE1eFNSbUd1QkplR2dtaFlmN3g5cmc3eXR0WnpnSkU5dkQ4dHM2emxpUzVnbzc2dzdscWtUdHZEWTBmVmsyS3YwNGJodUw5ckY1YlJFcDBYRXhEeENzU0wzM2k1S0R0dzl1bktGZzFNa3lSb2U5UDZ4SU90SW9lS1B1eE83cU5Dams0WGNleXRXTVJ2c3lFN0xvYmV0SkhWTThVcERGTnZBVTZFUG80aG9RWFFCRlpwclVEaURsZGpQdFRUdGxpclZ3dVRWTXh3SzgyR25ScHo0NVVtZ3FFQjIzMkN6TWE0MjJMSW81OFBsZkRWVHJCSUpnbXNZQUtHYzRqRUZsQWhyTzNjSWd3bnZEcXg0VkhVbTQ3R2pVZXc0a29weHR3aExvSUtkaTVJREpEcXVxOU83Mzd1ZDBLazVCQkl2eWFjdXJaRGZFSDVPN2J2NVo2RFY2RXF3cGJYZXBlcjdEVzM2ZGVWMklFdkRzS3RQREw3RW5NblFFRVhZWnhXbm9jc2FLR3JEREtqVTlHRm16T1IzZUp1OXhKd3lWRTZKNXdhaDBwZXlvM2c2eUtCTzVDT1lDM2U3RkhiakZsUFBmSjBGaG5pb2l1aWFCRkJ2T2Q4d3prRVNHS29tMm5CYkp3ak9nVmZuRzBSUnJEOXpiQ0dqMllodEluWmdzc2FoTE15VGpjTUIyVklia3NlS0Z5RktJVW02VHZ1ODhBakpwQlJJQ2NYdmJGeVJpVUhiYnJ6c0J5Nkk1N1ZLWXNWVjFUdVRweFVCMkNZRnR1OVRXNVJLN2NCeDNxNlJDUjVQVkRreDZTWFN1bTR5TnA1VVl6RTNiVGZTQm0zUjRscFlqVGZZb3A="
m_p: "v2OEGKW02fI2p3A45FSb57NP8T8m9X69Ax9IafJGL1K77QwYigSb1dZ1qSE7HM0r"
e_t: "1614178616554"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:56:54,083-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:56:54,083-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "5ee098d6fa69432a97d75c9639fadc44"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "fXSNlDYa"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231656552076075925586062"
version: "260"
queryType: "PAY"

2021-02-23 16:56:54,138-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.87"

2021-02-23 16:56:56,139-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:56:56,139-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:56:56,143-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:56:56,143-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231656552076075925586062"
2021-02-23 16:56:56,148-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15027, 'pay_req_id': 'KB202102231656552076075925586062', 'notify_id': '3502975461669784444637477529', 'partner_order': 'p7G20dlTzcfbM1D3FLWigmOReqNxQvXJ', 'amount': 487, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 602, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 56, 56), 'success_time': datetime.datetime(2021, 2, 23, 16, 56, 53), 'modify_time': datetime.datetime(2021, 2, 23, 16, 56, 56), 'trade_type': 'PAY', 'kebi_spent': 17, 'voucher_amount': 98, 'voucher_info': '{"cutAmount":"98","id":"62299695","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299695', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:56:56,148-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:56:56,149-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231656552076075925586062"
2021-02-23 16:56:56,153-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7713, 'pay_req_id': 'KB202102231656552076075925586062', 'partner_order': 'p7G20dlTzcfbM1D3FLWigmOReqNxQvXJ', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 602, 'amount': 487, 'kb_amount': 17, 'voucher_amount': 98, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 56, 56), 'success_time': datetime.datetime(2021, 2, 23, 16, 56, 57), 'modify_time': datetime.datetime(2021, 2, 23, 16, 56, 55)}
2021-02-23 16:56:56,153-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:56:56,153-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231656552076075925586062"
2021-02-23 16:56:56,156-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:56:56,157-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:56:56,157-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:56:56,157-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "p7G20dlTzcfbM1D3FLWigmOReqNxQvXJ"
2021-02-23 16:56:56,161-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 175, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_p7G20dlTzcfbM1D3FLWigmOReqNxQvXJ', 'partnerOrder': 'p7G20dlTzcfbM1D3FLWigmOReqNxQvXJ', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 17, 'count': 1, 'r_cost': 17, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 56, 57), 'updateTime': datetime.datetime(2021, 2, 23, 16, 56, 56)}
2021-02-23 16:56:56,161-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:56:56,161-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:56:56,161-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:56:56,165-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:56:56,179-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.17', 'batchId': '68662328024282444579018683997569', 'bizNo': 'el14mcxPW5js3O6GABkiCEw7poMzgSJL', 'operateType': 'PRESENT', 'requestId': '75873653979162186781426975734185', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070616175})
2021-02-23 16:56:56,211-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.17, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:56:56,225-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070616222', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.98', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:56:56,249-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299696'}], 'vouIdList': None, 'batchId': '7a506021257c443294c347addad750be'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:56:56,261-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '7a506021257c443294c347addad750be', 'batchOperateType': 'PASS'})
2021-02-23 16:57:01,307-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:01,315-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:01,315-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "44512412591796"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "RcbhV9YiT5oU6lp4jZP7CEd0fS2KOGIA"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:01,423-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "886dfedb7efc4811b4659ed7da05aa3a"
s_p: "WFlJMjJ6SW5nUTYxN2wyMlFzbkJPcGVpclRaMWtXc3J1QjVtdTA3cjJaQUFhNWZLSk02Z2FJZktQQWoyVlBmMU9RQW1mNHpEdjY1N3ZYcWg0UnVmSWdqelFaNmNpcFh3OWI4TmVSenRnekk0Z2VXa2VMSTdJTVREaThUbkwyeWJqSzhSN20wcFY2Nk9VMWpVUVlFYXBSbGVWQmFjeWJjMWFCRmlMNWpFS1FVNVRMVlFnWWJFanF6TXVQd1J3SVJPNTYwNGhWaGhQZ0E1YnJpOXZwUTBTYUFubWhHTlNLbkFzM1I4THlHV0RFVFRMenFZR3ZEbkltMFdhSGtYOTY4Y0g2elBLeHhMaFRVTUlGSVp3eTRiNzd0NE5FRjU5WnVFSFA3S3Q3a2Nic0NCd0theDVOMjN0UnJHQ0NQR1IzSWtzbmxORzdGT2ZyV2VBV1FrbnpCd2xUaXBjd1dHSW9zV3FpVlNjMlNXRkxvM2xENkV3QzBvVVQ1RE91cjlJOTZDMmgwVm8zaUc1bXRseW9zZkZIT1JhWVpjTlp2ck12cG9BYXEyU2Zwb3RRZFhRcEpTanVmMFlLeTdLcjBnM2cxWU1sNkxETmxybVZ3SExSQWl4Q01nbTJyQWFhd1Nqd201ZDMzUjA4S1REMWFhMEZuMU5kUW50RUU5aUlSc0Zpc09SSUZlY3h5Nk9tOTdkc3VxaWlBNUlEV2JyejBGVTNYQ2tjdFhSaHRuN0V5bUZxUFRaTjVuRE50dzdiSVd2ZWZ3MmZ2ekpvZnZBcmRoUlIxV29Hd3czcE9pMHlueGF2Q0RpQ0Y2UVR2aTYzRk5UaW13Tm51TEp3RzdIVWhhSGxEN2xDNWxERUJlSDZSUkl1M3pzaUhzQWhibjg3T1g2YUt5YWJsb2tVUklKV2Z2M1dJa1pOTzk5UDlJVTNEcHFMdGpoQkM1emJXTlRod3huOWxiUms0ZkVpdlZiUTVaMWN3SnFtSzJqVUF2SE4yeUNKQjI5VEw5ejhCTUZWb0l6Y2JvN1dpWExzb2N4ZGZGRlN0bmRDZ2dyYURuUzZzZHQ2eEk="
m_p: "u95wYmgA0a98ktQuDBs0Y4q32qk9H035V9KrrWVxlaa6gF9ZLo06UPM4AJT5vRh5"
e_t: "1614178623891"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.17"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299696
    type: 2
    minCousume: 100
    vouCount: 98
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:01,445-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:01,445-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "886dfedb7efc4811b4659ed7da05aa3a"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "TDi8TnL2"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.87"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "YGU3ZgACwzOmsxjpaQ0kVnoSI4dfFKeD"
}
sign: "hh0sOWVXElQHthlMqZTf9Njj5e3qFN6m0Rcw0obRFgP6vZo93kQHvcFuhnk5iWhfB//FhRlbiq1v1stcAPNSRAIoZswmXkVl44/ijaN+UZ4uMhym6vXSc4CXgydPjOOi10z7y8TpQDaDwi5wcfY536Z68J3H3ouXuOyvCez/r9vL92598N4dOGUqfRg5KRFN7zL3UUirq/qQMFKqnboJOi8uial8kt/G8IkN6jLb6ejeMbvohBQF0kOXKJj3nFnFk8i1BM3D2mXVHWxRD32UbqUKRcvmJtGAWAbhPHdG1JgcJwHQbmbbcBKK6tOxHjaKDlPGC8qPxdCMmP7camZysQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "886dfedb7efc4811b4659ed7da05aa3a"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "TDi8TnL2"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 602
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "YGU3ZgACwzOmsxjpaQ0kVnoSI4dfFKeD"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "HlrbVWJiFbxnJWn888rTOiLNqxC01Ry8usxRIfgaXx+kBjg0EcDCgZFmDZqucc/MXjv8SQehb954p0V0YBg36oNms4B2Gm6ZbhQWiAJuA2+Loyu9/NQ7oVkkNj6HUPILtR6Zw3N+dNVqtHkRFTrw2QNdo6Cjh8DdMmCI1ktdIIE="
  appKey: "1234"
  voucherId: 62299696
  voucherType: 2
  voucherCount: 98
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:57:01,763-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"a5cc2d5b5c1a4955ad24209c33709473\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2316570420246077e623a88cf3f5540000\",\"sign\":\"91CBACD460B213AAE317AC5B1B676E7E\",\"timestamp\":\"1614070624\"}"
}
payrequestid: "KB202102231657042076075925741462"
model: ""

2021-02-23 16:57:01,763-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1732898517318689013035852828]]></transaction_id>
<nonce_str><![CDATA[WpL8g62PYvQ1OauRl5ZS4CGIhJwFUEce]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[62F749D6466B40B11BEFCDB68935CB72]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231657042076075925741462]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>487</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165701]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:57:01,869-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:57:01,869-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:57:01,877-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:01,877-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "69861659971879"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "WCRzScM6Ajp4LbXJlfgrmVkETxKsFiP0"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:01,977-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "90dce1ad1c5b45f8ab9718cef13c032e"
s_p: "bDE0NDZsalRTUFBNdXVCZTIxS3JteGhpZE5lYmlmOGU3SmZsTEdZQjBCeE9uZmNibVVjb3dpVnUwV090ellwMEtIWnY0SGhiSXJzVmtIeFVKY242OU5lZjl1bUJ2cHNKS0dvMHRxWHdaYTU2SGFHNzNyVUVhZEdWeGhGbWhIak9ZVVFuZTBnRDJ4SlZmNjh5Y3pyR0lLM2pWYjI2dFN0cjdVQVNxaFpSWEk3R0lDcHJSalh1bEFXQW9PNHpCODRkNFYwcGZiMEFNNlFCSVNJREtzOHVQRkFiVXFKMjNSM0ZQSmFpQjFmdDNxVnBrRFR1aUg3WXBXYmZiRFNlNHQweXFuSXg5UmpXQzRyYTNIOTFPUjhoMG4yeHVWUGQxMzJWcjJxSEFyd2RibnBnZklpRkVrQWp4SWh1UXFFb1VGbjR4MGhzbWt2TUh1Z3owbFFQOU1memJzR21kdmtyMXUzZW9HdE1IRzhkUTUxMXQ4cnZNcUIyZjNRSVNpQmhYSWswWUpzdldmZ3BqQjFuVzE5NnBucGhwZnhQNzFUU0RqMFBaYjNYbk5GbVhsUzRWVWk4dXd2MUx6bXhNUEhiVGdGT0lOYkNlWkpqNGN6dTdyU1pjQU5LZkpCOW5KNDVOWkxaWHNaMzBEaWI5YkdxdnRIWk1IZWRUQm9wU3VUZU5nc0ZCcmZPdWR5SThxbUtuVjMwUzBsSUowNVQ5c0pRcVRQZjRhQXBDWVZQMWhKamRrYkpRMEVsTkMwbGZlUkNWaDRnaHdIRzhrSGtRQjQ1SkU3c2JQcFJxbjlwUkpPRW1LRUZaU3BUaEk0bTNubkRFMWlxTWF6VnVJd2U0blEySHlsRzR5U2ZYRVdac295Q0xwMEFDaU1uVFJ1eWlsaTBwTVV3dlZtb2pBS2htOWNQSXdXNzFES3NZSXJTM0NDcVhNOVNpN3MyQ0E5WmllVjlHcVdqcGlJTzRxRUhzNHBJUks5ZFQ5TkZmMGxuMWpoMnZ6Wmh6eWFhcGhCWWRzWkV6SGJXUjRXcnQzcHoxNThaN3M2TEExQmt4UmhTbnpiYjN2RGo="
m_p: "f2ARwiNvnpWgRz5BrS2i7Y5y8i52Qf4pIEB7Sx06P7330uiJ53126L92Qi88WM78"
e_t: "1614178624445"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:01,978-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:01,978-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "90dce1ad1c5b45f8ab9718cef13c032e"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "czrGIK3j"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231657042076075925741462"
version: "260"
queryType: "PAY"

2021-02-23 16:57:02,033-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.87"

2021-02-23 16:57:04,034-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:04,034-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:04,038-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:04,038-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657042076075925741462"
2021-02-23 16:57:04,042-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15028, 'pay_req_id': 'KB202102231657042076075925741462', 'notify_id': '1732898517318689013035852828', 'partner_order': 'YGU3ZgACwzOmsxjpaQ0kVnoSI4dfFKeD', 'amount': 487, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 602, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 4), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 1), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 4), 'trade_type': 'PAY', 'kebi_spent': 17, 'voucher_amount': 98, 'voucher_info': '{"cutAmount":"98","id":"62299696","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299696', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:57:04,042-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:57:04,043-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657042076075925741462"
2021-02-23 16:57:04,047-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7714, 'pay_req_id': 'KB202102231657042076075925741462', 'partner_order': 'YGU3ZgACwzOmsxjpaQ0kVnoSI4dfFKeD', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 602, 'amount': 487, 'kb_amount': 17, 'voucher_amount': 98, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 4), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 4), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 4)}
2021-02-23 16:57:04,047-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:57:04,048-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231657042076075925741462"
2021-02-23 16:57:04,051-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:57:04,051-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:57:04,051-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:57:04,052-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "YGU3ZgACwzOmsxjpaQ0kVnoSI4dfFKeD"
2021-02-23 16:57:04,055-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 176, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_YGU3ZgACwzOmsxjpaQ0kVnoSI4dfFKeD', 'partnerOrder': 'YGU3ZgACwzOmsxjpaQ0kVnoSI4dfFKeD', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 17, 'count': 1, 'r_cost': 17, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 57, 4), 'updateTime': datetime.datetime(2021, 2, 23, 16, 57, 4)}
2021-02-23 16:57:04,055-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:57:04,055-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:04,056-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:04,059-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:04,071-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.17', 'batchId': '76459363822650156836364248216371', 'bizNo': 'rLc3MpfEAzSvIBk0y4YldwmWtKq2iHFs', 'operateType': 'PRESENT', 'requestId': '39838254708622004491606558408904', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070624069})
2021-02-23 16:57:04,107-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.17, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:04,120-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070624118', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.98', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:57:04,139-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299697'}], 'vouIdList': None, 'batchId': 'ef0316f9c85e4bc88805dd61500585ab'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:04,152-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'ef0316f9c85e4bc88805dd61500585ab', 'batchOperateType': 'PASS'})
2021-02-23 16:57:09,189-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:09,197-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:09,197-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "00543582021722"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "FA8vw15pEY9dWkMcq2XPOKGDNRJoxTej"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:09,287-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a9eb689ca84f443a923586402b591acb"
s_p: "d05uR1ZQR05BTlEwYkh2M01ZdkF5U3VoV0R3MEpUb0pnZzlsRDdCVm5YRTFwMVdNSHRmN0FBV1FzMWU4NUFmWDZkVEd1N1lyY0tnTm5rZGJtQjNvaDdRTGxyNXN4akM5clJPUGlOSkNvc1FXT091N3JjZG1iVUhCbmx2R0VsTkxMRzgwcGFWMEdCUTVuWFkyb1BnYU50bFVrdmxZR211M284cFNTYlFKUk45TFg0Yll5Z3JVaGdUQWh4alhnN2w2UDRZSWtiUTVjU1NRYmNuSVB5TmJFd3BBSlVMTm53ZWkyYzFzNkExQlVKdmZwdXR0UnhOSTV4RHpaQ1N6SE9SdnBmQmQ3b2ZpaG5DYXhiTzdINGozS0J0UE5RbkVGZjRiQjhoV3h4UXFYVUJIZ21xT1paeWhMWmkyUmk4b0dZZzRTWExIRXIybFN2dE12VUU3TkNiTUpiNm1KNXRQWmxKb0VTY0l6ZE00a29wRFRrQ0VIUDkwbzZJQU9IVUkwdDVuc1ZmaXA0eVNJVmZFTjNkMEhRVmpLUkNoanZTdVU2QkpFeDVvN3ZldmtzOXViY2x3c0ZITmtsVTNGNFFGMkZBeWlkZDZVcGRsV3FIME82aDk1MnNlZGhINk1jZzZtM0N3ZU9RVWFieW9sdHdRVGRlV3NkbFRMbVp2Q1ZlSUVqMlJ2VG9CU1Y1ZlBlZnVzQ280MzRURmZ4RzFUSkg3WEk0YzhRdWM1OGJKcHJZQXFoUmVzNXBVdUJpQlhrbEJOamg1TVIzbWIyU28xODNDdUVkdjNXcENYUHZpQm9xOXdOTDBmMlVUdzVDWU5qdHFDU1FTeEcwbDZTTDloQk9DZW52QVFZb1JiMDRNTHBtcmRGMVZObnZuZDNBNmw3YzY3b3dZMnZKcm1wU3M3UWtaNEpTaG9HVFdna0Y0eTJzR3hVa29CbThLdklBZ0F2VnYzQkxpdVR0Znk1OGxrbmxJMlFSY1JwT2ZXc09Hdnd3QXBlQXFueHRMZERqdk0xYWFjZzRGYTlBOFY4aTgyblYwTFpXVWxLVXN0Nkk4aWtFaTJkUXQ="
m_p: "53c0LFAH37B7BknxZ4a2s8SclLC7q3p6W823509q8Y58r7824hYM6u5yfkOUoDZZ"
e_t: "1614178631759"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.17"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299697
    type: 2
    minCousume: 100
    vouCount: 98
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:09,312-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:09,312-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "a9eb689ca84f443a923586402b591acb"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "xjC9rROP"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.87"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "m2OSCRrkJhFqDujpfzME3Ke5b7HoB1xv"
}
sign: "bEmtSVknOXACKRkXps9ro10Li1ER66VTQw9CB/fNdVlUn8QMelAnVAnvi1ZhldM7aTUo3DR97ng5VUL32kL/KK7uplbWdsJbNxeAQNiK/fgXIF4a4HtCEkoQ+AYAtmewhHxg+RwwhESP3ayKT3wNbuxUxsnF3KwbQmDrUiVVL4B1lp72CPGh91Efrjw0B1hlL/qfw+Ig2XOMyKmnNAynHswYdeb8tDMQxhOaij2mmk1auBFBuLFOQ6lCgT8B0558uRQIMVy39X3uwiHmd/98761/GFVnexGwCptBFOBj702TnVQFCmHW8X6H6lOmezQM7uz67jp2A00r6FmzYbxprQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "a9eb689ca84f443a923586402b591acb"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "xjC9rROP"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 602
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "m2OSCRrkJhFqDujpfzME3Ke5b7HoB1xv"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "A4g53RUfPMPF+a3Rfx6fBin3j64/pmRWdA+AAK2s/rPmksEyZ3IYMTZKG+H9xbIrybtFd8GR8Szrqt4rgNszl0+NR/D8lDSMalT52GRUpmpqWzXEMmH0+pubtzwwpNtgKZeRiJQ+DQym0XAIEXxFq1dfb8eEMzaYxpOfE2lRXoI="
  appKey: "1234"
  voucherId: 62299697
  voucherType: 2
  voucherCount: 98
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:57:09,714-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"21482c97e7de416ca314953e5b8eb5f9\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23165712154341b5f8f79d611773060000\",\"sign\":\"8F47374C2D37ADC65F118F1313CB3D80\",\"timestamp\":\"1614070632\"}"
}
payrequestid: "KB202102231657112076075925580402"
model: ""

2021-02-23 16:57:09,714-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[6096247763670508628729422332]]></transaction_id>
<nonce_str><![CDATA[Y0N1fXUhnCHwjl2Vp8kOMgoWivSzF9eT]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[C36ECD8524F71D3B68DB7ABCC572E6B5]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231657112076075925580402]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>487</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165709]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:57:09,814-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:57:09,814-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:57:09,821-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:09,822-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "13519069769086"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "YWbrBz48aTF57w19yGRECQcdi2ml3PhL"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:09,909-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d0e0d0927e6e4893b42593052ce749e3"
s_p: "eW13M1JZNW5HR3dhZ3FyUVFSaUtQUVl3QW1aRTZvcGhZZXk0ZG1OdzJsZm5OMm5ld1ZsNnB5azFUS3lxbEM0UnhYQzRWdHBqSDFzT29hREtFR0V6SkV5c25UQ1Bmb2lRYnU2NFpvNmV1MjhRUFF5TDlYSHRabW5sSnJkcWxnZzNhQ3ZOZ20wcFlURFJGZDJqV2ZYaDE2VVVWVEpNQjBKdmJFZk9UOThkV0Z5VHhNVzFFVllnZkFpVFFQS1Z6S01XSDVNOEsxUnRTdE1yeVQxRlpob3NBU3c0Uk1RbEt3N3hHaVVmMnVpeDF5aEV3ajBXRXFoTjVHNDVPeVdER0RYd3JHWDIwdzJKMm0wd0F2WW5PcGtReG9yRFk0T2p2emgyalVHMU5jVEZaNE1yWGpjS2ZUek82aUk4dzdDbTB2V0ZWZWJteGZhYlB3cFlsQVdFUzlKSEFKVFBXYzA4YkJYQkM5dGtxNXlUYnI5UldNN2ZjRzFmUmZtN0xpYUxvSUMydWQ3SWg1R2szRVI1Q3F3SFY3VXlaTDR5czBpWTFLY25oWEdndzBIMmdnSnJubTVreUI3UG5MSjdIcmR1dlhXWWNiWWVwS1NXM3JjNFczVnVhQndURXkyUHZpbFAyckpic2dlZGFxQ0JGNkNsWXRVRmZtcWlIY0VZVjZJeFN5czhPQTRObnFwYktzYlo3aXRDQ2pKRW4yYnVNcW8xVU9LMkJFdENGOGlSSmdOa0V1SzBpQmp4NXphMEMzNUxVeGhTOUVrOTl3NDVoNUJXZWIzbUxuQW95Vkw5SXhZWGszRVRsSm4xeGIxc0MwM2IyZng2VTExYzVMeWJQbkxLdHNVYklxalVMSEk1SEdvb1VDZWFzeVU1WU1wa2pKNFJuOHd1SzRsYXg1UDRJSUhZZU1weTZFOEFWR09kalFUTzRUUkh2d2ZUNXR1WFdiblNBNGFyNFE2M1Z4QVh2S3dqcEZmSkc1QkM4amx6ZUlXYjFxcm9ueVh5dVNmbW9LcXdtT1JiVkF2TVZ3a1RWSVRVblA5YU03czJzMHUxSndEcVY4Qzc="
m_p: "Jw18SUlo266WY632KnOxoC4WO98pGFg2VD35w1vdawI8cZXR6ZwkGZQvEkyb6862"
e_t: "1614178632390"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:09,910-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:09,910-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "d0e0d0927e6e4893b42593052ce749e3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "2jWfXh16"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231657112076075925580402"
version: "260"
queryType: "PAY"

2021-02-23 16:57:09,957-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.87"

2021-02-23 16:57:11,959-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:11,959-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:11,962-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:11,962-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657112076075925580402"
2021-02-23 16:57:11,966-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15029, 'pay_req_id': 'KB202102231657112076075925580402', 'notify_id': '6096247763670508628729422332', 'partner_order': 'm2OSCRrkJhFqDujpfzME3Ke5b7HoB1xv', 'amount': 487, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 602, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 12), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 9), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 12), 'trade_type': 'PAY', 'kebi_spent': 17, 'voucher_amount': 98, 'voucher_info': '{"cutAmount":"98","id":"62299697","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299697', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:57:11,966-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:57:11,967-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657112076075925580402"
2021-02-23 16:57:11,971-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7715, 'pay_req_id': 'KB202102231657112076075925580402', 'partner_order': 'm2OSCRrkJhFqDujpfzME3Ke5b7HoB1xv', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 602, 'amount': 487, 'kb_amount': 17, 'voucher_amount': 98, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 12), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 12), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 11)}
2021-02-23 16:57:11,971-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:57:11,971-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231657112076075925580402"
2021-02-23 16:57:11,975-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:57:11,975-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:57:11,975-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:57:11,975-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "m2OSCRrkJhFqDujpfzME3Ke5b7HoB1xv"
2021-02-23 16:57:11,979-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 177, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_m2OSCRrkJhFqDujpfzME3Ke5b7HoB1xv', 'partnerOrder': 'm2OSCRrkJhFqDujpfzME3Ke5b7HoB1xv', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 17, 'count': 1, 'r_cost': 17, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 57, 12), 'updateTime': datetime.datetime(2021, 2, 23, 16, 57, 12)}
2021-02-23 16:57:11,979-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:57:11,979-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:11,980-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:11,983-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:11,996-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.17', 'batchId': '00438462203173298904506481483636', 'bizNo': 'U8NagET5cyeMtY6BdJrvZSChKx39smXV', 'operateType': 'PRESENT', 'requestId': '05982962783112167203844744162529', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070631994})
2021-02-23 16:57:12,035-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.17, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:12,050-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070632049', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.98', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:57:12,070-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299698'}], 'vouIdList': None, 'batchId': '64313ad6f24145fba5fc2c686a448918'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:12,083-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '64313ad6f24145fba5fc2c686a448918', 'batchOperateType': 'PASS'})
2021-02-23 16:57:17,111-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:17,119-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:17,119-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "26714246479725"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "WXq1OzerZk6juEvySUtIopgDLVC8Qcnf"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:17,209-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "59d1435c5c3d48218514bbcd85e82d43"
s_p: "cnc0d2NQRTZlVXdPcGdkb0RmZzh1VWRsWjR3b1BMN01OdHZSUEpBdW1naEFQTklKa3dXVkM3ckZUSWtxZUdXUmlkakZRc2JPaVFGNHh5YkNYcFhER3d6NG15VHBjYTJoQjFqSVdCZGd3QWJrT1dxUFY4Q1V4RTJxYWtPUWRpWXNvUUJ2ckRIdEVjTHVDeUNJQ1B4NUM1cTBCY0R4WlRZWUFHcHNUOVJhYmdNTnlRSkZhU2sxTmFUSmdlMFpsQXpVbEJUWVdDRGhESUFlSWZIcGZyaEcxWkpuczJlMmtzelB5SEsyOGJUNjhxVnRGNGlZVzZZTkZla0M5QmpjNEttZDdBN0NIYkxQMURwTHFxZ3k1Yko1cGFiZDY0T3ZtTFBGS0dBdDVwTzVLY2d2SlR2bjJ3ZlVhTmdnazMxTDNVaUhBdHRUR21BMWxOak5XQ3djV1BKZWpUeFpRdlB1eTcwVmRlN1dzZ3JqSDNLQU52UE9WaWw4V2pTWmVpM3JPOFc2QkNDeGxFZHZ3aWdJZWxvbHI0cHRFODNkS3Bsa3BxOEZtN25QWmcyRGl5R0JuMXppaFZ1cDYxWVp5SUNBZExZUVo2bEIyZjEwRTREWkNtRUZ2SUVMbUxlUDV3OWFiRXJmekdFYkF2WWJTNEs4emZRR2xUZW5KdDNDOG4za0c0MW41anA3REgzZ1dYWDRzbnR5MmRUbHVvVmhxYnR0VnRHeXJpS2FrZHloclhscWpoTFdlYXQ1aGhlU042NTBaVUNhZ0RIeHBOblZiMDFoa1Jzb1J2TnQ3ZHFod09FcFdqTDhYZVFkZTBWdEkyb3didVN3bDVqTm5lUzZLWGtXalp2blVqdGc4REVUaFBYZlplejkzMkZCMDlVdVRsblNjcEVkWFN0S0NOQjc4WDBJZ1VROXNHdW5ac1FRWldOa2cyNWlDTllnblZiTlhyV2xnZXRlaFJEdDZncUVhNlVzbW51MzFRQjdyd0pPd25JYmFGd3p5UEl1QmJJODZVNXdxcHBRcjluYmJKNEhSZ0x0dnhkaHlzc1V4d0Ywb015VkNQMXo="
m_p: "10BxlHa6fx4K480DdaoQbP45Y4FU3pFd227uvt6LM7UTibuv26y2g98xV0cwwgv7"
e_t: "1614178639683"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.17"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299698
    type: 2
    minCousume: 100
    vouCount: 98
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:17,232-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:17,232-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "59d1435c5c3d48218514bbcd85e82d43"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "rw4wcPE6"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.87"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "9S1dZOb3y65wQYFLKuBozTWs8VUxhlme"
}
sign: "5IcMN5il+xbFOtDZBtfY55k67iV64sSQT1ygxWLFDbSN5Rbojwc42XTT5+ktW7UoJJqedViI7jUu5VwLHGIEzGjnvX5B6nNqnNl1UEF08J/Ym90nKl9w8hmYi74CiNwpCn6K/uFrnGZdQOJrshq4kZyMBZeesmMweD+GUHzm+apg4W6GOYGIQxK29B0JI+XZlUjcWKwFDtRGnIjQjS7Ak4bKXMxhX1VTQE3eG8HpuVaDPeBMgAM5UYUSJd71tpb5W+Nr27L0GlXSsOiBsoZqCxRNBmXKTYVGrRoY4ZqRHnyBI/UM9hN7L6TTU5M18S+P9cIVzufCjPksaj4cFDrFbg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "59d1435c5c3d48218514bbcd85e82d43"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "rw4wcPE6"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 602
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "9S1dZOb3y65wQYFLKuBozTWs8VUxhlme"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "SuLieMKvNI7pku9J7w/3Jrg8wiCLvdw1WA3omZI5ShGA1x3qr2wDgW06L1iOw2pF50dS+0PP8k+uDpO/UvGy4Uc7TCFdUqaNCiv3G0Xy38+afwPZPNw5UGe9HyozWm+dTDGSduIc+mwHpj5fr0TPa1pIXrg+nKBsHWs88KrnV8Y="
  appKey: "1234"
  voucherId: 62299698
  voucherType: 2
  voucherCount: 98
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:57:17,527-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"34e44bc7fa8943319001192631b7c857\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23165719977585aa77687d01fc2afd0000\",\"sign\":\"B7EF2150B0A0A23026DA84E9069F37B4\",\"timestamp\":\"1614070640\"}"
}
payrequestid: "KB202102231657192076075925454532"
model: ""

2021-02-23 16:57:17,528-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[0536163610230619390226360162]]></transaction_id>
<nonce_str><![CDATA[49RqhuCWo5pjadbUliMm0L723rgXvFtI]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[1622754BE552EF5DF76253C2B10D6692]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231657192076075925454532]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>487</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165717]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:57:17,623-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:57:17,623-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:57:17,631-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:17,631-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "62446850180287"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "gYOlbEn45PR7aeoWiXTxfVIBmw92h0zF"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:17,737-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c9fb8b7a0e1241c7b820c6f1de111e2d"
s_p: "SVB3UE9xcDg0WTJLYmZUbTZMRE1tNzkwRXVud2x4WUp3MUZpS0twNERwYlBCbUVpNVlKZDl5R2dGQUtjT2hVVm9idzVqTDdnc0RpdTNBRHpHNmh4b0w5TnlKQmRaQ1l4UDRwT2NXSHhRVW1oUVhDODdiSDdxd1h2UEpQeUlmeU1HSnZsV0JvTFRKbmdLSHB0Umk2Z3JQMHZjSXZrdjJtejVKdUJoQzJYTkQ2Y1RaMlREZUhqRDUwYWpOWUQ0NmNVWDJYUkVJZUNYSnBiNFlYdDFnN3lKeU5lMlhKNktQR2Fxb1J4bkQyTjQ3ZGlPR3BzekdmMmFLams2emRMR0hDM1lxUlFLQzA3Z0MwQWhiN2ZrNDgxNXFhdk1oeHdJWERsbDJEUTI5VUtRSk51emRSUzV3Wkx2NGdVMDhFMkxGaUhwTzY4OGlZcmRJUTJwS2VjWUx6ekRnUk1nTEpicmJwVXl5SmtnOGg0RDJWTXB3enJRUHpqNXJIdjFvYlJRSFJlNkt0WHMwOUhLU0x3TXY4blFTbGF5dHcyVXl1b2w1T2tkbzFXUFJMMmZNTU93STY2U0ZLVmNTUTRHcU9zNDhsNzVDSzFMT2g3alJHMjF4WHFrVDRBbHlVWXBpQ25nWmFzaHdCaVhLdExZS1lpOHpab3RwQTNoaUloVkxTVlJNOHNwYzVRZkU0Y3A3OWJUYUoyb2NBSFpRWFl0aWJOckRUS2V3OUlsQ2NmMGIxNXRjTjJwYWZRa01qcTg0R2puU1RBSm1NcWltTUpRejRpTnhBcTFacFFLSExOMkZWSmFGUXpTT1RyYVA0RWFpM1l0M2twcW9CbktwQkFhUGo2VUJHaWpjVFRRdVpyUVlzRGo2M2JGSTVsU3o3Y0VVeXc1TXpTREFwNUVUQlNLNzN5amtWUFpTcU9nWmRUNkJSV01rRjB4N0RKUXpBZFYxSFAyc3NpZURaQVBGRFE4c1JmeEtXOE52MHNHckdhT2wwZXZiYmxiNUZZN2hUZVVuQm45T0liOEF5OTRBM0RmbDNIQURXQjJEWDJCRmRLZ1Y0YTZSNWs="
m_p: "970Gm8O8rsL0C5kaPpQ74cFgtQNmY7m641u3JS1AzaRShNiMF0TM4ww3Wjmn0bq0"
e_t: "1614178640199"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:17,743-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:17,743-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "c9fb8b7a0e1241c7b820c6f1de111e2d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "PyIfyMGJ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231657192076075925454532"
version: "260"
queryType: "PAY"

2021-02-23 16:57:17,797-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.87"

2021-02-23 16:57:19,798-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:19,799-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:19,802-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:19,802-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657192076075925454532"
2021-02-23 16:57:19,806-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15030, 'pay_req_id': 'KB202102231657192076075925454532', 'notify_id': '0536163610230619390226360162', 'partner_order': '9S1dZOb3y65wQYFLKuBozTWs8VUxhlme', 'amount': 487, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 602, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 20), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 17), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 20), 'trade_type': 'PAY', 'kebi_spent': 17, 'voucher_amount': 98, 'voucher_info': '{"cutAmount":"98","id":"62299698","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299698', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:57:19,806-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:57:19,807-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657192076075925454532"
2021-02-23 16:57:19,811-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7716, 'pay_req_id': 'KB202102231657192076075925454532', 'partner_order': '9S1dZOb3y65wQYFLKuBozTWs8VUxhlme', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 602, 'amount': 487, 'kb_amount': 17, 'voucher_amount': 98, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 20), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 20), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 19)}
2021-02-23 16:57:19,811-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:57:19,812-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231657192076075925454532"
2021-02-23 16:57:19,815-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:57:19,815-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:57:19,815-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:57:19,815-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "9S1dZOb3y65wQYFLKuBozTWs8VUxhlme"
2021-02-23 16:57:19,819-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 178, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_9S1dZOb3y65wQYFLKuBozTWs8VUxhlme', 'partnerOrder': '9S1dZOb3y65wQYFLKuBozTWs8VUxhlme', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 17, 'count': 1, 'r_cost': 17, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 57, 20), 'updateTime': datetime.datetime(2021, 2, 23, 16, 57, 20)}
2021-02-23 16:57:19,819-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:57:19,819-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:19,820-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:19,823-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:19,836-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.17', 'batchId': '82402058481476762005536286707834', 'bizNo': 'KoawGUiVgF1y5E62vqJx8elkW9BbuzCf', 'operateType': 'PRESENT', 'requestId': '02093439764205828564144890054894', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070639834})
2021-02-23 16:57:19,863-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.17, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:19,877-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070639875', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.98', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:57:19,896-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299699'}], 'vouIdList': None, 'batchId': '49968f05931246aaa0964da79f7ef3b2'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:19,909-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '49968f05931246aaa0964da79f7ef3b2', 'batchOperateType': 'PASS'})
2021-02-23 16:57:24,948-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:24,955-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:24,955-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "88806721766204"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "v12FmDMCL8jxUJfWrha4qgAklQetSTNd"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:25,053-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "42e8d5b6f34f46cf80265ec7a66cc945"
s_p: "Q2pqNmczaHB5eDFjcWs1SkkwMjc3ZkF4OW16NEFTQ01aR1JaNlNwa1FHV1o1bzJYUDRSV1ZqaktWVWQ2VVMzS0haRTVDeXM2Qm1GdjZOZVc5SE1MQXF3MWx3dExnYURrSG9HMEdUcmxDVUczRWJ1U0V2UU85SzhXNjFoNExTQUhaNUZLekJ4cWl1WnFkdUlQOVo3OU1zZkVJUWFZbUFVd3BUZ1VyWXJPWUh0czNGQTQ2MUdCZFd6UzJiQkQ5QXNyNGxmcFU3RmZTWVFuRnRHS0oza2pCZDN2dnpXdHRXYVpUZVNiN2dLQm9ZdEpGOFMzank3TE9yZUI1b0lMUjhFaGhhTGdRT1REbU9uQmY3ZkhVc0Jkd3g0a3RaaDA0VFpjaEdvMzlzVGlGeG5pMExCVFFETnN3Tm9McW5FdWtibXRoTVdPWFVwaGhhbVlVYVpDTnRYektYSFRJVTNYWHhqZDZoSGVnTHhJalN1bDNUMHdVR1J3SzdTSmtkdm5IelFkeTczQmU2eWpmNk1RdXlyV2FMYnhDTzI3TGtWSkRTUFNzckVIMFg2TlFESTZ6S2h6VzBoNkNyaTc1NUI4TFd6UWJ0cWxpT0ZuWHNLRktMYXBNZlowYnNJTlByVkdqRHo5eDlTUk1MZlRrUWdmQ2tsZW5MVWtrOW5DTXBFUEVGdmo2RTAyOElxU0VZcWV2aFJkTWpDdzExNHBzS29tR3A5SGtUb1oxckw0czRkcnB1dnJMY3llc0hLUEFibzA5OEwycm5tRkdxaW5wSHh6Y3hNY3BpdnB0UmlkbHgxRnM0R1hDdFdWdUlJTnRVdXN2c0JuWGllWVdsVXBlcmU3MWR4UlVSU0s1d21JM3dPYXlCa3ZSWmgxMjM5dmlDd3d3NnVWY3JOSWdRU01HUDhhMW9hMk11WWlSeW1MejluakNTWGMydzV6U05iRmE4U1p2MDJnbkYxcExrS3FOYVVSZkZOVHBkVzdoMWxsYzdGNWdoMGtHR0FkUm0wREhrMXdUZUVNUWxvaUJKZ3U5Zm1ldXdNVFdnSjNyUXh6azNHeVlHdlE="
m_p: "80g9X85424zBb3vK0D6P9XtQo60no73Jb5K8u8cgyGq6DK2x5t3iU2s95zyFf4IR"
e_t: "1614178647523"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.17"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299699
    type: 2
    minCousume: 100
    vouCount: 98
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:25,083-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:25,083-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "42e8d5b6f34f46cf80265ec7a66cc945"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "IQaYmAUw"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.87"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "Gs4M7WPwl2p0OQmBEV1cZKqbYUReadN9"
}
sign: "lQzIGYVntjrp8HMzBcDNVQxNsezdNmpxKkPMs/Wi8GUtEokGiSNvfwajcZbTdugKREmjhNy9sgbo+EzfrXzN5YIldQAqXzV01SX2oKsJdZA6+l4Zef1S2wEpj5LPF/VsuqsehwRdGOm740LCQpM/zrb1uAeoYzoBlAPCGVJz8i0X3U2NDE5W2VPCWgndZ86hWUILylAQJsdgxr/EWZP00X03UpsumOqTXWnP7DlYGWWDz4NvwlwlCyKabsQgAtQx004kCe3f18F/jA9lb/aAnOuFEkFPRNS/ZytDlwKLSr55C0eagVs6u0VO4qDnLpAi/Za+o5ymgU6WqnweR2AOww=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "42e8d5b6f34f46cf80265ec7a66cc945"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "IQaYmAUw"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 602
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "Gs4M7WPwl2p0OQmBEV1cZKqbYUReadN9"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "DfRmLGsaIbQn1FT/JgAMTCDz0DkwFrqLFrXUANj8VrWE+vewp8IHVCZDAYDnEcxM8G1Dtr+CLUEscTtc7H5XsVbz1YF/XmBKbHt0DIi3jHlflqnkPG3/M3mqIEO6ti5qMbSIjSQ18/ZNdU3NS9XCeH3tgQLNPuYEfVAmm40ofBY="
  appKey: "1234"
  voucherId: 62299699
  voucherType: 2
  voucherCount: 98
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:57:25,467-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"f1525ea8991949fb86551308b14dfef9\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231657279042818f4152722079bff30000\",\"sign\":\"41050BC1CCF3F316F66086149030E8D0\",\"timestamp\":\"1614070647\"}"
}
payrequestid: "KB202102231657272076075925486862"
model: ""

2021-02-23 16:57:25,468-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8088987517593117696728943633]]></transaction_id>
<nonce_str><![CDATA[ue1csl7dozgNCynMHQ36JBk5h9OFELPq]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[B8EC2463A28D99184D95EE5081B199BD]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231657272076075925486862]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>487</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165725]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:57:25,560-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:57:25,561-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:57:25,573-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:25,573-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "92160757828228"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "IO5xNPZHQyzpD8s6vna1qXlMA2bKdWc3"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:25,655-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b7cb2896e48545d2a34cf0ddc14a60c5"
s_p: "RkJyaTVmTkU4REJXN2xtZk1WVGdxYkRkeHY4czZTTWNBVGR2bnFsRHdUSEx6c2xVZlpSQ1ZuV3poMEY4VThxNHk1QWtmTjRZeDdMNFIwT0J2b1dBT3l5SnM1UENmUDRkczlseHlOd3FaOTdoUHJVR2FMb1hzcGRzRWIzckFPbzJDeWdJbmlqdENWYzlaSWJwWVFKODI3aXZiWUVicmNuZGNyald3UFNzVXlRRGFWcmJEZjRDcnZSMzVoTnJmUVdHTTJxdWJXWkQ0MDZIT3RDVmpvcG5qQWhwWGdENjNSVXRUaFlNZVRpazZVVERWaUtEYjF0M1p0YjJFNWFjSGZjZm5neGJsYnJpNkQyOVRMQWY5SXJVSVZ5MFRrak5LdWF0aTltVVNKczR6dHlKdnJNTWdsdmtPNVVPMENyVWp2ZE4xMHRWVE1Dd1h1U3RLTGd3SXFlTlpQd2kzWno2bTJSMWlYYVVIeHR1b1drc3hjdXoxNUl5SXFNbWdDcWhKMUN3ejc2aWlscGZ4VDEzTU5TRW9pcmxGVEp2Z1hIWWI2eGZMN1hnSUp3RnFadXlDVFlXcHo5Rml0T2NnUFczQ09IV0twR1FlMlVGSnlYTkViTWhnMWlWdElsaE5tQ1hBRjQ5a003WGZGM0RQWW1lNGNYRnhPbnQ3NXhRVDFTVDFsenNDM0FBYXE0N29oVUJIMGZMY1BhYjFLbmlFSXNiVHZxa1UyclhaTVJvUVl4QTZnc1EyNEMyTTRKNzZOaWdER0Vpb2FEUVBKSWszOE9Nd3laS1cwQW5Fc3REQjhqRWJaVk9XUEt3N0lFYWFSRXQ1NUtmNERwMUFCVWR1NFJWRDN1dU5yZnFYcHdERElCOGpEQkNDTGU0dDZYVWNEbHdPMXl2bk1SNk1kV1JlUDBza1pvYm1JYkNhTlVzUnF1dXBxSGQ4cVpSdnd0R3NNeTFDcWx3Z21uNFhhU3I1T1UyUXlCa3BsVFhOQlpNUmJRWUtIVXNwSHR4R0NIVW1WZThRajdwYUZzOFU0RWNENWRJZGtkeFp2eXpwSEF4RU1rNFFNdDk="
m_p: "Gb4RqwSLuASTqeUTwSvyO4PlE9u3595Rq666Ky36HvnZrwaC1a3HQiecLS5P66tC"
e_t: "1614178648134"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:25,657-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:25,657-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "b7cb2896e48545d2a34cf0ddc14a60c5"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "wqZ97hPr"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231657272076075925486862"
version: "260"
queryType: "PAY"

2021-02-23 16:57:25,706-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.87"

2021-02-23 16:57:27,707-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:27,707-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:27,710-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:27,711-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657272076075925486862"
2021-02-23 16:57:27,715-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15031, 'pay_req_id': 'KB202102231657272076075925486862', 'notify_id': '8088987517593117696728943633', 'partner_order': 'Gs4M7WPwl2p0OQmBEV1cZKqbYUReadN9', 'amount': 487, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 602, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 28), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 25), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 28), 'trade_type': 'PAY', 'kebi_spent': 17, 'voucher_amount': 98, 'voucher_info': '{"cutAmount":"98","id":"62299699","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299699', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:57:27,715-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:57:27,716-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657272076075925486862"
2021-02-23 16:57:27,720-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7717, 'pay_req_id': 'KB202102231657272076075925486862', 'partner_order': 'Gs4M7WPwl2p0OQmBEV1cZKqbYUReadN9', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 602, 'amount': 487, 'kb_amount': 17, 'voucher_amount': 98, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 28), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 28), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 27)}
2021-02-23 16:57:27,720-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:57:27,720-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231657272076075925486862"
2021-02-23 16:57:27,723-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:57:27,724-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:57:27,724-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:57:27,724-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "Gs4M7WPwl2p0OQmBEV1cZKqbYUReadN9"
2021-02-23 16:57:27,728-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 179, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_Gs4M7WPwl2p0OQmBEV1cZKqbYUReadN9', 'partnerOrder': 'Gs4M7WPwl2p0OQmBEV1cZKqbYUReadN9', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 17, 'count': 1, 'r_cost': 17, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 57, 28), 'updateTime': datetime.datetime(2021, 2, 23, 16, 57, 28)}
2021-02-23 16:57:27,728-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:57:27,728-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:27,728-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:27,731-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:27,744-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.17', 'batchId': '68327700406099098729908504588784', 'bizNo': 'tZ0RHCXODjfYdgnapoGNz6AbxIyPTLi3', 'operateType': 'PRESENT', 'requestId': '56597768076582476770191595337037', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070647743})
2021-02-23 16:57:27,779-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.17, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:27,792-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070647790', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.98', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:57:27,810-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299700'}], 'vouIdList': None, 'batchId': 'eea8f7cf0da54b059046d2ca0b8260fd'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:27,823-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'eea8f7cf0da54b059046d2ca0b8260fd', 'batchOperateType': 'PASS'})
2021-02-23 16:57:32,863-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:32,874-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:32,874-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "94138890925758"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "bSYf1Mv9mdyWLiNeqVkAHnlR5px7Caht"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:32,962-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "7cbf520c037b44ef9e089a04d8f20075"
s_p: "VGlEUThEZ21QaUpIUnNOQnF5Znd4czMyT3k2MGI0RmxQN3lHcmRYRUJENGJBMndTcXpmaG4yRzJUYzBFRGIzZ1c4NjhGbHBKSklUdlRsd1M1UVhJSFZyd28ycnYzVHE2MHV3WDBFdzdLNEpxY1pmR1oyWWc2eElUb1BSNXhHZXVLRFJyNng4YVRjSTFIQXY4SFhOd0EzSlRTM2F4bDJHd2ZqTGRDMVZhNTAzTnQ3TDA0eGp2MldaQThLRkRaWTliSFhRbmc3RUE5dFpKY0wwamREUUM3ekE2ZXh2a3NMWUJqMm0wQVh2Y3BHdXFFTXpoSmNTT0JES1p3bmRhY0J2OW1VeE1LdmgzbWJmVEg4NkZCSkxRc05jNTNWU2QzSlQxemgyOGdjSTdYdnZLSlk1WTQ4SXRIOUtlaGRnS1ZidFRseXFGVGh5Y1Q2a0JpMHF5d2RQMTJ5RWdKWklGczNaM3h1akdwR3N1dHNCdHNPV1Brakd2NWNiOXlHMUduQWJ6YVFNcWdWb1V0QmpVRXpJemRySW5DWGg5ckhOUTR3N1JrdUZpcWdheU1GVGNDa3BZaFdjVzlFUWFmbzZjbmtwbndnRHAzZ29YeGNFeDJ2YllkczE2R0RCa1V3elFhWUNSQnhyT2drRjd6NzJVUUU2dFo5NU9QUHFscmh1UUg4SWZKZTB3VXdKc2p6eG5peUl0Wk1CNVppN0NHUlJKVmQ0ekJLdmc3UXlNcEMwT2YzNGdDQU1FVWM0RnBxWUpLUUt0emptaDZoVFlFQ0FReEFvUGZoeVd1bE12cU1aRUtWYXR3aGxKT0ZPeVZrcUN5S09UQ0ZLV0I1d3ZBQnl4dHN6MTZPbDFEMlpmUlhHSkt4QmlOdDdsclBiUFZZTFdIT1ZnM3B3VDBZeG1sMGRNcnpUNWFRNnExUVJDVEl1V3VCSUVXVFNvMEY0Wk94NjZHYUtVeU81d05GRUhFMDNSZmMyZXRsZnc3ZjBnaVVkZzkzQjJRMENPeDRnMmlPY3hzWldITW84ME5BMDlrd1hKZmdZWld4YzVIODBIZ0dwcHBNdzk="
m_p: "MGn0P68826vWzl84AF3618WL6Ekw80sM71Eicbk41iv6gJDg7FqZH517C8k89R18"
e_t: "1614178655441"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.17"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299700
    type: 2
    minCousume: 100
    vouCount: 98
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:32,989-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:32,990-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "7cbf520c037b44ef9e089a04d8f20075"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "XIHVrwo2"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.87"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "2ALSWCbo9UXjIeKY1Npq7yfsO34DuEPw"
}
sign: "FdYBJlx0gUgQrR7TSfXhuMSy4NkEsRYcsdxHBXhgzV97VeUMzekHUOQST65z+QBXIO6LL/D7y34XoH4Tm8VclltHOAUcJGuNxakmjNLSqhSAPTL3XokkIyOF4nLVL0v1H3dGFXc1e1wbHtXR+duJrAHjCrHRVQzA5laQaFO7AOV9QBe93Cpo2nqFHXTwU1W8U3zTg/UsCfw8ApQJrFB3qFBvoGKwzZ+xFMmoouehPFhCNxUfbG/UO8uYfeqKRKj+D3CDTFpeaP9CwuYQRs0A5q6mDViS3xCO+82+h6AKneRvGDL4yAK6ZGnydJQDXLiG/3iy83+o73cyHYMK0RkeYQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "7cbf520c037b44ef9e089a04d8f20075"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "XIHVrwo2"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 602
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "2ALSWCbo9UXjIeKY1Npq7yfsO34DuEPw"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "girqU75/aGJq34RdgItGNvpLY5SLXB8XZ920hvyRhMrNSXEOgFOGG3BFAcyXwbAGf6Ut5DhuOJfY/+/4oPHOlIs8pF61AZ5627q/AjkMvOsi7A7WaingPvJiTSLkOjK1b5IS44DxKbfADwnJi/iIpuFI4Rth4lRb0U9Xa//m+ZY="
  appKey: "1234"
  voucherId: 62299700
  voucherType: 2
  voucherCount: 98
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:57:33,402-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"6cd273cac572456ba193c464c5ac371b\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23165735849770ae0a7abc63ccac480000\",\"sign\":\"0E9D55C3053D9D9FFD2A9C5363A4F1C8\",\"timestamp\":\"1614070655\"}"
}
payrequestid: "KB202102231657352076075925753382"
model: ""

2021-02-23 16:57:33,403-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1374191682593900461803691184]]></transaction_id>
<nonce_str><![CDATA[hqZaCKSF4J8u3Hve5UWGOwB0RLQgnp9M]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[F80070629BDAD82B1E97FC492DDF7402]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231657352076075925753382]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>487</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165733]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:57:33,496-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:57:33,496-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:57:33,504-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:33,504-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "34038861120688"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "bWSHgkz4L7AF0Y1Gdc8NitjJovOuy9xD"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:33,592-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "82fa1975414d4aa6afde339499ef8321"
s_p: "dDVEaDg0dWhaS2pIS3VaN2E1VUx6YnozR0QxOWtGMmhxQlY2U0JsazZOTXFaQlJ1ajhwY0lXZ21CaklHT1RzWlFkRERRa1VGRDZuSmh0bzB2alJjRDNEclRNSEZiTWZUTm1QclA1UGZ5QWRjMFJmQm9wVEZNT3JjRzhBWmNxalJEc3dLTE51UHRsSlQ2N2VYZmlnaHFqUW5lbWJiUzZlVFhkRFZ1VmRKeVFHZjhITldLT2xCR0hhaDhuU3VjakR0bkVSN2hyUTI5eHlCU2ppNGlsTXdCMk41TFNrcGdueUtVb0k0dm1XbDZoNU00aktvZUlSeDNxRVd4WUFxbU1GUTFCeXZOd0luZWtZTlA1Q0JTVXN2R2ZPOXA3TEVaYkxqNklFSjdvbDBSZXRnTDc0ckxSNDBGREZxNUVSYmdzVmFVZWhBNDBiY002UlhkczVvY0hpYUJKOHJxZ2lZWjlOQmdDRkZGbmZsQk8xZFhPanNuMXppMHhEWVdLd1VhR0o1R2Z1NU5Xd29UemJnNlhxdkVaOVZpaFVyMDd1UG1GYlF3aU1jczNKdjZGYVFrU3hNbjJndTZCS3dpN1hZNHNDaUVUajdGV1B3cWthYm9XN242dlR5WDl6TmF4TU1wSVZ2WTdMN1dZMVNYRG11ZGRHdlY0ckxLTUZaMmU2Z0RWZ3htNzlIQ2lrbGNXWTJTRThFQTJWMjdIRGtRcHRFVFpuM2lvMlZPUVBsTTZ2eWk5MDhEYm5RUElpTmtEUFJOb3ZHalBZSTdQekxqYkc4VVZnV2FKRHo4dkUwd0VtSXVleEFHZVRmTW5LRkwyZnRadVNIT1VjUFdrSnYweHRWa1lOMGJxeE9aRDV6SHFoV1hYOWc0bXozNnFhZ3lsamxRU2xOMU1XR2psMmFpVjJyazFJNGtxTTVtUkdOaVJEUk42QldWRDBQa3dsMDBxMHhKa25jVDJoTElhcEJrb2JMaVN3aGpJU3NCTHp6MGdLcGdlc3R6SjNIN0JaTldoaFVNU2pTd0lMbURRSjd6Z2ZzbGcxVXc2MTdHUU12anA3Vm1Vc1o="
m_p: "83GFm935W28HuxznjHFgr57YTyiVn9730j1zV15o0DIC2Q9d3p3oOCa5ijDge92m"
e_t: "1614178656069"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:33,596-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:33,596-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "82fa1975414d4aa6afde339499ef8321"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "uPtlJT67"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231657352076075925753382"
version: "260"
queryType: "PAY"

2021-02-23 16:57:33,649-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.87"

2021-02-23 16:57:35,651-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:35,651-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:35,655-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:35,655-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657352076075925753382"
2021-02-23 16:57:35,659-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15032, 'pay_req_id': 'KB202102231657352076075925753382', 'notify_id': '1374191682593900461803691184', 'partner_order': '2ALSWCbo9UXjIeKY1Npq7yfsO34DuEPw', 'amount': 487, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 602, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 36), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 33), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 36), 'trade_type': 'PAY', 'kebi_spent': 17, 'voucher_amount': 98, 'voucher_info': '{"cutAmount":"98","id":"62299700","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299700', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:57:35,659-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:57:35,660-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657352076075925753382"
2021-02-23 16:57:35,663-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7718, 'pay_req_id': 'KB202102231657352076075925753382', 'partner_order': '2ALSWCbo9UXjIeKY1Npq7yfsO34DuEPw', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 602, 'amount': 487, 'kb_amount': 17, 'voucher_amount': 98, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 36), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 36), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 35)}
2021-02-23 16:57:35,664-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:57:35,664-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231657352076075925753382"
2021-02-23 16:57:35,667-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:57:35,667-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:57:35,667-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:57:35,668-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "2ALSWCbo9UXjIeKY1Npq7yfsO34DuEPw"
2021-02-23 16:57:35,671-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 180, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_2ALSWCbo9UXjIeKY1Npq7yfsO34DuEPw', 'partnerOrder': '2ALSWCbo9UXjIeKY1Npq7yfsO34DuEPw', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 17, 'count': 1, 'r_cost': 17, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 57, 36), 'updateTime': datetime.datetime(2021, 2, 23, 16, 57, 36)}
2021-02-23 16:57:35,671-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:57:35,672-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:35,672-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:35,675-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:35,688-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.17', 'batchId': '71463448721913140080560758060056', 'bizNo': 'iF1xXctzgyZABOwENK5mn0uGQ2V9lIdv', 'operateType': 'PRESENT', 'requestId': '05997359033649228994932926425202', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070655686})
2021-02-23 16:57:35,711-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.17, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:35,724-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070655721', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.98', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:57:35,749-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299701'}], 'vouIdList': None, 'batchId': '1efc74fd607d4ad09bee0fe7f0dcd220'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:35,762-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '1efc74fd607d4ad09bee0fe7f0dcd220', 'batchOperateType': 'PASS'})
2021-02-23 16:57:40,802-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:40,810-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:40,810-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "62626305106572"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "P8spCN5v76bzdy4ETntRWhlF01eIujgk"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:40,898-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5201aad31bef453eab57672c25679a24"
s_p: "Z3lrVThBendCV3lGbDMwOFF2MEsxcTZxdFJqandhOUt3MThHMXRtamtrUE51TWQ4M3pEaDJ4a2lpMG02UGZuWkw5M1E0Y3Z3ZkNRTURXNmEzOHpJenBTYjJWa3IxYU5jWndZR01KMWtVUjZKMlJ2dFdyamQxWkdIcm12RWVPVk5tclYyYnFjMG5TbWQ1ellPcUpJdU9HOWRON3VjOXNsemluaThiMnF0eWJFNkRJN2hoOGpCdkt0NDlyblRNUW5yd3pVN2ZQcnBuWlVKc3ZlSmZDaVJXWng3VzJwcmRtcnkzak1GZFRSaDVldkVLNW83ZldLVVAxOVJNTWdjdW1rM3FQcG9YRUdLS2pDQzNaT29USUpLSlRoVGE5SDh1c3ZnTHJZV29wdWIzNWx6dDFHQjJHZTNkVDNIM2o4WXVET0c0azFmeDF0ZFh5R3VJcGZqWE85cERiNGdqOHVPMEsyY25ZV3N4VzNHWU1rOE01b3B5S1pWMWtvcGF1Rkl2R0ZiNUxrTFAydExYbWloSG1KVDllMUxreVNrckhFRTVOWVE1Nng3RFhRTlBvaDl2VUR1M3FJTGtrYVpMeGdFV2ZWbm1JcEg1bm9iRVVWQmtONDMxSUZqamcyZE9LMmtoa3RsNGl0dTdsVXNLeFZVMDZLRXFlOWZJcnQ2ZHN2bEZUTTlkelZ0QjNybjAwTG91cm5FaUNGU0lpUDF3cTB4S05JcVREOE9zenZ2ZEx3dVVheWwzUUFjanczTDlDV1FDbHJsU0EzS2F5VkFWZm9zeXQzRTBlQjFITlVtNFU5SXVEOXZZQmRMTndQRjN2UTdiMW5yUzhZdDV6MmR0OVNKNjdLZFFkbVdXVlhyUnRYTHh6QUt6bThtTHhtS204cnlhYlloZVpVVlNvWDI1ZzZQZWlMS0JiSlJ0N1piOWR2TlJybklUQ1liRHB6SGZCNkd1U0V0Y3RhZWtOSm1RSHh3NnlGbjRhYmpwSzVHVFJvcUJsVW9rOHJDWHU4OUZOc0YxcFVPYkc0bk5pZHhydkx2NURqWHh0dlNRdEM3Wm1lV2s0NmM="
m_p: "8H65nx000lwpb63ge888nGe78bk60tI300fzF416m4JDW643MnA9ukpgSCUhL4PX"
e_t: "1614178663373"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.17"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299701
    type: 2
    minCousume: 100
    vouCount: 98
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:40,921-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:40,921-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "5201aad31bef453eab57672c25679a24"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "1aNcZwYG"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.87"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "Ezwn0lmBYJu3fsaOFb5AILk96yCZehQS"
}
sign: "6X53Rrc8921vLaCRjjYJpwArduPKlKfIHFHa10hM6Lj5gyazdK5h8U809Ma7S+uMPBoqlWo+XL9Oy7N8z1q17whZgxld/9T1sssChF83ujsdG1VnXIdA6KfXMUTPxawiJuDwvaDeaLZOyL0SiDiqbMNJNtXcOGOvftAU36qtA6tIWOAvjWDCxvSqkdRjC7BBMW43WErZ4qNpD+T6cFAK+HBIgRvqOjPm23QbC844+3AlRkuJOB0eQewcEVAoSf4Qfqy4gr9AxR+idRSLE2S8qFTi00OiyGEbjN0DMamf/aPuuwB1uUPpfOgSMyrKenXjHWZs0W9ndhEyu/ZBK0ntGg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "5201aad31bef453eab57672c25679a24"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "1aNcZwYG"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 602
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "Ezwn0lmBYJu3fsaOFb5AILk96yCZehQS"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "OkK4b31SLOBeB2AvaAFQkt7+diRgDwtvO4YjiX7Fs2ubiShzuSkNF92yuZ8KIwCEECXR2wCJ2wHQ9kVSv2sIJW/0BNVx61QrralbjPjkp38vlENCFGRxlb2lj8QHQgI2vMnAKAunFzSnAdzaJzhuFstK8e3wZwJm2iO6N24DyWM="
  appKey: "1234"
  voucherId: 62299701
  voucherType: 2
  voucherCount: 98
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:57:41,212-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"1e61976c456440fa87fe3a7c55451a8f\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23165743670790e0fe4141b1115acb0000\",\"sign\":\"3E39BB1378D1EC2EDD1197A07CFF7A83\",\"timestamp\":\"1614070663\"}"
}
payrequestid: "KB202102231657432076075925146022"
model: ""

2021-02-23 16:57:41,213-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7220585354888323873662472600]]></transaction_id>
<nonce_str><![CDATA[fHswWKkXnB0db2c5gLaUurDt3AyPliEx]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[E961789F28F08FF871E205360CA82786]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231657432076075925146022]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>487</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165741]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:57:41,317-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:57:41,317-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:57:41,325-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:41,325-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "13540916122226"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "MJNvUcomYT5u2ApOqaI6irxld8yQE9zP"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:41,412-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "56298c82a5b040508cc94ea0b9ead818"
s_p: "ZnBRSUVpVTlyWFBXam5zQjlvTk5oVGVvUWNWSkZvajZVd3FvSE9aMUJOalljSzNQYkVEVEROd05HUWhSMGdUb1I2aXpYSktXaEQ0QmpiQ0VCWXdOdGF4eGVCUk1TUGR0SmhMOE9Zcm5rYmR5RDNUcUF3c0p1VlZnQ1RhSVRkdjJ2ZFAzWGZrUzFnaVJaRGUwNk9HNWdrdWdMeVRkcVREbkJJTDN4VkR2MW1pcGc2M3lySTNVSzdSaXpOMzg2cnBjMFlyaWlGdVBPN2xPc2xxR0JJdFJjRDlpaWlYc2lPbk8zZkxaNTlhR2c3SmZ1QTJ0YXJ6am5wSUNrVTFYUTdzSm9HNHhmWEowaE5YM2Z6TDRYbHRFamdSY1pMbXhGejhxRlFkcUttRG1FaEdQUnZqRGEzUnVNa3Y5U285QU1lMUw2TFMwVmtRWG9JWWloR21jcGhpbUVHT0NvQk5DVjB0ZTNnd1lUQlNYR25lMnFDMlUxRmhobWVSQmpGWnRKWmlrdDZ5aldDc3lxMEJGbW9MMXNvOE5qVG5kWkxvc0p0em8zcDl0ZFVhOTh1Nkw2V3dlVGt0UzA1YWVDTmswbWpPQ3Z5ODV2M2dvd3FZVnBIdDNNbTY3RHRZb09MOHRveUhDSVZPWW44MmtsSzBKcHVFYzNUazdZOVhLb2xkcDVUdzdGRUlFcloxbGJRWTZSd0RhQ0ZXV09iZmxzWG5SQzVsbGhkNGxJTFZoZ28zN3N3TzAxUkVSWGNETFo1Y2N1ZnhmaUFIY3pkZGxkRWlxWDlNT2R1VTd0eDdBOWRYMWVsOERPdjhVa3V1ODRGa2wyRXZReEtyU3lKcGJBTU13TDhHN1hJbFpBcUZ5UkNNZFpBZGhGOWZ3SzV6Q2hQMjd0RU5Xa2hRb2tBTkZQQjJ4ZUlpbFpuUU1KTHMxZVllN3g3N0JlUWE4SUZHQzJaWHBXZjZtVElyanQ5bUgxd0w3ZzhnbTZWWFp0RzV2QXB5UVhld2I5SHFoTXdtaFltQmRJeFl6eTgzNTZyNmRjSFM5N1hxZFVOMjhDVFozaFNIUld5Y1o="
m_p: "jvdrGimQ5w90SDC3BOB7qSrJit8XXCui3l08nnr9AaExSCm706x9uGg4ZsF01DqR"
e_t: "1614178663892"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:41,417-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:41,417-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "56298c82a5b040508cc94ea0b9ead818"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "KWhD4Bjb"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231657432076075925146022"
version: "260"
queryType: "PAY"

2021-02-23 16:57:41,482-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.87"

2021-02-23 16:57:43,483-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:43,483-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:43,486-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:43,487-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657432076075925146022"
2021-02-23 16:57:43,491-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15033, 'pay_req_id': 'KB202102231657432076075925146022', 'notify_id': '7220585354888323873662472600', 'partner_order': 'Ezwn0lmBYJu3fsaOFb5AILk96yCZehQS', 'amount': 487, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 602, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 43), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 41), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 44), 'trade_type': 'PAY', 'kebi_spent': 17, 'voucher_amount': 98, 'voucher_info': '{"cutAmount":"98","id":"62299701","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299701', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:57:43,491-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:57:43,492-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657432076075925146022"
2021-02-23 16:57:43,496-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7719, 'pay_req_id': 'KB202102231657432076075925146022', 'partner_order': 'Ezwn0lmBYJu3fsaOFb5AILk96yCZehQS', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 602, 'amount': 487, 'kb_amount': 17, 'voucher_amount': 98, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 44), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 44), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 43)}
2021-02-23 16:57:43,496-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:57:43,497-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231657432076075925146022"
2021-02-23 16:57:43,500-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:57:43,500-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:57:43,500-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:57:43,501-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "Ezwn0lmBYJu3fsaOFb5AILk96yCZehQS"
2021-02-23 16:57:43,504-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 181, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_Ezwn0lmBYJu3fsaOFb5AILk96yCZehQS', 'partnerOrder': 'Ezwn0lmBYJu3fsaOFb5AILk96yCZehQS', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 17, 'count': 1, 'r_cost': 17, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 57, 44), 'updateTime': datetime.datetime(2021, 2, 23, 16, 57, 43)}
2021-02-23 16:57:43,504-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:57:43,504-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:43,505-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:43,508-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:43,521-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.17', 'batchId': '18354116436276545720122139511615', 'bizNo': 'R9klW5yFjZDAUqSC7Vvpcgni1dYLNOoX', 'operateType': 'PRESENT', 'requestId': '90688629640499324018768288549461', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070663520})
2021-02-23 16:57:43,548-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.17, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:43,562-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070663559', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.98', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:57:43,582-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299702'}], 'vouIdList': None, 'batchId': '19c9b5e20f6f487cab0041a960fb16de'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:43,596-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '19c9b5e20f6f487cab0041a960fb16de', 'batchOperateType': 'PASS'})
2021-02-23 16:57:48,634-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:48,642-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:48,642-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "74354453330263"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "aVCPtS57dJDY6nmpNbM432jyZEohWTqi"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:48,743-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "460d2efe89cb4e0691ffc51f54bde711"
s_p: "NG9ZRTRicG5ZWEkxZloweFVpRFpFRGNiaVF6Sm9EUGVVdGRtcnNiclFrZ1RKVnAydjZlbXppY1FLRDllMmp6a3l3VHBxb2puUVdtVlU0SDV3c3Jnb29URjB2TTM4anFLTWVGbXQ1eERCSmJ5QTRjZGNlM1hQVnRqYnNXOGdyU1k2MEl0b1hocGwwZ1NsTzZCRUg2dUZjaWJORWlhOVlMSHJwNHRYNXpnSXZuUWRjTFJhcDlkNEtFS0d3Y0I4WURnYXpMN2lrdEk3dUFUS0tINHRpU3BJb1JaOW1OVlpIdGRMZmRORGN2bVVDdkE0MkdiUVA4TFFpZHpWYXRzZUliWmVXWXpTZHBEMFNjTWdKc1BMZEx1WHhVYTRyak4wcE1vRUd6RkdUZGtzcDhsNHpHM3lLaTFMUTR4SnV4N2pnWWtBRUI1WnV4SWdzeXVHOGNMUTlEMG1qekJWRTNnUGhMTFBOSjB4cFpwdDEzZlA1WGl5OU5FMEdnbTAwZ2czcmFoUFhxOHYwZlk1R0hRMUEwbDJSZk5XUEVacjZ5OThWMVZ3aGh4NnBKU0Q4ZGkyYlRYekVNbFAwYnNXVDlUMEliaFJZMFpDSGVFbWNIekxGVGg2Q0JOdDRZczkxM3ZYNm5rSG1reDVNODk0WG82MXNQOWxEWkhHaVpWdzNJTFMySm5nZ2V0cjVDWEZNY2NTMjNpWTB4QU5BVFRQcWR4TEJYZGlOZkJ4eWxka3JTcU9ZZEN1RHZ2ZmJjUDRRZzNQRFg5enI5MXNOM2N1WGlSRUdSWlNXU2JPczVmcUM1TjVrcmJWaEE3S2VSdjFMb3QzZVpiUzFJM1NzQ1dnSFo2a3pOaTQyN1VQem83T2hIelp3cGN4UmFmaHpCcVdrOUl5Qkx0QlNnNXFud0tjNmsxQ3Y5UFBKejBpSkFjb3BrSDFQTGxSV1pPbngxdEx2V3Y1N253T21vYW1ZWk5ZQlNySDZQOVgxMnNZalJoaHdrMTQySkVTQ2JsenI4Wkdib2MweFd2UkVOcDlka1pIbThVWFhVV2xRclRaSDVONHY5QnI5dEU="
m_p: "d6z5t0qj9zbZp953PbdXtpQ6Uz4QuB85qX5s63b4Jyz52h8AE2ZyRhwK74jT41xW"
e_t: "1614178671215"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.17"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299702
    type: 2
    minCousume: 100
    vouCount: 98
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:48,766-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:48,766-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "460d2efe89cb4e0691ffc51f54bde711"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "zicQKD9e"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.87"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "zXEkHhCnmWIgl3ytfiGSwDLYvFKrJM5N"
}
sign: "6K0xAMHDsxA6aXtBaMyNyj/FjjytQU8jtV2APg39cvsaCE6j0ghU3X26EwULxMrW0rmFLeNVgSj+7ragVfzNuO4C7/HxxLLnHZFS9wvcNGlzIgMJk+dIhaWNZVMPgbm0b4oSCH4dwy/UNDXQkBUvvyFWF+z21HR1H8p6U9R8bROnywt2GNVbVnfEbcyPB+9Qj2Sb1pUoIpxwRyV4ak6NlJleL84OxKve1ypnH+pGWcmCvQNky9TI7rnrY8hB+87L2poVZZjE76piymRmNaCvdXj02/rdsAZrcqj+Xk3RdragG+QUfdw0NQxefYN91znWJu0vnoFiclqoeTBd7bwpOw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "460d2efe89cb4e0691ffc51f54bde711"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "zicQKD9e"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 602
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "zXEkHhCnmWIgl3ytfiGSwDLYvFKrJM5N"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "LzqZJZniFe87M5cBGyX1lHxfQZ/MhRoz7ndxUzQ0/5SvarmLYHaiURbjcntHxBsFjXWhjnFUsQCHlp/iBPv+4++JvbbA8tHmz9YhMVTB/eVHYboosiaI0mrr3dSPIIzUumO3n+4skXhSrzBGs0bq1rf7fiNYp9P0t1Xuyny0+kk="
  appKey: "1234"
  voucherId: 62299702
  voucherType: 2
  voucherCount: 98
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:57:49,075-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"cda80cced1b544e4971767e30bebdd3b\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231657515213908183bee9199c653e0000\",\"sign\":\"02B037512967667387AC64DEB2D7E146\",\"timestamp\":\"1614070671\"}"
}
payrequestid: "KB202102231657512076075925780632"
model: ""

2021-02-23 16:57:49,075-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8447240112173325938532665728]]></transaction_id>
<nonce_str><![CDATA[DNEMqYG0z8uJHi3fwUhomLvRjgel25O4]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[49413EBA3306F68493E1FCA95DD2F468]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231657512076075925780632]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>487</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165749]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:57:49,175-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:57:49,175-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:57:49,183-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:49,183-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "92329402666058"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "9i5CdEPzgFRpyAs7StnhHYMl0LBoQTev"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:49,266-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4ec6461d20514a25a5c4893ba6fc90ad"
s_p: "QVBzS0U0cFUxN3ZyVmFkMkhqRnhUbk5IaEgxYXJwRjlsRUkxcVdlbFhUdUdNU1dod2dQVlhuZzBBQ2pobVVJdExwYVN4cXplU1RVR0JhZXZ5dWRuTFkxVE9xVFJWdld1TW1vb01vclV6Vk5IRDlHT0x3T3pwdnEzR3BDcm83MlZ2QWdmMUp1SGxIZ3F3M2lpWXVURml5TVFXcTdUdXdEc05HUlhlalQ5ZlAzTEUyZW1RUHJYblJiWXM0Y25BaGIxWTJGTDdDU2pubjYyMWpVQ0RHN3R3b3pRbjBJTlE0YjBFYmI1emZ3d05kR1dtWU5SaTdLV1RLR3VjTGxIQ1hJSlkyRGRSMFZhYW4wMXVEcDJKTnJLZDNoVjFaUWVYVmM5em1xSGg1TGlxTGdYamRmVVVKZnZhZnFpTkFqVTFBbUVmSG9iM0pnTldUNWNIZ0lOUm9qQnNsMjlxSkZkU01zM2FIT3ptQ0VBSGxybWdFMm9zS08yZ3psUm1HcDUxSk1SVGVqWnhzeEU5UjVmWnpnOURRNnJoRkxaQkRxa3pYQXNSeEFXSU10d1I0Y25CNDdXSWZTRVphekNkMDVGS0JNVE4wVzh0MFM2VEFIaDRUNW9qYm9YS3lWM0tRRjhtS3dneHp1Qk1LcUxnWDBqbkVjZU01UGNUSDI3RzJ0RnhTdVRIaHhGOEFOQURZWTFXR2NHUXR6eFZjaVpKZlVjZ0ZPZE10aVcwUkVpa0VHZDlKanhKS0haQXhIRkZUWDV3RjA3ZHVTOXdKaldUU2JMN01sc09weUtHR2hLcnZ0UE5lbWRURElvYVNwdHBzOUNtQkFRbXY1YW9mTjdiQ2Rxd05pRWlPOUZQVm0xSFFHWVg0TlliMU1yMjdqVXdPdEFUT3FEdXB0ZWtFRjdidXpCVVBkUGJUZGI2Qmk0aFVvTmVyaHZGUGI1RDNrQUtOZzFoZXlaRk1KRGg4dHhnN2F6Y0xQTmtqRmpLWktjOHBQZVhNVG5TcXZ6OXlVMFZKQVVuSVhBMXMweUJLMHJmbksxdldNVTRTZDFnR3NaMUpBbndObFM="
m_p: "1C7L8B6md0Y1FnM307T7VyhRK25SCVkLm10e742917k5L2c8tPAPQhzAf7w9253t"
e_t: "1614178671747"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:49,267-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:49,267-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "4ec6461d20514a25a5c4893ba6fc90ad"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "WuMmooMo"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231657512076075925780632"
version: "260"
queryType: "PAY"

2021-02-23 16:57:49,314-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.87"

2021-02-23 16:57:51,314-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:51,314-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:51,318-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:51,318-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657512076075925780632"
2021-02-23 16:57:51,322-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15034, 'pay_req_id': 'KB202102231657512076075925780632', 'notify_id': '8447240112173325938532665728', 'partner_order': 'zXEkHhCnmWIgl3ytfiGSwDLYvFKrJM5N', 'amount': 487, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 602, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 51), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 49), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 52), 'trade_type': 'PAY', 'kebi_spent': 17, 'voucher_amount': 98, 'voucher_info': '{"cutAmount":"98","id":"62299702","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299702', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:57:51,322-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:57:51,323-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657512076075925780632"
2021-02-23 16:57:51,327-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7720, 'pay_req_id': 'KB202102231657512076075925780632', 'partner_order': 'zXEkHhCnmWIgl3ytfiGSwDLYvFKrJM5N', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 602, 'amount': 487, 'kb_amount': 17, 'voucher_amount': 98, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 51), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 52), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 51)}
2021-02-23 16:57:51,327-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:57:51,327-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231657512076075925780632"
2021-02-23 16:57:51,330-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:57:51,330-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:57:51,330-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:57:51,331-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "zXEkHhCnmWIgl3ytfiGSwDLYvFKrJM5N"
2021-02-23 16:57:51,335-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 182, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_zXEkHhCnmWIgl3ytfiGSwDLYvFKrJM5N', 'partnerOrder': 'zXEkHhCnmWIgl3ytfiGSwDLYvFKrJM5N', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 17, 'count': 1, 'r_cost': 17, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 57, 52), 'updateTime': datetime.datetime(2021, 2, 23, 16, 57, 51)}
2021-02-23 16:57:51,335-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:57:51,335-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:51,335-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:51,338-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:51,353-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.17', 'batchId': '02700924199542492557955111204449', 'bizNo': '46G0DkJWw731mntqZcbCXQzlsKI5Yuig', 'operateType': 'PRESENT', 'requestId': '74526869152048568949102510415643', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070671350})
2021-02-23 16:57:51,382-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.17, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:51,395-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070671392', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.98', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:57:51,413-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299703'}], 'vouIdList': None, 'batchId': '856c1fa180ef4d8e93569051350c5631'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:51,426-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '856c1fa180ef4d8e93569051350c5631', 'batchOperateType': 'PASS'})
2021-02-23 16:57:56,467-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:56,474-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:56,474-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "23204861308515"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "IBrdyJboFK3ExDHlzTaZ8wvNAgcG59RV"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:56,565-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b3ec499237574bb7b8b2a4f8aec9e7d1"
s_p: "ME1wbVVxdnRFcDFCVWMzS1UxMTg5dWVHWXJCU05wNTJkRjNTeEVXV0VZNmpVZlBoWWx5VjI1SGJGVjZqczhrbzF3NjR0R0R2ZGlMUkQ2Wm1weUd4R0hLd01TT3gyVVpFOUhXRTdFUFpTQmFXSGVaUXM5ZnJJTWVZb0hsQnpTbXU0SEFHeldXc3pRTEtFQm1BOHJKQlNuTWRLbHY3cXNYTnM2b1Z0c1BZYWhVUkZxaDRTcGExZVBoSHlsUEJrSFBPY0hNS09jMW1vYmJjM1Y3eDEwRXFCNjdkcmVLODZRNGxCUUtRV1pGMWFXU2xrVEIyTlJIRUJueDRKSG94TVA2MVRNWGRQeDBsRnJjSENsUzlNbDdYT3NLdWJiR1l1ZmxvaHZsNGhSd0NvNFpDNU5nRzNuaFdzZzdHazltMXkzRHM0d1A4dkc0UGJvSFFKejhXWTZ2WEl2NTVBT3NnckJSTGlaQkF0azdWZFYzNEZSWldCTmptVFNrWlNDWGtKVkhUd1R0ejFPaU9UdWdPYlI0Z2FxY0Z3VHYwbFdMcWtQZUtoRDZzcTUwN1J3cWxFRDZVMjg3TUQ2NWZpS0lvcG5GNXJ1MndDRnByRTRHb2dQbkRtN2twZ1JiRGx6OFlFdmpaYnpwZ2h3ZW9KUE80anI4c1ZPbW1EQTZXSmJkVjl0OWFlTjFyZFljNDhPZDRxZmt3anJMcUZCNFRYSDlrTFczTXJieXRKZmNHYUd6bHpndzNGcEJ1SmtHZHBwMkI0eXlOQjh1TnNQWmRjdkh2SzNmNTJBZjdTN2phdTBoQU9nVUJPNTdqS0VLYmFuYVlyWUFIcUE3Y3dzQU1IQThKSW01TVNtWVoxTjlZZlhrVVkwM3FjU1NxRFNBNDJVejMyVFpEbTRGQXA1bkZ1UkpGdVRSZHA0NXpOYmExR0ZjN0VUQTNCaDhsY0dqSjduOGxNWGY0ZFNSQ3FhMEpDT0tiaTkxWXdzNVkzVDVqOTI0eUt3dFByYkpISjNOYkxTcDFUUDB5aVQyeHlleFpQR3h0WVRTcmUwcjR2ZzhiZkVIV0xpM0M="
m_p: "EmABw41Z66480OOn3OyQgP4c67tLt1q8da96412eIZ0hTau72jUdvmskG78s8783"
e_t: "1614178679042"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.17"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299703
    type: 2
    minCousume: 100
    vouCount: 98
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:56,594-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:56,594-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "b3ec499237574bb7b8b2a4f8aec9e7d1"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "4HAGzWWs"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.87"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "xVpMOEqecmWNUbGIT7B1R06HrfYD9inP"
}
sign: "3nTwK1TtZhay3Ou+4EB7hcIHIrePow+Vp7WM4f9srGq7P37jrilGbUhWLqKoTN4SFmT19qQU4fRAuexFNIkyXsOXfzBldErjloVB0s3b9N8/+7J0EwQ8VHrushyFExtRhW938Bt0PbfIjnLDKPGK0abx47ylfuc7UrQmcGjGgA9PbBiac06vnhWSB3tTt6MzTeeFXOokg5EMK5fFY4uWPo4avGemQCO4wRZyaLbZmuOHXzsbLvzrF0+yBy5LvvN7w1nDHCvuXZJw2iBYuTZ4/xV3wBm0PsHrSPpEDAmZ2a+s/JywICEKddEWTeeW1v4NGW0HPhk5hKCPC4knOj9Yrg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "b3ec499237574bb7b8b2a4f8aec9e7d1"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "4HAGzWWs"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 602
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "xVpMOEqecmWNUbGIT7B1R06HrfYD9inP"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "HgDpvgPkeafrin6Rxwbwks/sJOfwCTzPSaVQmJ31ES8mlO7+gzc2dVlFa8FKt3cA0fR5LUF0qp9F9o+FAzCZRX+yGrw3Z6eCp0jUL/4j7fpGEyYv0sebIT71mcaZKfiLpkyqVMo561CUtiUNqFNyl5CpOc+Zd3q7V8ZEK9vtvAg="
  appKey: "1234"
  voucherId: 62299703
  voucherType: 2
  voucherCount: 98
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:57:56,973-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"67a16f04b83d47f2ac2df900c32e9559\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231657594260211af89346a9e476a60000\",\"sign\":\"A92EA6A3531B7FF6A5CC877F381F1CDD\",\"timestamp\":\"1614070679\"}"
}
payrequestid: "KB202102231657592076075925174272"
model: ""

2021-02-23 16:57:56,973-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2411459558365406046521695704]]></transaction_id>
<nonce_str><![CDATA[z3WKRUCQ976Jrs2m0vDcGb5NTSXquy1M]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[37BBD0552A3731A15AE1BB87ED22729C]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231657592076075925174272]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>487</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165756]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:57:57,076-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:57:57,077-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:57:57,084-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:57,084-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "30392902921848"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "kRc6lbo8OjVXsfmyniTuFrx2p5QNSzvD"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:57:57,174-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5791e80b7ff64a6a89310f9566eabaa9"
s_p: "ZW81aXVuMnRyMjhZWjkxeVp0ekNRZmM4YWZNSkZBazFlaDZRTjk2UE5aenVFaEZWZkh3WEdNUDRjTnZ4cTVWN1RZb2lxa2pQbktGSDBhVkd0djQzbXpQMUxPQUFXc2ZEVkp0VEZJN1hFak5pTkpWWG56ZXFqYzZwRmp1VmJVWUJ6NzJWTnVNcmJVRkdMSGZxTFpxUmxCb2szeG9MRk9xamo1U0ZhUm1uek5ackFlVnh6U3JYT1JYZU1mR0pvaVNBdUM5dGFMd1A2S1lVTU1QUEkzdVcyNlcxTkc5NkREd3pEZWpPSGtnM3AxbUtTU1dCcUNWTTdEaWhQNHlKNGZ5NEhieGVjcHlCWW52TTBPQUJlWVBvaVN1eW03ekxtc3VRWkVYZnRFVHZMUHZ1c2lQRWQ4QzF2SElnQnhocWw1U0lSc2QwWkZ4cHdMV2FHZk9NODBWVThGV0F2MzliRnc3U3VRTGVIUzZMamR4cnVtWjdMSzlWRHVnRnJjbGdOTU1wM0N2VVFqdDRyWVVDb0ZGY3JiM05XdGpmd0JBdUpkVnhVSUJOVGc2TzRIWGtqZ2VoWjRLNkc5MGR4ZXhoWUxPME1QWjhvRlJZNUQxWXRNTUZDRjZMdTAySnhQb2ViNzFTaHJqZW1vM1ZmTXh5c1VvbzdhaHNNODdtZ0ZnRGJBQ0hEZFVMckI0TDZvRjhFMnlVQmNVQVJsRk1iNUdZeEdHYlh1QWZmczZ2WFVzWEx3T1JTbW4wdVlnZzFHUkt4aDc2QWFWdk9kTmVIZEowTWs2N2xOd2pINU5XZ2toRFFLSkVRUWNNbEpBZXZ0TGNaamlNbFJyNFh2Mk03bENqa0J4NzdzU2RLZzZuQWdBMWNOVEFsR2JxTm45c2YyZU9KWHAzM0ZER0Z5dTdMN1owdEplV2kwMU1QZUZPNWlrMnZLU0VoYjBpOGlvVVp4cHBRY3NJT0RRRFBENDI0ZGE4cXdtSW9URzhUOWJjT2phU2VIUERPdmFLS0xjUzc1MmV0Y3hPMndncnJES1JQcE44WGp2N0hoWXNuMjVnanRwc2tkMlE="
m_p: "o8yx6bH81m1cJ3bs6P8ArzB503TV7crr44x4r42dcLsrzsE9MVp164RtvppzH5Jl"
e_t: "1614178679650"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:57:57,176-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:57:57,176-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "5791e80b7ff64a6a89310f9566eabaa9"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "MrbUFGLH"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231657592076075925174272"
version: "260"
queryType: "PAY"

2021-02-23 16:57:57,229-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.87"

2021-02-23 16:57:59,230-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:59,230-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:59,234-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:59,234-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657592076075925174272"
2021-02-23 16:57:59,238-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15035, 'pay_req_id': 'KB202102231657592076075925174272', 'notify_id': '2411459558365406046521695704', 'partner_order': 'xVpMOEqecmWNUbGIT7B1R06HrfYD9inP', 'amount': 487, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 602, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 59), 'success_time': datetime.datetime(2021, 2, 23, 16, 57, 56), 'modify_time': datetime.datetime(2021, 2, 23, 16, 58), 'trade_type': 'PAY', 'kebi_spent': 17, 'voucher_amount': 98, 'voucher_info': '{"cutAmount":"98","id":"62299703","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299703', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:57:59,238-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:57:59,239-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231657592076075925174272"
2021-02-23 16:57:59,242-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7721, 'pay_req_id': 'KB202102231657592076075925174272', 'partner_order': 'xVpMOEqecmWNUbGIT7B1R06HrfYD9inP', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 602, 'amount': 487, 'kb_amount': 17, 'voucher_amount': 98, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 57, 59), 'success_time': datetime.datetime(2021, 2, 23, 16, 58), 'modify_time': datetime.datetime(2021, 2, 23, 16, 57, 59)}
2021-02-23 16:57:59,243-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:57:59,243-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231657592076075925174272"
2021-02-23 16:57:59,246-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:57:59,246-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:57:59,246-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:57:59,247-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "xVpMOEqecmWNUbGIT7B1R06HrfYD9inP"
2021-02-23 16:57:59,250-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 183, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_xVpMOEqecmWNUbGIT7B1R06HrfYD9inP', 'partnerOrder': 'xVpMOEqecmWNUbGIT7B1R06HrfYD9inP', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 17, 'count': 1, 'r_cost': 17, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 58), 'updateTime': datetime.datetime(2021, 2, 23, 16, 57, 59)}
2021-02-23 16:57:59,250-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 16:57:59,250-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:57:59,251-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:57:59,254-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:57:59,268-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.17', 'batchId': '39438465523886806295147351691854', 'bizNo': 'ZjxNC4yk3mVEzUSHYtfipcJR8Fen97us', 'operateType': 'PRESENT', 'requestId': '97092050696491525118878709638038', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614070679264})
2021-02-23 16:57:59,309-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.17, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:59,322-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614070679319', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.98', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 16:57:59,340-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299704'}], 'vouIdList': None, 'batchId': 'ea6dd5f1e857477b89a15875b3b1020e'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:57:59,353-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'ea6dd5f1e857477b89a15875b3b1020e', 'batchOperateType': 'PASS'})
2021-02-23 16:58:04,393-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 16:58:04,401-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:58:04,401-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "98796644651280"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "3RxCa1GqF9sKkXVMdSAnUJH5uPiyhY8b"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:58:04,485-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8f2aafd417f9437ca77c2c5d8d28114a"
s_p: "Q01UVFI1a0hrQTg5UHNXYTUzVXVjbm5nUXBuTWRRR2xoS1BPTkhrbmZPSjk0VzZHSTlEYWNyWDFObXlUb0pUMERablhpbWtidVZZMzk0OG9yNkZoNkg2YmFhTDRjaVQ0S2NLTzBoTEdtenV1SnA0ZWE2cGRHcjJlMllUOW9xNk5lckhReDQzR3BONWVVZEE2d1pRWk9tcEtMZFVtUDhnSGdUY0ZpbWc1N2h5SHk3bVpkSHRnZ0lKZnoxUlByRHJOUzBBcnhzc2kwWjBHbnFNY0ZLQmt1eWlDT0I4T1R0U1FrRVcyV2JkcW1KNTZZdmxWQkNISXBER09iMDc5NnpEcTlFQkM1WUtWVW5HZVR4ZldqVDdBSHVjVEcyRDQyRFc3RFFJVFBpN1BMWnRDSURRdjNwcTdzaHlnVmpkRk1rNUlVZEN4cE1TSWRoT0FPNmNCcml2bUZKZVJGOXh2UUtxZXo1dUtDZmg3ZUZXSHV0cGhBRHI1aFZJeVlBdVN2S0tWRXc2SXNnQ0RxWDZrQjlnbDZxanF6MjJpemtsYnl4QnZsSW5hT21ZQ0pSVUNHM3gzRldLY3RZM25DRFAxNjhsVjhHY1czNnBuUXI3aHQ2Q215djhZYmhwVTl1YndJYlF6aVlmeGxLdjgxWGFWS2tEM1BDV2d2YzAxbWlXNEV3WTVnekhTRnZhbllPaWMyNGVra250WEtMNlVaZFFFblVPbTlVa1BZRlM1U1V5bGVFQ3ZzckpaZ1MxU3BPR2JiNEdvOU5oYzJycGVwYzVHZmpuWUhkU0dlUnlXSGxKTmZpTWQxMWM2T2JBN3FBSHhBbnBtUnhCR0tFVkV2b0k1dUdDRkN2YjRsR05rVE5wOE5WQ1doRGlTenFpbTRrNDJlNWdva1BaR0xUdVJXSml5MUU0a3hCVWJpbjFITFJ2Nm80Y2tIWDRCRHJ4RGxkdmhuVnk4OTlLS25ia3pSb3czcm1VTVhWTWFJU2dJQ0VsZ3R4R2NSQjJrdjNVbldMc1k4SnYwd1JRSDhFd1RLMklMQWhxTFNIZGpOTlFIcXcwQVZHeFU="
m_p: "gW5093J31lfma2ovAm1wAb9wqz7fK0DP0p7WC5972J6TVo1B35Ce9vO49bZCGA7u"
e_t: "1614178686964"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.17"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299704
    type: 2
    minCousume: 100
    vouCount: 98
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 16:58:04,509-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:58:04,509-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "8f2aafd417f9437ca77c2c5d8d28114a"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "oJT0DZnX"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.87"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "K8qUMznVGuHSXNhFYcx6Jw5tadQP7k1I"
}
sign: "cBmKLC8N+VkiB5YDSZusfiI9TaaqcXwc8aKvkLE3L/Q8vdmfbyOU+0mhBufd/YumxKcJZ2wSPCeYs3/FwZ1tH+u9AjgCE6yi5XGhdb29rxdbitEzxFx+nkYDblwrXYUfaynyqmG/QlcgjgGqEiQhIM5lK6FYntV98g0XXwrDG2Bw8KryLgt4+Ek3ull77aDyYbqWWaPHJV6ft4WL2v+RzxJV67lZGHZdp14yAIBy6eOfmUjWVk6hzBH0JVxY+XqrRUp8Q6XGjb5f0Z64oCOr2HroIM3bV36xjk1WvxEne0GBcr9map7ZgNp0YVwYLgKCBJChQiaRPvLQl3Bll1Kkcw=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "8f2aafd417f9437ca77c2c5d8d28114a"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "oJT0DZnX"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 602
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "K8qUMznVGuHSXNhFYcx6Jw5tadQP7k1I"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "e77mkWe3+x/Rgh+tyiYfapOU9psYZDw/uEWjKfG825aaqEkspUHY6zi8Y213cD8hLfqSBverWn9uo9GpOl0gGIhRhpZV8d4uj5/GlGTSIcOCOJYyC+3JpAy0qu5+t9Gq/oedipVnJdOnZHjZ4tbD4orvnr+l8Yh4RY99S6gDtkw="
  appKey: "1234"
  voucherId: 62299704
  voucherType: 2
  voucherCount: 98
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 16:58:04,832-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"fc6358080ffd430caeb923f598ef7801\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23165807276139865d5be27d8faf630000\",\"sign\":\"11BA92D638C19BBD1686C87F504FF628\",\"timestamp\":\"1614070687\"}"
}
payrequestid: "KB202102231658072076075925114432"
model: ""

2021-02-23 16:58:04,832-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7456609032637927068954275227]]></transaction_id>
<nonce_str><![CDATA[ktmda25WrXOoTIKpigDqb8P3S0C6R1JZ]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[3DDF34BFDD32E133675B8DF90A472E4E]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231658072076075925114432]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>487</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223165804]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 16:58:04,941-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 16:58:04,941-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 16:58:04,949-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:58:04,949-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "47738721731464"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "D4h8ZorGPLtQ70jfIyCdK9m6vT5lex3i"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 16:58:05,030-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2b3d6e0963654bf895dadedbadd19fd3"
s_p: "ajRtY0hrVTNlS2RGTWd4ZkhyQmxocW1VWWhITXhtRVplTWxqNnRHMlVPam11Q3JDNlF0WW9nUWZDTkdrRjdiZzhyNUpMb1NtVkhHclpvUG1JUWJjZlZYNzlxaE04ZUdsUk5KQ1hLQUdSbWtWWDNVT0JMeFVPRWUxaE5wYlhFRHdpendzOWhQVFEydUk1UlVGUVlqYzMzVmtBT2VqTjluNVRxa2lzeHBjZWlGZ1hPalhmMGp6TEtpZVdlN0RiakNIZElCdHJxTU5MS21lOGk5VWNxdm1rOXVpeFNqMjBNTGJxd0Nycm1XVVRiM1dETGxTTG50MGVYbFpiRHNRcENsTDI0OE5Ja2xwV3RjUWhoY0piMEc2azJ4SzhtVE91VFBDanN6QlJ5dDBJSWNndEtTNm1ZZUkzT1E3MEJFaEk0SVRXbURHVVVTTVpnbVI2NzlTUHRFdWszV2NwVHVlSFZmWkFpWnZhOEV5ajMwU0RBNVBTYVR6b3JWeEQ3Z1BBYzJxcmJZTGZJdG9Ld0JraG5acjRpaldpYkFaNUFBcnRBeDBUQjBSNERaWTNsTlpGRGVPQmdiMHJBbjJCTlNsUEtraDEzNEgzREU4dWJJWWc0cUV3UU4zRndhdU9heDVMdWhDZWdYRG1zbHNtQjJDdHB0R0xkdnlwa0c4YXl3OHExQ3QwN0ZRWUlVRGY0ZlB1U09JeUIzR3JUeldTZzFCWHBIY2NQcHBibEw1cU5aa3lqU3UxdUp4SUZ0a1V0UldWU0w2VE1IblhjQkVGTWpNdnlwWmlRcm9DUG5WREtzSzdBczFYQnIza1pEUkwwMk5pMjF2d3FTMnkyYW5DWFlVUWdnZnpQREIwNm5TTHExSU5WU25qd1hTS0t3RU5CTmtGY0dTWEZsR1dmVld2YU84UkdqYnlEbWV4VFJmbWFlZnZTcXZaSWR0WUN2WmRUTHByTFRYY2xoNUxqeWN0MEFlam9nZEd3Z013Yk1wdFRWMFlJNHRyQ2tHRjRxTlVycUUzaVVtNjZqbnI2cktQdDRzOFlvVnJYcjM2OXo0SmxmSjhidTk="
m_p: "ELF6lo6aNfq3JTLUHOnCyHwHg7tj1C046kNct1VXOBNg4vQQVLo9v1cAmEXoMdRA"
e_t: "1614178687509"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 16:58:05,036-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 16:58:05,036-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "2b3d6e0963654bf895dadedbadd19fd3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ejN9n5Tq"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231658072076075925114432"
version: "260"
queryType: "PAY"

2021-02-23 16:58:05,092-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.87"

2021-02-23 16:58:07,093-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 16:58:07,093-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 16:58:07,096-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 16:58:07,097-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231658072076075925114432"
2021-02-23 16:58:07,101-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15036, 'pay_req_id': 'KB202102231658072076075925114432', 'notify_id': '7456609032637927068954275227', 'partner_order': 'K8qUMznVGuHSXNhFYcx6Jw5tadQP7k1I', 'amount': 487, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 602, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 16, 58, 7), 'success_time': datetime.datetime(2021, 2, 23, 16, 58, 4), 'modify_time': datetime.datetime(2021, 2, 23, 16, 58, 7), 'trade_type': 'PAY', 'kebi_spent': 17, 'voucher_amount': 98, 'voucher_info': '{"cutAmount":"98","id":"62299704","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299704', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 16:58:07,101-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 16:58:07,102-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231658072076075925114432"
2021-02-23 16:58:07,106-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7722, 'pay_req_id': 'KB202102231658072076075925114432', 'partner_order': 'K8qUMznVGuHSXNhFYcx6Jw5tadQP7k1I', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 602, 'amount': 487, 'kb_amount': 17, 'voucher_amount': 98, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 16, 58, 7), 'success_time': datetime.datetime(2021, 2, 23, 16, 58, 7), 'modify_time': datetime.datetime(2021, 2, 23, 16, 58, 7)}
2021-02-23 16:58:07,106-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 16:58:07,106-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231658072076075925114432"
2021-02-23 16:58:07,109-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 16:58:07,109-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 16:58:07,109-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 16:58:07,110-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "K8qUMznVGuHSXNhFYcx6Jw5tadQP7k1I"
2021-02-23 16:58:07,113-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 184, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_K8qUMznVGuHSXNhFYcx6Jw5tadQP7k1I', 'partnerOrder': 'K8qUMznVGuHSXNhFYcx6Jw5tadQP7k1I', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 17, 'count': 1, 'r_cost': 17, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 16, 58, 7), 'updateTime': datetime.datetime(2021, 2, 23, 16, 58, 7)}
2021-02-23 16:58:07,113-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 17:16:07,299-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 17:16:07,574-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 17:16:07,615-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 17:16:07,616-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 17:16:08,038-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 17:16:08,041-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 17:16:08,042-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 17:16:08,045-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 17:16:08,046-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-23 17:16:08,046-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "f5aN8hnScE02tsl1zwGrQAxDigVJMKeC"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "0.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.01"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "0.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.010.01"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-23 17:16:08,097-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: false
code: "5555"
msg: "\345\244\204\347\220\206\345\244\261\350\264\245"

2021-02-23 17:16:08,097-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8188495507075371316346765615]]></transaction_id>
<nonce_str><![CDATA[0bBExo9kOsqDZIX2zHmGu8dvinJU4eT6]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[C309F862C2CA1219C9A9FB45E5F95EC9]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223171608]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 17:16:08,256-INFO-wxpay-scarlet-55-<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" isELIgnored="false"%>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
	<h2>404! 您试图访问的页面未找到.</h2>
</body>
</html>

2021-02-23 17:16:08,264-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 17:16:08,264-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "69334283225579"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "OG9EDRiAmjw75Vlc8UJKHuPe2BgXpCN6"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 17:16:08,353-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f608f7a0a498428a81e3325d2e46bd24"
s_p: "a2FYSmdxeUMwb1R5M0l5VEYyaWRabVAyZGRiQXFaSmZHMlhPdzZGSVRCejhqWTdQM3pjazBVcHU3N1lkNVI5aURJeVEyaUk0S1RuSDhvQXJuY3dRR2JXTWpCeVdiTFRMSTBSaWJXaWMxREtSZ0VwdjZXSWxCeHU2cm04QmtQZ3N0Q0ZJOUkwTDJKU2JCd2REMjY0SEdqOUV4bW9ra1ZHU1lRUHFid2hhekdmeVNWVjJmaXlsc0w5SDlKdWUwQnNGSjVZWGpEc0JrdHUwR3kxWXZxc2NFOXlycGNMUTBha0hzd1ViR3hLRVhOV1VxSFY3T1p6VjVITElNSmtOcEVVZ0ZiMWtxeThwS1hydEZ6a2VjRDdNS1hTdTVsbHZCajlSS0lEZVVmZDhSOTVzQlFVRlBBaktDcnhaWUJkWk5KZ2VuazFUNnFrcWZHY3BDSklBckd1Z2RaQkhBVXBFRHcxVENiSWxINDFLY2NVNWhnZ3lLMmFrVHVCNFR2N3FFSmNaeGxwY0pSaFBGUmhsYjBXWnV5bTduZVQ3MnlTdUpJQ0cwOFVlSnRZYk8xNmJ2NmxqblYxNG52bEZCRUVUdk5CSXhEMXJ5R1lBRWdaZTFSMXd5a0JuVFc3b3JxVDlMa2R5MzZlRUgzdXVYZDVIMm1Kejc0UU53ZE1DU012M3dERk1HcXBtNUNiQzdFdmVZSkFsNXBQcmdhcjJrNWdDdmJvNng2b0JQV3h6aXpaRUN6eWRvd1JjdUJxUmIxb1czMFNwRkZzNk9qUWV3a2lDMDBCdnJWT3d0cUlkOWN5Z25PdkRDRXpUT2pudDZBYlE1T3JjcXdDS1VoZktTUjE3d0xhR3RIMHI2eHlFM1ZFcjAzWnhEdkVUMU9GQWtWYXRuUFJTQnZjWElyWmxJQzNNZTNoaThPRFJZYTFCUGlqWEFKR09tRDkwakp2U2l1dkk0UDBEeGd1VGNsYkVmTUtxb0ZyRDhxZ1lrRmY4M0taVGRGRnNrcDk3UXhLeld6MTh0ZW13MUJuYmZKdldWUkZDT2hwRjUwZUN0dTJXSVlMcUd2Mlg="
m_p: "q7Ic8swyhUAfenI6k68pb4TK0UK284n4e95bfc9QH8Y0M97WlK8fCz9s6WFp0HRQ"
e_t: "1614179770827"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 17:16:08,354-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 17:16:08,354-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "f608f7a0a498428a81e3325d2e46bd24"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ic1DKRgE"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: ""
version: "260"
queryType: "PAY"

2021-02-23 17:16:08,397-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2004"
  msg: "\350\277\233\350\241\214\346\266\210\350\264\271\350\260\203\347\224\250\357\274\214\344\275\206\346\230\257\345\205\205\345\200\274\347\273\223\346\236\234\346\234\252\347\237\245"
}
discountAmount: ""

2021-02-23 17:21:15,958-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 17:21:16,206-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 17:21:16,248-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 17:21:16,248-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 17:21:16,609-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 17:21:16,612-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 17:21:16,613-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 17:21:16,616-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 17:21:16,617-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-23 17:21:16,617-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "IV45nl61bLGFRyhQXt8fq0WTd3icg9BS"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "1.0"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "1.0"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-23 17:21:17,110-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"f56ea8cf702443888074602755302694\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx2317211953700737e4efba25b88b020000\",\"sign\":\"85ABB25F47FFF3A4351D23A1FBB263AB\",\"timestamp\":\"1614072079\"}"
data {
  payRequestId: "RM20210223172119Y6BOADRN6G408022"
  payUrl: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"f56ea8cf702443888074602755302694\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx2317211953700737e4efba25b88b020000\",\"sign\":\"85ABB25F47FFF3A4351D23A1FBB263AB\",\"timestamp\":\"1614072079\"}"
  parameters: "0000"
}

2021-02-23 17:21:17,110-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4122219125131287367442276516]]></transaction_id>
<nonce_str><![CDATA[4enXiQpFwMNrx19f85dEjDJo3kRsay02]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[AE3AF9AD9BC531BFD10B71A7E8C3154A]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210223172119Y6BOADRN6G408022]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>0.01</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223172117]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 17:21:17,265-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 17:21:17,265-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 17:21:17,275-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 17:21:17,275-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "03420869703740"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "3cCm1odDUfL4Mz0kgKZ2BuJ8vi69sY5S"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 17:21:17,368-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4e85d1de97bc498da0644e88b1b1b780"
s_p: "dDVTem1MZVdyZTUyWUhsYmg5cDJRVW1wVkcwaVpuUzhxODR0c3gwamhJUzRIcm1TbG5uVmU5OW8zV2hsZ3pSYkozNlFudUw3Zll2TDRIcWFMNjNLeFFrRHZxaFhkdXRuZU9GWjhLZDU1SGdUMm05SjI3VU80V3JsV0twdFRrVnM4T3g4cU9jMXBXY0hQZVQxSVNObFJMUFZUcGF1QldSNU5zMVZtVXVlTW9Xc2NldnJtdzAwS3RmbUFlNjJja3p1UVFNbEg4UGF4a3BLNTZXaDV0ZXFDamZPSmFvdnBFd3o1OFlNSHpwTmdPUndkQThiVHYxdW5jN25XMG1PVXFvNUdPYmFCQlJmRFZ5aGp6TGNIVldZQkszbDcxR0JxdTh3Vmw2bERIVHNmV1hLVzl5R2NSbkRoT2NySWRsR05sVWl1MmlSbWE3QkZPbnY1RVNEbU83TTBLckladnM5NEZ3ZmRCVFM0bndTTGVlQng0eFVab25qckRTZlhGUFpqQWxJbVEyVWkxbTBEaVdKRjN2SHE0Sjc1SjBzajVuRHB1ckJ0NHFwMktCVHRUN3JmNUs4TXBxNWl4SkZsamRDOUNaQ3VGeDlLN0Z4R2FuOEg4bGNqN0dyVGNSR21pejZHWWFPSGs1TXhvVWpRMldPZXRwaEx6aENDUURVeUhBVXNob0ZVQzFRYjljMXNZbElxY3dIRWVnenN4SkI0Tks5RjBSRmhMS1ZHRXZ0TXVZVlBIR21URkt3TU84dEk1Zm4wQ2pORmswSmhDY2xYVjh1VVlXRHY5MDg5SUV0UDJWdjBLcDdpTVlPYnBLT2hjcUlaSk1pNDBBZ2Y1OVB4bGdVRUtpNWZXTzZHYjBvb0VTWkRwRUZIUEUwZkVDeEFZWU1KN3dTNHZFNDBpSE5JUUZIWGdKVDBReGxtcE1QY3FxYWI3Zm1pbTZ6Q2VLT2R4MFBtS0NtQkRtZVB4RGtSNFR6a0daclpPTXBld0ZUVHoxcGN4ZmZJME8wOVN4VFAzc2JmV3ZEbFJVSjRUUnJPM1NQNUZNYTNKZmlMSDNqd3NWekxFY2g="
m_p: "5GgZ86Y2fT931cQe4h1B05zAY0545rfea60c2nHTEIKQ0JgO91sy88d51xoi91V3"
e_t: "1614180079838"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 17:21:17,371-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 17:21:17,371-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "4e85d1de97bc498da0644e88b1b1b780"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "3KxQkDvq"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210223172119Y6BOADRN6G408022"
version: "260"
queryType: "PAY"

2021-02-23 17:21:17,418-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.00"

2021-02-23 17:21:17,419-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "IV45nl61bLGFRyhQXt8fq0WTd3icg9BS"
2021-02-23 17:21:17,423-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148650, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '72724313', 'notify_id': 'd2b76702e07740198c268fc644f5785a', 'request_id': 'IV45nl61bLGFRyhQXt8fq0WTd3icg9BS', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"72724313","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"IV45nl61bLGFRyhQXt8fq0WTd3icg9BS\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM20210223172119Y6BOADRN6G408022\\",\\"sign\\":\\"bFMeqSWypeS3bTK9eiGtpCPWsRZ3E8PfzhXVHCgiQoDGvlKN3l3rcF+AY6d+LiSA7JbmB068F3TQEZtJIEkfPM3Lc6QOAWRv2/NbXvMM82mnn7hptZUlfMjWWaRRLrPAqIK/huhpEQCv6ob2AwMgoa0bI4Th1dnzgsWzIrsPMAU=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"NO_LOGIN_PAY\\",\\"sendTime\\":\\"1614072079753\\",\\"productDesc\\":\\"话费充值\\",\\"price\\":\\"0\\",\\"notifyId\\":\\"IM20210223172119793\\",\\"orders\\":\\"NO_LOGIN_PAY0.0072724313IV45nl61bLGFRyhQXt8fq0WTd3icg9BS\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"72724313\\",\\"paySuccessTime\\":\\"2021-02-23 17:21:17\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"IV45nl61bLGFRyhQXt8fq0WTd3icg9BS","signType":"MD5","successResult":"OK","timeStamp":1614072079754,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 17, 21, 20), 'insert_time': datetime.datetime(2021, 2, 23, 17, 21, 20), 'update_time': datetime.datetime(2021, 2, 23, 17, 21, 20), 'extra_json': None, 'remark': None}
2021-02-23 17:21:17,423-INFO-lib.common_biz.fiz_assert-117-通知成功
2021-02-23 17:22:44,321-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 17:22:44,596-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 17:22:44,638-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 17:22:44,638-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 17:22:44,998-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 17:22:45,001-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 17:22:45,002-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 17:22:45,005-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 17:22:45,006-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-23 17:22:45,006-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "EL1oiDdO5jCG2uXSIzgJ3m4s7hZxyvWM"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "0.01"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "0.01"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-23 17:22:45,441-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"6d4591caec0e4489b076ec83c14b8304\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx231722478765181315fa71d1cd81d20000\",\"sign\":\"3BE551B97E8342667C6EA965F39716EE\",\"timestamp\":\"1614072167\"}"
data {
  payRequestId: "RM20210223172247JUN8FQUBPC127652"
  payUrl: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"6d4591caec0e4489b076ec83c14b8304\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx231722478765181315fa71d1cd81d20000\",\"sign\":\"3BE551B97E8342667C6EA965F39716EE\",\"timestamp\":\"1614072167\"}"
  parameters: "0000"
}

2021-02-23 17:22:45,441-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[0881979049740597936467505353]]></transaction_id>
<nonce_str><![CDATA[ALns0zwpB8loKHDGWStmXdOQR2jUy5Fh]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[36A906C6B1526D243FD6FCBB43946743]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210223172247JUN8FQUBPC127652]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223172245]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 17:22:45,556-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 17:22:45,556-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 17:22:45,564-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 17:22:45,565-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "31480940695149"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "63lWKzwEJuhZXdY2p0nqs5Bc4aVxLer7"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 17:22:45,650-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ed01269fb5774956a546c715ad017daf"
s_p: "bFgyNW05Ums0YWFQQnluTHc1ZGxaQkRCTmF3RWdkYjg2VXhVMHh1VVFydXRIWHhybWFZcnBNVTN1RWVpelR1cnl5R2hDb3h3bWVNcGxITXh3M0U0RHI4M0R6MzVsTHdneTMzR1pUaW1KS3lXRkY0MEJJZE1kOUdzQ0c3UEU2WXhIT1RIVXI1YkkwSXVYT1lDcFEyR3RQcWZveG5ZektkMGNQR2pmMHZ3MXlNTDkxSnB2Vm02anNPUW9qSVVUa0Z3d0cyc1VoeFNOWlgxM2pqQjNYWld0UGxHaGtVWFlSWTFnWktHTGZHOVFoYjdWUmhnSVp6ZGpiVWhjTVZXZ0NuVGw5aHdEWnVXVmZJdkxIeUNlaHR2QWtsY1BNMWdrUXBDZDBkd3oyZDhTOVMxSk1pckVpVE1tZE4wMk9iNFZaeWUydlk5UHlhclF1d1NCdHZyZGt3djAzZjB5TEdDVDZqWnI5VnBZc0EyaURsMDV1cWFxMVdLeWU5ekRLcXFhVTFyOFp5Z285UW8xWVpSbmhnU2JCWG5OdVhCbmJONkNRa2FETVdTamVLWjZUYk9zSGxQNnZXU05DRU1IOGtWdXpxUGJXb3IyTWdpUVl0cHltdnZ6cm8yeThCblo4dk91YU1PZ09nWUxJRFFDNTFHRzdmbmlvVHB3MTJqQXBRMjg0QjVoQ2lQdE1yMXQ5YWtNZFV6RTRMZnppV0hCaElOWkJWSmxDQ1R3bGx5YWlJQnpHelQycFoxWFZEbzE2TTVOa3NQVjFGeXMySXl2SW1sQnI2OHpBTGZjRlBtS3EwczVPNVpkN0ZNN2kwVmRjSE1XZ1RsQzNwYnlUOExlUjRwSnJOVWhoTWdwZzB5ZWM1ZnVaSXl1TUtDYkFjMEdCTjhid3pWMllrODJndWN2RElId2VkeTVYNUNKaHRGZmRIcERwTnpoSWRPNWZsRTJZUW45dkMwU0VFbEtiNzRDWEJEelVqWjU5eDRBSU1DRXpJNUdIY0RDMWJZR2Q0Snc5bVdwUGNscldFeEVVSmtYS0FzODR6RW1zemx0NzBPRmlJd1JPOTc="
m_p: "8TLsjDdnMhx6kdb55tzLU9doS1R3NGMug01FlPOACE6032k128zi8Uy89291lfPn"
e_t: "1614180168122"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 17:22:45,655-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 17:22:45,655-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "ed01269fb5774956a546c715ad017daf"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "I0IuXOYC"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210223172247JUN8FQUBPC127652"
version: "260"
queryType: "PAY"

2021-02-23 17:22:45,691-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-23 17:22:45,692-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "EL1oiDdO5jCG2uXSIzgJ3m4s7hZxyvWM"
2021-02-23 17:22:45,695-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148651, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '72724313', 'notify_id': '22b12da4eabb428c876f86f1f082ef77', 'request_id': 'EL1oiDdO5jCG2uXSIzgJ3m4s7hZxyvWM', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"72724313","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"EL1oiDdO5jCG2uXSIzgJ3m4s7hZxyvWM\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM20210223172247JUN8FQUBPC127652\\",\\"sign\\":\\"emD5ysvUVlkmrV7XQN10nLWZXzg/X53HLXJdtUxnZeLJitU0/QbCxxZAk3+N/gZMpE1X2naixgH+8fdN1aPvR2ewIpzlgMy/h6bgmGXF0DhqnmEQv8ScANsoZpu4hPbvBljh3pE0G2IMCqFB0q2w8GQ7F1cxhK87kTcQapIaJx8=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"NO_LOGIN_PAY\\",\\"sendTime\\":\\"1614072168047\\",\\"productDesc\\":\\"话费充值\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM20210223172248413\\",\\"orders\\":\\"NO_LOGIN_PAY0.0172724313EL1oiDdO5jCG2uXSIzgJ3m4s7hZxyvWM\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"72724313\\",\\"paySuccessTime\\":\\"2021-02-23 17:22:45\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"EL1oiDdO5jCG2uXSIzgJ3m4s7hZxyvWM","signType":"MD5","successResult":"OK","timeStamp":1614072168048,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 17, 22, 48), 'insert_time': datetime.datetime(2021, 2, 23, 17, 22, 48), 'update_time': datetime.datetime(2021, 2, 23, 17, 22, 48), 'extra_json': None, 'remark': None}
2021-02-23 17:22:45,695-INFO-lib.common_biz.fiz_assert-117-通知成功
2021-02-23 18:07:43,686-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:07:44,000-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:07:44,059-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:07:44,060-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:07:46,937-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 18:07:46,940-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 18:07:46,941-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:07:46,944-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:07:46,960-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-23 18:07:46,960-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "QDCIJaFBGcXE6yd8fURxoZ5Yz9rjm7bt"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "0.01"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "0.01"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-23 18:07:47,401-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"61bc557be4484fc3acf55b99cdeafe55\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx231807498487012afbb7dce09180070000\",\"sign\":\"8722FF8F6CD74967CBA89E9F4A0CB066\",\"timestamp\":\"1614074869\"}"
data {
  payRequestId: "RM20210223180749693GTJ6PGH674472"
  payUrl: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"61bc557be4484fc3acf55b99cdeafe55\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx231807498487012afbb7dce09180070000\",\"sign\":\"8722FF8F6CD74967CBA89E9F4A0CB066\",\"timestamp\":\"1614074869\"}"
  parameters: "0000"
}

2021-02-23 18:07:47,401-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9959276606160511588270252301]]></transaction_id>
<nonce_str><![CDATA[IEnGW5OXvYLcCjxlKzkQroqAUpb9d3M4]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[B5922265962493CBEC59F80DC255B918]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210223180749693GTJ6PGH674472]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223180747]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 18:07:47,952-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 18:07:47,952-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 18:07:47,958-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:07:47,958-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "70798825149155"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "QF42biDPMGey5HYOShLKm0N1csrI39J7"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:07:48,036-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "691f77f82a8a462089c23e8335e2ba05"
s_p: "NXVUeDhVUmxUcjJYME9ydFl3aThURjYzTnIydU9ka0Z5MjVINkNST09XMVZWcW5nRjUyUVEzektXTElBVkxZSU5CZkFwNzBuc1BWaEJYZ2R3a0c3VkdMMndsNmdyaVRLalZMZDMxS0VsemJ2VENBTlBTOVNUVENYQW9BNmk1NGZwS21iNXY1RE1ZTElwZ2N0TkZPcUpUR21ueFp4Rnc4dGcwa2RGN2V3RGZkODN3REZtZ3RWSHZWRVFtajlWVTFRbEk3eDZVb1J0WXBQb2FOOFprNTd5SEFDV1N1QUszWmJITXlubGJxVUdBRHBBbkdJMFo4eTVTSGI4cjdDMTdTckZtbHQ0SkloTjR6Ym1Gckk5ZlFHYzF4eHZlVVVNVmRyNjI5Q3BWUWVjdUlacm1odHBlMEVwSEYzNkVUTm54OVhpTGc0d0pIUkM2dUpUWFVOY0FDWWtKM3U1VUlTcUFqVWd4cW5wNDVWb0hMd2JYTGkyVzFSZE93Y0p5ekRES09OVVB1Q0cxWFZwdWVtYXNQUWEwaW4yTHluQXI2R2FIR2twcWZkTjVZcHViYkprejJKTDRCbVJHa3V4bjBiakhOa3ZRM3VaeFdTV3JXeHg1eTZ3ZTRiTFkzTHVzUjdNZDVOWGxtbU5WdUllU1dWSnB3NmdCejRGMnZDdUs3aHZubjIxR0JQam9vd1Jkb3UyeXRXOVAxcnBNMG5yWEhpU0FtbDYzQ1JPbnYxQ09xdWhzeGswMVRPMjFCVUxvWHl4Qjd5aVdjWGlWWjJGUTJqZmtkZDVrekhJQnZ6ak56WEtoZVA2eFJQeXZvT2JrbFhVM0lhYlZuMVNtTU1PcXNEN2dUMWJrMWZNejJSUzRTSWhtZzJUdHhwUVRCaHhoanVMSE1MZVJSTlhpMFYzd1gzUmVIbGsyR25CWGk0UG9hRnFMN1pVRHJzSmtHbnNsNEFjdVlONkg1NWg0OGx2YUZUcjl1SUdFcUMwelEwSzdDYlhIZ3NFbXlaT3RhV201aFNRQXMxVndqTmE5Y1hEc3BkR1JCbFQ5bmRXOXN4cTFuY28zZjA="
m_p: "3LW01572f3drJpEjXkn29j02O99F2G62kKra3GaNc6E7Vr7NR44bu3OA2f9NUune"
e_t: "1614182870499"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:07:48,040-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:07:48,040-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "691f77f82a8a462089c23e8335e2ba05"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "VhBXgdwk"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210223180749693GTJ6PGH674472"
version: "260"
queryType: "PAY"

2021-02-23 18:07:48,105-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-23 18:07:48,106-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "QDCIJaFBGcXE6yd8fURxoZ5Yz9rjm7bt"
2021-02-23 18:07:48,110-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148685, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '72724313', 'notify_id': '6e5d5296650b4eedbdfd51942eb6f231', 'request_id': 'QDCIJaFBGcXE6yd8fURxoZ5Yz9rjm7bt', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"72724313","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"QDCIJaFBGcXE6yd8fURxoZ5Yz9rjm7bt\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM20210223180749693GTJ6PGH674472\\",\\"sign\\":\\"bkHx4r2qdUGheDlb7YoYRy1yV41L5LJl3VJ4BNBOO7zt165skYjCMsz9xWqlLmorUdMqgaymF6TWfX01jDftzGjbs3Q/rrtGeFyFTMb6N/ncM8eqib1bbZDJpE3XRVsYl/9CWBWSR8gu5D2pikoqGBRhvoI36FqNBAiTbhOcSGg=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"NO_LOGIN_PAY\\",\\"sendTime\\":\\"1614074870365\\",\\"productDesc\\":\\"话费充值\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM20210223180750591\\",\\"orders\\":\\"NO_LOGIN_PAY0.0172724313QDCIJaFBGcXE6yd8fURxoZ5Yz9rjm7bt\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"72724313\\",\\"paySuccessTime\\":\\"2021-02-23 18:07:47\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"QDCIJaFBGcXE6yd8fURxoZ5Yz9rjm7bt","signType":"MD5","successResult":"OK","timeStamp":1614074870369,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 18, 7, 50), 'insert_time': datetime.datetime(2021, 2, 23, 18, 7, 50), 'update_time': datetime.datetime(2021, 2, 23, 18, 7, 50), 'extra_json': None, 'remark': None}
2021-02-23 18:07:48,110-INFO-lib.common_biz.fiz_assert-117-通知成功
2021-02-23 18:07:54,761-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:07:55,035-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:07:55,083-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:07:55,084-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:07:55,525-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 18:07:55,529-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 18:07:55,530-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:07:55,533-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:07:55,541-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:07:55,541-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "65789163788572"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "e8lhHVnLcjKEidDmfzC93QqAtJagZuI4"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:07:55,597-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c17109ba7ae74d80b79c749dabb47c7c"
s_p: "blYxb1RSV1RteFlWMDk5U04xb3dqRnBLOXREbTV2bVdJOWJOQTVBMlFUY1p2RkFaVHhFa21zN0pTV0NKOHNZUm5BNENMMktOdnlpamNtNm1jSGJkQWVmNnZKTkxhUTdJVjZYUDlYeWlKSk9oWG9YdWducEdXTmFyYjhnY2J6emlnang5MUNQcXMxVlZ1eFQ3a1lNZGREcFRoQmU2d2FNaTJHM294RldrNVh2SmZFb09RR0ZSMnZjZ1R4RmdzOFExWDdTbFNQUURXZ0trZUFTYU54OEd4bnNndmNnWmV2TGhmRFYyWEY5RWxwNVVLSjFvN0VVQ2phUWFuRjVmMWZEUlBjUjRhbGFxYnV3Z2RCdEpuZGZZNVJjZU4zWUJlcHBYTlU1TjJhbTJnbHBhSWZFY3F6UE9VY0ZQaUFFVktLY2lEcHN4Ykx3cmU3emZ1Q04yWWhFelRTd2lJVTk3SjQ0Y0hyUmVCZWN1MWpLdnhQaEJ0OWFIeHFYa1BCaDBjcjBpZkJsQ3ZSOFZYV0k3MmkwNjQ5MHlxZVBsdHF1STRHTWxZcWlGV1JZNUdabGV0WjVuZnBiZVBJSGZJY3E4N01ObzREZW5tSlFNOEZDazY5R1oxOFZYeHJBMUpoY0N1WlNxS0NtMlRwWjlVc2puNXJjMTl0V1VqNkMyUXJmOFdxWTI3NFNNZm9LNEFVMjFBR3NkUXVhUFlWZVpUR1BvQ2taSFExanpSam4yMHFDU0t1ZGFsUmJwMEtKejhmNnVIaGdlNVAzRW9BVnYyVE5DRjFXbWdPWTBJbzdLakw4QUNBbW9OSHMxa05BQTA3eWxveUJCb1NqOFRLOVVsaTUxMlJ0bFVjUVY3SnBwSjR4RUdPVzRQQUhHMm5XdTZFeXRmSWFBejQ1V21oMXA5MWNVQXBBMjVtQ3FjeE1yRVEzTEdGR2RoZmdmSGZ0UkN3WkRuOVE0QTBFSG1ZZ29YckFoQWVzdjY4Q3F2RVlXSWhrb1I5N0Z5REljYVpMZlBkQ2xVMXdBTDdYeWg3YTNKTHl1ZFllS0U2ZUZEZGxYaUdEbWxkVVg="
m_p: "7Lj7By7CGuGCSK50dQyc25J705iAHHm8125j0vhK3797rWWryvQJcD5E8v1g78Ul"
e_t: "1614182878095"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-23 18:09:56,742-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:09:56,982-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:09:57,041-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:09:57,041-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:09:57,374-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 18:09:57,377-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 18:09:57,378-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:09:57,381-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:09:57,382-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-23 18:09:57,382-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "vFlxUjcrXsekSuBCLbMPpft6iY0Ty7Kd"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "0.01"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "0.01"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-23 18:09:57,862-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"210bcbe3382648cd8d5dc8083b0a8f13\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx231810002801305b71d2d5d99589450000\",\"sign\":\"F3E23ADB4BFE14BEC7A21528AB5008F0\",\"timestamp\":\"1614075000\"}"
data {
  payRequestId: "RM20210223180959A6FKMYGB87114542"
  payUrl: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"210bcbe3382648cd8d5dc8083b0a8f13\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx231810002801305b71d2d5d99589450000\",\"sign\":\"F3E23ADB4BFE14BEC7A21528AB5008F0\",\"timestamp\":\"1614075000\"}"
  parameters: "0000"
}

2021-02-23 18:09:57,863-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1195731369650497273245787678]]></transaction_id>
<nonce_str><![CDATA[yTnHeqGg2hJr9RWfDYU7OSpiQdxAloKV]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[431773112B252E07312427CDA1D08CE9]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210223180959A6FKMYGB87114542]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223180957]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 18:09:58,005-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 18:09:58,006-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 18:09:58,013-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:09:58,013-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "39807820659952"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "6wrkWZbXufyGc3U8mshVzI0LPgjCoHQp"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:09:58,121-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "fc24434d972f4ba6b7027c6d8998ac82"
s_p: "TGppeHFyUFlwVllaYU5RZ3pWTndjVUVZWHlLUG10ekFwMVdtYkFMbzRyOUJtaWZnWGVocDBNdzhqME9kYVVDVWlndHZKd2FVV2RrYkpsTWRaZDE3dW9ZYmFKMkV4bGR3VXBuVm14WkVNZlVGa2I1cGRBVFVLcU5BaVVFVnNHUDQyYnh6NzVpN2lJY2htMzJTdE5WREhlNEY1YkVYMXBtVTE3ZXRlM2l1enJHakdTUHg0YmlDcXlON08zZHp6V1ZuOTRqTThqVlZqT2lEeHJhaVVrRlZVUnFhWGpVa1NXakN0WHM1aE1qaWdhbHQ2MjMxTzFMeG14dWdEc25leHlNOEp6RDBNWkxoVzlyajYwVXR6eHc1NE84aTI1Q1Z1YUtOR1FMeTU3T0FYelBLN0ZSMjdpSXBVZXlhb0RDYUtETkx5VnRHYUZ5bXhEU283VkVxUDlHR3Q3QWdCSU1Qa0t1UU1MNHp5ajM1bWc4N1RBeGJHUE5ydUEyUWo1REt6WkhGNHl5MUJ5a0phUWkwODVYaW01YjNjeGZJUVZuRmVUeGNBSDVHVkcxVGZqT01OYThreFlVa1gwbkRDMXF6NnRUcnl4OG04alR4Rm52VmtEbVU1TnI5dURMU3E2b25NbEExV0ppOGdqNk95akZpR29rSWtyTERaeXVTSzhyV3BQWmVBbVJJWWtNZ2dJaG9vbGZ4NldCZWttbE5CU2ptMFF4Nm1CUmdxSDBiaVFBMEhOSGc1UHJmNHhwN2IxMUV5SnFyUWI1SGswVmc4YjhZaHhxRjNudGhqSDdjRTJESnVPb29UcWVHRFZUQzU2S0RvaDRhNFpzZXJBTDdmc2VOdzB3RFQ3cUFLRWc2S2JXWW5hd3F4ZXpkNVFqOWlBSFRsN2prWkpFbThSTnRGelZiTnJoT1FVVVBpc1d4dzZLNEhiRkF6TnRFYjk0QXpIZFRQOEpVNGduR3A0WmRxVk51SGw2Rjd3MXBrT2QyTnBrNWFRMklMRlNQcklhelFBNWdmYlVPbWlNU0hrSkhkYTBjaVQxWU1LWlY1S0JacXd6aHk5RXo="
m_p: "GPRPcj5NyEIy15g0WnV6B7emO6OZ2T46SwY128und95Lf323CYW4N20xl3H3m51F"
e_t: "1614183000558"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:09:58,126-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:09:58,126-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "fc24434d972f4ba6b7027c6d8998ac82"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "KPmtzAp1"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210223180959A6FKMYGB87114542"
version: "260"
queryType: "PAY"

2021-02-23 18:09:58,175-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-23 18:09:58,176-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "vFlxUjcrXsekSuBCLbMPpft6iY0Ty7Kd"
2021-02-23 18:09:58,180-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148686, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '72724313', 'notify_id': '128ce2ba004449989e21e8a73f9c92bb', 'request_id': 'vFlxUjcrXsekSuBCLbMPpft6iY0Ty7Kd', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"72724313","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"vFlxUjcrXsekSuBCLbMPpft6iY0Ty7Kd\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM20210223180959A6FKMYGB87114542\\",\\"sign\\":\\"ar+JbTdU4mPan9JFT6JA/tQ9WTCXRHioC5+voqnsUwVTJDUlZ7I2efANu2B166XOhmOmUK1CpnUVII1WpnTns3jr2MzzqcmBkvMTbpdDbec6gcSrHfc95OjG9G4157S9JCv5dSDetWZmvk5uJD3RKNEoKB9Yte6ae5CFuEbyTbM=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"NO_LOGIN_PAY\\",\\"sendTime\\":\\"1614075000484\\",\\"productDesc\\":\\"话费充值\\",\\"price\\":\\"1\\",\\"notifyId\\":\\"IM20210223181000228\\",\\"orders\\":\\"NO_LOGIN_PAY0.0172724313vFlxUjcrXsekSuBCLbMPpft6iY0Ty7Kd\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"72724313\\",\\"paySuccessTime\\":\\"2021-02-23 18:09:57\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"vFlxUjcrXsekSuBCLbMPpft6iY0Ty7Kd","signType":"MD5","successResult":"OK","timeStamp":1614075000484,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 18, 10, 1), 'insert_time': datetime.datetime(2021, 2, 23, 18, 10), 'update_time': datetime.datetime(2021, 2, 23, 18, 10, 1), 'extra_json': None, 'remark': None}
2021-02-23 18:09:58,180-INFO-lib.common_biz.fiz_assert-117-通知成功
2021-02-23 18:10:02,896-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:10:03,173-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:10:03,219-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:10:03,220-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:10:03,575-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 18:10:03,578-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 18:10:03,579-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:10:03,582-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:10:03,590-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:10:03,590-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "41860418297710"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "9fpAao2chMvtTsW6IZCjdnBSuHRKbxN8"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:10:03,657-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ff04bb92387248bf95dd63748ba8f640"
s_p: "RFZSdTNRdE11cmhPZFIwbkJlQXBPYWdvY294SmNwVEIzemQ0ZTIyNWZIcWJhM2d4NUwweXhmWHltYzlJU1B1VFR5cXZ5VDZUUGlLRnVUSVNqRXdyQjNVaU43cmNBVUowd0ZQVWpMZnY2aER0RlVNQzhTWHRVcEFtOGFqU0dvVHNYdHh6ZGR0OFhtdUFwbGdyMk1WOGUzVUtDSm53MnRkeGhSZzVDSGU4Wmh0UmdKd3J3amtjd0Y2c2I1Y0lqS1F0VE5sbU9QUkYzOVNibHdJTXZ0N0E0R2NBY01kbEREWVFwTkRKeVNzVnlyMlFBTWZRVUtpSkhxYXc0bk5RVXA3cU85dUdJSmhTWDhxQlBWUTY4bnZZeWFHeWM5aXd2cUx0elc3VUU2NW9US1JodFg1d3paeXE2cXJ3VG1Ia0hzaGZEUEJacjVxM3k1UzFtRUFUdTVFcEE4aVNTNUpRVWkyMWR6bmtzNzBmTGNEWEJpcmp2ck9YTWhWOGtNQ0d0SFJ0OXZ3eEJtdzJYMWtIVFl5Q2tQekQ3aTc4UkJQNVVoTW9xRGdwaDdPZmpUUVM4d2N0UEExa2xGWDBXY05ZbFlUUTlEeGRPMUFod2h3MjJnOVV2Zmp0OEk2YzRkSDgxak15RnRBc0lmbGtHMVpqYWRud0dna2FDb3NOTUc1M3lzUFk1NEk3YWVQN2NPRWM0UW5BaURNMks3RlIxRXRBeFQ3aVluY2ZHRlE1Ym1KQVFWSjhaSkVxb1U5Qm5VUW1GSnZtQUhWOUxWcGdtR2Z4SXV0QzU1UEhEclI3NzBsa3FaTXBlbUJMR0hxcHMxdUMyek9jSjduWG1jcFFFaXh5NHR3SU53R052OHRLRFpqQnNab3cxY0JIQU94OEZnNUNtZEI2WXVyNDZjdmo0aWQ3ZmQ5b2lmY1J1dTQzaktaUEFZSmlrM29xZ3NnRTJQT241WEdNZFdaS3d3V255S1dpNGFwbzVpblIzZ0s1a1pzU0taWE1mdHdEcE92OHoxSDJvQjRLVUQweTcyekFwR2Z5bU9JT1hKQzNEeHlTRDZraU0zemc="
m_p: "croVOdAT2ENFX8bR4g7ycxKoEQf1409c4llY4u5Jpx7oixpIYav3X4Z6lf8tt2x4"
e_t: "1614183006142"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-23 18:10:03,660-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:10:03,660-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "ff04bb92387248bf95dd63748ba8f640"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "3zd4e225"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.31"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "JtYVkf0wXQ7WMdsOhluG93eHap2RESvN"
}
sign: "VkbI6AfFeM0a0C0K4fPzQWiIo8oV3IL8C8o6ffyIhf3WEsTPH9TkiKn2sDaIYiTf/hl2YLCX2cJRShDTQsah9MHk6Dg+ID79mRqtB2JfCfOifjxEsbeQk7as3ca5mNm/IVyWcCFvLPNrg4WBpy/MTgqXJ+cTr5eMsl38bFcjvSTU29HG1Whl9j2s8T2N5t49hIx3/rsTulTdOqr9K5NE2sTc1Gw4vPHefef/VRn3RVBOxswqRzcJRX+ZwhzQ2lpcntd/nFBpp2xvpfKoVwAtxM2pPgGkdI53q7pQYGVEdjeHZ5HkefcGI7O2XA232KR3fPSu2qTL8nRlsMI6PPMOlA=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 18:10:03,951-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"450ba825105b4da9bfe0da72c853f3a2\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23181006385303762cf23066363c1d0000\",\"sign\":\"8020588BE9C64B1BE7ECE6C5B43B7709\",\"timestamp\":\"1614075006\"}"
}
payrequestid: "RM202102231810062076075925488812"
model: ""

2021-02-23 18:10:04,951-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4192957006798147297569789065]]></transaction_id>
<nonce_str><![CDATA[6cAGMkNQKjliPsV3ndqyvhuDFoR41SOb]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[5EF30222A20AB2D0FFA08E720A99FA8E]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102231810062076075925488812]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>431</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223181004]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 18:10:05,063-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 18:10:05,063-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 18:10:05,071-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:10:05,071-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "46046128623383"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "eG92mOXQwivLhd8jUFbaIn0Z5ErHD3NA"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:10:05,160-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "aac839c683fa45fa9eab5ca801e58aae"
s_p: "Y0JDZzlTUkV3MUc1MzJzZzRVS01rRU9xRkV0WGMweTZvdFNxOFRybHk2bzVXM25IeHBzUnFjN2J2Qk5Md1dJVG1ob3NwQU4zR2NIOWxWT3BLVjZOYmxoZGtDRHQxem9iYzRDb09yNEZEMEZiT0tLZ3Y2V2hJZnkxRkNSdDVURllTaG93ak1uRW9kNTQxazRNNVgyblhBN3V5RDU1cnNXQ1FINDh2VnJ1ZjR5eFJpZGlpU1d2ZFNvZ3FnY0Z6WnJUVFZJOWdBTmNrZlUwNWlXWlNRektQUkhTNFltaVJnUkdDd0haQno2MHUyRTFRWHhCb3c4QXhKSFYzQzZWTDZOM1NIVm1Bd3k4Tzg2bGVMZllaaFRJWkpIVllQQjBteEZkVGdZbnhtQzRsMkszY0w3aHkwRklQNlZrZk11d2tZZURtazJ6YnJGZ0NKRjFyaFVobWNMbVJZWGhQd3hEdERzUmdIUjg0c2M0N05CbDFlQjdCRXZaY2VyanVhTHhVMmdUSGFyOGE3S0JScHJqVkxVVjFqRUsxY0M1UDlTYkJCQzI4N0JYdHp2VVFpZW0yZ3VyUlVYcnVMVE4zc0Q1eHI2amE1dEswRXlwaHhIdmRIUjRzTVVzdjdjSHFlVE1laGh1bDRONHRGTWFoSWhBV3FoN3BleG9hRm55aGFxVWFsbm9tZzVyS2pHSktKbWpScHFtbG1nRnJOa0gzWHBqN0xENFlDRGpTVWhJMHBES1h5R1NnOTNRdjNzb041RmdIQWZnQW53SEJLeFZSWThZRU5xYnBwcDEwRnVUbmpNc0xmREFReW1sUlZGblBrdjZBajJNUERTeWVIS25xdkczWWVHMVQ4TEZ6ZENCOTVjYTc5Tnl3RjZza05XWGZ5aU5jRjBjR1U1M25pWlphQnZCTmxnM1BNRk01ampxVTJGWDgwOFRYWENYRmNUejV0VEpnZTFEOFVpdVVQOVlBaVBuVjhlQjNYVHBLNVREY240QWVuRDc4TFpNSHZOMThwTmZxZmNWQ1NFcDZkeHhJNVlSZUVRb1NVenhoQmN3VWdGZ2Rhazc="
m_p: "HvWS958k52O74V94mY9vhdAI0W8D1dnF9eO1yo4ExK0pu8Q38MWsAtm5K608ha92"
e_t: "1614183007618"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:10:05,161-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:10:05,161-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "aac839c683fa45fa9eab5ca801e58aae"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "4UKMkEOq"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102231810062076075925488812"
version: "260"
queryType: "PAY"

2021-02-23 18:10:05,231-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.31"

2021-02-23 18:10:05,232-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102231810062076075925488812"
2021-02-23 18:10:05,236-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15038, 'pay_req_id': 'RM202102231810062076075925488812', 'notify_id': '4192957006798147297569789065', 'partner_order': 'JtYVkf0wXQ7WMdsOhluG93eHap2RESvN', 'amount': 431, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 431, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 18, 10, 7), 'success_time': datetime.datetime(2021, 2, 23, 18, 10, 4), 'modify_time': datetime.datetime(2021, 2, 23, 18, 10, 4), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 18:10:05,236-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 18:10:05,237-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102231810062076075925488812"
2021-02-23 18:10:05,240-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7724, 'pay_req_id': 'RM202102231810062076075925488812', 'partner_order': 'JtYVkf0wXQ7WMdsOhluG93eHap2RESvN', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 431, 'amount': 431, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 18, 10, 6), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 23, 18, 10, 7)}
2021-02-23 18:10:05,240-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 18:10:05,240-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "JtYVkf0wXQ7WMdsOhluG93eHap2RESvN"
2021-02-23 18:10:05,244-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148687, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': '76af22cd1fde4840ba2a08e07ff5ec17', 'request_id': 'JtYVkf0wXQ7WMdsOhluG93eHap2RESvN', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"JtYVkf0wXQ7WMdsOhluG93eHap2RESvN\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102231810062076075925488812\\",\\"sign\\":\\"ALxDAbS7Xasas0agm2r3+5OMRyWQtkGX6ILgUQGH+KYbKxilhozILveJn7JF6E8BLAK/1PCrhARJk8jLo1TYLRt+QI8zepXJaUmlEWY5m9Zs9LjPmzYN1A+SUxMwDkiA2CO2RL0FrLXbboM7emt39kNh4eQ0eB7RW8Fi2E918LA=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614075007545\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"431\\",\\"notifyId\\":\\"IM20210223181007135\\",\\"orders\\":\\"DIRECT_PAY4.312031JtYVkf0wXQ7WMdsOhluG93eHap2RESvN\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-23 18:10:04\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"JtYVkf0wXQ7WMdsOhluG93eHap2RESvN","signType":"MD5","successResult":"OK","timeStamp":1614075007546,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 18, 10, 8), 'insert_time': datetime.datetime(2021, 2, 23, 18, 10, 8), 'update_time': datetime.datetime(2021, 2, 23, 18, 10, 8), 'extra_json': None, 'remark': None}
2021-02-23 18:10:05,244-INFO-lib.common_biz.fiz_assert-117-通知成功
2021-02-23 18:10:40,558-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:10:40,832-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:10:40,873-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:10:40,874-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:10:41,491-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 18:10:41,494-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 18:10:41,495-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:10:41,498-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:10:41,499-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 18:10:41,499-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 18:10:41,586-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 18:10:41,595-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:10:41,595-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "17833590645856"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:10:41,683-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4f20344b7f1f4e09a661fc5f9538fcc7"
s_p: "VGs3OFN3SDRjVFZHT2JvcTFGZmo1TlkwRHhiWTV3c2dkTFFHdVdkMnl4MGN5aFVCZzVucTAycnNXdm0zMFdWYlBTZ05SRXZUdkk0ek45Z0RFd2ZQd1FzdEhRNUtYdG54YVFHN0JWQVAySlMzTkF3UHJFcVdyU0hVMVQ0NW54Y0hXVkNNQmlQcnRrRjUyZlZKczgyMDNidmljUXlNMkRxUkJkbXpoSGVpbjhqcWYxMk01NFhWWGVkZlEyN05mZnN4cUVRTUNWQzJpUW5UNTV5cER5Rk5YRW5lYnVJcTg2cktLT3piUWpvbXplWm0waWhYcU9tTnNwZ1VEWk04cUtCQnhJNmxqV2U3WW1yNmE0Ujk5ZE1EZ0MyaHY4clJmN083bVRuM1pSQXVvTFlLYUFyeGpIOXhsR29IWWZQZW84YkxCUnFnNU01a2laWWNYcmVqeG02VjZ5UFIxN29kejExdFJkbThkNjhubFdnQ0pXVThpdXo2WEZhcFZLcnNpMEtOMW1EaVE2ZE5RTW85Rm5sdWRyczhoa2V4ekdRZ0Q2OVNpZTVCaXY5RDJqa2tRZHNQWWVFRjdaOWhqenZsbWFGSE1jMlBLa0d5eWJ0WDZtU2pQVEFHYnQ1TEFhaTN3U1FQNkhDMWc2eGJCQzhrMjJIcnNza3Y2cFVnaEZaZ1pwNHRPN2RTZ2twbGV6OXZ3VlFjUlpPdkRDTDBEbjI1dXlrcENxdmp1OElzczBlRzIySzNiVTAyV0xPVDZQU1VNTWJPOTAyQWl1OUtvM1lmNXp0RUZuZnFsd1kweWFWcFZLVFo3bFNwNnVTNGx6Zkd6eGZZU2s2VEd5QTJvMVo5aEpMa0lHSERJM05lQUJDQzdLakNBY1RucFVxcHF1dm9jc3VLOVBQR3VMaE9CMXh4eDdxdTR4ZUZkSmVnYU9ma29QU01US0Q0ZXBWT3ptQXdmdnNjaTlFZ2IwWHdlaHZlZGR4S1BoOWRoZTBGQkM4RHJTRXJsWjhxM25rZklqYUVEeFFOMkxWdGExQ08yaG9PVjNienpkQWlnVjF1bmNiYVNMNjg="
m_p: "10S1847054yRBQLU8TUBbBi3z0tIo4Ig4A1Q6ttiL89O97947PtMV630ppXI7dsI"
e_t: "1614183044143"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:10:41,687-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:10:41,687-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "4f20344b7f1f4e09a661fc5f9538fcc7"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "5KXtnxaQ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "165.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "Cax15xe5sav/yzv1T4LmednKU5mhUoT8Xej866dfk2KHAbQusJnE+PSwDHe6IkrGTEoPQKEeoohvG92itlf9HhJIBVm6Kz7R0d2uvFa2KIyMVgoEbLapaOn6dLVoAd9COQbhSrSJUZlsBkdbUOP8qdBvTdWdkPLo9IgFCoYYJ6Kqm1xiemH1pZGF6YXzfBh0ab8+ZZlAUOO1bBejlnMNVfZqFC1RqBq5TJ/TERm/A/w85+hzdMMUpHCM9V2VKHCodMrNh15N22jR0l481flzGGvB0Qj90TU2Vlklc1NoZe29RcEmNxem+urs9TweEz+Nlccp+7CjSCP5sOIFiGFy+Q=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 18:10:41,771-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102231810442076075925355222"
model: ""

2021-02-23 18:10:42,778-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102231810442076075925355222&jnet_bill_no=3810726227386565281634799199&card_settle_amt=0.00&card_real_amt=165.0&card_detail_data=&ext_param=&sign=0a015dff99271fa33a67cd90b79e49bb
2021-02-23 18:10:42,974-INFO-heepay-scarlet-53-返回结果：
2021-02-23 18:10:42,982-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:10:42,982-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "43275680745628"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ES4ukc9jBNfdXvpJbiLW8YTD5HeKs1aZ"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:10:43,060-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "186a8f4034fd4ae59b500d01aa595bd4"
s_p: "cWM4RDNqWUlucjhOa0ZJYjVGY2pOQXF1YmVleDNObFpjdVh0dE1XMFo4cmdxcGxtdHJ1M2R0c2NnanN0aWVkMndDZFVkTk9Gb1ZHdDFiVWRCc2N2RFVlM1lXRUttNDJVbkM4V3BwaVIxa2pNWmt1dDBTMlJmY2xReERoM3Z0T2dLY21WTnV2dGR0SGY3QkpiMVEwQmJvNHpaNHo3T0NmQldvZzdyaXNZc2VPNGE5ODlGQUFEcnVzQjVBZmk1UXMyRFhpa0pzbGVpaXQ2TVdIMmhVVEdCN3BYbmNKMDQwQXZxdld0bWxrOFE1N3VWbHlUTXFxVUl1cU9hNG4zaEZEWlRvYjdueHliZnBveWpJM21aUXRQcmtkUUEwdUs2M1NscGhyZUk0ZUNqYTJOdWh6U3hpaklXSTNJazhzM1JmaUpneVVLb1pDTXlRRFVIZ1lTVEVnTEVCVlR3ejZDSTFaUXRpbW5hS2RUaE1LNmgzTVlTQmM4MDRyYm5kRklQTnZYaGREM2NYUzNGdVFwb0JUVDlkMEsyRHl4OEpaUHBqUnFYM2RYUFRUSHh6SHJHMmFLelNHSnpaODRvTjB4QXpNMndlSFZ2Mm1jVk9uTnZuZ1RnTDNUUDFiT1lWQ1pIY3dleHBwdVVaaTdLVVg5Z3JLWHpNcnRzNlZPZDQwcDJpNkIzQ0RzMTZZbGFhRjUzMGVGTzlTckF4Q3BBWGJ0a0tJenpBcE5FbWM0SVVGYm41RVZIYzNGU09pN1lxVnVmUE1zMjl3bkVhSkd5MUZ4eWhSc1hWNUNpbThkZ20wQzJsbWtYM2hXSG95OHA5TE9OeGdIaUtZa0p1SlViYVZaODVZR0JUeUhMYnBKY0s0OVlXQXRBOUFySk5VVTRPT3F0WElJY2prdGMyOGM0YlZ1QnhSUXluT0tSQUxNQkpMeHM5WWU5eFJxeVdtV0NzVlBHTEZDdldTVDczNko5VHRlYzdvdEFYMzJNb0daalpWVXR1ZjVJb1BpMGJOZUtabHhqSm9xQWJCVGV6RUM0YXJ4T0xldU9MRnRTeFJQOFJSWWhXVjI="
m_p: "WL52OSCXGUpgsoXbV9iv34yq99b749M8IbU32SnNPj2633NxHVFq8O85e5fM0gf3"
e_t: "1614183045522"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "165"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:10:43,061-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:10:43,061-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "186a8f4034fd4ae59b500d01aa595bd4"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "DUe3YWEK"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231810442076075925355222"
version: "260"
queryType: "PAY"

2021-02-23 18:10:43,109-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "165.00"

2021-02-23 18:10:43,110-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 18:10:43,110-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 18:10:43,113-INFO-fiz_db_operate-26-可币余额：165.0000
2021-02-23 18:10:43,113-INFO-recharge-52-可币充值成功
2021-02-23 18:10:43,114-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231810442076075925355222"
2021-02-23 18:10:43,130-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15039, 'pay_req_id': 'KB202102231810442076075925355222', 'notify_id': '3810726227386565281634799199', 'partner_order': 'NV203113782656752021022318104426050040241027512496', 'amount': 16500, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 16500, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 18, 10, 45), 'success_time': datetime.datetime(2021, 2, 23, 18, 10, 45), 'modify_time': datetime.datetime(2021, 2, 23, 18, 10, 45), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 18:10:43,130-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 18:10:43,131-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231810442076075925355222"
2021-02-23 18:10:43,135-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7725, 'pay_req_id': 'KB202102231810442076075925355222', 'partner_order': 'NV203113782656752021022318104426050040241027512496', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 16500, 'amount': 16500, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 18, 10, 44), 'success_time': datetime.datetime(2021, 2, 23, 18, 10, 45), 'modify_time': datetime.datetime(2021, 2, 23, 18, 10, 45)}
2021-02-23 18:10:43,135-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 18:10:43,143-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231810442076075925355222"
2021-02-23 18:10:43,147-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：{'id': 12, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 23, 18, 10, 45), 'amount': 16500, 'status': 'OK', 'rechargeOrder': 'KB202102231810442076075925355222', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 23, 18, 10, 45)}
2021-02-23 18:10:43,147-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 18:11:17,327-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:11:17,603-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:11:17,648-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:11:17,648-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:11:18,003-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 18:11:18,007-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 18:11:18,008-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:11:18,011-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:11:18,011-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 18:11:18,012-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 18:11:18,015-INFO-fiz_db_operate-26-可币余额：165.0000
2021-02-23 18:11:18,022-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:11:18,023-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "61733000396847"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: ""
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:11:18,108-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bdc60bbcca8645fd8c595c4d1ad20de3"
s_p: "MGRUMVBIYlJmbENGSFNDMkc0dG1IWVR3TjJaVXR0NWs4REg4SWdxQjJGUzJ5UDNnczJvMjJxZFM5a3JLSm9FN3Q1MUNDQ2hEMWhNTU05NVdXN3lZMmp2b1BSSThURGFYVFVuZU1udldDSzRPVERtcURhc3hpU3FIMnQ2OXpsTThZc3FTSnFnRFp1SWg4OTVrU2J1Q290TmlVeUE1NXRib09aa1gxMEFFTVd5TElhdDgyOHZOOHJRTkxzRERpZEhZUmRWa2JoVTFMbXpkdm5Id1ZqM3ZCSDZhY2tMMnNrWlBkUU10RHFwTk9SclVZR3FGYmpjVml0ZkFDS0RLZ2xKdlJQZFpFb2xEQjJObklhSjFHa1FtamtqREE2ZFUzWTN0dmpaZ0Jsb05peVpiaHU1WXdlWGxESFZObGJraGRlSVA5bzhLcW1SNnpMNEhwaWdhRVNiYWZBUGNBNW9lSENpS2l4bzZKYUZhczdDRUwxbEpLZWVXRnlGYVg2c1dGYjFnZmJSNXpVTnNQcFRLV0dTWUxFSzVab0VwYUxrRXVSbWt3dDdoNzhaT1QzQmkyYzI1UGYzUHlEVmxINmlsejVNUERkRUtiRzBKdWYwdnp3UWl1WGJFMUx6aDIxR2pEY01INEJKYXFPaTZjUUNQRWt1YlQwVVU2Qmo3RkoyZDc4akVncEE4Zm44Um1meG5VeUg4T2gyY1A2VWpndWdXcndDdm9jOFZPVmNHWHI1NXRIYmZLcUhnYmtkQWFvazBUbDBNd21OdG5jejBmZldEQ0E2aFZ2VUR2WWFtSGZPT24xcjFPdlpBWGw0N2dvMlVFMkJTbDc1YWQ0UjZMUWFxa1Q0a2ppTno5dGkza3pERmpnSGFMMFZhazNkUWpRUjZTZ2ZKdmg3YWxmVGE0MzhBQUt2b0NtNFU3YW9VZ3dYdmVPVEd1ZTZDa3VqYU5TZTFOY0ExMmdwUU9mQ21jOFh3VHkwajRHOWlMU1lWNVlSV2tKZEpEYU9qbUtrcmR3UFJEN0IzcnQ0bUNMWU5TajZtdmVMOXNxTkNYZWF4NzBlYVVBMk0="
m_p: "Lfb8pV9Ue1eRoqMLlFTB5R2Ue6qR4wQZgj2q08J3rfPj6uAV84lt83h0hI9b4Tf3"
e_t: "1614183080573"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "165"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:11:18,116-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:11:18,116-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "bdc60bbcca8645fd8c595c4d1ad20de3"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "qH2t69zl"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "heepay_10"
amount: "455.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "KB\342\200\224RECHARGE_PAY"
  productDesc: "KB\342\200\224RECHARGE_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\345\217\257\345\270\201"
  rate: 1.0
  partnerorder: "null"
}
sign: "AnVuoKHO1e7ZgAU1cKlu9Zw47soeZdRVZ9K4AzZISp9aJO6LPyLC9Tl6mSEM6KiJ5jzYBGbL9Tvz5ew17lWNDO39dY6boJBsoWt51vGb15qaav5ci5XBZ6116V4jqhUNtybjdCwIbMarwZcie19c2XQ4gLRavHT5Q1T6nkGjpfduTJKaQwEEt8us5XkPsJIDpdnyyAhwhP1HyvGc6pFPrMrUB/5dSWYSlkH5y/2yQHKOf7rxwVHRHJ8KrQ4KYKAJxk30YMhpg/JsN1GJo/f2duS6u2PkmJF7D5sSHMUej0GdIIX+CKrRCtb/9dKaG8OGVNFwbuezgOdD0R2bGyrXNQ=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 18:11:18,198-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5555"
  msg: "\350\257\267\346\261\202\345\244\261\350\264\245,\350\257\267\346\215\242\345\205\266\344\273\226\346\224\257\344\273\230\346\226\271\345\274\217(1016)"
}
payrequestid: "KB202102231811202076075925372882"
model: ""

2021-02-23 18:11:19,209-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102231811202076075925372882&jnet_bill_no=6842233833797485087120372700&card_settle_amt=0.00&card_real_amt=455.0&card_detail_data=&ext_param=&sign=0d9e77931e38c9dafb0651bc15e91191
2021-02-23 18:11:19,344-INFO-heepay-scarlet-53-返回结果：
2021-02-23 18:11:19,352-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:11:19,352-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "16264251347981"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "eghKcYJyWIzpMFrXTCkOuADwSnjQR38d"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:11:19,439-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "566b6595033b40c789cda9ee891cfac3"
s_p: "bWpCTDZPbVExbjlNSFhPZ0xTMUtGT3FjT2pncUhwN0hUemExMzFmTVBTbXdpOGVDZDlSMnQwUzRNUWZMM3MxWmZJMzVpSFNOZGFNQU1VRXdsQ1dtM1Y0NFEwQUROV2lvY0ROeWRtM0VjY2p3TlJ6R05pbzY4R2w2VzQzSDNCT2NDQUNBZ0JFT2w1M2xNOXI3Vmx6NnlkVlQxaHdZMkZqd1lDU1IwOVBPSGhjRTdnQWlYUHRRRld4R1VnMzkyZXVEekpWczVNbDhrcEVkSUMzRlNwTVlWNWk2VEw5SnhlYVVibVZEa0ZVcXlaSzk3ek0yeHZRc3dQdTFMTVM1RXhYRGZnU2d0ZDdaNW1lZzZid2FQbHh3bmdVUDVTVExSemRzUU1Gd1VjRDBJN2lrWW9hYUFzWVNYVmFINlVKNDBvNDE4U2tNb1c5T3hFZ2syaUNjeGY1NHVlNDBiZVJacE9mSmU3NzZwZGVQbUFXS1pwbFVGTzB5Z0J2U3VDTVpGb3QzWkFvV0x4ZU5jZFhCQmNqZllGb3IxejZkZHIydTRpWVUyT0I3RzkyeGNwbktLSEFXeW5BVngydG9sY28yNDFBb0l4cmhnNExRdlpBWnE5eGxJb0VTbjNkb042VXBjM0NUaHZnSG9pZmF3S3dhWDJsNTZZZkR6T3JkMnZXMTBoT2pQN2FrUFFOcmg3VDlGWm9QbUVqVFpCaTg5WTd6SXBIS1ZkVGZYVHZvMTlTN21PVGJHc055MHNKbWtqelJ2YzZrRXRWeFFSQ2FjcFVtM1VudXNGNVNjR2pKV3JOVUhKZm9mM0hqeXpZSmY2THFpQ2x5bnRrdkJMc0hUUUVpSzZKWHBYN2kxamI2MTFOWmRDV1JGZHhHa0tEanlocnpUSGZyNkVIQm0zS3cyUk9WSEtIZFVmV0lhdUpxOElUNnlFY0kyOG43a21mRnBmajJxeWtXVEd4aEtsUGF2RjBUTEQ1bnl2M0dvUWhCbms2ZGlzdUlqRGY1Y2hRbW5WYjNRbUFyc1dtbDg0cU5ETzZZb3NHUzBmZWJCVUNuZ2w0VEEzQzE="
m_p: "xVM49rX65jw18IA18o4Yv5QmJQoBoubwjEhd41ef2AmJMgz00B8V2C4UGWO6Rnxi"
e_t: "1614183081897"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "620"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:11:19,441-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:11:19,441-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "566b6595033b40c789cda9ee891cfac3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ccjwNRzG"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231811202076075925372882"
version: "260"
queryType: "PAY"

2021-02-23 18:11:19,504-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "455.00"

2021-02-23 18:11:19,504-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 18:11:19,505-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 18:11:19,508-INFO-fiz_db_operate-26-可币余额：620.0000
2021-02-23 18:11:19,508-INFO-recharge-52-可币充值成功
2021-02-23 18:11:19,509-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231811202076075925372882"
2021-02-23 18:11:19,513-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15040, 'pay_req_id': 'KB202102231811202076075925372882', 'notify_id': '6842233833797485087120372700', 'partner_order': 'NV203113782656752021022318112005298329961940335671', 'amount': 45500, 'refund': 0, 'contents': 'KB—RECHARGE_PAY', 'products_name': 'KB—RECHARGE_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'heepay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 45500, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 18, 11, 21), 'success_time': datetime.datetime(2021, 2, 23, 18, 11, 22), 'modify_time': datetime.datetime(2021, 2, 23, 18, 11, 22), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 18:11:19,513-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 18:11:19,514-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231811202076075925372882"
2021-02-23 18:11:19,518-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7726, 'pay_req_id': 'KB202102231811202076075925372882', 'partner_order': 'NV203113782656752021022318112005298329961940335671', 'partner_code': '2031', 'products_name': 'KB—RECHARGE_PAY', 'ssoid': '2076075925', 'origin_amount': 45500, 'amount': 45500, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'heepay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 18, 11, 21), 'success_time': datetime.datetime(2021, 2, 23, 18, 11, 22), 'modify_time': datetime.datetime(2021, 2, 23, 18, 11, 21)}
2021-02-23 18:11:19,518-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 18:11:19,519-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231811202076075925372882"
2021-02-23 18:11:19,522-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：{'id': 13, 'ssoid': '2076075925', 'imei': '', 'rechargeTime': datetime.datetime(2021, 2, 23, 18, 11, 22), 'amount': 45500, 'status': 'OK', 'rechargeOrder': 'KB202102231811202076075925372882', 'partnerId': '2031', 'rechargeChannel': '24', 'appPackage': 'com.example.pay_demo', 'model': '', 'clientIp': '', 'source': None, 'updateTime': datetime.datetime(2021, 2, 23, 18, 11, 22)}
2021-02-23 18:11:19,522-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 18:11:23,999-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102191602452076075925013522&jnet_bill_no=4400297401351222770043160575&card_settle_amt=0.00&card_real_amt=5&card_detail_data=&ext_param=&sign=9d2e4ba78c44b6bbad5214788f6af29e
2021-02-23 18:11:24,055-INFO-heepay-scarlet-53-返回结果：
2021-02-23 18:11:24,063-INFO-heepay-scarlet-50-回调参数：http://opaycenter-secure-test.wanyol.com/opaycenter/heepaynotify?ret_msg=-%b2%e9%d1%af%b4%a6%c0%ed&ret_code=0&bill_status=1&agent_id=1715258&bill_id=KB202102191602452076075925013522&jnet_bill_no=9123929861856326416546615470&card_settle_amt=0.00&card_real_amt=5&card_detail_data=&ext_param=&sign=b5200ae9b6a4a8ba5a73c423b435fae1
2021-02-23 18:11:24,134-INFO-heepay-scarlet-53-返回结果：
2021-02-23 18:13:13,694-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:13:13,968-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:13:14,011-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:13:14,011-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:13:14,600-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-23 18:13:14,604-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-23 18:13:14,605-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:13:14,609-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:13:14,615-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-23 18:13:14,627-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:13:14,627-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "00451764895986"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "6uBQ1hrZgCS53y8KNVfemdn4UcLxXsMD"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:13:14,682-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4cf65271f3d84c76a58d08d693637d34"
s_p: "TDlINXdoUDBXYjFhWmVPU2hLQ2xGWXhLeGE1cWhSYm0wVlJHWUNhT1R6c3Z1cUFpUG1oMzNMSVhyQWVpYzZka1RwS2pLb3BFTU1TM3FxQVYycnBKNHRaMzNLbFZBUEU1bFVTa0pVNllxanJEbENBYm92amFBbTNCZkxVa1dhQkhBaE9lNkUxeEFQQkVLZGc2V1JqTzh1YjFMbTY0VER0NUhKNkNEQmM1SVBRbU5hUnJOaTFCQmdoREY2QWdBR20zR3NUQ1d4MGlRRlNxckFyZFJIVHA4Ykh2RGtrYjJGQ2JQbkthOEpld0d1UjV4Y1NtMTlOWGxoUTViVjBCRXZYQ1dCVlQ0UVl6RzlzamlFaHdxUjFnNk5zSXBZanJvMkVJelpmUjU2Q0FwbmF6UkQ4MzZ4MGwySERzazNXZTNLd0FnQzJRbnJOWU1SdEkxUlpUSEtMcWlhdXhiQm9Zd3RIQTEwVG1WeGw1UmZicGpXSFpFRlVTc2lHeUNMRFNHamRHZXlreGFhMHFqSU1FVWNuQXFFdGFVd0ZuS2J6Zk5DRERsd3B4SkZ5bWhGQUtqOFFEbEQ4Q0YxbjJVRzduZVhqZFFpb0NvNGw0bEpyUUNZSkM3RGh4NHYzME9FNkpCc3phRndXYzVKakN3clFjczI4ZmNNVUdrb3ROUDVmU3I1T2V3U0NwSDJCTXNiR3ZET1ZrWmZBaFh6OEhOV3dRbDJsVDg3N2dyQXBnSmtyMENZQTJ4bFh2VUJSVG9zdGdxamM4dk5tUUtsRnRqVVg5dnJMNG1ZWXZ0cXZMczl0VmZuRDBrYkRYSGZGUWIzUkJKYmRQRDl5QWpCNXhiMnNaaVVCYWRJQnEyUVN3VkxneENBQ2ZrRm5jT1VPYWZTRkxOSVptNVFZclJxblRHb2ZkcGVJaWJYRWJMQURzQTY5NjFKVENlbUY5SDJBZ1dCSTJjN2lJa2NueHZaUHZzTldlMDFwbTQwYnRoaFVpUElYTmVadGN6dnF6WEdWcTM0N3NJY3dKM0lxN0tENVQ2OHRqbWszY0FyMUhDOFBiNUJDNUF4T3M="
m_p: "1FLB26479lxDFnzUYAYOt8wkBW2lxnPz68erKWY6Xo4L129hkjsgkspxHm1d0C57"
e_t: "1614183197181"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-23 18:13:41,394-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:13:41,639-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:13:41,681-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:13:41,681-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:13:42,079-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no, plan_id FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=1
2021-02-23 18:13:42,082-INFO-lib.common_biz.find_merchant_info-41-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601', 'plan_id': '120877'}
2021-02-23 18:13:42,085-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:13:42,088-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:13:42,092-INFO-lib.common.db_operation.mysql_operation-59-执行sql语句：update `db_order_0`.`autorenew_sign_info` set status = "UNSIGN" where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-23 18:13:42,103-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:13:42,103-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "89986490812832"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "3j4t6OezrwWNi5CplEaHsxG9nbkYUXSK"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:13:42,154-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "65c3555a78f4440b870653451fa1048d"
s_p: "OXNsZkhCVTZNVzBqOUN4djFmWDJISGNjTTU1ZmZaSnptdUZxMkpoVEpCTk5wS09JNEpCZzVVR2t1Y2ZYQ0ZrVDNJQnRPUU5Xa0VBb2RWT2taTzJSTUo2cjVJOURZRDRuTzloNlNYVjMxSVB6THRLbHU3QlF5UmFQejFSUHNQMW9kbTRIRWdkSXM0RjZ1QWphSDV2VE9XV1M0T0lHRDVtT090ZmFUZWxuYnh5QzZ1M1NYWkFMUDQ5eVV3WEl3cFRSVlhqb2xSSWxzYnJ5V3BXQlZsNmZoZFQ2cjJ3WGtQT1lnUDhnbjR2SlpuVzZZV0I1SEtEOU9uNjFKbGZQM0N1M3lmTXB0ZENZV2N4bnNITVU4dkpTM01wUkdFejJXNlFZUHdlak96ektmaHdXVjB3MmJCNGF0QlJDbnJkcUJQcWlRUlBaUDFmbFliVW5aM0RrSW43aURlMlNMUnFKZnRrbGhoQ0VmN2k1QzFvNUFhUFFRRGx2TnJPam05QXJsU0l4RlhkaVBES005STF2THAzQlhxUVVnbk85em8zcm1SM1pxQ09BbzBXUE91TWJiYkJQRGRVcW9EZ2JMaDZCcXVtN0lCRUo1N1ZqVDBoa1N1dUtFTHd0d0pFZ2NpV0hpRno3Wkl4aHZTYjdyeGZ2NFduU2lyVEFhZVVFSktYQVJpbzJKMFVsVnF5UWM5TXQwclVWemNnSmxHNlpTY2E1TTk4RU9lT3c5RERucEpQZ09IRDREMW54Y3ZTSHA3Tm9xSFNkUWJKakRRQVJCSzlzd3ZnU0NRcW5NS21uSXVXb2tjWU1ySzRjbXQ3Ymt2T0w3RHlCMGtzZDBCTW5YTERnTmlxeGRScjVDUFpqOHhQQ0p0eWRMSXlpRjF1RDJaeU5LZFVFUWJSR1piSFpsSGtoenprTTdLZUpXTFl5WllCQWFsRmRRQnVlVkxEQ1R5b0d0SDhrT0ZGVlFZU1FLTTREQWhZem55eEpyVEJNNDZLV1dTZ3dhYWJFV05oMVhsN2FaQ2xJTzduMVZpczFBa3BVUVdabUVDQzdoQ1psY2lJYzRDd2c="
m_p: "qQMJEiLSOnQ8uy785JX9hYR37gqc71iT6moL2RY8t2q0bPUU4jiktSdCW1KF2ha5"
e_t: "1614183224651"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-23 18:13:42,156-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:13:42,156-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "1.0"
  t_p: "65c3555a78f4440b870653451fa1048d"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ucfXCFkT"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
transType: "SIGNANDPAY"
renewProductCode: "20310001"
signPartnerOrder: "6WlSY9bEoQZUcm7xX80OKs2fvjAFgG1k"
type: "wxpay"
amount: "0.01"
oriAmount: "0.01"
ip: "58.252.5.75"
sign: "OUsT3mwxwcgfwnGES0dA9W95AnySkEpiqzZI5K5LEXapsg9zO+ruy0/XuSVGQi2UxUuRLdzSSO0qYbYhxW6nT8dawNQkjrSckHiOlTERtn7AgpxMe/Lk1btyUAieWVDXv7zSyOE45YcBQxzBmQLwkfHuxwl8PBqAlbSV63wWAi5jYHKpkgSJuEqV4yuj3/KL2rYJrejggHxozpolZ7CjKhH/lHDGj0/2PdwO9FvUMMum07v5I+QOfima6M3WhyVmLTw+JswYpyGSwND44wrMa35UtDKO35LdSzyWMxSmZtSnBUQ3xkF+VXNYwJDu1/MRHt9ArrHk/fBauwg8qeVWNiexcPPHQxoa8lZvO4FXe8VVoUAdlSGTND/Cc3miKDSwk1NU0c58lvXf7gVKxFqGeTn0voibU2mli6jHZLoLCBw2GIOBu17AzSPzOLYALvRy9/tdpuudAx42BswNPpp1mYWCqJSBF9KH4rJhftz8Cv0zuOjocZZKEq4sVfmDaYVe"
signAgreementNotifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
appId: ""
isNeedExpend: "0"
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "SIGN_PAY"
  productDesc: "SIGN_PAY"
  partnercode: "2031"
  appversion: "260"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "6WlSY9bEoQZUcm7xX80OKs2fvjAFgG1k"
}
screenInfo: "FULL"

2021-02-23 18:13:42,606-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"b20b67622813474891837910d84ea9c6\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231813450372261f4abfc0ac5fad9e0000\",\"sign\":\"745653B71F6DD093ABB452C170A234F5\",\"timestamp\":\"1614075225\"}"
}
payrequestid: "RM202102231813442076075925605222"
transType: "SIGNANDPAY"
signType: "APP"

2021-02-23 18:13:42,606-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT contract_code from `db_order_0`.`autorenew_sign_record` where pay_req_id = "RM202102231813442076075925605222"
2021-02-23 18:13:42,610-INFO-wxpay-scarlet-96-回调参数：<xml><change_type>ADD</change_type>
<contract_code>SN202102231813440202356321835115</contract_code>
<contract_expired_time>2022-02-23 18:13:42</contract_expired_time>
<contract_id>1284721391</contract_id>
<mch_id>1259634601</mch_id>
<openid>oCg6Xt8NvRi7jGuap_5B6XdY4oYk</openid>
<operate_time>2021-02-23 18:13:42</operate_time>
<plan_id>120877</plan_id>
<request_serial>461294638775568688</request_serial>
<result_code>SUCCESS</result_code>
<return_code>SUCCESS</return_code>
<return_msg>OK</return_msg>
<sign>DEC2E884D11DDFC2A9DC8E95153DF400</sign>
</xml>
2021-02-23 18:13:42,715-INFO-wxpay-scarlet-100-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 18:13:42,715-INFO-wxpay-scarlet-102-回调解析成功
2021-02-23 18:13:42,715-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9106437015378321476755627558]]></transaction_id>
<nonce_str><![CDATA[DUvRoOh9WkVNHbfB2LzlG1xXdmTq5MYS]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[07AC814A37688B90F481A2B558CD9F26]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102231813442076075925605222]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>1</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223181342]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 18:13:42,825-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 18:13:42,826-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 18:13:42,833-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:13:42,833-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "53328982103736"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "BMxwL7WQ9iRmrG3YAb2foDhnv8tJC4UK"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:13:42,926-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "13cbd30ee3bb4ed39f79f3cbc49eddd3"
s_p: "QjRXck1kcmVYeGRmamdRbnRXaDF0c2hIdXgwb3h3MU42MEZVaXdUQ2l1WjlyZ1dZN2dObXVDQ2JvdFdJNkVqQndjNUY3Q2dKYlU0d2Y2T0FrSndPN0o5QkNIY2piVTBqc251V0ozMzRidld0ZVRPWFZZbERoNzR2Z3BHRGt5RmJjWTVhbzE5UlA0TFo4TFYxRkRLM1pqNUxiQ1pLRGZxZnhyUkFhUE51TDVCbUxNQXB1QVpxUlAxUjBQeEZLTjBVMkRKeUVYdzlLbk5pU0hqcnIzRHJURktKaGZybnU2dzlyRzFrOG1yR05zcDBuUWx1ZEVZN0xlelpKSjhRNVNuOEREa3pZUXp4ZXhueVFzRWphQVB1cEVadVY1UTZSVml3Qks0blJVQU9xU1RvaWZoWVZyNm00VTJtVjV4aW5mcWFneUZRbkdwQlloSGg5TDJQUDlUSks3UnFnODR1YmtkczRvWHRJZzl5blJzZkJ5ajN1VGdlWXhPWmYxbVc1S1c2YjVpTnY2bTgzd09POWVuN2xTc2cwNFBkWjE3RFVCcXYyQ2o2SVM3UFRjVXdweFdYQjEzM3kyR0R2T0V5S2pFR2prMjRSdUVLa09wRmhZVFdTR2t5RFQxaFh0S2ZQc1BEUzRwTWZnUk9FdFU1ZlJ1QjlnR2QzVGplOUdqU0lPWHVqelVLZ3c4WjZQMnBhekxpSE1ndzZRMGpjU3lVamhYTVRZUEs2bXhMMVNKclVraG5obHNzV1FkQnp2UzUybW1FRk1Sam1LenpWYnVGUm1leGNETlBXVEgxWmszUlZoemdVS1NJUUdVR3Y2dDU4Z3pwc2dQZU9RcnRaT2J4TkRGZDYyaXhHTUhUR0hHaXIwUUQ5M2NsU0t1ampFb3ltWkxNT3ZEMmg4aE11QmFKWTM0WVV2d29aNW1yRDl1Q3lCUHB2dHRJSGo3SDBDZDRROFVOY0RWNnA0R3N5V1VWQWdramJoWTVheEluZDV1MGgzazI0Qzc0SUJ6Q0x5WThlclZHemZsY2t4WWJPZVdmUGlqNUJqN2NvWDRRbmFlRjVjakM="
m_p: "z3x5goWVetz0m8dN813CyBoJsKXAMK0GLRXa7185UW156d87A34UUcp215B5uG9F"
e_t: "1614183225378"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "620"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:13:42,927-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:13:42,927-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "13cbd30ee3bb4ed39f79f3cbc49eddd3"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "K3Zj5LbC"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102231813442076075925605222"
version: "260"
queryType: "PAY"

2021-02-23 18:13:42,985-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "0.01"

2021-02-23 18:13:42,986-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102231813442076075925605222"
2021-02-23 18:13:42,990-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15041, 'pay_req_id': 'RM202102231813442076075925605222', 'notify_id': '9106437015378321476755627558', 'partner_order': '6WlSY9bEoQZUcm7xX80OKs2fvjAFgG1k', 'amount': 1, 'refund': 0, 'contents': 'SIGN_PAY', 'products_name': 'SIGN_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '260', 'sdk_ver': '1.0', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 18, 13, 45), 'success_time': datetime.datetime(2021, 2, 23, 18, 13, 42), 'modify_time': datetime.datetime(2021, 2, 23, 18, 13, 42), 'trade_type': 'CZ', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': None, 'platform': None, 'screen_info': None, 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 18:13:42,991-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 18:13:42,991-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102231813442076075925605222"
2021-02-23 18:13:42,995-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7727, 'pay_req_id': 'RM202102231813442076075925605222', 'partner_order': '6WlSY9bEoQZUcm7xX80OKs2fvjAFgG1k', 'partner_code': '2031', 'products_name': 'SIGN_PAY', 'ssoid': '2076075925', 'origin_amount': 1, 'amount': 1, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'CZ', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '260', 'sdk_ver': '1.0', 'mobile_os_ver': '', 'platform': '', 'screen_info': '', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 18, 13, 45), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 23, 18, 13, 45)}
2021-02-23 18:13:42,996-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 18:13:42,996-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from  `db_order_0`.`autorenew_sign_info` where ssoid = "2076075925" and partner_code = "2031" and renew_product_code = "20310001" and pay_type = "wxpay"
2021-02-23 18:13:42,999-INFO-lib.common_biz.fiz_assert-135-签约信息表记录正确
2021-02-23 18:13:43,000-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status from `db_order_0`.`autorenew_sign_record` where pay_req_id = "RM202102231813442076075925605222"
2021-02-23 18:13:43,003-INFO-lib.common_biz.fiz_assert-149-签约记录表记录正确
2021-02-23 18:13:43,004-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "6WlSY9bEoQZUcm7xX80OKs2fvjAFgG1k"
2021-02-23 18:13:43,008-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148689, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': 'c3158db7edd849a58927fe3758cf7819', 'request_id': '6WlSY9bEoQZUcm7xX80OKs2fvjAFgG1k', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"ssoid\\":\\"2076075925\\",\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"6WlSY9bEoQZUcm7xX80OKs2fvjAFgG1k\\",\\"notifyType\\":\\"SIGN\\",\\"payType\\":\\"wxpay\\",\\"agreementNo\\":\\"1284721391\\",\\"sign\\":\\"FENawXXNLm2OVz8y2pXjBUcGPTsdAkXMYBvn/XQ8AKTFUluix9wD2riNYN79LDHpR1YTYvxncsdYtc+aZnMzMcMQMEzdeTrjvT+dbkSqe9ORKnMMah71mpdvjQsZGy4KNMC0OfSKneTWWr/GnVG59O9sQ5os4Ny+ZVHyqY6BqtU=\\",\\"notifyId\\":\\"IM20210223181345982\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"renewProductCode\\":\\"20310001\\",\\"status\\":\\"OK\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"6WlSY9bEoQZUcm7xX80OKs2fvjAFgG1k","signType":"MD5","successResult":"OK","timeStamp":1614075225206,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 18, 13, 45), 'insert_time': datetime.datetime(2021, 2, 23, 18, 13, 45), 'update_time': datetime.datetime(2021, 2, 23, 18, 13, 45), 'extra_json': None, 'remark': None}
2021-02-23 18:13:43,008-INFO-lib.common_biz.fiz_assert-117-通知成功
2021-02-23 18:16:15,887-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:16:16,163-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:16:16,214-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:16:16,215-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:16:16,428-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-23 18:16:16,428-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "gDysS23CQNeHPUwzuYXt9liq7GkMJ4vT"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "6.27"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "6.27"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-23 18:16:16,897-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"d4b619ea372b4f0891acc98e8c01ab82\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx231816193255254b49b3c2164d6a830000\",\"sign\":\"9F81E96125033278913ED2810B357197\",\"timestamp\":\"1614075379\"}"
data {
  payRequestId: "RM20210223181618HG2UU47KIK873222"
  payUrl: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"d4b619ea372b4f0891acc98e8c01ab82\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx231816193255254b49b3c2164d6a830000\",\"sign\":\"9F81E96125033278913ED2810B357197\",\"timestamp\":\"1614075379\"}"
  parameters: "0000"
}

2021-02-23 18:17:56,867-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:17:57,110-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:17:57,153-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:17:57,153-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:17:57,605-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '4.4', 'batchId': '20691597455284259047038847200132', 'bizNo': 'o0ZBbmjWH6KvFUCTdnYrO2yge53kEai9', 'operateType': 'PRESENT', 'requestId': '56490733484855304868768640329569', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614075477602})
2021-02-23 18:17:57,681-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 4.4, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 18:17:57,694-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614075477692', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.99', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 18:17:57,714-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299712'}], 'vouIdList': None, 'batchId': '161cfbbfee4f4a0b8968559e4ee25696'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 18:17:57,727-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '161cfbbfee4f4a0b8968559e4ee25696', 'batchOperateType': 'PASS'})
2021-02-23 18:18:02,789-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 18:18:02,797-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:18:02,797-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "77531530411263"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "zcySOEM76aN3R25JLrieKbl8YwphITUA"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:18:02,925-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "256e9b2ca1e047acae6ab11b38dfe725"
s_p: "NEZ6eGR1YXZuSWNNdXQ3QjhzazBrWTZIb1hIb3g3YTVIV3FKYklJWmdrRm5wQ1JoN3pDZHV2UVFObjIwckdTM1ZNZHNYM2JvZHdTaUg0VFpkR0UyTmJuQ2NTQ1dVZlRhbENBN2RYWDBubUUyTXlXNUdBa2dwaFh1REVoUzJSMHBxWWtJcEV6Z3duMGJtc21KN2xiaE9pdlhaRnNPZFNJV3dyMzhKcHZqT2JMNmp3QjZxRWlUanY5ZFFyS2MyenlCcFhValQzenJKM0VBYkxUREJ4MzZYV1Y2ZEgweEVrQkFSQ0ZkeE41akxMV3ppczc2QVZSVkg2WmJzbjdWVFF2c0l3Z201TXAzWjc5RUNhVnplbWR3T3BmSURHQVY0RGhhVnd1c2JSb25xTUt1c0llRmRpc05TaThYbjB4c2hhN3VoSVpGUlA2YUVJR2JFeUt3VEpWS1A5VWpCYUY2NVQ3QU9UdHU5Z3BlVjhOQkNFUklqUlE2QUJsVlFNRDRKYWxKaFZEVWh1N1NyM2lyMWhRa2ZXeUdJVEYzNWtxWUxDOEEzWU1HeHNJOWlaNm9pTzNaMmFCZlFHU0J0TVhkWVN3OVZzaVdNdEM3ekcwOERFdXhLWkxMWkp4WW5lUVFiRGZvUGlWbzg0ZU80TVhkVGZSZ2JaR3NyVk9HbzB1cVpZajExa1JjUnJ3ZWR6OFM3NGtwSkFJM1J6VmtKV1djdFNVOXB2SlBpamM0dEZZS1NSWmpRYUFaMEsweHlReGdUb1JMZzVZQ0dudWNjTTdCMU1tYUozQ0RlVDUzdmk2WWRRTlBVc0tXck91Z0lra0l1dWFFR1VoQjBGVllzS1F5R2llMWhnUnk2R2xNMmRpc0ZKalE4TkU3N0pFU21HWE54SlpzNEkwbEt4UHdFQW1GcEQ5VVIzVWlGYjhrOGdVVmhZM1B4R0ZhMml3YTR1OVFOWDJPN0ZZQTVHRGNUMmlIZkFhdXdSSTRWNEt2dkpmbklZU1pMWmNjVWNGczdiQXdabno5TW1aUlRXM0wxcUZLM0plMUJRMUJneXd3Y3BoVXlTam8="
m_p: "nE5a040xV1juf205id6DQiFZRPtepG2dh9B325Jz8J4R5hR10306uJ01gde40O6a"
e_t: "1614183485344"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "624.4"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299712
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 18:18:02,957-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:18:02,957-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "256e9b2ca1e047acae6ab11b38dfe725"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "k0kY6HoX"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 539
count: 1
productname: "KB_AND_VOU_SPEND"
productdesc: "KB_AND_VOU_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "HKQ8Pz2Sk1hunZvy6oI7jefa94XgFLtr"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "Ur2GCUWCAZ9fzKCdK9ikXMpv9cG0KLnGJr+pzP44XhQlxyVsWGgUOYscaKpzDnwg/k3MPCqGrsyYdtcqqjk2+mgcVy1nZKfg+JZCla/YUtNPQuCN0I7qa07BHgkArSutKHrOqNFxBMFOQZxkhCcHuw6E1FxVz6s7FK6Zi4NapOg="
appKey: "1234"
voucherId: 62299712
voucherType: 2
voucherCount: 99
order: "6170534756083"
ip: "120.197.152.211"
factor: ""
screenInfo: "FULL"

2021-02-23 18:18:03,168-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 18:18:03,169-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT pay_req_id FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and partner_order = "HKQ8Pz2Sk1hunZvy6oI7jefa94XgFLtr"
2021-02-23 18:18:03,173-INFO-fiz_db_operate-38-查询到partnerOrder：HKQ8Pz2Sk1hunZvy6oI7jefa94XgFLtr， 对应支付订单号：{'pay_req_id': 'KB202102231818052076075925417152'}
2021-02-23 18:18:03,174-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231818052076075925417152"
2021-02-23 18:18:03,179-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15042, 'pay_req_id': 'KB202102231818052076075925417152', 'notify_id': None, 'partner_order': 'HKQ8Pz2Sk1hunZvy6oI7jefa94XgFLtr', 'amount': 0, 'refund': 0, 'contents': 'KB_AND_VOU_SPEND', 'products_name': 'KB_AND_VOU_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '', 'sdk_ver': '', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'KEBI', 'direct_pay': 'KEBI', 'game_type': None, 'present_amount': 0, 'original_amount': 539, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 18, 18, 5), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 23, 18, 18, 6), 'trade_type': 'PAY', 'kebi_spent': 440, 'voucher_amount': 99, 'voucher_info': '{"cutAmount":"99","id":"62299712","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': None, 'mobile_os_ver': None, 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299712', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': None}
2021-02-23 18:18:03,179-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 18:18:03,179-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231818052076075925417152"
2021-02-23 18:18:03,184-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7728, 'pay_req_id': 'KB202102231818052076075925417152', 'partner_order': 'HKQ8Pz2Sk1hunZvy6oI7jefa94XgFLtr', 'partner_code': '2031', 'products_name': 'KB_AND_VOU_SPEND', 'ssoid': '2076075925', 'origin_amount': 539, 'amount': 0, 'kb_amount': 440, 'voucher_amount': 99, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'KEBI', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '121.13.218.233', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': None, 'app_package': 'com.example.pay_demo', 'app_ver': '', 'sdk_ver': '', 'mobile_os_ver': '', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 18, 18, 6), 'success_time': datetime.datetime(2021, 2, 23, 18, 18, 6), 'modify_time': datetime.datetime(2021, 2, 23, 18, 18, 5)}
2021-02-23 18:18:03,184-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 18:20:36,873-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:20:37,122-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:20:37,166-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:20:37,166-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:20:37,528-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 18:20:37,531-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 18:20:37,532-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:20:37,535-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:20:37,536-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-23 18:20:37,536-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "Z1GrV5NREYCo8lwxvIKWz0y2ef4LQntM"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "1.24"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "1.24"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-23 18:20:37,936-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"93190541a4d04808b018889e1df4691b\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx23182040376490234642eb623399230000\",\"sign\":\"03A01EF4AF0C093190032C77FF244652\",\"timestamp\":\"1614075640\"}"
data {
  payRequestId: "RM20210223182040E133TF5WCT061412"
  payUrl: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"93190541a4d04808b018889e1df4691b\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx23182040376490234642eb623399230000\",\"sign\":\"03A01EF4AF0C093190032C77FF244652\",\"timestamp\":\"1614075640\"}"
  parameters: "0000"
}

2021-02-23 18:20:37,936-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2491936088011497657285048117]]></transaction_id>
<nonce_str><![CDATA[t1O5XGRaTyjNSVhPpY7rxEbBADln2vUQ]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[180A983AAD77B07B8709AC8A72490842]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM20210223182040E133TF5WCT061412]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>124</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223182037]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 18:20:38,173-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 18:20:38,173-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 18:20:38,181-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:20:38,181-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "94858260859358"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "gHqvALitIu40bBml8s5KQeVNMw9yXcJR"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:20:38,266-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bae80dc739234f99be20c734ffcba8e4"
s_p: "OXIzc0NCM3NYckdEQk1DTUF6Y08zYVFzVTBxVGRZZUd0QTZyUEdTTWtNcUg5TWtWaVUxaVdYRVRhQ0dXVUZnYXB0TUFCQU42S243U09BMW9DVVpnQWU4R2F5Y1N0U3plWncxNzNRMW5jaVRraDZaR056ZEZZRG9CQlBjRGJ4WUpDUVlBeVN2dGtWWGxrUGpvTjF4MVRlQWkzSzFhYndFcVNpdHJlN2ZQQ2RMMDBRMlZOZ05Fb1c5ODg1bHQ0aTNGeE80NTgyUEhvN0x6MlpmOGdsQkdBd29YV1AycDdGS05qSTJRMzJ1d1k3ZDNQSnA0WEx2ZVJJRzVyRW0wMklVc20xbHhYd0ZNemRqZGtIQ3dUaXdxdWlNM3VBWkZxc1h4T2pkOGhYM0tsUEFYSWRjeEMyVUZHT3NXUm03bW9WSXVnVGlFeElWZXRnQzlUdldVRDZTRDhxVmN3MEFwaFF3SUUzc2w2MjVaNmJYeEFBM3VJaEtyWElnV2g3MzJsTmZ5R3BtOGVoZ1Rma2l6Rzd1SXpqeUpUNzFjb0I3WEI3WVB1Y25vV3BSYjByMTVOVVdNc29oUGRDNTVRQ3hDQlBJOXczREZGdWc4ZXcxSGRwek5WOFRWUVhMaW5ubFJmUEs4Ym1lYmxoQVJEaXFmN0RXOVBHc2Q1bzNzYjlib1ZUMEx0OWsybmJLWEpJbWYzZDJ6Z3I4UnRuNXpzU3ZOZFEzYjhSUDRlbGtCSVM0TU80bjFLTlF0c2dNSUM2UGZhRjZtOGdRSEJDblVwOTBGeFU1VWxDYVI3MVF3a3lZRGVHUmt4cHdmcjhrTGFyT3k3cmZTOEpTQkdyTldZNG1OcVVUaUlVSW1vSEJIQ0VNaVJ3OVBIMnRQWkxoWXdjcklCYWtWWlZtS2pycndSeHM2RldQQXZ6REY0UHlBaVJZWXdxVmdzRmlhWkZ6djFFdktlNGxNUnNxZGx4aG44MGpuaDhsZnRDT3ZST1BXZnNXYkZjenN1TEJTVEFrUVlmUHdCSk5QYWYxQm1CSzJ6VkJOc1dMUkZXRWtPVDE2anFpUGJLZTQ="
m_p: "KQ81NVuY22xCXp99C1OEH4pKKyMv3aVlqBuy7E18481t1h57y2YHS6i6Ol4TcV24"
e_t: "1614183640725"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "620"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:20:38,272-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:20:38,272-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "bae80dc739234f99be20c734ffcba8e4"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "1abwEqSi"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM20210223182040E133TF5WCT061412"
version: "260"
queryType: "PAY"

2021-02-23 18:20:38,324-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "1.24"

2021-02-23 18:20:38,325-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "Z1GrV5NREYCo8lwxvIKWz0y2ef4LQntM"
2021-02-23 18:20:38,329-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148695, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '72724313', 'notify_id': 'af4aad1f2b1b4c5fab1596b8c0474cee', 'request_id': 'Z1GrV5NREYCo8lwxvIKWz0y2ef4LQntM', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"72724313","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"Z1GrV5NREYCo8lwxvIKWz0y2ef4LQntM\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM20210223182040E133TF5WCT061412\\",\\"sign\\":\\"dLqB1K7k+61kp8K3QZbTi7sPUwMHrpYlqzwqBseUuyqt5NQZHjqtQUQAlp3gObnLqU89i8iZAD/d8Wkj6uRNkCWs2QuwGTmxXuxbzPC4uFESdU8cwjIHnMy1mld3ilMFZi3wbpdnPzVkFLv/Lp0hj/ab0h+V82XiOna4yYdxhFA=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"NO_LOGIN_PAY\\",\\"sendTime\\":\\"1614075640650\\",\\"productDesc\\":\\"话费充值\\",\\"price\\":\\"124\\",\\"notifyId\\":\\"IM20210223182040279\\",\\"orders\\":\\"NO_LOGIN_PAY1.2472724313Z1GrV5NREYCo8lwxvIKWz0y2ef4LQntM\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"72724313\\",\\"paySuccessTime\\":\\"2021-02-23 18:20:37\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"Z1GrV5NREYCo8lwxvIKWz0y2ef4LQntM","signType":"MD5","successResult":"OK","timeStamp":1614075640650,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 18, 20, 41), 'insert_time': datetime.datetime(2021, 2, 23, 18, 20, 41), 'update_time': datetime.datetime(2021, 2, 23, 18, 20, 41), 'extra_json': None, 'remark': None}
2021-02-23 18:20:38,329-INFO-lib.common_biz.fiz_assert-117-通知成功
2021-02-23 18:22:04,981-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:22:05,219-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:22:05,261-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:22:05,261-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:22:05,450-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:22:05,451-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "66739380558056"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Oo9wP7DzC5IlLgvAJpTryQfdmu82Neqj"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:22:05,592-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0b537a4d62714e13a5ed37b0b47f1ece"
s_p: "cWhudUI4UU81YVB4aDI3dWh3cThuSlBFU3E0YkdMUExVN0JwUHlYWVlOeUFZTkd0bU1FSmZyZkczVGdFVm9jNER1dXdzYjdWT1VaS1VPdlViTXlkMDBiYTh5bmsyUXhxQnNNMktka2ViZFhyREJ3QlB2bGFmNm5oRE1qWjVLQVc5SERPeUsyRFdkZmEzTHYzdmE5RDZSSFNhMWZwNEVwUjZPczhrMjc5Z3ZlanR3eHFUc2R3UGx4eXIxM3FPbWNtZVdNbDJydjIyTkp4ekF6c1RUalk5aGZ4YWtyNGFES2JKRGR2ejRHNzYyMlVMZURYQ2dTU1JsbktaQXc2TXY4SkJlUnBJWFc1YXhwMU1DWXJEMm1xdFBucDFaNEtvMjRCV21QZE0yZWdhWTc1cnE5M3kxYkx6d0RXSUpmdXFIcFdTU0k4U3kzOXNlNWlBTDBSUDRXWXFpZ3pmR093ZDhMWklqRkZ3ZkxKTXdLdXRqbXFYQ21WT0o4MjdBZ1VFeHh2SzdpbW1rWmJ6NndRVkdQSk5QZWlseUdVaVcwbWhDQnNMMFNqUUhtczliV3JtamRqbDhwUzBUMGhSSEY5MFNBRE9QWFYyZUFGRE8wRGtlOEZFQ3NFY0NBV1BEa2ZXeE1uRnRRYUpzQ01jcloxV25jOWRKSXE1c3BVeWQ4RTU3UjhWRHBValo0b21OOUZSOWwwa0NINTVaSGx3eHc0bDlWeWw0YjMwdGVJTXZwT2g0TEY3c1p0Wno2MnFFWkRXUnVZWml0cjFtSlR2SEVpZ1lZeER4TFRsZW1nVFZ0Y3E3TUVMb09NM2ViZWhBWmc3Y0VaM01rNzFmeVduRmR2M1FUcHlobm53SWZIZzFMbmtnanRKbURpbVFKbENVcFNKY0JTVHAzR2tiTlBuM2RIZUVQaU1XRVpETGRlcncwUGtaeWo2dzdHOFJIbG9md094WThwTEdRc0FwZXVYckNtQVFuWDEzd2tBVWZzVWZOQmhwaXhNSGtQRnE0TGQ2bTNyTjhRaHVkREVTd1ZrWkxzWGRaTkoyaEZ2SjFpZjUzSEhnSWs="
m_p: "oyFz3vQwFzVy94d5P797G3kg5Rvntp3B7i2z9MG40Wvy9vG6sCd5RJcZU35aGle3"
e_t: "1614183728042"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "620"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:22:05,596-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:22:05,596-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "0b537a4d62714e13a5ed37b0b47f1ece"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "YNyAYNGt"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231406382076075925558062"
version: "260"
queryType: "PAY"

2021-02-23 18:22:05,652-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "2.39"

2021-02-23 18:26:27,824-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:26:28,072-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:26:28,119-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:26:28,119-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:26:28,514-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 18:26:28,518-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 18:26:28,518-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:26:28,522-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:26:28,532-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:26:28,532-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "37049777154704"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "nevzUOkGcTVFlshHduQpy3ajC591Kr6i"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:26:28,628-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "8bda3a7c5e6e437ebcfdbe42f91118ab"
s_p: "bXphVTFZS0hUdDJCaklMZFpiTXBHNU9mSktMeGhteXVHVGJaME0zN3RiV1p3d2Y1SHd4QzhXcjM0b0xlNVQzU1JOUEF0TmQ0MGZicWx4YUcwdmdzNDQ1Z0gzSm1HYXpTWHFzUkNpM3VzcnNjSWlZUEtpYkt5Wlk4Mldqcmo3U2Zqc1dBNEZ1QXFrYVJhcWFvZ3hUQTdSemllM01IUFRua1J4MzRYTERUa2ZybmY4Tml0bWprNUlUNTFxSDZZN3J0OWM5WUZob1B1Um9pb2VQV21DTjJidEUyb0hLUnpqMXh3d0lXdUZqaDdWNUZiZk54aXRURm5td0dQV0xLZ0Y3aHlURllmNEg4a2RtVFltWDd3OXdwdWZHWm40TlBjc1RST0Fvb01XVTAxd3V1d3dFV0RTR1NlUUxKZ25nZnpvdFk5emJVYXdiMklRUk10WTlnamdyemplQ3BpdmdZbXczbFc3OTNUV25KaUY0clpvYzhMQU5lenBwdTAwTzZCQnpQM3VQUmRDQVZUNXVSZXBya0RKdzNveXNYZ0t2U0t4SU1NeEJTSUhkTG56M3paY0xLT1JNZjhVaWJVa1QyaDVTWWFsTDd4M2FTNXRscGxhRkg3WGRrSDZ5YUhxaXVBSlNaMFluV0tyT3ZoemdOWWtoTXVUbkdpWmNYb3VtSjd0VGF0VUlvaTVsUU0zTHM4Tkt3RW9JT2hvdUhaMmFIUW94elVLSng5bnVoZHJjRVIxV0p0TTQwNUhmS2NnVEtQRGlhWE1TQlYydzB6c0hOUmRDb1plckVxVlFkYU5iSTg4TkM0eVB1VUNsaXFwZ2dUazFDeFhBVXNseU5kMzAyN2x0ZXFzM01yWWdwZmdaUHVpVFg2OEQ1ZXhEODFVMWJDMm5URWNPR3V5eFh3YXVzQThReXh1SWdZb1Q3TENYY1FyWktOQTZuMHJNVFdROGtZR2Y2OXZxUzU2elpCYjRoOXFwOXhHa05pZVlneWc5cjRIZmdWT3FiczM0bTZkc3lpV3lmRkR4c1VId2JHaGh2dHpLOGlIVzZMbTFQc0xaM1B6dE4="
m_p: "qPX9jq0NXVN98WsQHl8jOjlOK08v3GL2QNq18p7PnpcJ489Ax746K123sn4k70mj"
e_t: "1614183991130"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-23 18:26:28,631-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:26:28,631-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "8bda3a7c5e6e437ebcfdbe42f91118ab"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "GazSXqsR"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.64"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "D70bRaHAlECjqu3dcs4G5tmVoXrzvfLw"
}
sign: "f9CGlxbkTq2UBW/0V8baXKtOb6ZYSF+U2tn27Qyi33UMXbOTvona9XvV5D5XloWgsBoOXSrOVHfHyXS9cqf7+7Fo7phvtHILTRM8qzbV8yp0bUXUOWJU45aeSalmtCLW7QZ6oFz1jDnoLRGIqVxc+oIUz7TDyGRB8CJi7uJ4G9TQnsNKRPkdsABcLIAO1uvWEKo4GFKzEjJDXBBi0Pc1H08m0F6hhMI43Kp4s27b3qmkPYFnzUxGmsYScGi3Qkaoq8DsZ8xEPHEj2hhMjFs9IKGBq6YnWRrkpFrf/PgZwya3xgiIjZOVo8CkgGRblhNsNZTLMDzlf8Tx/z61nBJoXw=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 18:26:28,996-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"c0af033cb7eb49ed8a14bdc1c95dd679\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23182631439986501f9c71304742c30000\",\"sign\":\"9F142E94209CDE5F05EEB47B3290ADED\",\"timestamp\":\"1614075991\"}"
}
payrequestid: "RM202102231826312076075925133572"
model: ""

2021-02-23 18:26:29,996-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8265394127238931839028779735]]></transaction_id>
<nonce_str><![CDATA[gKA80dtyUmz72rpNMSYHlZbBvELwnJVO]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[D86733330C36D7414281441B2D8B7314]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102231826312076075925133572]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>464</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223182629]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 18:26:30,113-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 18:26:30,113-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 18:26:30,121-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:26:30,121-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "56028983330275"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "IRmLTwPr21KcqzVDONfQAiS8Fj7Ztv9J"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:26:30,208-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bf6d579883d74f309d5d9c5460921d00"
s_p: "OTU2ODdGOGRBMm1qMmE4djAwTGszdEt2ODFyVVZ5NG5xR1FxUnpxWDFLVGRJM2oxV1RZbThuZk9WOW15dURWQ0d6aGhPSlI0MlRpOVJibWJGaVBycDNMekxQUUJhZ09menpIdlE3SzJqYmxQVGIzandMeHNPRU5uSlI0YVpiaDFvWG5CQTZlZUxHY0t5NjZ6SXNtQzlwYWFlTzJhakVTbXh6NkFmQ0N3ODdWMmE2Z1VYdDNOODh2WkVoTGloNjZUMzB2YnBocWhIcHNVTVZMdVFoaGNNUUZVdjAycjNBMmsycVFQcndJcTY4RFFVVDBlSlhNb2xSSURBRFRyaWdnNjZLeGNITmtsNzZFckh4MXRsOVBBdkpJU1JweG1EQ2toeWRIMHVsYnN0VDc2aUdBaGdSbGt2UGtUOXRSckNsaTZLalVVSUtwbEtwUDRFczN4Rm43c2VIZUlGN0VUZHY0VjNrY3FhaVV1bUVHQ0t4eUVmcFo5YTZkaDlNZVRUN0RRN1hmTVJFckZBajZ4MjhnZ3FCT1JLVFpzYUVNakFSbHpFSEhmTGQ0Mnp0c3duS094bFFKVThtMlpQeGdxVXJXOEFvV1h1ekJNbnBwY245VWZEMzRPckpUakRQSElkMHJGR2ZJZEdTUGtvZVBNT25XdVBJZVJKTW8xUEtBaWZhMTh1a2NNMWpZc2IzSkJTVzJ3Z2hRVTNLSEpNaTFNa2FQaFhzajcybWd6MGw0MmFUVVRVVXF0bUxZZTMwbWw5enphNGswUVY3NjNaZWR1U3YzQUtUbGlHTzFZazlISXExMGFtbzI3c0pNNUY5ckdrZTFXVGFHZVZDbjAyZ3M0RE96QnZOTDdyck9aODUwMFdHWmhlU1AzNGt2b1dYN0UyZWtLQVoxUDk3dWtIY2tidVczMlcxaGdXSHpQbllZWkhLRGx1cUlvYzVyRWVlUTVQdWxmeUNudGg4NURtQTMyRGpVSGFmMjNxSzFEMmhGR1RNeTNMQVJMRXBkcXRhMG8yWlJlTkJhUGhyNGo0MWNkMHo5QVI3cVVsYVhDSDg5b00yYnQ="
m_p: "NP14nPP20Pik5J5badY8BU6Pm22l8ds77w4ue4FXKDLTwiBpqYd58Noe0AP03488"
e_t: "1614183992672"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "620"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:26:30,213-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:26:30,213-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "bf6d579883d74f309d5d9c5460921d00"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "2ajESmxz"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102231826312076075925133572"
version: "260"
queryType: "direct"

2021-02-23 18:26:30,262-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.64"

2021-02-23 18:26:30,263-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102231826312076075925133572"
2021-02-23 18:26:30,267-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15043, 'pay_req_id': 'RM202102231826312076075925133572', 'notify_id': '8265394127238931839028779735', 'partner_order': 'D70bRaHAlECjqu3dcs4G5tmVoXrzvfLw', 'amount': 464, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 464, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 18, 26, 32), 'success_time': datetime.datetime(2021, 2, 23, 18, 26, 29), 'modify_time': datetime.datetime(2021, 2, 23, 18, 26, 29), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 18:26:30,268-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 18:26:30,268-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102231826312076075925133572"
2021-02-23 18:26:30,272-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7729, 'pay_req_id': 'RM202102231826312076075925133572', 'partner_order': 'D70bRaHAlECjqu3dcs4G5tmVoXrzvfLw', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 464, 'amount': 464, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 18, 26, 31), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 23, 18, 26, 32)}
2021-02-23 18:26:30,272-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 18:26:30,273-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "D70bRaHAlECjqu3dcs4G5tmVoXrzvfLw"
2021-02-23 18:26:30,277-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148698, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': 'fb8f3c9c57884f4a841b3fe90393db49', 'request_id': 'D70bRaHAlECjqu3dcs4G5tmVoXrzvfLw', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"D70bRaHAlECjqu3dcs4G5tmVoXrzvfLw\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102231826312076075925133572\\",\\"sign\\":\\"Mb+ic/wOehuGLbmUK4EKjAqV3ChaYDxYkEv2yEpsIVxFl82WKAXv2PbhXDpAzQC6u/n5F9CbO1lwyWApdUXMau+/CLpncZyyRtOSxb4wE/6tDtngvEvQIpkn1ntX+thLG3cJOHomw4f+0rHMPFiDVWp8Nq5WyymEyvsRW9BkzFA=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614075992595\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"464\\",\\"notifyId\\":\\"IM20210223182632556\\",\\"orders\\":\\"DIRECT_PAY4.642031D70bRaHAlECjqu3dcs4G5tmVoXrzvfLw\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-23 18:26:29\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"D70bRaHAlECjqu3dcs4G5tmVoXrzvfLw","signType":"MD5","successResult":"OK","timeStamp":1614075992595,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 18, 26, 33), 'insert_time': datetime.datetime(2021, 2, 23, 18, 26, 33), 'update_time': datetime.datetime(2021, 2, 23, 18, 26, 33), 'extra_json': None, 'remark': None}
2021-02-23 18:26:30,277-INFO-lib.common_biz.fiz_assert-117-通知成功
2021-02-23 18:28:15,926-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:28:16,176-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:28:16,219-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:28:16,219-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:28:16,605-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 18:28:16,609-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 18:28:16,609-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:28:16,612-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:28:16,621-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:28:16,621-INFO-lib.common.session.http.protobuf-41-传入的参数：token: ""
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: "1234"
count: 10000
order: "53029146088750"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "YantMAq9IXPDK2OyS3uWFd1heVGrpwJR"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:28:16,672-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "5005"
  msg: "\347\231\273\345\275\225\351\211\264\346\235\203\345\244\261\350\264\245\357\274\214\350\257\267\351\207\215\346\226\260\347\231\273\345\275\225"
}
t_p: ""

2021-02-23 18:28:18,258-INFO-lib.interface_biz.http.vip_login-39-返回的登录信息：{'resultCode': '11205', 'resultMsg': '当前环境存在风险，客服QQ:800105550', 'isVerifyCode': '1', 'verifyCodeLen': '4', 'verifyCode': '/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABQAMgDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD1rw/4f0Wbw3pcsukWEkj2cTO7WyEsSgySccmtH/hGtC/6Amm/+Aqf4UeGv+RW0j/ryh/9AFalBhSpU/Zx91bLoZf/AAjWhf8AQE03/wABU/wo/wCEa0L/AKAmm/8AgKn+FalFBfsqf8q+4y/+Ea0L/oCab/4Cp/hR/wAI1oX/AEBNN/8AAVP8K1KKA9lT/lX3GX/wjWhf9ATTf/AVP8KP+Ea0L/oCab/4Cp/hWpRQHsqf8q+4y/8AhGtC/wCgJpv/AICp/hR/wjWhf9ATTf8AwFT/AArUooD2VP8AlX3GX/wjWhf9ATTf/AVP8KP+Ea0L/oCab/4Cp/hWpRQHsqf8q+4y/wDhGtC/6Amm/wDgKn+FH/CNaF/0BNN/8BU/wrUooD2VP+VfcZf/AAjWhf8AQE03/wABU/wo/wCEa0L/AKAmm/8AgKn+FalFAeyp/wAq+4y/+Ea0L/oCab/4Cp/hR/wjWhf9ATTf/AVP8K1KKA9lT/lX3GX/AMI1oX/QE03/AMBU/wAKP+Ea0L/oCab/AOAqf4VqUUB7Kn/KvuMv/hGtC/6Amm/+Aqf4Uf8ACNaF/wBATTf/AAFT/CtSigPZU/5V9xl/8I1oX/QE03/wFT/Cj/hGtC/6Amm/+Aqf4VqUUB7Kn/KvuOa8QeH9Fh8N6pLFpFhHIlnKyOtsgKkIcEHHBorR8S/8itq//XlN/wCgGig+fzmMYzjyq2geGv8AkVtI/wCvKH/0AVqVl+Gv+RW0j/ryh/8AQBWpQfQUv4cfRBRRRQaBRVDUNb0zSR/p9/BbnGQruNxHsvU1DpfiTSNameLTr1J5I13MoVgQOmeQKCPaR5uW+pq0UmQTjIzS0FlHV9Sj0nTZbuTnaMKM4ya8kvviTq816ZLZxDEpwqgZ49T7/wAq6v4manaf2MLFLqP7UzZZA4yFAyQR7nH5V5JbeX9pj80ZTcMjOM0HhZniqkasadOVj0Gy+K12kYS7tYnbgbxkYA68dyfwx+PHpumX8ep6dBeRKVWVQ2G6iuBb4b2OoWy3Fvdxec/zOseNgJ7ZBPArtPD+mf2HocVm8m4RZJYgDj8OlB6GEWJi2q7TXQ1aKxLvxZotpEG+3wSswyiRSqzN9Of16e9WbLW7O8smuvMWOMMR85wcevP1+nvQdanF6JmlRVe3v7S73fZ7mKTacMFYEj6/kfyqx1oKCisPXPFuk6AQl3MWlP8AyyjwWpmh+MNI19jHaz7Ju0UuFY/QZ5oMvbU+fk5lfsb9cT4o+Ilnosj2ligurxepP+rT2JBzmuh8TXkmn+Gr+6iyHjiOCO2eM/rXzuzM7FmJLE5JPeg87M8bOglCnu+p0N7458R30m5tTliHZYMRgflyfxr1D4d315qHhfz725kuJfPcB5GycDHGfzqlpV74L0LSbRJJ7ATtErOxQSSZIyd2ASD7V12mzWNzYR3GneWbWXLIY12g84Jx+FBWCoVIT551eZ227fj+hbooooPUMvxL/wAitq//AF5Tf+gGijxL/wAitq//AF5Tf+gGig+dzv8AiQ9A8Nf8itpH/XlD/wCgCtSsvw1/yK2kf9eUP/oArUoPepfw4+iIL27i0+xnvJziKCNpHx1wBmuZt9W8QeJFjutGii07TuSs14u95u3CDoM+/NUviRqcgs7TQoARLqMiqWz0UMOPxJH5Gu0tLWKysoLWEYihjWNB7AYFBg5OrWdNOyja9u7PFfiHaajba9C+pXEE80tuCHhjKDAJGMZ61haTrV5oslxJZPsknhMJbuASDke/FegfF22zFpd2F6NJGx+uCP5GvN9Olhh1O1luF3QpKrSL6qDz+lI+dxsXRxb5Xbz9UST32pFhJPcXOXOQWZhn6VYtfEms2ZzBqNwPq5P86+gTaWk9r5RgieBlHy7QVIxxXi3j/wAPQaDrKm1QpbXA3Imc7cYyPzoN8XgquGh7SM7r7jm3W6v5Zbnymck5dlXjPv71Wxk4FdD4TX7Vd3Vic5ltpHiA/wCeiqSv9a59chhg4OeDQefOmuSNS+97l/TdYvdLlzb3EiIfldQeq5BI/QV7TBq02p+Eru5kULMqlTtI+8QDgepGQBnrj3qh4c0jRNf8PQNe2NtNcHdJIdmGXc7cbhzgHIHPaung0+303TGtbK3VY1Vtse4/MfQsefbNM+lwOGqUYu8rxex88ag0/wBulM8jSSFsl2Ynd75PP51dWfVdVRbOzE8kEfCRr2XoAcf5yTUOuIsWqyxqhUJ8o3dSB0z2JxjkdcZ713vw0KyuTFa5KDa7kZCjO4nORgk7ccHhPqaR4tGg6uIlS5rI8/WbU9GuiuZ7WZDyrAqRgg8g/QV2el/Ei5ttPmjnIMvlOsWckKQcp+jEf8BFdR8RtLtbzR0ncKtxExYHHzMoRsgfofoprxjYwk2MpDA4I75oKre3wFTlhK6Z0dr4e17xfc3GpQwZSSRiZJHwMk5wPXGaxXjvNH1ABt8FzCwIIOCD617j4dvtJsfD1lEL2ziIhQtmVV3HaOTz1rzb4ky2Vz4iSeymglXyVVzE4YFsk54+uPwoNMVgoU6KqxleXUxb3xPq14JUN9cCGZAssPmEoxxgnHQZ61jV0Xg3+xn1hoNdjhNpJG2HkYqEYcjkH6iufkUJIyhgwBIBHQ0HnVeeUFUlK97/ACNKx8OazqUSzWemXMsTfdkEZCn6E8GvaPA9tdWXhKztL23eCeEurI4wfvkj9DXOeCPGWjaf4VtrK/vRDPCzrt8t2JBYkHgH1/Suh/4Tvw+fuXU8n+7ay/8AxNM93AU8NQSqKpq1tdHSUVj6b4lsNVu/s1sl1u2lt0lu6Lge5FbFB68JxmrxdzL8S/8AIrav/wBeU3/oBoo8S/8AIrav/wBeU3/oBooPn87/AIkPQPDX/IraR/15Q/8AoArUrL8Nf8itpH/XlD/6AK1KD3qX8OPojzjxj/pHxL8OW/UIY5CP+2hP/stej1zN94VkvPGtnr5u1EdugXySnJwG759WrpqDDD05RnUlJbv8LHG/E61Nx4OklH/LvOkp/Elf/Zq8WiKrMjONyBgWHqK+gvFtqbzwlqkIBZvs7OABkkr8w/lXgE1pc24Bmt5ogehdCv8AOg8fOKbVaM0uh7v4OupJNFNjcNuudOka1kP94L91voVxXNfFu236dp1wOsUjr+DAf4Cuz8PSLN4e06cBd0ttEzkDq2wZzXM/E27sH8NvavdQ/a1lR0h3jf1weOvQ0HqYiK+puMn0/wCGPLdAkVNbtg0zwCRvLMyHDRBuCw/An8Kr6onl6pcqNuPMJUoMAg8gj6iobZpUuY3gVmkVgyhRmrusQaj/AGhLPqFq0M0xMjAJgcnsO1I+aTcsPypPR/LY9K+HeuWkOhSpe3ttbrEQFSR1QKuOoye5ySPXJ/iravPiF4as8j7eZ3H8MEZb9en61wfw50DS9buLs6javOYQCo8zCDPqAQc+nUdc9s+rWei6Xp+Psen2sBH8SRAH8+tM+hwksRUoRcbJfN/5Hhfiy9t9S1p721tJ7eKUZ/fIFLnucDj+dXPBEWtXWqSQaLcxQShC5eYZVB0yBgjPOOnf610PxU02aTU7K5ggeTzEKEohPI6dB/X8Kx/AMN5Z+LrcyWsyIQVctGRtB9eOOfp9aR5jozjjrSb1e603R1Wq+DdXm0y4udW8T3VwIo2cwxoQnAOeM88ZHSvKJ42inkjYEMrEEHsfSvpeWPzYXjyRuUjI7V836pGsOp3EaFCquQCmcfrQa5thoU4RlH82/wAz1zwTo2h6h4dinl0yzkn3HeJIVYpnkDJHI2kHPvWL8UNGsbKwsJrGygtjvYP5MQQEYHXA7H+da3wsmMnh2aMscRzcLtOBkdc+p9OwA9aufEu387wdM+QBDKj4PU87eP8Avqmd06cKmCcklflPKPCsqw+KtMZ1Vla4WMhhkYY7efzqTxlZix8X6nAFCr5xkAHQBgGH86x4JTBcRyr95GDD8Dmuw+J8Cx+LRMpBFxbJJkfiv/stI8GPvYSS7ST+9WOi+EV0WsdTtCeI5ElA/wB4EH/0EV6RXkHwmkZfEF5Hg7HtSc9shlx/M16/TPosslzYWPl/mFFFFB3mX4l/5FbV/wDrym/9ANFHiX/kVtX/AOvKb/0A0UHzud/xIegeGv8AkVtI/wCvKH/0AVqVzXh/xBosPhvS4pdXsI5Es4ldGuUBUhBkEZ4NaP8Awkuhf9BvTf8AwKT/ABoPbpVafs4+8tl1NSiuH8Q/Eqw0mc29jEt/LtB8yOZfK59xnJ9uK5j/AISDxH4m+/rumaTat2+1pEcfmX/PAoOepmNGMuSPvPy/zPT9S13S9HTdf30MBxnazZY/RRyfyrjdQ+J1vM5tNG0ue/lfKjeuA30UZJH5VS03wl4OgfztT8SWl/MTlgbtEUn8GyfzrsbHUvCmmReVY6ho9uncRzxjP155oI9rXq7yjBfe/wDI4+LSfHWvxLHNNHo9jjAhj/dAD0Cr834EitbTfhdotqN1/JNfSnruYoufoDn9a6T/AISXQv8AoN6b/wCBSf40f8JLoX/Qb03/AMCk/wAaBww2GT5py5n5u/8AwCzY6XYabD5VlZwwJxkRoBnAxk+p96mmt4bhGSaJHVgVIYZyD1qh/wAJLoX/AEG9N/8AApP8aP8AhJdC/wCg3pv/AIFJ/jQdiqUkrJoWx8P6Zpt7Jd2lqkMrrt+XgAd8D3rTrL/4SXQv+g3pv/gUn+NH/CS6F/0G9N/8Ck/xoBVKS0TRomKMyiUxqZANofHIHpmmT2lvctE80KSPE26NmHKH1B7VR/4SXQv+g3pv/gUn+NH/AAkuhf8AQb03/wACk/xoH7Wn/MjUrm5vA2iXGqTX88DSySncwZuNxPJ/H0rQ/wCEl0L/AKDem/8AgUn+NH/CS6F/0G9N/wDApP8AGgmUqM/iaf3F61tLeyh8m1gjhjyTsjXAyfanTwQ3MLQzxJLE3DI6gg/UGs//AISXQv8AoN6b/wCBSf40f8JLoX/Qb03/AMCk/wAaCva09roxr34b+G7x9620tsx6+RIQD+ByB+Fa114X0e+ube4vbNbmW3iWKMykkbR6joevcU//AISXQv8AoN6b/wCBSf40f8JLoX/Qb03/AMCk/wAaDJRwyvbl19DRhhit4ligiSKNfuoihQPwFPrL/wCEl0L/AKDem/8AgUn+NH/CS6F/0G9N/wDApP8AGg19rT/mX3mpRWX/AMJLoX/Qb03/AMCk/wAaP+El0L/oN6b/AOBSf40B7Wn/ADL7w8S/8itq/wD15Tf+gGis7xB4g0Wbw3qkUWr2Ekj2cqoi3KEsShwAM8mig+fzmUZTjyu+h//Z'}
2021-02-23 18:32:15,355-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:32:15,633-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:32:15,680-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:32:15,680-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:32:16,130-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 18:32:16,133-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 18:32:16,134-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:32:16,137-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:32:16,138-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-23 18:32:16,138-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "4oJclgtWEk7Ubf3SyNQvHxq5B0C1KieM"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "4.88"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "4.88"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-23 18:32:16,598-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"0c0f3205b2f4469888bb72ce5b354e28\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx2318321903973396f64e26d58dcce10000\",\"sign\":\"2D96B72319DFB9088BF4319C0DD9A4A8\",\"timestamp\":\"1614076339\"}"
data {
  payRequestId: "RM202102231832180A9VCVO56W044522"
  payUrl: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"0c0f3205b2f4469888bb72ce5b354e28\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx2318321903973396f64e26d58dcce10000\",\"sign\":\"2D96B72319DFB9088BF4319C0DD9A4A8\",\"timestamp\":\"1614076339\"}"
  parameters: "0000"
}

2021-02-23 18:32:16,599-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1738661956104567699658702750]]></transaction_id>
<nonce_str><![CDATA[svBAtHhn8WydZu7q4pNaTiz61YQjPeIx]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[7A3B6AB64E862B839ED312272FD06357]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102231832180A9VCVO56W044522]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>488</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223183216]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 18:32:16,831-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 18:32:16,831-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 18:32:16,839-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:32:16,839-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "89591670265407"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "DvBx8ygn4bjdEGcWrLI6wiMTXzN0ZamR"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:32:16,952-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "74341e55c7b3475e94de1f9b26b5defb"
s_p: "SkxVTXR5dkRRcmZLOEpGOEo3TGNpeU10WHRKaUFSQzlUNldCOGZ2MkdENzE1VkQzanRCWk1VMUpOc1BMUndZVFV5bHhDRlI4UEtVMFVRR2o4NkkxeWkycERvNlBReURqRzhVTkF2dHNrbzFxQ0dtTHNVaEZibjZYMzVzNUNRanB2ZThXdGM5UnNqakJlV25ldXdFTXlUYjdVQlV6bUw3eFllREdMRE9nSW56eEVmN0RJVm5lZUxPMnlMUGk3a3ppcEdHWFBGZTVBOGgweUMxdldCY1V4cDl2aHJDclR1T0cwc09TY250dmlJS1F5OWRabnFKS2VZOFlybzgyVkF2MnlnUXE4b2pqNFFsN24zNVpwRXpRa09nTlFLbmFLWE5yVENKQldGSUFqQ25LMWxkVHNQeWNQSzk0NzUyRFNLRDBWdzZmQW52Mnh0WmUyR2RmSU9URTRMS1cyN2h0ejZKYW04bVZ4cnc5NHpsVFhZT25GR2Z1WW9vbVVmbUFrZ0FxWlV0S0Y0ZlZ0aW83VGRVTHVSRjNNQXppWmhCODkwMEtES0V5V09jc0dQRGdSR1g3Q1FBb0U2bHRSZzd2UWQ3c1ZSbWUwTWhkYjZsb0FVOUlKc0F3R0ZEQlhIT0VMUmxVdjNpZDRtalVCYVpOYU00NGREY1hkazdTVmk0YVdIaXVOZlJYZDVtaW9hY2dWYmZUMHd6TDhVMWQ5Q2FFdFB0RVB4clRnUjJEV1lBYmE0T0F5cjhZeXF0VWZnWlFkQ09RY1VkYjV4M0pPbW9ubzhoUE1SMnB3ekx5RGtmZVhIYjE3S09YZFNsUHlnMVAwQklLR3FQVGN3N0ZXY0QxSHJEQkxwdkJlREZoY0E2MUxMcGY0MXlYVGl5SEppNFBxMUY4eVY3Ujc5TElNb0dlUFJwU1pDaU9HUDZCUVNSWml5NUdHZEVUSDdOanJrWnQzZHdOOXhtVVhxWHdqYjU0T3AwbVZtQkFVTXRlZUg4b29hVW50YXJKaFZ6R0NzUmVKSENibDRISVluQnRZd3FIczRsUVBoSGZ0cE9MRnZTMDk3UEw="
m_p: "pbip3Q6YvCBd20OQAg0aQaLYf11VT5St54t9Op88wnUBJ2AGmy2ZoFHiN32kK8W5"
e_t: "1614184339394"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "620"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:32:16,954-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:32:16,954-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "74341e55c7b3475e94de1f9b26b5defb"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ko1qCGmL"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102231832180A9VCVO56W044522"
version: "260"
queryType: "no_login"

2021-02-23 18:32:17,009-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.88"

2021-02-23 18:32:17,010-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "4oJclgtWEk7Ubf3SyNQvHxq5B0C1KieM"
2021-02-23 18:32:17,014-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148706, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '72724313', 'notify_id': '5d42f52a8e2a4cef9ff16b08605a2d0e', 'request_id': '4oJclgtWEk7Ubf3SyNQvHxq5B0C1KieM', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"72724313","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"4oJclgtWEk7Ubf3SyNQvHxq5B0C1KieM\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102231832180A9VCVO56W044522\\",\\"sign\\":\\"LLZdq4xPRjV4i/QZsrw4E+SziF4lnTodoy50at294DLwa9g8qI50N2+0NAsRysODSy+f0yfRap8DLe5hRo/wxBweoEVwEZNjHi2RhkZl9/COgg5ZUPwz+h+2fvUpzwBAwL2bOSCUeOYIRkBOU4wsBvgFZ4yrkA0waEX7atJ1V/0=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"NO_LOGIN_PAY\\",\\"sendTime\\":\\"1614076339320\\",\\"productDesc\\":\\"话费充值\\",\\"price\\":\\"488\\",\\"notifyId\\":\\"IM20210223183219298\\",\\"orders\\":\\"NO_LOGIN_PAY4.88727243134oJclgtWEk7Ubf3SyNQvHxq5B0C1KieM\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"72724313\\",\\"paySuccessTime\\":\\"2021-02-23 18:32:16\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"4oJclgtWEk7Ubf3SyNQvHxq5B0C1KieM","signType":"MD5","successResult":"OK","timeStamp":1614076339320,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 18, 32, 19), 'insert_time': datetime.datetime(2021, 2, 23, 18, 32, 19), 'update_time': datetime.datetime(2021, 2, 23, 18, 32, 19), 'extra_json': None, 'remark': None}
2021-02-23 18:32:17,014-INFO-lib.common_biz.fiz_assert-117-通知成功
2021-02-23 18:33:08,381-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:33:08,665-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:33:08,709-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:33:08,709-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:33:09,101-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 18:33:09,104-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 18:33:09,105-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:33:09,107-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:33:09,117-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:33:09,117-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "6.0"
appKey: ""
count: 10000
order: "01140042439460"
ip: "121.13.218.236"
type: "1"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "C1sTP8fv7tiIAhB96jHS2kwOrpKW4V3D"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:33:09,188-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f231a042319048998bf484039be0825d"
s_p: "cFpQZ0Q3V1hiUVpNeUhlMnVkQWJRMENsc3RHbjN0ZE0xRGtEYVV5NG51SkN3REV4WXk2VjlYYmpiSEZmbXAzV3duZ05lRUliTm56Nm1aS1o0bkt3S092eEJRSlU5dGZGSGlvSDY5TzNhWUk2WTFkaUtzZllEUzgxWTE0dnVaVHdZdklMRlNCVDI2RnBFWERWR3FvNmJSSERRSTVlNWhFSWxBQngwTzNOSGROTGpYYlhYaVVkZDc2ZHJseTRGZUliWkNuaGtqNmUwYW1PaG1TQXhPb3d4UGNRUk1pdlI4Y2F6dTNuMnljVFcyRWU1ZThYSGhyZ1Y5MWVwRVFaSkZxUWFSeVhOWUxWN09rWDBHNkFnbUZudEFWZVJBYmJIS1VsVXYzc28yeHRGbWZ2RDJqVjZpUmlBNjFaU2IybHM1NnU5WFQ2NXdNaHltdXYzMkpVMGJuNXRGcElyUlltNmVZa3kyemhQQ29ZVXVsaDFGTTlVQWlFVzdhNmVyWXYybWdpdWkyaGpLU2RYbjlsMWZjaFE4T216MEdUMlNaenRIc1JyY0R1b3RhSFMzM3paMjdlUUZDUFV2TkVuY1VoeXRFZUxXMTdHbHBKaTJVQjU4VWRBY0hVazB2aDM5c1hPTVVtcGx0c3JRdlROVEtzZFA4MXF1b1NjdXRTQUt3TVNKUUowckFyekRJb1hIRmN0Y0xIQnFBN09MTHpVdEFpTURtY0tzazBXTVYzcXJjcDd5T01hVVlEZDVNajVBN2RTbEJHOGdldFRSUXBrUVd2MnJFUTRRNWhydGJJUVpKSkdYcnVYazA3VUhramo0V2dpNUh3TGpZSDJiNDJxYVY0RWhSemJaRG9JS2VDaWxmbGZpR1psVWUxaGRjb2FKanJpRFhSRGlwbWh5aWlUMlk0T3FsS0t1VWhLUnFueTEwdWMwSTUxbEJialNZUzl5V2JqZUwyTlF4SG81Y3pHbGhIbDNBc1ZYbWJQaTI1Zm12U3NBOG5kU2N2NWM4dHg3NVJmZFRMNVVQRDUwOE9SYjlESGFMVXpETXdCalVNdFdsOUFpSnI="
m_p: "EM23rLh97oyW4fn84U42WJs9J49uhH9bpivvs6TI6MzZEm31Y8M7V5zyttmWo0JA"
e_t: "1614184391686"
balanceResult {
  baseresult {
    code: "0000"
    msg: ""
  }
  balance: "0"
  vouBalance: "0"
  vouNum: 0
}
userinfo {
  username: "156******06"
}

2021-02-23 18:33:09,190-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:33:09,190-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "f231a042319048998bf484039be0825d"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "wngNeEIb"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
type: "wxpay"
amount: "8.43"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "DIRECT_PAY"
  productDesc: "DIRECT_PAY"
  partnercode: "2031"
  appversion: "1.1.0"
  currencyName: "\344\272\272\346\260\221\345\270\201"
  rate: 1.0
  partnerorder: "I4gNKphcP9eHYBGbvXSWZ7nR0dLJx5U6"
}
sign: "H7pZJUO1G3dJnoYRiOqaMtZUhi2ZOTSb9P/lcnmSsNEzg5BbhPzG2eUmKUe5U3vNZkdBEynTYycfyyrRFeMZ5mbSo2bY9n+i49jiV1aCSaywc3JubuaeKqMLwmoLKXFcKi0qEDrEMCFdZCyTDAgr3JPjlDm2QDEVkUs2ixKNH7Cc/imgRcPVOxZ8apVgnIB1IsF4AzmEV0ngXWLeBhDGFAEvQKYxFsHZPykrJN1ANI76I44WbRqDXZJhKmt5eVLmI+GxgNwbiXi//k7stC3e8yT3easQpzW6eTCeAIoN/o+4nOHra7lDPvknKZVrTTRZTjG1gscxnb/EpC1FyPEMDA=="
ip: "58.252.5.75"
isNeedExpend: "0"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 18:33:09,581-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"a6d33d34cda349ac9de05d5af4560de1\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx2318331201966918a3ac46579c95d20000\",\"sign\":\"2CFE4B28C4FEDD49109AD815FC1B2111\",\"timestamp\":\"1614076392\"}"
}
payrequestid: "RM202102231833112076075925037642"
model: ""

2021-02-23 18:33:10,581-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1425873421971807686412409775]]></transaction_id>
<nonce_str><![CDATA[Q6Sf3ZHeJTiuqPs1G7w9tIW5xrdcClBg]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[71F67A77AEBBA220427AF443BE4422C8]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102231833112076075925037642]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>843</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223183310]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 18:33:10,708-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 18:33:10,708-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 18:33:10,717-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:33:10,717-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "34010219055212"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "v4ZIHWr9OafCQDzR8xBplEMAguk61Ftc"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:33:10,804-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "0837b6d11a7b4e0ea963824fa3ff474d"
s_p: "ZTd3dUpzQVlNOURIR0F5RDVveE84eWFRalg1a3NGeE81OThDNlVUY1lRS3pHUGlIVzlGOWZ6SFg0VDhIam9aY3BlM1ZNa1NSRFZET0IzSXUzYXlKM1l4YzFsRzYza1NFQXk3TDhFNVVTYlVzN3VWVkFEZG5mOFlDd0I4SHBWWVNDRlJ3VXR1N0hoeXFBZ3VESnZiTG0xRjNzOFdkTXR2c3RFNkVlSkVJZE9jdlhqcDdPSTZjbEFHOXV6UDBWQndnS0h3dEY1S0JwR2tiMEhRM0hxaXZzSjQ5S2xhYzRSNmxtSHpmUXE2bWJLYU41blMyY1RhYXBlMTNUTG53Wldack42Z3UycHNZUUtCczkzZlZaQXZHYmRibm5Hd2ROUlA3b1htbXZYZ3dHc0F5djVoY2xWSGFkclRySXlDaTI3M0pZWENSR0Via3JzdEd5d0Q1Nmw3NHFxcDhWQWtjWnh5VEpXZ09ialllTE5mcEZpMFM5UlJaRjMyMDZ6b05mWG5xaWx3a3pnZmczZGJqRHFtRklNMjhJZHRyNjdtSGcyRmo3VW14NFhZeVpBTFBwc3B4QWtwdlBYQUlyUzNOckVaN2F4c1VUZUNuNkYzRXpTeTZ0Z292M3cxUjdCb2pZaVJQRHVnNUJRMEJRNVNFUVcxdHA4ekpOV0djU3cwN2dpRFFtbjVUNVA4eWNVWGtzNUFvVVFCNGdNcThjQzNmaVRkM1NOSmhBUGVEYzBEM0M1aXB0VG5MYVVxcFU0VjBsZVAzbklSY2Z5Y1dEYkVDR3pVdExBTldpUVFsbXgxNUk5ckRqdEttTDRWdWJzaUR0R3NVNWRVN20zY1psSklyVVdsYktwODZGZWszSXNLanZKYVl5YmtiTU5HbnZWZFlJRk9yRmpsNXVXZGhxdjBSWklQdENYYWZ6SlRGd3FnWkdXMGJLb20xSnpxV016REQzR25kZjJ0MmRpU3RObnJMRk9KdTNXZWpKNm1xbU5lRUNsMWh0SlJqTTRSY0tmUnlMYkF0dVdBQzZHR01IbExIcHJ3b3I5SW9UNTU5MEdsUDlGV1A="
m_p: "1f0h7S20IL1eHr14N3296vcjO0h3UG1qn7G2pd43lZLQMZqp5LFBob18iT572lYx"
e_t: "1614184393271"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "620"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:33:10,809-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:33:10,809-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "0837b6d11a7b4e0ea963824fa3ff474d"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "YQKzGPiH"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102231833112076075925037642"
version: "260"
queryType: "direct"

2021-02-23 18:33:10,883-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "8.43"

2021-02-23 18:33:10,884-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102231833112076075925037642"
2021-02-23 18:33:10,888-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15044, 'pay_req_id': 'RM202102231833112076075925037642', 'notify_id': '1425873421971807686412409775', 'partner_order': 'I4gNKphcP9eHYBGbvXSWZ7nR0dLJx5U6', 'amount': 843, 'refund': 0, 'contents': 'DIRECT_PAY', 'products_name': 'DIRECT_PAY', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'ZHICHONG', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 843, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 18, 33, 13), 'success_time': datetime.datetime(2021, 2, 23, 18, 33, 10), 'modify_time': datetime.datetime(2021, 2, 23, 18, 33, 10), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': None, 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'voucher_id': None, 'factor': None, 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 18:33:10,888-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 18:33:10,889-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "RM202102231833112076075925037642"
2021-02-23 18:33:10,893-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7730, 'pay_req_id': 'RM202102231833112076075925037642', 'partner_order': 'I4gNKphcP9eHYBGbvXSWZ7nR0dLJx5U6', 'partner_code': '2031', 'products_name': 'DIRECT_PAY', 'ssoid': '2076075925', 'origin_amount': 843, 'amount': 843, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'ZHICHONG', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.255.79.104', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '1.1.0', 'sdk_ver': '260', 'mobile_os_ver': '17', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 18, 33, 12), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 23, 18, 33, 13)}
2021-02-23 18:33:10,893-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 18:33:10,894-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "I4gNKphcP9eHYBGbvXSWZ7nR0dLJx5U6"
2021-02-23 18:33:10,897-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148710, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '2031', 'notify_id': 'ca295236976f4c2b8027bed03a7b1a9b', 'request_id': 'I4gNKphcP9eHYBGbvXSWZ7nR0dLJx5U6', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"I4gNKphcP9eHYBGbvXSWZ7nR0dLJx5U6\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102231833112076075925037642\\",\\"sign\\":\\"CbeNxznTr+euHoQt96+nt/Z/MrFLnxKL0hiLXTBeim6asNI0Vpa0dUtMLDzC4ZiJ6vzyGDDnoQbov3bk0acH9gQnHeFHuMJ3CgDYypwhL9Bc/oqVFrxYybxOGiGX1VqI72leeKQkUp9MmRNfR4i9e12WsHcfotrCXMwApSDYyUM=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"DIRECT_PAY\\",\\"sendTime\\":\\"1614076393201\\",\\"productDesc\\":\\"DIRECT_PAY\\",\\"price\\":\\"843\\",\\"notifyId\\":\\"IM20210223183313727\\",\\"orders\\":\\"DIRECT_PAY8.432031I4gNKphcP9eHYBGbvXSWZ7nR0dLJx5U6\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"2031\\",\\"paySuccessTime\\":\\"2021-02-23 18:33:10\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"I4gNKphcP9eHYBGbvXSWZ7nR0dLJx5U6","signType":"MD5","successResult":"OK","timeStamp":1614076393201,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 18, 33, 13), 'insert_time': datetime.datetime(2021, 2, 23, 18, 33, 13), 'update_time': datetime.datetime(2021, 2, 23, 18, 33, 13), 'extra_json': None, 'remark': None}
2021-02-23 18:33:10,897-INFO-lib.common_biz.fiz_assert-117-通知成功
2021-02-23 18:35:45,821-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:35:46,059-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:35:46,102-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:35:46,102-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:35:46,542-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 18:35:46,546-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 18:35:46,547-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:35:46,549-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:35:46,550-DEBUG-lib.common.session.http.protobuf-35-无需加入随机字节，标志位：1
2021-02-23 18:35:46,551-INFO-lib.common.session.http.protobuf-36-传入的参数：header {
  version: "16.0"
  token: ""
  model: "PAAM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvDf0ABC"
  sign: "CC955D1FC09386124482A6FCFD00E6BA"
  sdkVer: "220"
  appVerison: "260"
  ip: "0.0.0.0"
  openId: "E28C3DF751C14EFAB2D9893DC83058B6c7ab335d8d6d240bca10fdf35c0be85e"
  brandType: "OPPO"
  mobileos: "12"
  androidVersion: "28"
}
partnerOrder: "IvcqQZhNt3SPJ8H4zBbTu0kGoadMmlge"
partnerId: "72724313"
country: "CN"
payType: "wxpay"
channel: "wxpay"
payAmount: "6.19"
currency: "CNY"
product {
  name: "NO_LOGIN_PAY"
  desc: "\350\257\235\350\264\271\345\205\205\345\200\274"
  count: "1"
  priceLocal: "6.19"
}
returnUrl: "finzpay://nearme.atlas.com"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerParams: ""
extendParams: ""
businessChannelId: ""
walletVersion: "0"
oppoucVersion: "80407"
screenInfo: "FULL"

2021-02-23 18:35:46,988-INFO-lib.common.session.http.protobuf-58-返回的参数isSuccess: true
code: "0000"
msg: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"8e218c92f7c94dd997697abaf3deed43\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx23183549430641d38b3ac17aac9a3e0000\",\"sign\":\"E5B21EEEF539F4E7F43DAA6C659698C9\",\"timestamp\":\"1614076549\"}"
data {
  payRequestId: "RM202102231835491T430B3L4G423512"
  payUrl: "{\"appid\":\"wx4eb8c6906f493312\",\"noncestr\":\"8e218c92f7c94dd997697abaf3deed43\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1287273601\",\"prepayid\":\"wx23183549430641d38b3ac17aac9a3e0000\",\"sign\":\"E5B21EEEF539F4E7F43DAA6C659698C9\",\"timestamp\":\"1614076549\"}"
  parameters: "0000"
}

2021-02-23 18:35:46,988-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[3880709900814088522746966027]]></transaction_id>
<nonce_str><![CDATA[iwElDy0qnVSWNCpBXtFO8mvuPZkHa1As]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[0C4EDE0E1F257136C6F93CAF62452E27]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[RM202102231835491T430B3L4G423512]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>619</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223183546]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 18:35:47,125-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 18:35:47,125-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 18:35:47,133-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:35:47,133-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "24325106948667"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "OyZpRB048zg5dGQWo7JebCsl2avj3HYV"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:35:47,224-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "22bd1e7952a6448da55d90b7b657d7a0"
s_p: "QXp1NGp4YkF2eVR3c1ZzYkdaTUJYNDlMZ0thcmRBNW9nQnQ4ZGE2MGt6WVRLQXJLYTlocVZtcHpjcFhLQmV1c1hGY01qVjREcTRzMURNcEpHVWhLc240Mmplc3RKMmhWaEJWTWN4bTJqRzFZS0ZPRnVsRUlESXBEekE3RTRScGZNOVdjT3NmU1puTjRKWkM1UXF4dU5xNm8yaEo5Y1FmWERRckZKWVpXdW4xMVdkTmU2UEQzYm5MdXlQblVTUzM2VXJYUXhoZklvT3dQREdoNzFoSDB5cG1tdFJzUFdaaVRFR2RWQnJZSmEzRmswMmE0N1ZjZm5sN2R0OEVRYURsYU5JQmxjTTVIcXY0dU1JU2hPUGxEZXdpWnJ5RDE4Tm1sek5keUVMbjdUV0xEQkNkM0taemF1elhJSk5Odlljd1ZZRGRYdnRNUXFLZThaYWJZWmdMemdvMmo3ZktBUmE2QkYzVDJBQUVaUWQyZDZXZUY4T21nUHRkWGc1VlBKRzZNU29mcXpZNjJwOFk5VGlZT1ByaEUwQmNHMDJOMExaWDFHV1FsUkdOV0dvVHVvbWJzQXVsTmxFUEUyZWZpT0R3QURkRFhwek9HdnJwVGVJc3pkRVh4N1JzQ2d0RjlFTTFUbElNMkxva1ZCZ09FNFlqNlVqVVlUMzc1UVQxQXczenR4THBBUXhWSHQ5NmxGQ0U0ck5DNmhPOEtVUko2WEp6cGhtSUo1YzZBeElrRUMzQ2lkYkJuYTdBbnh1Q0pnbXlrbjJDRnZhZkpPU0VySXo4akFSMFhZTzE5UjRCaG1NOTY5cUhPSFl6cEg1ZW05UExrTVlSU3VpVkNiaGhlV0NjV2Ztak9hT2J0Q3dwYjRlMTY5bzVuSWhGTnVtcTA3OTNhWGVqZ3BWZGtud1Y0Y3c3dWRyY3duMmtVTDR5THhsbkR2VjlPZ2ZSQW1Zc25SQmdMSndXcWtPQW9reFpWWlZGcklsTFppY2J4UlA0a091aTBSOHBIQkJPS1dSbU1hNnF2WWFKVlNneG81VTJwRG9ZWWI1cmtEYzNmM3hyNDljZm8="
m_p: "u0956L7Pxwy64T6eriQe7U4Fkf84nXV6qchZGmjlnc87sIYjT4jS9h08YGA2n3DH"
e_t: "1614184549694"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "620"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:35:47,228-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:35:47,228-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "22bd1e7952a6448da55d90b7b657d7a0"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "jestJ2hV"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "RM202102231835491T430B3L4G423512"
version: "260"
queryType: "no_login"

2021-02-23 18:35:47,276-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "6.19"

2021-02-23 18:35:47,277-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "IvcqQZhNt3SPJ8H4zBbTu0kGoadMmlge"
2021-02-23 18:35:47,281-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148712, 'app_id': 10003, 'app_name': 'opaycenter(测试环境)', 'app_sub_id': '72724313', 'notify_id': 'fb40e9df36004db5a4c24438a623f0b4', 'request_id': 'IvcqQZhNt3SPJ8H4zBbTu0kGoadMmlge', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10003,"appSubId":"72724313","httpReqType":"POST","reqContent":"{\\"country\\":\\"CN\\",\\"partnerOrder\\":\\"IvcqQZhNt3SPJ8H4zBbTu0kGoadMmlge\\",\\"payResult\\":\\"OK\\",\\"systemOrder\\":\\"RM202102231835491T430B3L4G423512\\",\\"sign\\":\\"aa4MtB50mtHCrAUPOlASvPPuo5btt8U1nYI+NrL8qfZXoMUOpAe7JxiTdom+ernBeHwsDM1MyXO4lDiPaW8VVejKqBNVXv0cUN3v/bmZumQULfyk1+kiZyn+5Ngzi5S6yVNTXD3HzHQjVu4QGS1xfUj4soEXh9Yj++uM9dAf78g=\\",\\"notify_url\\":\\"http://pay.pay-test.wanyol.com/notify/receiver\\",\\"productName\\":\\"NO_LOGIN_PAY\\",\\"sendTime\\":\\"1614076549606\\",\\"productDesc\\":\\"话费充值\\",\\"price\\":\\"619\\",\\"notifyId\\":\\"IM20210223183549492\\",\\"orders\\":\\"NO_LOGIN_PAY6.1972724313IvcqQZhNt3SPJ8H4zBbTu0kGoadMmlge\\",\\"payChannel\\":\\"wxpay\\",\\"currency\\":\\"CNY\\",\\"partnerId\\":\\"72724313\\",\\"paySuccessTime\\":\\"2021-02-23 18:35:46\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"IvcqQZhNt3SPJ8H4zBbTu0kGoadMmlge","signType":"MD5","successResult":"OK","timeStamp":1614076549607,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 18, 35, 50), 'insert_time': datetime.datetime(2021, 2, 23, 18, 35, 50), 'update_time': datetime.datetime(2021, 2, 23, 18, 35, 50), 'extra_json': None, 'remark': None}
2021-02-23 18:35:47,281-INFO-lib.common_biz.fiz_assert-117-通知成功
2021-02-23 18:59:32,664-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 18:59:32,939-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 18:59:32,981-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 18:59:32,981-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 18:59:33,451-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 18:59:33,455-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 18:59:33,455-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 18:59:33,458-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 18:59:33,459-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 18:59:33,459-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 18:59:33,485-INFO-fiz_db_operate-26-可币余额：620.0000
2021-02-23 18:59:33,493-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:59:33,494-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "48316758795278"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "n9N61rp5zOQqKRjChTUBG4LbkW3ufXMs"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:59:33,599-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a20006d327a84a10849bf7c97f79ec8e"
s_p: "a3VaZWJRMENyZVFnMzF2NE0wMTdoNzh0czZiTWVnRWdSNlNMYVk3Wk0wT3B0b3d6RjF0Ykw0S2JDbmtvZlExODdDVFEwV3Z5YVFyWDlmZHJSenVMZ2lkOUM0SVVQSW5DY09SWXkycTdqYUpWMHg2V0lHb3E1RDZmTEY3WXR1MlBMWkp3TUc1a3RGVjlzdlFZRk1NeE9GNjM2c2VoWlZvZ0hqM3lLMnVjSXhaaHJGQUJUOFdQanhacHJ1SUM5WVNmc09XMmw0N1R1aUJCR09yejduQko3STRmNUF6Qm9KOFVWenh0Wm5NZW5WcmFsY1lONnk4MUd3c1g3TFg4YzlSaTVGbU42Ylo2OVh2dkNLQzEwNWhsZmtVaTNWekNuS21DUzlaQUI1QlpKTE5FeE90b3RaUTVjcGowSTF1UFNpVzhWVXhMaW5pNlVNZU5uak83T2VjZDkxNGczbHFGeDlnOVJCSHQzcFRFd1JTZm1KSThDREg4UnhQcFllSWpHeGEyNmxoc1gySFRDRDFndVFUV0ltWFFzUGJOUzRzQWtTTjc5cUdHa2VHZmczZnlhRXhhcjYwWHlsUlh3eXB3WklVY1Awd2tHZEo5TlVPalFyMXU5YWM2VktLeXNyZlhWVHcweU1pYXJiek9hbzlKVTlQdzkxNzROeWxZUG1qVWo5WWdGbm9nU3oxY01LUUlud3l6NElpcFRjOEhHZ1VuSDBhRzkwTlZuRXlwN2N2RXpDVndpSVJWWWVDMkVNNDViZ2JKVEx1Z2lPQnVOcm9KYXhDUDFTTjk0Mk9WaWhINGZ2MllEMW5SNmhYR1VQdFZQWUd1b3pubkJpQlhDNG95bXY0Rm9QR0tOYkkydDVLaVk3cjQ1Mm85enBLdmlTRDBzb2V5ejRrNFl3TnVZcUtBWlBKQ3FZNHU4ZkEzN0l3QlpOMFdDRUJEMzl6aWx4bktHb2ZYaDYxQmJsZkdjM1BKOE9sYzhMeGNjQmxUVlBOd3k1S3hZaTFvVTNPRWlqU0liT2dtT0kwVjdxR2FZdEJJam9vTzF2d2ZUNVFpVUZ4Wm9zaTk="
m_p: "NH3b1y050mo6z65xPH5a2c00E1vd005EW0g6n1u9mZ36MmT8U5xTk4WA980kBrYX"
e_t: "1614185976062"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "620"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:59:33,654-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:59:33,654-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "a20006d327a84a10849bf7c97f79ec8e"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "CnkofQ18"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 62000
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "0deK7zuTVAiRrC92P6DSYsfIXjnvbxyQ"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "fMkfQ7laIrG2W75Yg8m/tO0FU01PVe2iTqEGNLL1aKonIeP0CZof3G3AH2IgyM8P2X3eGr8NAoTGa7cwpUmza6Bd4TDLDO1bG2ux0GXQNQ+d0T178EAEBhWwx4Ev4O7PqLx9HW1D6pb/coOqCrDXzmX3ZbW1mOeRE1p5DFLqVok="
order: "3613992305738"
ip: "120.197.152.211"
factor: ""

2021-02-23 18:59:33,846-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 18:59:33,860-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.46', 'batchId': '16925823007199070398737398873186', 'bizNo': '6G2P9Yj8NBS3Zk5olbHtMmd4FuCK7yOw', 'operateType': 'PRESENT', 'requestId': '42718650708456526439671110883942', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614077973857})
2021-02-23 18:59:33,897-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.46, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 18:59:33,911-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614077973908', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.64', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 18:59:33,929-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299718'}], 'vouIdList': None, 'batchId': '7e9efd4f322445f5a85393abfe565038'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 18:59:33,943-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '7e9efd4f322445f5a85393abfe565038', 'batchOperateType': 'PASS'})
2021-02-23 18:59:43,984-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 18:59:43,992-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:59:43,992-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "57036577460135"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "dZhojksKqX0JO6Fb4EMAItWyzel8DrpP"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:59:44,069-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "709cd35de0764624ad3b301f39347ad7"
s_p: "S0VNMnltSVpqZmYyYnE5djhsZkJTdnoxTXBmVXBmWWp4Y0FrTTZGNjkyYm9lT2FCT3I0bFdsYlJsa25FbTdXZjR2WVl6Rm1UVFVndVJrcFVTOVFtOXNBYkVweWQ1VDRPbmE3ek45SUVLSFhnNWxHR2J0TU1mem8weE55WFZUR3ppZTRMYzE5NjZjTGlLVk0yQTZCenp1Z210dTNJRFExUnN2VEtMZmVrOThPaXFWOThUNEtmSExEZ2JySVFXY3pNQzBKczgzOVRVVkp5RWk0a1JDeVlqTHBBcXBPMWhYRmQyU3FQUmtNUWJzMkJnUTdVQlJrdXlrbjkyRHNVWjZmUEt2M3g4R0l1M1F5SlBXME5sU3BESkNaaFA1bng3ZlBqVjhLWmo2UnpSNmhuTDFUM2JDMGljcVhTdGlsMktibHVtS0MxQWVXc2hRR0dTRTM5QTNnbEpXSUxaaVNad0V4eFI5N3AydUVJQU42Mzl2VFdGaTB5bE9rcXlLVm9UVVZpTEFiaWh6QnlNckN3TWNkRmNZRVg2SlN5VGpLcU10ekNuQzNESklXTkF4YmoyS2JveHBFNkpmY3JSZEg1REpiRUJkVzJ4SDREQ3c0OWdOZ09mN0ZnYzJ5bEMyZmQyTjduem9SODFtcDNOMktOVkYxYnJsRGZQSzhSMENNUVM4WDA4WVpiSEZSUk9mRXdLZ09EMnpKSk5UVVhCalZ3RmlCQnpTVFpaTzJyTmozbE95OFRJZkNlUnU4c1lsbTRIUTR2a3g0c3pwNjlqdWtHTlprV0p6NlB0TzJFc29uR3Y1V2RLTkdaWFNLejZ5a3N2dklJdzdlY2RId01lc0pZSU1vUUs0cDBqMmwyc1p4SkN6SDRTM1l5S2ZKelNMa3NEOVdWR1pLVGhGdmd3OVNURU0xWmVSOTRTT1BuczlvYTNBRGQ4WDNnSHdKc0RvdDdmZnpBdXpPWDF4QkhNZ1lLd0gxQVRKYlBSVnUxNmJoRm5SOXdNVm82ZTI3ODhtdGprWlVMSXc4OWxpazdaNHFiZmNvR1Z2S2ppVHdMR2FsYlAxY3A="
m_p: "lOsKk4U3TRDv9TJ82GycAUf3FbE16Ph1u3hv75t1P0yXKrjz1OQd18EbVV8O9u4l"
e_t: "1614185986545"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.46"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299718
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 18:59:44,098-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:59:44,098-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "709cd35de0764624ad3b301f39347ad7"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "mTTUguRk"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "2.42"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "D3ANCmXMLgopKYxd2ynkIcU7rO8jaetW"
}
sign: "Bb5EPG+fXRYRcITdMORWgc+LVbn20yMgY6nlhhJbuSEx8AQPoGaiDkWC/I9PU5bsUkuk1yehhVtBcJgAGzb/aVxrDUKd7RsQEbCO7+TmeiTfYOBf9/y83mzM+aoWJs1JSIDU0zIBbWGBPHZ95QQEdp6X96cK6MK/iaqhFiV8tOtKuS4luJlsrtgQOu9eFZj4+StXQaEhr6PGqHzJGKnckAGdB+ysKCtX/K05H9ToI61Q1WFLMX59bOIiFWDND5Uitdq2I6Y50A/Dr3PYol+2lZ/21AFkN5Qu/DYpNWPDXV2BollZ/iJvxMied3B/gn8/sqJXzrPOW9R+xu1F4817OQ=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "709cd35de0764624ad3b301f39347ad7"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "mTTUguRk"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 352
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "D3ANCmXMLgopKYxd2ynkIcU7rO8jaetW"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "EjikpQr0Fg9Sdit3ViKkpwdRIjxGgVSc2AX2v9deunPCNzrlloYSlCdcGf9sPrdTLKxLql2+K27pLz7h9YV0zuifhu+QEWuQiTjNUK1/fnuRPTGE71+G+LsnZ2o8RGsrDWSdcs2W4w7YRzXEQTy4lBZffRD3mkZuNFBaiPxCNio="
  appKey: "1234"
  voucherId: 62299718
  voucherType: 2
  voucherCount: 64
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 18:59:44,501-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"7a3ce94a459247b6b543e6051f000e66\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23185946939000bb11e5ed0e56e1da0000\",\"sign\":\"FCF1562FD06FCCD119E7A3DD81AC7E47\",\"timestamp\":\"1614077987\"}"
}
payrequestid: "KB202102231859462076075925653342"
model: ""

2021-02-23 18:59:44,502-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9315960034620581423838929518]]></transaction_id>
<nonce_str><![CDATA[c58pAVHOB6wqlZsnIYWfMi9rCz4uJ17b]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[92C50AED045590FB37007D0F287634BA]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231859462076075925653342]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>242</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223185944]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 18:59:45,941-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 18:59:45,941-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 18:59:45,948-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:59:45,949-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "87642572708689"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ZOyta29AHiFncMv0lGVRP8gEwxk5LJqY"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:59:46,055-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "ab3c971162aa4d83b6f75323b00f5d67"
s_p: "cGx4UVQ0OE9TbWZNdHpLOThheVlMa0g3RUJBZ2p5WHFyUlFZTW1MVWQyU2JrMlRKMFBONnpraEFRUUhoaVVuSnhWUHlzaUk3YlFyY0k3Wmc2ZjZkVjlUS3BpUmlRd2k2SmZod3M5UTYwYkhRcWdocVFEOEpoanNiWkJVT05rTVNxSktPd0ZQRFM5UVFlWkhFa29lN3NXMkEybXpIQ1VzQ2J5N1VlQnowOUhHTDZ6Sk5uOUNBem91ZUFnU0JtZ1VXdk9rdklOM054TjcyWWQwWmpqRnF1dEhNTmgydlkzOVdDd2ZabjdyVW1XWFFVZGVJS3RMVE9kSWZMdFZBMldzdmhkTUFnZE9qdm9QcVhjTXdabWZMSU1jNk1UVWlrSko2MU5TRXFBY1ZWeXRHcHpRYnRLOWxwUTJxMlZtRGV6TFAwWEpvZGc4MVpGWnpNMmJGWHRJa1JVYnc3Smx5MUE2U2oxNjNwMnYzd2VOek5vYzVyOFAwTzFwY2ptYk1wWjcwYmFWOXEyVlRxR2ZTQzdUWWFqcWRTVEtOMFU5TkVBaUFlNUFwWVlCa2g2OTkyejVhN3JCS0MzcVNlMjJURnM1RVpqU1BlTG9sYjNNcmxObmJJS0RCM2lFbHlPRXhzOUp4bkJ3WmhGeGgwa1VTUjF5Y1lwMHVZeTJJUDNzOVhwQ3c2NWk4MDlEUXZTaEFORXZ1U0VTb1BHRm1YSDZQWVdHWkRGUDZyUGZ1VE83a0ZXV3ViQTk4ZldROHBCM29xV0NGejRTVWdtQ01DbjhtcnppZ3RFeGNibXU5NUsxRzB4SGtRV3hCNXdjTDlmcFdQZHJDQ0JjdVJBa2pBSHY3UDl4Q2ZYeHZKWGdqZWxXbG51WEp0dUxoN0l6Tzlob2pKT0VySE1HR2RsOTY2cjMyNFhJbTA4Q296UXJOSExpYXQySTNhWEJRUzhUVjhla0xmNm1oSG9GM3JpajlLYWJRazFRa1BUOENlSWRsdFFwUWpFVVRtUmdvT0V1QW45UW84a2RubnFyOEpkWlQ2OEpTTFZxQzRLSkFOeUlFMUpmYW5KaGI="
m_p: "81065uY296z325POtK72SS6lOnNrT2c49wqa7DvB5Ao491d5i092r30g8loBecpL"
e_t: "1614185988504"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:59:46,056-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:59:46,056-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "ab3c971162aa4d83b6f75323b00f5d67"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "hws9Q60b"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231859462076075925653342"
version: "260"
queryType: "PAY"

2021-02-23 18:59:46,106-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "2.42"

2021-02-23 18:59:48,108-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 18:59:48,108-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 18:59:48,111-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 18:59:48,112-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231859462076075925653342"
2021-02-23 18:59:48,116-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15046, 'pay_req_id': 'KB202102231859462076075925653342', 'notify_id': '9315960034620581423838929518', 'partner_order': 'D3ANCmXMLgopKYxd2ynkIcU7rO8jaetW', 'amount': 242, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 352, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 18, 59, 48), 'success_time': datetime.datetime(2021, 2, 23, 18, 59, 44), 'modify_time': datetime.datetime(2021, 2, 23, 18, 59, 48), 'trade_type': 'PAY', 'kebi_spent': 46, 'voucher_amount': 64, 'voucher_info': '{"cutAmount":"64","id":"62299718","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299718', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 18:59:48,116-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 18:59:48,117-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231859462076075925653342"
2021-02-23 18:59:48,121-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7732, 'pay_req_id': 'KB202102231859462076075925653342', 'partner_order': 'D3ANCmXMLgopKYxd2ynkIcU7rO8jaetW', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 352, 'amount': 242, 'kb_amount': 46, 'voucher_amount': 64, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 18, 59, 47), 'success_time': datetime.datetime(2021, 2, 23, 18, 59, 48), 'modify_time': datetime.datetime(2021, 2, 23, 18, 59, 46)}
2021-02-23 18:59:48,121-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 18:59:48,140-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231859462076075925653342"
2021-02-23 18:59:48,143-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 18:59:48,143-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 18:59:48,143-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 18:59:48,144-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "D3ANCmXMLgopKYxd2ynkIcU7rO8jaetW"
2021-02-23 18:59:48,147-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 188, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_D3ANCmXMLgopKYxd2ynkIcU7rO8jaetW', 'partnerOrder': 'D3ANCmXMLgopKYxd2ynkIcU7rO8jaetW', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 46, 'count': 1, 'r_cost': 46, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 18, 59, 48), 'updateTime': datetime.datetime(2021, 2, 23, 18, 59, 48)}
2021-02-23 18:59:48,147-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 18:59:48,147-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 18:59:48,148-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 18:59:48,151-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 18:59:48,164-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.46', 'batchId': '62583811790330787125198082376879', 'bizNo': 'qRLgtVxpz6syr8NJjDaUTOwYF5nK2HcW', 'operateType': 'PRESENT', 'requestId': '57794088717529091192503994038714', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614077988161})
2021-02-23 18:59:48,207-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.46, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 18:59:48,219-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614077988217', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.64', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 18:59:48,237-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299719'}], 'vouIdList': None, 'batchId': '5ae3e7d942a343f59304f396842cace7'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 18:59:48,252-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '5ae3e7d942a343f59304f396842cace7', 'batchOperateType': 'PASS'})
2021-02-23 18:59:53,295-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 18:59:53,305-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:59:53,305-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "51461307315628"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "gG36OKRx4087TmnqyrNVvYkptoiW2ZLu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:59:53,386-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f43af979d1ae4b1b92ff07b10a310d6b"
s_p: "V09wejMwQ3VOTHZJTlVxTWhsTXpzRkxuZTI2QWhScmRwcXI1Tjc2VEtIVTl5UkJGOEJ6b3hPb09xN3NyQ3dpRFE1ZXlSazF3MVRYRUV2Q3dtV05rVGFQQTJWRmpvdHNJU1RGclp0YUNkV01semF5VFlpd3U2MUhNcXJmamRSbU8yVGJ2ZWlKY2IyZGRiNEl3UWVybUJzNDBYSGxzbXhsZFZpeHdBZWswSkRhNnFDenJIN0N6d1BtUnlHd1AzOURPaFFyVFNhYlJXU0RnNUNKTVFBMTVMalFEaXlQT0ZaNm9GdThtaFFLRGdTbThPNEdkNnpvbGtHd2JXTDlHUHdxSEVSVFlzUW1qeEJCWmYxeXl2QXNLTndJSHluMDduaGRzVmxMdVVzcXpLUWl5MGd6YVN2NkZnMFMydjd1ZzdFbU1YVUM5VmZBTW92Vm9iTEVKdXlZYjhhbnlMUklCc1hyRmh0MnQ2a3VhOW5HdUZXRXV3ZjM5Qm5sTGFOQmowakMyRzNmSmxkd0xJSkhIQ1dGZHhWUWUxT2d6V1JPR1hjVUpHcVl1OE8wYllSbVZjSWZuTXVkWUxON1lSNGVJaDhGVTZFOUJCdUJvQ2hyd2ZHa1V1NVJRMmNVRTBaeFdTSWRIMTRHcE5BVGVQeVF2N0lpTTVkUktlRFRYMTl2c3lyaGF6WmVuT1lzVG9qMEhOekt6bXdxNWtYM0RSdTVjU1A3YWY4T1hVVTNoYklyVk5mZU9vSlE5eXBvaWhZajlTQXBiOEx1UHhjU2dSTXRYd3NTNEo0d0RxUHljRmFqNnlQa3V4Y1BsRmpNRUp5N3dwelhVOGZCN1EzNFZ1SEZwdXNTcXJvd3BGOEpraTJLakJEZDV2d2x3blJZTXEwM01PQmxqSktXSUN2RDBEVThOYmVlQkN4WlNmbzhqSlZySUxiUDJNM3M3NmltWHBaczY3MEpJT21JUU8xMDVIdWZIcHRYejR4U3J6dzZONHd0R0tsb2l3VVNOWU1OR1d5aUZFM01XbWVYRWRPNERyanU0WUM5QzBXa2FwN3J0Vkd6WFluRnI="
m_p: "3LQ319vSg86QCW9yur3H8pAP26z4buR2yfxJCZ2vE1N50Xrc7hl5c259HjDZ686C"
e_t: "1614185995861"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.46"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299719
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 18:59:53,412-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:59:53,412-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "f43af979d1ae4b1b92ff07b10a310d6b"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "srCwiDQ5"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "2.42"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "nyd6OaXmMkbErxTFiY20tcpg1RGj3BWu"
}
sign: "Rlu/ZmU0eTTYAHGl1x5ZXo1+iaAu0dhxHde1y69VM+xpNehuJ/Jc2GOoyemprOk2NhSJPvoWTCr+0zrytMESZml0NIharekqUM6MOyNuYOSVw4VRiWxB0rgq5MOBVxJ7Gw3ujUlFgtIBzNV6/bhKb91FNG3j6Zn3wA/x6rmm47QokRTqe8lMYvH6CZq+HQ870FUmClIWplochZ/fS9Cd0anKH0fIguPVB1XfG8B0kYzDMRNtojJBIgTJ3mTgem1a24W5swNBXqzfGCOusNFWQWQk9Ul/54MKMa3uol1w/8o40YRaQW/BXj88ZL20m32P9NEgUa2X7XGxLDTYNS3x5g=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "f43af979d1ae4b1b92ff07b10a310d6b"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "srCwiDQ5"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 352
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "nyd6OaXmMkbErxTFiY20tcpg1RGj3BWu"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "c9oCdjWeEMRe5PkY8Y2HYvCE65PnF4ol3+YQxeEZdkS1xPiRFjDCo+l3bPGssfSbWSBM6b3KHgBMSp7N5GDoFtsKsEZzn4XY+DGkpGO6Xu6ghFt0Ozv/NTlor0h9FHtoajIUwlCewueidR5GYOAMZreuWogfFVlYL1fTRS1y9c0="
  appKey: "1234"
  voucherId: 62299719
  voucherType: 2
  voucherCount: 64
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 18:59:53,820-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"9c8c2126db9740c9a510b88b9a5db19c\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23185956267613de5836ca24e942f40000\",\"sign\":\"95175328F7E43FBEA0E63BEAAF123BE6\",\"timestamp\":\"1614077996\"}"
}
payrequestid: "KB202102231859552076075925530262"
model: ""

2021-02-23 18:59:53,820-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[6422313097179670158905654587]]></transaction_id>
<nonce_str><![CDATA[S5doMkDXZOnGWvE4e3jQiA2wRpN7VqJl]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[0EED507F60DB612F39F8FE8A68F758DB]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231859552076075925530262]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>242</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223185953]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 18:59:53,912-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 18:59:53,912-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 18:59:53,920-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:59:53,920-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "86231775361157"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ZXItkmlFORVx2voA0GgfzwYpqMLEC7iT"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 18:59:54,008-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "faa133f809804e999dcc985c78b6aeb9"
s_p: "dHRrWkNWZjZJMTVuazRuOTdFMTc0M3RTN1hCNVU0VThEZ0hubEdMQVJlUXRBUTdSczF6bXpJd0Vjbjk0UE5TNDd0dnFwT2YyWEMzS1hsUmhpS2ZLUDFRUWlWVDVkZDZ1akQ5TTh2d1I4YnNncDVpdFJOc09RQnAzOUZUNmg0U3NmeFAybFJyaTRnZEVWa2w1cHZncUp2Y1RkMVZKRUJuN2xkUFNmZU9vbjRISTM5MVFnaWZUS2g0TTJ3U1RsckdYS3hpR3VvNGtkcGczZGpWVGZZVWdrQU5wN1dRNG44NmhXeFc4S3NtajRUMkZnZ0h5OHVwdGllT3dPbU1UYW1namRpclAyQm1xdGxqeGpWTUZCYzhkVjFZWVFBUUR6QXE1aDFFQ2V2QlQ2T2dwb2hsdDhwbWhlSkxTYWFvY3pCcjZ3a3ZQWklxcUZ3Vzc1YXE1bVBMeGRXSTM3YnlsdEhXZ0h0V3dBeG95ZEpZelNDZkNMTXJEaHF3eVltdTdlcmROZW01bEY3elZwOWs4VXFWRThQYmN0Q1lxTmJwd1kyak9SOFRHSlRXZkxKRW0wcDJ5T1ZCTjZwSUdKNjJDd0FWMk9FUjhjM1ZIc01RR2NITzRPS3hDVnpNcEtNRnBmTGwwdHcyc0tOVEpDZ3BWVVgzUHI0NmYyd2FpbUZvSDZlNW5DVkNZWmkxZ2tIQzNabVAxTFFhVzhXMU1tbzd1T0syeFdoOFhsbE50azhFUlR5TVRUSXJDbUJOZ2FwY2FhM1dXbmlKWWQ4WE41VER4TEhhU1ZRNGJWMTR4ZEVHQUE0bWJ2ZlpidHJ4REswdm40YUhYcnBEOE1ucmlhc2R6UDRXT1V1QTd3UHpnck5Rbk1nVDVoQVdSdGUzYlZuS0hLckdkdTBJVTd0dG15MkE5VVBseGtGUHZabzNuQ2NwangxTjNVdmxTMVhaUjczR2VuVEF1S2dkR0NaVWFpMlNCUWZVTVNsYWx6S3Zma09uMHcxQUZrY1NBT2NpMkp6bGk4STlCb2JlZEpwbHNreFBtSUNlWDNJc05qbWx3Smo4ZXBDTko="
m_p: "9x6R06q1BKO5aooW92vVRg0r1J1m3i620M0ziunu3mo3oh9HWHjP3Ad285atdizw"
e_t: "1614185996486"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 28
}
userinfo {
  username: "156******06"
}

2021-02-23 18:59:54,009-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 18:59:54,009-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "faa133f809804e999dcc985c78b6aeb9"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "SsfxP2lR"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231859552076075925530262"
version: "260"
queryType: "PAY"

2021-02-23 18:59:54,052-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "2.42"

2021-02-23 18:59:56,053-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 18:59:56,053-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 18:59:56,055-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 18:59:56,056-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231859552076075925530262"
2021-02-23 18:59:56,060-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15047, 'pay_req_id': 'KB202102231859552076075925530262', 'notify_id': '6422313097179670158905654587', 'partner_order': 'nyd6OaXmMkbErxTFiY20tcpg1RGj3BWu', 'amount': 242, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 352, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 18, 59, 56), 'success_time': datetime.datetime(2021, 2, 23, 18, 59, 53), 'modify_time': datetime.datetime(2021, 2, 23, 18, 59, 56), 'trade_type': 'PAY', 'kebi_spent': 46, 'voucher_amount': 64, 'voucher_info': '{"cutAmount":"64","id":"62299719","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299719', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 18:59:56,060-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 18:59:56,061-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231859552076075925530262"
2021-02-23 18:59:56,065-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7733, 'pay_req_id': 'KB202102231859552076075925530262', 'partner_order': 'nyd6OaXmMkbErxTFiY20tcpg1RGj3BWu', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 352, 'amount': 242, 'kb_amount': 46, 'voucher_amount': 64, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 18, 59, 56), 'success_time': datetime.datetime(2021, 2, 23, 18, 59, 56), 'modify_time': datetime.datetime(2021, 2, 23, 18, 59, 56)}
2021-02-23 18:59:56,065-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 18:59:56,066-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231859552076075925530262"
2021-02-23 18:59:56,069-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 18:59:56,069-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 18:59:56,069-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 18:59:56,069-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "nyd6OaXmMkbErxTFiY20tcpg1RGj3BWu"
2021-02-23 18:59:56,073-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 189, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '121.12.147.248', 'source': None, 'systemOrder': '2031_nyd6OaXmMkbErxTFiY20tcpg1RGj3BWu', 'partnerOrder': 'nyd6OaXmMkbErxTFiY20tcpg1RGj3BWu', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 46, 'count': 1, 'r_cost': 46, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 18, 59, 56), 'updateTime': datetime.datetime(2021, 2, 23, 18, 59, 56)}
2021-02-23 18:59:56,073-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 18:59:56,073-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 18:59:56,074-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 18:59:56,076-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 18:59:56,089-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.46', 'batchId': '99427309758208781698762866581266', 'bizNo': 'IfSNTRBucEFQHDadvlxp0z71konAy9hq', 'operateType': 'PRESENT', 'requestId': '85535216411182447194428337423227', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614077996087})
2021-02-23 18:59:56,114-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.46, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 18:59:56,128-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614077996126', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': '1', 'cutAmount': '0.64', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 18:59:56,146-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299720'}], 'vouIdList': None, 'batchId': '6010e3c63e9141cfb2bedb58160dcdb4'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 18:59:56,160-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '6010e3c63e9141cfb2bedb58160dcdb4', 'batchOperateType': 'PASS'})
2021-02-23 19:00:13,024-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 19:00:13,385-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 19:00:13,428-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 19:00:13,428-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 19:00:13,803-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 19:00:13,807-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 19:00:13,807-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 19:00:13,810-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 19:00:13,811-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:00:13,811-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:00:13,815-INFO-fiz_db_operate-26-可币余额：0.4600
2021-02-23 19:00:13,823-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:00:13,823-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "28357442826478"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "BIXkxdOynN4Ftvoi6aJQRew1UugpVqKb"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:00:13,909-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "00900fd596e34ed3b0e476c5188a62cb"
s_p: "Qm5kVXBnd2loemtubHJMZmI4TFAzVFNCWjZGaE9HV2ZEZXRWRE1ZVHJhbjFzN3VJbHNEQUFYbzdCN04zOWFUbkJObHZSMDZDS1hnMFNEQjJBdzdDQ1dQbmo4dXVnaVdabkpUN3lPUFcydXlobHBNYlpMb1EzNGlyajF2Sk5yRGN5dFdoMDRVSmR5QlpOUFd3MGx5cUpBcXNPMjVDR0dhb0hGMWZaU0FxdVNlZHF4elRrbzhqU0NTVW16NWsyblBDTk82SWI1NGtuMGM4TXNUVmR2akxrZWVhMUdSOXpvUzJWcHdEMmo1Uk9MQjFrMjNodGIzYkJDTGllZVNDbzFvOWs4a1JFODBDNEp1cmFyaGhWbVROU3FFNzl5VmRxSEwwUHQ2SHdMYVZ3TklyU3BwekFRSzZWUzN4SllBVnNwMzlpRmZyUTBRTUVtMlNNR0dONDl3U0FCeVpPVTlFZEw1c0xCc09Fdm1lQUdzSWtHeXNVSHMzdFJDc2tBNWhuTmszd0JWdVR1V1JJUHR1SE14NzlValVvaWFvS3NZVlZIbVNLUFBrZlJwd3Q2MkdOYVVsSW5Ed3lMejFBaVN4VFV5OG5BVlNma1I5QXlqemtTSDkyYmxvTDRpM2ZWMUVIZlpTNmo4ZjlnbkVGZEpuYUZ1aEdZUTFuWGFxMUVkUFhDQWMwcm1IQUxqbndJcG5UWGtVVG85YWdid28xYnlaTXNCamFXNHZ4MUhpazVEcE1JdDFwbkpJcXZHVkl5cXN5WGlPSE9wOWEyeG5aZnVNUmdCRWZucWRGZmNkY3JuTWNQM25jaVY4Mk5UTDZEWDY0OXZra1V5ajI5UHk0VzdFTjV2SGxGUGhjQlc4YXZTazNaZnRBUlVGZGkzeFhIMms2bGM4UDhTZEMyWFRuc29ERzVWcUQ3cnZ1ZmRkTVhjWTRPaWZ6blN4d1ZZR0t1d0F0alJQWUtJYTZZcldNR1ZYNWNFZ25PeW0xV0puR25RaXJMeTFKU3M0V2gzM1hmREpLOWlzR0dyYkduMkxZdXJDWXRJQVoxRnNtWE00eUZhRjF1T2I="
m_p: "y0h5Y81nwd0dPq9H119tR2u498nS3Z9tMb3bD7n6CIU5PwN4qf3V25PT0z6WB2t0"
e_t: "1614186016382"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.46"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:00:13,931-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:00:13,931-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "00900fd596e34ed3b0e476c5188a62cb"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "NrDcytWh"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 46
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "LVOS8xKNz3a6e0XujQ7CnPJYc1DUqobk"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "ZIPj/QKNuqLt4WCcZtlZm8C/a5vZO618kTYX6FOPXR2OmTS1OHo89PFdihi4jTRrTIKPJ+i01RNnuucsyTDwZnh41DcuUc9BncUjrRv4iSYcNAnJ8P07vYCQwb5d4lSL0Q2wTybzSgae5v/Ah2hjJuo6/ChmTIQKdKPpSEAjGZo="
order: "0041005628200"
ip: "120.197.152.211"
factor: ""

2021-02-23 19:00:14,061-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 19:00:14,069-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:00:14,069-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "01537061134675"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "bnhIjipNxQJ8YWOToLGyrABU5V2f46Kd"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:00:14,159-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bc48aa53fbd4457ca7d8b93e58511ba2"
s_p: "bDI2cVdwYk1hdVBlUVlvQ2NOcjBUZGJrMjJud1drMUhRdFVsMGg2ZGs2ZUFBMXVKU1Z6QTcwcXFERmxQMHJ6cjhqb2x3WFdDWVZ1NUlCNEdvcDNOOENTaXhqTUdTZzJJdXlMR3lWSGtBSGcxa1ZPbTVOczVlcUY5QWFhUlRIbVdUdk5kc05EaElHTnNpQmNBdEs5Unp6cFBRemg5UjlOSW40VjZMamNqem5XN1pkeVZxRFhhRDlBa0hkZXl5dEpSMkt4UEFNNVk0R3NLeWhrbGhUdjJ5cHMwbjY3OU00RzloeWtBdGI0RXZoc1JWYnkzN01vOVlxN1VPSGRBb0lrbkR2QVJPTnV3MWkzRzZ1RXdlajFhQ1lvcnRkd1oydGpETkV5M3VkdFdXeWNEbzFzT1c5dmhNTnh2VlJLTDE5bm5iZmRJcDByanVPTTdUdXdXZ3ViQ2dZTHlnZU1PSWZjRTM2d0I3TE5HbkZJRzFZQXdYSGVGbXZTamVVeW9ZWHhUQWFmbFpWdk05eHd1Ykt1b0JmQU9od3hDNk5tSmlYVldWa0daNEc0d2MxUGZoMTdIWmRlenNqeUZ6MEIzM3EwUWNqZ2ZhMEZjN1NkalA3RFdxNVNlcjBZcTJpYWdmaWZJZDB5cXZ1V2hKTWJ1eHNkZndmWFlKY2VxNWVMcXVmNGRxSjUyVW15dXJZblFGYUxVTkVIejI3SVZ3Rm1FaklNc2oxa3NuRXNOdFRXMlI4V1hNaU5yQ1RVYWE3cUVaSEJja2JIUDNQb3hsYzE4c1lzM1lKaWYwOUtnQ3M1WUF5Q0ZXQklqMGhDeVRuRHdPd0doYnBKNkRTbVl3aHZIaXFaS3dOYW5VMnl2OGV5cERYREZVZkxXZHdjODNXSDJmM0FsY1Fob1MzUVVhNXN6eXRGZFlPTlVFc0U5RDdSN0VabHd1ODBRYjRkRDdiaXVIWWN3NUptQVRGUzdYUTZOYzBhVjBkelZOOUliYmtIU2dOV3dYV2xqdXM2eXFnQVVUZlZFU0ZGcWdkOWFINlR6eE03bGhTM3p4Wmx4eldtWGRtcXE="
m_p: "ijV428wT042uK017mhGH71mWYmzJ5c09al83F5Ww5LO7ci3v2b9gsO5r4A3N72ej"
e_t: "1614186016621"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:00:14,183-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:00:14,184-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "bc48aa53fbd4457ca7d8b93e58511ba2"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "NsiBcAtK"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.65"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "Kf9SlREB7MrjF8s0xQb3kGwHVa2uL5hI"
}
sign: "5Em9+Ca+iMZq0rogif3vZ4SLLpb8p7fyvrNEs4y4lhddGNjDiqTByIJbJGZ7AG7fmsDNJH3vJDSITOsPQUqmbvEl6mu4jtSO8S2oBqINU7VP+lzhmaHudZNqDHku5jrs+ZAw2RJ+pWtO1jeazpELmJFhzeoJ9BdgnXwo7dCrdv+kRKIHa2pnli9DLNcdPPdfxSPIO5c5aR61jNTFhoqRKC++gJIpaQ+ytu44FP0rKu7rbk58RXt7sFL3cajXNswvwldDTCEIFbW/GFeB63/ccRe3wwrjUaCAA0mJDmyPFzALT2eh7Ow/ieY/Ep1jdp3SOvtecb/Rd/l459zkLPGEIA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "bc48aa53fbd4457ca7d8b93e58511ba2"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "NsiBcAtK"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 465
  count: 1
  productname: "RECHARGE_SPEND_PRICE=AMOUNT"
  productdesc: "RECHARGE_SPEND_PRICE=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "Kf9SlREB7MrjF8s0xQb3kGwHVa2uL5hI"
  channelId: ""
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "QA/HBKX52tjyvaVHhcRDxpwYFjsiS5uaqoai7hQtLvpC8Z/YYq92sNotLuzH2nG9Lo0VMWLMDeYXo6eLgqkeKC7IjLOE/4naXIwZOEk5ob4troa9DqXcQz1UbhoiQUFg3saohx2g/6+XnswJpw8NODB4Gn15tvL2AUT0WbZfIsk="
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 19:00:14,564-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"6c9893763a0c42c6ad2722f6a5d496ad\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23190017010716a7cd5617a31aa8030000\",\"sign\":\"EF95186680538516310AA54EC658D304\",\"timestamp\":\"1614078017\"}"
}
payrequestid: "KB202102231900162076075925311742"
model: ""

2021-02-23 19:00:14,565-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4202033272917761744482140670]]></transaction_id>
<nonce_str><![CDATA[xQjMkJ1zCoyump0NZltEFechfPqirYdn]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[45771950A0E22274BDFC98AB798E929D]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231900162076075925311742]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>465</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223190014]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 19:00:14,695-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 19:00:14,695-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 19:00:14,708-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:00:14,709-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "15788158891804"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "MRlte3kCE7x8POAWB6FVnXhamYcS5p24"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:00:14,785-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "51f235f637024c13aceac01faebd3c19"
s_p: "ZWtQbjNlYUZ5TkRWWjk0QU9QQ3YzTUhTeDlQMlBUY1lhenFmWm10YVZHemhHNGtZclVBR3RXRkltMHVLVEZMVFpVRlQ2QmtpUDZSa29LV2gxeVhlcmh5UDRuRzhmSkxBeUhpTThXc3JPOFdCU2x6aUVyS3RFb0lHbUJTSlMyNTNna0NENFR5OUxYdnY4Y3ZkYkFsVVd5dGhucWZqN0lXY0FHRDlUQ0t1M2lreElMMmM3cnVEbDVDUzlYNVp2anYxaEFGbjZnODhaTVNnWmtmTnRSbEJoNWVmcEpBY0NHSGJaQzc1eW1jN2VUOGZwdVVuMHh5NXhqVXhDc1FISG5Ba0ZwMHNiZk9ERkY4Q1VlUTAzQnFTMUZ1cU5VM0s2enMzZXc5SVVJVDhhUXp6U1NkUDZRcXJLRjE1cHNMcDc2Nm0yWG9lOURCQk0xbU5Id0VLb3doN0xLZWlWUEx2MHVZMExZdXo4S3hoWVpka0xHV3NXcHplQnRmakdydGppNHg3SUsyNHBGVHdXaFpKVVJDUE1oZFdob1doZ1ZsSWpHcE43aTA3UUFoTGtOOUVqUW9STDJldFhYek1jbk1OMFZNNnIyZmJHRVc2Wk5leTRKYU03aTdIZWJBcjlGTGdJUUZJRFhRdHhUUEpSRzRSWnEzQzFXMmoyZGlxenhrYktUZHBKYTRrWEZwVmZqOHE3b0xiSlpobzFIcDZGQnd2Rk05VmM1RmdnTkY2V2ZQa0F3bW5QNHliUlJ1dlNsa1RYaFdxcGVmUFFvbWpSZURPMWdiMlNITFNMUWZYSjcxbzM1cllsa2hVdzB0SUFVZFBwVTBNYW9kMDFzT0doQkJ3RHpiOTVjaDBXenRGa3dMQ0dteEo2dlBiTFZRaUJWcVVSdEdIeVlwMW0yN0VMVk9TNnplOUNMcHlCQUR2ZVVZQWFGYXNkMGJIUWpkVHBEdldjMGdRMFJRYlRrUHp1SWVMNlBHZU9mUTVRNHhNT2dqeDh4SEQxQVF0bVhvMEdpRWZDODE0aThQNlhZTDFiUG5PaTRucWhMOHJGZG02ckhSbGRWSGk="
m_p: "pF76rzQ624T8091E12Sc8K3J41AY0l5XPtNNYtN20fkr7X3OnWdLhJTH9Z0d3a2h"
e_t: "1614186017265"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:00:14,790-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:00:14,790-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "51f235f637024c13aceac01faebd3c19"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "gkCD4Ty9"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231900162076075925311742"
version: "260"
queryType: "PAY"

2021-02-23 19:00:14,997-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.65"

2021-02-23 19:00:14,997-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:00:14,998-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:00:15,001-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:00:15,001-INFO-recharge_spend-56-可币余额异常
2021-02-23 19:00:43,695-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 19:00:43,970-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 19:00:44,012-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 19:00:44,013-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 19:00:44,380-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 19:00:44,383-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 19:00:44,384-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 19:00:44,387-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 19:00:44,388-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:00:44,388-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:00:44,391-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:00:44,399-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:00:44,400-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "02411918254018"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "X0kURq57bWA3G1OYSuxQChpzVcNKrPgw"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:00:44,491-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "c74116b4f10543bfb195101d34b557ab"
s_p: "RTJGVjBHcmpSZVd6SFltc3pURGlxZ3JyWGR3ZlRCWmdVSUlSbkhWd21XbmV3VGpVUWMyeU1aRzhKUjhlRWM5T1pINnJhNEVHVEI3TTFqQ3dzYld5TjdqNzZRRjJwZWdGQ002Z1ZEeGRoOFRPQjRzR1dyQ0ZrT2RxN2syaW1LU25JYXphekNLdFJRTXE5WjljaHVVb3NvNUliZUVxWGpQa1ZNZ1N5TlIwOThlYUt4ckVJNmF1cHFTOVpaMVBiUjlRWVloUDNYT3pTZVVCS210WTg0Qkc4TGZwcGhtSUt1VXowUUMyajFoTVphSnI3YW44MXYwbjNGS2wwaGk0d2Ixd0hSMlBQbnptR3Y3czl3emdzZDRmR0VWenUxR3UzYUhvRUkyVVVYMlVxa0JkTVRyU21yNGpvWE80SmJ6UjVqNlZmMWJxMkNZd2haWWVLQjd6RmNTajFLTnIxNDc4cWRJTU5Zc1FvNWNQUm91NE40cnZhcVFzczh0aUVUeVdJckJmc0RYb0NnU1FUSXdURDhSUlZWdmNtTjlodnB0ZW01RjM0Q05ZczliZGF1RDZIYVNQbkF2U05sYTJBS1dOSUxGMFloWkpnMzlzZU9SNVZQZHFlQ2taRHYybTJzVEM4MmhSTVg1YWd5aWh2bmY5OXJuMFViSXV0WmxFaWZvQmpTVlNQYmFJZENJZVJ1NFpLR2VKUllHSzFVOU5LbGF2T1BBWDFEWWJob0RoZHRZS0loWXIyNlRvRmpId3BJYUNoaXFVNGR3ZWdxbXlVSUNUWFhOR1IzZ1Y1WGlYaWpiSnppcUg5VGw1T245bnFXTEZibTk2OVB6Y1A1dFF5R3R3WXZHUzJySGRkNDk4M0F5dFFZVDEzZkpLTjJBSHlNRndwRjJ4dWJlWTJoYUVwWTVDTXBHZnl3clFPZ2pWRjRFam9iWFduRXN6dEVHZnpMcFYxeW5hU0VybDZoUXlLNGtuWXk0QlkxWk5tck1xc29YYVlZUzk2c1V5TGoyaEYzWWRXc1dDTXduN1hwYTkwaDFPWGZOM1psTEVueTEyclRaOG9QMFk="
m_p: "kj0Kd1MNWca4bpL9Q2W63785HOj4513fuUngqsbCyI06q962hBJIMk0DnyT0xesG"
e_t: "1614186046966"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:00:44,524-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:00:44,524-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "c74116b4f10543bfb195101d34b557ab"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "B4sGWrCF"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.22"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "K315uzafiyXoe7C2px9JNYUgISqmwV4v"
}
sign: "grhHiXtqeVU2vtkIhPv6FGik+05kJbcmCcXNRbGfhdSvJxl7SXj5Hq1WIvHlOQYMx2CdLhfv8aCPc3sOR6kQwhWLV8s7BmGn6OTkzEaDKVVLFPAvS7JKbF5iwSvr3c8aRf3u6avWjb3XZevmuTVf6P1FzBnw3elpu1fevBE7renL2C7OADbe0RiCS+V6FDAAxN5D62kydsQDypF2wOOPrIyAVgGOg4pxNPGaPrSsfifqDu1ydFel58jYGmYLMAWHMY9FHKJ8b666wEzJrJHTX1hY/wGB6Zy5j43MFYmEjOX/jAtZgHj+W+bgq+R5i/nTgtCBMI9/6BBVEN/tjw/l0Q=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "c74116b4f10543bfb195101d34b557ab"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "B4sGWrCF"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 522
  count: 1
  productname: "RECHARGE_SPEND_PRICE=AMOUNT"
  productdesc: "RECHARGE_SPEND_PRICE=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "K315uzafiyXoe7C2px9JNYUgISqmwV4v"
  channelId: ""
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "DRuwnSdZYKjBWiS2UOExWmMRs3pAa38mgN/YQGs2T04kh+mRBkLB443Ik2YoLn50XJxpgf4VJrpZktYgnjTU0GpJvh2suYcls7TlmqBOUdUi3yDHAqRhH/clIreU+GbBi1zcf5eiesLmAB6cbBQHOpdAigNdBwR4xi5BzMEUwgQ="
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 19:00:44,938-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"bbda1572a6514391b0b6049975bdf14f\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231900473817484b8e17e0a37548180000\",\"sign\":\"39E7428A6E28E1F064844F4FEFA62450\",\"timestamp\":\"1614078047\"}"
}
payrequestid: "KB202102231900472076075925825782"
model: ""

2021-02-23 19:00:44,939-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9461659728185708864335404564]]></transaction_id>
<nonce_str><![CDATA[gTCE36c28ofBGLvAZ0O1hzanmFeXtiMl]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[2D2E3E19A258BC2740D2B44EB5F2E011]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231900472076075925825782]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>522</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223190044]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 19:00:45,063-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 19:00:45,063-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 19:00:45,075-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:00:45,075-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "89705127949388"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "b71AcFd6SBVJGhLwPnsTHZazufElpY5o"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:00:45,162-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "6590b782ec1c43ee98a38d2a87f4b459"
s_p: "OE9EWGNESVQ1ZlJ4REpxaU1BWWNQZWtKZkZKMzdEY2VPRjczZXdTTG9SZmxUSTQ1NmVtSjRDeHpYRGo3R1B0aUlTU1cya1VmZjBjVVMydUxUZW1xUG1KcUtWZ1FhY1dZVVoyVlRZM2plNUwxVXpjaWNTalBjR0poVjhhZHN0RkNsU0FLNTdaSXVjeUM2bE1Tb2tVV21GcnV6VnV3U1pMcWJPOE8zb0tyQU9PcjhsYlhwcW5xNWdTYUx3OEFiZm1PQWRHbkJRdlM5bmo3aDZsbmU2SktadmNqNTRNaXNFdWtJQ3lXZFJvbUFrNjZTdU9YSHFYN1NZYlFBSnFERlNaYndlTHlScXB6TE1pMmJIQTJnbGI5YXhQREJGSThDNmJURUJnb0tmZXIzcmVtb2UwS2IzR3RnaHNidk84S0NhbjExa0g5RU1hRjV5WktzWFQwQzlYMU14RnVmMDZjUXVzVnljZEs5bDExS0pmYkZrUzQ0YU1vVW44b3RMaVAyUmJnQU54UW5iMzgxNm5VYkNKbzM4OElTN2FmRVVoRWhkeU90RDdMTWwxS2Y0N011dU5yR3dha1NhSDk1RUZkWFoxNjJyRzNnUFZmM0NnenFpVDlPUFRQTzFQNm00MHp2eWc5RjRYeEJ1alBCZFZOQktYZlRkbDI3eTdjMkU5U0xwQTVRR241UU9XZ0UxMGwyeDU5dWM0RXR0eHpObWJqMGJvMjh4Z0huM2NKVldZQ2xoRlZCQlk0QTBEN3lNOEVsQmR1c1Nkd0dXTGlrVjhIMWJGeGtDNnhUS05vbERWWWNiOXBXQ2wwWUIyZ283N1JuZVFuRzZld240MDk1Q241TE55RDFYZ1lwaFYzcTdEVUczQzlDV3VFMmFBS1J3YmFIYmtNZ1lKNTZsY3psaEhnR2ZzTDRDVkQxT0RBbm8zNzA3dVBjNjNVVUhwdk8zNkl2RFdFclYyUlE3YXA0dzZaS0owWjZuNndaVGhOV2lpTFV6Q20yUm0xcEViZUw0VGpiZm9rdFU3UVJ6RGVTTHFNU3I5a01OSzlyem16Rnk2bVAyaHg="
m_p: "9z2cvr200GPqeIGqe97nXWShRC22s0636c59p7aj0ZZL9rSIiYVbmj0rqWp070Y6"
e_t: "1614186047629"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:00:45,167-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:00:45,167-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "6590b782ec1c43ee98a38d2a87f4b459"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "uLTemqPm"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231900472076075925825782"
version: "260"
queryType: "PAY"

2021-02-23 19:00:45,215-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.22"

2021-02-23 19:00:45,215-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:00:45,216-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:00:45,220-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:00:45,220-INFO-recharge_spend-55-可币余额正常
2021-02-23 19:00:45,221-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231900472076075925825782"
2021-02-23 19:00:45,226-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15050, 'pay_req_id': 'KB202102231900472076075925825782', 'notify_id': '9461659728185708864335404564', 'partner_order': 'K315uzafiyXoe7C2px9JNYUgISqmwV4v', 'amount': 522, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 522, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 19, 0, 47), 'success_time': datetime.datetime(2021, 2, 23, 19, 0, 44), 'modify_time': datetime.datetime(2021, 2, 23, 19, 0, 48), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '{"cutAmount":"0","id":"0","type":"0"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '0', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 19:00:45,226-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 19:00:45,227-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231900472076075925825782"
2021-02-23 19:00:45,231-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7736, 'pay_req_id': 'KB202102231900472076075925825782', 'partner_order': 'K315uzafiyXoe7C2px9JNYUgISqmwV4v', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 522, 'amount': 522, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '121.12.147.248', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 19, 0, 47), 'success_time': datetime.datetime(2021, 2, 23, 19, 0, 48), 'modify_time': datetime.datetime(2021, 2, 23, 19, 0, 47)}
2021-02-23 19:00:45,231-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 19:00:45,232-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231900472076075925825782"
2021-02-23 19:00:45,236-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 19:00:45,236-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 19:00:45,236-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 19:00:45,238-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "K315uzafiyXoe7C2px9JNYUgISqmwV4v"
2021-02-23 19:00:45,242-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 19:00:45,242-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：None
2021-02-23 19:00:45,242-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 19:08:54,326-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 19:08:54,600-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 19:08:54,642-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 19:08:54,642-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 19:08:55,057-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '6.88', 'batchId': '38601864221403114645515355636995', 'bizNo': 'zh85a2OUfT7gNVHKEM3CZwjlXQPYGo0D', 'operateType': 'PRESENT', 'requestId': '26209029653710577525810477976288', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614078535054})
2021-02-23 19:08:55,107-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 6.88, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:08:55,120-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614078535117', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 0.05, 'cutAmount': 0.04, 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 19:08:55,151-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299721'}], 'vouIdList': None, 'batchId': 'eba2f1176bd945a9b527e989c304825d'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:08:55,164-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'eba2f1176bd945a9b527e989c304825d', 'batchOperateType': 'PASS'})
2021-02-23 19:09:00,209-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:09:00,218-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:09:00,218-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "74330197342089"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "nzsQwVU1uAg784O3ojR0kSd2Lb5BeEHq"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:09:00,382-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "19e58305a8b24538a73475c61ed5582e"
s_p: "aXJLZDVmUlhsZ0JCM1ZJUWg4VE9TdGd0RlFyZjZwR2dMbXZpSThYajk5NFllTDhsc2NXejU2VWlRVTNTY1lWUHNCMzQ4YUYwSXo5UHhYMzMxa1V1ZVVqSXJacmMxZndRd0cyNWdpNEplOU9EQVYwSkVFUlpDc1hNOEwzTEQ4T1VLN1lLanF2QkJCZ0d1a0ZVbHpoOFZ0dzN1bFR0cVhqbHlrTzhFbWdrUWlVc28zNk5rcW50dXRRY3pGZHhIcEhJZTNvZDJrb3ROeGk4STBiWDd2aFZLSnBBSXpRdDZITnZyZ2k0UldtcmZ4QVNwTUVqRGk3bW13eTJ5OU0wcXZmcEhDRUhXc0RoRmJZNUYyWGl5a2FIclFqRGZJVHNNOWJiYVZnR1ZRZmRxQVVuSEdwWUNXQ3ZJRmFxVjllVEdHbG1ZenZ1bWVzbXQ5TEdmUGFiYllwT3NrZXl2T1RGQjdBd0w3MkhDeThBa3JKUVhyd2tIZzA5dEF3N0ZJdTZFdEhqTmVOT2k5ZzAyWmNGa2Ewc0lQTjc2WnVhV0ZNWXdldDZjODJUbU5vclhyVjdNZzM0bGRNa09GeFJmMXB4aXVndUZSRjI5RDBBSE0yZDhaOVF5bU5lN3RlTHZYenZwaEJpQTB1ckV1RDYyM01Yb3B2djF6V1ZhQWNTSm5GM3lSeW5wM1lnTTZDbXlWMVdRM0FzbmJCMWZBdzlURVhaSGtXNXZpQXJnTEs5TVNENmxtVG12YXN1c1FpSXlQeG9qRG9vZ3NZVGQyNGJLNm0zWFdDTFR1RXUxaG9udW1OT2RzYVRKT3pRYnF3all0VUVaRENIYXB3ZUlOZGJwVm8wMW9VNWdRYURoRXNIY3pnWGRtYVRRd2hKYUVlVmRvV0dhQ2FWWkt5c3V3akdlN2ZIb3lhbVRNSVRUUlNNZXdYbG1tSXBzZHZKOXk4Q0JEQlhkSzlGRGZPYktodzdUTHdvRHlPdW03VGxEZjRnemNXZHFDcWZMUDB2SVQyN0MxZjc0dGdjNXJJczhRRW15d2U2aVlxeXhEemI0SFBQQm83MFNtOUw="
m_p: "QqJKKsYqeBB9Wy5d9omX7bu2sfzACxvyE7l3K4OD4K1a9F4Nrv2m3mGs19W7XS9t"
e_t: "1614186542825"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "6.88"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299721
    type: 2
    minCousume: 5
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-23 19:09:00,412-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:09:00,412-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "19e58305a8b24538a73475c61ed5582e"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "sB348aF0"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 692
count: 1
productname: "KB_AND_VOU_SPEND"
productdesc: "KB_AND_VOU_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "AfkIa0COZdJXshgjSHtcUYv97q1m2DWL"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "aimm+EwmMlCcHvkeI4rIBVAqUYJ4gtQWE9cXX9qoMAMOldR76i6y2MkvhJd+AtqUx+xFJb/cRDQcyLkZeS7CaTM1/q2Mc7umsHnFkHVYMH56O6yzZYOtULJQzKVFUUP2GcKvoA7L4LjrwMQRCkiKDEBJcf8mFqqYFeaExKoSscA="
appKey: "1234"
voucherId: 62299721
voucherType: 2
voucherCount: 4
order: "0856526522943"
ip: "120.197.152.211"
factor: ""
screenInfo: "FULL"

2021-02-23 19:09:00,660-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 19:09:00,662-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT pay_req_id FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and partner_order = "AfkIa0COZdJXshgjSHtcUYv97q1m2DWL"
2021-02-23 19:09:00,665-INFO-fiz_db_operate-38-查询到partnerOrder：AfkIa0COZdJXshgjSHtcUYv97q1m2DWL， 对应支付订单号：{'pay_req_id': 'KB202102231909022076075925474382'}
2021-02-23 19:09:00,666-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231909022076075925474382"
2021-02-23 19:09:00,670-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15051, 'pay_req_id': 'KB202102231909022076075925474382', 'notify_id': None, 'partner_order': 'AfkIa0COZdJXshgjSHtcUYv97q1m2DWL', 'amount': 0, 'refund': 0, 'contents': 'KB_AND_VOU_SPEND', 'products_name': 'KB_AND_VOU_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.252.5.72', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '', 'sdk_ver': '', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'KEBI', 'direct_pay': 'KEBI', 'game_type': None, 'present_amount': 0, 'original_amount': 692, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 19, 9, 3), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 23, 19, 9, 3), 'trade_type': 'PAY', 'kebi_spent': 688, 'voucher_amount': 4, 'voucher_info': '{"cutAmount":"4","id":"62299721","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': None, 'mobile_os_ver': None, 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299721', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': None}
2021-02-23 19:09:00,670-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 19:09:00,671-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231909022076075925474382"
2021-02-23 19:09:00,675-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7737, 'pay_req_id': 'KB202102231909022076075925474382', 'partner_order': 'AfkIa0COZdJXshgjSHtcUYv97q1m2DWL', 'partner_code': '2031', 'products_name': 'KB_AND_VOU_SPEND', 'ssoid': '2076075925', 'origin_amount': 692, 'amount': 0, 'kb_amount': 688, 'voucher_amount': 4, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'KEBI', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': None, 'app_package': 'com.example.pay_demo', 'app_ver': '', 'sdk_ver': '', 'mobile_os_ver': '', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 19, 9, 3), 'success_time': datetime.datetime(2021, 2, 23, 19, 9, 3), 'modify_time': datetime.datetime(2021, 2, 23, 19, 9, 3)}
2021-02-23 19:09:00,675-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 19:10:19,106-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 19:10:19,403-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 19:10:19,445-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 19:10:19,445-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 19:10:19,819-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:10:19,819-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:10:19,823-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:10:19,835-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '1.19', 'batchId': '43790974985454020874272926177866', 'bizNo': 'fYJAho1UON80myTjtiIalkZwEMG76SXd', 'operateType': 'PRESENT', 'requestId': '50209873822998838723459407365333', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614078619833})
2021-02-23 19:10:19,861-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 1.19, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:10:19,874-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614078619871', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 1.49, 'cutAmount': 1.48, 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 19:10:19,896-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299722'}], 'vouIdList': None, 'batchId': '8fa68e29d4d64f4b868731e17d0f95a6'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:10:19,909-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '8fa68e29d4d64f4b868731e17d0f95a6', 'batchOperateType': 'PASS'})
2021-02-23 19:10:24,945-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:10:24,954-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:10:24,954-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "16487245773443"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "eplrSy0ciOKYQU8ThFvauwd34xJg1EXC"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:10:25,066-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "43c90ddf73194d6eb2e713296d3947a1"
s_p: "eGkwSWp3Q0pyTUdxNGcyN25FRTRVYVh2aGpybkxHSFdmejI0Z0thR0RXRXdOMVljQ0RXcGQ0Q3JRNTlreXZ4eFl3d0ptZEU4NnpBeEdTSmxZRWhMSWw0YU5ONExOVG9vSmM2RExkUXhmOGNkRGp3MGJlanNUaHlFOFlUS3dvbkNoUE5XRjJ4MzF3dzFmNldwMGJIUjhnVktPd2J2RnlVd1k4cFczNHM2RWMwQWtyMEF3RmYwc0VRWklHTmFxVmpEamVibFBGVzV2Y0xjcGlYZFBWUnp3cTk5R0lCaHNqSENmNkFtRVM0NkZzenB1Y0ZINEhEMTBXRnFGSmVHMkxuVFdxS1BhNWJ5d3ZRVVRYVHFpRjNhOGRZeExtV25YR0JrRnVqa1hqazRKM2FnbDBXbGhFUHdDQzJERnVEOW8ySk5YWHlhdzlSZ1IyZFRTTmxkOHc1d09KeFBRRVdtVGtYRFBVVHd2WlJ3SURWN3FvUElxNmVmM1BaQjVMdFlNUXA4dFA2aUlCVlZIRTFnN3NnNnNDYVhrSE5mWnU3Z1RCdEhLR3ZhZnBJZVhXN1BPbmRtY3E1d2Z2WHl1RHJvMkpXMnNlSUVKa05CY2VWM1RVM3BGVkE5a0p5Snp3b1FoajVzMldkRmluaVJGUFowYXdOdE5WQ3BsRmowNW1ST2VMRUVyRHpVV0hPaHhTRHNJRk1Cemtsc2FYQVVzaHU4aUpZU2REQWpFdGdOd293OGxMTXVXWmNlUTJxbktIdXd4dkF0R2JONnlkVlgxMGdSelFZOE0zUm9GcmVPeWxWYklSZTN5MWp1bVI4ZWxwRlhoMnA1SngyVzFZenU4cHJEOXhzSnBXTHdvdkRWeGU5dWRKbXFiZXFxM3phc0FpU2FtM2paUG1uU1p1dEFrNkUyUkZhZ1NRTGRKeXV2MlZrZ0w1VjNrMEpzUXZkNHFTUVkyclY1VUV2Mm4ybWY1aFFJY3owbEdKN2NiODRZajJHQmdjR0Nma1FEOFhXNDJ4T1JlVWdBcmtOSGNVOUlhaW92Rk9ycnQ1c1UybmhNRXFNbHlXSWo="
m_p: "uD6JkCs4263A1Da4xPXW6Lch8615rMa04b5Wktsnu3arLQFLYCL4n9p2S9D33m78"
e_t: "1614186627523"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "1.19"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299722
    type: 2
    minCousume: 149
    vouCount: 148
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-23 19:10:25,097-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:10:25,097-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "43c90ddf73194d6eb2e713296d3947a1"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "4aNN4LNT"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 267
count: 1
productname: "KB_AND_VOU_SPEND"
productdesc: "KB_AND_VOU_SPEND"
partnerid: "2031"
callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
partnerOrder: "eNLoKrBFl9ngHsiDvVf6Y3SkCEbA0t1I"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "Z/Pjt6GwmlipFlw9QZe4QaeFRNMQLPI5EKOt6HjPuFQLO0RzrMpb/TumtD61vCviRDZ8mj2DN2W7N18U5padKhMtv+ytpDwei4VsH7MS6OxZTUYoreMBbppsCY+99oqBI9Mzh3msFUExlIPKoBmd/NZvvnoItpc0AxpkS42EvVg="
appKey: "1234"
voucherId: 62299722
voucherType: 2
voucherCount: 148
order: "0940229118777"
ip: "120.197.152.211"
factor: ""
screenInfo: "FULL"

2021-02-23 19:10:25,277-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 19:10:25,277-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT pay_req_id FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and partner_order = "eNLoKrBFl9ngHsiDvVf6Y3SkCEbA0t1I"
2021-02-23 19:10:25,281-INFO-fiz_db_operate-38-查询到partnerOrder：eNLoKrBFl9ngHsiDvVf6Y3SkCEbA0t1I， 对应支付订单号：{'pay_req_id': 'KB202102231910272076075925728372'}
2021-02-23 19:10:25,282-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231910272076075925728372"
2021-02-23 19:10:25,285-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15052, 'pay_req_id': 'KB202102231910272076075925728372', 'notify_id': None, 'partner_order': 'eNLoKrBFl9ngHsiDvVf6Y3SkCEbA0t1I', 'amount': 0, 'refund': 0, 'contents': 'KB_AND_VOU_SPEND', 'products_name': 'KB_AND_VOU_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.252.5.72', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '', 'sdk_ver': '', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'KEBI', 'direct_pay': 'KEBI', 'game_type': None, 'present_amount': 0, 'original_amount': 267, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 19, 10, 27), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 23, 19, 10, 28), 'trade_type': 'PAY', 'kebi_spent': 119, 'voucher_amount': 148, 'voucher_info': '{"cutAmount":"148","id":"62299722","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': None, 'mobile_os_ver': None, 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299722', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': None}
2021-02-23 19:10:25,285-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 19:10:25,286-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231910272076075925728372"
2021-02-23 19:10:25,290-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7738, 'pay_req_id': 'KB202102231910272076075925728372', 'partner_order': 'eNLoKrBFl9ngHsiDvVf6Y3SkCEbA0t1I', 'partner_code': '2031', 'products_name': 'KB_AND_VOU_SPEND', 'ssoid': '2076075925', 'origin_amount': 267, 'amount': 0, 'kb_amount': 119, 'voucher_amount': 148, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'KEBI', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': None, 'app_package': 'com.example.pay_demo', 'app_ver': '', 'sdk_ver': '', 'mobile_os_ver': '', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 19, 10, 28), 'success_time': datetime.datetime(2021, 2, 23, 19, 10, 28), 'modify_time': datetime.datetime(2021, 2, 23, 19, 10, 27)}
2021-02-23 19:10:25,290-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 19:12:04,281-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 19:12:04,521-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 19:12:04,572-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 19:12:04,572-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 19:12:04,945-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 19:12:04,948-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 19:12:04,949-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 19:12:04,952-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 19:12:04,952-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:12:04,953-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:12:04,955-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:12:04,975-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.07', 'batchId': '10956106783117630174905284478780', 'bizNo': 'EGCXsQoWD13VRT95cJfha2ZuFPIqmSxl', 'operateType': 'PRESENT', 'requestId': '44653026810540687517517390419511', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614078724967})
2021-02-23 19:12:05,017-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.07, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:12:05,030-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614078725027', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 8.53, 'cutAmount': '8.52', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 19:12:05,049-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299723'}], 'vouIdList': None, 'batchId': 'e647da27ba5e471c87b8759255da3ba1'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:12:05,062-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'e647da27ba5e471c87b8759255da3ba1', 'batchOperateType': 'PASS'})
2021-02-23 19:12:10,090-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:12:10,098-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:12:10,098-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "68219858830224"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "FrhlIa4fmWyoUzbE6pcHtkVuBJQ02TDY"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:12:10,269-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f15d53574e1247a7a7d4568dfc7115a1"
s_p: "ZGI4YTBhWE9rclZyaUZCa01qRlk1WU8ycEkyTDZ5M2Iwd0xuYjdNYnNrempjVnNuSFJDMlUxSnpwb1haeXBUTUJWUDJ6eFJVR0JESVdldVk5Z29SeFlZSExrV0czWkl4ZGxPVmd2RDQ4QTcybUxZUTBEc2w4WUhaV2MwVDhtUjZTdUtPMmtOT3ZpY0JTd1VadHFySTRQMWNaemRNRVlWdHB3V2N1ek10eFIzbWdPdjBTdkhsUlVwY0pmRUhEVjBKQmZzYmNCc2hjRmNDYTNQcW4wMHkyRG4xTmVjVnFBSEJwMW96ZkhEN0JLdE94RHZNeGhIOVg5eThHcTZ6cUpPT2dCdkNDRlMyc294Q3RhT1VNTE94aGhQb0hOZDVuV0ROanhzNEw0OHNtcGFiZEJHVXBXdFdKVFdFTmVDVjJLa0NUcmxkdlp4c0hvUGd4VTFoSTZOMjdtalh4M21WdE1INFhOV0hUZmJEbUxnTGFzZVpObnZFWkJiM0lZSUpOSVdXS0ozRjNsMDRaTWRzTzV5bTV0all0N1pYalhOVnFxUUc2dEpTQlJtVlhmNXVaVGQ2V0IxUXhCMXpXaXJiTkRvWXFqSnpEaW5NNWc5c3hEVTZPYmdvekdwa3lHdHFJVDJKZ014Q3BOc2JhSWZwN0pjcGlSZ1hCWHliVkxmdVptU2Q3NEpKRVhBRkxEWldZZXpZNzlIZnd3aGlrM0plUW5PQXBuNHFqelZPanYwRTYwMWpNamFJVkE3NEpXS1dCMncyZGVIYm9KalVqcThxRjhqdmFic3JtcVk4ZlV4Z1dPeVp0N2dIS0VXS0VXVWdtcjR2UE9qUUlJV0RDQldrTlgzUlg4NVdnSEcxcjRXUW9mZWIwb2phaWJJYmFkQnVzVXplbXA0cVV4N0tzVUNESGR5d1pUWlIycEJuZTFKcEFzTGdFWVNxYjNRZG9iSERad2l6dFRjdGY2UTJmVDRrZmJXcDNKVzRsSHE1VkkzWElYOXl2Y0N1eHc3S0tWcVhTcUVWTVNzUmNDWmY4UUpIQnY4Q0lESDB1cGtld2tlT0ZzWWU="
m_p: "58I80W6305i0T5N1R0RG4Rifu7Yp542ozpg7l63Y0HMw1ut8gMP91ZjkbO2Ea4yZ"
e_t: "1614186732661"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.07"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299723
    type: 2
    minCousume: 853
    vouCount: 852
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-23 19:12:10,291-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:12:10,291-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "f15d53574e1247a7a7d4568dfc7115a1"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "0T8mR6Su"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.12"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "ZkexUSHgMuW9X4bsi8BoDEPdV1T27jzw"
}
sign: "2xvA2twkHw94uMCETiNxvnaQt6PjWwg7ygO6O7xyYNBg3AcWIJ4hHgeysZh53gWOian3ziOUIiOGE69bT1s9lCY4aP3/xm5PkEYrMG5wHBHL14S6ZLjaj6Ibz87ULw/moo40d7Zn9R+whXSRQMFgQuGLn/gR07S+5G7eaCXOxgzEoq9qSmqZFMEqFZsKRz1NxxJnKeqaqFfifZcK/eNmTQqCrCFTcDw6TRwK4wXOm+QME8UmKls6aqiCLEQM/+kVWUCm0SrHMAxJ7kZortKTwX+6diISAh+fmqY/D3b3J8CF6go1kJm544wBeFJErrB3o2SI+eo1PS4PbUcnCEaViA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "f15d53574e1247a7a7d4568dfc7115a1"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "0T8mR6Su"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1271
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "ZkexUSHgMuW9X4bsi8BoDEPdV1T27jzw"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "cmAidDpMWO3BH2sR8NdmX5X1xKveOwAj+5Z3mP0+A7NgzaeVXEs5zMDfM0WFAMLYW/hPEQ5VoEQkwg/WD+Jkthbzaed8YZ61u8g3wNQHYfqUbqjA3IFyOQBGQq0ru99ntximfujOgRFxzDdxRPuSwr2+EEm9+bTmw1cHcikM24U="
  appKey: "1234"
  voucherId: 62299723
  voucherType: 2
  voucherCount: 852
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 19:12:10,768-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"870654088b8e4fbe9159067f9563ef2e\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23191213213479dd4d8f782ad80f7c0000\",\"sign\":\"58DD53E1D37A5921FCB5D024AA526429\",\"timestamp\":\"1614078733\"}"
}
payrequestid: "KB202102231912122076075925560742"
model: ""

2021-02-23 19:12:10,768-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7231539861726850789022221152]]></transaction_id>
<nonce_str><![CDATA[8hz2fZ6oRHpcYgkyx9dG5UBOtvJALEIK]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[76BFCE6FC3584B1B89355ACEEEF980C7]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231912122076075925560742]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>412</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223191210]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 19:12:10,978-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 19:12:10,978-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 19:12:10,985-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:12:10,985-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "22760422988730"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "b89Qhdtj4mPkM5A0Z3W1HvNaRq2FELzI"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:12:11,073-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "9a9a1c3936dc4dc8aeff1326324cf87b"
s_p: "clh1MGg0M21VcjU0SlM0V0ZZcXVremdYNUg4THZiQ1lGZFBtck9NQTdtUVFlZXNUNDltZFI0V0NJSmZ6S2dwdVVxb3VpRXZnWTgxTnNyQ3g4Z3dwRkREU1Y5cTVzQjJFTUhTcGhPazJhcXFqRThGYTkwd09DRkg0WWpRTE1DSDhmS2FOdmo2dmx2OENEMjVFM3NLNFpVbUdaaWhvc1Y4dkowSWR6cm41b0E3T1djcUQyZlZjeVF5bGw1SVoyd1doQzJUa3BDbWthNldlMnhvY2Vtb2o1SkVRb0pmckZPUllVeE5FSzZFRVBSODRyZnJRQmJDQUZ4QmxsWllvN1Z4REZpZU9lNktpTm92MjRoUGJOQkpNQlZOR2dQZkJvSGV1ckRhZnlPclpPR3doRFg2OXE3VFBXUm01endLWDVXWVRpN1pVb3pnQzhydkczWDhDNFo2UTlia29HZGhJTm9QSTh2WDNEZ3JIdlFENlVxdkNQdXVJTDc2a1ZCNmY2MHVIdGdMMTNHT1VmcjM1MXVGMkQzZnZsbExUQ1ZMcnVTUm54UHVocDZUYnNTSXE3TzBTV1I0T055UDJ4S2NjYW1jM0pPMmgxUWNiWUNod3RwOTF4UFZPdjBBZHpvR0p1Z2E3cjhqTVNmNTlBd1E3TFpXcmNzUmo0UDVtQ2U1N3FHak5xdHVNVGhPNDNxeDZKNnhhVVhKc1V0WFVKam1zemdGTGhaQzAxSzByaHlhV2dUdmhXVVJraHdpTkNVNmZsMkZ2Q0t3NXJocmVwV0d1Yk1SNlNVOXhpV0NYaE1qdkJ6MkNjT1c2a0FmaFJNbjRzTDFqcTRLaW5JYnlUVDliblpvdjA4WTBiU2o4eUFBRjVzTldxSjNJek0wTjJZaDFsUXZnMnVabG80ZG40cGpyclBsSVZpQ0JuZ3NpOUtPU1U5ODVlUGlHcERsMEFXMWZqVzZWS0w4cUFpcHBiSU9Lc3Y0d1FTVEc5NnJIZXRYQ3UyRFhvVHVFcFNYUkNMT0U3T2JqZzNGSGFQRDEwVkhNTUZ3OTBGT3pCdlg4d3JEUkNsVHQ="
m_p: "fa09LA1Mq7y80Vzwz0Lx9P2mF3el5lmI20CO7lKyW65ep96rJ3mDqJNf7rOXJ4Rl"
e_t: "1614186733549"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:12:11,077-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:12:11,077-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "9a9a1c3936dc4dc8aeff1326324cf87b"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Cx8gwpFD"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231912122076075925560742"
version: "260"
queryType: "PAY"

2021-02-23 19:12:11,133-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.12"

2021-02-23 19:12:13,135-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:12:13,135-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:12:13,139-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:12:13,139-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231912122076075925560742"
2021-02-23 19:12:13,143-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15053, 'pay_req_id': 'KB202102231912122076075925560742', 'notify_id': '7231539861726850789022221152', 'partner_order': 'ZkexUSHgMuW9X4bsi8BoDEPdV1T27jzw', 'amount': 412, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1271, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 19, 12, 13), 'success_time': datetime.datetime(2021, 2, 23, 19, 12, 10), 'modify_time': datetime.datetime(2021, 2, 23, 19, 12, 13), 'trade_type': 'PAY', 'kebi_spent': 7, 'voucher_amount': 852, 'voucher_info': '{"cutAmount":"852","id":"62299723","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299723', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 19:12:13,143-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 19:12:13,144-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231912122076075925560742"
2021-02-23 19:12:13,148-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7739, 'pay_req_id': 'KB202102231912122076075925560742', 'partner_order': 'ZkexUSHgMuW9X4bsi8BoDEPdV1T27jzw', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1271, 'amount': 412, 'kb_amount': 7, 'voucher_amount': 852, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 19, 12, 13), 'success_time': datetime.datetime(2021, 2, 23, 19, 12, 14), 'modify_time': datetime.datetime(2021, 2, 23, 19, 12, 12)}
2021-02-23 19:12:13,148-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 19:12:13,149-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231912122076075925560742"
2021-02-23 19:12:13,152-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 19:12:13,152-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 19:12:13,152-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 19:12:13,152-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "ZkexUSHgMuW9X4bsi8BoDEPdV1T27jzw"
2021-02-23 19:12:13,156-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 193, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_ZkexUSHgMuW9X4bsi8BoDEPdV1T27jzw', 'partnerOrder': 'ZkexUSHgMuW9X4bsi8BoDEPdV1T27jzw', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 7, 'count': 1, 'r_cost': 7, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 19, 12, 14), 'updateTime': datetime.datetime(2021, 2, 23, 19, 12, 13)}
2021-02-23 19:12:13,156-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 19:13:34,568-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 19:13:34,806-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 19:13:34,848-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 19:13:34,849-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 19:13:35,212-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 19:13:35,216-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 19:13:35,216-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 19:13:35,219-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 19:13:35,220-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:13:35,220-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:13:35,223-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:13:35,238-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.62', 'batchId': '34410928801654840662147084841043', 'bizNo': 'wKgNDFlouQjGE6yH5X7cReMJdrsUi4Zx', 'operateType': 'PRESENT', 'requestId': '98101645136407327690077959189874', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614078815235})
2021-02-23 19:13:35,270-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.62, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:13:35,284-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614078815282', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 4.819999999999999, 'cutAmount': '4.81', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 19:13:35,306-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299724'}], 'vouIdList': None, 'batchId': 'c47b83041f704d569084fbbeb13a069d'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:13:35,319-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'c47b83041f704d569084fbbeb13a069d', 'batchOperateType': 'PASS'})
2021-02-23 19:13:40,343-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:13:40,351-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:13:40,351-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "52268504124043"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "AanDdO9SKRTVJF8vu2t4QgoEMs7hXji5"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:13:40,449-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "bae6f202014d4c3ba44e1a2b904e0daf"
s_p: "a3hGSWtKcjVxYVYzeFI5a3VaT1VrSkEzbzk4MGFvT1F2dDlmVG83ZlRFb3oxQVBlTEF0QWV4YUNCT1RUT2ZuMlVxSTB5SURLOFpubUYzSDc2U2I1d25DdTJYcHFXVE5TUklzMXZ5TlNIeHhqS0UxWm94Umx6V3NmRUVTQmdSMGZJdWFMMGVrNGRPMW1UMjV4RUdZWE1USTRoWnBZSlkydkppMHR3ZHR5Q2V3akpkMFBIVnBtb3BrU3J3M0tNMXd3MUZsSmJ0N09TRFNnZnl3TXM5ME5IcnkxaVhpYWM2a1BPbEFMM1VIVFZWY1ZQMGVhdU1BR3l0WHh3MHZINkwzZDRFVmlQQnBCakIzY1A4UDF1V0dGaWtKY1N2R1hTakdvZ3hUam9jcXBOc0k4a0ZaaFRPd1QzYzZKODJoYTJwNkt1c2hNalRtclM0WW0xcVV1ZDYzalcyQ2NZZ3JwVlFHRVN1Q1NXUkg1NndqUmI4RjlZUlJWb0tqdnBkVmdJMktPYldKYVc1cXd2UEliZnVvcE5XZmRUVHZLejhWQVVpNUVGV3lxc3lIaEJUbWM3M1p4dzV0cVdGUjdOYmxrZ1p6bG0yd0FXM05neUhHWll1TW5wU04xd0ZWaXZYRkdnc3VJbnlVVmxrUjE5akZtaEFMSTNYTzhGN05FRHVZZkxMZHZRUUpBZ0NkQkRkRE1NRUNUUTRFMkNxclJSbVJsQ2t6UXp1U3ZnTmxtcGJQdTB6ejFRTGxBMng1NWJoMFBiYWFXRWN3bDNNZXhSSklrTnBSam9HZTBTUm01QUlybERoYlpHVUswNnJLWUZScExXQjBJTWxlYWdkZ3JMT2RLSnhxakxvRzgwM2oxcERWcm1IUVAyU3p0V0s1TDZEaXZUQTNDdFdMbjdZYmJPWHUwN0k0ck5VYmlNRjdrVUZ1c0lzTlVmNm9kZDNBUDVaSHhYVTRGTEdiUjl0a2pzdEpFYjh5TlRMSlFmY2ViUjNuZktlR25XZ0xQUkxLRnJFY2w0RXVad0w3Szd3eVpxNVZ6b3RBMjdEejljOVFEdmFiYlltSmE="
m_p: "6CvVmT9f40qCJ3mXcnCo5rL7N21Th5dVjIyBVYjFp6lSvEaL3PDCk9E9Ui759fGm"
e_t: "1614186822919"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.62"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299724
    type: 2
    minCousume: 482
    vouCount: 481
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-23 19:13:40,473-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:13:40,474-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "bae6f202014d4c3ba44e1a2b904e0daf"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Cu2XpqWT"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "1.82"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "FAy3xBDVL9dJIi2N74utl0YpZKT6Ps1j"
}
sign: "imuzPkyobKQGo4bPTxlN+TwvGcdW9TEUDvUeqDin4n69hW8kCGg4CurmeEJkKdD9yXcCrQLveUqehcBcIPoetiAI8ZA0uke5XE+Jbm6SjJ0ZKF2ffoNaC89KN7fHUTqeKP0UcwwCzhf/kroE6tB8FqbnG8EMuGrgE9obR14vLd8ZWWg7LvuaTVAuEzP6Cf1TStFJABvZnrtd2QbenmrrtnXXzpcqyESbL30VcMHb4QSFq0QUmoAjB2phz22hTkqwPFdsVUutcipYUJym0jFIyQkb7RGF44NQklimFgCsf3Ld9LKf+ODpDVe9tETU7q1zH1xMIaVYHpa0F1HG1Q6gEA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "bae6f202014d4c3ba44e1a2b904e0daf"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "Cu2XpqWT"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 725
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "FAy3xBDVL9dJIi2N74utl0YpZKT6Ps1j"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "DFesb59vhKb3iVGOMZmjQXDyQDWIG7MyUfJuz+ev6/ybu7xYV44K11FB3RR3D0faXIHqvKrF0d59w6TN/mfNbhVhvdYGhrtSZnPLYNGskUlK7tqdsMc6NDSp04gLwfw5oI47v2ycT9aazQrfG0EHCYCvuBmohPKj/rzn8ktqISk="
  appKey: "1234"
  voucherId: 62299724
  voucherType: 2
  voucherCount: 480
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 19:13:40,903-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"b5fa3d8e47894e5ea1b0183958c7744f\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231913433420076adb79af903a3d270000\",\"sign\":\"9EE9505489C1194E2633231B5CCE09F2\",\"timestamp\":\"1614078823\"}"
}
payrequestid: "KB202102231913432076075925314482"
model: ""

2021-02-23 19:13:40,903-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[7235409583072605890764088660]]></transaction_id>
<nonce_str><![CDATA[27n1zIDxE3k4CtYdopveO0gRjZ8UqcaX]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[B235805FAE6B70DBFF668F06BF7D2C1D]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231913432076075925314482]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>182</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223191340]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 19:13:41,025-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 19:13:41,025-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 19:13:41,032-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:13:41,032-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "57635366065236"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "561gaHToFOSCLyQleinEKGjRvfWc8tsd"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:13:41,109-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5e322ac9f8424b459f99b24d1f8423aa"
s_p: "ejJyWFFlZU1aUjduNXV0aUUwTVZtTERUdXNNbTRreVNEZ0FJYmhNMVRwSWI5NGkyUjlRMkU1T3VDTEdCMk1kWWdxM3BRczRBa2M0TU9UbzRwcGdzTE1oODhyRnVHeldtVW40dEhtNWdGZUxWZjlxSTkzOUhWeHpUSE12ek4zTVNvdDJjbFY3TG51WGZQcXliZnl4elVrWEVTZmt6VjZ3bzc2ZkI2eU5xa1l0cFZjaDhJc0NYUUhxTEpYUExPUW5SRE5HZDVlcmtmWVhHT1p0Nkh0TFdCVXJlSDNzREhUaTRac2RBU3A3N0Zua1lwVm1YRnNjQ1VUbEY3TXVKVVoxZXdxcE1ybExVRTF2cHhhVXJnNlF4YU9xQVN0ZUZiVWJucXRUdkRTOUZiM2xmcFdITGI4UUhJeEg1NWw1c3VUWnBDMkJxRVFJZ2tCUnFXMWk2UHozNVlHcDl5M0JiMGVLN3ZSaFpHUHV2MDZwdXM2cHBBZmMyMkZWSmQ0SnNyeW5OVzNZZVhCUVl5Y0NUVnBwUW5nYk8wYU91RDVGQnZiZ1FrTkN4OVM5MVo2ODZEeHJGeGJYYzRKMlV0TDdKVDN5VEJnWDhwS3FsVUxGTHhnYVJXSkNtUVFpRk1VaGVkWEs2cjhmZmVzT0xkZXhBY3JQWEloVXlZUEoybkxSZ3Y3aE1Cbm9EeUs1RW5ZNklMbWNSTjc1OUx6cGYwWThQS2VPOGNLWWtwVDR5Q0FMczJMTUR5ODlETFN4eklvWUJVVnhFNXF2S0JQU3JCVFF1UmtNbVREakw0SGxWWkZOc1RpMW94aEtpbWJlYVYyNUdNYXM3dmxmTDVkcWJTS0pPaWo4UkV2OTZKQnpyb0U2Y0lBNVNFdTFIVzg2OGE2Z3RMNmlTOFBzaVlEZGJLMzlmekNCQzdwOFNKeGY2aktCeHE1ZFowT2VxSjNmanp5ZDhUNngwSlFocWJWUWtGYnFJQjBQN3NiU3lsT0NWZE5pWExCSlVPMlVLNDA1SmlhTndSSmprU1dtZ0t1VlU1ZlNFZEl4NHBnVXRvS3RKUzJnOGtmTjA="
m_p: "J36k9ou0P5a013gQ13R9qv4991id0i33q8Pnup2pO35ZJ3nd6RCWBvso36cpx296"
e_t: "1614186823586"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:13:41,114-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:13:41,114-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "5e322ac9f8424b459f99b24d1f8423aa"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "4Akc4MOT"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231913432076075925314482"
version: "260"
queryType: "PAY"

2021-02-23 19:13:41,173-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "1.82"

2021-02-23 19:13:43,174-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:13:43,174-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:13:43,177-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:13:43,178-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231913432076075925314482"
2021-02-23 19:13:43,182-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15054, 'pay_req_id': 'KB202102231913432076075925314482', 'notify_id': '7235409583072605890764088660', 'partner_order': 'FAy3xBDVL9dJIi2N74utl0YpZKT6Ps1j', 'amount': 182, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 725, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 19, 13, 43), 'success_time': datetime.datetime(2021, 2, 23, 19, 13, 40), 'modify_time': datetime.datetime(2021, 2, 23, 19, 13, 44), 'trade_type': 'PAY', 'kebi_spent': 62, 'voucher_amount': 481, 'voucher_info': '{"cutAmount":"481","id":"62299724","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299724', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 19:13:43,183-INFO-lib.common_biz.fiz_assert-36-订单表信息记录异常
2021-02-23 19:14:30,292-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 19:14:30,569-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 19:14:30,611-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 19:14:30,611-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 19:14:30,974-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 19:14:30,978-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 19:14:30,978-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 19:14:30,981-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 19:14:30,982-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:14:30,982-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:14:30,985-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:14:30,998-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.56', 'batchId': '75337356984168140743057134377187', 'bizNo': 'zkGDAW35LUP7Je9s1aMFEh6wxpNKt82R', 'operateType': 'PRESENT', 'requestId': '48145309418159372669253613099203', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614078870996})
2021-02-23 19:14:31,020-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.56, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:14:31,033-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614078871030', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 3.8499999999999996, 'cutAmount': '3.84', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 19:14:31,051-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299725'}], 'vouIdList': None, 'batchId': 'fbe1d62de9dd41b28ae4fdc7e6590ad5'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:14:31,067-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'fbe1d62de9dd41b28ae4fdc7e6590ad5', 'batchOperateType': 'PASS'})
2021-02-23 19:14:36,105-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:14:36,115-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:14:36,115-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "33817012754601"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ihNXsgIvHY41EDblnye5kOZSK30Ctq96"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:14:36,212-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "4779d06ed47d44f687417f1bf3b3222c"
s_p: "SklTNTFNTW5FTWtsZXNKWXRtZEd1d1ZzYWN2aUpKYkVrbnNocWVSdmswZXBMenFFNzU2ejROcXRkcmVkVkN5Y05HcVpUN25qZ1FmcDVvcUt6S1pjRXBWV1hIMmxiWlVhcXpVamVzUmdtS3BNUnJJUmNOZWZsM085RDRBUExVV2Q4dW1ra3lDR1Y4NFdYdFdoWmVoNFZPUXhBa3NCZENMa3JCVDEzcjRVdW9tM1pvZjc5VE43eHZCWG5rR1ZkOGtQVHNEcm9zbnhhdW1sbEMycWdJZTR1dEdmdG84VkRRSU5Uc3JLbG1zS0hucVdOZTdPa3k3QzhpenVURXRDOVhaZDUwM2UwQXcxWTVnOU1qc2MybDEydjEyaHNlME82c2NrMFN6UnpCUDM5RWxuaG5vbG5CS1VCNmxhYkM1VkxlSmdlSThxa05jSHBCSEF1SW02amlBaHVYMUNiMmprYUNSa2VPZXpIRnNoMnl3V1NMaXlJMlJHN29vdXhDRURPZE5UNno2V2tERjBwWU1CU0t6WHJLYW9YdkNTMEZHQXNTQlZsekRTWlZKUmxoTG5FYjhIRkFjTm1seHR0WnMySWQyUEVqeG5MdmJhVjlEbEp4ekpoZGhYd2U4b2IwZWJoalNpbXhRSllKdVc4OFZEMU9HZUJDZnJCSnVwMGRyYnJ4bmlrYlVaaFM0NFZqYmlXaGVKaTA1UjBwU0Y5OGYxYThkNjdRd0JLWTZUVHNiUXJjR3Zrb3A5NTZLUDZGR3JneG9uR1p6QlUwbVBqOHpqd1E4Z2s2UHZWMWlSNWlQdDZ1V2pHR1g0RkQ2a2NyYUx1Mlo0VWZQTHluTEt0Zm4wTzJnN1c2UzZ5anEwcHRuc0ptNDBsWnRHZlJhRFN5NEFEaXBhdmlwWEtMMjRKeEFsZFJkRHF1Y0hhdWNib3BXUkZaV3c4NENXMzFJR2FidWp1a0NlcTVQbWhIM3U4YjhHaklYc2gxSGw0RHlRZk5mSUE4d1lrMkh2c2xISzdDdTNEaHM1anBMMmVKZ2htaDF3NndvUmRoRk9WNDdQeVNUNHlyTjA="
m_p: "TyW7r95OqCABiKWom9p1T93ahpK3CHWbTXrO8W75uWAFzuHa28g4lM0t3l1n2sw6"
e_t: "1614186878684"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.56"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299725
    type: 2
    minCousume: 385
    vouCount: 384
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-23 19:14:36,237-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:14:36,237-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "4779d06ed47d44f687417f1bf3b3222c"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "cNefl3O9"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "5.79"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "2xmFjDpHQGXgIZV1BnwarCKWAbTEtO0z"
}
sign: "5us1cwwj41ik8vNjs9uUr+EPoyEBBJATF01fN6wvADxK6W52u+KvQfns43I4dMs6XWn6RZzzHi8hwLDmOEe3sIdjRgxB2gAfBvs13EBiyTzNvu3d8xZmZrkKwoEcPY3aQ6/r3xhH8ZYMqiuXHow+UaSF7PelW9CilTVG+GQYrWqSvTthGiLdfDQE9ML+ybmIfblXk+zG0wmVG76Gyaa4BPI06ru03XjmuL0bgsAUFUBGlBpzDFxUjBm/bIerHfWUV5JOJQxbcjfKANkJq2Jl18oOUQDtyQXoKcY+VUdX0zHkHuJXO9g1EvpNF1BmgxCzCh/O/GAOKBYdGtibIJTZhg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "4779d06ed47d44f687417f1bf3b3222c"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "cNefl3O9"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1019
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "2xmFjDpHQGXgIZV1BnwarCKWAbTEtO0z"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "V7BCgOtVPid+KrXQaILP16ruCelx1c6ZUYvKTVGUPgunXYF6Aa3/9tOm1xmyRXKlLx6hHbTTLflLlCAImmbm0xchRXzY3G0Qx/NvLXo2ROpe9ARiEA3TXssyLqTTfP774XqqC8H6Cgq1TnNSmtBrllaB+WaeDf1Ey1cELwbY9XI="
  appKey: "1234"
  voucherId: 62299725
  voucherType: 2
  voucherCount: 384
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 19:14:36,669-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"97725b0e5ae64ade920af953e324692a\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23191439107409cc21549f8eb3ac930000\",\"sign\":\"52090D2EDB57169A533D32F2286F77B7\",\"timestamp\":\"1614078879\"}"
}
payrequestid: "KB202102231914382076075925334332"
model: ""

2021-02-23 19:14:36,670-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2591017945913578914036728106]]></transaction_id>
<nonce_str><![CDATA[VQFHmXIszdtvgNqhB3ruW2niDwUK0foO]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[1AC28458C853C71ADBA96258BF3487EB]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231914382076075925334332]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>579</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223191436]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 19:14:36,783-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 19:14:36,783-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 19:14:36,791-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:14:36,791-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "35483313880716"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "J8NsXbrgyzndw7BqSTA6WDiO21MtuKVo"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:14:36,885-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "16951e2e6314470cbd0f4f735321cbaa"
s_p: "VThsczRreVVzNVNZSk5NbXdWd3N1NWc5QnZTYnNGb1dmZEZkcWtUaFNNcHN5S285RW9Cd3FTdFJtM1dQd3JMVWFhNzF5S3V3ODNsQTdpRWs3YmoxRUtxUzZrNXpReFFzSmZHQjU1c0o3Sm9pdWVlWWlLSXJBMm9YYWxvWFdmS3lIUjB4WTU4RWZCSGNWZGlCWlN6MGcwVzZZTGRCSFZxYUgwY3hqYngwU3NxdHA5anNIMGYxQjd3MnVLNWV0WHI3clZjWUFoTWs3TDkxTTRYM3JwNVExdlJKY2t0YWN4cjhjSE5oRG9KNUxLa29KU2Y0SmJjd3c2MHBLT2NWaFFOU3BaMWlXT3JUMXlobVlLU1phM09mTkZjQzJwYnFzQ1hxR0s5eEhYWEFZWGwwRHlLcUJaZXRDT0xTU2k0eUJzVmNNOUNGWk5Ra1V3TWhOSG83QkNZUExNeWp5Nm1OYnVyeFdwTUJQUTE1dlhzejJaN3NreUtBVDViS3daYnQycHA1dFE3VkQwdnpPenhkaVRNUDFpQWNNOWc4VlRCZkNuSXJsSXNaalBuUGRaWnJOYjJFVm5MMTRTbFdLRklabDRPYTVHTmhwcmxsWTJVWjVCS0t1TTFpU0l4b3JYN1RRcThvNkFNa3ljYXdOTkVlbEp0UmxHaXhXOWVrNW9nN1pNek1LWTliRVViMzNYNjZBQjNvaUEyTjJEN1lnbTdINlBVdzZoSWk3ekdvYmJ1OHFSUDRtRlRzd0RFdm4wTUd3b1V2eWQ5Sm9aTzZxS2EycFBnZHlDVVdrckpjUlVsSEhBTjZON0U4M1FTeVd4bkE1ZkJ2UHVvY1pVSUduVko3R0hhVTBHWVNtamZlNlZPalFSVFBXZFJ6ZTZ5QmxPVDVONThBZWhKMnh5MEFwM0xVM0hXODkzMEx0T3ZGa1lIaDZxbG9TTFBtZEdXbnRmTDU2NExGMlZHZzRLWXlCWG9UTGpPQ0MzZ2NNcjB0bkVvUTlvSjg0aEZQaDFNQVNYUFNldFRnZjAydlllR3hDWW5LYkd5cHA5TzZXYXVyT2hhS3dPUmQ="
m_p: "3RznqHTr0o1D5ja9XI7L7XQAqK333ZL3Mx36Dl35d6TWhN3WCn8ErRS54D7c3n0d"
e_t: "1614186879347"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:14:36,888-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:14:36,888-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "16951e2e6314470cbd0f4f735321cbaa"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "oiueeYiK"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231914382076075925334332"
version: "260"
queryType: "PAY"

2021-02-23 19:14:36,948-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "5.79"

2021-02-23 19:14:38,949-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:14:38,949-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:14:38,953-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:14:38,953-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231914382076075925334332"
2021-02-23 19:14:38,957-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15055, 'pay_req_id': 'KB202102231914382076075925334332', 'notify_id': '2591017945913578914036728106', 'partner_order': '2xmFjDpHQGXgIZV1BnwarCKWAbTEtO0z', 'amount': 579, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1019, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 19, 14, 39), 'success_time': datetime.datetime(2021, 2, 23, 19, 14, 36), 'modify_time': datetime.datetime(2021, 2, 23, 19, 14, 39), 'trade_type': 'PAY', 'kebi_spent': 56, 'voucher_amount': 384, 'voucher_info': '{"cutAmount":"384","id":"62299725","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299725', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 19:14:38,958-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 19:14:38,958-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231914382076075925334332"
2021-02-23 19:14:38,962-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7741, 'pay_req_id': 'KB202102231914382076075925334332', 'partner_order': '2xmFjDpHQGXgIZV1BnwarCKWAbTEtO0z', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1019, 'amount': 579, 'kb_amount': 56, 'voucher_amount': 384, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 19, 14, 39), 'success_time': datetime.datetime(2021, 2, 23, 19, 14, 39), 'modify_time': datetime.datetime(2021, 2, 23, 19, 14, 38)}
2021-02-23 19:14:38,962-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 19:14:38,963-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231914382076075925334332"
2021-02-23 19:14:38,966-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 19:14:38,966-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 19:14:38,966-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 19:14:38,966-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "2xmFjDpHQGXgIZV1BnwarCKWAbTEtO0z"
2021-02-23 19:14:38,970-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 195, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_2xmFjDpHQGXgIZV1BnwarCKWAbTEtO0z', 'partnerOrder': '2xmFjDpHQGXgIZV1BnwarCKWAbTEtO0z', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 56, 'count': 1, 'r_cost': 56, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 19, 14, 39), 'updateTime': datetime.datetime(2021, 2, 23, 19, 14, 39)}
2021-02-23 19:14:38,970-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 19:14:38,970-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "2xmFjDpHQGXgIZV1BnwarCKWAbTEtO0z"
2021-02-23 19:14:38,974-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148741, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '5045b76ef1554577aa8dd900039b3450', 'request_id': '2xmFjDpHQGXgIZV1BnwarCKWAbTEtO0z', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210223\\",\\"kbVou\\":{\\"kbVouAmount\\":384,\\"notClearCount\\":384,\\"orderAmt\\":1019,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299725:384;\\"},\\"kbVouAmount\\":384,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"2xmFjDpHQGXgIZV1BnwarCKWAbTEtO0z\\",\\"paySuccessTime\\":\\"2021-02-23 19:14:39\\",\\"price\\":1019,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"cWB04D3HWh2rxjMmuY+qEQEemrpepL0Div/c6kSmxcPi5O0H7E28dy3BH0v2QgK9qT5AXUpHSSURNGLMW2BvRsV5RxYPqkpMxE1g/pbR5AOt6A512oJpMK4xO+UGVKN5oTOIeq7Xc3Lr21w/xEPIFTa5VgAvg3rdgTXOjS6FjQ4=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"2xmFjDpHQGXgIZV1BnwarCKWAbTEtO0z","sign":"D735398965F0288E25BDFD3B43114B04","signType":"MD5","successResult":"OK","timeStamp":1614078879363,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 23, 19, 14, 39), 'update_time': datetime.datetime(2021, 2, 23, 19, 14, 39), 'extra_json': None, 'remark': None}
2021-02-23 19:14:38,974-INFO-lib.common_biz.fiz_assert-119-通知异常
2021-02-23 19:15:32,835-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 19:15:33,072-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 19:15:33,116-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 19:15:33,117-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 19:15:33,513-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 19:15:33,516-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 19:15:33,518-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 19:15:33,521-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 19:15:33,522-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:15:33,523-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:15:33,526-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:15:33,543-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.11', 'batchId': '92896397992833017811229451857942', 'bizNo': 'zAb1DZn4rBYwoVJQK0vyXcE2qt3Fg75H', 'operateType': 'PRESENT', 'requestId': '32161534201290212781965192371793', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614078933541})
2021-02-23 19:15:33,571-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.11, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:15:33,584-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614078933582', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 6.51, 'cutAmount': '6.5', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 19:15:33,607-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '62299726'}], 'vouIdList': None, 'batchId': 'c54deb04209d4bdcabdd1afcf58afd12'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:15:33,621-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'c54deb04209d4bdcabdd1afcf58afd12', 'batchOperateType': 'PASS'})
2021-02-23 19:15:38,662-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:15:38,671-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:15:38,671-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "34774832107630"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "lNvA9mfygh6qZ4OPt7dGYLMokVpJE328"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:15:38,780-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f02adfd3ae294866a41ac7ec6272872c"
s_p: "aUNOb0p0VUx2TXR1MHEzYzkzSVdiMGRUN2U4YWZ3akhJcWl2MG9Memg5ZDI5c2cxV0t6djRteU01UTNubWoxNTBlSlNjTmcxVERzNmNtT0MzNnY0dW5UUkFLT2U5QzlHOXRXUXRKV3Ruajl0RWJLN3FmQmhxQmhXU0piRTd6S2ltbTB5Vk5JaXlOcVRMajZreGhmQktWN0VqUHp3M1NwaWFCRkpDZGhVbmVIN1cyTUhwU3lMZUE4UkhrMDBEaVg5bVlGakhpRXhFTGNFaVliYk42S2VucWxrWGVVZnhBSXByUnFuQ2ZXNEpPb3NuSTM4dFBrN1M2MHBpWUx3d2NuN2JaSUV3amZ6ZlQxTzUyQ2FWVThnUHhzVHdWZUt2VDgzODR5TmVlMUo4YWdxRnFUNzVkdE03aFZaV0VNd3JFU25lcVlUUzEwOXZuWERZZk5Oc21OR1o3a2hranhyZVV2TlpLdE1aN2FLWFhyVktpT1ZsYXU3WnlSM3VINzVBTTZxcklWTjFPYXZ3OGt3aENKWWs0dXliekhzM3RGYnN5cXdVVWMxSDRwdTZkSmI0Z2VTMzFPdklweDBEVGllTkFnRlprbmx1eTJLVjZDNkFTVzAzeEt6cHE0MWhQcU5aMzc3c3JBRTVlZ0xVVkIzZmdNUFkxbEIyU3RodHNlTWlqdXlaSEVUMThVMWZMR1JTYkpUWXFwYUFlVE83UkpLNzZORjNBMElZa1lxaXd4eEN1Qm5qNHBKTFZ4R21HQlpmZTJBRmpFbUdzenI1WVZ0TjhGMjVReHBpTWVYOXAxdFljbFAzR2xxZkQ0aXEzaUlqMlJPc0pwTEFhcFNRS3QyOW42ZXo0TVY4bjhJTDJScEI0ZkxLZURuSm50VnhOTGY5NE1wYjc3NnY4alluMUpKd05JRjdGbjNXM0RpN2tLYUtYTThnVGtKZjFKdGtLZXR5cTBHWjROMVBEZzh5eHM2TUREZmZBWkxEM0hnNDZLazB0ZmZxNGZNd1p6aXJiRXgyejF6NkVXWjNxWHZzZEZSenh5SU9kdlF5OVNHOGFVcUJUWmk="
m_p: "Y4HC5CHYbV0Vrp8urHkBuzE8Dbg6983B807TUlNicnWN9giWFT80n2i09C7UuEU6"
e_t: "1614186941238"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.11"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299726
    type: 2
    minCousume: 651
    vouCount: 650
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 30
}
userinfo {
  username: "156******06"
}

2021-02-23 19:15:38,807-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:15:38,807-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "f02adfd3ae294866a41ac7ec6272872c"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "xhfBKV7E"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "9.83"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "IojhkLPKuqigS9AclvnaW2QOUVJRy4wC"
}
sign: "2qbziHlIzOMvN0I0hoyXJD9zIU1/c08ngTW2F9CcrG3drG31DuIEyPtOtkcI8RC0MoqfLx4aPzuOpYVf+DgJGTn6VtVEN9vH8fZYczXjnsGLmfoSxVgLsj6XNb+wxGwPKtn/CR+xcMl+KRaQOQQTtTnVIcoe1N2+oRSCtaKOMXV5Ib+4G8pDVplgDwliBII9rQqWlTAn7iMfU1yk6ivvnXRbrHxGpG3E+I7l9oSZTuRMoE9Q8f+/i8R8PNItQQtix0Udtkd1cqd+D5KGqQawYeFzl2caMHNuHlap6T/DzPDa8x10g8gD/oRQuLqenzpAvDM4tCoYSaeq1uMsbz7PmA=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "f02adfd3ae294866a41ac7ec6272872c"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "xhfBKV7E"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1644
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "IojhkLPKuqigS9AclvnaW2QOUVJRy4wC"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "D3regOz0qXRL5deupAVyGpYhcUd295tUSqOARA2V64oSx80qIf3g6n/AsEfuwMXub7FEd9TX0MITqsykghoGLrgXeLHUsuAmBvFEJqnC3hUZ3HiROmuLDV0TFx2IXN4RR+ypagmhztLZFlcRDLfzBCiZPM+0vAlMcTay4QrNfQY="
  appKey: "1234"
  voucherId: 62299726
  voucherType: 2
  voucherCount: 650
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 19:15:39,243-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"acd5c8c227b2450ab4309eaede18e376\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23191541685407b6145292478e111e0000\",\"sign\":\"D8A70A283BE14A1BBDFD3DB7AA0D464F\",\"timestamp\":\"1614078941\"}"
}
payrequestid: "KB202102231915412076075925670302"
model: ""

2021-02-23 19:15:39,244-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[5921217717533332215094935215]]></transaction_id>
<nonce_str><![CDATA[lzeWgxq3S4DdZ096tn7bfPLFVNvGpJ85]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[E03887644406D55BFED9A75257D8A7EB]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231915412076075925670302]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>983</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223191539]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 19:15:39,367-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 19:15:39,367-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 19:15:39,375-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:15:39,375-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "70642296202746"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "xVXYj0SCrmKp9O81GhAHTafMiLzID6n2"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:15:39,501-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f3dd86e79e074aaa8390cba9aff00bf9"
s_p: "dGVBMnFjcjVsZDZUa3JRSnBwYUJsS0ZZU09SdXJ2UFIxbTlOMXA1OHk4WnRrWHZoVmVMRTREUk9lVHprZTJSUnFTNmJBaE1PWHhCSHJodjd3MWlCRjlUUWRTZWpNTjNaYWw5OUpTdjJ1aW1yVGdHd0x4QnhYdjRUa202R0RodG1QTkYyamxaQUdCMWRnbTQ0MUFSM21FY1FyeE5xbGZxdDJLVU02ODBEUFE3c293UUVYYUE3MTFQaUt0QWJZSG1KYm1NVjdwS2lNemFlenN4RGRiN1RsV0FSQTVyRW1tb3lBOWE3T0N3OVdxQ2IzZXY0R1pkblVrb2V5WDdrVEIxcUNUVm5UYmhMQVlrQzg1TVJjNmE4bkREU2xEZ1QzOU5NcVp0SFdySlh4SjYzcXo0Z0FYZ0RiSDlEOVhpam81a05mZFNYWEk3aTROQjRCWjU5azJ6RHNvOUd0TEEyb3lQTUFJRUdrek1uYTJqWHBmbExwTlN3T3I4ek4xaTRIWjdJT3AyWUxiNjZnQVFtbFBUNFBUcnVjU3pIdkJsb2FTcW5TMWJYODdxWlowbkNkYUtJeHB3ckxyQUh1MG4wdDRya2lVblJ2WXdmb1F0QUlrMHFGcExhRG1IaXdTQXBqSVdXNU9weklvdzdDR1VLTVU3amlnQTNVbjE3UFJEdmd1Z1JkRGZkMDhTS0hNV0FJb0RxRnNaT2tmWDR5SG5vcFRPUzFMbDFMeHd2QVV3OHNEd1VUN1hja01ocXdFUTljckNTUUVFMFlRa1VUOTZVdEsyYlg2S3RDOXpETTFPSXdZVHYwSThlcjBwcXhKazVNZnMxY1IyVm5UN1NGMktGTzlESU1QT1F6blNUU3k1UXR4bUh0dlczWE5ib2lOcWNpRnU4RVNHdWNTS005aVM5Q0g3Q21WT1JKMExiT016VW9ZOGhPWFFHWDRER25KZEdCdUN2NHIwMzFLQ1EzYUVKY0Zqb0ZDeEZ2RWJCNVNtWkNKcDNMRmdRWjZWWVFMd1hnM2pNU1VITW9SYTVhbGtlTjFYa2tBczJ0SDBZVFdRMzZQMU8="
m_p: "WAuE8FE46y3YRlE2azv044q4D8A92Ahl8g1D6Zz3PN5JVRYe35vkc46us87iP688"
e_t: "1614186941948"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:15:39,507-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:15:39,507-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "f3dd86e79e074aaa8390cba9aff00bf9"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "MOXxBHrh"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231915412076075925670302"
version: "260"
queryType: "PAY"

2021-02-23 19:15:39,566-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "9.83"

2021-02-23 19:15:41,567-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:15:41,567-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:15:41,571-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:15:41,572-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231915412076075925670302"
2021-02-23 19:15:41,576-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15056, 'pay_req_id': 'KB202102231915412076075925670302', 'notify_id': '5921217717533332215094935215', 'partner_order': 'IojhkLPKuqigS9AclvnaW2QOUVJRy4wC', 'amount': 983, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1644, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 19, 15, 41), 'success_time': datetime.datetime(2021, 2, 23, 19, 15, 39), 'modify_time': datetime.datetime(2021, 2, 23, 19, 15, 42), 'trade_type': 'PAY', 'kebi_spent': 11, 'voucher_amount': 650, 'voucher_info': '{"cutAmount":"650","id":"62299726","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '62299726', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 19:15:41,576-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 19:15:41,576-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231915412076075925670302"
2021-02-23 19:15:41,580-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7742, 'pay_req_id': 'KB202102231915412076075925670302', 'partner_order': 'IojhkLPKuqigS9AclvnaW2QOUVJRy4wC', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1644, 'amount': 983, 'kb_amount': 11, 'voucher_amount': 650, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 19, 15, 41), 'success_time': datetime.datetime(2021, 2, 23, 19, 15, 42), 'modify_time': datetime.datetime(2021, 2, 23, 19, 15, 41)}
2021-02-23 19:15:41,581-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 19:15:41,581-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231915412076075925670302"
2021-02-23 19:15:41,584-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 19:15:41,584-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 19:15:41,585-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 19:15:41,585-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "IojhkLPKuqigS9AclvnaW2QOUVJRy4wC"
2021-02-23 19:15:41,589-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：{'id': 196, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_IojhkLPKuqigS9AclvnaW2QOUVJRy4wC', 'partnerOrder': 'IojhkLPKuqigS9AclvnaW2QOUVJRy4wC', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://pay.pay-test.wanyol.com/notify/receiver', 'price': 11, 'count': 1, 'r_cost': 11, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 19, 15, 42), 'updateTime': datetime.datetime(2021, 2, 23, 19, 15, 41)}
2021-02-23 19:15:41,589-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 19:15:41,589-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "IojhkLPKuqigS9AclvnaW2QOUVJRy4wC"
2021-02-23 19:15:41,593-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148742, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '3494c6814ef7434b84f860297ab03e94', 'request_id': 'IojhkLPKuqigS9AclvnaW2QOUVJRy4wC', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210223\\",\\"kbVou\\":{\\"kbVouAmount\\":650,\\"notClearCount\\":650,\\"orderAmt\\":1644,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"62299726:650;\\"},\\"kbVouAmount\\":650,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"IojhkLPKuqigS9AclvnaW2QOUVJRy4wC\\",\\"paySuccessTime\\":\\"2021-02-23 19:15:41\\",\\"price\\":1644,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"O0BRxoDLLXAgeQ7j6uHLQMwm9nU2Tt6frIHlkGmai5GRN2RXP+ooMd+Yl8oZD/vxUnHWcDRvey9TMz/hFwyjUHA1F1phA8Utv4j9EcxQvdaVB/72W+ADdHRrBHaQOWx2wrIb27TZsqo/UkuvG8dYpn1ZgvkxJqJVt5brM4kC9OE=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"IojhkLPKuqigS9AclvnaW2QOUVJRy4wC","sign":"1B30A5BB1D647FFD47C0392CC7A0BB9D","signType":"MD5","successResult":"OK","timeStamp":1614078941936,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 23, 19, 15, 42), 'update_time': datetime.datetime(2021, 2, 23, 19, 15, 42), 'extra_json': None, 'remark': None}
2021-02-23 19:15:41,593-INFO-lib.common_biz.fiz_assert-119-通知异常
2021-02-23 19:15:55,069-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 19:15:55,399-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 19:15:55,439-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 19:15:55,439-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 19:15:55,809-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 19:15:55,813-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 19:15:55,813-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 19:15:55,816-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 19:15:55,817-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:15:55,817-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:15:55,820-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:15:55,830-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:15:55,830-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "06873655804019"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "CDTHQoNc0JVIFMkrES9vh1K8Ygja4OUA"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:15:56,031-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "3b90b9f5afe9484b9215bfdbc903ac10"
s_p: "aTNqVENudE8yVmNtOTlKVDJjQ2ZMMno2NnN1ZE16Y0VUcnZ3Wk5BZGRZdVRVZkYxSEJVM2tBa0JIUXhKa3NMVFNNaENTdlR1UzNTazZuOThrUm1KNDd6REp5TGRNcVBWT29nMlhPUzBib25RRFV5emFSM3ppbWw5ckF4UjJSWGE3YlV6ajF4dFh4SDVZa3NNYmxDY2VRcXFUeWF0bjRMMVJDOGpSYklOQ005NWtNN2xDdHVTN0pxaGYzYmVaRzRURFE3Y041ckw4aDJXdElicDVyZUhzV3R0MFM4ZHFQcE9GZ21CWVFzb3NkaGNrOW1zOGRFR2hjTFJtVlc4UkhRTjc3T2gzdEdVWXBscEVuZXI1NUxHTG1GRmx4RWFkamdBc0hiZ1lacEJ5Qm5OMWVqamVtWW85d0pFaXQzQTVvSmZTYUViMktSZUJBTnd5cDJHQzhUV0JzbG01SnN5eHZTMzd5aW04M29vcmVhVTJJNWVXR2NVeVZjNUVPdjR5aUVsOVlhdk9pMmZZeDljWmx5WDh5bUkxZ3NrM0FYTEo2QXpkV2RndDhHcFBpYW9NVXFjOE14Y2tFeXNqVnZNa3BnaFh4R1ptNXc5aTFTTFVEM1VlVlc4UVlWN2tUWUxvMGRBelBpTUJBZ0paZHJVZm4wWnd0QUJja241T3laUk9OaDRlSDVCMTV5WEIyQzNBd3RwOVBGM2lPOG5ncWJ6UmY2dkdQU3NsUThXUXl6SVdXcW9ySzRSMWRQN1NCZzExRGVhVFJvWE11bG1RWkVxbFNCUjc4dlVJWVZ6R25oUGNVbHdPNW5SNHg5bkNITzhjSGxIM0YyNGU0YzRuR3JxYmxhUngxTVM0SnhqWW9YZ21FOE1sSDFNSzNGVnZZUFh1RmwxOEJkeFBUSXVDQk9aRnZESFVHbTJvU3hlb1RrS3g3MG5jZEtsUjh2SXFPYkMwZmxRODZzMXNwQ0pucmVkYzZ6Ulp6clViaWZVaEVjcjh6NXp6N2ZPaGRISEdTb3R1eE9MZjNFeUdCbzZKUGFZV214MzlmMFEwOHZFSmJQZlVMeWk="
m_p: "Fu033e3Fi98b8E49jm2527QZ726jQ39U8YO6s9Bhm927g6NtF63tC36wJ3n141xW"
e_t: "1614186958501"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:15:56,060-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:15:56,060-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "3b90b9f5afe9484b9215bfdbc903ac10"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "j1xtXxH5"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.0"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "GgyHELCo5KScT7texvVknObqAsJf3iW4"
}
sign: "sqJ19jKIIvNwCEZ8qPq4hX4zh9AwOIqx3SPyKMVaD2Uk7OcpP6L2TodXAf91bXjn0aA0IuYwJS9uuCYXzKoSxi2rqdt69eQM7zzhrCayz0TsgNFcv9xye9U949PTyFnwoT8U6eiojGo+oHoXY+MkbLrcDxxO+ZwQvau2wLEDEd5j2f9oIN3HuZV6GnxvAgvuMDQKb+PIZfgFCudaRMAx8caaukec0d80lkrU6uLSbCgFq3XDp7xSY31vFqPxp2Y+kHtRTaTioAElZY3PoAbiOq98iMfl+1ao2juFY47ZMl4F0ZDs8vS/Nxkrt+PHOSBI5jWLYhguHq5LEU9nVMDJCg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "3b90b9f5afe9484b9215bfdbc903ac10"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "j1xtXxH5"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 400
  count: 1
  productname: "RECHARGE_SPEND_PRICE=AMOUNT"
  productdesc: "RECHARGE_SPEND_PRICE=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "GgyHELCo5KScT7texvVknObqAsJf3iW4"
  channelId: ""
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "KWCWl1Nr5FargCAzBb9+aNkxWCt/X09yYCL6FT8wHkhG0uvm283L2IDDukaMz5BeGYDkoTR3b2jCGhQeoZ1QCTxHSntTBD/deBEUt0M4WkFi+0e0BF8ASFDWUHa0qqZWik8wz1QrI9OepKN2dYRFk+mTuY3uqKK2k/7rDqEOFkg="
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 19:15:56,440-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"74df16ed92d741f08fa90750565bb8e3\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx23191558887404de1b5fe64a5910bb0000\",\"sign\":\"FA74E2FEFB5D6DD5863E7864271A77CE\",\"timestamp\":\"1614078958\"}"
}
payrequestid: "KB202102231915582076075925711432"
model: ""

2021-02-23 19:15:56,440-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[9062223774884680371574773452]]></transaction_id>
<nonce_str><![CDATA[3GOQUt80yIdl4xwY6P2peKgTEvikVZHh]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[402D08E506E3438509D2B0C864F91A8C]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231915582076075925711432]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>400</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223191556]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 19:15:56,591-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 19:15:56,592-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 19:15:56,599-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:15:56,599-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "78331505196352"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "GtQmMyOqWKvsDAflxYJ3Rng4LEuPFroa"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:15:56,686-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d1dafea18c5d4975b633d56f4f06f553"
s_p: "cEhlNmt2RDN4ME1KQ05jcnRVVG1YVG5rWWs0YzNyZ1plemhscGJSdFc5UVZ2RkFzS0I4V1k0QjNnN3NMc3lVQlJGdlNFWm1jTTVrUm85STBvOEMySFIzYVl3WWFrV3BVYjNSc25pVkp2d2JjcnphdEczcEc3eno0ZDlaRTh1eFpHY09xdFFwaFB5cDlsU2dKNEZjWks5MzhXd0N5ck5QUUNhNUhYYWRZVzJWeXJPVndJVTRZMUVjallTM3R4V0ROZXBNelJvdndrUEtiTUNUVHllVUZSUHltUUpTemh1UFJsUVdjV24waU9mQ3BMaDJ1RlNsNUFXUENVc044dVZIc2V0Y1lPQWlHWnEwcktzWVRxVWMzaElGNkdwdWNGOHZjRTNUckM0VkNoeUNMSEVQMzBSdHZwek9MOUt0cXVCRTZvQnVyQWVNUllvOWZGc0FuQlc1c0dRd0toZXA3aEQyUFBKNHpPREZpOHVSekJONTlSWEg0bkJsUFN6Z2d0WWJoTFZ4UU1NTEh6RTJKZWVPRDBRSTMxOXdNaEU3V1hGSGtNSkVDdEFuS2dqbkJ6eUZoRkRqdmk1bjVldXZIdXZhWEZJSTMyOEx5aFJxZUtaUDBWeWVzOW9lcGhUQmoxck45MnBzdTRnWnA2N0liaVVxZFQ1ZVlOUlVIUlFXdVd4ZU1BWjVtdlI0MjB2NUNpcnZXNWVNeWFwN0tJV1pUZWIxUVY1Um1OcFlQdk5JeDI1aFoxWkRoRDNCbG9YZzNRc0lFSDlSUWRsN1VxNWNDQndUVEJTT3Zod0VkZVg0VkNqMUtWWld1ZnBwY1Z4eGJTaEUzSHVYVTVCeW1JczY4eGtXcWZaZmhYSzIxSXo0OE5NeUhBcUhlWWZYNVlPQUFJcDRabm1OVW5qVVFFcDh3cGdZUEFhWnhFNzlDdjg2ZnREeld4MHA3ZkhzSUhsMG9MQnlkdjVBVmhjM2xMWDU5NzlueHZLOUtEeW92dGtyMGxDeWl1SHBQMFBwem1SOWZmR2dtSVFLS3ptRWZTOHJJbTIyNWZSaVVtc2RUSXZMT2JtMnY="
m_p: "T44s3FHTCVPI9s47672J388Y8Yzb5z3L33gm1ilzWQ6oEmOpQD9YFecFDzhY497X"
e_t: "1614186959162"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:15:56,693-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:15:56,693-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "d1dafea18c5d4975b633d56f4f06f553"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "WwCyrNPQ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231915582076075925711432"
version: "260"
queryType: "PAY"

2021-02-23 19:15:56,752-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.00"

2021-02-23 19:15:56,752-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:15:56,752-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:15:56,755-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:15:56,755-INFO-recharge_spend-55-可币余额正常
2021-02-23 19:15:56,756-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231915582076075925711432"
2021-02-23 19:15:56,760-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15057, 'pay_req_id': 'KB202102231915582076075925711432', 'notify_id': '9062223774884680371574773452', 'partner_order': 'GgyHELCo5KScT7texvVknObqAsJf3iW4', 'amount': 400, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 400, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 19, 15, 59), 'success_time': datetime.datetime(2021, 2, 23, 19, 15, 56), 'modify_time': datetime.datetime(2021, 2, 23, 19, 15, 59), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '{"cutAmount":"0","id":"0","type":"0"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '0', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 19:15:56,761-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 19:15:56,761-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231915582076075925711432"
2021-02-23 19:15:56,765-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7743, 'pay_req_id': 'KB202102231915582076075925711432', 'partner_order': 'GgyHELCo5KScT7texvVknObqAsJf3iW4', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 400, 'amount': 400, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 19, 15, 59), 'success_time': datetime.datetime(2021, 2, 23, 19, 15, 59), 'modify_time': datetime.datetime(2021, 2, 23, 19, 15, 59)}
2021-02-23 19:15:56,765-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 19:15:56,766-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231915582076075925711432"
2021-02-23 19:15:56,769-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 19:15:56,769-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 19:15:56,769-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 19:15:56,769-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "GgyHELCo5KScT7texvVknObqAsJf3iW4"
2021-02-23 19:15:56,773-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 19:15:56,773-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：None
2021-02-23 19:15:56,773-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 19:15:56,773-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "GgyHELCo5KScT7texvVknObqAsJf3iW4"
2021-02-23 19:15:56,777-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148743, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '79f0959fd5444cb28b9a64cfbf71dfc8', 'request_id': 'GgyHELCo5KScT7texvVknObqAsJf3iW4', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210223\\",\\"kbVouAmount\\":0,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"GgyHELCo5KScT7texvVknObqAsJf3iW4\\",\\"paySuccessTime\\":\\"2021-02-23 19:15:59\\",\\"price\\":400,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"YoU/wFT0xJmm0NOOQPP8y99HBAkfsXCZSSCbgmJgVHvq+l1nmyJZZdZJAOTJFFC7IKsCvSwvs+PDjjhtpvL42N8D9gmAmB8G7q/P7cd3x7MeEu5fWi8S34oXsGa5DLvF7TSAkzkwb5vOTRChqDaSMWfiQWtCadI7mgzEPJUMZLM=\\",\\"spendType\\":0,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"GgyHELCo5KScT7texvVknObqAsJf3iW4","sign":"545266FF87D7A769C6BBDAFA1E5C6DBA","signType":"MD5","successResult":"OK","timeStamp":1614078959089,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 23, 19, 15, 59), 'update_time': datetime.datetime(2021, 2, 23, 19, 15, 59), 'extra_json': None, 'remark': None}
2021-02-23 19:15:56,777-INFO-lib.common_biz.fiz_assert-119-通知异常
2021-02-23 19:17:06,808-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 19:17:07,089-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 19:17:07,131-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 19:17:07,132-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 19:17:07,520-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 19:17:07,523-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 19:17:07,524-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 19:17:07,527-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 19:17:07,527-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:17:07,528-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:17:07,531-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:17:07,540-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:17:07,540-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "95009475207888"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "9dzm3SORuJ8reM1UWb4T7iwZqnKVpfLo"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:17:07,705-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "d126abe910da4a2e8906c9d84a787f7f"
s_p: "WEc0ejZuTE91VGNPRm9VcDByWlh6TWdwaTJmNnVBWENYRVpnM0lnTjJBejNZdnk5U1RZcnoxNldoR0FrNnhlZFJodlpuNWVLVUxnS012dDZtdFduNFpscUxFSTZ3V3Bid3NJRWFRa2hSaHdhQjViV0ZJT2U4djRIa0VDV1ByZ2liWFRhVWpqYTVLdWVLaHU3a0I2NFBFVlk5ZkFIaFBLQWZOSGVaRkFWZnFFOW8zeFRCQWxtQTZDR0w4elQxbEZmN3BzdjhMU2N1cThnYjNTZ040dkdMMmliS1VxSHdwbnRnMzQ2SmphN0hJWndwSWVZVlF2SDQ2RlRCWFVsSUpyUTE0Y1M0TkdTMURHUXp4VDIyY0t4ald0STRkV21ZaHJjQ2d5Z2lLZUJwbzZkdHlkcWY0MUpjWmFpSlhlMEEwQmd1cFFnczRlSWtEWk9SN3JGSXQwejhMZ3lGYjBDcDN6MldGSW8ybnE3VXhNQ2h6STNrb2lHdDVPSG5jUmZFZ2luU1dzN1Z5bVdVeTY5VlNEWDZIZ3ZsaHIxdjc4NGFmSFN4QXliemhneTlQeEl2dXZYTkw0RGMzTFBOVzBjemJ2djVPV3NCT0x4VWZRWkxsRE1DR1A5T202N2g2Z2lZbDhWSnRvRlZCM2dHZUtGd3RhaHRIRTA4WE1HcWJZclBoQWxob215UW82Q1JhY0VtOEk2dFQ3N0FZeFExc3hPUzM1Um5sWVlaMVJIMG1TdGQyVnBCOGp5V2hFb2NrTU96bmsxY3NBQ2VETWtNTnA1bVN3aVN4REZXeDdrOUR0THVVNDNNZXlqYk1EZXd6U1ZUN3RqekdWN3d1RVdXNVNpZ2RrTkgzajZUR1ZORFhSZ0ZLRkEzUmlRbnR3dW9kdzVyYVpiR2NPNGFFNDZsVVdWTUFtYkZSTDBKQ3BpaUlmclR6Z3Jpc2pNWENrOEpHQW5uRXlRWEZWUVdYOHVzZXg2YU5hV0Jocm5pdTY0QUZ6VGpNNGZtVE93cWg1MEl1S1RtaFNuN29LdXAwNDlOY051T2ttdlQ2VEpMWlVpQk9TVVdWQmE="
m_p: "24Ic60LqP3bLbSyvop007YJ9T2V794O67r6sPwBFC2NEf012anwshUW073NPOd7Z"
e_t: "1614187030146"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 13
}
userinfo {
  username: "156******06"
}

2021-02-23 19:17:07,729-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:17:07,729-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "d126abe910da4a2e8906c9d84a787f7f"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "Ak6xedRh"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "9.5"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "0izYPcMN4vIFAoWa9EejmSL7uB3tOQTy"
}
sign: "znoZrrMfiJexJ708SFc0bRh8SFO8Szk5NUr1qVOb3n+NaTDO6XM98LwIa3Yecql1/Zw3w5VrwVk/6zoBkk64dRKCMHiWKVaBQ/BnYYqPRTVcr/wO4J+T5c9fscU6ZeCD1LJzq39Usgmuf0XPMBt/EsxxOq/xIyp3qahhFQ5yqrjOxXy2xo20ytv8WvNJNStp8rj/1Lp1L+Ac+5yDF/OViMc/lkcp9MCuOQ1/72YTt9DEca1g6LnTknmOo2PTy8P8NP/z/GxWD4WgyEYiNDaF8kv1oJ7XtSiHu7Ajt3TGcX1m6r894LHZ5BP+O9YvFsb8i5fmBBxvWi+lVvzoA0rJ8A=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "d126abe910da4a2e8906c9d84a787f7f"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "Ak6xedRh"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 950
  count: 1
  productname: "RECHARGE_SPEND_PRICE=AMOUNT"
  productdesc: "RECHARGE_SPEND_PRICE=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "0izYPcMN4vIFAoWa9EejmSL7uB3tOQTy"
  channelId: ""
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "TI0hLgUh2F+m41BuyDARj6cS6JSjYFSdI5MttOZ93IPhq9nwHNJQYmzB/QDrqGgVWH2ScHCQ04LPDQd/3OF6YPF5HKte8AGeDTo716g4IrkOgT9JKdYgGcdmuomDB3mn8TwEoDbsocar2ti0STopvJwxykL6KNx/4vu1qVmBbtM="
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 19:17:08,184-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"6b26cf25927a40b6b4dc9bc061d2dead\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx231917106269413ca28ef9260d37fd0000\",\"sign\":\"F3BAAB9C76B702F259EB95B8A1E475A5\",\"timestamp\":\"1614079030\"}"
}
payrequestid: "KB202102231917102076075925127332"
model: ""

2021-02-23 19:17:08,184-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[8496680032548517758637371521]]></transaction_id>
<nonce_str><![CDATA[uLiNl1nezpIBryRYMqJUwTHcfsZXgv92]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[FDC8EAD55922187C0F4603B47BB692F2]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231917102076075925127332]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>950</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223191708]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 19:17:08,402-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 19:17:08,402-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 19:17:08,410-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:17:08,410-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "92850011286263"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "Pj2phmu4GTYcBf7iMKNxXDwqI6WQ1z8A"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:17:08,491-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "b23f379b15934354976998c19a052949"
s_p: "dmYzcFp4YzNqV2RMd0ZEbFROV3piN3d1bDdMOTRkc3gxY1V1Q2pTeEhheWR3RlpXR1o5SFFaM1lrUVZUOGN1ZTJJSGxmSnFESDdubThwakxDd1BRdzdqWmFGZFZVdERkM2RSajZ4cE9FZ3ljZVQyUW1jZTVxVHg2TjlpZTk1bkFacUdNSU12c2pTczJLdHBYdU93eFExNmM4dGdKdVNQVXZNcFlvMTNBMWc5N1lSdHdicUhZa0huWEEwVFhUYTBpRlVkRXZFV0FDR3B0N2xKYkczcklUOTBNRGozNGpEbHNVSlNuSEt4SEh0NmdvUkx3aGJwbWoyRVpNVkFEbEhsY0hqVkhIYWpvUlNsbmNoUWtyREJzd2d3ZDRSdjQ2Um9Td05oQ09ldGZZWWVyWmxsZDE0OWZOQTlxQVJLdmtxWFlvMXd2d3JSWkpBNjJ2OGlJVjFsdGNTWXVGME1wdEN2NEdJZTJwWnlXVFJzd2NXSklFSHJFTkxuaDV1aU44Q2JKQzVrYWxqaHdjY0hWY0NMbGpaeDllN2I4UU9CSmw5NHpYeENTMGhrdEZDNmtPSTJpT29VcFlpWGw1RU4za2ZkTkFLTnpscVlORkdGQTNGSHMyZFlNSkF1bXZ0OVc5ZGRzUWYzNFYySnd3RnR2UVJ6WEFGdk8zRDl6MVZQSUdSQzZmWmNDUzlxZnJxUVpHWldWajVUWXhwTHhPTDRYeVhWQ0NCNmREaDdCRG1LMGthSDl6Y0tXdlFHSnlGQjJ3NTljS0NRN0Q4STdlZWREbDgyeVpFUGluVTEwYXFFTXNHa25yaDZJcGt5cnQ0WXhFbWRTazQ0RGl4TGVOZjA3ZTR2ZzJyZGxSTHhKM0RmQUh0Y1hBV1RpdTU1VmhqeUxXZ3EzRDdRelpUbXJmdHZqV2JyNmFYSXYxcXc0d3B1aTB3TkE1U0d6Qjdma3hkZjZPS2Jnd0ZUT2lDc0FOWWtWUHVJNnBYN1NHTE1CS3BxZlRaOGJMN3psdHJxbVNaS04wdFQ0TXY4MXc2ZVA1R2RaRkRGeUlIYWRvN3pPVHdBU2xQeGs="
m_p: "70vJ0w7Bda7f331SPfqHTuXJp57429PoTQVK54Steb6WmzOg4apmdq6OP15059S3"
e_t: "1614187030976"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234456
    type: 2
    minCousume: 100
    vouCount: 10
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 13
}
userinfo {
  username: "156******06"
}

2021-02-23 19:17:08,492-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:17:08,492-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "b23f379b15934354976998c19a052949"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "dVUtDd3d"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231917102076075925127332"
version: "260"
queryType: "PAY"

2021-02-23 19:17:08,562-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "9.50"

2021-02-23 19:17:08,562-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:17:08,563-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:17:08,566-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:17:08,566-INFO-recharge_spend-55-可币余额正常
2021-02-23 19:17:08,567-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231917102076075925127332"
2021-02-23 19:17:08,571-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 21507, 'pay_req_id': 'KB202102231917102076075925127332', 'notify_id': '8496680032548517758637371521', 'partner_order': '0izYPcMN4vIFAoWa9EejmSL7uB3tOQTy', 'amount': 950, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 950, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 19, 17, 10), 'success_time': datetime.datetime(2021, 2, 23, 19, 17, 8), 'modify_time': datetime.datetime(2021, 2, 23, 19, 17, 11), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '{"cutAmount":"0","id":"0","type":"0"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'combine_order': 'N', 'voucher_id': '0', 'factor': ''}
2021-02-23 19:17:08,571-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 19:17:08,571-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231917102076075925127332"
2021-02-23 19:17:08,575-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 11268, 'pay_req_id': 'KB202102231917102076075925127332', 'partner_order': '0izYPcMN4vIFAoWa9EejmSL7uB3tOQTy', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 950, 'amount': 950, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 19, 17, 10), 'success_time': datetime.datetime(2021, 2, 23, 19, 17, 11), 'modify_time': datetime.datetime(2021, 2, 23, 19, 17, 10)}
2021-02-23 19:17:08,575-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 19:17:08,576-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231917102076075925127332"
2021-02-23 19:17:08,579-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 19:17:08,579-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 19:17:08,579-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 19:17:08,580-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "0izYPcMN4vIFAoWa9EejmSL7uB3tOQTy"
2021-02-23 19:17:08,583-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 19:17:08,583-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：None
2021-02-23 19:17:08,583-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 19:17:08,584-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "0izYPcMN4vIFAoWa9EejmSL7uB3tOQTy"
2021-02-23 19:17:08,587-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 140903, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '9e38f78be004478e8a16984686b432c1', 'request_id': '0izYPcMN4vIFAoWa9EejmSL7uB3tOQTy', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210223\\",\\"kbVouAmount\\":0,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"0izYPcMN4vIFAoWa9EejmSL7uB3tOQTy\\",\\"paySuccessTime\\":\\"2021-02-23 19:17:10\\",\\"price\\":950,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"IfyNjn/nK39JGLpPNye5eY8Hk21zfb/lRM5AhD4KH+mbOycoOfOsPD/A6t1F7ZUpxWJUZct4TucAIAxH9nsB6r878Fx9J3DkFvGmlwCYR3C7PTMd+Rcd6ifVaG151hGBIOfU3Qm04zAzQRrYWrAICYLzCjypIYT7NQnJ3jKR7kc=\\",\\"spendType\\":0,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://secure.pay-test3.wanyol.com/notify/receiver","requestId":"0izYPcMN4vIFAoWa9EejmSL7uB3tOQTy","sign":"732C019C2B71DC9923AAECCBF5844BC3","signType":"MD5","successResult":"OK","timeStamp":1614079030904,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 19, 17, 11), 'insert_time': datetime.datetime(2021, 2, 23, 19, 17, 11), 'update_time': datetime.datetime(2021, 2, 23, 19, 17, 11), 'extra_json': None, 'remark': None}
2021-02-23 19:17:08,587-INFO-lib.common_biz.fiz_assert-117-通知成功
2021-02-23 19:17:14,964-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 19:17:15,263-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 19:17:15,319-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 19:17:15,319-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 19:17:15,666-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 19:17:15,670-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 19:17:15,670-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 19:17:15,673-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 19:17:15,674-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:17:15,674-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:17:15,677-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:17:15,686-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:17:15,686-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "95969190893098"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "RKl4O5AwcvTP9i2tDsIpELqNom6UJugj"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:17:15,782-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "6cf7d6d7e6ce43b8af2f2c8895298a67"
s_p: "Smt2YjhLZnJjdXR1dmw3a2lSOHdYNU1Oa1JZZUV2OUpTbVFGWlFFR1lYZ1ljVjVxSlIwRTdFYkwyN0hTbzZWYVVobmdJT1hOclVRSHkxZTRSV2hudk9pb0o2U0Y5RHJhSHo1QUtLY3BDQnlxMlNiTzJValJxU2k0S2lBcE5pTHZqdzc2WFhBS011UnZxelQ4UVBubVFtRTZFVEhEaHFUMVF5MmdLWXNSN1JBT2JSZlRyYkx1Q2RLa1hoVU02ZmxnVzNqOFlwMkIzNHVrT2pnOHc4cUNyOHFhUDhYRmVLQVFHSlNweGVLMDJaQXk0eW05OFBIRGFDUExBNndxNHhhVDhWR2VXaVRnaUdqZTRlT0FnMEdMU1RuUGRLaU5MSUJvbmJpZFFGSEJPOTNhR002TzZrcTZ0aER0RWhFMUYyNUhWRUdsWE5DOG9HTm1pWTJSYUhXVVRMQ0w5REFKUFFDQVU4SjNvNWFiOGNTU2h4ZlhjYTdGUGFSZGRab0o4ZHBRdktiaGdyWmlyVlpHRmRqVUlmOGQ0SlhZUTBrWDZteGs4MnBBem1welhlbnZxUDdrQnUzWHRkT2JpbzVIa0Fxc1RVamVFQzU2WjVhODhmNDUweFZRdGVuSzFZb3ZWMHY2MGc5akE1cmxyNVZBODRwZHlyVGE2aW9sa3FsdGFDTmE1WUkzanUzUEx5ZEY5WWxTVHhTUksyWjFZZVNHdldhbHpJNlVNSEpLNzlCRG1na3docGplbTdTTUl1TGp2QnhHYnExWUVZQk1CbEVVVE5ocEdIdndrcTVUSTJmNG5PaG5wZU1jYnNZUkN5YzFONktkNUdWbVFEbGdLU0Q1ZGFhMFY4d0p1NGdtdmN5Tng2N1ZUTjNRMHZrcHVDTjJZZGN1M29wamkzcFFlbmxEUEFRWFRnb3lkZ1FudlNWVGZBWWlwZTNDQ3V2RDlkNkpXTnR2aDBYbENQekNxRW0wQXEzY2dEelFpZDZHNGtjWkh3VjBWNk9Fd1lxeHNHQUN3SUh5ZGhmWm51cmJydVhCdWVDM2JPNjU3cXhYeldaQXk4VFk="
m_p: "MisUV6c75JN1onoGE0mG2WX0ZVACiKUOLxvW0T1fH09C7Hn91voFjF7EHRx5D46A"
e_t: "1614187038252"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:17:15,810-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:17:15,811-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "6cf7d6d7e6ce43b8af2f2c8895298a67"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "RvqzT8QP"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "3.23"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "8znGmtfT9wHpJbqLxkQWKV5X6sh31dra"
}
sign: "PRxzVFveRRozqTjsyQeV0C5yNVy9srQ73x0I/qU8sotu7lxcPHG4AxFrMOkYRbdsqH/yqsWa+FHCh2BNYIBGSSqVmSPlrmsv/KmtuAGy+Ch9z1+mD0J7nNatNkaJJfifxZd/8bt7jRJMypEJrobUJI7Hn/9QX9oApQ5Lm/oaRiriMrj41SzTabhieVzNEonMwqfnTKkxwFhlqmc+qd3j3eDaVyM0uteidxJ8h99uwiQ6Z9/t0R0zYOzTGJUe51LtHLL/Q93mziEI89p1gq3gbWwC0FSiPkzXPpF1Fk6n8Ek9hQPZ3MP92oxkZxrydT264A9NFkZ9F4GdOx4WOiA7Ew=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "6cf7d6d7e6ce43b8af2f2c8895298a67"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "RvqzT8QP"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 323
  count: 1
  productname: "RECHARGE_SPEND_PRICE=AMOUNT"
  productdesc: "RECHARGE_SPEND_PRICE=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "8znGmtfT9wHpJbqLxkQWKV5X6sh31dra"
  channelId: ""
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "M/T8uxgxF55aFgzaVMD4CRWMD1wUEz3gBD9/FaAL+xoFdqgY4lkeiUbUG+xyDo0SMBmzcEnOZj4kXZRVdMCNA/Pma/M7LZ+QyjAl48n1mLmobvKvyHeZvC7Hi8zegtANN2g/E77M2Ekmds2SdelyqG2vPoRThZhzHBEZ9KQw9V0="
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 19:17:16,200-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"93ce3f10a4cd4264b35b3477ae2a8bdb\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231917186395383173ca098124c54b0000\",\"sign\":\"0EEBCED6E1925BDA093564E3A8DDF20E\",\"timestamp\":\"1614079038\"}"
}
payrequestid: "KB202102231917182076075925558682"
model: ""

2021-02-23 19:17:16,200-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[3598625899101406085379633636]]></transaction_id>
<nonce_str><![CDATA[SOxan8bKJ6EPQL53jzdwuoHXYMrDT1Nl]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[2E467BFCB90957068C308023E988C9E7]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231917182076075925558682]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>323</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223191716]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 19:17:16,333-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 19:17:16,333-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 19:17:16,340-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:17:16,340-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "88708133880402"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "eWchUbmjZtFTu6JE0VwXMgHSKYA25qkI"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:17:16,426-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "67f270a04e7745b68c201993ef2e6f94"
s_p: "RDQ0TFMzUWNQZWNPblk5U3dOalAzbG1qVDR3ODRaYkJqeXFXblBRTE44NElzTHpPYVRXR0d0bzdUTDhSblVPNGpPQjhFbE5KQTVUb2ZzV3BuNmRkTWNhUDZhUXdSQlBPQjM3dzl1SXFHVzFZOWZmdWtBUVQwUmhNQ2hzQjBQR3lXVEVFekxOczBkWFFBYzMxWVd6a0dnTEYydnl6b004ejVubW1ZU2R2dlJMbzJYamFqUkNrOHNLZDNpZzlOTDZ6QXJYT0VZWGduWk5LaVcwZ3Y4QlNLVDFVdWQ2TUUxenlVczhKRUhmUkw0bzhhb0lLeW9zZHZ0WUdRSUZOazBHZmdtRDAwQjZ0bUhZb0dwNFZXOE12WWFpM1BDY3AwbjFkQ093cjZHZzMyT1JTdllqVnRMaTZXMlVweGpONmFhNXNmVmp5aHltTEE1ek9SOHJXeERCM25kUXdKS1RwUjFUMjBnNllKVm9iUmhVU1FMSmZyZzVvYWxkWERQZlVpVk8wd1RSR0loQ2lmb3djYzZLZFBCZnRjQ2FxM0hYNXhhcmJuY3BJWGtCajlTNUhjcUIweGMzZFJ1OG92WGdycWgxcnNDUTJta3o4S0dpSGxoVklzSE54cjFLc2NPaEV0d28xT1VjdzFuZld6czkwMnpSRVI5SnJBWDM4UlhBSjJCVFVYQjVocW5KMGdqNGQ3RTRmeEd6akU4UzlsZEZ3QXVKb0kwamsxNlJRczFCdGZpdWlIUEgza1dSbjhuODFkeDI2dWJwMzE5T1VLR0dBNzAwSGxqT29RV1pqcEhWMzAxUkFQd2xxbHE0MUNCdWdSUmx1REpVTlZ1Uk16UWxOWEFpTUd1TFk1WXNDSmM5NVpUeW1PaXBNTFY1TEtPMEZNdFgwNFE1czFxVVpScHpxdFR3cVJ6aU84OE83WGttVlFtenUzUHNhdmkxWGpGdzJ4SXRPUkI4RHIza210NkRVbFp6V2c5SzZGamt2YmJDTHlvczYxeG5YSURseXFGWVFCUDlkV1JJT0l5SGpaSkVMRDhzR3gwV0pSdjQ3VlA1NHlRbHE="
m_p: "LTPKvPX0U28cJSP4UCM030Z14yC1s2vfeiZxy0YfL9IqyslYd9PQwx9b8w4JB2y5"
e_t: "1614187038900"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:17:16,429-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:17:16,429-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "67f270a04e7745b68c201993ef2e6f94"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "N84IsLzO"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231917182076075925558682"
version: "260"
queryType: "PAY"

2021-02-23 19:17:16,482-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "3.23"

2021-02-23 19:17:16,482-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:17:16,483-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:17:16,486-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:17:16,486-INFO-recharge_spend-55-可币余额正常
2021-02-23 19:17:16,487-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231917182076075925558682"
2021-02-23 19:17:16,492-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15058, 'pay_req_id': 'KB202102231917182076075925558682', 'notify_id': '3598625899101406085379633636', 'partner_order': '8znGmtfT9wHpJbqLxkQWKV5X6sh31dra', 'amount': 323, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 323, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 19, 17, 18), 'success_time': datetime.datetime(2021, 2, 23, 19, 17, 16), 'modify_time': datetime.datetime(2021, 2, 23, 19, 17, 19), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '{"cutAmount":"0","id":"0","type":"0"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '0', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 19:17:16,492-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 19:17:16,492-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231917182076075925558682"
2021-02-23 19:17:16,496-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7744, 'pay_req_id': 'KB202102231917182076075925558682', 'partner_order': '8znGmtfT9wHpJbqLxkQWKV5X6sh31dra', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 323, 'amount': 323, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 19, 17, 18), 'success_time': datetime.datetime(2021, 2, 23, 19, 17, 19), 'modify_time': datetime.datetime(2021, 2, 23, 19, 17, 18)}
2021-02-23 19:17:16,496-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 19:17:16,497-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231917182076075925558682"
2021-02-23 19:17:16,500-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 19:17:16,500-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 19:17:16,500-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 19:17:16,501-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "8znGmtfT9wHpJbqLxkQWKV5X6sh31dra"
2021-02-23 19:17:16,505-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 19:17:16,505-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：None
2021-02-23 19:17:16,505-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 19:17:16,506-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "8znGmtfT9wHpJbqLxkQWKV5X6sh31dra"
2021-02-23 19:17:16,509-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148744, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': '3a821953e0a1478c8414e2d8be29c97b', 'request_id': '8znGmtfT9wHpJbqLxkQWKV5X6sh31dra', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210223\\",\\"kbVouAmount\\":0,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"8znGmtfT9wHpJbqLxkQWKV5X6sh31dra\\",\\"paySuccessTime\\":\\"2021-02-23 19:17:18\\",\\"price\\":323,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"JBcRkJaNG/MaoqMKNdZyUI1fXvdALCY6Mqm6rgelqx85uxLAHeRt55ccfEkft4raPaMXm2Qc3bdzOAPa0s/DHJrctW5lB2D1fSPYmi9+ewz8TTFap3MgdYqfC+kkV/LQeDjRdO2lAsXTmcbQI2PGq3VPNznlRp6JxVoOU3qGypY=\\",\\"spendType\\":0,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"8znGmtfT9wHpJbqLxkQWKV5X6sh31dra","sign":"C1851643DD961D1CDF8364F89DD770F7","signType":"MD5","successResult":"OK","timeStamp":1614079038828,"version":"1.0"}', 'notify_count': 0, 'notify_response': '', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'ABANDON', 'success_time': None, 'insert_time': datetime.datetime(2021, 2, 23, 19, 17, 19), 'update_time': datetime.datetime(2021, 2, 23, 19, 17, 19), 'extra_json': None, 'remark': None}
2021-02-23 19:17:16,509-INFO-lib.common_biz.fiz_assert-119-通知异常
2021-02-23 19:19:32,138-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.52.44.235', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 19:19:32,413-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境1-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 19:19:32,455-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]成功
2021-02-23 19:19:32,455-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.94', 'port': '6379', 'name': '10.177.85.94:6379'}, {'host': '10.177.85.93', 'port': '6379', 'name': '10.177.85.93:6379'}, {'host': '10.177.85.96', 'port': '6379', 'name': '10.177.85.96:6379'}]
2021-02-23 19:19:32,858-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 19:19:32,862-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1259634601'}
2021-02-23 19:19:32,862-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1259634601' AND pay_channel = 'wxpay'
2021-02-23 19:19:32,865-INFO-lib.common_biz.find_key-108-查询到秘钥信息：3007b2945cab4fd994341dc6edb65f33
2021-02-23 19:19:32,866-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:19:32,866-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:19:32,869-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:19:32,878-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:19:32,878-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "14303655860249"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "IYBW8TzpCGviSE0qAMkODKsPJl3b16wn"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:19:32,978-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "54f5fd6ffe094d1b92e8070ba211b9a3"
s_p: "bVU4cUx0UmJJRVRST2RVeVRZNGpDOHB2bVlrdVRPU25Sa0IwQjY2ZlIyQW5uN3BxNmxiYUU0RGFEMHNEdExsSmE2MWVBVTFnUzNhS3lXWDc1Q1hGN3Bmb2wySENRNkxqSXVWWmRqeGxsNmdmZWQ0UG5RUjRLZzlKenhMVVFVUU5QdVM1YjRvMVp2NUUwVlBHRXRJeHBlUHM3Y2pxdXR4ZG5SUVU0TGd3UHFHalRSUVZOY0ZlMDBIUklaRUtwQ3NCM1pZbkg5djRsQjkxeE1QTnc5bnZZRmZ4RzJlQ2JsbEEzbmYxTDhmSWgyQkJXTklDcElLUHh6MVN0MXoydHB3cUxZQ203VFRSaHZMcFh3eFdkRjdIVEZqVzk2blRZdlBCS2s0Ym5CbEhmV0RHOVhMSEc2UGxFSnFjOEY1ZWxjTDh5ajM3WVRsOHdKU2NwVm9XR3c5SmpDVWJ6QVdPSXB3amRIVXdUc1R6R01McDJDd0NSUE1UcHdwbDc2b3VqTm9raUdHYXMxcnNwS25Wc1pKN3dsQ3hsRWVxcWt4V3lKTjVCQ1V3V0Jick9JNUd3Ykp6VEc4RkxzTGxaeXpZd01yNHNkREx1ZG1mTGlpb3JHNGw2OVpHVXZxR0pSanFCaFJyU1dLZnN1QXZJVEhoN1QwTjZvYVZyTkpneEtFdHpndFMza2w3am1aUklHc05oWW94bkh5QWhGdU5oMW9HWjRSMFJqYk9TNHhqRkg4aTJnVVpIT1NaRXd2N2Z2QmdVM3Z3d09EOGJBY1RWcnM1NjRZZkJoYnRtemc3OXNBaFZzREhycXM3dmhkZTNJT0dJNW5qWjd2dHRQWk1Fb3g3Qm5ZRWQxVmlqUGlWWjRIQ0ZXbkZuZ240TjFWWXBGbm9lMWZlSnFjVzVCUG1wdko0RnJtamdoYzAyS0x2Qk54S0djc2p4SkVKY2swdGduTGF2NHNOYUxBMUVpeVM2OFpYMjFnVTJBQzlIVDFoSzR0d3NncGJKME9PczVxbjFxYXE4d1lOak0zQjFNa1Z0RTdWS3Y5SkZ0TDI0UTBzRlBaQklRSUE="
m_p: "4zdOV0b1fZ9ZkNwPLaIKbIcFmb91u9rZp9JHhWz3G9umS2w215dJ8coW3Wut11C9"
e_t: "1614187175442"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:19:33,015-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:19:33,015-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "54f5fd6ffe094d1b92e8070ba211b9a3"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "S5b4o1Zv"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "8.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://pay.pay-test.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "sW78QpmBSYK9OxFe2qg4IEZVhbuizNGL"
}
sign: "fenLUgZzm1NWmcgEZ7Oj8bd8Vwhp7fNknC/FSG9SIw+Zom0NgmCh3oaLo/LvrauGX+yZqsZSrCt8P4rs/DIi+nLNlz6ydtfTpDOwb7pbVcRbRlRDMBTI4NBWJyfF9olQuTw/YyAY03CtgRJDRsbEfT2NLErXHw+JZzc3hC5Z0jjTV9+dh1opwcvzMBJRO3CIIqQWh2VXl47gu57QI7CtE5aiuhF1vENs8kZL1KPbDksswPPC0V2AZj873t6SNzBu1LaVjbrK+49Wc7sE3MLSvYeZbs0OnqoStBxCS074uSybOQcht+DivjieJUcpIf112f2Z6skEJhePi6eM0BeTPg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "54f5fd6ffe094d1b92e8070ba211b9a3"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "S5b4o1Zv"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 801
  count: 1
  productname: "RECHARGE_SPEND_PRICE=AMOUNT"
  productdesc: "RECHARGE_SPEND_PRICE=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://pay.pay-test.wanyol.com/notify/receiver"
  partnerOrder: "sW78QpmBSYK9OxFe2qg4IEZVhbuizNGL"
  channelId: ""
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "EyPvkWUfiydvAUtKF9K/ec+v8IVl9uLrwJS8pPzFcbYgT65htBBQiCr6gBv/nEeLrp0/4a/om5WCe+HkejEZWgRfzVAAOAzWevAqs8HPD3SvqOHVctKwzyP43QT2bTxw3LKuxqJEJOx+3Wd7jrhrRIXM2cNjHNpybD8U0anMUms="
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 19:19:33,421-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"e2d976791ef34b3ab0ddca9c38a46f1c\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1259634601\",\"prepayid\":\"wx231919358612904c9da016bc8845e90000\",\"sign\":\"77880886E33DB9471B2377C47186B05C\",\"timestamp\":\"1614079175\"}"
}
payrequestid: "KB202102231919352076075925152732"
model: ""

2021-02-23 19:19:33,421-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[2549116019095750777789898678]]></transaction_id>
<nonce_str><![CDATA[q7zx96F1nRJ3ShLPoDi0aXpWj2YfACcM]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[D669D03599D4BF148E84A2BC37EF7A01]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1259634601]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102231919352076075925152732]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>801</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223191933]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 19:19:33,577-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 19:19:33,577-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 19:19:33,585-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:19:33,585-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "59313032803444"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "8nWjwrTDdPfgJXyzKG75Qv9aM4Nsm1kH"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 19:19:33,662-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "af28203a87f149abb53ba871d573e304"
s_p: "czJwcXByUkxpVU1XRlhvUlo4SVdtZk1jT0NVYXBpdndZbUo4Y2txaUVQSG5CMVlkT3RKdkVPdko2cEhmek16ZTMzcGpPWlFrVUlGUXlFbWVKdW95a1Y5eW4xbkhVWkthRXIxR2RDRHVDMXBNNVBtOURuNzBNdWVJTVlMQTcwM1F6MHFiWk9KNEo4T3UyWFk4cGkxR2tud004V29MQ3h3ZFBkTTZzNlptdUdpMXhYUXdWNTM1SVVnU09YUGN0R1J2U0xCZW1xRENPUXNTTzJ3ejFKSEpBNDFTNlBPNGVFYjhleXJQUThmZ3UyQ0JqbXdNaUZ6MUtRU0VieWhpektKaTJ2OXRjUExHZFdCcExDbHA4N2tUUm1qc0FEMjlOa2VhU0pzdEk1NDR1SndRSW12YWZ0V0loZ0F4aUZNNm9TSmRSRVRzcWdpWmZDemJ1NGJ2eWQzV2VGekNtSzNNWWZiTFBxd2g4M2gwbEM3UTd0M2l4MWxnM3U2VlkyMW1MVkxNSENFdlNIZzd6TERLQmFSaFZKdXMyeldSbHBqSGhsejUwTEFNWk1OWDN0V05ZRFJFNmUyRVRFN2ZJUGFnbkJqdkFoY1JENjVYT2JlVEt5anZ0YUQ3ZUIxcm9nN0JSSGNPRUh4T01JbXhFbXlqa0FHeE5FblB0akhBV2JTdjJBODRCcnFBTXRVV2RKMU9FaFBvb1Zzd0tUWjJpaG1hZkNHbnlJUk85cFIwTFFuekV6OGhkRFEzcHpPNVhpeXY3R0F3c3ZCM2lDRlZPUnZybnZwRTd4dFRpeHFtZU00SUdaYWQwRXZkZmZEUjdMWUhCZU9BQkFlcEc2UDFHTEo0dmhYd2VwMHRnSVRla3hRYTJFemoya0RBaHdVbmVMR0xxV3ZpeEppZURka2J5N2lRb1RGNGRSZ3dqTlQ4VEdNYnFlYWhJN05MZW5hSWc1SEpCR2lpbjZHMjlDeXcwQmozZ0dtMnNiaE5oOEJUUmNtTWJKdnJNeXFDM2VQSkxPWDZTQnp2eVc5RlZZSXkwRkZjUUFncm5qa1hUN1NmWk9qREh6U28="
m_p: "gky866Ni0o6xpiIShu6glEE9kuN6714a3T2owm1oxLVVC2BBAsLr3FD1zygNqQJ9"
e_t: "1614187176138"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 62299579
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299580
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299581
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299582
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299583
    type: 8
    minCousume: 0
    vouCount: 1000
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299720
    type: 2
    minCousume: 100
    vouCount: 64
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299693
    type: 2
    minCousume: 100
    vouCount: 31
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299643
    type: 2
    minCousume: 100
    vouCount: 16
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299633
    type: 2
    minCousume: 100
    vouCount: 46
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299629
    type: 2
    minCousume: 100
    vouCount: 65
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299623
    type: 2
    minCousume: 100
    vouCount: 37
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299622
    type: 2
    minCousume: 100
    vouCount: 49
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299621
    type: 2
    minCousume: 100
    vouCount: 87
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299620
    type: 2
    minCousume: 100
    vouCount: 32
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299619
    type: 2
    minCousume: 100
    vouCount: 90
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299618
    type: 2
    minCousume: 100
    vouCount: 93
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299550
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299549
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299547
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299545
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299544
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299543
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299542
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299541
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299540
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299539
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299538
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299537
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 62299529
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 29
}
userinfo {
  username: "156******06"
}

2021-02-23 19:19:33,664-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 19:19:33,664-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "af28203a87f149abb53ba871d573e304"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "oLCxwdPd"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102231919352076075925152732"
version: "260"
queryType: "PAY"

2021-02-23 19:19:33,741-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "8.01"

2021-02-23 19:19:33,741-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 19:19:33,742-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 19:19:33,745-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 19:19:33,745-INFO-recharge_spend-55-可币余额正常
2021-02-23 19:19:33,745-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231919352076075925152732"
2021-02-23 19:19:33,750-INFO-lib.common_biz.fiz_assert-25-订单详情：{'id': 15059, 'pay_req_id': 'KB202102231919352076075925152732', 'notify_id': '2549116019095750777789898678', 'partner_order': 'sW78QpmBSYK9OxFe2qg4IEZVhbuizNGL', 'amount': 801, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 801, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 19, 19, 36), 'success_time': datetime.datetime(2021, 2, 23, 19, 19, 33), 'modify_time': datetime.datetime(2021, 2, 23, 19, 19, 36), 'trade_type': 'PAY', 'kebi_spent': 0, 'voucher_amount': 0, 'voucher_info': '{"cutAmount":"0","id":"0","type":"0"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'voucher_id': '0', 'factor': '', 'paid_amount': None, 'paid_usd': None, 'combine_order': 'N'}
2021-02-23 19:19:33,750-INFO-lib.common_biz.fiz_assert-34-订单表信息记录正确
2021-02-23 19:19:33,750-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102231919352076075925152732"
2021-02-23 19:19:33,754-INFO-lib.common_biz.fiz_assert-45-trade订单详情：{'id': 7745, 'pay_req_id': 'KB202102231919352076075925152732', 'partner_order': 'sW78QpmBSYK9OxFe2qg4IEZVhbuizNGL', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 801, 'amount': 801, 'kb_amount': 0, 'voucher_amount': 0, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://pay.pay-test.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1259634601', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 19, 19, 36), 'success_time': datetime.datetime(2021, 2, 23, 19, 19, 36), 'modify_time': datetime.datetime(2021, 2, 23, 19, 19, 36)}
2021-02-23 19:19:33,754-INFO-lib.common_biz.fiz_assert-53-trade订单表信息记录正确
2021-02-23 19:19:33,755-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102231919352076075925152732"
2021-02-23 19:19:33,758-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 19:19:33,758-INFO-lib.common_biz.fiz_assert-69-tb_recharge订单详情：None
2021-02-23 19:19:33,758-INFO-lib.common_biz.fiz_assert-77-tb_recharge订单表信息记录正确
2021-02-23 19:19:33,759-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "sW78QpmBSYK9OxFe2qg4IEZVhbuizNGL"
2021-02-23 19:19:33,762-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 19:19:33,762-INFO-lib.common_biz.fiz_assert-92-tb_payment订单详情：None
2021-02-23 19:19:33,763-INFO-lib.common_biz.fiz_assert-100-tb_payment订单表信息记录正确
2021-02-23 19:19:33,763-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "sW78QpmBSYK9OxFe2qg4IEZVhbuizNGL"
2021-02-23 19:19:33,767-INFO-lib.common_biz.fiz_assert-112-通知表信息详情：{'id': 148745, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': 'af43c26d06fe440184399915938a1b9a', 'request_id': 'sW78QpmBSYK9OxFe2qg4IEZVhbuizNGL', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210223\\",\\"kbVouAmount\\":0,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"sW78QpmBSYK9OxFe2qg4IEZVhbuizNGL\\",\\"paySuccessTime\\":\\"2021-02-23 19:19:36\\",\\"price\\":801,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"VdTm17FoYd99B7ua7TX3cl6D81uB6KirDOsNj0VpFQiLEkWesodMaJnATgwgnTTbH/YGvpgBN0OIPY36998PluVO/rrUG1PVBFXMISI9S4QOj0CRwOKWpyqN/K1DBzrY0wSOx3wF9gxGSDv7rAHsAP3lTuvKZVK+gEKQiwNQAK0=\\",\\"spendType\\":0,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://pay.pay-test.wanyol.com/notify/receiver","requestId":"sW78QpmBSYK9OxFe2qg4IEZVhbuizNGL","sign":"A3171A00350BDFFB537BD62C91268C54","signType":"MD5","successResult":"OK","timeStamp":1614079176052,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 19, 19, 36), 'insert_time': datetime.datetime(2021, 2, 23, 19, 19, 36), 'update_time': datetime.datetime(2021, 2, 23, 19, 19, 36), 'extra_json': None, 'remark': None}
2021-02-23 19:19:33,767-INFO-lib.common_biz.fiz_assert-117-通知成功
2021-02-23 19:46:19,441-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614080779438', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '5456925', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'RED_PACKET_COUPON', 'conditionAmount': '0', 'cutAmount': '10', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075547'], 'batchId': ''})
2021-02-23 19:46:19,486-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075547', 'vouId': '64234463'}], 'vouIdList': None, 'batchId': 'fea217d82a3540e2ac4777b60bae82c4'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:46:19,502-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'fea217d82a3540e2ac4777b60bae82c4', 'batchOperateType': 'PASS'})
2021-02-23 19:46:24,544-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:46:42,025-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614080802023', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '5456925', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'RED_PACKET_COUPON', 'conditionAmount': '0', 'cutAmount': '10', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 19:46:42,040-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234464'}], 'vouIdList': None, 'batchId': 'e32ef167920148239e7530cf9997ccf8'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:46:42,053-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'e32ef167920148239e7530cf9997ccf8', 'batchOperateType': 'PASS'})
2021-02-23 19:46:47,107-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:48:20,846-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '1000.00', 'batchId': '86631759781499569062186821674620', 'bizNo': 'sVczYESaxR91v0XPAh7NdCgrbGmWK5H3', 'operateType': 'PRESENT', 'requestId': '49568130156394215392741652919549', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614080900842})
2021-02-23 19:48:20,881-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 1000.0, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 19:59:13,094-INFO-root-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 20:01:04,286-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 20:01:04,570-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 20:01:04,619-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 20:01:04,620-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 20:01:08,181-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 20:01:08,182-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 20:01:08,218-INFO-fiz_db_operate-26-可币余额：990.1000
2021-02-23 20:01:08,226-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:01:08,227-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "59913323423315"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "bBkYyvHUWQm0jcRd17gspeaq62NJhFMu"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 20:01:08,430-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "5da36ba198754d5d8045e7313ce906b5"
s_p: "YzQ3UVZIc3RPUjhUN2Zveml5aHRxSG1Ed3ZXOXYzWFIyMEpXRVdkU3M5N2paRUtObEVPc0VyWU5jVjN4c2NCUWFQbkNTVGh6aFZ0TEpBb3N0WDlNbEx2NVhwMzZYUDBlZXpaU3pNd2JPSjFLOFJOWk5sWkF1dmg5bXduSXV4VlpGUGdaQzNSa1pOWWJ6SDUwSk1NU01lVEtNeTY5d09taEZuRmlwalNtWVIwMmJKWVVSSW5wM0FwaDA1OVNDemhJU01xZEc5N0U2OUs5eXlXdlhUTTY0S3R3c3JRa0RpT2NqNk04VHR5TTdEaGgxYzFYeWt4eDRHQnpCYU9ubUlrbjBEWUNEQkJPckRVYjV4UU5zTFpHS2xIcmFwbENQOWRoNzV4NEgycE5BdlhYR2V4a05QZ2M3V29LMXJmSXU2bEZKenFkYzJvaVRON0F2SFFjNk83SXA2V1JvZzRiOFVtSkNOeVRtRm1SMXBvcWpPTGRSTEN1OFFKdENSTk9nd0dsaUFPdzRJUFkxY01jWENLYWMyQXpsSGpqT05XZnA1OENYbElSdmZMQ2hRSkhMdG1sNjJHUUhDaW1NSVhlODB5ZnB1UEZ2Ukd0RUc0OWpncEloS0VKUFFybmtQalR4RVNZNHk2Q3JzOXVWa1BrVUJES2IyM1FPTzJOTW1KT0xzNExRTUFNeWZDRDRYeDNncUtrdFdTcXdUVFBxNGJuWFBXa21lMFB4QXJtWmZrUExFNE9qUTJtOGNhY3lOUHA1dm9lUDBrdG9xTUNidUlxM05Da0JzQzZZN3QwT1dRbnRmRW1hbXpRQkMxQUZJWTNuMU90SktSQVhaMVFaVndYTUhiVzVpd1JLRkRNNHdnYjBoaVpvSTJ4RUVZQ2JNelplMmpZOFZ1SEF3a2FGTGowbG1NT0laNVNWWkFtbkJrUlRZeTlSZWFvVnlrZlJ6WENBbFNoTnM3RzNpOUJsYUxmYkFGa1dQSWd4UURwdlNqTW1uTUZvRnZmRkFaWTloeHJNZ0lubVJwdkp4UGhETHF4Q083T04zN3YwM1VoQnk0T3M0cnM="
m_p: "w8SzXxS9r0B0Ecgn4565IeyBn5x5O7P9K05sL6j2I3mJ9p91nZ9Y29622G5z8FL2"
e_t: "1614189670884"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "990.1"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-23 20:01:08,464-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:01:08,464-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "5da36ba198754d5d8045e7313ce906b5"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "ZSzMwbOJ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 99010
count: 1
productname: "ONLY_KB_SPEND"
productdesc: "ONLY_KB_SPEND"
partnerid: "2031"
callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerOrder: "a49xb53HDoTCZMmdpeFX1N8BQsLyUfP7"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "ZsZzIYGdeydopHb5G0+2lhuT0Ydk11LvS7MqQesthX0A7B/dvstgKjSepNxcv5V1gF5WFwH5f4JFaC9++De1eXFHUB7dbmLdj3vFXxPkb0CHS2hg82rsA3oSFIp3PMAlYjItorBOEAdFV7/xMz0MBTBCMT0/GJpVAXKwSXoPBr4="
order: "4954242587249"
ip: "120.197.152.211"
factor: ""

2021-02-23 20:01:08,668-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 20:01:08,686-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '3.19', 'batchId': '31686294578316879215064999576959', 'bizNo': 'qvkS7MwAaPtJW9ybZTu2ciDhjoXlpHmB', 'operateType': 'PRESENT', 'requestId': '13879660333317348518532697746108', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614081668683})
2021-02-23 20:01:08,707-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 3.19, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:01:08,722-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614081668718', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 4.75, 'cutAmount': 4.74, 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 20:01:08,746-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234465'}], 'vouIdList': None, 'batchId': 'd94afe4d07c44008b8d87a46b2eee32f'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:01:08,760-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'd94afe4d07c44008b8d87a46b2eee32f', 'batchOperateType': 'PASS'})
2021-02-23 20:01:13,802-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:01:13,810-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:01:13,811-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "23425756213872"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "n1ZHVesA9t4RYTCyvGF86xj7QJDBSIfg"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 20:01:13,914-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "be645ac7a4c44bf7a7fc1ea39a710381"
s_p: "TzNnbW5GMEVTUW1NVUNIVWx3VVVzdkRuYThHTTBVYjJ1b2QxSTNzamEzaDJVSU1wNThFM1JIMG5idU92ck1nQU1QN0ljUDV1VEFpR201cjdPcVdDVm1lNGVJQUM5dmVqdWlmblViOVhPVEI3UnJSa3dPYTl5bWkzbmJPOUN2QU5TVU1hUVdIMUdKQjNlYTVCazI4MDQxVktTem8yemcxTmRPQmhwaGdGRXoxRHd3UHRJamdYbmpMY3daRk5sclNqZk9DU3NXV3dTNVNrdHVsM1l2UmVzWUp4TlBWTzdqUlllZXo5T1JLaFZKTGswaDZrZ0dUUHZiY3dqaEo5MEVOaVdqeWprenBoNW9SM1VvV3plUk96WGNLVmdhM01lM0xlNWxEN0dMbzNrb1Q3R3doNTIxWFJaTW1YODl4bmV2bkFRTXo1ckpscXQzZmdEVWZxUGNJRms0dHVmMmZ5bEk4SlJjcWNRbUhyU1c3UjVIV0FUUUc2cVdmd1FUUEgwcWZYMEpnc2M3VE1rTTZuTGtvWVN3ZldNbkNZUlgyaWV1bXI1RFVNRXNGYWtQQW1udE1rYVNoNkEzNW80c0hERjNVVTBKRVNEVEszV1ZzbG5GZjJacGcyUU1Jc2JnVzZXdjRyVDkxaExmNnlDNVlyUnYxVkcyeUh5bzRyZ2kzNHZzQWxMdHJEelpZblBMUVFKRGRiVnFhUHJCdlMyMXU3T3RoamVuZ1lhclliRkI1RFVqVEZVU2VNTlI3SnZyblU5UjJheVloNmttVVM2WnoyUUlFQXQ5RnN1eGZUcmd4b0dmWWNIZE9sZlZndW9YZ0YyRkRsa00xUlRrR21nRkdOUWRKODdnblh1eU5HMU5TZzF6YVNnaUdQZjFnRk9jM0l2TFp3OU9LbWQ3TTRWcHR3YjR1amQ0aGsyd2VOcGJHY2V5ZzFqaHhJWEI2YTBUdWYxQ3NCcTJzMGtsWHJRZEhMYWpSQzdqdGhYcGxWZDVxSXBxNTN3TE5kclNCM0ZubHg0MTRkTlAxeGY3c2dLRm5sYjNndE1JOGpVQ1ZPb3Q2cWxVcDE="
m_p: "x1P0yh81GEzZ6K4W0lnulZg8976xe39j4ry6jdKsw3dr70806uYSAA20kETq5DsD"
e_t: "1614189676404"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "3.19"
  vouBalance: "0"
  vouList {
    id: 64234465
    type: 2
    minCousume: 475
    vouCount: 474
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 13
}
userinfo {
  username: "156******06"
}

2021-02-23 20:01:13,932-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:01:13,933-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "be645ac7a4c44bf7a7fc1ea39a710381"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "GJB3ea5B"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 793
count: 1
productname: "KB_AND_VOU_SPEND"
productdesc: "KB_AND_VOU_SPEND"
partnerid: "2031"
callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerOrder: "aQbELzPH3ZSCyhKquixnAXO85UcJBTDv"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "D3LDqjEqjohyOevmuZSOV7bxUMOKONtnJiGvuuwISU3h60OkKP5X8CBXrPl74qWva4oTzvL+LyUbCRLGGyT+5AjFrtjWoqYmZ9sQHevuDQceBHbp0R3pOFR55LA3ILXsLDx4Z28exuZtq/9apctzxl8Zh5smipgmjYx6KuFGFSg="
appKey: "1234"
voucherId: 64234465
voucherType: 2
voucherCount: 474
order: "0288703027352"
ip: "120.197.152.211"
factor: ""
screenInfo: "FULL"

2021-02-23 20:01:14,121-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 20:01:27,578-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 20:01:27,854-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 20:01:27,897-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 20:01:27,897-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 20:01:28,226-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 20:01:28,226-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 20:01:28,230-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 20:01:28,243-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '5.65', 'batchId': '90640063253855472849421492667480', 'bizNo': 'ctIbg3p4hALeWQky6JD9fj7qiBlVSvaM', 'operateType': 'PRESENT', 'requestId': '77560040881680167441347926958153', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614081688240})
2021-02-23 20:01:28,267-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 5.65, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:01:28,281-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614081688278', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 9.78, 'cutAmount': 9.77, 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 20:01:28,306-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234466'}], 'vouIdList': None, 'batchId': 'fbd9d1298a3243759a8941aefcfdc731'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:01:28,320-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'fbd9d1298a3243759a8941aefcfdc731', 'batchOperateType': 'PASS'})
2021-02-23 20:01:33,348-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:01:33,361-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:01:33,361-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "84947279264392"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "GHoxVLBTOj2Ypd5CNAmkKuDcaeXvr4qS"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 20:01:33,568-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "2a44845f8aa64f6d983b2d37af191063"
s_p: "ZkRnd20wcjlCVnZHNVYxTklpdjVqY3h4SHlZNUFzUDJ6Q1BEMm1DMng3R0xwdlBPdlczdkNjWkFWTkN3ZzRnb1FndEU2VUQ5c2ltd3hqanZWVXJWU2w0bTl1dVpUczdDbjc5U3F6Q2d4d2FUSTB2T1cwb1J1bzlnYWF6UWZBQ2pQVHZUMVZaRXlYcXQ2MXNZY1dXcFRZMkVpSGhwMG5zWnBrSDhhUUo1bm8xVmFFSTdOR1NaTjVod1R6S2xWd1BRMGFRUU9Ub05mSDBQeTNHdHdVaW94Q1F6NExoTkQyeDBkZkJ0MGJLQmNQeTRYM1NqU1prSzh6aEZCTmtuWExtR1pnbW1TUHdHeXVBdkdrMnFDTmIyTzFpNmVlSVFFN212STJYM3VZaEtjZlVLcnlrYWc3NnJNMjl3YUIyRjRraGJ5ZnVRNWxGemV5MVFjY1IzS2ROVkh0WE5OeXVlWlNob2ZBMkxxdFprazlhVE9NRDc4RVEwcWVlZFJCWlp3WXhycEQ2V3duQjFjZWk1RjlYTEplalRqSzZPRjZvbDZGOUZaWXFEa0tnRGdoa2dKZzM0NnVIZlQ3SzZKQXdobWNaS2g1Z2ZTMVNGNWthMFhHaDZpMUpJaFVITEJDTUp6NE9XcHJLNWx6YzZTYlhqOE1naGpESGJ0OGZYM1hIVHplcFZXc3BuR1FoVGJNaUlNQldRdjJIckpBSmtxU3BjOThNWWV6ZVA5THg3b05HNkdzeENzd2NVWXRMSmh0Qjd3QktlUWFWbjcyQzV0aUVKdmtkc0FoS3dVdUdRbnFBSEVUZEx1RlV4aEo2dXFya3BZeUs5a3JQSXhPTzlXZjdZVHdYckN5eTdQcEhKNnhUb2RKMHEwMFZKUjR5N1ZQRjJ5NTdEUW9SbVFjc0dPVVlzczBqSmtnRjFzVlZINTg0Y3owdDFrUHZpNzB2YVhqbWg1M3d0RG5sSG96RExBVHRqdWRQRmJHRVcwcUVEVFl1bTlPbjZ0a29majFrM0tVbkNaUkRMc1R4bHNySnJ3ZzRvVVk2cW5NZHJqZFhpOXFqVmNMSG4="
m_p: "53957Tdf8o8Vm35oCFJwh1nyf0bI75T0H4Ov3L6Jiwp01tL0n07M7xCF480YMpC4"
e_t: "1614189695962"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "5.65"
  vouBalance: "0"
  vouList {
    id: 64234466
    type: 2
    minCousume: 978
    vouCount: 977
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 13
}
userinfo {
  username: "156******06"
}

2021-02-23 20:01:33,593-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:01:33,594-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "2a44845f8aa64f6d983b2d37af191063"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "fDgwm0r9"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 1542
count: 1
productname: "KB_AND_VOU_SPEND"
productdesc: "KB_AND_VOU_SPEND"
partnerid: "2031"
callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerOrder: "ZXm2M0lG4KvrQ1ugzICA5H3i7Y98hsqW"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "WF8zqg4FC/Nj3EkGjD2C19r9s+XWt17rHHnNXyRCTx6vJ18vaAHwbG6n7a0eL7BmAotSccEDZijshfATTTPux+dLB4ar/ZPBQOvHc0udk9cZt/Hqd7+nwndxym+XO2cdiwrEGvn5m+5b662KxbZjov5LsXGDS2lXIhEL7H3TbOk="
appKey: "1234"
voucherId: 64234466
voucherType: 2
voucherCount: 977
order: "5705128405386"
ip: "120.197.152.211"
factor: ""
screenInfo: "FULL"

2021-02-23 20:01:33,752-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 20:01:33,753-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT pay_req_id FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and partner_order = "ZXm2M0lG4KvrQ1ugzICA5H3i7Y98hsqW"
2021-02-23 20:01:33,756-INFO-fiz_db_operate-38-查询到partnerOrder：ZXm2M0lG4KvrQ1ugzICA5H3i7Y98hsqW， 对应支付订单号：{'pay_req_id': 'KB202102232001362076075925732112'}
2021-02-23 20:01:33,757-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102232001362076075925732112"
2021-02-23 20:01:33,761-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 21511, 'pay_req_id': 'KB202102232001362076075925732112', 'notify_id': None, 'partner_order': 'ZXm2M0lG4KvrQ1ugzICA5H3i7Y98hsqW', 'amount': 0, 'refund': 0, 'contents': 'KB_AND_VOU_SPEND', 'products_name': 'KB_AND_VOU_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.255.79.104', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '', 'sdk_ver': '', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'KEBI', 'direct_pay': 'KEBI', 'game_type': None, 'present_amount': 0, 'original_amount': 1542, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 20, 1, 36), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 23, 20, 1, 36), 'trade_type': 'PAY', 'kebi_spent': 565, 'voucher_amount': 977, 'voucher_info': '{"cutAmount":"977","id":"64234466","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': None, 'mobile_os_ver': None, 'platform': '', 'screen_info': 'FULL', 'combine_order': None, 'voucher_id': '64234466', 'factor': ''}
2021-02-23 20:01:33,762-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-23 20:01:33,762-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102232001362076075925732112"
2021-02-23 20:01:33,766-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 11272, 'pay_req_id': 'KB202102232001362076075925732112', 'partner_order': 'ZXm2M0lG4KvrQ1ugzICA5H3i7Y98hsqW', 'partner_code': '2031', 'products_name': 'KB_AND_VOU_SPEND', 'ssoid': '2076075925', 'origin_amount': 1542, 'amount': 0, 'kb_amount': 565, 'voucher_amount': 977, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'KEBI', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.255.79.104', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': None, 'app_package': 'com.example.pay_demo', 'app_ver': '', 'sdk_ver': '', 'mobile_os_ver': '', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 20, 1, 36), 'success_time': datetime.datetime(2021, 2, 23, 20, 1, 36), 'modify_time': datetime.datetime(2021, 2, 23, 20, 1, 36)}
2021-02-23 20:01:33,767-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-23 20:01:33,767-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "ZXm2M0lG4KvrQ1ugzICA5H3i7Y98hsqW"
2021-02-23 20:01:33,771-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 140946, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': 'e483aa831a8541078129ba5d2eb77ab5', 'request_id': 'ZXm2M0lG4KvrQ1ugzICA5H3i7Y98hsqW', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210223\\",\\"kbVou\\":{\\"kbVouAmount\\":977,\\"notClearCount\\":977,\\"orderAmt\\":1542,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"64234466:977;\\"},\\"kbVouAmount\\":977,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"ZXm2M0lG4KvrQ1ugzICA5H3i7Y98hsqW\\",\\"paySuccessTime\\":\\"2021-02-23 20:01:36\\",\\"price\\":1542,\\"productDesc\\":\\"KB_AND_VOU_SPEND\\",\\"productName\\":\\"KB_AND_VOU_SPEND\\",\\"sign\\":\\"YQEQWs1UGLx/irikGLvstzg5SXs2DX0UFhRpgnhOwMLqz7HIVI8rgies1sCOq/8mhYpDAAKVbfHCdiF/1R71KbijWRD8+YDCvpEuGLPOTkKt5r/Q6uFjkLOEYXTeyTv0qc84D034XPod+3ZulZ56i/bli1HO/Fpoh4cTcDjl8JY=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://secure.pay-test3.wanyol.com/notify/receiver","requestId":"ZXm2M0lG4KvrQ1ugzICA5H3i7Y98hsqW","sign":"50568AFFF286B701D30FB09731E14348","signType":"MD5","successResult":"OK","timeStamp":1614081696263,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 20, 1, 36), 'insert_time': datetime.datetime(2021, 2, 23, 20, 1, 36), 'update_time': datetime.datetime(2021, 2, 23, 20, 1, 36), 'extra_json': None, 'remark': None}
2021-02-23 20:01:33,771-INFO-lib.common_biz.fiz_assert-118-通知成功
2021-02-23 20:09:11,424-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 20:09:11,665-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 20:09:11,717-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 20:09:11,718-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 20:09:12,677-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 20:09:12,680-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 20:09:12,681-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 20:09:12,684-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 20:09:12,684-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 20:09:12,685-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 20:09:12,688-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 20:09:12,702-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.05', 'batchId': '71508481263563889111823647211243', 'bizNo': 'G2tJIQEZbvCHK6n7rwLxF9kmVYTp0UNh', 'operateType': 'PRESENT', 'requestId': '72347588487381539548393517850503', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614082152699})
2021-02-23 20:09:12,755-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.05, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:09:12,769-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614082152766', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 2.8, 'cutAmount': '2.79', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 20:09:12,801-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234467'}], 'vouIdList': None, 'batchId': 'aef74ed59e024d0986e94700e26e09ed'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:09:12,814-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'aef74ed59e024d0986e94700e26e09ed', 'batchOperateType': 'PASS'})
2021-02-23 20:09:17,849-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:09:17,858-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:09:17,858-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "95630058274964"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "ElYy8ujhXZcpi5ka7UqGrICogxOP3Bf1"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 20:09:18,056-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "814d6624c1e64e92ac51402d98e33e87"
s_p: "d3Z0c1ZUTnNpaGNOVURFU0VBU1E5YjRXNTk5RzVXTUQ1d2hrRkdvVlZndlFkVmZIaldKRGFkVzB6MHJEUkJxNTdjMVlWSmwwdzE0a3BwZVdLMXRheTcxdEVCendoTVdLemx3VkhGa1FleDh1UkU1NzZDTEt6enk3czhLd1ZiUFVjZ0V1RnpFekVESFRoMTZDbEQ3bVA4SGN6M0E3S1FFdjNIMzNIQnVWRHJxd0h4QlBBdVl2c1l1a0tSUTZmaWY3dUVwNVZoNE1sRE1BMTdCYXFpaGFBajRkVVBSWkQyVklxYkxHTGU2MGZTdFdOQWl4SXl6bHlVZmh4d29SNW5yeTJZVk93YXc1OTllaGlhYlc3SmJFb0pqNXRUYUozd1pYYjdsTUtQbXVqcFFZYU5DdGpkcnlTVDNMenMxaVliOWpJbjBOakl2ZEhLUkRid2xtWmNOcWdOZmNqMXo5UWl2SktOQ3V1MmxMY2UybERpcHhhWE9ENEQ3ZjBrcHBOa2gzVk9UQWN0UU5NZ01zTXZNN0gyaTFOTm1DWnVZTjhUMEFFSWZBSlYzOVJkanhZUElBMTBiSFJSNFF5WTU2bGxOYVF0cEJzbmdmUjNJaVE0SEZRT0RpYXl4MndMUm5YdEtLbTVDNlpwSVRpNk1PZTlVNWhNRmIwM0FvWVpnWlRIN0N2bkJZcTZ0NkJBTGNVakJTWnRtdUR3TFlqeW9QTmRzU2JRNmlTQ3ZubXBPVHM0UU56WGxWYUpvT0FlNGxuZUZLcnRzemxSbXA4Wm1OQUs2MzRYT2hkNWxtazNzbVlETDRrcm1IQVlvUFVacjhEdXA2TWo0ZHNLdEZkWEdrZ1hPcm5FV2h1YXlmUmFzSFRkNzgwTW80QjBWZUl6dVFUSnczbm0xSHc1bTMyaGtmRUpuOWp4dXRLVWtiaUJsR3JZU0NzbHF6dm41UmRVVzJpSWQ3eWdkRmw5c0t5YTByc0JCMFh5TDJ0Ynh1SHpPR1hland1Z2FQQlpXZGJKUWhzcnNDazY1ZzFMcUg4cW9hdk9tUWh6MTNpRXpqSlVGd2NiSlU="
m_p: "W2MxI99XL0DAmg20w4QTb31X732d2xm307W38NO2Kp8LRrUlUMnR3Y1n70SVVOB4"
e_t: "1614190160532"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.05"
  vouBalance: "0"
  vouList {
    id: 64234467
    type: 2
    minCousume: 280
    vouCount: 279
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 13
}
userinfo {
  username: "156******06"
}

2021-02-23 20:09:18,084-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:09:18,084-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "814d6624c1e64e92ac51402d98e33e87"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "33HBuVDr"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "8.81"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "KGmarzu3HEjNvSTe1wBCbk7il4LIFoY8"
}
sign: "vtYofh6ci2MdlWYfcpDkfvrAgHn/uhe6mdhI2O8CTwS7YNEzlMYaTSvPDyFsdBZr9aVsFT5C6lAlxUmkagxX6MfA+IjSV+0DPkP9mB+TcBKqIf7Vz9UOvx91L2or8Rn68NUfvSXHF9SunYYNA21IxnfLZJrX8m/w5gYBoieSnLogp/BnBOTWNfTEFIB7XOz388W++eOE4s2tRylR9x1M8gPvF4BRcWa0oAp2JOI/D5Q1WL2Bj61pVsDaAf/OR9wpx6gCdn8xfLIbIVnXdwcwLQMkrp8EWnrRprd4dS95U+AhBFp1le7WIR+snl4f7uIre0NaiVF4Xwc5ig3x5UggUg=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "814d6624c1e64e92ac51402d98e33e87"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "33HBuVDr"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1165
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "KGmarzu3HEjNvSTe1wBCbk7il4LIFoY8"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "SVWI0sn60gHkur8F+68bE1Cp7Wuca4nWS2eqBEfX1AWCV8lfE/qtg0px8gYED6nnjpX4Lc/JdtA74XH5oGgYcS682rv13xDN0lknSjAPLQufkgHjpOHsyFt9tG9ndqqSS66E2K9apqF6cKsg4N6eCm8F1EMP+IQyREI2AKUh0Bw="
  appKey: "1234"
  voucherId: 64234467
  voucherType: 2
  voucherCount: 279
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 20:09:18,510-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"9b5db2d6611a4f18b88f86d307314975\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx23200920981020e13bfc31df0797af0000\",\"sign\":\"634CA15D4150DF8CDD4BD8F510E71255\",\"timestamp\":\"1614082161\"}"
}
payrequestid: "KB202102232009202076075925431132"
model: ""

2021-02-23 20:09:18,518-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[1618679928735951122696652356]]></transaction_id>
<nonce_str><![CDATA[xGfhY7Z1S5VXqTlD0nUor8cEg9FPLuCQ]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[B3FF4E5202C0E47570CF54324377375E]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102232009202076075925431132]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>881</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223200918]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 20:09:19,944-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 20:09:19,944-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 20:09:19,952-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:09:19,952-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "36586827614519"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "wmWoEnGlXcIKzypY1NCqeh857PUvuA6T"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 20:09:20,034-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "a4e91ac513c94397b9354fbcccb3064c"
s_p: "T2RsNVFBZDY4N1RjZGJWQ0xQeWdiOXdVc09WQ2hzVHBEZTV0QTRTYldxU0N2VEhSanpNYnZMNlIwWVhsaW1pQzZFNjJQbFpoNkJhak4xUktWY1dmZzZhR09lZnNRRHppQVJqOGI5TVZWcklMN01kSXBlbnNRaUY0R0tLZndsVzRKNEVPeGE4dDhMc1IyUzV0WGVFNThJbEVrQmtJUUt0bkFJQ2tmTXptT3pOWVB2ZDQ0elVvZnlWWHNjWTdocnUzclpZU3BJVUFKNE5Wb3l4ZXBXaVRKODVGM1Y2S2RueDlSNkRNb1RPb0hUZjJiNUxSaWdpZTY5UHhrM0w0R2g4UEJvSDZqckhQNlVBVW8zWjc3clJSS1Zsb3pIWVJueFgxUmVPcEMwNzNEbUZ4bW81cHBlQlo2aXJaOGZrTHROT0QzWXRoWE1ZZDFPOTlpaVY5Tm1YRWxFbk5iQmI0a1A3cms5UEFKZHFVaFVSZ1VFQ3NFeGZDZk1oRzQ2d0NtMzVXbHVxV2tzTnpDajRuTjhwaElGQVpxdTlKcGlrNE9LdElLQmd6TjhGZjJ1ajh0MFNOOTFXODFvM0E3M3dxc2dka2N6MnFtZXlvSHhoVTJLcWRRQlZ2R2ZkMTNQdXdhcjRITXV2WmJhdVpCTG01Wnc2RDBGR1pQdG51YmUyZ1JVTThjemNZMU8ydnB2M3ZZZGNFMjFBSGt1Sm5YTmRzU3JWUGN0M1JzMHRCcUhnemFzRkRLTFlRQk5jZGdJbUFObmMzVFRCb3JSbm9McWs1SGRoV0dQUHZPOENZQmQyNVNTUHo0SVNLVHVsbkN4UDI1czJZMVJpRU54V2RURmF6R0FOOFBpOVF1QVJiTGVtZm5iOExsUGl5VTloNXFsOEtHT0FUUzNhOGN4RU85YzF6WXdUTGxlWEZ6U2hnRVg2UUc2UVhhRTJKdGhnSkZ3RWhjeUQzV0lWbFdrOVpPUWRiZU05MG1iY1cyeUFwOHgwZHhMcUV3dFowNWIwSHJWWTZnaTVabll4MzdkOFNtRk5hR3B5b1FjMjFwT1UxMWZFWGxRY0Q="
m_p: "J5VejkBd65P18yv2W3h8MtF64UGMg864GU2s8QoY40Mlyr00VXI9kpBW1i4j7bJv"
e_t: "1614190162537"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-23 20:09:20,035-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:09:20,035-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "a4e91ac513c94397b9354fbcccb3064c"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "J4EOxa8t"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102232009202076075925431132"
version: "260"
queryType: "PAY"

2021-02-23 20:09:20,095-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "8.81"

2021-02-23 20:09:22,107-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 20:09:22,107-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 20:09:22,111-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 20:09:22,111-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102232009202076075925431132"
2021-02-23 20:09:22,115-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 21512, 'pay_req_id': 'KB202102232009202076075925431132', 'notify_id': '1618679928735951122696652356', 'partner_order': 'KGmarzu3HEjNvSTe1wBCbk7il4LIFoY8', 'amount': 881, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1165, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 20, 9, 22), 'success_time': datetime.datetime(2021, 2, 23, 20, 9, 18), 'modify_time': datetime.datetime(2021, 2, 23, 20, 9, 22), 'trade_type': 'PAY', 'kebi_spent': 5, 'voucher_amount': 279, 'voucher_info': '{"cutAmount":"279","id":"64234467","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'combine_order': 'N', 'voucher_id': '64234467', 'factor': ''}
2021-02-23 20:09:22,115-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-23 20:09:22,116-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102232009202076075925431132"
2021-02-23 20:09:22,120-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 11273, 'pay_req_id': 'KB202102232009202076075925431132', 'partner_order': 'KGmarzu3HEjNvSTe1wBCbk7il4LIFoY8', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1165, 'amount': 881, 'kb_amount': 5, 'voucher_amount': 279, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 20, 9, 21), 'success_time': datetime.datetime(2021, 2, 23, 20, 9, 23), 'modify_time': datetime.datetime(2021, 2, 23, 20, 9, 20)}
2021-02-23 20:09:22,120-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-23 20:09:22,140-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102232009202076075925431132"
2021-02-23 20:09:22,144-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 20:09:22,144-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-23 20:09:22,144-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-23 20:09:22,144-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "KGmarzu3HEjNvSTe1wBCbk7il4LIFoY8"
2021-02-23 20:09:22,148-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 32164, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_KGmarzu3HEjNvSTe1wBCbk7il4LIFoY8', 'partnerOrder': 'KGmarzu3HEjNvSTe1wBCbk7il4LIFoY8', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'price': 5, 'count': 1, 'r_cost': 5, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 20, 9, 22), 'updateTime': datetime.datetime(2021, 2, 23, 20, 9, 22)}
2021-02-23 20:09:22,148-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-23 20:09:22,149-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "KGmarzu3HEjNvSTe1wBCbk7il4LIFoY8"
2021-02-23 20:09:22,152-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 140950, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': 'b59b66b369244e0394d020ca99336a85', 'request_id': 'KGmarzu3HEjNvSTe1wBCbk7il4LIFoY8', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210223\\",\\"kbVou\\":{\\"kbVouAmount\\":279,\\"notClearCount\\":279,\\"orderAmt\\":1165,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"64234467:279;\\"},\\"kbVouAmount\\":279,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"KGmarzu3HEjNvSTe1wBCbk7il4LIFoY8\\",\\"paySuccessTime\\":\\"2021-02-23 20:09:22\\",\\"price\\":1165,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"FyT1CIIldfKUZ1GZB9RhZBtwQjaQ/QQleRQfsx8BPOi/3o1Ity3dPKLIoqCrHwd8+AdB4lDhGNgFenLuPyjRpA758e5JsHjgADmr06r1CWOFuhVBbjpahTrHdHzqFuA7TtHtwRhOGxuS/GJAZ0mqrbhh/XOlo80subx95ctE9/o=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://secure.pay-test3.wanyol.com/notify/receiver","requestId":"KGmarzu3HEjNvSTe1wBCbk7il4LIFoY8","sign":"98ABA0AD4AF5AB1EE31F830351ACFC81","signType":"MD5","successResult":"OK","timeStamp":1614082162510,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 20, 9, 23), 'insert_time': datetime.datetime(2021, 2, 23, 20, 9, 23), 'update_time': datetime.datetime(2021, 2, 23, 20, 9, 23), 'extra_json': None, 'remark': None}
2021-02-23 20:09:22,152-INFO-lib.common_biz.fiz_assert-118-通知成功
2021-02-23 20:10:34,498-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 20:10:34,799-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 20:10:34,839-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 20:10:34,839-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 20:10:35,194-INFO-lib.common.db_operation.mysql_operation-37-执行sql语句：SELECT app_id, merchant_no FROM `platform_opay`.`partner_map_merchant` WHERE partner_code='2031' AND pay_channel = "wxpay" AND renewal=0
2021-02-23 20:10:35,197-INFO-lib.common_biz.find_merchant_info-28-查询到商户信息：{'app_id': 'wx93eea96ecc33f168', 'merchant_no': '1603465160'}
2021-02-23 20:10:35,198-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT md5_key FROM `platform_opay`.`channel_merchant_info` WHERE app_id = 'wx93eea96ecc33f168' AND merchant_no = '1603465160' AND pay_channel = 'wxpay'
2021-02-23 20:10:35,201-INFO-lib.common_biz.find_key-108-查询到秘钥信息：g4rTCeoBJFG4KyWCjTQCqltfEDma3yxR
2021-02-23 20:10:35,202-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 20:10:35,203-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 20:10:35,206-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 20:10:35,220-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '0.16', 'batchId': '52036271819171506224004623436493', 'bizNo': 'K8DNJuaSBMdV93YkfhGARnLeqXHyWCx2', 'operateType': 'PRESENT', 'requestId': '05891056920025088815193435907170', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614082235217})
2021-02-23 20:10:35,244-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 0.16, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:10:35,256-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614082235254', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 9.08, 'cutAmount': '9.07', 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 20:10:35,276-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234468'}], 'vouIdList': None, 'batchId': '305624274d9a40faae52dd55db089e75'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:10:35,290-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': '305624274d9a40faae52dd55db089e75', 'batchOperateType': 'PASS'})
2021-02-23 20:10:40,334-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:10:40,343-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:10:40,343-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "74236028336249"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "uBeEM2coQ8Abw1OZkPTFVrS3LnavtdWi"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 20:10:40,448-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "f07bc7180ca449049f2fdb6fa07be1e2"
s_p: "YXlaWDJmMlVaeG5VVW1CTm5pZkF5WEI0cFZXdTBqQk1JemJ3SEtZWHY2OHhRalkxcVAyR1JOZVVuWkFEYmtLOVNQYnpSS2U1OE1KWGVVWXVGem5nVVZ5VkkycklxOFBYc3BwMDRhTFRMOUVIYXNxeHVuT3lZSERRMkFmcEdqWlY3ZVNvb3dvczBEVjl1OTI4ZjlGZXFnTWRpcnU3UmROaEZBWjRlYWtGZ1J5R095SExzemVNbHR5SjJFOTQ0MWJyUWxrUW03VElrSmhPTkhUUERmU2htT1IxbzhpVlFXQzZuMFhVZllXdFhyRzhpZHRER3NiOGR5Q3U0TDVqNEVnbVpxVXFBcFVMcVp0STdqaVdnZGJRUnNvdjhkdlV4UU1IZWZWNGh6bnVyaFAwcFJ1MlQwdGM5YVRuRGxXczVQenVGWHJwRjZmWVo3YWMzNEJzdUp4cU8wNmg3NDRyQnR2R3VaV2MxZnZXa1dqOFJnYjg0bFhlcGxDazQ2RURxZ1M0TDd1RGtsckk2RzhFWElnalFSQkV3d2kxOFJRNk5qbXY1VkFhdHJSMUYzdHlHWXVabVJZN3lobkg5dmFxRlh6TklPYUhEQWY4bmRBWTR3N3hXdnhzOExIZmY5YmNpMjl0Z0hhOVpPMHkxRFBtamFkRW9YVUQ3VnM5ek9KRnhGYXZGS1hpSFQ1NHJDVEpoOWtYMGNweldOZm4xMlFSUzIyQzNkcGVvaG5maElmTEhDYzdFSDZnTlBqWVA1b0RScFpCQU9ZTXg5ZW9GU2Y1Rkd2RGVZejA5Y2w4MHFhZ0FjT2ZpNGIwQlI5MmRZamhFa2RXZjlXSFFocW92dk9lRG5kc1dPa2JiUUJ5MjRSZkxvTXBYQnliTTJtWkFnbzJGUUF4TW14UnJqTEpXWGJpRkJKSDRzZ1pqeXBuQTZqR0k1Njd1ZlQ0NFd0Z3hoZ2dGNXZIdzZXWlR1ZTNaeXBZcDB5YkpQNlNyNzdXTGxzUkJqZTRMQ1c0bENpdDN3NG5uTG1tandhZk01UnFrZ1lKRWsxc1FoQ2xYcXdjdmNEWk9WZEw="
m_p: "U716jAhAIz7B03WQCxJVUi81J4W56ErvIl0oAg3FFox19KnWU7UB13g9t3Tx7cc4"
e_t: "1614190242941"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0.16"
  vouBalance: "0"
  vouList {
    id: 64234468
    type: 2
    minCousume: 908
    vouCount: 907
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 13
}
userinfo {
  username: "156******06"
}

2021-02-23 20:10:40,471-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:10:40,471-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "12.0"
  t_p: "f07bc7180ca449049f2fdb6fa07be1e2"
  imei: ""
  model: "PDCM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "os0DV9u9"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: ""
  brandType: "OPPO"
  mobileos: "16"
  androidVersion: "29"
}
type: "wxpay"
amount: "4.01"
cardno: ""
cardpwd: ""
ext: ""
basepay {
  channelId: ""
  notifyurl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  productName: "RECHARGE_SPEND"
  productDesc: "RECHARGE_SPEND "
  partnercode: "2031"
  appversion: "208006"
  currencyName: "CNY"
  rate: 1.0
  partnerorder: "0Sz7taLiyfG9np8l5uWHTX6RYvekjcCJ"
}
sign: "cYxZ6oYiVpNOlY815nNAIZ6tPr73n0W6GfkkPsCm2jLg0YeR7N/3UQ46TetB2D/4+cLDkfTvDTVGcbjtKAUFcvr8BlBQrcZ3eBuXal8TsWvlTLapAlSzFjY6XDjqqXyT0/b5BEoK2N0GMv1voeTQujSS4e9wcH4s1cATYn4SRO290iEL3elBN77dAACf7OASM2SNFhE2Etngda8miPS9S2l2zO96wtTrH0U/eZr8tIaRDjrG4gu62rcPng7tfNNliBnMf82HJEa1iApdhtxSJYM8+R88mqxDV/lfHUgoH/qtD+oPdmn31bAYAt0Qs0snn0CgiB+kKClCGRkBR+os+Q=="
ip: "183.238.170.71"
expendRequest {
  header {
    version: "12.0"
    t_p: "f07bc7180ca449049f2fdb6fa07be1e2"
    imei: ""
    model: "PDCM00"
    apntype: "1"
    package: "com.example.pay_demo"
    r_v: "os0DV9u9"
    ext: ""
    sdkVer: 260
    country: "CN"
    currency: "CNY"
    openId: ""
    brandType: "OPPO"
    mobileos: "16"
    androidVersion: "29"
  }
  price: 1324
  count: 1
  productname: "RECHARGE_SPEND!=AMOUNT"
  productdesc: "RECHARGE_SPEND!=AMOUNT"
  partnerid: "2031"
  callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
  partnerOrder: "0Sz7taLiyfG9np8l5uWHTX6RYvekjcCJ"
  channelId: "demo"
  ver: "208006"
  source: "auto_test"
  attach: ""
  sign: "LcBpz0jSkZl0ClZ16w+RviBp/eK4FBSAMN9m/5AumNoVwDn8u4VctqiWSKetRyuQG149ZLfeNixTpXk5eTFhijeabeRRa+DNHQXQne1DTxXrlRRJPzv/QqQPTRsIAI62Klpmo+AS1v9YsCE+cAazWU2U/8D+UfIQCa5Yo5W0nxU="
  appKey: "1234"
  voucherId: 64234468
  voucherType: 2
  voucherCount: 907
  factor: ""
}
isNeedExpend: "1"
appId: ""
payTypeRMBType: "0"
tradeType: "common"
screenInfo: "FULL"

2021-02-23 20:10:40,899-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "{\"appid\":\"wx93eea96ecc33f168\",\"noncestr\":\"4cdd242066d0488c9e1af754c96a4e50\",\"packageNm\":\"Sign=WXPay\",\"partnerid\":\"1603465160\",\"prepayid\":\"wx232010433416716a2f6cbf135912c30000\",\"sign\":\"8F7205BB3E3C582875CC5A5662B8CDB3\",\"timestamp\":\"1614082243\"}"
}
payrequestid: "KB202102232010432076075925046782"
model: ""

2021-02-23 20:10:40,899-INFO-wxpay-scarlet-51-回调参数：<xml><transaction_id><![CDATA[4507255917427620555567641501]]></transaction_id>
<nonce_str><![CDATA[PbXQ7iJDrOzo8FW2ARK1yZV4UjpacM9G]]></nonce_str>
<bank_type><![CDATA[OTHERS]]></bank_type>
<openid><![CDATA[oCg6Xt8NvRi7jGuap_5B6XdY4oYk]]></openid>
<sign><![CDATA[527F4C6F83EDE334BF3E285E857FAAB2]]></sign>
<fee_type><![CDATA[CNY]]></fee_type>
<mch_id><![CDATA[1603465160]]></mch_id>
<cash_fee><![CDATA[1]]></cash_fee>
<out_trade_no><![CDATA[KB202102232010432076075925046782]]></out_trade_no>
<appid><![CDATA[wx93eea96ecc33f168]]></appid>
<total_fee>401</total_fee>
<trade_type><![CDATA[APP]]></trade_type>
<result_code><![CDATA[SUCCESS]]></result_code>
<attach><![CDATA[TEST]]></attach>
<time_end><![CDATA[20210223201040]]></time_end>
<is_subscribe><![CDATA[N]]></is_subscribe>
<return_code><![CDATA[SUCCESS]]></return_code>
</xml>
2021-02-23 20:10:41,015-INFO-wxpay-scarlet-55-<xml><return_code>SUCCESS</return_code><return_msg>OK</return_msg></xml>
2021-02-23 20:10:41,015-INFO-wxpay-scarlet-57-回调解析成功
2021-02-23 20:10:41,023-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:10:41,023-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "98138304639831"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "rcqa3gis4G90etQbVXLpwYCSR7koZzhN"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 20:10:41,112-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "121c02df8244414ebcdbf7be19ef79ce"
s_p: "N0duVnpuVnJ6OEFidlNNZDFWZDhIM2gxdTVEcDVGdW5ieDAxZjFZOGpNc0lNaldZU0hJa093bnpRV3BObUZ0SUFHbjdTRTRIejlza0xXY1FOWnJscDNrRDA2WVgxYmlEV1FTMHhxOGxmRnZleWo2NW9UZHpNc1N6UjY5dlJUcktYekpYejNXZ29tTUZJR0RSaHo5MkFsb2ZuY3A2cXZDTEtvbnNVR2pnU1RYYjJwOFF6ME12ZXZDalN4YTEzUnJ2bVFxVWhZUzJIZlNQanlaYllXbkhCVXM4b0xJeWdTNGRIVmx1aU5HYXR3cUdldzZYaEdRU0ltd0ppd28yY2tlT0tFVHI2eWE2dzlyMkZOQ0xBRFFmQmZYWjBlcGdqblR5RkNVNTdKdFAwZndnQVJVMUFYdmdXcFdHVHJvWWtmcnpHMGhTbTlNM0xwbTV5YVFwVDl5ZWt2bHhYVzVWZHFISlJCVW9ZQzJJak8xeDVnTVZ0dEEwUXVscmc3MjZwWWdEZzAxb1M1TXZzdDZ4MTFsNEtoNWN0OFdvVmZvcXRCQ3poNndBNzdnNFNXbFliVzVQYXBHN1JlcVd5SnVGdUlQVmt2dkNjb0xYRm9sb25IMnBqcEh1VnIwNUdMV0k1NUd3Snk0Tk9RY2tCQVpjTXUzY3JDQkd4OThKbEFqZ255SDBVWTVZYWNNSnFKekgwMzNpQ2kzMHZIM0RWMlhOYklzTERiZ2c1ZzNaVzZGZ3gyNDdnR2VpZ3phUlFoNEl0YUN4V3VuSVg2N3hZcWFDaWk4VWpUVHdVa3JZSGZDYlNTS3hKRHhZQ0M4Ymczbmg5RDVWTEdrVmZiS2NrbTVSSWpvamdmSVlWR09KZDZNTnk3NFdOc2ZaTXJkVldqVG5FaldwZld4amFxc2Z3NE1wQWFjNmtMRVlZb3hTS005UDhiZGtQWVY0ZENZbHpCTkNJMkI3aThBZ2V0Y25jZ1NMQmRmb2NPZTBQUmRTMVBSVHg2TmJZb0J3enlNV05ZM3NibTlnNTBpZWNQRFpSRDZoQ09wTnVzeTV0bmJyT0pVQWhGZks="
m_p: "whAeO3Y63nTy8U4c1b9YL885KvPjRt33D3jzG3Me9Q9C0MNiZ8G5e95UZLn3m5d2"
e_t: "1614190243607"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "0"
  vouBalance: "0"
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 12
}
userinfo {
  username: "156******06"
}

2021-02-23 20:10:41,113-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:10:41,113-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "5.0"
  t_p: "121c02df8244414ebcdbf7be19ef79ce"
  imei: ""
  model: "PBDM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "mFtIAGn7"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
payrequestid: "KB202102232010432076075925046782"
version: "260"
queryType: "PAY"

2021-02-23 20:10:41,177-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "2002"
  msg: ""
}
successStatus: "1086"
origAmount: "4.01"

2021-02-23 20:10:43,177-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 20:10:43,177-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 20:10:43,181-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 20:10:43,181-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102232010432076075925046782"
2021-02-23 20:10:43,185-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 21513, 'pay_req_id': 'KB202102232010432076075925046782', 'notify_id': '4507255917427620555567641501', 'partner_order': '0Sz7taLiyfG9np8l5uWHTX6RYvekjcCJ', 'amount': 401, 'refund': 0, 'contents': 'RECHARGE_SPEND ', 'products_name': 'RECHARGE_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '58.252.5.72', 'mac': '', 'model': 'PDCM00', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'wxpay', 'direct_pay': 'KEBI', 'game_type': 'WANGYOU', 'present_amount': 0, 'original_amount': 1324, 'discount_info': '', 'extra': None, 'remark': 'new way', 'request_time': datetime.datetime(2021, 2, 23, 20, 10, 43), 'success_time': datetime.datetime(2021, 2, 23, 20, 10, 40), 'modify_time': datetime.datetime(2021, 2, 23, 20, 10, 44), 'trade_type': 'PAY', 'kebi_spent': 16, 'voucher_amount': 907, 'voucher_info': '{"cutAmount":"907","id":"64234468","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': 'OPPO', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'combine_order': 'N', 'voucher_id': '64234468', 'factor': ''}
2021-02-23 20:10:43,186-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-23 20:10:43,186-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102232010432076075925046782"
2021-02-23 20:10:43,190-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 11274, 'pay_req_id': 'KB202102232010432076075925046782', 'partner_order': '0Sz7taLiyfG9np8l5uWHTX6RYvekjcCJ', 'partner_code': '2031', 'products_name': 'RECHARGE_SPEND', 'ssoid': '2076075925', 'origin_amount': 1324, 'amount': 401, 'kb_amount': 16, 'voucher_amount': 907, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'wxpay', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': None, 'imei': '', 'imsi': '', 'imsi2': '1603465160', 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PDCM00', 'brand_type': 'OPPO', 'app_package': 'com.example.pay_demo', 'app_ver': '208006', 'sdk_ver': '260', 'mobile_os_ver': '16', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 20, 10, 43), 'success_time': datetime.datetime(2021, 2, 23, 20, 10, 44), 'modify_time': datetime.datetime(2021, 2, 23, 20, 10, 43)}
2021-02-23 20:10:43,190-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-23 20:10:43,191-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_recharge202102` WHERE ssoid = '2076075925' and rechargeOrder = "KB202102232010432076075925046782"
2021-02-23 20:10:43,194-INFO-lib.common.db_operation.mysql_operation-51-查询数据为空
2021-02-23 20:10:43,194-INFO-lib.common_biz.fiz_assert-70-tb_recharge订单详情：None
2021-02-23 20:10:43,194-INFO-lib.common_biz.fiz_assert-78-tb_recharge订单表信息记录正确
2021-02-23 20:10:43,194-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `virtual`.`tb_payment202102` WHERE ssoid = '2076075925' and partnerOrder = "0Sz7taLiyfG9np8l5uWHTX6RYvekjcCJ"
2021-02-23 20:10:43,198-INFO-lib.common_biz.fiz_assert-93-tb_payment订单详情：{'id': 32165, 'ssoid': '2076075925', 'imei': '', 'model': 'PDCM00', 'sdkVersion': '260', 'clientIp': '58.252.5.72', 'source': None, 'systemOrder': '2031_0Sz7taLiyfG9np8l5uWHTX6RYvekjcCJ', 'partnerOrder': '0Sz7taLiyfG9np8l5uWHTX6RYvekjcCJ', 'partnerId': '2031', 'productName': 'RECHARGE_SPEND', 'productDesc': 'RECHARGE_SPEND', 'callbackUrl': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'price': 16, 'count': 1, 'r_cost': 16, 'g_cost': 0, 'appPackage': 'com.example.pay_demo', 'status': 'OK', 'payTime': datetime.datetime(2021, 2, 23, 20, 10, 44), 'updateTime': datetime.datetime(2021, 2, 23, 20, 10, 43)}
2021-02-23 20:10:43,198-INFO-lib.common_biz.fiz_assert-101-tb_payment订单表信息记录正确
2021-02-23 20:10:43,199-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "0Sz7taLiyfG9np8l5uWHTX6RYvekjcCJ"
2021-02-23 20:10:43,202-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 140951, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': 'd618b48885d943ac94ba8737693fd9ba', 'request_id': '0Sz7taLiyfG9np8l5uWHTX6RYvekjcCJ', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210223\\",\\"kbVou\\":{\\"kbVouAmount\\":907,\\"notClearCount\\":907,\\"orderAmt\\":1324,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"64234468:907;\\"},\\"kbVouAmount\\":907,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"0Sz7taLiyfG9np8l5uWHTX6RYvekjcCJ\\",\\"paySuccessTime\\":\\"2021-02-23 20:10:43\\",\\"price\\":1324,\\"productDesc\\":\\"RECHARGE_SPEND\\",\\"productName\\":\\"RECHARGE_SPEND\\",\\"sign\\":\\"K5gwwA5uo6UHNghqDQHVuA2x1E2jji0uv7OzgvysIAjPjGP80gvqpt67JgZIgjF8Ejf9zpIsBMTI9ygzo/VmHaiYuLd1pwJTw3wJ52ZyaBGiHjct9gjmIjtEdCcwm9O9AbgV2InkXVgAbYJak3UtAi6PII7PURjY8ebBBtSPfXY=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://secure.pay-test3.wanyol.com/notify/receiver","requestId":"0Sz7taLiyfG9np8l5uWHTX6RYvekjcCJ","sign":"24E2D2170C792EC124F1BA9988735BDE","signType":"MD5","successResult":"OK","timeStamp":1614082243575,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 20, 10, 44), 'insert_time': datetime.datetime(2021, 2, 23, 20, 10, 44), 'update_time': datetime.datetime(2021, 2, 23, 20, 10, 44), 'extra_json': None, 'remark': None}
2021-02-23 20:10:43,202-INFO-lib.common_biz.fiz_assert-118-通知成功
2021-02-23 20:10:43,203-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='64234468'
2021-02-23 20:10:43,206-INFO-lib.common_biz.fiz_assert-169-优惠券表记录正确
2021-02-23 20:12:16,167-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.52.46.169', 'user': 'opay', 'pwd': 'opay_test@2020', 'port': '33066'}
2021-02-23 20:12:16,441-INFO-lib.common.db_operation.mysql_operation-98-成功连接到测试环境3-MYSQL：{'host': '10.3.1.240', 'user': 'opay', 'pwd': 'opay_test@2019', 'port': '3306'}
2021-02-23 20:12:16,480-INFO-lib.common.db_operation.redis_operation-33-连接redis集群[{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]成功
2021-02-23 20:12:16,481-INFO-lib.common.db_operation.redis_operation-74-connection list: [{'host': '10.177.85.103', 'port': '6379', 'name': '10.177.85.103:6379'}, {'host': '10.177.85.98', 'port': '6379', 'name': '10.177.85.98:6379'}, {'host': '10.177.85.100', 'port': '6379', 'name': '10.177.85.100:6379'}]
2021-02-23 20:12:16,824-INFO-lib.common_biz.find_database_table-49-`pay_cocoin_2`.`pay_user_info_75`
2021-02-23 20:12:16,825-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select balance from `pay_cocoin_2`.`pay_user_info_75` where ssoid = "2076075925"
2021-02-23 20:12:16,828-INFO-fiz_db_operate-26-可币余额：0.0000
2021-02-23 20:12:16,842-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke NearmeAccountOperate.addSubtractOperate({'amountMoney': '4.96', 'batchId': '52297479108382592766527602404510', 'bizNo': 'TyVUbfGWaEcI8xliCgNPLMY10QkevqBD', 'operateType': 'PRESENT', 'requestId': '31444178348718541760925019376292', 'source': 'test', 'ssoid': '2076075925', 'timeStamp': 1614082336839})
2021-02-23 20:12:16,864-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'ssoid': '2076075925', 'timeStamp': 0, 'amount': 4.96, 'success': True, 'appId': None, 'sign': None, 'signType': None, 'failReason': None, 'remark': None, 'extraJson': None, 'accountOperateType': 'PRESENT'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:12:16,878-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.CouponBatchGrant.batchGrant({'couponName': 'anto_grant1614082336874', 'useableFromTime': '2020-01-01 00:00:00', 'useableEndTime': '2022-12-31 00:00:00', 'settleType': '1', 'bizNo': '2031', 'scopeId': '7104f7bc23e445daba913a5a96a264ac', 'blackScopeId': '', 'subScopeId': '', 'couponType': 'KB_COUPON', 'couponDiscountType': 'DIKOU', 'conditionAmount': 3.8099999999999996, 'cutAmount': 3.8, 'ratio': 0, 'maxCutAmount': '0', 'applyCount': '1', 'ssoidList': ['2076075925'], 'batchId': ''})
2021-02-23 20:12:16,896-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {'batchVouCreateResList': [{'ssoid': '2076075925', 'vouId': '64234469'}], 'vouIdList': None, 'batchId': 'c83e0ad3a4364159b24e98efd6782bd1'}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:12:16,909-INFO-lib.common.session.dubbo.dubbo-48-dubbo传参：invoke com.oppo.voucher.api.admin.CouponBatchInfoAdmin.operate({'couponBatchId': 'c83e0ad3a4364159b24e98efd6782bd1', 'batchOperateType': 'PASS'})
2021-02-23 20:12:21,936-INFO-lib.common.session.dubbo.dubbo-53-dubbo回参：{'data': {}, 'success': True, 'errorDetail': '成功', 'resCode': '000000', 'resMsg': '成功'}
2021-02-23 20:12:21,945-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:12:21,945-INFO-lib.common.session.http.protobuf-41-传入的参数：token: "TOKEN_eyJhbGciOiJFQ0RTQSIsInYiOiIxIn0.eyJleHAiOjE2MTI0MzIzNTkxNzUsImlkIjoiMjA3NjA3NTkyNSIsImlkYyI6InNob3VtaW5nIiwidGlkIjoiNzZTc0Q3QnI5RzVNTTJ6ckVYYlFxM3hJcHBlcE1UUEV0Uk96K2llVHZQQ05EdEN6OWs2ZGQrcEx6ejM3U2haTHFLUlgvNDgxVm4wTlBnMHRsRTBoekt0UWlkOTU4Y1paT3JjWFVaaWdCbGc9In0.MEQCIDNerQ91ofjYoUWHcxjmBpIwDBFkoANGJahYcnZLFr3OAiAYXRHenkKELTRtELmqHC0KEG5WiDIP86ORppeeUp1gcA"
partner: "2031"
package: "com.example.pay_demo"
ext: ""
version: "11.0"
appKey: "1234"
count: 10000
order: "45276845511661"
ip: "121.13.218.236"
type: "0"
sdkVer: "20602"
amount: "100000.0"
gameSdkVer: 0
partnerOrder: "aIotDTuxqHdi3Ah4SBbjLgkOzRfsKr8n"
notifyUrl: "http://pay.pay-test.wanyol.com/notify/notify/receiver"
country: "CN"

2021-02-23 20:12:22,043-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: "success"
}
t_p: "435b216707ae41a29d0db0c57f809fc2"
s_p: "UkIxU2NZWGxobTJCcnR5aEZwYTFZUTF6QlBXQVpyTXRXNHVSdjh2ZENhVjlka0Y4RzdOOTZoUFhZWmI3SjFDcG50Vk1wdHhoTE5vYnlOQ0l4dFZKYzRNaHA5RXFteFE2c3N1S1JuTFBBN3k2RDRkbExjbE1VV21iUE5UWkRvbnNRd2pWUUpwMXk3ODUySHVRVVM3TGtyUkw2V2RSZmVRRWcxdjQ4MWgxMEh2TDdveWxqYjRsNTk5NVhkWTl6UnBmV09XSTYwSko4dGJIWmpUd1VhWDJqVE9sb3UwSVRkSFJDQmdvRXBtTFppRmZZR1poM3dzNzI2akRSZUtWa3hZMnVaeGxTNGFYWHZqRUdNcWFjSnltU001cFYzZER1b0Q4dFg5czYzN1pjMGlOWDVuMXA0YTlUVEVpOGRSRDdjc1ZzbnV5azhNSzI4Sm4xZG1pU3VRN0FnRjkxZzlLR29wMVpLdVVqd2JEVm1FbUFDQlJ1RkhLbFZyMGdxNER0NmpLVzR4amZJa0tjQ2g5bDd4aThESTIwU0JhcUJyd2R3R2RtWFI3c0d1WVJCcU9tejJ2WW5aVXh3UkxvRTU5elBVTkJHNlo4NjNQMUxEOERRQ2xFR3ZwZWtOT2tuSTNMS2pBQUdXeDcwRG4zNE1XS2h1MnhtRGNaMnBmWGRTS0ZEQWpjV3JLRURoTEVDRk5IcXlOTFV6R0ZBYzdNUm90OGVldFJLdGExZWIxUFJxZ1IxZXFieTRFNlpEUXVkMU5XV2FHcUFnMmVEeGVrMXJ3U0JmS2tLakxVZ2ZNY21HRUZQeWoxMXZjTml3Nm1IMHVVNWhmaWE4Z1ByY0RXM3VweFpCazhVUUVlb1NaeVU5cVA5QUN3TWVtNWNwcjk2WmFTUk10OUdUN1VvdjlmYklKem5jb3FNVWhqUjUyN1hBb01NUEF5Vkx3RHFxd2FpZ0JDcUNuNEF2T2o3MG93WHZzanNpaktWVFFlcVhJaDFoRnpTSHJOcUtqalQybmdiMUhJQlJZUnR1bThXZUUzNGR2WTcyS0FldHpuWHBmTnpYa0RJYUI="
m_p: "a2sMdc3I0Yz2M3zuVVDVDnnqIiZDlY8odQp8CPo61Sej3Z2TKnu041G693500SU9"
e_t: "1614190344540"
balanceResult {
  baseresult {
    code: "0000"
    msg: "success"
  }
  balance: "4.96"
  vouBalance: "0"
  vouList {
    id: 64234469
    type: 2
    minCousume: 381
    vouCount: 380
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234458
    type: 2
    minCousume: 100
    vouCount: 55
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234457
    type: 2
    minCousume: 100
    vouCount: 63
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234455
    type: 2
    minCousume: 100
    vouCount: 81
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234454
    type: 2
    minCousume: 100
    vouCount: 27
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234453
    type: 2
    minCousume: 100
    vouCount: 36
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234452
    type: 2
    minCousume: 100
    vouCount: 4
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234450
    type: 2
    minCousume: 100
    vouCount: 21
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234448
    type: 2
    minCousume: 100
    vouCount: 94
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234447
    type: 2
    minCousume: 100
    vouCount: 43
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234430
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234429
    type: 2
    minCousume: 100
    vouCount: 99
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouList {
    id: 64234428
    type: 2
    minCousume: 1000
    vouCount: 999
    discount: 0
    maxConsume: 0
    usableAmt: 0
    usable: 1
  }
  vouNum: 13
}
userinfo {
  username: "156******06"
}

2021-02-23 20:12:22,065-DEBUG-lib.common.session.http.protobuf-40-需加入随机字节，标志位：0
2021-02-23 20:12:22,065-INFO-lib.common.session.http.protobuf-41-传入的参数：header {
  version: "6.0"
  t_p: "435b216707ae41a29d0db0c57f809fc2"
  imei: ""
  model: "PCRM00"
  apntype: "1"
  package: "com.example.pay_demo"
  r_v: "N96hPXYZ"
  ext: ""
  sdkVer: 260
  country: "CN"
  currency: "CNY"
  openId: "42E1F48352C04B80910A7BBB7FDDE8022d5334806a8d9b083e64c9324c08c040"
  brandType: "OPPO"
  mobileos: "17"
  androidVersion: "29"
}
price: 876
count: 1
productname: "KB_AND_VOU_SPEND"
productdesc: "KB_AND_VOU_SPEND"
partnerid: "2031"
callBackUrl: "http://secure.pay-test3.wanyol.com/notify/receiver"
partnerOrder: "PtpMC2SYuRXfjneAHUq7bNJ5wcO03rk1"
channelId: ""
ver: "1.1.0"
source: "PaySDK"
attach: ""
sign: "GaPHfS5new6MQmoVO6BIYoOTj4vECKDVc931/oxAzv04BR/W1a2hIc6ANwAggiqS4+UORBQ7mk2LcC27DCqnZVO68CArqorFIOfbOjk3+eiF6c66Q3h25LsoP5uv+ZUQXHyfNwbJzkLJMPxMXAdHpz3r8Xqcou1v4Xylw47wpOg="
appKey: "1234"
voucherId: 64234469
voucherType: 2
voucherCount: 380
order: "1665917679363"
ip: "120.197.152.211"
factor: ""
screenInfo: "FULL"

2021-02-23 20:12:22,254-INFO-lib.common.session.http.protobuf-58-返回的参数baseresult {
  code: "0000"
  msg: ""
}
rpay: "0"
gpay: "0"

2021-02-23 20:12:22,255-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT pay_req_id FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and partner_order = "PtpMC2SYuRXfjneAHUq7bNJ5wcO03rk1"
2021-02-23 20:12:22,258-INFO-fiz_db_operate-38-查询到partnerOrder：PtpMC2SYuRXfjneAHUq7bNJ5wcO03rk1， 对应支付订单号：{'pay_req_id': 'KB202102232012242076075925334072'}
2021-02-23 20:12:22,259-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `db_order_4`.`order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102232012242076075925334072"
2021-02-23 20:12:22,264-INFO-lib.common_biz.fiz_assert-26-订单详情：{'id': 21514, 'pay_req_id': 'KB202102232012242076075925334072', 'notify_id': None, 'partner_order': 'PtpMC2SYuRXfjneAHUq7bNJ5wcO03rk1', 'amount': 0, 'refund': 0, 'contents': 'KB_AND_VOU_SPEND', 'products_name': 'KB_AND_VOU_SPEND', 'counts': 1, 'ssoid': '2076075925', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.252.5.72', 'mac': '', 'model': 'PCRM00', 'app_package': 'com.example.pay_demo', 'app_ver': '', 'sdk_ver': '', 'partner_code': '2031', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'status': 'OK', 'channel_id': '', 'channel_type': 'NATIVE', 'pay_type': 'KEBI', 'direct_pay': 'KEBI', 'game_type': None, 'present_amount': 0, 'original_amount': 876, 'discount_info': '', 'extra': None, 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 20, 12, 24), 'success_time': None, 'modify_time': datetime.datetime(2021, 2, 23, 20, 12, 25), 'trade_type': 'PAY', 'kebi_spent': 496, 'voucher_amount': 380, 'voucher_info': '{"cutAmount":"380","id":"64234469","type":"2"}', 'country_code': 'CN', 'currency': 'CNY', 'openid': None, 'brand_type': None, 'mobile_os_ver': None, 'platform': '', 'screen_info': 'FULL', 'combine_order': None, 'voucher_id': '64234469', 'factor': ''}
2021-02-23 20:12:22,264-INFO-lib.common_biz.fiz_assert-35-订单表信息记录正确
2021-02-23 20:12:22,264-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：SELECT * FROM `pay_tradeorder_4`.`trade_order_info_75` WHERE ssoid = "2076075925" and pay_req_id = "KB202102232012242076075925334072"
2021-02-23 20:12:22,268-INFO-lib.common_biz.fiz_assert-46-trade订单详情：{'id': 11275, 'pay_req_id': 'KB202102232012242076075925334072', 'partner_order': 'PtpMC2SYuRXfjneAHUq7bNJ5wcO03rk1', 'partner_code': '2031', 'products_name': 'KB_AND_VOU_SPEND', 'ssoid': '2076075925', 'origin_amount': 876, 'amount': 0, 'kb_amount': 496, 'voucher_amount': 380, 'present_amount': 0, 'refund': 0, 'country_code': 'CN', 'currency': 'CNY', 'pay_type': 'KEBI', 'channel_id': '', 'channel_type': 'NATIVE', 'direct_pay': 'KEBI', 'trade_type': 'PAY', 'combine_type': 'PRIMARY', 'status': 'OK', 'notify_url': 'http://secure.pay-test3.wanyol.com/notify/receiver', 'attach': '', 'extra_info': '', 'mobile_num': '', 'imei': '', 'imsi': '', 'imsi2': None, 'ip': '58.252.5.72', 'mac': '', 'openid': None, 'model': 'PCRM00', 'brand_type': None, 'app_package': 'com.example.pay_demo', 'app_ver': '', 'sdk_ver': '', 'mobile_os_ver': '', 'platform': '', 'screen_info': 'FULL', 'remark': None, 'request_time': datetime.datetime(2021, 2, 23, 20, 12, 25), 'success_time': datetime.datetime(2021, 2, 23, 20, 12, 25), 'modify_time': datetime.datetime(2021, 2, 23, 20, 12, 24)}
2021-02-23 20:12:22,268-INFO-lib.common_biz.fiz_assert-54-trade订单表信息记录正确
2021-02-23 20:12:22,269-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select * from `db_pay_notify_1`.`notify_info` where request_id = "PtpMC2SYuRXfjneAHUq7bNJ5wcO03rk1"
2021-02-23 20:12:22,273-INFO-lib.common_biz.fiz_assert-113-通知表信息详情：{'id': 140954, 'app_id': 10001, 'app_name': '可币系统(测试环境)', 'app_sub_id': '2031', 'notify_id': 'ad2c0fce962a4691bcc964bfdd6f7266', 'request_id': 'PtpMC2SYuRXfjneAHUq7bNJ5wcO03rk1', 'notify_protocol': 'HTTP', 'notity_detail': '{"appId":10001,"appSubId":"2031","httpReqType":"POST","reqContent":"{\\"attach\\":\\"\\",\\"count\\":1,\\"date\\":\\"20210223\\",\\"kbVou\\":{\\"kbVouAmount\\":380,\\"notClearCount\\":380,\\"orderAmt\\":876,\\"payVouDesc\\":\\"\\",\\"spendType\\":2,\\"vouCountDetail\\":\\"64234469:380;\\"},\\"kbVouAmount\\":380,\\"partnerId\\":\\"2031\\",\\"partnerOrder\\":\\"PtpMC2SYuRXfjneAHUq7bNJ5wcO03rk1\\",\\"paySuccessTime\\":\\"2021-02-23 20:12:24\\",\\"price\\":876,\\"productDesc\\":\\"KB_AND_VOU_SPEND\\",\\"productName\\":\\"KB_AND_VOU_SPEND\\",\\"sign\\":\\"IlV8/YfGC/qjP04xTvpsTDzZ7Axyr79m4xm95TvBvI2PPm0dQ4x35A3O9ETdFMT0jnqagZ5++fIWblTcbY7XtkrR9l0Gp9JLYaHQlItXgCpg9U/BbufxPIkq7l0mrrpXQFtyeLOgISjFn6YnrKh6PMxiCGQJhWKksoXMS3r6tPg=\\",\\"spendType\\":2,\\"ssoid\\":\\"2076075925\\"}","reqUrl":"http://secure.pay-test3.wanyol.com/notify/receiver","requestId":"PtpMC2SYuRXfjneAHUq7bNJ5wcO03rk1","sign":"7A39B414D2AD1649826D3B1EE289B082","signType":"MD5","successResult":"OK","timeStamp":1614082344765,"version":"1.0"}', 'notify_count': 1, 'notify_response': 'OK', 'notify_handler': 'httpNotifyJsonHandler', 'fail_strategy': 'failStrategyHashImpl', 'status': 'SUCCESS', 'success_time': datetime.datetime(2021, 2, 23, 20, 12, 25), 'insert_time': datetime.datetime(2021, 2, 23, 20, 12, 25), 'update_time': datetime.datetime(2021, 2, 23, 20, 12, 25), 'extra_json': None, 'remark': None}
2021-02-23 20:12:22,273-INFO-lib.common_biz.fiz_assert-118-通知成功
2021-02-23 20:12:22,273-INFO-lib.common.db_operation.mysql_operation-47-执行sql语句：select status, usable_amt from `oppopay_voucher`.`vou_info_16` where vouId='64234469'
2021-02-23 20:12:22,276-INFO-lib.common_biz.fiz_assert-166-优惠券详情：{'status': '6', 'usable_amt': None}
2021-02-23 20:12:22,276-INFO-lib.common_biz.fiz_assert-170-优惠券表记录正确
